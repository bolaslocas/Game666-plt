 
 (function(){AES=function(){var l=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],y=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],s=[0,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648,452984832,905969664];function r(r){for(var n=new Array(256),e=0;e<256;e++)n[e]=255&function(r,n){for(var e,t=0;r;)1&r&&(t^=n),e=128&n,n<<=1,e&&(n^=27),r>>=1;return t}(r,e);return n}var v=r(2),U=r(3),A=r(9),w=r(11),b=r(13),p=r(14);function c(r){return l[r>>>24]<<24|l[r>>>16&255]<<16|l[r>>>8&255]<<8|l[255&r]}function _(r){return r>>>24|(16711680&r)>>>8|(65280&r)<<8|(255&r)<<24}var f=1==new Uint8Array(new Uint32Array([1]).buffer)[0];return{block_size_bytes:16,block_size_words:4,endian_swap32:_,is_little_endian:f,key_expansion:function(r){for(var n=new Uint8Array(r),e=n.length/4,t=6+e,i=new Uint32Array(4*(1+t)),a=0;a<e;a++)i[a]=n[4*a]<<24|n[4*a+1]<<16|n[4*a+2]<<8|n[4*a+3];for(a=e;a<4*(1+t);a++){var o=i[a-1];a%e==0?o=c(o>>>24|o<<8)^s[a/e]:6<e&&a%e==4&&(o=c(o)),i[a]=i[a-e]^o}if(f)for(a=0;a<i.length;a++)i[a]=_(i[a]);return i},cipher:function(r,n){for(var e,t,i,a,o,s,c,_,f=4*(n.length/4-1),u=(r[0]^n[0])>>>0,y=(r[1]^n[1])>>>0,A=(r[2]^n[2])>>>0,w=(r[3]^n[3])>>>0,b=4;b<f;b+=4)t=y,i=A,a=w,o=l[255&(e=u)]>>>0,s=l[t>>>8&255]>>>0,c=l[i>>>16&255]>>>0,_=l[a>>>24]>>>0,u=((v[o]^U[s]^c^_|(o^v[s]^U[c]^_)<<8|(o^s^v[c]^U[_])<<16|(U[o]^s^c^v[_])<<24)^n[b])>>>0,o=l[255&t]>>>0,s=l[i>>>8&255]>>>0,c=l[a>>>16&255]>>>0,_=l[e>>>24]>>>0,y=((v[o]^U[s]^c^_|(o^v[s]^U[c]^_)<<8|(o^s^v[c]^U[_])<<16|(U[o]^s^c^v[_])<<24)^n[b+1])>>>0,o=l[255&i]>>>0,s=l[a>>>8&255]>>>0,c=l[e>>>16&255]>>>0,_=l[t>>>24]>>>0,A=((v[o]^U[s]^c^_|(o^v[s]^U[c]^_)<<8|(o^s^v[c]^U[_])<<16|(U[o]^s^c^v[_])<<24)^n[b+2])>>>0,o=l[255&a]>>>0,s=l[e>>>8&255]>>>0,c=l[t>>>16&255]>>>0,_=l[i>>>24]>>>0,w=((v[o]^U[s]^c^_|(o^v[s]^U[c]^_)<<8|(o^s^v[c]^U[_])<<16|(U[o]^s^c^v[_])<<24)^n[b+3])>>>0;r[0]=n[f]^(l[255&u]|l[y>>>8&255]<<8|l[A>>>16&255]<<16|l[w>>>24]<<24),r[1]=n[1+f]^(l[255&y]|l[A>>>8&255]<<8|l[w>>>16&255]<<16|l[u>>>24]<<24),r[2]=n[2+f]^(l[255&A]|l[w>>>8&255]<<8|l[u>>>16&255]<<16|l[y>>>24]<<24),r[3]=n[3+f]^(l[255&w]|l[u>>>8&255]<<8|l[y>>>16&255]<<16|l[A>>>24]<<24)},inv_cipher:function(r,n){for(var e,t,i,a,o=4*(n.length/4-1),s=(r[0]^n[o])>>>0,c=(r[1]^n[1+o])>>>0,_=(r[2]^n[2+o])>>>0,f=(r[3]^n[3+o])>>>0,u=o-4;0<u;u-=4)t=c,i=_,a=f,s=((y[255&(e=s)]|y[a>>>8&255]<<8|y[i>>>16&255]<<16|y[t>>>24]<<24)^n[u])>>>0,c=((y[255&t]|y[e>>>8&255]<<8|y[a>>>16&255]<<16|y[i>>>24]<<24)^n[u+1])>>>0,_=((y[255&i]|y[t>>>8&255]<<8|y[e>>>16&255]<<16|y[a>>>24]<<24)^n[u+2])>>>0,f=((y[255&a]|y[i>>>8&255]<<8|y[t>>>16&255]<<16|y[e>>>24]<<24)^n[u+3])>>>0,s=(p[e=255&s]^w[t=(s>>>8&255)>>>0]^b[i=(s>>>16&255)>>>0]^A[a=s>>>24]|(A[e]^p[t]^w[i]^b[a])<<8|(b[e]^A[t]^p[i]^w[a])<<16|(w[e]^b[t]^A[i]^p[a])<<24)>>>0,c=(p[e=(255&c)>>>0]^w[t=(c>>>8&255)>>>0]^b[i=(c>>>16&255)>>>0]^A[a=c>>>24]|(A[e]^p[t]^w[i]^b[a])<<8|(b[e]^A[t]^p[i]^w[a])<<16|(w[e]^b[t]^A[i]^p[a])<<24)>>>0,_=(p[e=(255&_)>>>0]^w[t=(_>>>8&255)>>>0]^b[i=(_>>>16&255)>>>0]^A[a=_>>>24]|(A[e]^p[t]^w[i]^b[a])<<8|(b[e]^A[t]^p[i]^w[a])<<16|(w[e]^b[t]^A[i]^p[a])<<24)>>>0,f=(p[e=(255&f)>>>0]^w[t=(f>>>8&255)>>>0]^b[i=(f>>>16&255)>>>0]^A[a=f>>>24]|(A[e]^p[t]^w[i]^b[a])<<8|(b[e]^A[t]^p[i]^w[a])<<16|(w[e]^b[t]^A[i]^p[a])<<24)>>>0;r[0]=n[0]^(y[255&s]|y[f>>>8&255]<<8|y[_>>>16&255]<<16|y[c>>>24]<<24),r[1]=n[1]^(y[255&c]|y[s>>>8&255]<<8|y[f>>>16&255]<<16|y[_>>>24]<<24),r[2]=n[2]^(y[255&_]|y[c>>>8&255]<<8|y[s>>>16&255]<<16|y[f>>>24]<<24),r[3]=n[3]^(y[255&f]|y[_>>>8&255]<<8|y[c>>>16&255]<<16|y[s>>>24]<<24)}}}();var Crypto2=function(){function t(r){for(var n=16-r%16,e=new Uint8Array(n),t=0;t<n;t++)e[t]=n;return e.buffer}function i(r){var r=new Uint8Array(r);return 0==r.length||r.length<(r=r[r.length-1])||16<r?0:r}return{encrypt_aes_cbc:function(r,n,e){var t=new Uint32Array(r),i=new Uint32Array(t.length),a=new Uint32Array(AES.block_size_words),o=new Uint32Array(AES.block_size_words),s=AES.key_expansion(n);o.set(new Uint32Array(e));for(var c=0;c<t.length;c+=AES.block_size_words){a[0]=t[c+0],a[1]=t[c+1],a[2]=t[c+2],a[3]=t[c+3];for(var _=0;_<AES.block_size_words;_++)a[_]^=o[_];AES.cipher(a,s),i.set(a,c),o.set(a)}return i.buffer},decrypt_aes_cbc:function(r,n,e){var t=new Uint32Array(r),i=new Uint32Array(t.length),a=new Uint32Array(AES.block_size_words),o=new Uint32Array(AES.block_size_words),s=new Uint32Array(AES.block_size_words),c=AES.key_expansion(n);s.set(new Uint32Array(e));for(var _=0;_<t.length;_+=AES.block_size_words){o[0]=t[_+0],o[1]=t[_+1],o[2]=t[_+2],o[3]=t[_+3],a.set(o),AES.inv_cipher(a,c);for(var f=0;f<AES.block_size_words;f++)a[f]^=s[f];i.set(a,_),s.set(o)}return i.buffer},pkcs_pad_buffer_to_append:t,pkcs_pad:function(r){var n=t(r.byteLength),e=new Uint8Array(r.byteLength+n.byteLength);return e.set(new Uint8Array(r),0),e.set(new Uint8Array(n),r.byteLength),e.buffer},pkcs_pad_byte_count:i,pkcs_unpad:function(r){var n,e=r.byteLength-i(r);return r.slice?r.slice(0,e):(r=new Uint8Array(r),(n=new Uint8Array(e)).set(r.subarray(0,e)),n.buffer)}}}(); 
 !function(t,e){"object"==typeof exports?module.exports=exports=e():"function"==typeof define&&define.amd?define([],e):t.CryptoJS=e()}(this,function(){var P,W,O,l,t,I,U,K,X,L,j,N,T,q,Z,V,G,J,$,Q,Y,t1,e,r1,i1,n1,o1,n,s,c,o,a,h,f,s1,c1,a1,h1,r,l1,d,f1,d1,u1,i=function(h){var i;if(!(i=!(i=!(i="undefined"!=typeof window&&window.crypto?window.crypto:i)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:i)&&"undefined"!=typeof global&&global.crypto?global.crypto:i)&&"function"==typeof require)try{i=require("crypto")}catch(i){}var r=Object.create||function(t){return e.prototype=t,t=new e,e.prototype=null,t};function e(){}var t={},n=t.lib={},o=n.Base={extend:function(t){var e=r(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=n.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,i=this.sigBytes,n=t.sigBytes;if(this.clamp(),i%4)for(var o=0;o<n;o++){var s=r[o>>>2]>>>24-o%4*8&255;e[i+o>>>2]|=s<<24-(i+o)%4*8}else for(o=0;o<n;o+=4)e[i+o>>>2]=r[o>>>2];return this.sigBytes+=n,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=h.ceil(e/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new l.init(e,t)}}),s=t.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],n=0;n<r;n++){var o=e[n>>>2]>>>24-n%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i+=2)r[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new l.init(r,e/2)}},a=s.Latin1={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],n=0;n<r;n++){var o=e[n>>>2]>>>24-n%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new l.init(r,e)}},f=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},d=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=f.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e,r=this._data,i=r.words,n=r.sigBytes,o=this.blockSize,s=n/(4*o),c=(t?h.ceil(s):h.max((0|s)-this._minBufferSize,0))*o,t=h.min(4*c,n);if(c){for(var a=0;a<c;a+=o)this._doProcessBlock(i,a);e=i.splice(0,c),r.sigBytes-=t}return new l.init(e,t)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),u=(n.Hasher=d.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(r){return function(t,e){return new r.init(e).finalize(t)}},_createHmacHelper:function(r){return function(t,e){return new u.HMAC.init(r,e).finalize(t)}}}),t.algo={});return t}(Math);function p1(t,e,r){return t&e|~t&r}function _1(t,e,r){return t&r|e&~r}function y1(t,e){return t<<e|t>>>32-e}function g1(t,e,r,i){var n,o=this._iv;o?(n=o.slice(0),this._iv=void 0):n=this._prevBlock,i.encryptBlock(n,0);for(var s=0;s<r;s++)t[e+s]^=n[s]}function v1(t){var e,r,i;return 255==(t>>24&255)?(r=t>>8&255,i=255&t,255===(e=t>>16&255)?(e=0,255===r?(r=0,255===i?i=0:++i):++r):++e,t=0,t=(t+=e<<16)+(r<<8)+i):t+=1<<24,t}function B1(){for(var t=this._X,e=this._C,r=0;r<8;r++)s[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<s[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<s[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<s[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<s[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<s[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<s[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<s[6]>>>0?1:0)|0,this._b=e[7]>>>0<s[7]>>>0?1:0,r=0;r<8;r++){var i=t[r]+e[r],n=65535&i,o=i>>>16;c[r]=((n*n>>>17)+n*o>>>15)+o*o^((4294901760&i)*i|0)+((65535&i)*i|0)}t[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,t[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,t[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,t[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,t[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,t[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,t[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,t[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}function w1(){for(var t=this._X,e=this._C,r=0;r<8;r++)a[r]=e[r];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<a[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<a[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<a[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<a[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<a[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<a[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<a[6]>>>0?1:0)|0,this._b=e[7]>>>0<a[7]>>>0?1:0,r=0;r<8;r++){var i=t[r]+e[r],n=65535&i,o=i>>>16;h[r]=((n*n>>>17)+n*o>>>15)+o*o^((4294901760&i)*i|0)+((65535&i)*i|0)}t[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,t[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,t[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,t[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,t[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,t[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,t[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,t[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}P=i.lib.WordArray,i.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,i=this._map;t.clamp();for(var n=[],o=0;o<r;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,c=0;c<4&&o+.75*c<r;c++)n.push(i.charAt(s>>>6*(3-c)&63));var a=i.charAt(64);if(a)for(;n.length%4;)n.push(a);return n.join("")},parse:function(t){var e=t.length,r=this._map;if(!(i=this._reverseMap))for(var i=this._reverseMap=[],n=0;n<r.length;n++)i[r.charCodeAt(n)]=n;for(var o,s,c=r.charAt(64),a=(c&&-1!==(c=t.indexOf(c))&&(e=c),t),h=e,l=i,f=[],d=0,u=0;u<h;u++)u%4&&(o=l[a.charCodeAt(u-1)]<<u%4*2,s=l[a.charCodeAt(u)]>>>6-u%4*2,f[d>>>2]|=(o|s)<<24-d%4*8,d++);return P.create(f,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};for(var k1=Math,u=i,S1=(p=u.lib).WordArray,m1=p.Hasher,p=u.algo,H=[],x1=0;x1<64;x1++)H[x1]=4294967296*k1.abs(k1.sin(x1+1))|0;function z(t,e,r,i,n,o,s){t=t+(e&r|~e&i)+n+s;return(t<<o|t>>>32-o)+e}function A(t,e,r,i,n,o,s){t=t+(e&i|r&~i)+n+s;return(t<<o|t>>>32-o)+e}function C(t,e,r,i,n,o,s){t=t+(e^r^i)+n+s;return(t<<o|t>>>32-o)+e}function D(t,e,r,i,n,o,s){t=t+(r^(e|~i))+n+s;return(t<<o|t>>>32-o)+e}p=p.MD5=m1.extend({_doReset:function(){this._hash=new S1.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var i=e+r,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var o=this._hash.words,s=t[e+0],c=t[e+1],a=t[e+2],h=t[e+3],l=t[e+4],f=t[e+5],d=t[e+6],u=t[e+7],p=t[e+8],_=t[e+9],y=t[e+10],g=t[e+11],v=t[e+12],B=t[e+13],w=t[e+14],k=t[e+15],S=z(o[0],b=o[1],x=o[2],m=o[3],s,7,H[0]),m=z(m,S,b,x,c,12,H[1]),x=z(x,m,S,b,a,17,H[2]),b=z(b,x,m,S,h,22,H[3]);S=z(S,b,x,m,l,7,H[4]),m=z(m,S,b,x,f,12,H[5]),x=z(x,m,S,b,d,17,H[6]),b=z(b,x,m,S,u,22,H[7]),S=z(S,b,x,m,p,7,H[8]),m=z(m,S,b,x,_,12,H[9]),x=z(x,m,S,b,y,17,H[10]),b=z(b,x,m,S,g,22,H[11]),S=z(S,b,x,m,v,7,H[12]),m=z(m,S,b,x,B,12,H[13]),x=z(x,m,S,b,w,17,H[14]),S=A(S,b=z(b,x,m,S,k,22,H[15]),x,m,c,5,H[16]),m=A(m,S,b,x,d,9,H[17]),x=A(x,m,S,b,g,14,H[18]),b=A(b,x,m,S,s,20,H[19]),S=A(S,b,x,m,f,5,H[20]),m=A(m,S,b,x,y,9,H[21]),x=A(x,m,S,b,k,14,H[22]),b=A(b,x,m,S,l,20,H[23]),S=A(S,b,x,m,_,5,H[24]),m=A(m,S,b,x,w,9,H[25]),x=A(x,m,S,b,h,14,H[26]),b=A(b,x,m,S,p,20,H[27]),S=A(S,b,x,m,B,5,H[28]),m=A(m,S,b,x,a,9,H[29]),x=A(x,m,S,b,u,14,H[30]),S=C(S,b=A(b,x,m,S,v,20,H[31]),x,m,f,4,H[32]),m=C(m,S,b,x,p,11,H[33]),x=C(x,m,S,b,g,16,H[34]),b=C(b,x,m,S,w,23,H[35]),S=C(S,b,x,m,c,4,H[36]),m=C(m,S,b,x,l,11,H[37]),x=C(x,m,S,b,u,16,H[38]),b=C(b,x,m,S,y,23,H[39]),S=C(S,b,x,m,B,4,H[40]),m=C(m,S,b,x,s,11,H[41]),x=C(x,m,S,b,h,16,H[42]),b=C(b,x,m,S,d,23,H[43]),S=C(S,b,x,m,_,4,H[44]),m=C(m,S,b,x,v,11,H[45]),x=C(x,m,S,b,k,16,H[46]),S=D(S,b=C(b,x,m,S,a,23,H[47]),x,m,s,6,H[48]),m=D(m,S,b,x,u,10,H[49]),x=D(x,m,S,b,w,15,H[50]),b=D(b,x,m,S,f,21,H[51]),S=D(S,b,x,m,v,6,H[52]),m=D(m,S,b,x,h,10,H[53]),x=D(x,m,S,b,y,15,H[54]),b=D(b,x,m,S,c,21,H[55]),S=D(S,b,x,m,p,6,H[56]),m=D(m,S,b,x,k,10,H[57]),x=D(x,m,S,b,d,15,H[58]),b=D(b,x,m,S,B,21,H[59]),S=D(S,b,x,m,l,6,H[60]),m=D(m,S,b,x,g,10,H[61]),x=D(x,m,S,b,a,15,H[62]),b=D(b,x,m,S,_,21,H[63]),o[0]=o[0]+S|0,o[1]=o[1]+b|0,o[2]=o[2]+x|0,o[3]=o[3]+m|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes,n=(e[i>>>5]|=128<<24-i%32,k1.floor(r/4294967296));e[15+(64+i>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e[14+(64+i>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var n=this._hash,o=n.words,s=0;s<4;s++){var c=o[s];o[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return n},clone:function(){var t=m1.clone.call(this);return t._hash=this._hash.clone(),t}}),u.MD5=m1._createHelper(p),u.HmacMD5=m1._createHmacHelper(p),p=(u=i).lib,W=p.WordArray,O=p.Hasher,p=u.algo,l=[],p=p.SHA1=O.extend({_doReset:function(){this._hash=new W.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],n=r[1],o=r[2],s=r[3],c=r[4],a=0;a<80;a++){a<16?l[a]=0|t[e+a]:(h=l[a-3]^l[a-8]^l[a-14]^l[a-16],l[a]=h<<1|h>>>31);var h=(i<<5|i>>>27)+c+l[a];h+=a<20?1518500249+(n&o|~n&s):a<40?1859775393+(n^o^s):a<60?(n&o|n&s|o&s)-1894007588:(n^o^s)-899497514,c=s,s=o,o=n<<30|n>>>2,n=i,i=h}r[0]=r[0]+i|0,r[1]=r[1]+n|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(64+i>>>9<<4)]=Math.floor(r/4294967296),e[15+(64+i>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=O.clone.call(this);return t._hash=this._hash.clone(),t}}),u.SHA1=O._createHelper(p),u.HmacSHA1=O._createHmacHelper(p);var b1=Math,u=i,H1=(p=u.lib).WordArray,z1=p.Hasher,p=u.algo,A1=[],C1=[];function D1(t){return 4294967296*(t-(0|t))|0}for(var E1=2,R1=0;R1<64;)!function(t){for(var e=b1.sqrt(t),r=2;r<=e;r++)if(!(t%r))return;return 1}(E1)||(R1<8&&(A1[R1]=D1(b1.pow(E1,.5))),C1[R1]=D1(b1.pow(E1,1/3)),R1++),E1++;for(var _=[],p=p.SHA256=z1.extend({_doReset:function(){this._hash=new H1.init(A1.slice(0))},_doProcessBlock:function(t,e){for(var r=this._hash.words,i=r[0],n=r[1],o=r[2],s=r[3],c=r[4],a=r[5],h=r[6],l=r[7],f=0;f<64;f++){_[f]=f<16?0|t[e+f]:(((d=_[f-15])<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+_[f-7]+(((d=_[f-2])<<15|d>>>17)^(d<<13|d>>>19)^d>>>10)+_[f-16];var d=i&n^i&o^n&o,u=l+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&a^~c&h)+C1[f]+_[f],l=h,h=a,a=c,c=s+u|0,s=o,o=n,n=i,i=u+(((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+d)|0}r[0]=r[0]+i|0,r[1]=r[1]+n|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+a|0,r[6]=r[6]+h|0,r[7]=r[7]+l|0},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[14+(64+i>>>9<<4)]=b1.floor(r/4294967296),e[15+(64+i>>>9<<4)]=r,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=z1.clone.call(this);return t._hash=this._hash.clone(),t}}),M1=(u.SHA256=z1._createHelper(p),u.HmacSHA256=z1._createHmacHelper(p),u1=i.lib.WordArray,(u=i.enc).Utf16=u.Utf16BE={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],n=0;n<r;n+=2){var o=e[n>>>2]>>>16-n%4*8&65535;i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return u1.create(r,2*e)}},u.Utf16LE={stringify:function(t){for(var e=t.words,r=t.sigBytes,i=[],n=0;n<r;n+=2){var o=b2(e[n>>>2]>>>16-n%4*8&65535);i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var e=t.length,r=[],i=0;i<e;i++)r[i>>>1]|=b2(t.charCodeAt(i)<<16-i%2*16);return u1.create(r,2*e)}},"function"==typeof ArrayBuffer&&(p=i.lib.WordArray,d1=p.init,(p.init=function(t){if((t=(t=t instanceof ArrayBuffer?new Uint8Array(t):t)instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t)instanceof Uint8Array){for(var e=t.byteLength,r=[],i=0;i<e;i++)r[i>>>2]|=t[i]<<24-i%4*8;d1.call(this,r,e)}else d1.apply(this,arguments)}).prototype=p),Math,p=(u=i).lib,t=p.WordArray,I=p.Hasher,p=u.algo,U=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),K=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),X=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),L=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),j=t.create([0,1518500249,1859775393,2400959708,2840853838]),N=t.create([1352829926,1548603684,1836072691,2053994217,0]),p=p.RIPEMD160=I.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var r=0;r<16;r++){var i=e+r,n=t[i];t[i]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}for(var o,s,c,a,h,l,f=this._hash.words,d=j.words,u=N.words,p=U.words,_=K.words,y=X.words,g=L.words,v=o=f[0],B=s=f[1],w=c=f[2],k=a=f[3],S=h=f[4],r=0;r<80;r+=1)l=(l=y1(l=(l=o+t[e+p[r]]|0)+(r<16?(s^c^a)+d[0]:r<32?p1(s,c,a)+d[1]:r<48?((s|~c)^a)+d[2]:r<64?_1(s,c,a)+d[3]:(s^(c|~a))+d[4])|0,y[r]))+h|0,o=h,h=a,a=y1(c,10),c=s,s=l,l=(l=y1(l=(l=v+t[e+_[r]]|0)+(r<16?(B^(w|~k))+u[0]:r<32?_1(B,w,k)+u[1]:r<48?((B|~w)^k)+u[2]:r<64?p1(B,w,k)+u[3]:(B^w^k)+u[4])|0,g[r]))+S|0,v=S,S=k,k=y1(w,10),w=B,B=l;l=f[1]+c+k|0,f[1]=f[2]+a+S|0,f[2]=f[3]+h+v|0,f[3]=f[4]+o+B|0,f[4]=f[0]+s+w|0,f[0]=l},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;e[i>>>5]|=128<<24-i%32,e[14+(64+i>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,n=i.words,o=0;o<5;o++){var s=n[o];n[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var t=I.clone.call(this);return t._hash=this._hash.clone(),t}}),u.RIPEMD160=I._createHelper(p),u.HmacRIPEMD160=I._createHmacHelper(p),u=i.lib.Base,T=i.enc.Utf8,i.algo.HMAC=u.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=T.parse(e));var r=t.blockSize,i=4*r;(e=e.sigBytes>i?t.finalize(e):e).clamp();for(var t=this._oKey=e.clone(),e=this._iKey=e.clone(),n=t.words,o=e.words,s=0;s<r;s++)n[s]^=1549556828,o[s]^=909522486;t.sigBytes=e.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,t=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(t))}}),y=(u=(p=i).lib).Base,q=u.WordArray,w=(u=p.algo).SHA1,Z=u.HMAC,V=u.PBKDF2=y.extend({cfg:y.extend({keySize:4,hasher:w,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,i=Z.create(r.hasher,t),n=q.create(),o=q.create([1]),s=n.words,c=o.words,a=r.keySize,h=r.iterations;s.length<a;){var l=i.update(e).finalize(o);i.reset();for(var f=l.words,d=f.length,u=l,p=1;p<h;p++){u=i.finalize(u),i.reset();for(var _=u.words,y=0;y<d;y++)f[y]^=_[y]}n.concat(l),c[0]++}return n.sigBytes=4*a,n}}),p.PBKDF2=function(t,e,r){return V.create(r).compute(t,e)},w=(y=(u=i).lib).Base,G=y.WordArray,y=(p=u.algo).MD5,J=p.EvpKDF=w.extend({cfg:w.extend({keySize:4,hasher:y,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r,i=this.cfg,n=i.hasher.create(),o=G.create(),s=o.words,c=i.keySize,a=i.iterations;s.length<c;){r&&n.update(r),r=n.update(t).finalize(e),n.reset();for(var h=1;h<a;h++)r=n.finalize(r),n.reset();o.concat(r)}return o.sigBytes=4*c,o}}),u.EvpKDF=function(t,e,r){return J.create(r).compute(t,e)},$=(p=i).lib.WordArray,w=p.algo,Q=w.SHA256,y=w.SHA224=Q.extend({_doReset:function(){this._hash=new $.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=Q._doFinalize.call(this);return t.sigBytes-=4,t}}),p.SHA224=Q._createHelper(y),p.HmacSHA224=Q._createHmacHelper(y),u=i.lib,Y=u.Base,t1=u.WordArray,(w=i.x64={}).Word=Y.extend({init:function(t,e){this.high=t,this.low=e}}),w.WordArray=Y.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,r=[],i=0;i<e;i++){var n=t[i];r.push(n.high),r.push(n.low)}return t1.create(r,this.sigBytes)},clone:function(){for(var t=Y.clone.call(this),e=t.words=this.words.slice(0),r=e.length,i=0;i<r;i++)e[i]=e[i].clone();return t}}),Math),p=i,F1=(y=p.lib).WordArray,P1=y.Hasher,W1=p.x64.Word,y=p.algo,O1=[],I1=[],U1=[],g=1,v=0,K1=0;K1<24;K1++){O1[g+5*v]=(K1+1)*(K1+2)/2%64;var X1=(2*g+3*v)%5,g=v%5,v=X1}for(g=0;g<5;g++)for(v=0;v<5;v++)I1[g+5*v]=v+(2*g+3*v)%5*5;for(var L1=1,j1=0;j1<24;j1++){for(var N1,T1=0,q1=0,Z1=0;Z1<7;Z1++)1&L1&&((N1=(1<<Z1)-1)<32?q1^=1<<N1:T1^=1<<N1-32),128&L1?L1=L1<<1^113:L1<<=1;U1[j1]=W1.create(T1,q1)}for(var E=[],V1=0;V1<25;V1++)E[V1]=W1.create();y=y.SHA3=P1.extend({cfg:P1.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;e<25;e++)t[e]=new W1.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var r=this._state,i=this.blockSize/2,n=0;n<i;n++){var o=t[e+2*n],s=t[e+2*n+1],o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);(S=r[n]).high^=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),S.low^=o}for(var c=0;c<24;c++){for(var a=0;a<5;a++){for(var h=0,l=0,f=0;f<5;f++)h^=(S=r[a+5*f]).high,l^=S.low;var d=E[a];d.high=h,d.low=l}for(a=0;a<5;a++)for(var u=E[(a+4)%5],p=E[(a+1)%5],_=p.high,p=p.low,h=u.high^(_<<1|p>>>31),l=u.low^(p<<1|_>>>31),f=0;f<5;f++)(S=r[a+5*f]).high^=h,S.low^=l;for(var y=1;y<25;y++){var g=(S=r[y]).high,v=S.low,B=O1[y],g=(l=B<32?(h=g<<B|v>>>32-B,v<<B|g>>>32-B):(h=v<<B-32|g>>>64-B,g<<B-32|v>>>64-B),E[I1[y]]);g.high=h,g.low=l}var w=E[0],k=r[0];for(w.high=k.high,w.low=k.low,a=0;a<5;a++)for(f=0;f<5;f++){var S=r[y=a+5*f],m=E[y],x=E[(a+1)%5+5*f],b=E[(a+2)%5+5*f];S.high=m.high^~x.high&b.high,S.low=m.low^~x.low&b.low}S=r[0],w=U1[c];S.high^=w.high,S.low^=w.low}},_doFinalize:function(){var t=this._data,e=t.words,r=(this._nDataBytes,8*t.sigBytes),i=32*this.blockSize;e[r>>>5]|=1<<24-r%32,e[(M1.ceil((1+r)/i)*i>>>5)-1]|=128,t.sigBytes=4*e.length,this._process();for(var n=this._state,r=this.cfg.outputLength/8,o=r/8,s=[],c=0;c<o;c++){var a=n[c],h=a.high,a=a.low,h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8);s.push(16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)),s.push(h)}return new F1.init(s,r)},clone:function(){for(var t=P1.clone.call(this),e=t._state=this._state.slice(0),r=0;r<25;r++)e[r]=e[r].clone();return t}}),p.SHA3=P1._createHelper(y),p.HmacSHA3=P1._createHmacHelper(y);var u=i,G1=u.lib.Hasher,B=(w=u.x64).Word,J1=w.WordArray,w=u.algo;function k(){return B.create.apply(B,arguments)}for(var $1=[k(1116352408,3609767458),k(1899447441,602891725),k(3049323471,3964484399),k(3921009573,2173295548),k(961987163,4081628472),k(1508970993,3053834265),k(2453635748,2937671579),k(2870763221,3664609560),k(3624381080,2734883394),k(310598401,1164996542),k(607225278,1323610764),k(1426881987,3590304994),k(1925078388,4068182383),k(2162078206,991336113),k(2614888103,633803317),k(3248222580,3479774868),k(3835390401,2666613458),k(4022224774,944711139),k(264347078,2341262773),k(604807628,2007800933),k(770255983,1495990901),k(1249150122,1856431235),k(1555081692,3175218132),k(1996064986,2198950837),k(2554220882,3999719339),k(2821834349,766784016),k(2952996808,2566594879),k(3210313671,3203337956),k(3336571891,1034457026),k(3584528711,2466948901),k(113926993,3758326383),k(338241895,168717936),k(666307205,1188179964),k(773529912,1546045734),k(1294757372,1522805485),k(1396182291,2643833823),k(1695183700,2343527390),k(1986661051,1014477480),k(2177026350,1206759142),k(2456956037,344077627),k(2730485921,1290863460),k(2820302411,3158454273),k(3259730800,3505952657),k(3345764771,106217008),k(3516065817,3606008344),k(3600352804,1432725776),k(4094571909,1467031594),k(275423344,851169720),k(430227734,3100823752),k(506948616,1363258195),k(659060556,3750685593),k(883997877,3785050280),k(958139571,3318307427),k(1322822218,3812723403),k(1537002063,2003034995),k(1747873779,3602036899),k(1955562222,1575990012),k(2024104815,1125592928),k(2227730452,2716904306),k(2361852424,442776044),k(2428436474,593698344),k(2756734187,3733110249),k(3204031479,2999351573),k(3329325298,3815920427),k(3391569614,3928383900),k(3515267271,566280711),k(3940187606,3454069534),k(4118630271,4000239992),k(116418474,1914138554),k(174292421,2731055270),k(289380356,3203993006),k(460393269,320620315),k(685471733,587496836),k(852142971,1086792851),k(1017036298,365543100),k(1126000580,2618297676),k(1288033470,3409855158),k(1501505948,4234509866),k(1607167915,987167468),k(1816402316,1246189591)],e1=[],Q1=0;Q1<80;Q1++)e1[Q1]=k();w=w.SHA512=G1.extend({_doReset:function(){this._hash=new J1.init([new B.init(1779033703,4089235720),new B.init(3144134277,2227873595),new B.init(1013904242,4271175723),new B.init(2773480762,1595750129),new B.init(1359893119,2917565137),new B.init(2600822924,725511199),new B.init(528734635,4215389547),new B.init(1541459225,327033209)])},_doProcessBlock:function(W,O){for(var t=this._hash.words,e=t[0],r=t[1],i=t[2],n=t[3],o=t[4],s=t[5],c=t[6],t=t[7],I=e.high,a=e.low,U=r.high,h=r.low,K=i.high,l=i.low,X=n.high,f=n.low,L=o.high,d=o.low,j=s.high,u=s.low,N=c.high,p=c.low,T=t.high,_=t.low,y=I,g=a,v=U,B=h,w=K,k=l,q=X,S=f,m=L,x=d,Z=j,b=u,V=N,H=p,G=T,J=_,z=0;z<80;z++){var A,C,D=e1[z];z<16?(C=D.high=0|W[O+2*z],A=D.low=0|W[O+2*z+1]):(P=(M=e1[z-15]).high,F=($=e1[z-2]).high,R=(E=e1[z-7]).high,Q=(Y=e1[z-16]).high,C=(C=(C=((P>>>1|(M=M.low)<<31)^(P>>>8|M<<24)^P>>>7)+R+((A=(R=(M>>>1|P<<31)^(M>>>8|P<<24)^(M>>>7|P<<25))+E.low)>>>0<R>>>0?1:0))+((F>>>19|(M=$.low)<<13)^(F<<3|M>>>29)^F>>>6)+((A+=P=(M>>>19|F<<13)^(M<<3|F>>>29)^(M>>>6|F<<26))>>>0<P>>>0?1:0))+Q+((A+=E=Y.low)>>>0<E>>>0?1:0),D.high=C,D.low=A);var E,R=m&Z^~m&V,$=x&b^~x&H,M=y&v^y&w^v&w,F=(g>>>28|y<<4)^(g<<30|y>>>2)^(g<<25|y>>>7),P=$1[z],Q=P.high,Y=P.low,D=G+((m>>>14|x<<18)^(m>>>18|x<<14)^(m<<23|x>>>9))+((E=J+((x>>>14|m<<18)^(x>>>18|m<<14)^(x<<23|m>>>9)))>>>0<J>>>0?1:0),t1=F+(g&B^g&k^B&k),G=V,J=H,V=Z,H=b,Z=m,b=x,m=q+(D=D+R+((E+=$)>>>0<$>>>0?1:0)+Q+((E+=Y)>>>0<Y>>>0?1:0)+C+((E+=A)>>>0<A>>>0?1:0))+((x=S+E|0)>>>0<S>>>0?1:0)|0,q=w,S=k,w=v,k=B,v=y,B=g,y=D+(((y>>>28|g<<4)^(y<<30|g>>>2)^(y<<25|g>>>7))+M+(t1>>>0<F>>>0?1:0))+((g=E+t1|0)>>>0<E>>>0?1:0)|0}a=e.low=a+g,e.high=I+y+(a>>>0<g>>>0?1:0),h=r.low=h+B,r.high=U+v+(h>>>0<B>>>0?1:0),l=i.low=l+k,i.high=K+w+(l>>>0<k>>>0?1:0),f=n.low=f+S,n.high=X+q+(f>>>0<S>>>0?1:0),d=o.low=d+x,o.high=L+m+(d>>>0<x>>>0?1:0),u=s.low=u+b,s.high=j+Z+(u>>>0<b>>>0?1:0),p=c.low=p+H,c.high=N+V+(p>>>0<H>>>0?1:0),_=t.low=_+J,t.high=T+G+(_>>>0<J>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return e[i>>>5]|=128<<24-i%32,e[30+(128+i>>>10<<5)]=Math.floor(r/4294967296),e[31+(128+i>>>10<<5)]=r,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=G1.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),u.SHA512=G1._createHelper(w),u.HmacSHA512=G1._createHmacHelper(w),y=(p=i).x64,e=y.Word,r1=y.WordArray,u=p.algo,i1=u.SHA512,w=u.SHA384=i1.extend({_doReset:function(){this._hash=new r1.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=i1._doFinalize.call(this);return t.sigBytes-=16,t}}),p.SHA384=i1._createHelper(w),p.HmacSHA384=i1._createHmacHelper(w),i.lib.Cipher||(u=(y=i).lib,p=u.Base,f=u.WordArray,s1=u.BufferedBlockAlgorithm,(w=y.enc).Utf8,c1=w.Base64,a1=y.algo.EvpKDF,h1=u.Cipher=s1.extend({cfg:p.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){s1.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(i){return{encrypt:function(t,e,r){return m2(e).encrypt(i,t,e,r)},decrypt:function(t,e,r){return m2(e).decrypt(i,t,e,r)}}}}),u.StreamCipher=h1.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),w=y.mode={},r=u.BlockCipherMode=p.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),r=w.CBC=((w=r.extend()).Encryptor=w.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;x2.call(this,t,e,i),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),w.Decryptor=w.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=t.slice(e,e+i);r.decryptBlock(t,e),x2.call(this,t,e,i),this._prevBlock=n}}),w),w=(y.pad={}).Pkcs7={pad:function(t,e){for(var e=4*e,r=e-t.sigBytes%e,i=r<<24|r<<16|r<<8|r,n=[],o=0;o<r;o+=4)n.push(i);e=f.create(n,r);t.concat(e)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},u.BlockCipher=h1.extend({cfg:h1.cfg.extend({mode:r,padding:w}),reset:function(){h1.reset.call(this);var t,e=this.cfg,r=e.iv,e=e.mode;this._xformMode==this._ENC_XFORM_MODE?t=e.createEncryptor:(t=e.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==t?this._mode.init(this,r&&r.words):(this._mode=t.call(e,this,r&&r.words),this._mode.__creator=t)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t,e=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(e.pad(this._data,this.blockSize),t=this._process(!0)):(t=this._process(!0),e.unpad(t)),t},blockSize:4}),l1=u.CipherParams=p.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),r=(y.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,t=t.salt;return(t?f.create([1398893684,1701076831]).concat(t).concat(e):e).toString(c1)},parse:function(t){var e,t=c1.parse(t),r=t.words;return 1398893684==r[0]&&1701076831==r[1]&&(e=f.create(r.slice(2,4)),r.splice(0,4),t.sigBytes-=16),l1.create({ciphertext:t,salt:e})}},d=u.SerializableCipher=p.extend({cfg:p.extend({format:r}),encrypt:function(t,e,r,i){i=this.cfg.extend(i);var n=t.createEncryptor(r,i),e=n.finalize(e),n=n.cfg;return l1.create({ciphertext:e,key:r,iv:n.iv,algorithm:t,mode:n.mode,padding:n.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,r,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(r,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),w=(y.kdf={}).OpenSSL={execute:function(t,e,r,i){i=i||f.random(8);t=a1.create({keySize:e+r}).compute(t,i),r=f.create(t.words.slice(e),4*r);return t.sigBytes=4*e,l1.create({key:t,iv:r,salt:i})}},f1=u.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:w}),encrypt:function(t,e,r,i){r=(i=this.cfg.extend(i)).kdf.execute(r,t.keySize,t.ivSize),i.iv=r.iv,t=d.encrypt.call(this,t,e,r.key,i);return t.mixIn(r),t},decrypt:function(t,e,r,i){i=this.cfg.extend(i),e=this._parse(e,i.format);r=i.kdf.execute(r,t.keySize,t.ivSize,e.salt);return i.iv=r.iv,d.decrypt.call(this,t,e,r.key,i)}})),i.mode.CFB=((p=i.lib.BlockCipherMode.extend()).Encryptor=p.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize;g1.call(this,t,e,i,r),this._prevBlock=t.slice(e,e+i)}}),p.Decryptor=p.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=t.slice(e,e+i);g1.call(this,t,e,i,r),this._prevBlock=n}}),p),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),r.Decryptor=r.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),r),i.pad.AnsiX923={pad:function(t,e){var r=t.sigBytes,e=4*e,e=e-r%e,r=r+e-1;t.clamp(),t.words[r>>>2]|=e<<24-r%4*8,t.sigBytes+=e},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},i.pad.Iso10126={pad:function(t,e){e*=4,e-=t.sigBytes%e;t.concat(i.lib.WordArray.random(e-1)).concat(i.lib.WordArray.create([e<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},i.pad.Iso97971={pad:function(t,e){t.concat(i.lib.WordArray.create([2147483648],1)),i.pad.ZeroPadding.pad(t,e)},unpad:function(t){i.pad.ZeroPadding.unpad(t),t.sigBytes--}},i.mode.OFB=(u=(y=i.lib.BlockCipherMode.extend()).Encryptor=y.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=this._iv,o=this._keystream;n&&(o=this._keystream=n.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var s=0;s<i;s++)t[e+s]^=o[s]}}),y.Decryptor=u,y),i.pad.NoPadding={pad:function(){},unpad:function(){}},n1=i.lib.CipherParams,o1=i.enc.Hex,i.format.Hex={stringify:function(t){return t.ciphertext.toString(o1)},parse:function(t){t=o1.parse(t);return n1.create({ciphertext:t})}};for(var w=i,p=w.lib.BlockCipher,u=w.algo,S=[],Y1=[],t2=[],e2=[],r2=[],i2=[],n2=[],o2=[],s2=[],c2=[],m=[],x=0;x<256;x++)m[x]=x<128?x<<1:x<<1^283;for(var b=0,R=0,x=0;x<256;x++){var M=R^R<<1^R<<2^R<<3^R<<4,a2=m[Y1[S[b]=M=M>>>8^255&M^99]=b],h2=m[a2],l2=m[h2],F=257*m[M]^16843008*M;t2[b]=F<<24|F>>>8,e2[b]=F<<16|F>>>16,r2[b]=F<<8|F>>>24,i2[b]=F,n2[M]=(F=16843009*l2^65537*h2^257*a2^16843008*b)<<24|F>>>8,o2[M]=F<<16|F>>>16,s2[M]=F<<8|F>>>24,c2[M]=F,b?(b=a2^m[m[m[l2^a2]]],R^=m[m[R]]):b=R=1}var f2=[0,1,2,4,8,16,32,64,128,27,54],u=u.AES=p.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,r=t.sigBytes/4,i=4*(1+(this._nRounds=6+r)),n=this._keySchedule=[],o=0;o<i;o++)o<r?n[o]=e[o]:(a=n[o-1],o%r?6<r&&o%r==4&&(a=S[a>>>24]<<24|S[a>>>16&255]<<16|S[a>>>8&255]<<8|S[255&a]):(a=S[(a=a<<8|a>>>24)>>>24]<<24|S[a>>>16&255]<<16|S[a>>>8&255]<<8|S[255&a],a^=f2[o/r|0]<<24),n[o]=n[o-r]^a);for(var s=this._invKeySchedule=[],c=0;c<i;c++){var o=i-c,a=c%4?n[o]:n[o-4];s[c]=c<4||o<=4?a:n2[S[a>>>24]]^o2[S[a>>>16&255]]^s2[S[a>>>8&255]]^c2[S[255&a]]}}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,t2,e2,r2,i2,S)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,n2,o2,s2,c2,Y1),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,i,n,o,s,c){for(var a=this._nRounds,h=t[e]^r[0],l=t[e+1]^r[1],f=t[e+2]^r[2],d=t[e+3]^r[3],u=4,p=1;p<a;p++)var _=i[h>>>24]^n[l>>>16&255]^o[f>>>8&255]^s[255&d]^r[u++],y=i[l>>>24]^n[f>>>16&255]^o[d>>>8&255]^s[255&h]^r[u++],g=i[f>>>24]^n[d>>>16&255]^o[h>>>8&255]^s[255&l]^r[u++],v=i[d>>>24]^n[h>>>16&255]^o[l>>>8&255]^s[255&f]^r[u++],h=_,l=y,f=g,d=v;_=(c[h>>>24]<<24|c[l>>>16&255]<<16|c[f>>>8&255]<<8|c[255&d])^r[u++],y=(c[l>>>24]<<24|c[f>>>16&255]<<16|c[d>>>8&255]<<8|c[255&h])^r[u++],g=(c[f>>>24]<<24|c[d>>>16&255]<<16|c[h>>>8&255]<<8|c[255&l])^r[u++],v=(c[d>>>24]<<24|c[h>>>16&255]<<16|c[l>>>8&255]<<8|c[255&f])^r[u++],t[e]=_,t[e+1]=y,t[e+2]=g,t[e+3]=v},keySize:8}),y=(w.AES=p._createHelper(u),i),d2=(w=y.lib).WordArray,w=w.BlockCipher,p=y.algo,u2=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],p2=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],_2=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y2=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g2=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],v2=p.DES=w.extend({_doReset:function(){for(var t=this._key.words,e=[],r=0;r<56;r++){var i=u2[r]-1;e[r]=t[i>>>5]>>>31-i%32&1}for(var n=this._subKeys=[],o=0;o<16;o++){for(var s=n[o]=[],c=_2[o],r=0;r<24;r++)s[r/6|0]|=e[(p2[r]-1+c)%28]<<31-r%6,s[4+(r/6|0)]|=e[28+(p2[r+24]-1+c)%28]<<31-r%6;for(s[0]=s[0]<<1|s[0]>>>31,r=1;r<7;r++)s[r]=s[r]>>>4*(r-1)+3;s[7]=s[7]<<5|s[7]>>>27}var a=this._invSubKeys=[];for(r=0;r<16;r++)a[r]=n[15-r]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(t,e,r){this._lBlock=t[e],this._rBlock=t[e+1],B2.call(this,4,252645135),B2.call(this,16,65535),w2.call(this,2,858993459),w2.call(this,8,16711935),B2.call(this,1,1431655765);for(var i=0;i<16;i++){for(var n=r[i],o=this._lBlock,s=this._rBlock,c=0,a=0;a<8;a++)c|=y2[a][((s^n[a])&g2[a])>>>0];this._lBlock=s,this._rBlock=o^c}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,B2.call(this,1,1431655765),w2.call(this,8,16711935),w2.call(this,2,858993459),B2.call(this,16,65535),B2.call(this,4,252645135),t[e]=this._lBlock,t[e+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function B2(t,e){e=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=e,this._lBlock^=e<<t}function w2(t,e){e=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=e,this._rBlock^=e<<t}y.DES=w._createHelper(v2),p=p.TripleDES=w.extend({_doReset:function(){var t=this._key.words;if(2!==t.length&&4!==t.length&&t.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var e=t.slice(0,2),r=t.length<4?t.slice(0,2):t.slice(2,4),t=t.length<6?t.slice(0,2):t.slice(4,6);this._des1=v2.createEncryptor(d2.create(e)),this._des2=v2.createEncryptor(d2.create(r)),this._des3=v2.createEncryptor(d2.create(t))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),y.TripleDES=w._createHelper(p);var u=i,y=u.lib.StreamCipher,w=u.algo,k2=w.RC4=y.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes,i=this._S=[],n=0;n<256;n++)i[n]=n;for(var n=0,o=0;n<256;n++){var s=n%r,s=e[s>>>2]>>>24-s%4*8&255,o=(o+i[n]+s)%256,s=i[n];i[n]=i[o],i[o]=s}this._i=this._j=0},_doProcessBlock:function(t,e){t[e]^=S2.call(this)},keySize:8,ivSize:0});function S2(){for(var t=this._S,e=this._i,r=this._j,i=0,n=0;n<4;n++){var r=(r+t[e=(e+1)%256])%256,o=t[e];t[e]=t[r],t[r]=o,i|=t[(t[e]+t[r])%256]<<24-8*n}return this._i=e,this._j=r,i}return u.RC4=y._createHelper(k2),w=w.RC4Drop=k2.extend({cfg:k2.cfg.extend({drop:192}),_doReset:function(){k2._doReset.call(this);for(var t=this.cfg.drop;0<t;t--)S2.call(this)}}),u.RC4Drop=y._createHelper(w),i.mode.CTRGladman=(u=(p=i.lib.BlockCipherMode.extend()).Encryptor=p.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=this._iv,o=this._counter,s=(n&&(o=this._counter=n.slice(0),this._iv=void 0),0===((n=o)[0]=v1(n[0]))&&(n[1]=v1(n[1])),o.slice(0));r.encryptBlock(s,0);for(var c=0;c<i;c++)t[e+c]^=s[c]}}),p.Decryptor=u,p),w=(y=i).lib.StreamCipher,u=y.algo,n=[],s=[],c=[],p=u.Rabbit=w.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=0;r<4;r++)t[r]=16711935&(t[r]<<8|t[r]>>>24)|4278255360&(t[r]<<24|t[r]>>>8);for(var i=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],n=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]],r=this._b=0;r<4;r++)B1.call(this);for(r=0;r<8;r++)n[r]^=i[r+4&7];if(e){var e=e.words,o=e[0],e=e[1],o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8),s=o>>>16|4294901760&e,c=e<<16|65535&o;for(n[0]^=o,n[1]^=s,n[2]^=e,n[3]^=c,n[4]^=o,n[5]^=s,n[6]^=e,n[7]^=c,r=0;r<4;r++)B1.call(this)}},_doProcessBlock:function(t,e){var r=this._X;B1.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),t[e+i]^=n[i]},blockSize:4,ivSize:2}),y.Rabbit=w._createHelper(p),i.mode.CTR=(y=(u=i.lib.BlockCipherMode.extend()).Encryptor=u.extend({processBlock:function(t,e){var r=this._cipher,i=r.blockSize,n=this._iv,o=this._counter,s=(n&&(o=this._counter=n.slice(0),this._iv=void 0),o.slice(0));r.encryptBlock(s,0),o[i-1]=o[i-1]+1|0;for(var c=0;c<i;c++)t[e+c]^=s[c]}}),u.Decryptor=y,u),p=(w=i).lib.StreamCipher,y=w.algo,o=[],a=[],h=[],u=y.RabbitLegacy=p.extend({_doReset:function(){for(var t=this._key.words,e=this.cfg.iv,r=this._X=[t[0],t[3]<<16|t[2]>>>16,t[1],t[0]<<16|t[3]>>>16,t[2],t[1]<<16|t[0]>>>16,t[3],t[2]<<16|t[1]>>>16],i=this._C=[t[2]<<16|t[2]>>>16,4294901760&t[0]|65535&t[1],t[3]<<16|t[3]>>>16,4294901760&t[1]|65535&t[2],t[0]<<16|t[0]>>>16,4294901760&t[2]|65535&t[3],t[1]<<16|t[1]>>>16,4294901760&t[3]|65535&t[0]],n=this._b=0;n<4;n++)w1.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(e){var t=e.words,e=t[0],t=t[1],e=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8),t=16711935&(t<<8|t>>>24)|4278255360&(t<<24|t>>>8),o=e>>>16|4294901760&t,s=t<<16|65535&e;for(i[0]^=e,i[1]^=o,i[2]^=t,i[3]^=s,i[4]^=e,i[5]^=o,i[6]^=t,i[7]^=s,n=0;n<4;n++)w1.call(this)}},_doProcessBlock:function(t,e){var r=this._X;w1.call(this),o[0]=r[0]^r[5]>>>16^r[3]<<16,o[1]=r[2]^r[7]>>>16^r[5]<<16,o[2]=r[4]^r[1]>>>16^r[7]<<16,o[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)o[i]=16711935&(o[i]<<8|o[i]>>>24)|4278255360&(o[i]<<24|o[i]>>>8),t[e+i]^=o[i]},blockSize:4,ivSize:2}),w.RabbitLegacy=p._createHelper(u),i.pad.ZeroPadding={pad:function(t,e){e*=4;t.clamp(),t.sigBytes+=e-(t.sigBytes%e||e)},unpad:function(t){for(var e=t.words,r=t.sigBytes-1,r=t.sigBytes-1;0<=r;r--)if(e[r>>>2]>>>24-r%4*8&255){t.sigBytes=r+1;break}}},i;function m2(t){return"string"==typeof t?f1:d}function x2(t,e,r){var i,n=this._iv;n?(i=n,this._iv=void 0):i=this._prevBlock;for(var o=0;o<r;o++)t[e+o]^=i[o]}function b2(t){return t<<8&4278255360|t>>>8&16711935}}); 
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ls=e():t.ls=e()}(this,()=>{{var o={d:(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},i={};o.d(i,{default:()=>n});let c=()=>{},l=t=>null!==t&&"Object"===(null==t?void 0:t.constructor.name),t,p,a=()=>{if(!t){t=!0,p=s.storage||localStorage;try{p.getItem("")}catch{p=(()=>{let t={getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{r[t]=void 0},clear:()=>{r={__proto__:t}}},r={__proto__:t};return r})()}e()}},y=String.fromCharCode(0),r=(t,e,r=!0)=>r?[...JSON.stringify(t)].map(t=>String.fromCharCode(t.charCodeAt(0)+e)).join(""):JSON.parse([...t].map(t=>String.fromCharCode(t.charCodeAt(0)-e)).join("")),s={ttl:null,encrypt:!1,encrypter:r,decrypter:(t,e)=>r(t,e,!1),secret:75,storage:void 0},e=(Object.seal(s),(e=!1)=>{a();for(var r of Object.keys(p)){var n=p.getItem(r);let t;try{t=JSON.parse(n||"")}catch{return}l(t)&&y in t&&(Date.now()>t.ttl||e)&&p.removeItem(r)}}),n={config:s,set:(r,n,t={})=>{a();var o={...s,...t,encrypt:!1!==t.encrypt&&(t.encrypt||s.encrypt),ttl:null===t.ttl?null:t.ttl||s.ttl};try{let t=o.ttl&&!isNaN(o.ttl)&&0<o.ttl,e=t?{[y]:n,ttl:Date.now()+1e3*o.ttl}:n;o.encrypt&&(t?e[y]=(o.encrypter||c)(e[y],o.secret):e=(o.encrypter||c)(e,o.secret)),p.setItem(r,JSON.stringify(e))}catch{return!1}},get:(t,e={})=>{a();var r=p.getItem(t),e={...s,...e,encrypt:!1!==e.encrypt&&(e.encrypt||s.encrypt),ttl:null===e.ttl?null:e.ttl||s.ttl};let n,o;try{n=JSON.parse(r||""),o=l(n)&&y in n,(e.decrypt||e.encrypt)&&(o?n[y]=(e.decrypter||c)(n[y],e.secret):n=(e.decrypter||c)(n,e.secret))}catch{}return o?Date.now()>n.ttl?(p.removeItem(t),null):n[y]:void 0!==n?n:r},flush:e,clear:()=>{a(),p.clear()},remove:t=>{a(),p.removeItem(t)}};return i.default}}),ls.config.encrypt=!0,ls.config.secret="wagawttegagagw",ls.config.encrypter=(t,e)=>CryptoJS.AES.encrypt(JSON.stringify(t),e).toString(),ls.config.decrypter=(e,t)=>{try{return JSON.parse(CryptoJS.AES.decrypt(e,t).toString(CryptoJS.enc.Utf8))}catch(t){return e}}; 
 !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ZipLoader=t()}(this,function(){var d={};!function(e){var U=(e,t,i,a)=>{let n=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==i;){s=i>2e3?2e3:i,i-=s;do{n=n+t[a++]|0,o=o+n|0}while(--s);n%=65521,o%=65521}return n|o<<16|0};const h=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var S=(t,i,e,a)=>{const n=h,o=a+e;t^=-1;for(let e=a;e<o;e++)t=t>>>8^n[255&(t^i[e])];return-1^t};const Z=16209;var W=function(e,t){let i,a,n,o,s,r,l,d,c,p,f,h,m,u,w,x,b,g,v,k,_,y,R,E;const A=e.state;i=e.next_in,R=e.input,a=i+(e.avail_in-5),n=e.next_out,E=e.output,o=n-(t-e.avail_out),s=n+(e.avail_out-257),r=A.dmax,l=A.wsize,d=A.whave,c=A.wnext,p=A.window,f=A.hold,h=A.bits,m=A.lencode,u=A.distcode,w=(1<<A.lenbits)-1,x=(1<<A.distbits)-1;e:do{h<15&&(f+=R[i++]<<h,h+=8,f+=R[i++]<<h,h+=8),b=m[f&w];t:for(;;){if(g=b>>>24,f>>>=g,h-=g,g=b>>>16&255,0===g)E[n++]=65535&b;else{if(!(16&g)){if(0==(64&g)){b=m[(65535&b)+(f&(1<<g)-1)];continue t}if(32&g){A.mode=16191;break e}e.msg="invalid literal/length code",A.mode=Z;break e}v=65535&b,g&=15,g&&(h<g&&(f+=R[i++]<<h,h+=8),v+=f&(1<<g)-1,f>>>=g,h-=g),h<15&&(f+=R[i++]<<h,h+=8,f+=R[i++]<<h,h+=8),b=u[f&x];i:for(;;){if(g=b>>>24,f>>>=g,h-=g,g=b>>>16&255,!(16&g)){if(0==(64&g)){b=u[(65535&b)+(f&(1<<g)-1)];continue i}e.msg="invalid distance code",A.mode=Z;break e}if(k=65535&b,g&=15,h<g&&(f+=R[i++]<<h,h+=8,h<g&&(f+=R[i++]<<h,h+=8)),k+=f&(1<<g)-1,k>r){e.msg="invalid distance too far back",A.mode=Z;break e}if(f>>>=g,h-=g,g=n-o,k>g){if(g=k-g,g>d&&A.sane){e.msg="invalid distance too far back",A.mode=Z;break e}if(_=0,y=p,0===c){if(_+=l-g,g<v){v-=g;do{E[n++]=p[_++]}while(--g);_=n-k,y=E}}else if(c<g){if(_+=l+c-g,g-=c,g<v){v-=g;do{E[n++]=p[_++]}while(--g);if(_=0,c<v){g=c,v-=g;do{E[n++]=p[_++]}while(--g);_=n-k,y=E}}}else if(_+=c-g,g<v){v-=g;do{E[n++]=p[_++]}while(--g);_=n-k,y=E}for(;v>2;)E[n++]=y[_++],E[n++]=y[_++],E[n++]=y[_++],v-=3;v&&(E[n++]=y[_++],v>1&&(E[n++]=y[_++]))}else{_=n-k;do{E[n++]=E[_++],E[n++]=E[_++],E[n++]=E[_++],v-=3}while(v>2);v&&(E[n++]=E[_++],v>1&&(E[n++]=E[_++]))}break}}break}}while(i<a&&n<s);v=h>>3,i-=v,h-=v<<3,f&=(1<<h)-1,e.next_in=i,e.next_out=n,e.avail_in=i<a?a-i+5:5-(i-a),e.avail_out=n<s?s-n+257:257-(n-s),A.hold=f,A.bits=h};const O=15,$=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Q=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ee=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),te=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var T=(e,t,i,a,n,o,s,r)=>{const l=r.bits;let d,c,p,f,h,m,u=0,w=0,x=0,b=0,g=0,v=0,k=0,_=0,y=0,R=0,E=null;const A=new Uint16Array(16),Z=new Uint16Array(16);let B,U,S,T=null;for(u=0;u<=O;u++)A[u]=0;for(w=0;w<a;w++)A[t[i+w]]++;for(g=l,b=O;b>=1&&0===A[b];b--);if(g>b&&(g=b),0===b)return n[o++]=20971520,n[o++]=20971520,r.bits=1,0;for(x=1;x<b&&0===A[x];x++);for(g<x&&(g=x),_=1,u=1;u<=O;u++)if(_<<=1,_-=A[u],_<0)return-1;if(_>0&&(0===e||1!==b))return-1;for(Z[1]=0,u=1;u<O;u++)Z[u+1]=Z[u]+A[u];for(w=0;w<a;w++)0!==t[i+w]&&(s[Z[t[i+w]]++]=w);if(0===e?(E=T=s,m=20):1===e?(E=$,T=Q,m=257):(E=ee,T=te,m=0),R=0,w=0,u=x,h=o,v=g,k=0,p=-1,y=1<<g,f=y-1,1===e&&y>852||2===e&&y>592)return 1;for(;;){B=u-k,s[w]+1<m?(U=0,S=s[w]):s[w]>=m?(U=T[s[w]-m],S=E[s[w]-m]):(U=96,S=0),d=1<<u-k,c=1<<v,x=c;do{c-=d,n[h+(R>>k)+c]=B<<24|U<<16|S|0}while(0!==c);for(d=1<<u-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,w++,0==--A[u]){if(u===b)break;u=t[i+s[w]]}if(u>g&&(R&f)!==p){for(0===k&&(k=g),h+=x,v=u-k,_=1<<v;v+k<b&&(_-=A[v+k],!(_<=0));)v++,_<<=1;if(y+=1<<v,1===e&&y>852||2===e&&y>592)return 1;p=R&f,n[p]=g<<24|v<<16|h-o|0}}return 0!==R&&(n[h+R]=u-k<<24|64<<16|0),r.bits=g,0},t={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{Z_FINISH:j,Z_BLOCK:ie,Z_TREES:D,Z_OK:C,Z_STREAM_END:ae,Z_NEED_DICT:ne,Z_STREAM_ERROR:I,Z_DATA_ERROR:z,Z_MEM_ERROR:L,Z_BUF_ERROR:oe,Z_DEFLATED:N}=t,F=16180,M=16190,H=16191,P=16192,q=16194,K=16199,G=16200,Y=16206,V=16209,J=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function m(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let X=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<F||t.mode>16211?1:0},i=e=>{if(X(e))return I;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=F,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,C},u=e=>{if(X(e))return I;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,i(e)},w=(e,t)=>{let i;if(X(e))return I;const a=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?I:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=i,a.wbits=t,u(e))},x=(e,t)=>{if(!e)return I;const i=new m;e.state=i,i.strm=e,i.window=null,i.mode=F;const a=w(e,t);return a!==C&&(e.state=null),a},a,n,b=!0,se=t=>{if(b){a=new Int32Array(512),n=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(T(1,t.lens,0,288,a,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;T(2,t.lens,0,32,n,0,t.work,{bits:5}),b=!1}t.lencode=a,t.lenbits=9,t.distcode=n,t.distbits=5},re=(e,t,i,a)=>{let n;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),a>=o.wsize?(o.window.set(t.subarray(i-o.wsize,i),0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>a&&(n=a),o.window.set(t.subarray(i-a,i-a+n),o.wnext),(a-=n)?(o.window.set(t.subarray(i-a,i),0),o.wnext=a,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0};var l={inflateReset:u,inflateReset2:w,inflateResetKeep:i,inflateInit:e=>x(e,15),inflateInit2:x,inflate:(e,t)=>{let i,a,n,o,s,r,l,d,c,p,f,h,m,u,w,x,b,g,v,k,_,y,R=0;const E=new Uint8Array(4);let A,Z;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(X(e)||!e.output||!e.input&&0!==e.avail_in)return I;i=e.state,i.mode===H&&(i.mode=P),s=e.next_out,n=e.output,l=e.avail_out,o=e.next_in,a=e.input,r=e.avail_in,d=i.hold,c=i.bits,p=r,f=l,y=C;e:for(;;)switch(i.mode){case F:if(0===i.wrap){i.mode=P;break}for(;c<16;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(2&i.wrap&&35615===d){0===i.wbits&&(i.wbits=15),i.check=0,E[0]=255&d,E[1]=d>>>8&255,i.check=S(i.check,E,2,0),d=0,c=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",i.mode=V;break}if((15&d)!==N){e.msg="unknown compression method",i.mode=V;break}if(d>>>=4,c-=4,_=8+(15&d),0===i.wbits&&(i.wbits=_),_>15||_>i.wbits){e.msg="invalid window size",i.mode=V;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&d?16189:H,d=0,c=0;break;case 16181:for(;c<16;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(i.flags=d,(255&i.flags)!==N){e.msg="unknown compression method",i.mode=V;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=V;break}i.head&&(i.head.text=d>>8&1),512&i.flags&&4&i.wrap&&(E[0]=255&d,E[1]=d>>>8&255,i.check=S(i.check,E,2,0)),d=0,c=0,i.mode=16182;case 16182:for(;c<32;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}i.head&&(i.head.time=d),512&i.flags&&4&i.wrap&&(E[0]=255&d,E[1]=d>>>8&255,E[2]=d>>>16&255,E[3]=d>>>24&255,i.check=S(i.check,E,4,0)),d=0,c=0,i.mode=16183;case 16183:for(;c<16;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&i.flags&&4&i.wrap&&(E[0]=255&d,E[1]=d>>>8&255,i.check=S(i.check,E,2,0)),d=0,c=0,i.mode=16184;case 16184:if(1024&i.flags){for(;c<16;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}i.length=d,i.head&&(i.head.extra_len=d),512&i.flags&&4&i.wrap&&(E[0]=255&d,E[1]=d>>>8&255,i.check=S(i.check,E,2,0)),d=0,c=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&i.flags&&(h=i.length,h>r&&(h=r),h&&(i.head&&(_=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(a.subarray(o,o+h),_)),512&i.flags&&4&i.wrap&&(i.check=S(i.check,a,h,o)),r-=h,o+=h,i.length-=h),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&i.flags){if(0===r)break e;h=0;do{_=a[o+h++],i.head&&_&&i.length<65536&&(i.head.name+=String.fromCharCode(_))}while(_&&h<r);if(512&i.flags&&4&i.wrap&&(i.check=S(i.check,a,h,o)),r-=h,o+=h,_)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&i.flags){if(0===r)break e;h=0;do{_=a[o+h++],i.head&&_&&i.length<65536&&(i.head.comment+=String.fromCharCode(_))}while(_&&h<r);if(512&i.flags&&4&i.wrap&&(i.check=S(i.check,a,h,o)),r-=h,o+=h,_)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&i.flags){for(;c<16;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(4&i.wrap&&d!==(65535&i.check)){e.msg="header crc mismatch",i.mode=V;break}d=0,c=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=H;break;case 16189:for(;c<32;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}e.adler=i.check=J(d),d=0,c=0,i.mode=M;case M:if(0===i.havedict)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=r,i.hold=d,i.bits=c,ne;e.adler=i.check=1,i.mode=H;case H:if(t===ie||t===D)break e;case P:if(i.last){d>>>=7&c,c-=7&c,i.mode=Y;break}for(;c<3;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}switch(i.last=1&d,d>>>=1,c-=1,3&d){case 0:i.mode=16193;break;case 1:if(se(i),i.mode=K,t===D){d>>>=2,c-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg="invalid block type",i.mode=V}d>>>=2,c-=2;break;case 16193:for(d>>>=7&c,c-=7&c;c<32;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",i.mode=V;break}if(i.length=65535&d,d=0,c=0,i.mode=q,t===D)break e;case q:i.mode=16195;case 16195:if(h=i.length,h){if(h>r&&(h=r),h>l&&(h=l),0===h)break e;n.set(a.subarray(o,o+h),s),r-=h,o+=h,l-=h,s+=h,i.length-=h;break}i.mode=H;break;case 16196:for(;c<14;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(i.nlen=257+(31&d),d>>>=5,c-=5,i.ndist=1+(31&d),d>>>=5,c-=5,i.ncode=4+(15&d),d>>>=4,c-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=V;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;c<3;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}i.lens[B[i.have++]]=7&d,d>>>=3,c-=3}for(;i.have<19;)i.lens[B[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},y=T(0,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,y){e.msg="invalid code lengths set",i.mode=V;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;R=i.lencode[d&(1<<i.lenbits)-1],w=R>>>24,x=R>>>16&255,b=65535&R,!(w<=c);){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(b<16)d>>>=w,c-=w,i.lens[i.have++]=b;else{if(16===b){for(Z=w+2;c<Z;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(d>>>=w,c-=w,0===i.have){e.msg="invalid bit length repeat",i.mode=V;break}_=i.lens[i.have-1],h=3+(3&d),d>>>=2,c-=2}else if(17===b){for(Z=w+3;c<Z;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}d>>>=w,c-=w,_=0,h=3+(7&d),d>>>=3,c-=3}else{for(Z=w+7;c<Z;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}d>>>=w,c-=w,_=0,h=11+(127&d),d>>>=7,c-=7}if(i.have+h>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=V;break}for(;h--;)i.lens[i.have++]=_}}if(i.mode===V)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=V;break}if(i.lenbits=9,A={bits:i.lenbits},y=T(1,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,y){e.msg="invalid literal/lengths set",i.mode=V;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},y=T(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,y){e.msg="invalid distances set",i.mode=V;break}if(i.mode=K,t===D)break e;case K:i.mode=G;case G:if(r>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=r,i.hold=d,i.bits=c,W(e,f),s=e.next_out,n=e.output,l=e.avail_out,o=e.next_in,a=e.input,r=e.avail_in,d=i.hold,c=i.bits,i.mode===H&&(i.back=-1);break}for(i.back=0;R=i.lencode[d&(1<<i.lenbits)-1],w=R>>>24,x=R>>>16&255,b=65535&R,!(w<=c);){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(x&&0==(240&x)){for(g=w,v=x,k=b;R=i.lencode[k+((d&(1<<g+v)-1)>>g)],w=R>>>24,x=R>>>16&255,b=65535&R,!(g+w<=c);){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}d>>>=g,c-=g,i.back+=g}if(d>>>=w,c-=w,i.back+=w,i.length=b,0===x){i.mode=16205;break}if(32&x){i.back=-1,i.mode=H;break}if(64&x){e.msg="invalid literal/length code",i.mode=V;break}i.extra=15&x,i.mode=16201;case 16201:if(i.extra){for(Z=i.extra;c<Z;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,c-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;R=i.distcode[d&(1<<i.distbits)-1],w=R>>>24,x=R>>>16&255,b=65535&R,!(w<=c);){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(0==(240&x)){for(g=w,v=x,k=b;R=i.distcode[k+((d&(1<<g+v)-1)>>g)],w=R>>>24,x=R>>>16&255,b=65535&R,!(g+w<=c);){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}d>>>=g,c-=g,i.back+=g}if(d>>>=w,c-=w,i.back+=w,64&x){e.msg="invalid distance code",i.mode=V;break}i.offset=b,i.extra=15&x,i.mode=16203;case 16203:if(i.extra){for(Z=i.extra;c<Z;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,c-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=V;break}i.mode=16204;case 16204:if(0===l)break e;if(h=f-l,i.offset>h){if(h=i.offset-h,h>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=V;break}h>i.wnext?(h-=i.wnext,m=i.wsize-h):m=i.wnext-h,h>i.length&&(h=i.length),u=i.window}else u=n,m=s-i.offset,h=i.length;h>l&&(h=l),l-=h,i.length-=h;do{n[s++]=u[m++]}while(--h);0===i.length&&(i.mode=G);break;case 16205:if(0===l)break e;n[s++]=i.length,l--,i.mode=G;break;case Y:if(i.wrap){for(;c<32;){if(0===r)break e;r--,d|=a[o++]<<c,c+=8}if(f-=l,e.total_out+=f,i.total+=f,4&i.wrap&&f&&(e.adler=i.check=i.flags?S(i.check,n,f,s-f):U(i.check,n,f,s-f)),f=l,4&i.wrap&&(i.flags?d:J(d))!==i.check){e.msg="incorrect data check",i.mode=V;break}d=0,c=0}i.mode=16207;case 16207:if(i.wrap&&i.flags){for(;c<32;){if(0===r)break e;r--,d+=a[o++]<<c,c+=8}if(4&i.wrap&&d!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=V;break}d=0,c=0}i.mode=16208;case 16208:y=ae;break e;case V:y=z;break e;case 16210:return L;default:return I}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=r,i.hold=d,i.bits=c,(i.wsize||f!==e.avail_out&&i.mode<V&&(i.mode<Y||t!==j))&&re(e,e.output,e.next_out,f-e.avail_out),p-=e.avail_in,f-=e.avail_out,e.total_in+=p,e.total_out+=f,i.total+=f,4&i.wrap&&f&&(e.adler=i.check=i.flags?S(i.check,n,f,e.next_out-f):U(i.check,n,f,e.next_out-f)),e.data_type=i.bits+(i.last?64:0)+(i.mode===H?128:0)+(i.mode===K||i.mode===q?256:0),(0===p&&0===f||t===j)&&y===C&&(y=oe),y},inflateEnd:e=>{if(X(e))return I;let t=e.state;return t.window&&(t.window=null),e.state=null,C},inflateGetHeader:(e,t)=>{if(X(e))return I;const i=e.state;return 0==(2&i.wrap)?I:(i.head=t,t.done=!1,C)},inflateSetDictionary:(e,t)=>{const i=t.length;let a,n,o;return X(e)?I:(a=e.state,0!==a.wrap&&a.mode!==M?I:a.mode===M&&(n=1,n=U(n,t,i,0),n!==a.check)?z:(o=re(e,t,i,i),o?(a.mode=16210,L):(a.havedict=1,C)))},inflateInfo:"pako inflate (from Nodeca project)"};const g=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var v=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)g(i,t)&&(e[t]=i[t])}}return e},k=a=>{let i=0;for(let e=0,t=a.length;e<t;e++)i+=a[e].length;const n=new Uint8Array(i);for(let t=0,i=0,e=a.length;t<e;t++){let e=a[t];n.set(e,i),i+=e.length}return n};let _=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){_=!1}const r=new Uint8Array(256);for(let e=0;e<256;e++)r[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;r[254]=r[254]=1;var y=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,a,n,o,s=e.length,r=0;for(n=0;n<s;n++)i=e.charCodeAt(n),55296==(64512&i)&&n+1<s&&(a=e.charCodeAt(n+1),56320==(64512&a)&&(i=65536+(i-55296<<10)+(a-56320),n++)),r+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(r),o=0,n=0;o<r;n++)i=e.charCodeAt(n),55296==(64512&i)&&n+1<s&&(a=e.charCodeAt(n+1),56320==(64512&a)&&(i=65536+(i-55296<<10)+(a-56320),n++)),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},R=(i,e)=>{const a=e||i.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(i.subarray(0,e));let n,o;const s=new Array(2*a);for(o=0,n=0;n<a;){let e=i[n++];if(e<128){s[o++]=e;continue}let t=r[e];if(t>4)s[o++]=65533,n+=t-1;else{for(e&=2===t?31:3===t?15:7;t>1&&n<a;)e=e<<6|63&i[n++],t--;t>1?s[o++]=65533:e<65536?s[o++]=e:(e-=65536,s[o++]=55296|e>>10&1023,s[o++]=56320|1023&e)}}return((t,i)=>{if(i<65534&&t.subarray&&_)return String.fromCharCode.apply(null,t.length===i?t:t.subarray(0,i));let a="";for(let e=0;e<i;e++)a+=String.fromCharCode(t[e]);return a})(s,o)},E=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+r[e[i]]>t?i:t},o={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},A=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},B=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const le=Object.prototype.toString,{Z_NO_FLUSH:de,Z_FINISH:ce,Z_OK:d,Z_STREAM_END:c,Z_NEED_DICT:p,Z_STREAM_ERROR:pe,Z_DATA_ERROR:fe,Z_MEM_ERROR:he}=t;function s(e){this.options=v({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;let i=l.inflateInit2(this.strm,t.windowBits);if(i!==d)throw new Error(o[i]);if(this.header=new B,l.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=y(t.dictionary):"[object ArrayBuffer]"===le.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=l.inflateSetDictionary(this.strm,t.dictionary),i!==d)))throw new Error(o[i])}function f(e,t){const i=new s(t);if(i.push(e),i.err)throw i.msg||o[i.err];return i.result}s.prototype.push=function(e,t){const a=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,r;if(this.ended)return!1;for(s=t===~~t?t:!0===t?ce:de,"[object ArrayBuffer]"===le.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(n),a.next_out=0,a.avail_out=n),o=l.inflate(a,s),o===p&&i&&(o=l.inflateSetDictionary(a,i),o===d?o=l.inflate(a,s):o===fe&&(o=p));a.avail_in>0&&o===c&&a.state.wrap>0&&0!==e[a.next_in];)l.inflateReset(a),o=l.inflate(a,s);switch(o){case pe:case fe:case p:case he:return this.onEnd(o),this.ended=!0,!1}if(r=a.avail_out,a.next_out&&(0===a.avail_out||o===c))if("string"===this.options.to){let e=E(a.output,a.next_out),t=a.next_out-e,i=R(a.output,e);a.next_out=t,a.avail_out=n-t,t&&a.output.set(a.output.subarray(e,e+t),0),this.onData(i)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(o!==d||0!==r){if(o===c)return o=l.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},s.prototype.onData=function(e){this.chunks.push(e)},s.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=k(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var me,ue=f,we=function(e,t){return(t=t||{}).raw=!0,f(e,t)},xe=f,be=t,ge={Inflate:s,inflate:ue,inflateRaw:we,ungzip:xe,constants:be};e.Inflate=s,e.constants=be,e.default=ge,e.inflate=ue,e.inflateRaw=we,e.ungzip=xe,Object.defineProperty(e,"__esModule",{value:!0})}(d);class o{constructor(e){this.dataView=new DataView(e),this.position=0}skip(e){this.position+=e}readBytes(e){var t=4===e?"getUint32":2===e?"getUint16":"getUint8",i=this.position;return this.position+=e,this.dataView[t](i,!0)}}let n=e=>{for(var t=new o(e),i={};;){var a=t.readBytes(4);if(67324752===a){var n=(e=>{let t=0,i;e.skip(4);const a=e.readBytes(2),n=(e.skip(8),e.readBytes(4)),o=(e.skip(4),e.readBytes(2)),s=e.readBytes(2),r=[],l=new Uint8Array(n);for(t=0;t<o;t++)r.push(String.fromCharCode(e.readBytes(1)));for(e.skip(s),t=0;t<n;t++)l[t]=e.readBytes(1);switch(a){case 0:i=l;break;case 8:i=new Uint8Array(d.inflate(l,{raw:true}));break;default:console.time(`${r.join("")}: unsupported compression type`);i=l}return{name:r.join(""),buffer:i}})(t);i[n.name]={buffer:n.buffer}}else{if(33639248!==a)break;(e=>{e.skip(24);const t=e.readBytes(2),i=e.readBytes(2),a=e.readBytes(2);e.skip(12),e.skip(t),e.skip(i),e.skip(a)})(t)}}return i},c=class c{static unzip(a){return new Promise(t=>{let i=new c;var e=new FileReader;e.onload=e=>{e=e.target.result;i.files=n(e),t(i)},a instanceof Blob&&e.readAsArrayBuffer(a)})}constructor(e,t=!0,i=async function(){}){this._listeners={},this.callback=i,this.url=e,this.en=t,this.blob=new Blob([]),this.files=null,this.types={abs:"audio/x-mpeg",ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",aim:"application/x-aim",art:"image/x-jg",asf:"video/x-ms-asf",asx:"video/x-ms-asf",au:"audio/basic",avi:"video/x-msvideo",avx:"video/x-rad-screenplay",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",body:"text/html",cdf:"application/x-cdf",cer:"application/pkix-cert",class:"application/java",cpio:"application/x-cpio",csh:"application/x-csh",css:"text/css",dib:"image/bmp",doc:"application/msword",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",eot:"application/vnd.ms-fontobject",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",gif:"image/gif",gtar:"application/x-gtar",gz:"application/x-gzip",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htc:"text/x-component",htm:"text/html",html:"text/html",ief:"image/ief",jad:"text/vnd.sun.j2me.app-descriptor",jar:"application/java-archive",java:"text/x-java-source",jnlp:"application/x-java-jnlp-file",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/javascript",jsf:"text/plain",json:"application/json",jspf:"text/plain",kar:"audio/midi",latex:"application/x-latex",m3u:"audio/x-mpegurl",mac:"image/x-macpaint",man:"text/troff",mathml:"application/mathml+xml",me:"text/troff",mid:"audio/midi",midi:"audio/midi",mif:"application/x-mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp1:"audio/mpeg",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpa:"audio/mpeg",mpe:"video/mpeg",mpeg:"video/mpeg",mpega:"audio/x-mpeg",mpg:"video/mpeg",mpv2:"video/mpeg2",ms:"application/x-wais-source",nc:"application/x-netcdf",oda:"application/oda",odb:"application/vnd.oasis.opendocument.database",odc:"application/vnd.oasis.opendocument.chart",odf:"application/vnd.oasis.opendocument.formula",odg:"application/vnd.oasis.opendocument.graphics",odi:"application/vnd.oasis.opendocument.image",odm:"application/vnd.oasis.opendocument.text-master",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",otg:"application/vnd.oasis.opendocument.graphics-template",oth:"application/vnd.oasis.opendocument.text-web",otp:"application/vnd.oasis.opendocument.presentation-template",ots:"application/vnd.oasis.opendocument.spreadsheet-template",ott:"application/vnd.oasis.opendocument.text-template",ogx:"application/ogg",ogv:"video/ogg",oga:"audio/ogg",ogg:"audio/ogg",otf:"application/x-font-opentype",spx:"audio/ogg",flac:"audio/flac",anx:"application/annodex",axa:"audio/annodex",axv:"video/annodex",xspf:"application/xspf+xml",pbm:"image/x-portable-bitmap",pct:"image/pict",pdf:"application/pdf",pgm:"image/x-portable-graymap",pic:"image/pict",pict:"image/pict",pls:"audio/x-scpls",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",ps:"application/postscript",psd:"image/vnd.adobe.photoshop",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"text/troff",rtf:"application/rtf",rtx:"text/richtext",sfnt:"application/font-sfnt",sh:"application/x-sh",shar:"application/x-shar",sit:"application/x-stuffit",snd:"audio/basic",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",svgz:"image/svg+xml",swf:"application/x-shockwave-flash",t:"text/troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"text/troff",tsv:"text/tab-separated-values",ttf:"application/x-font-ttf",txt:"text/plain",ulw:"audio/basic",ustar:"application/x-ustar",vxml:"application/voicexml+xml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",vsd:"application/vnd.visio",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlsc",wmlscriptc:"application/vnd.wap.wmlscriptc",wmv:"video/x-ms-wmv",woff:"application/font-woff",woff2:"application/font-woff2",wrl:"model/vrml",wspolicy:"application/wspolicy+xml",z:"application/x-compress",zip:"application/zip"}}load(){this.clear(),(async e=>{var t=Date.now(),i=localStorage.getItem("wrwaet"),a=(await fetch(e,{method:"head",cache:"no-cache"})).headers.get("Content-Length"),e=await fetch(e,{method:"GET",cache:String(a)!=i?"reload":"force-cache"}),n=(e.ok||this.dispatch({type:"error",error:new Error("HTTP error! status: "+e.status)}),e.body.getReader()),o=+e.headers.get("Content-Length");localStorage.setItem("wrwaet",o);let s=0;for(var r=[];;){var{done:l,value:d}=await n.read();if(l)break;r.push(d);l={type:"progress",loaded:s+=d.length,total:o,elapsedTime:Date.now()-t};this.dispatch(l)}a=new Blob(r),this.en?this.blob=await this.callback(a):this.blob=a,i=await c.unzip(this.blob);this.files=i.files,this.dispatch({type:"load",finsh:!0,elapsedTime:Date.now()-t})})(this.url)}extractAsBlobUrl(e,t){return this.files[e].url||(t=new Blob([this.files[e].buffer],{type:t}),this.files[e].url=URL.createObjectURL(t)),this.files[e].url}extractAsBlob(e,t){let a=new Blob([this.files[e].buffer],{type:this.types[t]});return new Promise((e,t)=>{let i=new FileReader;i.onloadend=()=>e(i.result),i.onerror=t,i.readAsDataURL(a)})}extractAsBlobOnly(e,t){return new Blob([this.files[e].buffer],{type:this.types[t]})}extractAsText(e){var i=this.files[e].buffer;if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(i);let a="";for(let e=0,t=i.length;e<t;e++)a+=String.fromCharCode(i[e]);return decodeURIComponent(escape(a))}extractAsJSON(e){return JSON.parse(this.extractAsText(e))}on(e,t){this._listeners[e]||(this._listeners[e]=[]),-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t)}off(e,t){e=this._listeners[e];e&&-1!==(t=e.indexOf(t))&&e.splice(t,1)}dispatch(t){var i=this._listeners[t.type];if(i){t.target=this;var a=i.length;for(let e=0;e<a;e++)i[e].call(this,t)}}clear(e){if(e)URL.revokeObjectURL(this.files[e].url),delete this.files[e];else{for(var t in this.files)URL.revokeObjectURL(this.files[t].url);this.files=null}}};return c}); 
 var generateUUID=()=>{let t=()=>{var e=crypto.getRandomValues(new Uint8Array(1));return(t^e[0]&15>>t/4).toString(16)};return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)};function secureEval(hack_string){let whiteList=[""," ","x","y","+","*","/","-"];for(let i=0;i<hack_string.length;i++)if(!whiteList.includes(hack_string[i]))return"Sorry u can not hack my systems";return"good code system identify result is : "+eval(hack_string)}var workerBlob=new Blob([workerRunner.toString().replace(/^function .+\{?|\}$/g,"")],{type:"text/javascript"}),workerBlobUrl=URL.createObjectURL(workerBlob);function workerRunner(){function p(e){return isNaN(Number(e))?0:Math.round(1e4*Number(e))/1e4}function b(e,t){this.x=void 0!==e?e:0,this.y=void 0!==t?t:0,"object"==typeof e&&(this.x=e.x,this.y=e.y)}b.prototype.copy=function(){return new b(this.x,this.y)},b.prototype.add=function(e){return new b(this.x+e.x,this.y+e.y)},b.prototype.addTo=function(e){this.x+=e.x,this.y+=e.y},b.prototype.wrap=function(e,t){this.x<0?this.x+=e:this.x>=e&&(this.x-=e),this.y<0?this.y+=t:this.y>=t&&(this.y-=t)},b.prototype.wrapAngle=function(e){for(;e<0;)e+=360;for(;360<=e;)e-=360;return e},b.prototype.warpInfinite=function(e,t){return e%t},b.prototype.getLeftNormal=function(){return new b(-this.y,this.x)},b.prototype.getRightNormal=function(){return new b(this.y,-this.x)},b.prototype.subtract=function(e){return new b(this.x-e.x,this.y-e.y)},b.prototype.mult=function(e){return new b(this.x*e,this.y*e)};function l(e){return e*e}function s(e,t){return l(e.x-t.x)+l(e.y-t.y)}b.prototype.mid=function(e,t){return{x:(this.x+t.x)/2,y:this.y+t.y}},b.prototype.dot=function(e){return this.x*e.x+this.y*e.y},b.prototype.length=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},b.prototype.setLength=function(e){isNaN(Number(e))&&(this.x=this.y=0);var t=Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2));0<t?this.mult(Number(e)/t):(this.y=0,this.x=p(e))},b.prototype.distFrom=function(e){return this.subtract(e).length()},b.prototype.dir=function(e){return this.subtract(e).normalize()},b.prototype.normalize=function(){return this.mult(1/this.length())},b.prototype.angleTo=function(e){var t=this.dot(e),l=this.length(),e=e.length();return Math.acos(t/(l*e))};function t(c){c.getBallType=function(e){return 1<=e&&e<=7?c.BALL_TYPE_FULL:9<=e&&e<=15?c.BALL_TYPE_STRIPED:e===c.BALL_TYPE_BLACK?c.BALL_TYPE_BLACK:e===c.BALL_TYPE_WHITE?c.BALL_TYPE_WHITE:void 0},c.getBallTypeSnooker=function(e){return 1===e?c.BALL_TYPE_RED:1<e?c.BALL_TYPE_COLORS:e===c.BALL_TYPE_WHITE?c.BALL_TYPE_WHITE:void 0},c.Point_To_Ball_ID=function(e){var t=!1;return 1===e?t=3:2===e?t=1:3===e?t=6:4===e?t=7:5===e?t=2:6===e?t=4:7===e&&(t=8),t},c.Ball_ID_To_Point=function(e){return 1===e?2:2===e?5:3===e?1:4===e?6:6===e?3:7===e?4:8===e?7:e===c.BALL_TYPE_WHITE&&0},c.isCollideOutTable=function(e=!1,t=c.tableBoundsPoints){e=e||this;return e.y<t.top1.y1-2*c.BALL_RADIUS||e.y>t.bottom1.y1+2*c.BALL_RADIUS||e.x<t.left.x1-2*c.BALL_RADIUS||e.x>t.right.x1+2*c.BALL_RADIUS},c.lineIntersectCircle=function(l,o,e,t,a,i,r){let s=l,n=o,c=e,p=t;var y,u,e=new b(c-s,p-n),t=new b(s-a,n-i),a=e.dot(e),i=2*t.dot(e),t=i*i-4*a*(t.dot(t)-r*r);return!(t<0)&&(r=(-i+(t=Math.sqrt(t)))/(2*a),i=(-i-t)/(2*a),t=[],0<=r&&r<=1&&(a=new b(l+r*e.x,o+r*e.y),t.push(a)),0<=i&&i<=1&&(r=new b(l+i*e.x,o+i*e.y),t.push(r)),y=1/0,u=!1,t.map(e=>{var t=new b(e.x,e.y).subtract(new b(l,o)).length();t<=y&&(y=t,u=e)}),u)||!1},c.checkHoleCollision=function(o=!1,a,i=function(){}){var o=o||this,r=Number.MAX_VALUE,s=!1;o.stepsVec=a.copy();for(let l=0;l<c.holesPositions.length;l++){var n=c.holesPositions[l];let e=new b(o.x-n.x,o.y-n.y),t=c.lineIntersectCircle(o.x,o.y,o.x+a.x,o.y+a.y,n.x,n.y,2*c.BALL_RADIUS);if(t&&r>=(e=new b(o.x-t.x,o.y-t.y)).length()&&(r=e.length(),(s=n).idx=l),e.length()<n.lowSpeedFallDist&&o.veloc_vector.length()<5)return i(n,l),n;if(e.length()<n.higherSpeedFallDist)return i(n,l),n}if(r!==Number.MAX_VALUE&&s)return i(s,s.idx),s;if(c.isCollideOutTable(o)){r=Number.MAX_VALUE,s=!1;for(let e=0;e<c.holesPositions.length;e++){var t=c.holesPositions[e],l=new b(o.x-t.x,o.y-t.y);r>=l.length()&&(r=l.length(),(s=t).idx=e)}if(r!==Number.MAX_VALUE&&s)return 150<r.length&&(o.x=s.x,o.y=s.y),i(s,s.idx),s}return!1},c.checkBallsCollision=function(l=!1,e){var l=l||this,o=[];return e.map((e,t)=>{e!==l&&e.alive&&!e.fallAnimRunning&&c._checkCirclesDistance(l,e)&&o.push(t)}),o},c.checkWallLineCollision=function(t=!1){t=t||this;return Object.values(c.tableBoundsPoints).filter(e=>!1!==c._checkLineCollision(t,e)&&e)},c.checkLineHolesLockCollision=function(l=!1){l=l||this;return Object.values(c.holesLockPoints).flat().filter((e,t)=>!1!==c._checkLineCollision(l,e)&&e)},c.checkWallLineCornersCollision=function(t=!1){t=t||this;return Object.values(c.cornersBoundsPoints).flat().filter(e=>!1!==c._checkLineCollision(t,e)&&e)},c.checkWallCircleCollision=function(l=!1){var o=[],l=l||this;return Object.values(c.cornersRoundCollidersPoints).flat().filter((e,t)=>{c._checkCirclesDistance(l,e)&&o.push(e)}),o},c._checkCirclesDistance=function(e,t,l=c.BALL_DIAMETER){e=new b(e.x-t.x,e.y-t.y).length();return c._checkCirclesDistance=c._checkCirclesDistance,e<=l},c._checkLineCollision=function(e,t){var l=c.BALL_RADIUS_SQR;const o=t.x2-t.x1,a=t.y2-t.y1;var i=((e.x-t.x1)*o+(e.y-t.y1)*a)/t.lineLengthSQ;let r;return s(e,r=i<0?{x:t.x1,y:t.y1}:1<i?{x:t.x2,y:t.y2}:{x:t.x1+i*o,y:t.y1+i*a})<=l&&r},c._recalcWallReflect=function(e,t,l){e.runM=!1;var o=new b(e.x-t.x,e.y-t.y),o=o.mult(1/o.length()),o=new b(-o.y,o.x),a=parseFloat(c.cushionRestitution),t=new b(t.x,t.y).subtract(new b(e.x,e.y)).normalize(),t=new b(t.x,t.y),i=t.mult(e.veloc_vector.dot(t)),r=o.mult(e.veloc_vector.dot(o)),t=t.mult(new b(0,0).dot(t)),s=(o.mult(new b(0,0).dot(o)),e.ySpin+=-e.veloc_vector.dot(o)/(26/.028),50<e.ySpin&&(e.ySpin=50),e.ySpin<-50&&(e.ySpin=-50),t.mult(a).add(i.mult(1-a)));return 0===e.ballID&&0!==e.screw&&void 0!==e.screw&&(s=t.mult(a).add(i.mult(1-a)).add(i.mult(-e.screw*Number(String("0.60")))),e.screw=0),0===e.ballID&&0!==e.english&&(r=r.add(o.mult(p(-e.english*Number(String("0.2"))*e.veloc_vector.length()))),e.english=p(e.english*Number(String("0.25"))),e.english>-Number(String("0.1")))&&e.english<Number(String("0.1"))&&(e.english=0),i.length()>26*.14&&(e.grip=0),i.mult(-a).add(r.add(s))},c.checkBallCollisioon=function(e,t,l=c.BALL_DIAMETER){var o=new b(e.x-t.x,e.y-t.y),a=o.length(),i=(e.runM=!1,parseFloat(c.ballRestitution)),l=o.mult((l+1-a)/a).mult(.5),a=(e.x+=l.x,e.y+=l.y,t.x-=l.x,t.y-=l.y,o.normalize()),l=new b(-a.y,a.x),o=new b(t.x,t.y).subtract(new b(e.x,e.y)).normalize(),a=new b(o.x,o.y),o=l,l=a.mult(e.veloc_vector.dot(a)),r=o.mult(e.veloc_vector.dot(o)),a=a.mult(t.veloc_vector.dot(a)),s=o.mult(t.veloc_vector.dot(o)),n=a.mult(i).add(l.mult(1-i)),o=(0===e.ballID&&0!==e.screw&&void 0!==e.screw&&(n=a.mult(i).add(l.mult(1-i)).add(l.mult(-e.screw)),e.screw=0),0==e.ballID&&0!==e.english&&(r=r.add(o.mult(p(-e.english*Number(String("0.2"))*e.veloc_vector.length()))),e.english=p(e.english*Number(String("0.5"))),e.english>-Number(String("0.1"))&&e.english<Number(String("0.1"))&&(e.english=0),e.english=0),l.mult(i).add(a.mult(1-i)));return Math.abs(t.ySpin)<Math.abs(e.ySpin)&&(t.ySpin=-.5*e.ySpin),2.21<o.length()&&(t.grip=0),e.veloc_vector=r.add(n),t.veloc_vector=s.add(o),e.isMoving=!0,t.isMoving=!0},c._updateFriction=function(e){e.veloc_vectorOrg&&e.veloc_vector.length()<=e.veloc_vectorOrg.length()/parseFloat("1.15")&&0==e.effect&&(e.effect=!0),e.veloc_vector.length(),parseFloat("1.5"),e.veloc_vector.length()<23||e.veloc_vector.length()<15||e.veloc_vector.length();e.veloc_vector.copy().normalize();e.veloc_vector=e.veloc_vector.mult(c.ballsFriction),e.grip<1&&(e.grip+=.02),.2<=e.ySpin&&(e.ySpin-=.2),e.ySpin<=-.2&&(e.ySpin+=.2),-.2<=e.ySpin&&e.ySpin<=.2&&(e.ySpin=0),0!=e.ySpin&&e.veloc_vector.getLeftNormal().normalize().mult(.3*e.ySpin*e.veloc_vector.length()/3),e.veloc_vector.length()<parseFloat(this.minVelocity)&&(e.physicsElapsed=0,e.isMoving=!1,e.effect=!1,e.veloc_vector=new b)},c.pushBallFromCircleCorner=function(e,t,l=c.BALL_DIAMETER){var t=new b(e.x-t.x,e.y-t.y),o=t.length(),t=t.mult((l-o)/o);e.x+=t.x,e.y+=t.y},c.pushBallFromLineCorner=function(e,t){var t=new b(e.x-t.x,e.y-t.y),l=t.length(),t=t.mult((c.BALL_RADIUS-l)/l);e.x+=t.x,e.y+=t.y},c.ballsMoving=()=>{for(let e=0;e<c.allBallsList2.length;e++){var t=c.allBallsList2.length;if(t<=e&&(e=t-1),c.allBallsList2[e].veloc_vector.length()<parseFloat(c.minVelocity)&&(c.allBallsList2[e].isMoving=!1,c.allBallsList2[e].effect=!1,c.allBallsList2[e].veloc_vector=new b),!1===c.allBallsList2[e].alive)return!1;if(c.allBallsList2[e].isMoving)return!0;c.allBallsList2[e].fallAnimRunning}return!1},c.allBallsList2.forEach(e=>{e.veloc_vector=new b(e.veloc_vector.x,e.veloc_vector.y)}),c.vec=new b(c.vec.x,c.vec.y),c.whiteBallFake.veloc_vector=c.vec.copy(),c.whiteBallFake.isMoving=!0,c.ballsMoving();for(;c.ballsMoving()&&!c.foul;){for(var e=0;e<c.allBallsList2.length;e++){var t=c.allBallsList2.length;(function(e,t,l,o){var a=[],i=o,r=e;if(r.VecPower=t,!1!==r.alive&&!r.fallAnimRunning){if(!0===r.isMoving){for(var s,e=r.veloc_vector.copy(),t=(r.veloc_vector=r.veloc_vector.mult(o.deltaBall),r.veloc_vector.length()),n=1,c=r.veloc_vector,p=parseFloat("2"),y=(p<t&&(n=Math.ceil(t/p),c=r.veloc_vector.mult(1/n)),r.veloc_vector=e.copy(),[]),u=[],m=[],h=(o.BALL_DIAMETER,0);h<n;h++){r.x+=c.x,r.y+=c.y,r.stepVector=c;var g=i.checkBallsCollision(r,o.allBallsList2);if(g&&g.length&&m.push(...g),0<m.length)break;if(i.checkHoleCollision(r,c.copy(),(e,t)=>{r.fallAnimRunning=!0,r.isMoving=!1,r.typeCol="pocket",r.fallHoleIdx=t,r.Col=o.holesPositions[t],o.collectedBalls.push(r),r.colsStep.push({typeCol:"pocket",Col:o.holesPositions[t]}),o.Collisioons.push({ball:r,coll:o.holesPositions[t],type:"pocket"}),o.firstHitPos||(o.firstHitPos=new b(r.x,r.y)),o.ballIDs.push(r.ballID),o.PocketsCollisioon.push({ball:r,coll:o.holesPositions[t],type:"pocket"}),(o.gameType!==o.gameTypes.snooker&&o.gameType!==o.gameTypes.pool9Ball&&o.ballsType!==o.getBallType(r.ballID)&&o.ballsType!==o.BALL_TYPE_NEUTRAL||o.gameType!==o.gameTypes.snooker&&o.gameType!==o.gameTypes.pool9Ball&&-1===o.ballsType&&o.getBallType(r.ballID)===o.BALL_TYPE_BLACK||o.gameType===o.gameTypes.pool9Ball&&o.firstHit===o.BALL_TYPE_NEUTRAL&&r.ballID!==o.firstHitBallNum||o.gameType===o.gameTypes.pool9Ball&&o.firstHit!==o.BALL_TYPE_NEUTRAL&&o.firstHit.ballID!==o.firstHitBallNum||o.gameType===o.gameTypes.snooker&&(1===o.playersParams[o.activePlayer].ballsType||2===o.playersParams[o.activePlayer].ballsType)&&o.getBallTypeSnooker(r.points)!==o.playersParams[o.activePlayer].ballsType||o.gameType===o.gameTypes.snooker&&5===o.playersParams[o.activePlayer].ballsType&&r.points!==o.firstHitBallNum)&&(o.foul=!0),o.gameType===o.gameTypes.snooker&&1<o.ballIDs.length&&(2===o.playersParams[o.activePlayer].ballsType||5===o.playersParams[o.activePlayer].ballsType)&&(o.foul=!0),l===r&&(o.foul=!0),o.foul||o.validBallsInsertedOnTurn++,!1===o.startPos&&(o.startPos=new b(r.x,r.y)),a.push(r)}))return;var g=i.checkWallLineCollision(r),f=i.checkWallLineCornersCollision(r),v=i.checkWallCircleCollision(r);if(g&&g.length&&y.push(...g),f&&f.length&&(f.no_aim,y.push(...f)),v&&v.length&&u.push(...v),0<y.length||0<u.length)break}if(0<y.length||0<u.length||0<m.length)for(var d=!1,t=(r.x-=c.x,r.y-=c.y,c.length()),k=1,L=c.copy(),p=parseFloat("0.5"),h=(p<t&&(k=Math.ceil(t/p),L=c.mult(1/k)),0);h<k&&!0!==d;h++){if(r.x+=L.x,r.y+=L.y,r.collision_stepVector=L,i.checkHoleCollision(r,L.copy(),(e,t)=>{r.fallAnimRunning=!0,r.isMoving=!1,r.typeCol="pocket",r.fallHoleIdx=t,r.Col=o.holesPositions[t],o.collectedBalls.push(r),r.colsStep.push({typeCol:"pocket",Col:o.holesPositions[t]}),o.Collisioons.push({ball:r,coll:o.holesPositions[t],type:"pocket"}),o.firstHitPos||(o.firstHitPos=new b(r.x,r.y)),o.ballIDs.push(r.ballID),o.PocketsCollisioon.push({ball:r,coll:o.holesPositions[t],type:"pocket"}),(o.gameType!==o.gameTypes.snooker&&o.gameType!==o.gameTypes.pool9Ball&&o.ballsType!==o.getBallType(r.ballID)&&o.ballsType!==o.BALL_TYPE_NEUTRAL||o.gameType!==o.gameTypes.snooker&&o.gameType!==o.gameTypes.pool9Ball&&-1===o.ballsType&&o.getBallType(r.ballID)===o.BALL_TYPE_BLACK||o.gameType===o.gameTypes.pool9Ball&&o.firstHit===o.BALL_TYPE_NEUTRAL&&r.ballID!==o.firstHitBallNum||o.gameType===o.gameTypes.pool9Ball&&o.firstHit!==o.BALL_TYPE_NEUTRAL&&o.firstHit.ballID!==o.firstHitBallNum||o.gameType===o.gameTypes.snooker&&(1===o.playersParams[o.activePlayer].ballsType||2===o.playersParams[o.activePlayer].ballsType)&&o.getBallTypeSnooker(r.points)!==o.playersParams[o.activePlayer].ballsType||o.gameType===o.gameTypes.snooker&&5===o.playersParams[o.activePlayer].ballsType&&r.points!==o.firstHitBallNum)&&(o.foul=!0),o.gameType===o.gameTypes.snooker&&1<o.ballIDs.length&&(2===o.playersParams[o.activePlayer].ballsType||5===o.playersParams[o.activePlayer].ballsType)&&(o.foul=!0),l===r&&(o.foul=!0),o.foul||o.validBallsInsertedOnTurn++,!1===o.startPos&&(o.startPos=new b(r.x,r.y)),a.push(r)}))return;if(0<m.length)for(var T=0;T<m.length;T++)if(!0===(s=i._checkCirclesDistance(r,o.allBallsList2[m[T]],o.BALL_DIAMETER))){if(i.checkBallCollisioon(r,o.allBallsList2[m[T]]),h=20,d=!0,o.stepsHit=o.steps,!(o.allBallsList2[m[T]].typeCol="ball")===o.startPos&&(o.startPos=new b(r.x,r.y)),r.colsStep.push({typeCol:"ball",Col:o.allBallsList2[m[T]]}),a.push(o.allBallsList2[m[T]]),o.BallsCollisioon.push({ball:r,coll:o.allBallsList2[m[T]],type:"ball"}),o.firstHit!==o.BALL_TYPE_NEUTRAL&&o.firstHit!==r||o.firstHitCollisioons2.push({ball:r,coll:o.allBallsList2[m[T]],type:"ball"}),o.firstHitPos||(o.firstHitPos=new b(r.x,r.y)),o.Collisioons.push({ball:r,coll:o.allBallsList2[m[T]],type:"ball"}),o.gameType!==o.gameTypes.snooker&&o.gameType!==o.gameTypes.pool9Ball&&o.ballsType!==o.getBallType(o.allBallsList2[m[T]].ballID)&&o.ballsType!==o.BALL_TYPE_NEUTRAL&&o.firstHit===o.BALL_TYPE_NEUTRAL||o.gameType!==o.gameTypes.snooker&&o.gameType!==o.gameTypes.pool9Ball&&-1===o.ballsType&&o.getBallType(o.allBallsList2[m[T]].ballID)===o.BALL_TYPE_BLACK||o.gameType===o.gameTypes.pool9Ball&&o.firstHit===o.BALL_TYPE_NEUTRAL&&o.allBallsList2[m[T]].ballID!==o.firstHitBallNum||o.gameType===o.gameTypes.pool9Ball&&o.firstHit!==o.BALL_TYPE_NEUTRAL&&o.firstHit.ballID!==o.firstHitBallNum||o.gameType===o.gameTypes.snooker&&(1===o.playersParams[o.activePlayer].ballsType||2===o.playersParams[o.activePlayer].ballsType)&&o.firstHit===o.BALL_TYPE_NEUTRAL&&o.getBallTypeSnooker(o.allBallsList2[m[T]].points)!==o.playersParams[o.activePlayer].ballsType||o.gameType===o.gameTypes.snooker&&5===o.playersParams[o.activePlayer].ballsType&&o.allBallsList2[m[T]].points!==o.firstHitBallNum)return o.foul=!0;o.firstHit===o.BALL_TYPE_NEUTRAL&&(o.firstHitCollisioons.push({ball:r,coll:o.allBallsList2[m[T]],type:"ball"}),o.firstHit=o.allBallsList2[m[T]]),r.firstHit=l.firstHit}if(!0===d)break;if(0<y.length)for(T=0;T<y.length;T++)if(!1!==(s=i._checkLineCollision(r,y[T]))&&!y[T].isCornerLock){!(h=20)===o.startPos&&(o.startPos=new b(r.x,r.y)),r.veloc_vector=i._recalcWallReflect(r,s,r.veloc_vector),d=!0,o.firstHitPos||(o.firstHitPos=new b(r.x,r.y)),i.pushBallFromLineCorner(r,s),o.firstHit!==o.BALL_TYPE_NEUTRAL&&o.firstHit!==r||o.firstHitCollisioons2.push({ball:r,coll:y[T],type:"line"}),o.LinesCollisioon.push({ball:r,coll:y[T],type:"line"}),o.Collisioons.push({ball:r,coll:y[T],type:"line"}),o.firstHit===o.BALL_TYPE_NEUTRAL&&o.firstHitCollisioons.push({ball:r,coll:y[T],type:"line"}),r.colsStep.push({typeCol:"line",Col:y[T]});break}if(!0===d)break;if(0<u.length)for(T=0;T<u.length;T++)if(!0===(s=i._checkCirclesDistance(r,u[T],u[T].collisionDistance))){!(h=20)===o.startPos&&(o.startPos=new b(r.x,r.y)),r.veloc_vector=i._recalcWallReflect(r,u[T],r.veloc_vector),d=!0,o.firstHitPos||(o.firstHitPos=new b(r.x,r.y)),i.pushBallFromCircleCorner(r,u[T]),o.Collisioons.push({ball:r,coll:u[T],type:"vetrex"}),o.VetrexCollisioon.push({ball:r,coll:u[T],type:"vetrex"}),o.firstHit===o.BALL_TYPE_NEUTRAL&&o.firstHitCollisioons.push({ball:r,coll:u[T],type:"vetrex"}),o.firstHit!==o.BALL_TYPE_NEUTRAL&&o.firstHit!==r||o.firstHitCollisioons2.push({ball:r,coll:u[T],type:"vetrex"}),r.colsStep.push({typeCol:"vetrex",Col:u[T]});break}if(!0===d)break}o._updateFriction(r)}}})(c.allBallsList2[e=t<=e?t-1:e],c.vec.copy(),c.whiteBallFake,c)}c.steps++,c.firstHit===c.BALL_TYPE_NEUTRAL&&(c.whiteBallStep=c.whiteBallFake.colsStep.length),0}}onmessage=function(e){var e=e.data;"shot"===e.name&&(t(e.OptionBalls),delete(e=e.OptionBalls).getBallType,delete e.getBallTypeSnooker,delete e.Point_To_Ball_ID,delete e.Ball_ID_To_Point,delete e.isCollideOutTable,delete e.lineIntersectCircle,delete e.checkHoleCollision,delete e.checkBallsCollision,delete e.checkWallLineCollision,delete e.checkLineHolesLockCollision,delete e.checkWallLineCornersCollision,delete e.checkWallCircleCollision,delete e._checkCirclesDistance,delete e._checkLineCollision,delete e._recalcWallReflect,delete e.checkBallCollisioon,delete e._updateFriction,delete e.pushBallFromCircleCorner,delete e.pushBallFromLineCorner,delete e.ballsMoving,postMessage({name:"shot",data:e}))}}function workerRunner2(){var a={};requestAnimationFrame=requestAnimationFrame||mozRequestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame,cancelAnimationFrame=cancelAnimationFrame||mozCancelAnimationFrame||webkitCancelAnimationFrame||msCancelAnimationFrame,onmessage=function(e){var t,e=e.data,l=e.name,o=e.fakeId;switch(e.hasOwnProperty("time")&&(t=e.time),l){case"setInterval":a[o]=setInterval(function(){postMessage({fakeId:o})},t);break;case"requestAnimationFrame":a[o]={},a[o].timer=requestAnimationFrame(function(e){postMessage({name:"requestAnimationFrame",fakeId:o,time:e,cancel:a[o].timer}),a.hasOwnProperty(o)&&delete a[o]});break;case"cancelAnimationFrame":cancelAnimationFrame(a[o].timer),delete a[o];break;case"clearInterval":a.hasOwnProperty(o)&&(clearInterval(a[o]),delete a[o]);break;case"setTimeout":a[o]=setTimeout(function(){postMessage({fakeId:o}),a.hasOwnProperty(o)&&delete a[o]},t);break;case"clearTimeout":a.hasOwnProperty(o)&&(clearTimeout(a[o]),delete a[o])}}}this.requestAnimationFrame=this.requestAnimationFrame||this.mozRequestAnimationFrame||this.webkitRequestAnimationFrame||this.msRequestAnimationFrame,this.cancelAnimationFrame=this.cancelAnimationFrame||this.mozCancelAnimationFrame||this.webkitCancelAnimationFrame||this.msCancelAnimationFrame;var worker,fakeIdToCallback={},lastFakeId=0,maxFakeId=0x80000000000000,logPrefix="HackTimer.js by turuslan: ";function getFakeId(){for(;lastFakeId==maxFakeId?lastFakeId=0:lastFakeId++,fakeIdToCallback.hasOwnProperty(lastFakeId););return lastFakeId}function startWorker(){"undefined"!=typeof Worker?(void 0===worker&&(worker=new Worker(workerBlobUrl),URL.revokeObjectURL(workerBlobUrl),requestAnimationFrame2=function(e){var t=getFakeId();return fakeIdToCallback[t]={callback:e,name:"requestAnimationFrame",isTimeout:!0},worker.postMessage({name:"requestAnimationFrame",fakeId:t}),t},cancelAnimationFrame2=function(e){fakeIdToCallback.hasOwnProperty(e)&&(delete fakeIdToCallback[e],worker.postMessage({name:"cancelAnimationFrame",fakeId:e}))},window.setInterval2=function(e,t){var l=getFakeId();return fakeIdToCallback[l]={callback:e,parameters:Array.prototype.slice.call(arguments,2),name:"setInterval"},worker.postMessage({name:"setInterval",fakeId:l,time:t}),l},window.clearInterval2=function(e){fakeIdToCallback.hasOwnProperty(e)&&(delete fakeIdToCallback[e],worker.postMessage({name:"clearInterval",fakeId:e}))},window.setTimeout2=function(e,t){var l=getFakeId();return fakeIdToCallback[l]={callback:e,parameters:Array.prototype.slice.call(arguments,2),name:"setTimeout",isTimeout:!0},worker.postMessage({name:"setTimeout",fakeId:l,time:t}),l},window.clearTimeout2=function(e){fakeIdToCallback.hasOwnProperty(e)&&(delete fakeIdToCallback[e],worker.postMessage({name:"clearTimeout",fakeId:e}))}),Date.now(),worker.onmessage=function(e){var e=e.data,t=e.name,e=e.data;"shot"===t&&((t=new Opponent).rotation=e.rotation,t.power=e.power,t.vec.x=e.vec.x,t.vec.y=e.vec.y,t.evaluation=0,t.OptionBalls=e,AI2.finishedSession||e.rndShoot!=gamePlay.rndShoot?AI2.finishedSession=!0:(AI2.currentOpponent=t,AI2.train()))},worker.onmessage3=function(e){var t,l,o,e=e.data,a=e.fakeId;if(fakeIdToCallback.hasOwnProperty(a)&&(o=(t=fakeIdToCallback[a]).callback,l=t.parameters,t.hasOwnProperty("isTimeout"))&&t.isTimeout&&delete fakeIdToCallback[a],"string"==typeof o)try{o=new Function(o),t.name}catch(e){alert(logPrefix+"Error parsing callback code string: ",e)}"function"==typeof o&&("requestAnimationFrame"==t.name?o.apply(window,[e.time]):o.apply(window,l))},worker.onerror=function(e){console.log(e),URL.revokeObjectURL(workerBlobUrl)}):alert("Sorry, your browser does not support Web Workers...")}function stopWorker(){worker.terminate(),worker=void 0}/Android/.test(navigator.userAgent)||/iP[ao]d|iPhone/i.test(navigator.userAgent);class GenericWebWorker{constructor(...e){this.args=e.map(e=>"function"==typeof e?{type:"fn",fn:e.toString()}:e)}async exec2(e){var t=(t=this.worker.toString()).substring(t.indexOf("{")+1,t.lastIndexOf("}")),t=window.URL.createObjectURL(new Blob([t])),o=new Worker(t),e=(o.postMessage({callback:e.toString(),args:this.args}),await new Promise((t,l)=>{o.onmessage=e=>e.data&&e.data.error?l(e.data.error):t(e.data),o.onerror=e=>l(e.message)}));return o.terminate(),window.URL.revokeObjectURL(t),e}async exec(e,o){var t=this.worker.toString(),t=t.substring(t.indexOf("{")+1,t.lastIndexOf("}"));let a=window.URL.createObjectURL(new Blob([t])),i=new Worker(a);return i.postMessage({callback:e.toString(),args:this.args}),new Promise((t,l)=>{i.onmessage=e=>{e.data&&void 0!==e.data.progress?o&&o(e.data):(t(e.data),i.terminate(),window.URL.revokeObjectURL(a))},i.onerror=e=>{l(e.message),i.terminate(),window.URL.revokeObjectURL(a)}})}worker(){onmessage=async function(e){try{var t=new Function("return "+e.data.callback)(),l=e.data.args.map(e=>"fn"==e.type?new Function("return "+e.fn)():e);try{var o=await t.apply(this,l);return postMessage(o)}catch(e){throw new Error("CallbackError: "+e)}}catch(e){postMessage({error:e.message})}}}} 
 !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).THREE={})}(this,function(e){let S="128",W=100,R=300,C=301,P=302,D=303,I=304,N=306,B=307,G=1e3,U=1001,k=1002,O=1003,j=1004,q=1005,H=1006,X=1007,Y=1008,Ce=1009,Z=1012,J=1014,Pe=1015,De=1016,Q=1020,K=1022,Ie=1023,$=1026,ee=1027,z=33776,F=33777,te=33778,re=33779,ie=35840,ne=35841,ae=35842,se=35843,oe=37492,le=37496,he=2300,ce=2301,ue=2302,de=2400,pe=2401,me=2402,fe=2500,ge=2501,Ne=3e3,ve=3001,ye=3007,xe=3002,_e=3004,we=3005,be=3006,Me=35044,Se=35048,Be="300 es";class ze{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)}hasEventListener(e,t){var r;return void 0!==this._listeners&&void 0!==(r=this._listeners)[e]&&-1!==r[e].indexOf(t)}removeEventListener(e,t){if(void 0!==this._listeners){var r=this._listeners[e];if(void 0!==r){let e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}dispatchEvent(r){if(void 0!==this._listeners){var e=this._listeners[r.type];if(void 0!==e){r.target=this;var i=e.slice(0);for(let e=0,t=i.length;e<t;e++)i[e].call(this,r);r.target=null}}}}let n=[];for(let e=0;e<256;e++)n[e]=(e<16?"0":"")+e.toString(16);let Fe=1234567,Oe=Math.PI/180,He=180/Math.PI;function Ge(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(n[255&e]+n[e>>8&255]+n[e>>16&255]+n[e>>24&255]+"-"+n[255&t]+n[t>>8&255]+"-"+n[t>>16&15|64]+n[t>>24&255]+"-"+n[63&r|128]+n[r>>8&255]+"-"+n[r>>16&255]+n[r>>24&255]+n[255&i]+n[i>>8&255]+n[i>>16&255]+n[i>>24&255]).toUpperCase()}function m(e,t,r){return Math.max(t,Math.min(r,e))}function Ue(e,t){return(e%t+t)%t}function ke(e,t,r){return(1-r)*e+r*t}function Ve(e){return 0==(e&e-1)&&0!==e}function We(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function je(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var qe=Object.freeze({__proto__:null,DEG2RAD:Oe,RAD2DEG:He,generateUUID:Ge,clamp:m,euclideanModulo:Ue,mapLinear:function(e,t,r,i,n){return i+(e-t)*(n-i)/(r-t)},inverseLerp:function(e,t,r){return e!==t?(r-e)/(t-e):0},lerp:ke,damp:function(e,t,r,i){return ke(e,t,1-Math.exp(-r*i))},pingpong:function(e,t=1){return t-Math.abs(Ue(e,2*t)-t)},smoothstep:function(e,t,r){return e<=t?0:r<=e?1:(e=(e-t)/(r-t))*e*(3-2*e)},smootherstep:function(e,t,r){return e<=t?0:r<=e?1:(e=(e-t)/(r-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return((Fe=16807*(Fe=void 0!==e?e%2147483647:Fe)%2147483647)-1)/2147483646},degToRad:function(e){return e*Oe},radToDeg:function(e){return e*He},isPowerOfTwo:Ve,ceilPowerOfTwo:We,floorPowerOfTwo:je,setQuaternionFromProperEuler:function(e,t,r,i,n){var a=Math.cos,s=Math.sin,o=a(r/2),l=s(r/2),h=a((t+i)/2),c=s((t+i)/2),u=a((t-i)/2),d=s((t-i)/2),p=a((i-t)/2),m=s((i-t)/2);switch(n){case"XYX":e.set(o*c,l*u,l*d,o*h);break;case"YZY":e.set(l*d,o*c,l*u,o*h);break;case"ZXZ":e.set(l*u,l*d,o*c,o*h);break;case"XZX":e.set(o*c,l*m,l*p,o*h);break;case"YXY":e.set(l*p,o*c,l*m,o*h);break;case"ZYZ":e.set(l*m,l*p,o*c,o*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+n)}}});class Te{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){var t=this.x,r=this.y,e=e.elements;return this.x=e[0]*t+e[3]*r+e[6],this.y=e[1]*t+e[4]*r+e[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){var t=this.x-e.x,e=this.y-e.y;return t*t+e*e}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){var r=Math.cos(t),t=Math.sin(t),i=this.x-e.x,n=this.y-e.y;return this.x=i*r-n*t+e.x,this.y=i*t+n*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}Te.prototype.isVector2=!0;class v{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,n,a,s,o,l){var h=this.elements;return h[0]=e,h[1]=i,h[2]=s,h[3]=t,h[4]=n,h[5]=o,h[6]=r,h[7]=a,h[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){e=e.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){var e=e.elements,t=t.elements,r=this.elements,i=e[0],n=e[3],a=e[6],s=e[1],o=e[4],l=e[7],h=e[2],c=e[5],e=e[8],u=t[0],d=t[3],p=t[6],m=t[1],f=t[4],g=t[7],v=t[2],y=t[5],t=t[8];return r[0]=i*u+n*m+a*v,r[3]=i*d+n*f+a*y,r[6]=i*p+n*g+a*t,r[1]=s*u+o*m+l*v,r[4]=s*d+o*f+l*y,r[7]=s*p+o*g+l*t,r[2]=h*u+c*m+e*v,r[5]=h*d+c*f+e*y,r[8]=h*p+c*g+e*t,this}multiplyScalar(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){var e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],e=e[8];return t*a*e-t*s*l-r*n*e+r*s*o+i*n*l-i*a*o}invert(){var e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],h=e[8],c=h*a-s*l,u=s*o-h*n,d=l*n-a*o,p=t*c+r*u+i*d;return 0==p?this.set(0,0,0,0,0,0,0,0,0):(e[0]=c*(c=1/p),e[1]=(i*l-h*r)*c,e[2]=(s*r-i*a)*c,e[3]=u*c,e[4]=(h*t-i*o)*c,e[5]=(i*n-s*t)*c,e[6]=d*c,e[7]=(r*o-l*t)*c,e[8]=(a*t-r*n)*c,this)}transpose(){var e=this.elements,t=e[1];return e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,n,a,s){var o=Math.cos(n),n=Math.sin(n);return this.set(r*o,r*n,-r*(o*a+n*s)+a+e,-i*n,i*o,-i*(-n*a+o*s)+s+t,0,0,1),this}scale(e,t){var r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){var t=Math.cos(e),e=Math.sin(e),r=this.elements,i=r[0],n=r[3],a=r[6],s=r[1],o=r[4],l=r[7];return r[0]=t*i+e*s,r[3]=t*n+e*o,r[6]=t*a+e*l,r[1]=-e*i+t*s,r[4]=-e*n+t*o,r[7]=-e*a+t*l,this}translate(e,t){var r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){var t=this.elements,r=e.elements;for(let e=0;e<9;e++)if(t[e]!==r[e])return!1;return!0}fromArray(t,r=0){for(let e=0;e<9;e++)this.elements[e]=t[e+r];return this}toArray(e=[],t=0){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}let Xe;v.prototype.isMatrix3=!0;class Ye{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;var r;return 2048<(t=e instanceof HTMLCanvasElement?e:((Xe=void 0===Xe?document.createElementNS("http://www.w3.org/1999/xhtml","canvas"):Xe).width=e.width,Xe.height=e.height,r=Xe.getContext("2d"),e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),Xe)).width||2048<t.height?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}}let Ze=0;class c extends ze{constructor(e=c.DEFAULT_IMAGE,t=c.DEFAULT_MAPPING,r=1001,i=1001,n=1006,a=1008,s=1023,o=1009,l=1,h=3e3){super(),Object.defineProperty(this,"id",{value:Ze++}),this.uuid=Ge(),this.name="",this.image=e,this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=n,this.minFilter=a,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=o,this.offset=new Te(0,0),this.repeat=new Te(1,1),this.center=new Te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new v,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=h,this.version=0,this.onUpdate=null}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this}toJSON(e){var t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Ge()),!t&&void 0===e.images[i.uuid]){let r;if(Array.isArray(i)){r=[];for(let e=0,t=i.length;e<t;e++)i[e].isDataTexture?r.push(Je(i[e].image)):r.push(Je(i[e]))}else r=Je(i);e.images[i.uuid]={uuid:i.uuid,url:r}}r.image=i.uuid}return t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping===R){if(e.applyMatrix3(this.matrix),e.x<0||1<e.x)switch(this.wrapS){case G:e.x=e.x-Math.floor(e.x);break;case U:e.x=e.x<0?0:1;break;case k:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case G:e.y=e.y-Math.floor(e.y);break;case U:e.y=e.y<0?0:1;break;case k:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}return e}set needsUpdate(e){!0===e&&this.version++}}function Je(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Ye.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}c.DEFAULT_IMAGE=void 0,c.DEFAULT_MAPPING=R,c.prototype.isTexture=!0;class Ee{constructor(e=0,t=0,r=0,i=1){this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){var t=this.x,r=this.y,i=this.z,n=this.w,e=e.elements;return this.x=e[0]*t+e[4]*r+e[8]*i+e[12]*n,this.y=e[1]*t+e[5]*r+e[9]*i+e[13]*n,this.z=e[2]*t+e[6]*r+e[10]*i+e[14]*n,this.w=e[3]*t+e[7]*r+e[11]*i+e[15]*n,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let s,o,l,h,t=e.elements,c=t[0],u=t[4],d=t[8],p=t[1],m=t[5],f=t[9],g=t[2],v=t[6],y=t[10];if(Math.abs(u-p)<.01&&Math.abs(d-g)<.01&&Math.abs(f-v)<.01)if(Math.abs(u+p)<.1&&Math.abs(d+g)<.1&&Math.abs(f+v)<.1&&Math.abs(c+m+y-3)<.1)this.set(1,0,0,0);else{s=Math.PI;let e=(c+1)/2,t=(m+1)/2,r=(y+1)/2,i=(u+p)/4,n=(d+g)/4,a=(f+v)/4;e>t&&e>r?h=e<.01?(o=0,l=.707106781):(o=Math.sqrt(e),l=i/o,n/o):t>r?h=t<.01?(o=.707106781,l=0,.707106781):(l=Math.sqrt(t),o=i/l,a/l):r<.01?(o=.707106781,l=.707106781,h=0):(h=Math.sqrt(r),o=n/h,l=a/h),this.set(o,l,h,s)}else{let e=Math.sqrt((v-f)*(v-f)+(d-g)*(d-g)+(p-u)*(p-u));Math.abs(e)<.001&&(e=1),this.x=(v-f)/e,this.y=(d-g)/e,this.z=(p-u)/e,this.w=Math.acos((c+m+y-1)/2)}return this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}Ee.prototype.isVector4=!0;class Qe extends ze{constructor(e,t,r){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new Ee(0,0,e,t),this.scissorTest=!1,this.viewport=new Ee(0,0,e,t),r=r||{},this.texture=new c(void 0,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=1,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:H,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null}setTexture(e){e.image={width:this.width,height:this.height,depth:this.depth},this.texture=e}setSize(e,t,r=1){this.width===e&&this.height===t&&this.depth===r||(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Qe.prototype.isWebGLRenderTarget=!0;class Ke extends Qe{constructor(e,t,r){super(e,t,r),this.samples=4}copy(e){return super.copy.call(this,e),this.samples=e.samples,this}}Ke.prototype.isWebGLMultisampleRenderTarget=!0;class p{constructor(e=0,t=0,r=0,i=1){this._x=e,this._y=t,this._z=r,this._w=i}static slerp(e,t,r,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),r.slerpQuaternions(e,t,i)}static slerpFlat(e,t,r,i,n,s,o){let l=r[i+0],h=r[i+1],c=r[i+2],u=r[i+3];var d=n[s+0],p=n[s+1],m=n[s+2],s=n[s+3];if(0===o)e[t+0]=l,e[t+1]=h,e[t+2]=c,e[t+3]=u;else if(1===o)e[t+0]=d,e[t+1]=p,e[t+2]=m,e[t+3]=s;else{if(u!==s||l!==d||h!==p||c!==m){let r=1-o,i=l*d+h*p+c*m+u*s,n=0<=i?1:-1,a=1-i*i;if(a>Number.EPSILON){let e=Math.sqrt(a),t=Math.atan2(e,i*n);r=Math.sin(r*t)/e,o=Math.sin(o*t)/e}let e=o*n;if(l=l*r+d*e,h=h*r+p*e,c=c*r+m*e,u=u*r+s*e,r===1-o){let e=1/Math.sqrt(l*l+h*h+c*c+u*u);l*=e,h*=e,c*=e,u*=e}}e[t]=l,e[t+1]=h,e[t+2]=c,e[t+3]=u}}static multiplyQuaternionsFlat(e,t,r,i,n,a){var s=r[i],o=r[i+1],l=r[i+2],r=r[i+3],i=n[a],h=n[a+1],c=n[a+2],n=n[a+3];return e[t]=s*n+r*i+o*c-l*h,e[t+1]=o*n+r*h+l*i-s*c,e[t+2]=l*n+r*c+s*h-o*i,e[t+3]=r*n-s*i-o*h-l*c,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=e._x,i=e._y,n=e._z,a=e._order,e=Math.cos,s=Math.sin,o=e(r/2),l=e(i/2),h=e(n/2),c=s(r/2),u=s(i/2),d=s(n/2);switch(a){case"XYZ":this._x=c*l*h+o*u*d,this._y=o*u*h-c*l*d,this._z=o*l*d+c*u*h,this._w=o*l*h-c*u*d;break;case"YXZ":this._x=c*l*h+o*u*d,this._y=o*u*h-c*l*d,this._z=o*l*d-c*u*h,this._w=o*l*h+c*u*d;break;case"ZXY":this._x=c*l*h-o*u*d,this._y=o*u*h+c*l*d,this._z=o*l*d+c*u*h,this._w=o*l*h-c*u*d;break;case"ZYX":this._x=c*l*h-o*u*d,this._y=o*u*h+c*l*d,this._z=o*l*d-c*u*h,this._w=o*l*h+c*u*d;break;case"YZX":this._x=c*l*h+o*u*d,this._y=o*u*h+c*l*d,this._z=o*l*d-c*u*h,this._w=o*l*h-c*u*d;break;case"XZY":this._x=c*l*h-o*u*d,this._y=o*u*h-c*l*d,this._z=o*l*d+c*u*h,this._w=o*l*h+c*u*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){var t=t/2,r=Math.sin(t);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(t),this._onChangeCallback(),this}setFromRotationMatrix(e){var e=e.elements,t=e[0],r=e[4],i=e[8],n=e[1],a=e[5],s=e[9],o=e[2],l=e[6],h=e[10],c=t+a+h;if(0<c){let e=.5/Math.sqrt(c+1);this._w=.25/e,this._x=(l-s)*e,this._y=(i-o)*e,this._z=(n-r)*e}else if(a<t&&h<t){let e=2*Math.sqrt(1+t-a-h);this._w=(l-s)/e,this._x=.25*e,this._y=(r+n)/e,this._z=(i+o)/e}else if(h<a){let e=2*Math.sqrt(1+a-t-h);this._w=(i-o)/e,this._x=(r+n)/e,this._y=.25*e,this._z=(s+l)/e}else{let e=2*Math.sqrt(1+h-t-a);this._w=(n-r)/e,this._x=(i+o)/e,this._y=(s+l)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0):(this._x=0,this._y=-e.z,this._z=e.y)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x),this._w=r,this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(m(this.dot(e),-1,1)))}rotateTowards(e,t){var r=this.angleTo(e);return 0!==r&&(t=Math.min(1,t/r),this.slerp(e,t)),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(e=1/e),this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){var r=e._x,i=e._y,n=e._z,e=e._w,a=t._x,s=t._y,o=t._z,t=t._w;return this._x=r*t+e*a+i*o-n*s,this._y=i*t+e*s+n*a-r*o,this._z=n*t+e*o+r*s-i*a,this._w=e*t-r*a-i*s-n*o,this._onChangeCallback(),this}slerp(t,r){if(0!==r){if(1===r)return this.copy(t);var i=this._x,n=this._y,a=this._z,s=this._w;let e=s*t._w+i*t._x+n*t._y+a*t._z;if(e<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,e=-e):this.copy(t),1<=e)this._w=s,this._x=i,this._y=n,this._z=a;else{t=1-e*e;if(t<=Number.EPSILON){let e=1-r;this._w=e*s+r*this._w,this._x=e*i+r*this._x,this._y=e*n+r*this._y,this._z=e*a+r*this._z,this.normalize()}else{var t=Math.sqrt(t),o=Math.atan2(t,e),l=Math.sin((1-r)*o)/t,r=Math.sin(r*o)/t;this._w=s*l+this._w*r,this._x=i*l+this._x*r,this._y=n*l+this._y*r,this._z=a*l+this._z*r}this._onChangeCallback()}}return this}slerpQuaternions(e,t,r){this.copy(e).slerp(t,r)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}p.prototype.isQuaternion=!0;class Ae{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.z=r}set(e,t,r){return void 0===r&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(et.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(et.setFromAxisAngle(e,t))}applyMatrix3(e){var t=this.x,r=this.y,i=this.z,e=e.elements;return this.x=e[0]*t+e[3]*r+e[6]*i,this.y=e[1]*t+e[4]*r+e[7]*i,this.z=e[2]*t+e[5]*r+e[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){var t=this.x,r=this.y,i=this.z,e=e.elements,n=1/(e[3]*t+e[7]*r+e[11]*i+e[15]);return this.x=(e[0]*t+e[4]*r+e[8]*i+e[12])*n,this.y=(e[1]*t+e[5]*r+e[9]*i+e[13])*n,this.z=(e[2]*t+e[6]*r+e[10]*i+e[14])*n,this}applyQuaternion(e){var t=this.x,r=this.y,i=this.z,n=e.x,a=e.y,s=e.z,e=e.w,o=e*t+a*i-s*r,l=e*r+s*t-n*i,h=e*i+n*r-a*t,t=-n*t-a*r-s*i;return this.x=o*e+t*-n+l*-s-h*-a,this.y=l*e+t*-a+h*-n-o*-s,this.z=h*e+t*-s+o*-a-l*-n,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){var t=this.x,r=this.y,i=this.z,e=e.elements;return this.x=e[0]*t+e[4]*r+e[8]*i,this.y=e[1]*t+e[5]*r+e[9]*i,this.z=e[2]*t+e[6]*r+e[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){var r=e.x,i=e.y,e=e.z,n=t.x,a=t.y,t=t.z;return this.x=i*t-e*a,this.y=e*n-r*t,this.z=r*a-i*n,this}projectOnVector(e){var t=e.lengthSq();return 0===t?this.set(0,0,0):(t=e.dot(this)/t,this.copy(e).multiplyScalar(t))}projectOnPlane(e){return $e.copy(this).projectOnVector(e),this.sub($e)}reflect(e){return this.sub($e.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());return 0===t?Math.PI/2:(e=this.dot(e)/t,Math.acos(m(e,-1,1)))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){var t=this.x-e.x,r=this.y-e.y,e=this.z-e.z;return t*t+r*r+e*e}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){var i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){e=e.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(e){var t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),e=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=e,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,r){return void 0!==r&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Ae.prototype.isVector3=!0;let $e=new Ae,et=new p;class tt{constructor(e=new Ae(1/0,1/0,1/0),t=new Ae(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(r){let i=1/0,n=1/0,a=1/0,s=-1/0,o=-1/0,l=-1/0;for(let e=0,t=r.length;e<t;e+=3){var h=r[e],c=r[e+1],u=r[e+2];h<i&&(i=h),c<n&&(n=c),u<a&&(a=u),h>s&&(s=h),c>o&&(o=c),u>l&&(l=u)}return this.min.set(i,n,a),this.max.set(s,o,l),this}setFromBufferAttribute(r){let i=1/0,n=1/0,a=1/0,s=-1/0,o=-1/0,l=-1/0;for(let e=0,t=r.count;e<t;e++){var h=r.getX(e),c=r.getY(e),u=r.getZ(e);h<i&&(i=h),c<n&&(n=c),u<a&&(a=u),h>s&&(s=h),c>o&&(o=c),u>l&&(l=u)}return this.min.set(i,n,a),this.max.set(s,o,l),this}setFromPoints(r){this.makeEmpty();for(let e=0,t=r.length;e<t;e++)this.expandByPoint(r[e]);return this}setFromCenterAndSize(e,t){t=it.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new Ae),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new Ae),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);var t=e.geometry,r=(void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),nt.copy(t.boundingBox),nt.applyMatrix4(e.matrixWorld),this.union(nt)),e.children);for(let e=0,t=r.length;e<t;e++)this.expandByObject(r[e]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new Ae),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,it),it.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return r=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){return!this.isEmpty()&&(this.getCenter(ut),dt.subVectors(this.max,ut),at.subVectors(e.a,ut),st.subVectors(e.b,ut),ot.subVectors(e.c,ut),lt.subVectors(st,at),ht.subVectors(ot,st),ct.subVectors(at,ot),!!ft([0,-lt.z,lt.y,0,-ht.z,ht.y,0,-ct.z,ct.y,lt.z,0,-lt.x,ht.z,0,-ht.x,ct.z,0,-ct.x,-lt.y,lt.x,0,-ht.y,ht.x,0,-ct.y,ct.x,0],at,st,ot,dt))&&!!ft([1,0,0,0,1,0,0,0,1],at,st,ot,dt)&&(pt.crossVectors(lt,ht),ft([pt.x,pt.y,pt.z],at,st,ot,dt))}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new Ae),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return it.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(it).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(rt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rt)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}tt.prototype.isBox3=!0;let rt=[new Ae,new Ae,new Ae,new Ae,new Ae,new Ae,new Ae,new Ae],it=new Ae,nt=new tt,at=new Ae,st=new Ae,ot=new Ae,lt=new Ae,ht=new Ae,ct=new Ae,ut=new Ae,dt=new Ae,pt=new Ae,mt=new Ae;function ft(r,i,n,a,s){for(let e=0,t=r.length-3;e<=t;e+=3){mt.fromArray(r,e);var o=s.x*Math.abs(mt.x)+s.y*Math.abs(mt.y)+s.z*Math.abs(mt.z),l=i.dot(mt),h=n.dot(mt),c=a.dot(mt);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>o)return!1}return!0}let gt=new tt,vt=new Ae,yt=new Ae,xt=new Ae;class _t{constructor(e=new Ae,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(r,e){var i=this.center;void 0!==e?i.copy(e):gt.setFromPoints(r).getCenter(i);let n=0;for(let e=0,t=r.length;e<t;e++)n=Math.max(n,i.distanceToSquared(r[e]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){var r=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new Ae),t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new tt),this.isEmpty()?e.makeEmpty():(e.set(this.center,this.center),e.expandByScalar(this.radius)),e}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){xt.subVectors(e,this.center);var r=xt.lengthSq();if(r>this.radius*this.radius){let e=Math.sqrt(r),t=.5*(e-this.radius);this.center.add(xt.multiplyScalar(t/e)),this.radius+=t}return this}union(e){return yt.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(vt.copy(e.center).add(yt)),this.expandByPoint(vt.copy(e.center).sub(yt)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}let wt=new Ae,bt=new Ae,Mt=new Ae,St=new Ae,Tt=new Ae,Et=new Ae,At=new Ae;class Lt{constructor(e=new Ae,t=new Ae(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new Ae),t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wt)),this}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new Ae),t.subVectors(e,this.origin);e=t.dot(this.direction);return e<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(e).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){var t=wt.subVectors(e,this.origin).dot(this.direction);return(t<0?this.origin:(wt.copy(this.direction).multiplyScalar(t).add(this.origin),wt)).distanceToSquared(e)}distanceSqToSegment(e,t,r,i){bt.copy(e).add(t).multiplyScalar(.5),Mt.copy(t).sub(e).normalize(),St.copy(this.origin).sub(bt);var e=.5*e.distanceTo(t),t=-this.direction.dot(Mt),n=St.dot(this.direction),a=-St.dot(Mt),s=St.lengthSq(),o=Math.abs(1-t*t);let l,h,c,u;if(0<o)if(l=t*a-n,h=t*n-a,u=e*o,0<=l)if(h>=-u)if(h<=u){let e=1/o;l*=e,h*=e,c=l*(l+t*h+2*n)+h*(t*l+h+2*a)+s}else h=e,l=Math.max(0,-(t*h+n)),c=-l*l+h*(h+2*a)+s;else h=-e,l=Math.max(0,-(t*h+n)),c=-l*l+h*(h+2*a)+s;else c=h<=-u?(l=Math.max(0,-(-t*e+n)),h=0<l?-e:Math.min(Math.max(-e,-a),e),-l*l+h*(h+2*a)+s):h<=u?(l=0,(h=Math.min(Math.max(-e,-a),e))*(h+2*a)+s):(l=Math.max(0,-(t*e+n)),h=0<l?e:Math.min(Math.max(-e,-a),e),-l*l+h*(h+2*a)+s);else h=0<t?-e:e,l=Math.max(0,-(t*h+n)),c=-l*l+h*(h+2*a)+s;return r&&r.copy(this.direction).multiplyScalar(l).add(this.origin),i&&i.copy(Mt).multiplyScalar(h).add(bt),c}intersectSphere(e,t){wt.subVectors(e.center,this.origin);var r=wt.dot(this.direction),i=wt.dot(wt)-r*r,e=e.radius*e.radius;return e<i||(i=r+(e=Math.sqrt(e-i)),(r=r-e)<0&&i<0)?null:r<0?this.at(i,t):this.at(r,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null}intersectPlane(e,t){e=this.distanceToPlane(e);return null===e?null:this.at(e,t)}intersectsPlane(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,n,a,s,o;var l=1/this.direction.x,h=1/this.direction.y,c=1/this.direction.z,u=this.origin;return i=0<=l?(r=(e.min.x-u.x)*l,(e.max.x-u.x)*l):(r=(e.max.x-u.x)*l,(e.min.x-u.x)*l),a=0<=h?(n=(e.min.y-u.y)*h,(e.max.y-u.y)*h):(n=(e.max.y-u.y)*h,(e.min.y-u.y)*h),r>a||n>i||((n>r||r!=r)&&(r=n),(a<i||i!=i)&&(i=a),o=0<=c?(s=(e.min.z-u.z)*c,(e.max.z-u.z)*c):(s=(e.max.z-u.z)*c,(e.min.z-u.z)*c),r>o)||s>i||((s>r||r!=r)&&(r=s),(i=o<i||i!=i?o:i)<0)?null:this.at(0<=r?r:i,t)}intersectsBox(e){return null!==this.intersectBox(e,wt)}intersectTriangle(e,t,r,i,n){Tt.subVectors(t,e),Et.subVectors(r,e),At.crossVectors(Tt,Et);let a,s=this.direction.dot(At);if(0<s){if(i)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}St.subVectors(this.origin,e);t=a*this.direction.dot(Et.crossVectors(St,Et));return t<0||(r=a*this.direction.dot(Tt.cross(St)))<0||t+r>s||(i=-a*St.dot(At))<0?null:this.at(i/s,n)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Le{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,r,i,n,a,s,o,l,h,c,u,d,p,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=n,g[5]=a,g[9]=s,g[13]=o,g[2]=l,g[6]=h,g[10]=c,g[14]=u,g[3]=d,g[7]=p,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Le).fromArray(this.elements)}copy(e){var t=this.elements,e=e.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],this}copyPosition(e){var t=this.elements,e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this}setFromMatrix3(e){e=e.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){var t=this.elements,r=e.elements,i=1/Rt.setFromMatrixColumn(e,0).length(),n=1/Rt.setFromMatrixColumn(e,1).length(),e=1/Rt.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=0,t[8]=r[8]*e,t[9]=r[9]*e,t[10]=r[10]*e,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");let n=this.elements,t=e.x,r=e.y,i=e.z,a=Math.cos(t),s=Math.sin(t),o=Math.cos(r),l=Math.sin(r),h=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){let e=a*h,t=a*c,r=s*h,i=s*c;n[0]=o*h,n[4]=-o*c,n[8]=l,n[1]=t+r*l,n[5]=e-i*l,n[9]=-s*o,n[2]=i-e*l,n[6]=r+t*l,n[10]=a*o}else if("YXZ"===e.order){let e=o*h,t=o*c,r=l*h,i=l*c;n[0]=e+i*s,n[4]=r*s-t,n[8]=a*l,n[1]=a*c,n[5]=a*h,n[9]=-s,n[2]=t*s-r,n[6]=i+e*s,n[10]=a*o}else if("ZXY"===e.order){let e=o*h,t=o*c,r=l*h,i=l*c;n[0]=e-i*s,n[4]=-a*c,n[8]=r+t*s,n[1]=t+r*s,n[5]=a*h,n[9]=i-e*s,n[2]=-a*l,n[6]=s,n[10]=a*o}else if("ZYX"===e.order){let e=a*h,t=a*c,r=s*h,i=s*c;n[0]=o*h,n[4]=r*l-t,n[8]=e*l+i,n[1]=o*c,n[5]=i*l+e,n[9]=t*l-r,n[2]=-l,n[6]=s*o,n[10]=a*o}else if("YZX"===e.order){let e=a*o,t=a*l,r=s*o,i=s*l;n[0]=o*h,n[4]=i-e*c,n[8]=r*c+t,n[1]=c,n[5]=a*h,n[9]=-s*h,n[2]=-l*h,n[6]=t*c+r,n[10]=e-i*c}else if("XZY"===e.order){let e=a*o,t=a*l,r=s*o,i=s*l;n[0]=o*h,n[4]=-c,n[8]=l*h,n[1]=e*c+i,n[5]=a*h,n[9]=t*c-r,n[2]=r*c-t,n[6]=s*h,n[10]=i*c+e}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Pt,e,Dt)}lookAt(e,t,r){var i=this.elements;return Bt.subVectors(e,t),0===Bt.lengthSq()&&(Bt.z=1),Bt.normalize(),It.crossVectors(r,Bt),0===It.lengthSq()&&(1===Math.abs(r.z)?Bt.x+=1e-4:Bt.z+=1e-4,Bt.normalize(),It.crossVectors(r,Bt)),It.normalize(),Nt.crossVectors(Bt,It),i[0]=It.x,i[4]=Nt.x,i[8]=Bt.x,i[1]=It.y,i[5]=Nt.y,i[9]=Bt.y,i[2]=It.z,i[6]=Nt.z,i[10]=Bt.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){var e=e.elements,t=t.elements,r=this.elements,i=e[0],n=e[4],a=e[8],s=e[12],o=e[1],l=e[5],h=e[9],c=e[13],u=e[2],d=e[6],p=e[10],m=e[14],f=e[3],g=e[7],v=e[11],e=e[15],y=t[0],x=t[4],_=t[8],w=t[12],b=t[1],M=t[5],S=t[9],T=t[13],E=t[2],A=t[6],L=t[10],R=t[14],C=t[3],P=t[7],D=t[11],t=t[15];return r[0]=i*y+n*b+a*E+s*C,r[4]=i*x+n*M+a*A+s*P,r[8]=i*_+n*S+a*L+s*D,r[12]=i*w+n*T+a*R+s*t,r[1]=o*y+l*b+h*E+c*C,r[5]=o*x+l*M+h*A+c*P,r[9]=o*_+l*S+h*L+c*D,r[13]=o*w+l*T+h*R+c*t,r[2]=u*y+d*b+p*E+m*C,r[6]=u*x+d*M+p*A+m*P,r[10]=u*_+d*S+p*L+m*D,r[14]=u*w+d*T+p*R+m*t,r[3]=f*y+g*b+v*E+e*C,r[7]=f*x+g*M+v*A+e*P,r[11]=f*_+g*S+v*L+e*D,r[15]=f*w+g*T+v*R+e*t,this}multiplyScalar(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){var e=this.elements,t=e[0],r=e[4],i=e[8],n=e[12],a=e[1],s=e[5],o=e[9],l=e[13],h=e[2],c=e[6],u=e[10],d=e[14];return e[3]*(+n*o*c-i*l*c-n*s*u+r*l*u+i*s*d-r*o*d)+e[7]*(+t*o*d-t*l*u+n*a*u-i*a*d+i*l*h-n*o*h)+e[11]*(+t*l*c-t*s*d-n*a*c+r*a*d+n*s*h-r*l*h)+e[15]*(-i*s*h-t*o*c+t*s*u+i*a*c-r*a*u+r*o*h)}transpose(){var e=this.elements,t=e[1];return e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){var i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){var e=this.elements,t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],l=e[7],h=e[8],c=e[9],u=e[10],d=e[11],p=e[12],m=e[13],f=e[14],g=e[15],v=c*f*l-m*u*l+m*o*d-s*f*d-c*o*g+s*u*g,y=p*u*l-h*f*l-p*o*d+a*f*d+h*o*g-a*u*g,x=h*m*l-p*c*l+p*s*d-a*m*d-h*s*g+a*c*g,_=p*c*o-h*m*o-p*s*u+a*m*u+h*s*f-a*c*f,w=t*v+r*y+i*x+n*_;return 0==w?this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0):(e[0]=v*(v=1/w),e[1]=(m*u*n-c*f*n-m*i*d+r*f*d+c*i*g-r*u*g)*v,e[2]=(s*f*n-m*o*n+m*i*l-r*f*l-s*i*g+r*o*g)*v,e[3]=(c*o*n-s*u*n-c*i*l+r*u*l+s*i*d-r*o*d)*v,e[4]=y*v,e[5]=(h*f*n-p*u*n+p*i*d-t*f*d-h*i*g+t*u*g)*v,e[6]=(p*o*n-a*f*n-p*i*l+t*f*l+a*i*g-t*o*g)*v,e[7]=(a*u*n-h*o*n+h*i*l-t*u*l-a*i*d+t*o*d)*v,e[8]=x*v,e[9]=(p*c*n-h*m*n-p*r*d+t*m*d+h*r*g-t*c*g)*v,e[10]=(a*m*n-p*s*n+p*r*l-t*m*l-a*r*g+t*s*g)*v,e[11]=(h*s*n-a*c*n-h*r*l+t*c*l+a*r*d-t*s*d)*v,e[12]=_*v,e[13]=(h*m*i-p*c*i+p*r*u-t*m*u-h*r*f+t*c*f)*v,e[14]=(p*s*i-a*m*i-p*r*o+t*m*o+a*r*f-t*s*f)*v,e[15]=(a*c*i-h*s*i+h*r*o-t*c*o-a*r*u+t*s*u)*v,this)}scale(e){var t=this.elements,r=e.x,i=e.y,e=e.z;return t[0]*=r,t[4]*=i,t[8]*=e,t[1]*=r,t[5]*=i,t[9]*=e,t[2]*=r,t[6]*=i,t[10]*=e,t[3]*=r,t[7]*=i,t[11]*=e,this}getMaxScaleOnAxis(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];return Math.sqrt(Math.max(t,e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){var t=Math.cos(e),e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this}makeRotationY(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this}makeRotationZ(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){var r=Math.cos(t),t=Math.sin(t),i=1-r,n=e.x,a=e.y,e=e.z,s=i*n,o=i*a;return this.set(s*n+r,s*a-t*e,s*e+t*a,0,s*a+t*e,o*a+r,o*e-t*n,0,s*e-t*a,o*e+t*n,i*e*e+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r){return this.set(1,t,r,0,e,1,r,0,e,t,1,0,0,0,0,1),this}compose(e,t,r){var i=this.elements,n=t._x,a=t._y,s=t._z,t=t._w,o=n+n,l=a+a,h=s+s,c=n*o,u=n*l,n=n*h,d=a*l,a=a*h,s=s*h,o=t*o,l=t*l,t=t*h,h=r.x,p=r.y,r=r.z;return i[0]=(1-(d+s))*h,i[1]=(u+t)*h,i[2]=(n-l)*h,i[3]=0,i[4]=(u-t)*p,i[5]=(1-(c+s))*p,i[6]=(a+o)*p,i[7]=0,i[8]=(n+l)*r,i[9]=(a-o)*r,i[10]=(1-(c+d))*r,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){var i=this.elements;let n=Rt.set(i[0],i[1],i[2]).length();var a=Rt.set(i[4],i[5],i[6]).length(),s=Rt.set(i[8],i[9],i[10]).length(),e=(this.determinant()<0&&(n=-n),e.x=i[12],e.y=i[13],e.z=i[14],Ct.copy(this),1/n),i=1/a,o=1/s;return Ct.elements[0]*=e,Ct.elements[1]*=e,Ct.elements[2]*=e,Ct.elements[4]*=i,Ct.elements[5]*=i,Ct.elements[6]*=i,Ct.elements[8]*=o,Ct.elements[9]*=o,Ct.elements[10]*=o,t.setFromRotationMatrix(Ct),r.x=n,r.y=a,r.z=s,this}makePerspective(e,t,r,i,n,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var s=this.elements,o=2*n/(r-i),l=(t+e)/(t-e),r=(r+i)/(r-i),i=-(a+n)/(a-n),a=-2*a*n/(a-n);return s[0]=2*n/(t-e),s[4]=0,s[8]=l,s[12]=0,s[1]=0,s[5]=o,s[9]=r,s[13]=0,s[2]=0,s[6]=0,s[10]=i,s[14]=a,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,r,i,n,a){var s=this.elements,o=1/(t-e),l=1/(r-i),h=1/(a-n),t=(t+e)*o,e=(r+i)*l,r=(a+n)*h;return s[0]=2*o,s[4]=0,s[8]=0,s[12]=-t,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-e,s[2]=0,s[6]=0,s[10]=-2*h,s[14]=-r,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){var t=this.elements,r=e.elements;for(let e=0;e<16;e++)if(t[e]!==r[e])return!1;return!0}fromArray(t,r=0){for(let e=0;e<16;e++)this.elements[e]=t[e+r];return this}toArray(e=[],t=0){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}Le.prototype.isMatrix4=!0;let Rt=new Ae,Ct=new Le,Pt=new Ae(0,0,0),Dt=new Ae(1,1,1),It=new Ae,Nt=new Ae,Bt=new Ae,zt=new Le,Ft=new p;class Ot{constructor(e=0,t=0,r=0,i=Ot.DefaultOrder){this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._order=i||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,r){var e=e.elements,i=e[0],n=e[4],a=e[8],s=e[1],o=e[5],l=e[9],h=e[2],c=e[6],u=e[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(m(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-l,u),this._z=Math.atan2(-n,i)):(this._x=Math.atan2(c,o),this._z=0);break;case"YXZ":this._x=Math.asin(-m(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(a,u),this._z=Math.atan2(s,o)):(this._y=Math.atan2(-h,i),this._z=0);break;case"ZXY":this._x=Math.asin(m(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(-h,u),this._z=Math.atan2(-n,o)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-m(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(c,u),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-n,o));break;case"YZX":this._z=Math.asin(m(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,o),this._y=Math.atan2(-h,i)):(this._x=0,this._y=Math.atan2(a,u));break;case"XZY":this._z=Math.asin(-m(n,-1,1)),Math.abs(n)<.9999999?(this._x=Math.atan2(c,o),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-l,u),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==r&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return zt.makeRotationFromQuaternion(e),this.setFromRotationMatrix(zt,t,r)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return Ft.setFromEuler(this),this.setFromQuaternion(Ft,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new Ae(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ot.prototype.isEuler=!0,Ot.DefaultOrder="XYZ",Ot.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Ht{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}}let Gt=0,Ut=new Ae,kt=new p,Vt=new Le,Wt=new Ae,jt=new Ae,qt=new Ae,Xt=new p,Yt=new Ae(1,0,0),Zt=new Ae(0,1,0),Jt=new Ae(0,0,1),Qt={type:"added"},Kt={type:"removed"};class u extends ze{constructor(){super(),Object.defineProperty(this,"id",{value:Gt++}),this.uuid=Ge(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=u.DefaultUp.clone();let e=new Ae,t=new Ot,r=new p,i=new Ae(1,1,1);t._onChange(function(){r.setFromEuler(t,!1)}),r._onChange(function(){t.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Le},normalMatrix:{value:new v}}),this.matrix=new Le,this.matrixWorld=new Le,this.matrixAutoUpdate=u.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ht,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return kt.setFromAxisAngle(e,t),this.quaternion.multiply(kt),this}rotateOnWorldAxis(e,t){return kt.setFromAxisAngle(e,t),this.quaternion.premultiply(kt),this}rotateX(e){return this.rotateOnAxis(Yt,e)}rotateY(e){return this.rotateOnAxis(Zt,e)}rotateZ(e){return this.rotateOnAxis(Jt,e)}translateOnAxis(e,t){return Ut.copy(e).applyQuaternion(this.quaternion),this.position.add(Ut.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Yt,e)}translateY(e){return this.translateOnAxis(Zt,e)}translateZ(e){return this.translateOnAxis(Jt,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Vt.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?Wt.copy(e):Wt.set(e,t,r);e=this.parent;this.updateWorldMatrix(!0,!1),jt.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vt.lookAt(jt,Wt,this.up):Vt.lookAt(Wt,jt,this.up),this.quaternion.setFromRotationMatrix(Vt),e&&(Vt.extractRotation(e.matrixWorld),kt.setFromRotationMatrix(Vt),this.quaternion.premultiply(kt.invert()))}add(e){if(1<arguments.length)for(let e=0;e<arguments.length;e++)this.add(arguments[e]);else e===this?console.error("THREE.Object3D.add: object can't be added as a child of itself.",e):e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),(e.parent=this).children.push(e),e.dispatchEvent(Qt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e);return this}remove(e){if(1<arguments.length)for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);else{var t=this.children.indexOf(e);-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Kt))}return this}clear(){for(let e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Kt)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Vt.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Vt.multiply(e.parent.matrixWorld)),e.applyMatrix4(Vt),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(r,i){if(this[r]===i)return this;for(let e=0,t=this.children.length;e<t;e++){var n=this.children[e].getObjectByProperty(r,i);if(void 0!==n)return n}}getWorldPosition(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new Ae),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new p),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jt,e,qt),e}getWorldScale(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new Ae),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(jt,Xt,e),e}getWorldDirection(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new Ae),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(r){r(this);var i=this.children;for(let e=0,t=i.length;e<t;e++)i[e].traverse(r)}traverseVisible(r){if(!1!==this.visible){r(this);var i=this.children;for(let e=0,t=i.length;e<t;e++)i[e].traverseVisible(r)}}traverseAncestors(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(r){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||r)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),r=!(this.matrixWorldNeedsUpdate=!1));var i=this.children;for(let e=0,t=i.length;e<t;e++)i[e].updateMatrixWorld(r)}updateWorldMatrix(e,t){var r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){let r=this.children;for(let e=0,t=r.length;e<t;e++)r[e].updateWorldMatrix(!1,!0)}}toJSON(o){let e=void 0===o||"string"==typeof o,l={},i=(e&&(o={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},l.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"}),{});function n(e,t){return void 0===e[t.uuid]&&(e[t.uuid]=t.toJSON(o)),t.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor)&&(i.instanceColor=this.instanceColor.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=n(o.geometries,this.geometry);let e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){let r=e.shapes;if(Array.isArray(r))for(let t=0,e=r.length;t<e;t++){let e=r[t];n(o.shapes,e)}else n(o.shapes,r)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton)&&(n(o.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid),void 0!==this.material)if(Array.isArray(this.material)){let r=[];for(let e=0,t=this.material.length;e<t;e++)r.push(n(o.materials,this.material[e]));i.material=r}else i.material=n(o.materials,this.material);if(0<this.children.length){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(o).object)}if(0<this.animations.length){i.animations=[];for(let t=0;t<this.animations.length;t++){let e=this.animations[t];i.animations.push(n(o.animations,e))}}if(e){let e=h(o.geometries),t=h(o.materials),r=h(o.textures),i=h(o.images),n=h(o.shapes),a=h(o.skeletons),s=h(o.animations);0<e.length&&(l.geometries=e),0<t.length&&(l.materials=t),0<r.length&&(l.textures=r),0<i.length&&(l.images=i),0<n.length&&(l.shapes=n),0<a.length&&(l.skeletons=a),0<s.length&&(l.animations=s)}return l.object=i,l;function h(e){var t,r=[];for(t in e){var i=e[t];delete i.metadata,r.push(i)}return r}}clone(e){return(new this.constructor).copy(this,e)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let e=0;e<t.children.length;e++){var r=t.children[e];this.add(r.clone())}return this}}u.DefaultUp=new Ae(0,1,0),u.DefaultMatrixAutoUpdate=!0,u.prototype.isObject3D=!0;let $t=new Ae,er=new Ae,tr=new v;class rr{constructor(e=new Ae(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){r=$t.subVectors(r,t).cross(er.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new Ae),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new Ae);var r=e.delta($t),i=this.normal.dot(r);return 0===i?0===this.distanceToPoint(e.start)?t.copy(e.start):null:(i=-(e.start.dot(this.normal)+this.constant)/i)<0||1<i?null:t.copy(r).multiplyScalar(i).add(e.start)}intersectsLine(e){var t=this.distanceToPoint(e.start),e=this.distanceToPoint(e.end);return t<0&&0<e||e<0&&0<t}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new Ae),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){t=t||tr.getNormalMatrix(e),e=this.coplanarPoint($t).applyMatrix4(e),t=this.normal.applyMatrix3(t).normalize();return this.constant=-e.dot(t),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}rr.prototype.isPlane=!0;let ir=new Ae,nr=new Ae,ar=new Ae,sr=new Ae,or=new Ae,lr=new Ae,hr=new Ae,cr=new Ae,ur=new Ae,dr=new Ae;class f{constructor(e=new Ae,t=new Ae,r=new Ae){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Ae),i.subVectors(r,t),ir.subVectors(e,t),i.cross(ir);r=i.lengthSq();return 0<r?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(e,t,r,i,n){ir.subVectors(i,t),nr.subVectors(r,t),ar.subVectors(e,t);var i=ir.dot(ir),r=ir.dot(nr),e=ir.dot(ar),t=nr.dot(nr),a=nr.dot(ar),s=i*t-r*r;return void 0===n&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),n=new Ae),0==s?n.set(-2,-1,-1):n.set(1-(t=(t*e-r*a)*(n=1/s))-(s=(i*a-r*e)*n),s,t)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,sr),0<=sr.x&&0<=sr.y&&sr.x+sr.y<=1}static getUV(e,t,r,i,n,a,s,o){return this.getBarycoord(e,t,r,i,sr),o.set(0,0),o.addScaledVector(n,sr.x),o.addScaledVector(a,sr.y),o.addScaledVector(s,sr.z),o}static isFrontFacing(e,t,r,i){return ir.subVectors(r,t),nr.subVectors(e,t),ir.cross(nr).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ir.subVectors(this.c,this.b),nr.subVectors(this.a,this.b),.5*ir.cross(nr).length()}getMidpoint(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new Ae),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return f.getNormal(this.a,this.b,this.c,e)}getPlane(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new rr),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return f.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,n){return f.getUV(e,this.a,this.b,this.c,t,r,i,n)}containsPoint(e){return f.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return f.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new Ae);var r=this.a,i=this.b,n=this.c;let a,s;or.subVectors(i,r),lr.subVectors(n,r),cr.subVectors(e,r);var o=or.dot(cr),l=lr.dot(cr);if(o<=0&&l<=0)return t.copy(r);ur.subVectors(e,i);var h=or.dot(ur),c=lr.dot(ur);if(0<=h&&c<=h)return t.copy(i);var u=o*c-h*l;if(u<=0&&0<=o&&h<=0)return a=o/(o-h),t.copy(r).addScaledVector(or,a);dr.subVectors(e,n);var e=or.dot(dr),d=lr.dot(dr);return 0<=d&&e<=d?t.copy(n):(o=e*l-o*d)<=0&&0<=l&&d<=0?(s=l/(l-d),t.copy(r).addScaledVector(lr,s)):(l=h*d-e*c)<=0&&0<=c-h&&0<=e-d?(hr.subVectors(n,i),s=(c-h)/(c-h+(e-d)),t.copy(i).addScaledVector(hr,s)):(n=1/(l+o+u),a=o*n,s=u*n,t.copy(r).addScaledVector(or,a).addScaledVector(lr,s))}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let pr=0;function t(){Object.defineProperty(this,"id",{value:pr++}),this.uuid=Ge(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=W,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}t.prototype=Object.assign(Object.create(ze.prototype),{constructor:t,isMaterial:!0,onBuild:function(){},onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var r,i=e[t];void 0===i?console.warn("THREE.Material: '"+t+"' parameter is undefined."):"shading"===t?(console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i):void 0!==(r=this[t])?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}},toJSON:function(r){let e=void 0===r||"string"==typeof r;e&&(r={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){var t,r=[];for(t in e){var i=e[t];delete i.metadata,r.push(i)}return r}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(r).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(r).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(r).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(r).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(r).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(r).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(r).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(r).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(r).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(r).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(r).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(r).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(r).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(r).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(r).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(r).uuid,void 0!==this.combine)&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(r).uuid),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),0<this.alphaTest&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),1<this.wireframeLinewidth&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.morphNormals&&(i.morphNormals=!0),!0===this.skinning&&(i.skinning=!0),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){let e=n(r.textures),t=n(r.images);0<e.length&&(i.textures=e),0<t.length&&(i.images=t)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var r=e.clippingPlanes;let i=null;if(null!==r){let t=r.length;i=new Array(t);for(let e=0;e!==t;++e)i[e]=r[e].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(t.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});let mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fr={h:0,s:0,l:0},gr={h:0,s:0,l:0};function vr(e,t,r){return r<0&&(r+=1),1<r&&--r,r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+6*(t-e)*(2/3-r):e}function yr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function xr(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class Re{constructor(e,t,r){return void 0===t&&void 0===r?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,r){return this.r=e,this.g=t,this.b=r,this}setHSL(e,t,r){return e=Ue(e,1),t=m(t,0,1),r=m(r,0,1),0===t?this.r=this.g=this.b=r:(this.r=vr(t=2*r-(r=r<=.5?r*(1+t):r+t-r*t),r,e+1/3),this.g=vr(t,r,e),this.b=vr(t,r,e-1/3)),this}setStyle(t){function n(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let i;var e=r[1],a=r[2];switch(e){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,n(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,n(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){let e=parseFloat(i[1])/360,t=parseInt(i[2],10)/100,r=parseInt(i[3],10)/100;return n(i[4]),this.setHSL(e,t,r)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){let e=r[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return t&&0<t.length?this.setColorName(t):this}setColorName(e){var t=mr[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t=2){return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t=2){t=0<t?1/t:1;return this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=yr(e.r),this.g=yr(e.g),this.b=yr(e.b),this}copyLinearToSRGB(e){return this.r=xr(e.r),this.g=xr(e.g),this.b=xr(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t=this.r,r=this.g,i=this.b,n=Math.max(t,r,i),a=Math.min(t,r,i);let s,o;var l=(a+n)/2;if(a===n)s=0,o=0;else{let e=n-a;switch(o=l<=.5?e/(n+a):e/(2-n-a),n){case t:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-t)/e+2;break;case i:s=(t-r)/e+4}s/=6}return e.h=s,e.s=o,e.l=l,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,r){return this.getHSL(fr),fr.h+=e,fr.s+=t,fr.l+=r,this.setHSL(fr.h,fr.s,fr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(fr),e.getHSL(gr);var e=ke(fr.h,gr.h,t),r=ke(fr.s,gr.s,t),t=ke(fr.l,gr.l,t);return this.setHSL(e,r,t),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}Re.NAMES=mr,Re.prototype.isColor=!0,Re.prototype.r=1,Re.prototype.g=1,Re.prototype.b=1;class _r extends t{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this}}_r.prototype.isMeshBasicMaterial=!0;let i=new Ae,wr=new Te;class T{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===r,this.usage=Me,this.updateRange={offset:0,count:-1},this.version=0,this.onUploadCallback=function(){}}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(r,i,n){r*=this.itemSize,n*=i.itemSize;for(let e=0,t=this.itemSize;e<t;e++)this.array[r+e]=i.array[n+e];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(r){var i=this.array;let n=0;for(let t=0,e=r.length;t<e;t++){let e=r[t];void 0===e&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",t),e=new Re),i[n++]=e.r,i[n++]=e.g,i[n++]=e.b}return this}copyVector2sArray(r){var i=this.array;let n=0;for(let t=0,e=r.length;t<e;t++){let e=r[t];void 0===e&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",t),e=new Te),i[n++]=e.x,i[n++]=e.y}return this}copyVector3sArray(r){var i=this.array;let n=0;for(let t=0,e=r.length;t<e;t++){let e=r[t];void 0===e&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",t),e=new Ae),i[n++]=e.x,i[n++]=e.y,i[n++]=e.z}return this}copyVector4sArray(r){var i=this.array;let n=0;for(let t=0,e=r.length;t<e;t++){let e=r[t];void 0===e&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",t),e=new Ee),i[n++]=e.x,i[n++]=e.y,i[n++]=e.z,i[n++]=e.w}return this}applyMatrix3(r){if(2===this.itemSize)for(let e=0,t=this.count;e<t;e++)wr.fromBufferAttribute(this,e),wr.applyMatrix3(r),this.setXY(e,wr.x,wr.y);else if(3===this.itemSize)for(let e=0,t=this.count;e<t;e++)i.fromBufferAttribute(this,e),i.applyMatrix3(r),this.setXYZ(e,i.x,i.y,i.z);return this}applyMatrix4(r){for(let e=0,t=this.count;e<t;e++)i.x=this.getX(e),i.y=this.getY(e),i.z=this.getZ(e),i.applyMatrix4(r),this.setXYZ(e,i.x,i.y,i.z);return this}applyNormalMatrix(r){for(let e=0,t=this.count;e<t;e++)i.x=this.getX(e),i.y=this.getY(e),i.z=this.getZ(e),i.applyNormalMatrix(r),this.setXYZ(e,i.x,i.y,i.z);return this}transformDirection(r){for(let e=0,t=this.count;e<t;e++)i.x=this.getX(e),i.y=this.getY(e),i.z=this.getZ(e),i.transformDirection(r),this.setXYZ(e,i.x,i.y,i.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=n,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Me&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}T.prototype.isBufferAttribute=!0;class br extends T{constructor(e,t,r){super(new Int8Array(e),t,r)}}class Mr extends T{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class Sr extends T{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class Tr extends T{constructor(e,t,r){super(new Int16Array(e),t,r)}}class Er extends T{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Ar extends T{constructor(e,t,r){super(new Int32Array(e),t,r)}}class Lr extends T{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Rr extends T{constructor(e,t,r){super(new Uint16Array(e),t,r)}}Rr.prototype.isFloat16BufferAttribute=!0;class V extends T{constructor(e,t,r){super(new Float32Array(e),t,r)}}class Cr extends T{constructor(e,t,r){super(new Float64Array(e),t,r)}}function Pr(r){if(0===r.length)return-1/0;let i=r[0];for(let e=1,t=r.length;e<t;++e)r[e]>i&&(i=r[e]);return i}let Dr={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Ir(e,t){return new Dr[e](t)}let Nr=0,Br=new Le,zr=new u,Fr=new Ae,Or=new tt,Hr=new tt,h=new Ae;class E extends ze{constructor(){super(),Object.defineProperty(this,"id",{value:Nr++}),this.uuid=Ge(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(65535<Pr(e)?Lr:Er)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(t){let e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){let e=(new v).getNormalMatrix(t);r.applyNormalMatrix(e),r.needsUpdate=!0}r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}rotateX(e){return Br.makeRotationX(e),this.applyMatrix4(Br),this}rotateY(e){return Br.makeRotationY(e),this.applyMatrix4(Br),this}rotateZ(e){return Br.makeRotationZ(e),this.applyMatrix4(Br),this}translate(e,t,r){return Br.makeTranslation(e,t,r),this.applyMatrix4(Br),this}scale(e,t,r){return Br.makeScale(e,t,r),this.applyMatrix4(Br),this}lookAt(e){return zr.lookAt(e),zr.updateMatrix(),this.applyMatrix4(zr.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Fr).negate(),this.translate(Fr.x,Fr.y,Fr.z),this}setFromPoints(r){var i=[];for(let e=0,t=r.length;e<t;e++){var n=r[e];i.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new V(i,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new tt);var e=this.attributes.position,r=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ae(-1/0,-1/0,-1/0),new Ae(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),r)for(let e=0,t=r.length;e<t;e++){var i=r[e];Or.setFromBufferAttribute(i),this.morphTargetsRelative?(h.addVectors(this.boundingBox.min,Or.min),this.boundingBox.expandByPoint(h),h.addVectors(this.boundingBox.max,Or.max),this.boundingBox.expandByPoint(h)):(this.boundingBox.expandByPoint(Or.min),this.boundingBox.expandByPoint(Or.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new _t);var i=this.attributes.position,n=this.morphAttributes.position;if(i&&i.isGLBufferAttribute)console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ae,1/0);else if(i){var a=this.boundingSphere.center;if(Or.setFromBufferAttribute(i),n)for(let e=0,t=n.length;e<t;e++){var s=n[e];Hr.setFromBufferAttribute(s),this.morphTargetsRelative?(h.addVectors(Or.min,Hr.min),Or.expandByPoint(h),h.addVectors(Or.max,Hr.max),Or.expandByPoint(h)):(Or.expandByPoint(Hr.min),Or.expandByPoint(Hr.max))}Or.getCenter(a);let r=0;for(let e=0,t=i.count;e<t;e++)h.fromBufferAttribute(i,e),r=Math.max(r,a.distanceToSquared(h));if(n)for(let e=0,t=n.length;e<t;e++){var o=n[e],l=this.morphTargetsRelative;for(let e=0,t=o.count;e<t;e++)h.fromBufferAttribute(o,e),l&&(Fr.fromBufferAttribute(i,e),h.add(Fr)),r=Math.max(r,a.distanceToSquared(h))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeFaceNormals(){}computeTangents(){let e=this.index,b=this.attributes;if(null===e||void 0===b.position||void 0===b.normal||void 0===b.uv)console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");else{let n=e.array,a=b.position.array,r=b.normal.array,s=b.uv.array,t=a.length/3,i=(void 0===b.tangent&&this.setAttribute("tangent",new T(new Float32Array(4*t),4)),b.tangent.array),o=[],l=[];for(let e=0;e<t;e++)o[e]=new Ae,l[e]=new Ae;let h=new Ae,c=new Ae,u=new Ae,d=new Te,p=new Te,m=new Te,f=new Ae,g=new Ae,v=this.groups;for(let e=0,t=(v=0===v.length?[{start:0,count:n.length}]:v).length;e<t;++e){let r=v[e],i=r.start;for(let e=i,t=i+r.count;e<t;e+=3)M(n[e+0],n[e+1],n[e+2])}let y=new Ae,x=new Ae,_=new Ae,w=new Ae;for(let e=0,t=v.length;e<t;++e){let r=v[e],i=r.start;for(let e=i,t=i+r.count;e<t;e+=3)S(n[e+0]),S(n[e+1]),S(n[e+2])}function M(e,t,r){h.fromArray(a,3*e),c.fromArray(a,3*t),u.fromArray(a,3*r),d.fromArray(s,2*e),p.fromArray(s,2*t),m.fromArray(s,2*r),c.sub(h),u.sub(h),p.sub(d),m.sub(d);var i=1/(p.x*m.y-m.x*p.y);isFinite(i)&&(f.copy(c).multiplyScalar(m.y).addScaledVector(u,-p.y).multiplyScalar(i),g.copy(u).multiplyScalar(p.x).addScaledVector(c,-m.x).multiplyScalar(i),o[e].add(f),o[t].add(f),o[r].add(f),l[e].add(g),l[t].add(g),l[r].add(g))}function S(e){_.fromArray(r,3*e),w.copy(_);var t=o[e],t=(y.copy(t),y.sub(_.multiplyScalar(_.dot(t))).normalize(),x.crossVectors(w,t),x.dot(l[e])<0?-1:1);i[4*e]=y.x,i[4*e+1]=y.y,i[4*e+2]=y.z,i[4*e+3]=t}}}computeVertexNormals(){var i=this.index,n=this.getAttribute("position");if(void 0!==n){let r=this.getAttribute("normal");if(void 0===r)r=new T(new Float32Array(3*n.count),3),this.setAttribute("normal",r);else for(let e=0,t=r.count;e<t;e++)r.setXYZ(e,0,0,0);var a=new Ae,s=new Ae,o=new Ae,l=new Ae,h=new Ae,c=new Ae,u=new Ae,d=new Ae;if(i)for(let e=0,t=i.count;e<t;e+=3){var p=i.getX(e+0),m=i.getX(e+1),f=i.getX(e+2);a.fromBufferAttribute(n,p),s.fromBufferAttribute(n,m),o.fromBufferAttribute(n,f),u.subVectors(o,s),d.subVectors(a,s),u.cross(d),l.fromBufferAttribute(r,p),h.fromBufferAttribute(r,m),c.fromBufferAttribute(r,f),l.add(u),h.add(u),c.add(u),r.setXYZ(p,l.x,l.y,l.z),r.setXYZ(m,h.x,h.y,h.z),r.setXYZ(f,c.x,c.y,c.z)}else for(let e=0,t=n.count;e<t;e+=3)a.fromBufferAttribute(n,e+0),s.fromBufferAttribute(n,e+1),o.fromBufferAttribute(n,e+2),u.subVectors(o,s),d.subVectors(a,s),u.cross(d),r.setXYZ(e+0,u.x,u.y,u.z),r.setXYZ(e+1,u.x,u.y,u.z),r.setXYZ(e+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var r,i=this.attributes;for(r in i)if(void 0!==e.attributes[r]){var n=i[r].array,a=e.attributes[r],s=a.array,a=a.itemSize*t,o=Math.min(s.length,n.length-a);for(let e=0,t=a;e<o;e++,t++)n[t]=s[e]}return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}normalizeNormals(){var r=this.attributes.normal;for(let e=0,t=r.count;e<t;e++)h.fromBufferAttribute(r,e),h.normalize(),r.setXYZ(e,h.x,h.y,h.z)}toNonIndexed(){function n(e,r){var i=e.array,n=e.itemSize,e=e.normalized,a=new i.constructor(r.length*n);let s=0,o=0;for(let e=0,t=r.length;e<t;e++){s=r[e]*n;for(let e=0;e<n;e++)a[o++]=i[s++]}return new T(a,n,e)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let a=new E,s=this.index.array,r=this.attributes;for(let t in r){let e=n(r[t],s);a.setAttribute(t,e)}let t=this.morphAttributes;for(let e in t){let r=[],i=t[e];for(let t=0,e=i.length;t<e;t++){let e=n(i[t],s);r.push(e)}a.morphAttributes[e]=r}a.morphTargetsRelative=this.morphTargetsRelative;let i=this.groups;for(let t=0,e=i.length;t<e;t++){let e=i[t];a.addGroup(e.start,e.count,e.materialIndex)}return a}toJSON(){var a={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),0<Object.keys(this.userData).length&&(a.userData=this.userData),void 0!==this.parameters){let t=this.parameters;for(let e in t)void 0!==t[e]&&(a[e]=t[e])}else{a.data={attributes:{}};let e=this.index,r=(null!==e&&(a.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)}),this.attributes);for(let t in r){let e=r[t];a.data.attributes[t]=e.toJSON(a.data)}let t={},n=!1;for(let e in this.morphAttributes){let r=this.morphAttributes[e],i=[];for(let t=0,e=r.length;t<e;t++){let e=r[t];i.push(e.toJSON(a.data))}0<i.length&&(t[e]=i,n=!0)}n&&(a.data.morphAttributes=t,a.data.morphTargetsRelative=this.morphTargetsRelative);let i=this.groups;0<i.length&&(a.data.groups=JSON.parse(JSON.stringify(i)));var s=this.boundingSphere;null!==s&&(a.data.boundingSphere={center:s.center.toArray(),radius:s.radius})}return a}clone(){return(new E).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let n={},t=(this.name=e.name,e.index),r=(null!==t&&this.setIndex(t.clone(n)),e.attributes);for(let t in r){let e=r[t];this.setAttribute(t,e.clone(n))}var a=e.morphAttributes;for(let e in a){let r=[],i=a[e];for(let e=0,t=i.length;e<t;e++)r.push(i[e].clone(n));this.morphAttributes[e]=r}this.morphTargetsRelative=e.morphTargetsRelative;var i=e.groups;for(let t=0,e=i.length;t<e;t++){let e=i[t];this.addGroup(e.start,e.count,e.materialIndex)}var s=e.boundingBox,s=(null!==s&&(this.boundingBox=s.clone()),e.boundingSphere);return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}E.prototype.isBufferGeometry=!0;let Gr=new Le,Ur=new Lt,kr=new _t,Vr=new Ae,Wr=new Ae,jr=new Ae,qr=new Ae,Xr=new Ae,Yr=new Ae,Zr=new Ae,Jr=new Ae,Qr=new Ae,Kr=new Te,$r=new Te,ei=new Te,ti=new Ae,ri=new Ae;class A extends u{constructor(e=new E,t=new _r){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,i=Object.keys(t);if(0<i.length){let r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{t=e.morphTargets;void 0!==t&&0<t.length&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(p,m){let e=this.geometry,f=this.material,t=this.matrixWorld;if(void 0!==f&&(null===e.boundingSphere&&e.computeBoundingSphere(),kr.copy(e.boundingSphere),kr.applyMatrix4(t),!1!==p.ray.intersectsSphere(kr))&&(Gr.copy(t).invert(),Ur.copy(p.ray).applyMatrix4(Gr),null===e.boundingBox||!1!==Ur.intersectsBox(e.boundingBox))){let d;if(e.isBufferGeometry){let n=e.index,a=e.attributes.position,s=e.morphAttributes.position,o=e.morphTargetsRelative,l=e.attributes.uv,h=e.attributes.uv2,c=e.groups,u=e.drawRange;if(null!==n)if(Array.isArray(f))for(let e=0,t=c.length;e<t;e++){var g=c[e],v=f[g.materialIndex];for(let i=Math.max(g.start,u.start),e=Math.min(g.start+g.count,u.start+u.count);i<e;i+=3){let e=n.getX(i),t=n.getX(i+1),r=n.getX(i+2);(d=ii(this,v,p,Ur,a,s,o,l,h,e,t,r))&&(d.faceIndex=Math.floor(i/3),d.face.materialIndex=g.materialIndex,m.push(d))}}else for(let e=Math.max(0,u.start),t=Math.min(n.count,u.start+u.count);e<t;e+=3){var r=n.getX(e),i=n.getX(e+1),y=n.getX(e+2);(d=ii(this,f,p,Ur,a,s,o,l,h,r,i,y))&&(d.faceIndex=Math.floor(e/3),m.push(d))}else if(void 0!==a)if(Array.isArray(f))for(let e=0,t=c.length;e<t;e++){let r=c[e],i=f[r.materialIndex];for(let e=Math.max(r.start,u.start),t=Math.min(r.start+r.count,u.start+u.count);e<t;e+=3)(d=ii(this,i,p,Ur,a,s,o,l,h,e,e+1,e+2))&&(d.faceIndex=Math.floor(e/3),d.face.materialIndex=r.materialIndex,m.push(d))}else for(let e=Math.max(0,u.start),t=Math.min(a.count,u.start+u.count);e<t;e+=3)(d=ii(this,f,p,Ur,a,s,o,l,h,e,e+1,e+2))&&(d.faceIndex=Math.floor(e/3),m.push(d))}else e.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function ii(e,t,r,i,n,a,s,o,l,h,c,u){Vr.fromBufferAttribute(n,h),Wr.fromBufferAttribute(n,c),jr.fromBufferAttribute(n,u);var d=e.morphTargetInfluences;if(t.morphTargets&&a&&d){Zr.set(0,0,0),Jr.set(0,0,0),Qr.set(0,0,0);for(let r=0,e=a.length;r<e;r++){let e=d[r],t=a[r];0!==e&&(qr.fromBufferAttribute(t,h),Xr.fromBufferAttribute(t,c),Yr.fromBufferAttribute(t,u),s?(Zr.addScaledVector(qr,e),Jr.addScaledVector(Xr,e),Qr.addScaledVector(Yr,e)):(Zr.addScaledVector(qr.sub(Vr),e),Jr.addScaledVector(Xr.sub(Wr),e),Qr.addScaledVector(Yr.sub(jr),e)))}Vr.add(Zr),Wr.add(Jr),jr.add(Qr)}e.isSkinnedMesh&&t.skinning&&(e.boneTransform(h,Vr),e.boneTransform(c,Wr),e.boneTransform(u,jr));n=function(e,t,r,i,n,a,s,o){if(null===(1===t.side?i.intersectTriangle(s,a,n,!0,o):i.intersectTriangle(n,a,s,2!==t.side,o)))return null;ri.copy(o),ri.applyMatrix4(e.matrixWorld);i=r.ray.origin.distanceTo(ri);return i<r.near||r.far<i?null:{distance:i,point:ri.clone(),object:e}}(e,t,r,i,Vr,Wr,jr,ti);if(n){o&&(Kr.fromBufferAttribute(o,h),$r.fromBufferAttribute(o,c),ei.fromBufferAttribute(o,u),n.uv=f.getUV(ti,Vr,Wr,jr,Kr,$r,ei,new Te)),l&&(Kr.fromBufferAttribute(l,h),$r.fromBufferAttribute(l,c),ei.fromBufferAttribute(l,u),n.uv2=f.getUV(ti,Vr,Wr,jr,Kr,$r,ei,new Te));let e={a:h,b:c,c:u,normal:new Ae,materialIndex:0};f.getNormal(Vr,Wr,jr,e.normal),n.face=e}return n}A.prototype.isMesh=!0;class ni extends E{constructor(e=1,t=1,r=1,i=1,n=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:n,depthSegments:a};let b=this,M=(i=Math.floor(i),n=Math.floor(n),a=Math.floor(a),[]),S=[],T=[],E=[],A=0,L=0;function s(n,a,s,o,l,e,t,h,c,u,r){var d=e/c,p=t/u,m=e/2,f=t/2,g=h/2,v=c+1,y=u+1;let x=0,_=0;var w=new Ae;for(let i=0;i<y;i++){let r=i*p-f;for(let t=0;t<v;t++){let e=t*d-m;w[n]=e*o,w[a]=r*l,w[s]=g,S.push(w.x,w.y,w.z),w[n]=0,w[a]=0,w[s]=0<h?1:-1,T.push(w.x,w.y,w.z),E.push(t/c),E.push(1-i/u),x+=1}}for(let a=0;a<u;a++)for(let n=0;n<c;n++){let e=A+n+v*a,t=A+n+v*(a+1),r=A+(n+1)+v*(a+1),i=A+(n+1)+v*a;M.push(e,t,i),M.push(t,r,i),_+=6}b.addGroup(L,_,r),L+=_,A+=x}s("z","y","x",-1,-1,r,t,e,a,n,0),s("z","y","x",1,-1,r,t,-e,a,n,1),s("x","z","y",1,1,e,r,t,i,a,2),s("x","z","y",1,-1,e,r,-t,i,a,3),s("x","y","z",1,-1,e,t,r,i,n,4),s("x","y","z",-1,-1,e,t,-r,i,n,5),this.setIndex(M),this.setAttribute("position",new V(S,3)),this.setAttribute("normal",new V(T,3)),this.setAttribute("uv",new V(E,2))}}function ai(e){var t,r={};for(t in e)for(var i in r[t]={},e[t]){var n=e[t][i];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture||n.isQuaternion)?r[t][i]=n.clone():Array.isArray(n)?r[t][i]=n.slice():r[t][i]=n}return r}function r(t){var r={};for(let e=0;e<t.length;e++){var i=ai(t[e]);for(let e in i)r[e]=i[e]}return r}let si={clone:ai,merge:r};class oi extends t{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ai(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(t){var r=super.toJSON(t);r.glslVersion=this.glslVersion,r.uniforms={};for(let e in this.uniforms){var i=this.uniforms[e].value;i&&i.isTexture?r.uniforms[e]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?r.uniforms[e]={type:"c",value:i.getHex()}:i&&i.isVector2?r.uniforms[e]={type:"v2",value:i.toArray()}:i&&i.isVector3?r.uniforms[e]={type:"v3",value:i.toArray()}:i&&i.isVector4?r.uniforms[e]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?r.uniforms[e]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?r.uniforms[e]={type:"m4",value:i.toArray()}:r.uniforms[e]={value:i}}0<Object.keys(this.defines).length&&(r.defines=this.defines),r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader;let n={};for(let e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return 0<Object.keys(n).length&&(r.extensions=n),r}}oi.prototype.isShaderMaterial=!0;class li extends u{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Le,this.projectionMatrix=new Le,this.projectionMatrixInverse=new Le}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new Ae),this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}li.prototype.isCamera=!0;class L extends li{constructor(e=50,t=1,r=.1,i=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){e=.5*this.getFilmHeight()/e;this.fov=2*He*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){var e=Math.tan(.5*Oe*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*He*Math.atan(Math.tan(.5*Oe*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,n,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,r=e*Math.tan(.5*Oe*this.fov)/this.zoom,i=2*r,n=this.aspect*i,a=-.5*n;var s=this.view;if(null!==this.view&&this.view.enabled){let e=s.fullWidth,t=s.fullHeight;a+=s.offsetX*n/e,r-=s.offsetY*i/t,n*=s.width/e,i*=s.height/t}let t=this.filmOffset;0!==t&&(a+=e*t/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+n,r,r-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){e=super.toJSON(e);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}L.prototype.isPerspectiveCamera=!0;class hi extends u{constructor(e,t,r){super(),this.type="CubeCamera",!0!==r.isWebGLCubeRenderTarget?console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."):(this.renderTarget=r,(r=new L(90,1,e,t)).layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Ae(1,0,0)),this.add(r),(r=new L(90,1,e,t)).layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Ae(-1,0,0)),this.add(r),(r=new L(90,1,e,t)).layers=this.layers,r.up.set(0,0,1),r.lookAt(new Ae(0,1,0)),this.add(r),(r=new L(90,1,e,t)).layers=this.layers,r.up.set(0,0,-1),r.lookAt(new Ae(0,-1,0)),this.add(r),(r=new L(90,1,e,t)).layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Ae(0,0,1)),this.add(r),(r=new L(90,1,e,t)).layers=this.layers,r.up.set(0,-1,0),r.lookAt(new Ae(0,0,-1)),this.add(r))}update(e,t){null===this.parent&&this.updateMatrixWorld();var r=this.renderTarget,[i,n,a,s,o,l]=this.children,h=e.xr.enabled,c=e.getRenderTarget(),u=(e.xr.enabled=!1,r.texture.generateMipmaps);r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,n),e.setRenderTarget(r,2),e.render(t,a),e.setRenderTarget(r,3),e.render(t,s),e.setRenderTarget(r,4),e.render(t,o),r.texture.generateMipmaps=u,e.setRenderTarget(r,5),e.render(t,l),e.setRenderTarget(c),e.xr.enabled=h}}class ci extends c{constructor(e,t,r,i,n,a,s,o,l,h){super(e=void 0!==e?e:[],t=void 0!==t?t:C,r,i,n,a,s=void 0!==s?s:K,o,l,h),this._needsFlipEnvMap=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}ci.prototype.isCubeTexture=!0;class ui extends Qe{constructor(e,t,r){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=r),super(e,e,t),t=t||{},this.texture=new ci(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:H,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Ie,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={tEquirect:{value:null}},i="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new ni(5,5,5),s=new oi({name:"CubemapFromEquirect",uniforms:ai(r),vertexShader:i,fragmentShader:n,side:1,blending:0});s.uniforms.tEquirect.value=t;var o=new A(a,s),l=t.minFilter;return t.minFilter===Y&&(t.minFilter=H),new hi(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(t,r,i,n){var e=t.getRenderTarget();for(let e=0;e<6;e++)t.setRenderTarget(this,e),t.clear(r,i,n);t.setRenderTarget(e)}}ui.prototype.isWebGLCubeRenderTarget=!0;class di extends c{constructor(e,t,r,i,n,a,s,o,l,h,c,u){super(null,a,s,o,l,h,i,n,c,u),this.image={data:e||null,width:t||1,height:r||1},this.magFilter=void 0!==l?l:O,this.minFilter=void 0!==h?h:O,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}di.prototype.isDataTexture=!0;let pi=new _t,mi=new Ae;class fi{constructor(e=new rr,t=new rr,r=new rr,i=new rr,n=new rr,a=new rr){this.planes=[e,t,r,i,n,a]}set(e,t,r,i,n,a){var s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(i),s[4].copy(n),s[5].copy(a),this}copy(t){var r=this.planes;for(let e=0;e<6;e++)r[e].copy(t.planes[e]);return this}setFromProjectionMatrix(e){var t=this.planes,e=e.elements,r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],l=e[6],h=e[7],c=e[8],u=e[9],d=e[10],p=e[11],m=e[12],f=e[13],g=e[14],e=e[15];return t[0].setComponents(a-r,h-s,p-c,e-m).normalize(),t[1].setComponents(a+r,h+s,p+c,e+m).normalize(),t[2].setComponents(a+i,h+o,p+u,e+f).normalize(),t[3].setComponents(a-i,h-o,p-u,e-f).normalize(),t[4].setComponents(a-n,h-l,p-d,e-g).normalize(),t[5].setComponents(a+n,h+l,p+d,e+g).normalize(),this}intersectsObject(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),pi.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(pi)}intersectsSprite(e){return pi.center.set(0,0,0),pi.radius=.7071067811865476,pi.applyMatrix4(e.matrixWorld),this.intersectsSphere(pi)}intersectsSphere(e){var t=this.planes,r=e.center,i=-e.radius;for(let e=0;e<6;e++)if(t[e].distanceToPoint(r)<i)return!1;return!0}intersectsBox(t){var r=this.planes;for(let e=0;e<6;e++){var i=r[e];if(mi.x=(0<i.normal.x?t.max:t.min).x,mi.y=(0<i.normal.y?t.max:t.min).y,mi.z=(0<i.normal.z?t.max:t.min).z,i.distanceToPoint(mi)<0)return!1}return!0}containsPoint(t){var r=this.planes;for(let e=0;e<6;e++)if(r[e].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function gi(){let r=null,e=!1,i=null,n=null;function a(e,t){i(e,t),n=r.requestAnimationFrame(a)}return{start:function(){!0!==e&&null!==i&&(n=r.requestAnimationFrame(a),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(e){i=e},setContext:function(e){r=e}}}function vi(s,e){let o=e.isWebGL2,a=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),a.get(e)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var t=a.get(e);t&&(s.deleteBuffer(t.buffer),a.delete(e))},update:function(t,e){if(t.isGLBufferAttribute){let e=a.get(t);void((!e||e.version<t.version)&&a.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}else{t.isInterleavedBufferAttribute&&(t=t.data);var r,i,n=a.get(t);void 0===n?a.set(t,function(e,t){var r=e.array,i=e.usage,n=s.createBuffer();s.bindBuffer(t,n),s.bufferData(t,r,i),e.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?o?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:n,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(t,e)):n.version<t.version&&(e=e,i=(r=t).array,r=r.updateRange,s.bindBuffer(e,n.buffer),-1===r.count?s.bufferSubData(e,0,i):(o?s.bufferSubData(e,r.offset*i.BYTES_PER_ELEMENT,i,r.offset,r.count):s.bufferSubData(e,r.offset*i.BYTES_PER_ELEMENT,i.subarray(r.offset,r.offset+r.count)),r.count=-1),n.version=t.version)}}}}class yi extends E{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};let n=e/2,a=t/2,s=Math.floor(r),o=Math.floor(i),l=s+1,h=o+1,c=e/s,u=t/o,d=[],p=[],m=[],f=[];for(let i=0;i<h;i++){let r=i*u-a;for(let t=0;t<l;t++){let e=t*c-n;p.push(e,-r,0),m.push(0,0,1),f.push(t/s),f.push(1-i/o)}}for(let a=0;a<o;a++)for(let n=0;n<s;n++){let e=n+l*a,t=n+l*(a+1),r=n+1+l*(a+1),i=n+1+l*a;d.push(e,t,i),d.push(t,r,i)}this.setIndex(d),this.setAttribute("position",new V(p,3)),this.setAttribute("normal",new V(m,3)),this.setAttribute("uv",new V(f,2))}}let M={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(\t\t0, 1,\t\t0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t\tf.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(\t1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,\t1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,\t1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},a={common:{diffuse:{value:new Re(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new v},uv2Transform:{value:new v},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Te(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Re(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Re(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new v}},sprite:{diffuse:{value:new Re(15658734)},opacity:{value:1},center:{value:new Te(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new v}}},xi={basic:{uniforms:r([a.common,a.specularmap,a.envmap,a.aomap,a.lightmap,a.fog]),vertexShader:M.meshbasic_vert,fragmentShader:M.meshbasic_frag},lambert:{uniforms:r([a.common,a.specularmap,a.envmap,a.aomap,a.lightmap,a.emissivemap,a.fog,a.lights,{emissive:{value:new Re(0)}}]),vertexShader:M.meshlambert_vert,fragmentShader:M.meshlambert_frag},phong:{uniforms:r([a.common,a.specularmap,a.envmap,a.aomap,a.lightmap,a.emissivemap,a.bumpmap,a.normalmap,a.displacementmap,a.fog,a.lights,{emissive:{value:new Re(0)},specular:{value:new Re(1118481)},shininess:{value:30}}]),vertexShader:M.meshphong_vert,fragmentShader:M.meshphong_frag},standard:{uniforms:r([a.common,a.envmap,a.aomap,a.lightmap,a.emissivemap,a.bumpmap,a.normalmap,a.displacementmap,a.roughnessmap,a.metalnessmap,a.fog,a.lights,{emissive:{value:new Re(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:M.meshphysical_vert,fragmentShader:M.meshphysical_frag},toon:{uniforms:r([a.common,a.aomap,a.lightmap,a.emissivemap,a.bumpmap,a.normalmap,a.displacementmap,a.gradientmap,a.fog,a.lights,{emissive:{value:new Re(0)}}]),vertexShader:M.meshtoon_vert,fragmentShader:M.meshtoon_frag},matcap:{uniforms:r([a.common,a.bumpmap,a.normalmap,a.displacementmap,a.fog,{matcap:{value:null}}]),vertexShader:M.meshmatcap_vert,fragmentShader:M.meshmatcap_frag},points:{uniforms:r([a.points,a.fog]),vertexShader:M.points_vert,fragmentShader:M.points_frag},dashed:{uniforms:r([a.common,a.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:M.linedashed_vert,fragmentShader:M.linedashed_frag},depth:{uniforms:r([a.common,a.displacementmap]),vertexShader:M.depth_vert,fragmentShader:M.depth_frag},normal:{uniforms:r([a.common,a.bumpmap,a.normalmap,a.displacementmap,{opacity:{value:1}}]),vertexShader:M.normal_vert,fragmentShader:M.normal_frag},sprite:{uniforms:r([a.sprite,a.fog]),vertexShader:M.sprite_vert,fragmentShader:M.sprite_frag},background:{uniforms:{uvTransform:{value:new v},t2D:{value:null}},vertexShader:M.background_vert,fragmentShader:M.background_frag},cube:{uniforms:r([a.envmap,{opacity:{value:1}}]),vertexShader:M.cube_vert,fragmentShader:M.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:M.equirect_vert,fragmentShader:M.equirect_frag},distanceRGBA:{uniforms:r([a.common,a.displacementmap,{referencePosition:{value:new Ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:M.distanceRGBA_vert,fragmentShader:M.distanceRGBA_frag},shadow:{uniforms:r([a.lights,a.fog,{color:{value:new Re(0)},opacity:{value:1}}]),vertexShader:M.shadow_vert,fragmentShader:M.shadow_frag}};function _i(a,s,r,o,i){let l=new Re(0),h,c,u=0,d=null,p=0,m=null;function f(e,t){r.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return l},setClearColor:function(e,t=1){l.set(e),u=t,f(l,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,f(l,u)},render:function(e,t,r,i){let n=!0===t.isScene?t.background:null;n&&n.isTexture&&(n=s.get(n));t=a.xr,t=t.getSession&&t.getSession();null===(n=t&&"additive"===t.environmentBlendMode?null:n)?f(l,u):n&&n.isColor&&(f(n,1),i=!0),(a.autoClear||i)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),n&&(n.isCubeTexture||n.mapping===N)?(void 0===c&&((c=new A(new ni(1,1,1),new oi({name:"BackgroundCubeMaterial",uniforms:ai(xi.cube.uniforms),vertexShader:xi.cube.vertexShader,fragmentShader:xi.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,r){this.matrixWorld.copyPosition(r.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(c)),c.material.uniforms.envMap.value=n,c.material.uniforms.flipEnvMap.value=n.isCubeTexture&&n._needsFlipEnvMap?-1:1,d===n&&p===n.version&&m===a.toneMapping||(c.material.needsUpdate=!0,d=n,p=n.version,m=a.toneMapping),e.unshift(c,c.geometry,c.material,0,0,null)):n&&n.isTexture&&(void 0===h&&((h=new A(new yi(2,2),new oi({name:"BackgroundMaterial",uniforms:ai(xi.background.uniforms),vertexShader:xi.background.vertexShader,fragmentShader:xi.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(h)),!0===(h.material.uniforms.t2D.value=n).matrixAutoUpdate&&n.updateMatrix(),h.material.uniforms.uvTransform.value.copy(n.matrix),d===n&&p===n.version&&m===a.toneMapping||(h.material.needsUpdate=!0,d=n,p=n.version,m=a.toneMapping),e.unshift(h,h.geometry,h.material,0,0,null))}}}function wi(u,d,p,m){let n=u.getParameter(34921),c=m.isWebGL2?null:d.get("OES_vertex_array_object"),f=m.isWebGL2||null!==c,g={},e=x(null),v=e;function y(e){m.isWebGL2?u.bindVertexArray(e):c.bindVertexArrayOES(e)}function a(e){m.isWebGL2?u.deleteVertexArray(e):c.deleteVertexArrayOES(e)}function x(e){var t=[],r=[],i=[];for(let e=0;e<n;e++)t[e]=0,r[e]=0,i[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function _(){var r=v.newAttributes;for(let e=0,t=r.length;e<t;e++)r[e]=0}function w(e){b(e,0)}function b(e,t){var r=v.newAttributes,i=v.enabledAttributes,n=v.attributeDivisors;r[e]=1,0===i[e]&&(u.enableVertexAttribArray(e),i[e]=1),n[e]!==t&&((m.isWebGL2?u:d.get("ANGLE_instanced_arrays"))[m.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](e,t),n[e]=t)}function M(){var r=v.newAttributes,i=v.enabledAttributes;for(let e=0,t=i.length;e<t;e++)i[e]!==r[e]&&(u.disableVertexAttribArray(e),i[e]=0)}function S(e,t,r,i,n,a){!0!==m.isWebGL2||5124!==r&&5125!==r?u.vertexAttribPointer(e,t,r,i,n,a):u.vertexAttribIPointer(e,t,r,n,a)}function s(){t(),v!==e&&y((v=e).object)}function t(){e.geometry=null,e.program=null,e.wireframe=!1}return{setup:function(e,s,t,r,n){let i=!1;if(f){let e=function(e,t){var r=!0===s.wireframe;let i=g[e.id],n=(void 0===i&&(i={},g[e.id]=i),i[t.id]),a=(void 0===n&&(n={},i[t.id]=n),n[r]);return void 0===a&&(a=x(m.isWebGL2?u.createVertexArray():c.createVertexArrayOES()),n[r]=a),a}(r,t);if(v!==e&&y((v=e).object),i=function(e,t){var i=v.attributes,n=e.attributes;let a=0;for(let r in n){let e=i[r],t=n[r];if(void 0===e)return!0;if(e.attribute!==t)return!0;if(e.data!==t.data)return!0;a++}return v.attributesNum!==a||v.index!==t}(r,n)){var a=r;var o=n;var l={},h=a.attributes;let i=0;for(let r in h){let e=h[r],t={};(t.attribute=e).data&&(t.data=e.data),l[r]=t,i++}v.attributes=l,v.attributesNum=i,v.index=o}}else{let e=!0===s.wireframe;v.geometry===r.id&&v.program===t.id&&v.wireframe===e||(v.geometry=r.id,v.program=t.id,v.wireframe=e,i=!0)}!0===e.isInstancedMesh&&(i=!0),null!==n&&p.update(n,34963),i&&(function(n,t,a,c){if(!1!==m.isWebGL2||!n.isInstancedMesh&&!c.isInstancedBufferGeometry||null!==d.get("ANGLE_instanced_arrays")){_();let e=c.attributes,r=a.getAttributes(),i=t.defaultAttributeValues;for(let t in r){let h=r[t];if(0<=h){let l=e[t];if(void 0!==l){let s=l.normalized,o=l.itemSize,e=p.get(l);if(void 0!==e){let i=e.buffer,n=e.type,a=e.bytesPerElement;if(l.isInterleavedBufferAttribute){let e=l.data,t=e.stride,r=l.offset;e&&e.isInstancedInterleavedBuffer?(b(h,e.meshPerAttribute),void 0===c._maxInstanceCount&&(c._maxInstanceCount=e.meshPerAttribute*e.count)):w(h),u.bindBuffer(34962,i),S(h,o,n,s,t*a,r*a)}else l.isInstancedBufferAttribute?(b(h,l.meshPerAttribute),void 0===c._maxInstanceCount&&(c._maxInstanceCount=l.meshPerAttribute*l.count)):w(h),u.bindBuffer(34962,i),S(h,o,n,s,0,0)}}else if("instanceMatrix"===t){let r=p.get(n.instanceMatrix);if(void 0!==r){let e=r.buffer,t=r.type;b(h+0,1),b(h+1,1),b(h+2,1),b(h+3,1),u.bindBuffer(34962,e),u.vertexAttribPointer(h+0,4,t,!1,64,0),u.vertexAttribPointer(h+1,4,t,!1,64,16),u.vertexAttribPointer(h+2,4,t,!1,64,32),u.vertexAttribPointer(h+3,4,t,!1,64,48)}}else if("instanceColor"===t){let r=p.get(n.instanceColor);if(void 0!==r){let e=r.buffer,t=r.type;b(h,1),u.bindBuffer(34962,e),u.vertexAttribPointer(h,3,t,!1,12,0)}}else if(void 0!==i){let e=i[t];if(void 0!==e)switch(e.length){case 2:u.vertexAttrib2fv(h,e);break;case 3:u.vertexAttrib3fv(h,e);break;case 4:u.vertexAttrib4fv(h,e);break;default:u.vertexAttrib1fv(h,e)}}}}M()}}(e,s,t,r),null!==n)&&u.bindBuffer(34963,p.get(n).buffer)},reset:s,resetDefaultState:t,dispose:function(){for(var e in s(),g){var t,r=g[e];for(t in r){var i,n=r[t];for(i in n)a(n[i].object),delete n[i];delete r[t]}delete g[e]}},releaseStatesOfGeometry:function(e){if(void 0!==g[e.id]){var t=g[e.id];for(let e in t){var r=t[e];for(let e in r)a(r[e].object),delete r[e];delete t[e]}delete g[e.id]}},releaseStatesOfProgram:function(e){for(var t in g){t=g[t];if(void 0!==t[e.id]){var r=t[e.id];for(let e in r)a(r[e].object),delete r[e];delete t[e.id]}}},initAttributes:_,enableAttribute:w,disableUnusedAttributes:M}}function bi(a,s,o,e){let l=e.isWebGL2,h;this.setMode=function(e){h=e},this.render=function(e,t){a.drawArrays(h,e,t),o.update(t,h,1)},this.renderInstances=function(r,i,n){if(0!==n){let e,t;if(l)e=a,t="drawArraysInstanced";else if(e=s.get("ANGLE_instanced_arrays"),t="drawArraysInstancedANGLE",null===e)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");e[t](h,r,i,n),o.update(i,h,n)}}}function Mi(t,r,e){let i;function n(e){if("highp"===e){if(0<t.getShaderPrecisionFormat(35633,36338).precision&&0<t.getShaderPrecisionFormat(35632,36338).precision)return"highp";e="mediump"}return"mediump"===e&&0<t.getShaderPrecisionFormat(35633,36337).precision&&0<t.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let s=void 0!==e.precision?e.precision:"highp";var o=n(s),o=(o!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",o,"instead."),s=o),!0===e.logarithmicDepthBuffer),e=t.getParameter(34930),l=t.getParameter(35660),h=t.getParameter(3379),c=t.getParameter(34076),u=t.getParameter(34921),d=t.getParameter(36347),p=t.getParameter(36348),m=t.getParameter(36349),f=0<l,g=a||r.has("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){var e;return i=void 0===i?!0===r.has("EXT_texture_filter_anisotropic")?(e=r.get("EXT_texture_filter_anisotropic"),t.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT)):0:i},getMaxPrecision:n,precision:s,logarithmicDepthBuffer:o,maxTextures:e,maxVertexTextures:l,maxTextureSize:h,maxCubemapSize:c,maxAttributes:u,maxVertexUniforms:d,maxVaryings:p,maxFragmentUniforms:m,vertexTextures:f,floatFragmentTextures:g,floatVertexTextures:f&&g,maxSamples:a?t.getParameter(36183):0}}function Si(l){let r=this,h=null,c=0,u=!1,d=!1,o=new rr,p=new v,m={value:null,needsUpdate:!1};function f(){m.value!==h&&(m.value=h,m.needsUpdate=0<c),r.numPlanes=c,r.numIntersection=0}function g(i,t,n,e){var a=null!==i?i.length:0;let s=null;if(0!==a){if(s=m.value,!0!==e||null===s){let e=n+4*a,r=t.matrixWorldInverse;p.getNormalMatrix(r),(null===s||s.length<e)&&(s=new Float32Array(e));for(let e=0,t=n;e!==a;++e,t+=4)o.copy(i[e]).applyMatrix4(r,p),o.normal.toArray(s,t),s[t+3]=o.constant}m.value=s,m.needsUpdate=!0}return r.numPlanes=a,r.numIntersection=0,s}this.uniform=m,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,r){var i=0!==e.length||t||0!==c||u;return u=t,h=g(e,r,0),c=e.length,i},this.beginShadows=function(){d=!0,g(null)},this.endShadows=function(){d=!1,f()},this.setState=function(e,r,i){var n=e.clippingPlanes,a=e.clipIntersection,t=e.clipShadows,s=l.get(e);if(!u||null===n||0===n.length||d&&!t)d?g(null):f();else{let e=d?0:c,t=4*e;var o=s.clippingState||null;m.value=o,o=g(n,r,t,i);for(let e=0;e!==t;++e)o[e]=h[e];s.clippingState=o,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=e}}}function Ti(n){let a=new WeakMap;function s(e,t){return t===D?e.mapping=C:t===I&&(e.mapping=P),e}function o(e){var e=e.target,t=(e.removeEventListener("dispose",o),a.get(e));void 0!==t&&(a.delete(e),t.dispose())}return{get:function(r){if(r&&r.isTexture){var i=r.mapping;if(i===D||i===I){if(a.has(r))return s(a.get(r).texture,r.mapping);i=r.image;if(i&&0<i.height){let e=n.getRenderTarget(),t=new ui(i.height/2);return t.fromEquirectangularTexture(n,r),a.set(r,t),n.setRenderTarget(e),r.addEventListener("dispose",o),s(t.texture,r.mapping)}return null}}return r},dispose:function(){a=new WeakMap}}}function Ei(r){let i={};function n(e){if(void 0!==i[e])return i[e];let t;switch(e){case"WEBGL_depth_texture":t=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":t=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:t=r.getExtension(e)}return i[e]=t}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Ai(e,o,r,i){let n={},l=new WeakMap;function a(e){var t=e.target;null!==t.index&&o.remove(t.index);for(let e in t.attributes)o.remove(t.attributes[e]);t.removeEventListener("dispose",a),delete n[t.id];e=l.get(t);e&&(o.remove(e),l.delete(t)),i.releaseStatesOfGeometry(t),!0===t.isInstancedBufferGeometry&&delete t._maxInstanceCount,r.memory.geometries--}function s(e){let a=[],t=e.index,r=e.attributes.position,i=0;if(null!==t){let n=t.array;i=t.version;for(let i=0,e=n.length;i<e;i+=3){let e=n[i+0],t=n[i+1],r=n[i+2];a.push(e,t,t,r,r,e)}}else{let t=r.array;i=r.version;for(let i=0,e=t.length/3-1;i<e;i+=3){let e=i+0,t=i+1,r=i+2;a.push(e,t,t,r,r,e)}}var n=new(65535<Pr(a)?Lr:Er)(a,1),s=(n.version=i,l.get(e));s&&o.remove(s),l.set(e,n)}return{get:function(e,t){return!0!==n[t.id]&&(t.addEventListener("dispose",a),n[t.id]=!0,r.memory.geometries++),t},update:function(e){let t=e.attributes;for(let e in t)o.update(t[e],34962);var i=e.morphAttributes;for(let e in i){let r=i[e];for(let e=0,t=r.length;e<t;e++)o.update(r[e],34962)}},getWireframeAttribute:function(e){var t,r=l.get(e);return(!r||null!==(t=e.index)&&r.version<t.version)&&s(e),l.get(e)}}}function Li(a,s,o,e){let l=e.isWebGL2,h,c,u;this.setMode=function(e){h=e},this.setIndex=function(e){c=e.type,u=e.bytesPerElement},this.render=function(e,t){a.drawElements(h,t,c,e*u),o.update(t,h,1)},this.renderInstances=function(r,i,n){if(0!==n){let e,t;if(l)e=a,t="drawElementsInstanced";else if(e=s.get("ANGLE_instanced_arrays"),t="drawElementsInstancedANGLE",null===e)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");e[t](h,i,c,r*u,n),o.update(i,h,n)}}}function Ri(e){let i={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:i,programs:null,autoReset:!0,reset:function(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0},update:function(e,t,r){switch(i.calls++,t){case 4:i.triangles+=r*(e/3);break;case 1:i.lines+=r*(e/2);break;case 3:i.lines+=r*(e-1);break;case 2:i.lines+=r*e;break;case 0:i.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",t)}}}}function Ci(e,t){return e[0]-t[0]}function Pi(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Di(c){let u={},d=new Float32Array(8),p=[];for(let e=0;e<8;e++)p[e]=[e,0];return{update:function(e,n,t,r){var i=e.morphTargetInfluences,a=void 0===i?0:i.length;let s=u[n.id];if(void 0===s){s=[];for(let e=0;e<a;e++)s[e]=[e,0];u[n.id]=s}for(let t=0;t<a;t++){let e=s[t];e[0]=t,e[1]=i[t]}s.sort(Pi);for(let e=0;e<8;e++)e<a&&s[e][1]?(p[e][0]=s[e][0],p[e][1]=s[e][1]):(p[e][0]=Number.MAX_SAFE_INTEGER,p[e][1]=0);p.sort(Ci);var o=t.morphTargets&&n.morphAttributes.position,l=t.morphNormals&&n.morphAttributes.normal;let h=0;for(let i=0;i<8;i++){let e=p[i],t=e[0],r=e[1];t!==Number.MAX_SAFE_INTEGER&&r?(o&&n.getAttribute("morphTarget"+i)!==o[t]&&n.setAttribute("morphTarget"+i,o[t]),l&&n.getAttribute("morphNormal"+i)!==l[t]&&n.setAttribute("morphNormal"+i,l[t]),d[i]=r,h+=r):(o&&!0===n.hasAttribute("morphTarget"+i)&&n.deleteAttribute("morphTarget"+i),l&&!0===n.hasAttribute("morphNormal"+i)&&n.deleteAttribute("morphNormal"+i),d[i]=0)}e=n.morphTargetsRelative?1:1-h;r.getUniforms().setValue(c,"morphTargetBaseInfluence",e),r.getUniforms().setValue(c,"morphTargetInfluences",d)}}}function Ii(e,i,n,a){let s=new WeakMap;function o(e){e=e.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(e){var t=a.render.frame,r=e.geometry,r=i.get(e,r);return s.get(r)!==t&&(i.update(r),s.set(r,t)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",o)&&e.addEventListener("dispose",o),n.update(e.instanceMatrix,34962),null!==e.instanceColor)&&n.update(e.instanceColor,34962),r},dispose:function(){s=new WeakMap}}}xi.physical={uniforms:r([xi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Te(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Re(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:M.meshphysical_vert,fragmentShader:M.meshphysical_frag};class Ni extends c{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=O,this.minFilter=O,this.wrapR=U,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}class Bi extends c{constructor(e=null,t=1,r=1,i=1){super(null),this.image={data:e,width:t,height:r,depth:i},this.magFilter=O,this.minFilter=O,this.wrapR=U,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}Bi.prototype.isDataTexture3D=Ni.prototype.isDataTexture2DArray=!0;let zi=new c,Fi=new Ni,Oi=new Bi,Hi=new ci,Gi=[],Ui=[],ki=new Float32Array(16),Vi=new Float32Array(9),Wi=new Float32Array(4);function ji(r,i,n){var e=r[0];if(e<=0||0<e)return r;var t=i*n;let a=Gi[t];if(void 0===a&&(a=new Float32Array(t),Gi[t]=a),0!==i){e.toArray(a,0);for(let e=1,t=0;e!==i;++e)t+=n,r[e].toArray(a,t)}return a}function qi(r,i){if(r.length===i.length){for(let e=0,t=r.length;e<t;e++)if(r[e]!==i[e])return;return 1}}function s(r,i){for(let e=0,t=i.length;e<t;e++)r[e]=i[e]}function Xi(t,r){let i=Ui[r];void 0===i&&(i=new Int32Array(r),Ui[r]=i);for(let e=0;e!==r;++e)i[e]=t.allocateTextureUnit();return i}function Yi(e,t){var r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function Zi(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y):qi(r,t)||(e.uniform2fv(this.addr,t),s(r,t))}function Ji(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y&&r[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z):void 0!==t.r?r[0]===t.r&&r[1]===t.g&&r[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b):qi(r,t)||(e.uniform3fv(this.addr,t),s(r,t))}function Qi(e,t){var r=this.cache;void 0!==t.x?r[0]===t.x&&r[1]===t.y&&r[2]===t.z&&r[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w):qi(r,t)||(e.uniform4fv(this.addr,t),s(r,t))}function Ki(e,t){var r=this.cache,i=t.elements;void 0===i?qi(r,t)||(e.uniformMatrix2fv(this.addr,!1,t),s(r,t)):qi(r,i)||(Wi.set(i),e.uniformMatrix2fv(this.addr,!1,Wi),s(r,i))}function $i(e,t){var r=this.cache,i=t.elements;void 0===i?qi(r,t)||(e.uniformMatrix3fv(this.addr,!1,t),s(r,t)):qi(r,i)||(Vi.set(i),e.uniformMatrix3fv(this.addr,!1,Vi),s(r,i))}function en(e,t){var r=this.cache,i=t.elements;void 0===i?qi(r,t)||(e.uniformMatrix4fv(this.addr,!1,t),s(r,t)):qi(r,i)||(ki.set(i),e.uniformMatrix4fv(this.addr,!1,ki),s(r,i))}function tn(e,t){var r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function rn(e,t){var r=this.cache;qi(r,t)||(e.uniform2iv(this.addr,t),s(r,t))}function nn(e,t){var r=this.cache;qi(r,t)||(e.uniform3iv(this.addr,t),s(r,t))}function an(e,t){var r=this.cache;qi(r,t)||(e.uniform4iv(this.addr,t),s(r,t))}function sn(e,t){var r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function on(e,t){var r=this.cache;qi(r,t)||(e.uniform2uiv(this.addr,t),s(r,t))}function ln(e,t){var r=this.cache;qi(r,t)||(e.uniform3uiv(this.addr,t),s(r,t))}function hn(e,t){var r=this.cache;qi(r,t)||(e.uniform4uiv(this.addr,t),s(r,t))}function cn(e,t,r){var i=this.cache,n=r.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),r.safeSetTexture2D(t||zi,n)}function un(e,t,r){var i=this.cache,n=r.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),r.setTexture3D(t||Oi,n)}function dn(e,t,r){var i=this.cache,n=r.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),r.safeSetTextureCube(t||Hi,n)}function pn(e,t,r){var i=this.cache,n=r.allocateTextureUnit();i[0]!==n&&(e.uniform1i(this.addr,n),i[0]=n),r.setTexture2DArray(t||Fi,n)}function mn(e,t){e.uniform1fv(this.addr,t)}function fn(e,t){t=ji(t,this.size,2);e.uniform2fv(this.addr,t)}function gn(e,t){t=ji(t,this.size,3);e.uniform3fv(this.addr,t)}function vn(e,t){t=ji(t,this.size,4);e.uniform4fv(this.addr,t)}function yn(e,t){t=ji(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,t)}function xn(e,t){t=ji(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,t)}function _n(e,t){t=ji(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,t)}function wn(e,t){e.uniform1iv(this.addr,t)}function bn(e,t){e.uniform2iv(this.addr,t)}function Mn(e,t){e.uniform3iv(this.addr,t)}function Sn(e,t){e.uniform4iv(this.addr,t)}function Tn(e,t){e.uniform1uiv(this.addr,t)}function En(e,t){e.uniform2uiv(this.addr,t)}function An(e,t){e.uniform3uiv(this.addr,t)}function Ln(e,t){e.uniform4uiv(this.addr,t)}function Rn(e,t,r){var i=t.length,n=Xi(r,i);e.uniform1iv(this.addr,n);for(let e=0;e!==i;++e)r.safeSetTexture2D(t[e]||zi,n[e])}function Cn(e,t,r){var i=t.length,n=Xi(r,i);e.uniform1iv(this.addr,n);for(let e=0;e!==i;++e)r.safeSetTextureCube(t[e]||Hi,n[e])}function Pn(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=function(){switch(t.type){case 5126:return Yi;case 35664:return Zi;case 35665:return Ji;case 35666:return Qi;case 35674:return Ki;case 35675:return $i;case 35676:return en;case 5124:case 35670:return tn;case 35667:case 35671:return rn;case 35668:case 35672:return nn;case 35669:case 35673:return an;case 5125:return sn;case 36294:return on;case 36295:return ln;case 36296:return hn;case 35678:case 36198:case 36298:case 36306:case 35682:return cn;case 35679:case 36299:case 36307:return un;case 35680:case 36300:case 36308:case 36293:return dn;case 36289:case 36303:case 36311:case 36292:return pn}}()}function Dn(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=function(){switch(t.type){case 5126:return mn;case 35664:return fn;case 35665:return gn;case 35666:return vn;case 35674:return yn;case 35675:return xn;case 35676:return _n;case 5124:case 35670:return wn;case 35667:case 35671:return bn;case 35668:case 35672:return Mn;case 35669:case 35673:return Sn;case 5125:return Tn;case 36294:return En;case 36295:return An;case 36296:return Ln;case 35678:case 36198:case 36298:case 36306:case 35682:return Rn;case 35680:case 36300:case 36308:case 36293:return Cn}}()}function In(e){this.id=e,this.seq=[],this.map={}}Dn.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),s(t,e)},In.prototype.setValue=function(r,i,n){var a=this.seq;for(let e=0,t=a.length;e!==t;++e){var s=a[e];s.setValue(r,i[s.id],n)}};let Nn=/(\w+)(\])?(\[|\.)?/g;function Bn(e,t){e.seq.push(t),e.map[t.id]=t}function zn(r,i){this.seq=[],this.map={};let e=r.getProgramParameter(i,35718);for(let t=0;t<e;++t){let e=r.getActiveUniform(i,t);u=c=h=l=o=s=a=n=void 0;var n=e,a=r.getUniformLocation(i,e.name),s=this,o=n.name,l=o.length;for(Nn.lastIndex=0;;){var h=Nn.exec(o),c=Nn.lastIndex;let t=h[1];var u=h[3];if("]"===h[2]&&(t|=0),void 0===u||"["===u&&c+2===l){Bn(s,new(void 0===u?Pn:Dn)(t,n,a));break}{let e=s.map[t];void 0===e&&Bn(s,e=new In(t)),s=e}}}}function Fn(e,t,r){t=e.createShader(t);return e.shaderSource(t,r),e.compileShader(t),t}zn.prototype.setValue=function(e,t,r,i){t=this.map[t];void 0!==t&&t.setValue(e,r,i)},zn.prototype.setOptional=function(e,t,r){t=t[r];void 0!==t&&this.setValue(e,r,t)},zn.upload=function(r,i,n,a){for(let e=0,t=i.length;e!==t;++e){var s=i[e],o=n[s.id];!1!==o.needsUpdate&&s.setValue(r,o.value,a)}},zn.seqWithValue=function(r,i){var n=[];for(let e=0,t=r.length;e!==t;++e){var a=r[e];a.id in i&&n.push(a)}return n};let On=0;function Hn(e){switch(e){case Ne:return["Linear","( value )"];case ve:return["sRGB","( value )"];case xe:return["RGBE","( value )"];case _e:return["RGBM","( value, 7.0 )"];case we:return["RGBM","( value, 16.0 )"];case be:return["RGBD","( value, 256.0 )"];case ye:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function Gn(e,r,t){var i=e.getShaderParameter(r,35713),n=e.getShaderInfoLog(r).trim();return i&&""===n?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+t+"\n"+n+function(){var t=e.getShaderSource(r).split("\n");for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}()}function Un(e,t){t=Hn(t);return"vec4 "+e+"( vec4 value ) { return "+t[0]+"ToLinear"+t[1]+"; }"}function kn(e){return""!==e}function Vn(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Wn(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}let jn=/^[ \t]*#include +<([\w\d./]+)>/gm;function qn(e){return e.replace(jn,Xn)}function Xn(e,t){var r=M[t];if(void 0===r)throw new Error("Can not resolve #include <"+t+">");return qn(r)}let Yn=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Zn=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Jn(e){return e.replace(Zn,Kn).replace(Yn,Qn)}function Qn(e,t,r,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Kn(0,t,r,i)}function Kn(e,t,r,i){let n="";for(let e=parseInt(t);e<parseInt(r);e++)n+=i.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return n}function $n(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ea(e,t,r,i){let a=e.getContext(),n=r.defines;var s=r.vertexShader,o=r.fragmentShader;let l=function(){let e="SHADOWMAP_TYPE_BASIC";return 1===r.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===r.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===r.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(),h=function(){let e="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case C:case P:e="ENVMAP_TYPE_CUBE";break;case N:case B:e="ENVMAP_TYPE_CUBE_UV"}return e}(),c=function(){let e="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case P:case B:e="ENVMAP_MODE_REFRACTION"}return e}(),u=function(){let e="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(),d=0<e.gammaFactor?e.gammaFactor:1,p=r.isWebGL2?"":[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||"physical"===r.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(kn).join("\n"),m=function(e){var t,r=[];for(t in e){var i=e[t];!1!==i&&r.push("#define "+t+" "+i)}return r.join("\n")}(n),f=a.createProgram(),g,v,y=r.glslVersion?"#version "+r.glslVersion+"\n":"";r.isRawShaderMaterial?(0<(g=[m].filter(kn).join("\n")).length&&(g+="\n"),0<(v=[p,m].filter(kn).join("\n")).length&&(v+="\n")):(g=[$n(r),"#define SHADER_NAME "+r.shaderName,m,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(kn).join("\n"),v=[p,$n(r),"#define SHADER_NAME "+r.shaderName,m,r.alphaTest?"#define ALPHATEST "+r.alphaTest+(r.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.envMap?"#define "+c:"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.sheen?"#define USE_SHEEN":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==r.toneMapping?"#define TONE_MAPPING":"",0!==r.toneMapping?M.tonemapping_pars_fragment:"",0!==r.toneMapping?function(e,t){let r;switch(t){case 1:r="Linear";break;case 2:r="Reinhard";break;case 3:r="OptimizedCineon";break;case 4:r="ACESFilmic";break;case 5:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",M.encodings_pars_fragment,r.map?Un("mapTexelToLinear",r.mapEncoding):"",r.matcap?Un("matcapTexelToLinear",r.matcapEncoding):"",r.envMap?Un("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMap?Un("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.lightMap?Un("lightMapTexelToLinear",r.lightMapEncoding):"",(x="linearToOutputTexel",_=Hn(_=r.outputEncoding),"vec4 "+x+"( vec4 value ) { return LinearTo"+_[0]+_[1]+"; }"),r.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(kn).join("\n")),s=Wn(Vn(qn(s),r),r),o=Wn(Vn(qn(o),r),r),s=Jn(s),o=Jn(o),r.isWebGL2&&!0!==r.isRawShaderMaterial&&(y="#version 300 es\n",g=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",r.glslVersion===Be?"":"out highp vec4 pc_fragColor;",r.glslVersion===Be?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);var x=y+v+o,_=Fn(a,35633,y+g+s),o=Fn(a,35632,x);if(a.attachShader(f,_),a.attachShader(f,o),void 0!==r.index0AttributeName?a.bindAttribLocation(f,0,r.index0AttributeName):!0===r.morphTargets&&a.bindAttribLocation(f,0,"position"),a.linkProgram(f),e.debug.checkShaderErrors){let r=a.getProgramInfoLog(f).trim(),e=a.getShaderInfoLog(_).trim(),t=a.getShaderInfoLog(o).trim(),i=!0,n=!0;if(!1===a.getProgramParameter(f,35714)){i=!1;let e=Gn(a,_,"vertex"),t=Gn(a,o,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(f,35715),"gl.getProgramInfoLog",r,e,t)}else""!==r?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",r):""!==e&&""!==t||(n=!1);n&&(this.diagnostics={runnable:i,programLog:r,vertexShader:{log:e,prefix:g},fragmentShader:{log:t,prefix:v}})}let w,b;return a.deleteShader(_),a.deleteShader(o),this.getUniforms=function(){return w=void 0===w?new zn(a,f):w},this.getAttributes=function(){return b=void 0===b?function(r,i){let n={},e=r.getProgramParameter(i,35721);for(let t=0;t<e;t++){let e=r.getActiveAttrib(i,t).name;n[e]=r.getAttribLocation(i,e)}return n}(a,f):b},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(f),this.program=void 0},this.name=r.shaderName,this.id=On++,this.cacheKey=t,this.usedTimes=1,this.program=f,this.vertexShader=_,this.fragmentShader=o,this}function ta(u,d,p,m,t,f){let n=[],g=m.isWebGL2,v=m.logarithmicDepthBuffer,y=m.floatVertexTextures,x=m.maxVertexUniforms,_=m.vertexTextures,w=m.precision,b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},i=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function M(e){let t;return t=e&&e.isTexture?e.encoding:e&&e.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e.texture.encoding):Ne}return{getParameters:function(e,t,r,i,n){var a=i.fog,i=e.isMeshStandardMaterial?i.environment:null,i=d.get(e.envMap||i),s=b[e.type],o=n.isSkinnedMesh?function(e){var i=e.skeleton.bones;if(y)return 1024;{let e=x,t=Math.floor((e-20)/4),r=Math.min(t,i.length);return r<i.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+i.length+" bones. This GPU supports "+r+"."),0):r}}(n):0;let l,h;if(null!==e.precision&&(w=m.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",w,"instead."),s){let e=xi[s];l=e.vertexShader,h=e.fragmentShader}else l=e.vertexShader,h=e.fragmentShader;var c=u.getRenderTarget();return{isWebGL2:g,shaderID:s,shaderName:e.type,vertexShader:l,fragmentShader:h,defines:e.defines,isRawShaderMaterial:!0===e.isRawShaderMaterial,glslVersion:e.glslVersion,precision:w,instancing:!0===n.isInstancedMesh,instancingColor:!0===n.isInstancedMesh&&null!==n.instanceColor,supportsVertexTextures:_,outputEncoding:null!==c?M(c.texture):u.outputEncoding,map:!!e.map,mapEncoding:M(e.map),matcap:!!e.matcap,matcapEncoding:M(e.matcap),envMap:!!i,envMapMode:i&&i.mapping,envMapEncoding:M(i),envMapCubeUV:!!i&&(i.mapping===N||i.mapping===B),lightMap:!!e.lightMap,lightMapEncoding:M(e.lightMap),aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:M(e.emissiveMap),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:1===e.normalMapType,tangentSpaceNormalMap:0===e.normalMapType,clearcoatMap:!!e.clearcoatMap,clearcoatRoughnessMap:!!e.clearcoatRoughnessMap,clearcoatNormalMap:!!e.clearcoatNormalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,sheen:!!e.sheen,transmissionMap:!!e.transmissionMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,vertexAlphas:!0===e.vertexColors&&n.geometry&&n.geometry.attributes.color&&4===n.geometry.attributes.color.itemSize,vertexUvs:!!(e.map||e.bumpMap||e.normalMap||e.specularMap||e.alphaMap||e.emissiveMap||e.roughnessMap||e.metalnessMap||e.clearcoatMap||e.clearcoatRoughnessMap||e.clearcoatNormalMap||e.displacementMap||e.transmissionMap),uvsVertexOnly:!(e.map||e.bumpMap||e.normalMap||e.specularMap||e.alphaMap||e.emissiveMap||e.roughnessMap||e.metalnessMap||e.clearcoatNormalMap||e.transmissionMap||!e.displacementMap),fog:!!a,useFog:e.fog,fogExp2:a&&a.isFogExp2,flatShading:!!e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:v,skinning:e.skinning&&0<o,maxBones:o,useVertexTexture:y,morphTargets:e.morphTargets,morphNormals:e.morphNormals,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numRectAreaLights:t.rectArea.length,numHemiLights:t.hemi.length,numDirLightShadows:t.directionalShadowMap.length,numPointLightShadows:t.pointShadowMap.length,numSpotLightShadows:t.spotShadowMap.length,numClippingPlanes:f.numPlanes,numClipIntersection:f.numIntersection,dithering:e.dithering,shadowMapEnabled:u.shadowMap.enabled&&0<r.length,shadowMapType:u.shadowMap.type,toneMapping:e.toneMapped?u.toneMapping:0,physicallyCorrectLights:u.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:2===e.side,flipSided:1===e.side,depthPacking:void 0!==e.depthPacking&&e.depthPacking,index0AttributeName:e.index0AttributeName,extensionDerivatives:e.extensions&&e.extensions.derivatives,extensionFragDepth:e.extensions&&e.extensions.fragDepth,extensionDrawBuffers:e.extensions&&e.extensions.drawBuffers,extensionShaderTextureLOD:e.extensions&&e.extensions.shaderTextureLOD,rendererExtensionFragDepth:g||p.has("EXT_frag_depth"),rendererExtensionDrawBuffers:g||p.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:g||p.has("EXT_shader_texture_lod"),customProgramCacheKey:e.customProgramCacheKey()}},getProgramCacheKey:function(t){var r=[];if(t.shaderID?r.push(t.shaderID):(r.push(t.fragmentShader),r.push(t.vertexShader)),void 0!==t.defines)for(let e in t.defines)r.push(e),r.push(t.defines[e]);if(!1===t.isRawShaderMaterial){for(let e=0;e<i.length;e++)r.push(t[i[e]]);r.push(u.outputEncoding),r.push(u.gammaFactor)}return r.push(t.customProgramCacheKey),r.join()},getUniforms:function(e){var t=b[e.type];let r;if(t){let e=xi[t];r=si.clone(e.uniforms)}else r=e.uniforms;return r},acquireProgram:function(e,r){let i;for(let t=0,e=n.length;t<e;t++){let e=n[t];if(e.cacheKey===r){++(i=e).usedTimes;break}}return void 0===i&&(i=new ea(u,r,e,t),n.push(i)),i},releaseProgram:function(e){var t;0==--e.usedTimes&&(t=n.indexOf(e),n[t]=n[n.length-1],n.pop(),e.destroy())},programs:n}}function ra(){let i=new WeakMap;return{get:function(e){let t=i.get(e);return void 0===t&&(t={},i.set(e,t)),t},remove:function(e){i.delete(e)},update:function(e,t,r){i.get(e)[t]=r},dispose:function(){i=new WeakMap}}}function ia(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function na(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function aa(l){let h=[],c=0,s=[],o=[],u={id:-1};function d(e,t,r,i,n,a){let s=h[c];var o=l.get(r);return void 0===s?(s={id:e.id,object:e,geometry:t,material:r,program:o.program||u,groupOrder:i,renderOrder:e.renderOrder,z:n,group:a},h[c]=s):(s.id=e.id,s.object=e,s.geometry=t,s.material=r,s.program=o.program||u,s.groupOrder=i,s.renderOrder=e.renderOrder,s.z=n,s.group=a),c++,s}return{opaque:s,transparent:o,init:function(){c=0,s.length=0,o.length=0},push:function(e,t,r,i,n,a){e=d(e,t,r,i,n,a);(!0===r.transparent?o:s).push(e)},unshift:function(e,t,r,i,n,a){e=d(e,t,r,i,n,a);(!0===r.transparent?o:s).unshift(e)},finish:function(){for(let t=c,e=h.length;t<e;t++){let e=h[t];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.program=null,e.group=null}},sort:function(e,t){1<s.length&&s.sort(e||ia),1<o.length&&o.sort(t||na)}}}function sa(i){let n=new WeakMap;return{get:function(e,t){let r;return!1===n.has(e)?(r=new aa(i),n.set(e,[r])):t>=n.get(e).length?(r=new aa(i),n.get(e).push(r)):r=n.get(e)[t],r},dispose:function(){n=new WeakMap}}}function oa(){let r={};return{get:function(e){if(void 0!==r[e.id])return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Ae,color:new Re};break;case"SpotLight":t={position:new Ae,direction:new Ae,color:new Re,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Ae,color:new Re,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Ae,skyColor:new Re,groundColor:new Re};break;case"RectAreaLight":t={color:new Re,position:new Ae,halfWidth:new Ae,halfHeight:new Ae}}return r[e.id]=t}}}let la=0;function ha(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function ca(t,r){let y=new oa,x=function(){let r={};return{get:function(e){if(void 0!==r[e.id])return r[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te,shadowCameraNear:1,shadowCameraFar:1e3}}return r[e.id]=t}}}(),_={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let e=0;e<9;e++)_.probe.push(new Ae);let c=new Ae,u=new Le,d=new Le;return{setup:function(s){let o=0,l=0,h=0;for(let e=0;e<9;e++)_.probe[e].set(0,0,0);let c=0,u=0,d=0,p=0,m=0,f=0,g=0,v=0;s.sort(ha);for(let e=0,t=s.length;e<t;e++){let r=s[e],t=r.color,i=r.intensity,n=r.distance,a=r.shadow&&r.shadow.map?r.shadow.map.texture:null;if(r.isAmbientLight)o+=t.r*i,l+=t.g*i,h+=t.b*i;else if(r.isLightProbe)for(let e=0;e<9;e++)_.probe[e].addScaledVector(r.sh.coefficients[e],i);else if(r.isDirectionalLight){let e=y.get(r);if(e.color.copy(r.color).multiplyScalar(r.intensity),r.castShadow){let e=r.shadow,t=x.get(r);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,_.directionalShadow[c]=t,_.directionalShadowMap[c]=a,_.directionalShadowMatrix[c]=r.shadow.matrix,f++}_.directional[c]=e,c++}else if(r.isSpotLight){let e=y.get(r);if(e.position.setFromMatrixPosition(r.matrixWorld),e.color.copy(t).multiplyScalar(i),e.distance=n,e.coneCos=Math.cos(r.angle),e.penumbraCos=Math.cos(r.angle*(1-r.penumbra)),e.decay=r.decay,r.castShadow){let e=r.shadow,t=x.get(r);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,_.spotShadow[d]=t,_.spotShadowMap[d]=a,_.spotShadowMatrix[d]=r.shadow.matrix,v++}_.spot[d]=e,d++}else if(r.isRectAreaLight){let e=y.get(r);e.color.copy(t).multiplyScalar(i),e.halfWidth.set(.5*r.width,0,0),e.halfHeight.set(0,.5*r.height,0),_.rectArea[p]=e,p++}else if(r.isPointLight){let e=y.get(r);if(e.color.copy(r.color).multiplyScalar(r.intensity),e.distance=r.distance,e.decay=r.decay,r.castShadow){let e=r.shadow,t=x.get(r);t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,_.pointShadow[u]=t,_.pointShadowMap[u]=a,_.pointShadowMatrix[u]=r.shadow.matrix,g++}_.point[u]=e,u++}else if(r.isHemisphereLight){let e=y.get(r);e.skyColor.copy(r.color).multiplyScalar(i),e.groundColor.copy(r.groundColor).multiplyScalar(i),_.hemi[m]=e,m++}}0<p&&(r.isWebGL2||!0===t.has("OES_texture_float_linear")?(_.rectAreaLTC1=a.LTC_FLOAT_1,_.rectAreaLTC2=a.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(_.rectAreaLTC1=a.LTC_HALF_1,_.rectAreaLTC2=a.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),_.ambient[0]=o,_.ambient[1]=l,_.ambient[2]=h;let e=_.hash;e.directionalLength===c&&e.pointLength===u&&e.spotLength===d&&e.rectAreaLength===p&&e.hemiLength===m&&e.numDirectionalShadows===f&&e.numPointShadows===g&&e.numSpotShadows===v||(_.directional.length=c,_.spot.length=d,_.rectArea.length=p,_.point.length=u,_.hemi.length=m,_.directionalShadow.length=f,_.directionalShadowMap.length=f,_.pointShadow.length=g,_.pointShadowMap.length=g,_.spotShadow.length=v,_.spotShadowMap.length=v,_.directionalShadowMatrix.length=f,_.pointShadowMatrix.length=g,_.spotShadowMatrix.length=v,e.directionalLength=c,e.pointLength=u,e.spotLength=d,e.rectAreaLength=p,e.hemiLength=m,e.numDirectionalShadows=f,e.numPointShadows=g,e.numSpotShadows=v,_.version=la++)},setupView:function(r,e){let i=0,n=0,a=0,s=0,o=0;var l=e.matrixWorldInverse;for(let e=0,t=r.length;e<t;e++){var h=r[e];if(h.isDirectionalLight){let e=_.directional[i];e.direction.setFromMatrixPosition(h.matrixWorld),c.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(c),e.direction.transformDirection(l),i++}else if(h.isSpotLight){let e=_.spot[a];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(l),e.direction.setFromMatrixPosition(h.matrixWorld),c.setFromMatrixPosition(h.target.matrixWorld),e.direction.sub(c),e.direction.transformDirection(l),a++}else if(h.isRectAreaLight){let e=_.rectArea[s];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(l),d.identity(),u.copy(h.matrixWorld),u.premultiply(l),d.extractRotation(u),e.halfWidth.set(.5*h.width,0,0),e.halfHeight.set(0,.5*h.height,0),e.halfWidth.applyMatrix4(d),e.halfHeight.applyMatrix4(d),s++}else if(h.isPointLight){let e=_.point[n];e.position.setFromMatrixPosition(h.matrixWorld),e.position.applyMatrix4(l),n++}else if(h.isHemisphereLight){let e=_.hemi[o];e.direction.setFromMatrixPosition(h.matrixWorld),e.direction.transformDirection(l),e.direction.normalize(),o++}}},state:_}}function ua(e,t){let r=new ca(e,t),i=[],n=[];return{init:function(){i.length=0,n.length=0},state:{lightsArray:i,shadowsArray:n,lights:r},setupLights:function(){r.setup(i)},setupLightsView:function(e){r.setupView(i,e)},pushLight:function(e){i.push(e)},pushShadow:function(e){n.push(e)}}}function da(i,n){let a=new WeakMap;return{get:function(e,t=0){let r;return!1===a.has(e)?(r=new ua(i,n),a.set(e,[r])):t>=a.get(e).length?(r=new ua(i,n),a.get(e).push(r)):r=a.get(e)[t],r},dispose:function(){a=new WeakMap}}}class pa extends t{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}pa.prototype.isMeshDepthMaterial=!0;class ma extends t{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Ae,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function fa(d,p,e){let m=new fi,f=new Te,g=new Te,v=new Ee,n=[],a=[],c={},y=e.maxTextureSize,u={0:1,1:0,2:2},x=new oi({defines:{SAMPLE_RATE:.25,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Te},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),_=x.clone();_.defines.HORIZONTAL_PASS=1;e=new E;e.setAttribute("position",new T(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let w=new A(e,x),i=this;function b(e,t,r){r=e<<0|t<<1|r<<2;let i=n[r];return void 0===i&&(i=new pa({depthPacking:3201,morphTargets:e,skinning:t}),n[r]=i),i}function M(e,t,r){r=e<<0|t<<1|r<<2;let i=a[r];return void 0===i&&(i=new ma({morphTargets:e,skinning:t}),a[r]=i),i}function S(r,i,n,e,t,a,s){let o=null,l=b,h=r.customDepthMaterial;if(!0===e.isPointLight&&(l=M,h=r.customDistanceMaterial),void 0===h){let e=!1,t=(!0===n.morphTargets&&(e=i.morphAttributes&&i.morphAttributes.position&&0<i.morphAttributes.position.length),!1);!0===r.isSkinnedMesh&&(!0===n.skinning?t=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",r)),o=l(e,t,!0===r.isInstancedMesh)}else o=h;if(d.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){let e=o.uuid,t=n.uuid,r=c[e],i=(void 0===r&&(r={},c[e]=r),r[t]);void 0===i&&(i=o.clone(),r[t]=i),o=i}return o.visible=n.visible,o.wireframe=n.wireframe,o.side=3===s?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:u[n.side],o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===e.isPointLight&&!0===o.isMeshDistanceMaterial&&(o.referencePosition.setFromMatrixPosition(e.matrixWorld),o.nearDistance=t,o.farDistance=a),o}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(a,s,o){if(!1!==i.enabled&&(!1!==i.autoUpdate||!1!==i.needsUpdate)&&0!==a.length){let e=d.getRenderTarget(),t=d.getActiveCubeFace(),r=d.getActiveMipmapLevel(),n=d.state;n.setBlending(0),n.buffers.color.setClear(1,1,1,1),n.buffers.depth.setTest(!0),n.setScissorTest(!1);for(let e=0,t=a.length;e<t;e++){let r=a[e],i=r.shadow;if(void 0===i)console.warn("THREE.WebGLShadowMap:",r,"has no shadow.");else if(!1!==i.autoUpdate||!1!==i.needsUpdate){f.copy(i.mapSize);var l=i.getFrameExtents();if(f.multiply(l),g.copy(i.mapSize),(f.x>y||f.y>y)&&(f.x>y&&(g.x=Math.floor(y/l.x),f.x=g.x*l.x,i.mapSize.x=g.x),f.y>y)&&(g.y=Math.floor(y/l.y),f.y=g.y*l.y,i.mapSize.y=g.y),null===i.map&&!i.isPointLightShadow&&3===this.type){let e={minFilter:H,magFilter:H,format:Ie};i.map=new Qe(f.x,f.y,e),i.map.texture.name=r.name+".shadowMap",i.mapPass=new Qe(f.x,f.y,e),i.camera.updateProjectionMatrix()}if(null===i.map){let e={minFilter:O,magFilter:O,format:Ie};i.map=new Qe(f.x,f.y,e),i.map.texture.name=r.name+".shadowMap",i.camera.updateProjectionMatrix()}d.setRenderTarget(i.map),d.clear();var h=i.getViewportCount();for(let t=0;t<h;t++){let e=i.getViewport(t);v.set(g.x*e.x,g.y*e.y,g.x*e.z,g.y*e.w),n.viewport(v),i.updateMatrices(r,t),m=i.getFrustum(),function r(a,i,s,o,l){if(!1!==a.visible){if(a.layers.test(i.layers)&&(a.isMesh||a.isLine||a.isPoints)&&(a.castShadow||a.receiveShadow&&3===l)&&(!a.frustumCulled||m.intersectsObject(a))){a.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,a.matrixWorld);let i=p.update(a),n=a.material;if(Array.isArray(n)){let r=i.groups;for(let e=0,t=r.length;e<t;e++){var h=r[e],c=n[h.materialIndex];if(c&&c.visible){let e=S(a,i,c,o,s.near,s.far,l);d.renderBufferDirect(s,null,i,e,a,h)}}}else if(n.visible){let e=S(a,i,n,o,s.near,s.far,l);d.renderBufferDirect(s,null,i,e,a,null)}}var n=a.children;for(let e=0,t=n.length;e<t;e++)r(n[e],i,s,o,l)}}(s,o,i.camera,r,this.type)}i.isPointLightShadow||3!==this.type||(l=i,c=o,u=void 0,u=p.update(w),x.uniforms.shadow_pass.value=l.map.texture,x.uniforms.resolution.value=l.mapSize,x.uniforms.radius.value=l.radius,d.setRenderTarget(l.mapPass),d.clear(),d.renderBufferDirect(c,null,u,x,w,null),_.uniforms.shadow_pass.value=l.mapPass.texture,_.uniforms.resolution.value=l.mapSize,_.uniforms.radius.value=l.radius,d.setRenderTarget(l.map),d.clear(),d.renderBufferDirect(c,null,u,_,w,null)),i.needsUpdate=!1}}var c,u;i.needsUpdate=!1,d.setRenderTarget(e,t,r)}}}function ga(c,z,e){let r=e.isWebGL2,i=new function(){let t=!1,a=new Ee,r=null,s=new Ee(0,0,0,0);return{setMask:function(e){r===e||t||(c.colorMask(e,e,e,e),r=e)},setLocked:function(e){t=e},setClear:function(e,t,r,i,n){!0===n&&(e*=i,t*=i,r*=i),a.set(e,t,r,i),!1===s.equals(a)&&(c.clearColor(e,t,r,i),s.copy(a))},reset:function(){t=!1,r=null,s.set(-1,0,0,0)}}},n=new function(){let t=!1,r=null,i=null,n=null;return{setTest:function(e){(e?P:D)(2929)},setMask:function(e){r===e||t||(c.depthMask(e),r=e)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:c.depthFunc(512);break;case 1:c.depthFunc(519);break;case 2:c.depthFunc(513);break;case 3:c.depthFunc(515);break;case 4:c.depthFunc(514);break;case 5:c.depthFunc(518);break;case 6:c.depthFunc(516);break;case 7:c.depthFunc(517);break;default:c.depthFunc(515)}else c.depthFunc(515);i=e}},setLocked:function(e){t=e},setClear:function(e){n!==e&&(c.clearDepth(e),n=e)},reset:function(){t=!1,r=null,i=null,n=null}}},a=new function(){let t=!1,r=null,i=null,n=null,a=null,s=null,o=null,l=null,h=null;return{setTest:function(e){t||(e?P:D)(2960)},setMask:function(e){r===e||t||(c.stencilMask(e),r=e)},setFunc:function(e,t,r){i===e&&n===t&&a===r||(c.stencilFunc(e,t,r),i=e,n=t,a=r)},setOp:function(e,t,r){s===e&&o===t&&l===r||(c.stencilOp(e,t,r),s=e,o=t,l=r)},setLocked:function(e){t=e},setClear:function(e){h!==e&&(c.clearStencil(e),h=e)},reset:function(){t=!1,r=null,i=null,n=null,a=null,s=null,o=null,l=null,h=null}}},t={},s=null,o={},l=null,h=!1,u=null,d=null,p=null,m=null,f=null,g=null,v=null,y=!1,x=null,_=null,w=null,b=null,M=null,F=c.getParameter(35661),S=!1,T=0;e=c.getParameter(7938);-1!==e.indexOf("WebGL")?(T=parseFloat(/^WebGL (\d)/.exec(e)[1]),S=1<=T):-1!==e.indexOf("OpenGL ES")&&(T=parseFloat(/^OpenGL ES (\d)/.exec(e)[1]),S=2<=T);let E=null,A={},L=new Ee(0,0,c.canvas.width,c.canvas.height),R=new Ee(0,0,c.canvas.width,c.canvas.height);function O(e,t,r){var i=new Uint8Array(4),n=c.createTexture();c.bindTexture(e,n),c.texParameteri(e,10241,9728),c.texParameteri(e,10240,9728);for(let e=0;e<r;e++)c.texImage2D(t+e,0,6408,1,1,0,6408,5121,i);return n}let C={};function P(e){!0!==t[e]&&(c.enable(e),t[e]=!0)}function D(e){!1!==t[e]&&(c.disable(e),t[e]=!1)}C[3553]=O(3553,3553,1),C[34067]=O(34067,34069,6),i.setClear(0,0,0,1),n.setClear(1),a.setClear(0),P(2929),n.setFunc(3),H(!1),G(1),P(2884),B(0);let I={[W]:32774,101:32778,102:32779};if(r)I[103]=32775,I[104]=32776;else{let e=z.get("EXT_blend_minmax");null!==e&&(I[103]=e.MIN_EXT,I[104]=e.MAX_EXT)}let N={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function B(e,t,r,i,n,a,s,o){if(0!==e){if(!1===h&&(P(3042),h=!0),5===e)n=n||t,a=a||r,s=s||i,t===d&&n===f||(c.blendEquationSeparate(I[t],I[n]),d=t,f=n),r===p&&i===m&&a===g&&s===v||(c.blendFuncSeparate(N[r],N[i],N[a],N[s]),p=r,m=i,g=a,v=s),u=e,y=null;else if(e!==u||o!==y){if(d===W&&f===W||(c.blendEquation(32774),d=W,f=W),o)switch(e){case 1:c.blendFuncSeparate(1,771,1,771);break;case 2:c.blendFunc(1,1);break;case 3:c.blendFuncSeparate(0,0,769,771);break;case 4:c.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:c.blendFuncSeparate(770,771,1,771);break;case 2:c.blendFunc(770,1);break;case 3:c.blendFunc(0,769);break;case 4:c.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}p=null,m=null,g=null,v=null,u=e,y=o}}else!0===h&&(D(3042),h=!1)}function H(e){x!==e&&(e?c.frontFace(2304):c.frontFace(2305),x=e)}function G(e){0!==e?(P(2884),e!==_&&(1===e?c.cullFace(1029):2===e?c.cullFace(1028):c.cullFace(1032))):D(2884),_=e}function U(e,t,r){e?(P(32823),b===t&&M===r||(c.polygonOffset(t,r),b=t,M=r)):D(32823)}function k(e){void 0===e&&(e=33984+F-1),E!==e&&(c.activeTexture(e),E=e)}return{buffers:{color:i,depth:n,stencil:a},enable:P,disable:D,bindFramebuffer:function(e,t){null===t&&null!==s&&(t=s),o[e]!==t&&(c.bindFramebuffer(e,t),o[e]=t,r)&&(36009===e&&(o[36160]=t),36160===e)&&(o[36009]=t)},bindXRFramebuffer:function(e){e!==s&&(c.bindFramebuffer(36160,e),s=e)},useProgram:function(e){return l!==e&&(c.useProgram(e),l=e,!0)},setBlending:B,setMaterial:function(e,t){(2===e.side?D:P)(2884);let r=1===e.side;H(r=t?!r:r),1===e.blending&&!1===e.transparent?B(0):B(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),n.setFunc(e.depthFunc),n.setTest(e.depthTest),n.setMask(e.depthWrite),i.setMask(e.colorWrite);t=e.stencilWrite;a.setTest(t),t&&(a.setMask(e.stencilWriteMask),a.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),a.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),U(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),(!0===e.alphaToCoverage?P:D)(32926)},setFlipSided:H,setCullFace:G,setLineWidth:function(e){e!==w&&(S&&c.lineWidth(e),w=e)},setPolygonOffset:U,setScissorTest:function(e){(e?P:D)(3089)},activeTexture:k,bindTexture:function(e,t){null===E&&k();let r=A[E];void 0===r&&(r={type:void 0,texture:void 0},A[E]=r),r.type===e&&r.texture===t||(c.bindTexture(e,t||C[e]),r.type=e,r.texture=t)},unbindTexture:function(){var e=A[E];void 0!==e&&void 0!==e.type&&(c.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{c.compressedTexImage2D.apply(c,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{c.texImage2D.apply(c,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{c.texImage3D.apply(c,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(e){!1===L.equals(e)&&(c.scissor(e.x,e.y,e.z,e.w),L.copy(e))},viewport:function(e){!1===R.equals(e)&&(c.viewport(e.x,e.y,e.z,e.w),R.copy(e))},reset:function(){c.disable(3042),c.disable(2884),c.disable(2929),c.disable(32823),c.disable(3089),c.disable(2960),c.disable(32926),c.blendEquation(32774),c.blendFunc(1,0),c.blendFuncSeparate(1,0,1,0),c.colorMask(!0,!0,!0,!0),c.clearColor(0,0,0,0),c.depthMask(!0),c.depthFunc(513),c.clearDepth(1),c.stencilMask(4294967295),c.stencilFunc(519,0,4294967295),c.stencilOp(7680,7680,7680),c.clearStencil(0),c.cullFace(1029),c.frontFace(2305),c.polygonOffset(0,0),c.activeTexture(33984),c.bindFramebuffer(36160,null),!0===r&&(c.bindFramebuffer(36009,null),c.bindFramebuffer(36008,null)),c.useProgram(null),c.lineWidth(1),c.scissor(0,0,c.canvas.width,c.canvas.height),c.viewport(0,0,c.canvas.width,c.canvas.height),t={},E=null,A={},s=null,o={},l=null,h=!1,u=null,d=null,p=null,m=null,f=null,g=null,v=null,y=!1,x=null,_=null,w=null,b=null,M=null,L.set(0,0,c.canvas.width,c.canvas.height),R.set(0,0,c.canvas.width,c.canvas.height),i.reset(),n.reset(),a.reset()}}}function va(p,n,m,f,i,g,c){let v=i.isWebGL2,t=i.maxTextures,y=i.maxCubemapSize,u=i.maxTextureSize,F=i.maxSamples,a=new WeakMap,o,r=!1;try{r="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(p){}function l(e,t){return r?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function x(i,n,a,e){let s=1;if((s=i.width>e||e<i.height?e/Math.max(i.width,i.height):s)<1||!0===n){if("undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&i instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&i instanceof ImageBitmap){let e=n?je:Math.floor,t=e(s*i.width),r=e(s*i.height);void 0===o&&(o=l(t,r));n=a?l(t,r):o;return n.width=t,n.height=r,n.getContext("2d").drawImage(i,0,0,t,r),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+i.width+"x"+i.height+") to ("+t+"x"+r+")."),n}"data"in i&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+i.width+"x"+i.height+").")}return i}function _(e){return Ve(e.width)&&Ve(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==O&&e.minFilter!==H}function b(e,t,r,i){p.generateMipmap(e),f.get(t).__maxMipLevel=Math.log2(Math.max(r,i))}function M(e,t,r){if(!1===v)return t;if(null!==e){if(void 0!==p[e])return p[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let i=t;return 6403===t&&(5126===r&&(i=33326),5131===r&&(i=33325),5121===r)&&(i=33321),6407===t&&(5126===r&&(i=34837),5131===r&&(i=34843),5121===r)&&(i=32849),33325!==(i=6408===t&&(5126===r&&(i=34836),5131===r&&(i=34842),5121===r)?32856:i)&&33326!==i&&34842!==i&&34836!==i||n.get("EXT_color_buffer_float"),i}function s(e){return e===O||e===j||e===q?9728:9729}function h(e){var t,r,e=e.target;e.removeEventListener("dispose",h),t=e,void 0!==(r=f.get(t)).__webglInit&&(p.deleteTexture(r.__webglTexture),f.remove(t)),e.isVideoTexture&&a.delete(e),c.memory.textures--}function d(e){var e=e.target,t=(e.removeEventListener("dispose",d),e.texture),r=f.get(e),i=f.get(t);if(e){if(void 0!==i.__webglTexture&&p.deleteTexture(i.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)p.deleteFramebuffer(r.__webglFramebuffer[e]),r.__webglDepthbuffer&&p.deleteRenderbuffer(r.__webglDepthbuffer[e]);else p.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&p.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&p.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&p.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&p.deleteRenderbuffer(r.__webglDepthRenderbuffer);f.remove(t),f.remove(e)}c.memory.textures--}let S=0;function T(t,r){var e,i,n=f.get(t);if(t.isVideoTexture&&(e=t,i=c.render.frame,a.get(e)!==i&&(a.set(e,i),e.update())),0<t.version&&n.__version!==t.version){let e=t.image;if(void 0===e)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==e.complete)return void P(n,t,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}m.activeTexture(33984+r),m.bindTexture(3553,n.__webglTexture)}function E(e,t){var r=f.get(e);if(0<e.version&&r.__version!==e.version){var n=r,a=e,s=t;if(6===a.image.length){C(n,a),m.activeTexture(33984+s),m.bindTexture(34067,n.__webglTexture),p.pixelStorei(37440,a.flipY),p.pixelStorei(37441,a.premultiplyAlpha),p.pixelStorei(3317,a.unpackAlignment),p.pixelStorei(37443,0);var o=a&&(a.isCompressedTexture||a.image[0].isCompressedTexture),l=a.image[0]&&a.image[0].isDataTexture,h=[];for(let e=0;e<6;e++)h[e]=o||l?l?a.image[e].image:a.image[e]:x(a.image[e],!1,!0,y);var s=h[0],e=_(s)||v,c=g.convert(a.format),u=g.convert(a.type),d=M(a.internalFormat,c,u);let i;if(R(34067,a,e),o){for(let r=0;r<6;r++){i=h[r].mipmaps;for(let t=0;t<i.length;t++){let e=i[t];a.format!==Ie&&a.format!==K?null!==c?m.compressedTexImage2D(34069+r,t,d,e.width,e.height,0,e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):m.texImage2D(34069+r,t,d,e.width,e.height,0,c,u,e.data)}}n.__maxMipLevel=i.length-1}else{i=a.mipmaps;for(let r=0;r<6;r++)if(l){m.texImage2D(34069+r,0,d,h[r].width,h[r].height,0,c,u,h[r].data);for(let t=0;t<i.length;t++){let e=i[t].image[r].image;m.texImage2D(34069+r,t+1,d,e.width,e.height,0,c,u,e.data)}}else{m.texImage2D(34069+r,0,d,c,u,h[r]);for(let t=0;t<i.length;t++){let e=i[t];m.texImage2D(34069+r,t+1,d,c,u,e.image[r])}}n.__maxMipLevel=i.length}w(a,e)&&b(34067,a,s.width,s.height),n.__version=a.version,a.onUpdate&&a.onUpdate(a)}}else m.activeTexture(33984+t),m.bindTexture(34067,r.__webglTexture)}let A={[G]:10497,[U]:33071,[k]:33648},L={[O]:9728,[j]:9984,[q]:9986,[H]:9729,[X]:9985,[Y]:9987};function R(t,r,e){if(e?(p.texParameteri(t,10242,A[r.wrapS]),p.texParameteri(t,10243,A[r.wrapT]),32879!==t&&35866!==t||p.texParameteri(t,32882,A[r.wrapR]),p.texParameteri(t,10240,L[r.magFilter]),p.texParameteri(t,10241,L[r.minFilter])):(p.texParameteri(t,10242,33071),p.texParameteri(t,10243,33071),32879!==t&&35866!==t||p.texParameteri(t,32882,33071),r.wrapS===U&&r.wrapT===U||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),p.texParameteri(t,10240,s(r.magFilter)),p.texParameteri(t,10241,s(r.minFilter)),r.minFilter!==O&&r.minFilter!==H&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===n.has("EXT_texture_filter_anisotropic")){let e=n.get("EXT_texture_filter_anisotropic");r.type===Pe&&!1===n.has("OES_texture_float_linear")||!1===v&&r.type===De&&!1===n.has("OES_texture_half_float_linear")||(1<r.anisotropy||f.get(r).__currentAnisotropy)&&(p.texParameterf(t,e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(r.anisotropy,i.getMaxAnisotropy())),f.get(r).__currentAnisotropy=r.anisotropy)}}function C(e,t){void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",h),e.__webglTexture=p.createTexture(),c.memory.textures++)}function P(e,r,t){let i=3553;r.isDataTexture2DArray&&(i=35866),r.isDataTexture3D&&(i=32879),C(e,r),m.activeTexture(33984+t),m.bindTexture(i,e.__webglTexture),p.pixelStorei(37440,r.flipY),p.pixelStorei(37441,r.premultiplyAlpha),p.pixelStorei(3317,r.unpackAlignment),p.pixelStorei(37443,0);t=r;var t=!v&&(t.wrapS!==U||t.wrapT!==U||t.minFilter!==O&&t.minFilter!==H)&&!1===_(r.image),t=x(r.image,t,!1,u),n=_(t)||v,a=g.convert(r.format);let s,o=g.convert(r.type),l=M(r.internalFormat,a,o);R(i,r,n);var h=r.mipmaps;if(r.isDepthTexture)l=6402,v?l=r.type===Pe?36012:r.type===J?33190:r.type===Q?35056:33189:r.type===Pe&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===$&&6402===l&&r.type!==Z&&r.type!==J&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Z,o=g.convert(r.type)),r.format===ee&&6402===l&&(l=34041,r.type!==Q)&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=Q,o=g.convert(r.type)),m.texImage2D(3553,0,l,t.width,t.height,0,a,o,null);else if(r.isDataTexture)if(0<h.length&&n){for(let e=0,t=h.length;e<t;e++)s=h[e],m.texImage2D(3553,e,l,s.width,s.height,0,a,o,s.data);r.generateMipmaps=!1,e.__maxMipLevel=h.length-1}else m.texImage2D(3553,0,l,t.width,t.height,0,a,o,t.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(let e=0,t=h.length;e<t;e++)s=h[e],r.format!==Ie&&r.format!==K?null!==a?m.compressedTexImage2D(3553,e,l,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):m.texImage2D(3553,e,l,s.width,s.height,0,a,o,s.data);e.__maxMipLevel=h.length-1}else if(r.isDataTexture2DArray)m.texImage3D(35866,0,l,t.width,t.height,t.depth,0,a,o,t.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)m.texImage3D(32879,0,l,t.width,t.height,t.depth,0,a,o,t.data),e.__maxMipLevel=0;else if(0<h.length&&n){for(let e=0,t=h.length;e<t;e++)s=h[e],m.texImage2D(3553,e,l,a,o,s);r.generateMipmaps=!1,e.__maxMipLevel=h.length-1}else m.texImage2D(3553,0,l,a,o,t),e.__maxMipLevel=0;w(r,n)&&b(i,r,t.width,t.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function D(e,t,r,i){var n=t.texture,a=g.convert(n.format),s=g.convert(n.type),o=M(n.internalFormat,a,s);32879===i||35866===i?m.texImage3D(i,0,o,t.width,t.height,t.depth,0,a,s,null):m.texImage2D(i,0,o,t.width,t.height,0,a,s,null),m.bindFramebuffer(36160,e),p.framebufferTexture2D(36160,r,i,f.get(n).__webglTexture,0),m.bindFramebuffer(36160,null)}function I(e,n,a){if(p.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){let r=33189;if(a){let e=n.depthTexture,t=(e&&e.isDepthTexture&&(e.type===Pe?r=36012:e.type===J&&(r=33190)),N(n));p.renderbufferStorageMultisample(36161,t,r,n.width,n.height)}else p.renderbufferStorage(36161,r,n.width,n.height);p.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(a){let e=N(n);p.renderbufferStorageMultisample(36161,e,35056,n.width,n.height)}else p.renderbufferStorage(36161,34041,n.width,n.height);p.framebufferRenderbuffer(36160,33306,36161,e)}else{let e=n.texture,t=g.convert(e.format),r=g.convert(e.type),i=M(e.internalFormat,t,r);if(a){let e=N(n);p.renderbufferStorageMultisample(36161,e,i,n.width,n.height)}else p.renderbufferStorage(36161,i,n.width,n.height)}p.bindRenderbuffer(36161,null)}function N(e){return v&&e.isWebGLMultisampleRenderTarget?Math.min(F,e.samples):0}let B=!1,z=!1;this.allocateTextureUnit=function(){var e=S;return e>=t&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+t),S+=1,e},this.resetTextureUnits=function(){S=0},this.setTexture2D=T,this.setTexture2DArray=function(e,t){var r=f.get(e);0<e.version&&r.__version!==e.version?P(r,e,t):(m.activeTexture(33984+t),m.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){var r=f.get(e);0<e.version&&r.__version!==e.version?P(r,e,t):(m.activeTexture(33984+t),m.bindTexture(32879,r.__webglTexture))},this.setTextureCube=E,this.setupRenderTarget=function(n){let a=n.texture,s=f.get(n),t=f.get(a);n.addEventListener("dispose",d),t.__webglTexture=p.createTexture(),t.__version=a.version,c.memory.textures++;var e=!0===n.isWebGLCubeRenderTarget,r=!0===n.isWebGLMultisampleRenderTarget,i=a.isDataTexture3D||a.isDataTexture2DArray,o=_(n)||v;if(!v||a.format!==K||a.type!==Pe&&a.type!==De||(a.format=Ie,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),e){s.__webglFramebuffer=[];for(let e=0;e<6;e++)s.__webglFramebuffer[e]=p.createFramebuffer()}else if(s.__webglFramebuffer=p.createFramebuffer(),r)if(v){s.__webglMultisampledFramebuffer=p.createFramebuffer(),s.__webglColorRenderbuffer=p.createRenderbuffer(),p.bindRenderbuffer(36161,s.__webglColorRenderbuffer);let e=g.convert(a.format),t=g.convert(a.type),r=M(a.internalFormat,e,t),i=N(n);p.renderbufferStorageMultisample(36161,i,r,n.width,n.height),m.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),p.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),p.bindRenderbuffer(36161,null),n.depthBuffer&&(s.__webglDepthRenderbuffer=p.createRenderbuffer(),I(s.__webglDepthRenderbuffer,n,!0)),m.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(e){m.bindTexture(34067,t.__webglTexture),R(34067,a,o);for(let e=0;e<6;e++)D(s.__webglFramebuffer[e],n,36064,34069+e);w(a,o)&&b(34067,a,n.width,n.height),m.bindTexture(34067,null)}else{let e=3553;i&&(v?e=a.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),m.bindTexture(e,t.__webglTexture),R(e,a,o),D(s.__webglFramebuffer,n,36064,e),w(a,o)&&b(3553,a,n.width,n.height),m.bindTexture(3553,null)}if(n.depthBuffer){var l=n,h=f.get(l),r=!0===l.isWebGLCubeRenderTarget;if(l.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");e=h.__webglFramebuffer,i=l;if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(m.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(f.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),T(i.depthTexture,0),e=f.get(i.depthTexture).__webglTexture,i.depthTexture.format===$)p.framebufferTexture2D(36160,36096,3553,e,0);else{if(i.depthTexture.format!==ee)throw new Error("Unknown depthTexture format");p.framebufferTexture2D(36160,33306,3553,e,0)}}else if(r){h.__webglDepthbuffer=[];for(let e=0;e<6;e++)m.bindFramebuffer(36160,h.__webglFramebuffer[e]),h.__webglDepthbuffer[e]=p.createRenderbuffer(),I(h.__webglDepthbuffer[e],l,!1)}else m.bindFramebuffer(36160,h.__webglFramebuffer),h.__webglDepthbuffer=p.createRenderbuffer(),I(h.__webglDepthbuffer,l,!1);m.bindFramebuffer(36160,null)}},this.updateRenderTargetMipmap=function(e){var t,r,i=e.texture;w(i,_(e)||v)&&(t=e.isWebGLCubeRenderTarget?34067:3553,r=f.get(i).__webglTexture,m.bindTexture(t,r),b(t,i,e.width,e.height),m.bindTexture(t,null))},this.updateMultisampleRenderTarget=function(r){if(r.isWebGLMultisampleRenderTarget)if(v){var i=r.width,n=r.height;let e=16384,t=(r.depthBuffer&&(e|=256),r.stencilBuffer&&(e|=1024),f.get(r));m.bindFramebuffer(36008,t.__webglMultisampledFramebuffer),m.bindFramebuffer(36009,t.__webglFramebuffer),p.blitFramebuffer(0,0,i,n,0,0,i,n,e,9728),m.bindFramebuffer(36008,null),m.bindFramebuffer(36009,t.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===B&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),B=!0),e=e.texture),T(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),E(e,t)}}function ya(e,r,t){let i=t.isWebGL2;return{convert:function(e){let t;if(e===Ce)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(e===Z)return 5123;if(1013===e)return 5124;if(e===J)return 5125;if(e===Pe)return 5126;if(e===De)return i?5131:null!==(t=r.get("OES_texture_half_float"))?t.HALF_FLOAT_OES:null;if(1021===e)return 6406;if(e===K)return 6407;if(e===Ie)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(e===$)return 6402;if(e===ee)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(e===z||e===F||e===te||e===re){if(null===(t=r.get("WEBGL_compressed_texture_s3tc")))return null;if(e===z)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===F)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===te)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===re)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===ie||e===ne||e===ae||e===se){if(null===(t=r.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===ie)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===ne)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===ae)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===se)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return null!==(t=r.get("WEBGL_compressed_texture_etc1"))?t.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===oe||e===le)&&null!==(t=r.get("WEBGL_compressed_texture_etc"))){if(e===oe)return t.COMPRESSED_RGB8_ETC2;if(e===le)return t.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?null!==(t=r.get("WEBGL_compressed_texture_astc"))?e:null:36492===e?null!==(t=r.get("EXT_texture_compression_bptc"))?e:null:e===Q?i?34042:null!==(t=r.get("WEBGL_depth_texture"))?t.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}ma.prototype.isMeshDistanceMaterial=!0;class xa extends L{constructor(e=[]){super(),this.cameras=e}}xa.prototype.isArrayCamera=!0;class _a extends u{constructor(){super(),this.type="Group"}}_a.prototype.isGroup=!0;let wa={type:"move"};class ba{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new _a,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new _a,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ae),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new _a,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ae),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(i,n,a){let e=null,t=null,s=null,r=this._targetRay,o=this._grip,l=this._hand;if(i&&"visible-blurred"!==n.session.visibilityState)if(null!==r&&null!==(e=n.getPose(i.targetRaySpace,a))&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),e.linearVelocity?(r.hasLinearVelocity=!0,r.linearVelocity.copy(e.linearVelocity)):r.hasLinearVelocity=!1,e.angularVelocity?(r.hasAngularVelocity=!0,r.angularVelocity.copy(e.angularVelocity)):r.hasAngularVelocity=!1,this.dispatchEvent(wa)),l&&i.hand){s=!0;for(let r of i.hand.values()){let e=n.getJointPose(r,a);if(void 0===l.joints[r.jointName]){let e=new _a;e.matrixAutoUpdate=!1,e.visible=!1,l.joints[r.jointName]=e,l.add(e)}let t=l.joints[r.jointName];null!==e&&(t.matrix.fromArray(e.transform.matrix),t.matrix.decompose(t.position,t.rotation,t.scale),t.jointRadius=e.radius),t.visible=null!==e}let e=l.joints["index-finger-tip"],t=l.joints["thumb-tip"],r=e.position.distanceTo(t.position);l.inputState.pinching&&.025<r?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:i.handedness,target:this})):!l.inputState.pinching&&r<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:i.handedness,target:this}))}else null!==o&&i.gripSpace&&null!==(t=n.getPose(i.gripSpace,a))&&(o.matrix.fromArray(t.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),t.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(t.linearVelocity)):o.hasLinearVelocity=!1,t.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(t.angularVelocity)):o.hasAngularVelocity=!1);return null!==r&&(r.visible=null!==e),null!==o&&(o.visible=null!==t),null!==l&&(l.visible=null!==s),this}}class Ma extends ze{constructor(e,r){super();let i=this,t=e.state,m=null,n=1,a=null,s="local-floor",o,l=[],h=new Map,f=new L,g=(f.layers.enable(1),f.viewport=new Ee,new L),c=(g.layers.enable(2),g.viewport=new Ee,[f,g]),v=new xa,y=(v.layers.enable(1),v.layers.enable(2),null),x=null;function u(e){var t=h.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function d(){h.forEach(function(e,t){e.disconnect(t)}),h.clear(),y=null,x=null,t.bindXRFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),S.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function p(t){var r=m.inputSources;for(let e=0;e<l.length;e++)h.set(r[e],l[e]);for(let e=0;e<t.removed.length;e++){var i=t.removed[e],n=h.get(i);n&&(n.dispatchEvent({type:"disconnected",data:i}),h.delete(i))}for(let e=0;e<t.added.length;e++){var a=t.added[e],s=h.get(a);s&&s.dispatchEvent({type:"connected",data:a})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=l[e];return void 0===t&&(t=new ba,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=l[e];return void 0===t&&(t=new ba,l[e]=t),t.getGripSpace()},this.getHand=function(e){let t=l[e];return void 0===t&&(t=new ba,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){n=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){s=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getSession=function(){return m},this.setSession=async function(e){if(null!==(m=e)){m.addEventListener("select",u),m.addEventListener("selectstart",u),m.addEventListener("selectend",u),m.addEventListener("squeeze",u),m.addEventListener("squeezestart",u),m.addEventListener("squeezeend",u),m.addEventListener("end",d),m.addEventListener("inputsourceschange",p);let e=r.getContextAttributes();!0!==e.xrCompatible&&await r.makeXRCompatible();var t={antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:n},t=new XRWebGLLayer(m,r,t);m.updateRenderState({baseLayer:t}),a=await m.requestReferenceSpace(s),S.setContext(m),S.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};let _=new Ae,w=new Ae;function b(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.getCamera=function(e){v.near=g.near=f.near=e.near,v.far=g.far=f.far=e.far,y===v.near&&x===v.far||(m.updateRenderState({depthNear:v.near,depthFar:v.far}),y=v.near,x=v.far);var t=e.parent,r=v.cameras;b(v,t);for(let e=0;e<r.length;e++)b(r[e],t);e.matrixWorld.copy(v.matrixWorld),e.matrix.copy(v.matrix),e.matrix.decompose(e.position,e.quaternion,e.scale);var i,n,a,s,o,l,h,c,u,d,p=e.children;for(let e=0,t=p.length;e<t;e++)p[e].updateMatrixWorld(!0);return 2===r.length?(e=v,i=f,n=g,_.setFromMatrixPosition(i.matrixWorld),w.setFromMatrixPosition(n.matrixWorld),a=_.distanceTo(w),s=i.projectionMatrix.elements,n=n.projectionMatrix.elements,o=s[14]/(s[10]-1),l=s[14]/(s[10]+1),h=(s[9]+1)/s[5],c=(s[9]-1)/s[5],s=(s[8]-1)/s[0],n=(n[8]+1)/n[0],u=o*s,d=o*n,s=(n=a/(n-s))*-s,i.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(s),e.translateZ(n),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert(),i=o+n,o=l+n,e.projectionMatrix.makePerspective(u-s,a-s+d,h*l/o*i,c*l/o*i,i,o)):v.projectionMatrix.copy(f.projectionMatrix),v};let M=null,S=new gi;S.setAnimationLoop(function(e,i){if(null!==(o=i.getViewerPose(a))){let n=o.views,a=m.renderState.baseLayer,s=(t.bindXRFramebuffer(a.framebuffer),!1);n.length!==v.cameras.length&&(v.cameras.length=0,s=!0);for(let i=0;i<n.length;i++){let e=n[i],t=a.getViewport(e),r=c[i];r.matrix.fromArray(e.transform.matrix),r.projectionMatrix.fromArray(e.projectionMatrix),r.viewport.set(t.x,t.y,t.width,t.height),0===i&&v.matrix.copy(r.matrix),!0===s&&v.cameras.push(r)}}var n=m.inputSources;for(let r=0;r<l.length;r++){let e=l[r],t=n[r];e.update(t,i,a)}M&&M(e,i)}),this.setAnimationLoop=function(e){M=e},this.dispose=function(){}}}function Sa(a){function m(t,r){t.opacity.value=r.opacity,r.color&&t.diffuse.value.copy(r.color),r.emissive&&t.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(t.map.value=r.map),r.alphaMap&&(t.alphaMap.value=r.alphaMap),r.specularMap&&(t.specularMap.value=r.specularMap);var i=a.get(r).envMap;if(i){t.envMap.value=i,t.flipEnvMap.value=i.isCubeTexture&&i._needsFlipEnvMap?-1:1,t.reflectivity.value=r.reflectivity,t.refractionRatio.value=r.refractionRatio;let e=a.get(i).__maxMipLevel;void 0!==e&&(t.maxMipLevel.value=e)}let e,n;r.lightMap&&(t.lightMap.value=r.lightMap,t.lightMapIntensity.value=r.lightMapIntensity),r.aoMap&&(t.aoMap.value=r.aoMap,t.aoMapIntensity.value=r.aoMapIntensity),r.map?e=r.map:r.specularMap?e=r.specularMap:r.displacementMap?e=r.displacementMap:r.normalMap?e=r.normalMap:r.bumpMap?e=r.bumpMap:r.roughnessMap?e=r.roughnessMap:r.metalnessMap?e=r.metalnessMap:r.alphaMap?e=r.alphaMap:r.emissiveMap?e=r.emissiveMap:r.clearcoatMap?e=r.clearcoatMap:r.clearcoatNormalMap?e=r.clearcoatNormalMap:r.clearcoatRoughnessMap&&(e=r.clearcoatRoughnessMap),void 0!==e&&(!0===(e=e.isWebGLRenderTarget?e.texture:e).matrixAutoUpdate&&e.updateMatrix(),t.uvTransform.value.copy(e.matrix)),r.aoMap?n=r.aoMap:r.lightMap&&(n=r.lightMap),void 0!==n&&(!0===(n=n.isWebGLRenderTarget?n.texture:n).matrixAutoUpdate&&n.updateMatrix(),t.uv2Transform.value.copy(n.matrix))}function f(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side)&&(e.bumpScale.value*=-1),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side)&&e.normalScale.value.negate(),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),a.get(t).envMap&&(e.envMapIntensity.value=t.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(t,r,i,n){if(r.isMeshBasicMaterial)m(t,r);else if(r.isMeshLambertMaterial)m(t,r),p=t,r.emissiveMap&&(p.emissiveMap.value=r.emissiveMap);else if(r.isMeshToonMaterial)m(t,r),p=t,(d=r).gradientMap&&(p.gradientMap.value=d.gradientMap),d.emissiveMap&&(p.emissiveMap.value=d.emissiveMap),d.bumpMap&&(p.bumpMap.value=d.bumpMap,p.bumpScale.value=d.bumpScale,1===d.side)&&(p.bumpScale.value*=-1),d.normalMap&&(p.normalMap.value=d.normalMap,p.normalScale.value.copy(d.normalScale),1===d.side)&&p.normalScale.value.negate(),d.displacementMap&&(p.displacementMap.value=d.displacementMap,p.displacementScale.value=d.displacementScale,p.displacementBias.value=d.displacementBias);else if(r.isMeshPhongMaterial)m(t,r),d=r,(u=t).specular.value.copy(d.specular),u.shininess.value=Math.max(d.shininess,1e-4),d.emissiveMap&&(u.emissiveMap.value=d.emissiveMap),d.bumpMap&&(u.bumpMap.value=d.bumpMap,u.bumpScale.value=d.bumpScale,1===d.side)&&(u.bumpScale.value*=-1),d.normalMap&&(u.normalMap.value=d.normalMap,u.normalScale.value.copy(d.normalScale),1===d.side)&&u.normalScale.value.negate(),d.displacementMap&&(u.displacementMap.value=d.displacementMap,u.displacementScale.value=d.displacementScale,u.displacementBias.value=d.displacementBias);else if(r.isMeshStandardMaterial)m(t,r),r.isMeshPhysicalMaterial?(f(u=t,c=r),u.reflectivity.value=c.reflectivity,u.clearcoat.value=c.clearcoat,u.clearcoatRoughness.value=c.clearcoatRoughness,c.sheen&&u.sheen.value.copy(c.sheen),c.clearcoatMap&&(u.clearcoatMap.value=c.clearcoatMap),c.clearcoatRoughnessMap&&(u.clearcoatRoughnessMap.value=c.clearcoatRoughnessMap),c.clearcoatNormalMap&&(u.clearcoatNormalScale.value.copy(c.clearcoatNormalScale),u.clearcoatNormalMap.value=c.clearcoatNormalMap,1===c.side)&&u.clearcoatNormalScale.value.negate(),u.transmission.value=c.transmission,c.transmissionMap&&(u.transmissionMap.value=c.transmissionMap)):f(t,r);else if(r.isMeshMatcapMaterial)m(t,r),c=t,(h=r).matcap&&(c.matcap.value=h.matcap),h.bumpMap&&(c.bumpMap.value=h.bumpMap,c.bumpScale.value=h.bumpScale,1===h.side)&&(c.bumpScale.value*=-1),h.normalMap&&(c.normalMap.value=h.normalMap,c.normalScale.value.copy(h.normalScale),1===h.side)&&c.normalScale.value.negate(),h.displacementMap&&(c.displacementMap.value=h.displacementMap,c.displacementScale.value=h.displacementScale,c.displacementBias.value=h.displacementBias);else if(r.isMeshDepthMaterial)m(t,r),h=t,(l=r).displacementMap&&(h.displacementMap.value=l.displacementMap,h.displacementScale.value=l.displacementScale,h.displacementBias.value=l.displacementBias);else if(r.isMeshDistanceMaterial)m(t,r),l=t,(o=r).displacementMap&&(l.displacementMap.value=o.displacementMap,l.displacementScale.value=o.displacementScale,l.displacementBias.value=o.displacementBias),l.referencePosition.value.copy(o.referencePosition),l.nearDistance.value=o.nearDistance,l.farDistance.value=o.farDistance;else if(r.isMeshNormalMaterial)m(t,r),o=t,(e=r).bumpMap&&(o.bumpMap.value=e.bumpMap,o.bumpScale.value=e.bumpScale,1===e.side)&&(o.bumpScale.value*=-1),e.normalMap&&(o.normalMap.value=e.normalMap,o.normalScale.value.copy(e.normalScale),1===e.side)&&o.normalScale.value.negate(),e.displacementMap&&(o.displacementMap.value=e.displacementMap,o.displacementScale.value=e.displacementScale,o.displacementBias.value=e.displacementBias);else if(r.isLineBasicMaterial)e=r,(s=t).diffuse.value.copy(e.color),s.opacity.value=e.opacity,r.isLineDashedMaterial&&(s=r,(a=t).dashSize.value=s.dashSize,a.totalSize.value=s.dashSize+s.gapSize,a.scale.value=s.scale);else if(r.isPointsMaterial){s=r,(a=t).diffuse.value.copy(s.color),a.opacity.value=s.opacity,a.size.value=s.size*i,a.scale.value=.5*n,s.map&&(a.map.value=s.map),s.alphaMap&&(a.alphaMap.value=s.alphaMap);let e;s.map?e=s.map:s.alphaMap&&(e=s.alphaMap),void 0!==e&&(!0===e.matrixAutoUpdate&&e.updateMatrix(),a.uvTransform.value.copy(e.matrix))}else if(r.isSpriteMaterial){n=r,(i=t).diffuse.value.copy(n.color),i.opacity.value=n.opacity,i.rotation.value=n.rotation,n.map&&(i.map.value=n.map),n.alphaMap&&(i.alphaMap.value=n.alphaMap);let e;n.map?e=n.map:n.alphaMap&&(e=n.alphaMap),void 0!==e&&(!0===e.matrixAutoUpdate&&e.updateMatrix(),i.uvTransform.value.copy(e.matrix))}else r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1);var a,s,e,o,l,h,c,u,d,p}}}function o(e){let n=void 0!==(e=e||{}).canvas?e.canvas:((j=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).style.display="block",j),r=void 0!==e.context?e.context:null,a=void 0!==e.alpha&&e.alpha,O=void 0===e.depth||e.depth,H=void 0===e.stencil||e.stencil,G=void 0!==e.antialias&&e.antialias,U=void 0===e.premultipliedAlpha||e.premultipliedAlpha,k=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,V=void 0!==e.powerPreference?e.powerPreference:"default",W=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;var j;let c=null,y=null,s=[],o=[],x=(this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Ne,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this),q=!1,X=0,Y=0,_=null,w=-1,b=null,u=new Ee,Z=new Ee,J=null,i=n.width,M=n.height,S=1,Q=null,K=null,l=new Ee(0,0,i,M),h=new Ee(0,0,i,M),$=!1,ee=new fi,te=!1,re=!1,d=new Le,T=new Ae,ie={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ne(){return null===_?S:1}let p,E,A,m,L,R,C,f,ae,g,v,se,oe,le,P,D,I,he,ce,ue,N,B,z=r;function de(t,r){for(let e=0;e<t.length;e++){var i=t[e],i=n.getContext(i,r);if(null!==i)return i}return null}try{let t={alpha:a,depth:O,stencil:H,antialias:G,premultipliedAlpha:U,preserveDrawingBuffer:k,powerPreference:V,failIfMajorPerformanceCaveat:W};if(n.addEventListener("webglcontextlost",me,!1),n.addEventListener("webglcontextrestored",fe,!1),null===z){let e=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&e.shift(),null===(z=de(e,t)))throw de(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===z.getShaderPrecisionFormat&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function pe(){p=new Ei(z),E=new Mi(z,p,e),p.init(E),N=new ya(z,p,E),A=new ga(z,p,E),m=new Ri(z),L=new ra,R=new va(z,p,A,L,E,N,m),C=new Ti(x),f=new vi(z,E),B=new wi(z,p,f,E),ae=new Ai(z,f,m,B),g=new Ii(z,ae,f,m),he=new Di(z),P=new Si(L),v=new ta(x,C,p,E,B,P),se=new Sa(L),oe=new sa(L),le=new da(p,E),I=new _i(x,C,A,g,U),D=new fa(x,g,E),ce=new bi(z,p,m,E),ue=new Li(z,p,m,E),m.programs=v.programs,x.capabilities=E,x.extensions=p,x.properties=L,x.renderLists=oe,x.shadowMap=D,x.state=A,x.info=m}pe();let F=new Ma(x,z);function me(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),q=!0}function fe(){console.log("THREE.WebGLRenderer: Context Restored."),q=!1;var e=m.autoReset,t=D.enabled,r=D.autoUpdate,i=D.needsUpdate,n=D.type;pe(),m.autoReset=e,D.enabled=t,D.autoUpdate=r,D.needsUpdate=i,D.type=n}function ge(e){var t,e=e.target;e.removeEventListener("dispose",ge),t=e=e,void 0!==(t=L.get(t).programs)&&t.forEach(function(e){v.releaseProgram(e)}),L.remove(e)}this.xr=F,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){var e=p.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=p.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return S},this.setPixelRatio=function(e){void 0!==e&&(S=e,this.setSize(i,M,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new Te),e.set(i,M)},this.setSize=function(e,t,r){F.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(i=e,M=t,n.width=Math.floor(e*S),n.height=Math.floor(t*S),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new Te),e.set(i*S,M*S).floor()},this.setDrawingBufferSize=function(e,t,r){i=e,M=t,S=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Ee),e.copy(u)},this.getViewport=function(e){return e.copy(l)},this.setViewport=function(e,t,r,i){e.isVector4?l.set(e.x,e.y,e.z,e.w):l.set(e,t,r,i),A.viewport(u.copy(l).multiplyScalar(S).floor())},this.getScissor=function(e){return e.copy(h)},this.setScissor=function(e,t,r,i){e.isVector4?h.set(e.x,e.y,e.z,e.w):h.set(e,t,r,i),A.scissor(Z.copy(h).multiplyScalar(S).floor())},this.getScissorTest=function(){return $},this.setScissorTest=function(e){A.setScissorTest($=e)},this.setOpaqueSort=function(e){Q=e},this.setTransparentSort=function(e){K=e},this.getClearColor=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),e=new Re),e.copy(I.getClearColor())},this.setClearColor=function(){I.setClearColor.apply(I,arguments)},this.getClearAlpha=function(){return I.getClearAlpha()},this.setClearAlpha=function(){I.setClearAlpha.apply(I,arguments)},this.clear=function(e,t,r){let i=0;void 0!==e&&!e||(i|=16384),void 0!==t&&!t||(i|=256),void 0!==r&&!r||(i|=1024),z.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",me,!1),n.removeEventListener("webglcontextrestored",fe,!1),oe.dispose(),le.dispose(),L.dispose(),C.dispose(),g.dispose(),B.dispose(),F.dispose(),F.removeEventListener("sessionstart",ye),F.removeEventListener("sessionend",xe),t.stop()},this.renderBufferImmediate=function(e,t){B.initAttributes();var r=L.get(e),t=(e.hasPositions&&!r.position&&(r.position=z.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=z.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=z.createBuffer()),e.hasColors&&!r.color&&(r.color=z.createBuffer()),t.getAttributes());e.hasPositions&&(z.bindBuffer(34962,r.position),z.bufferData(34962,e.positionArray,35048),B.enableAttribute(t.position),z.vertexAttribPointer(t.position,3,5126,!1,0,0)),e.hasNormals&&(z.bindBuffer(34962,r.normal),z.bufferData(34962,e.normalArray,35048),B.enableAttribute(t.normal),z.vertexAttribPointer(t.normal,3,5126,!1,0,0)),e.hasUvs&&(z.bindBuffer(34962,r.uv),z.bufferData(34962,e.uvArray,35048),B.enableAttribute(t.uv),z.vertexAttribPointer(t.uv,2,5126,!1,0,0)),e.hasColors&&(z.bindBuffer(34962,r.color),z.bufferData(34962,e.colorArray,35048),B.enableAttribute(t.color),z.vertexAttribPointer(t.color,3,5126,!1,0,0)),B.disableUnusedAttributes(),z.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,i,n,a){null===t&&(t=ie);var s=n.isMesh&&n.matrixWorld.determinant()<0,e=Se(e,t,i,n);A.setMaterial(i,s);let o=r.index;t=r.attributes.position;if(null===o){if(void 0===t||0===t.count)return}else if(0===o.count)return;let l,h=1,c=(!0===i.wireframe&&(o=ae.getWireframeAttribute(r),h=2),(i.morphTargets||i.morphNormals)&&he.update(n,r,i,e),B.setup(n,i,e,r,o),ce);null!==o&&(l=f.get(o),(c=ue).setIndex(l));var s=(null!==o?o:t).count,e=r.drawRange.start*h,t=r.drawRange.count*h,u=null!==a?a.start*h:0,a=null!==a?a.count*h:1/0,d=Math.max(e,u),s=Math.min(s,e+t,u+a)-1,t=Math.max(0,s-d+1);if(0!==t){if(n.isMesh)!0===i.wireframe?(A.setLineWidth(i.wireframeLinewidth*ne()),c.setMode(1)):c.setMode(4);else if(n.isLine){let e=i.linewidth;void 0===e&&(e=1),A.setLineWidth(e*ne()),n.isLineSegments?c.setMode(1):n.isLineLoop?c.setMode(2):c.setMode(3)}else n.isPoints?c.setMode(0):n.isSprite&&c.setMode(4);if(n.isInstancedMesh)c.renderInstances(d,t,n.count);else if(r.isInstancedBufferGeometry){let e=Math.min(r.instanceCount,r._maxInstanceCount);c.renderInstances(d,t,e)}else c.render(d,t)}},this.compile=function(i,t){(y=le.get(i)).init(),i.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(y.pushLight(e),e.castShadow)&&y.pushShadow(e)}),y.setupLights(),i.traverse(function(t){var r=t.material;if(r)if(Array.isArray(r))for(let e=0;e<r.length;e++)be(r[e],i,t);else be(r,i,t)})};let ve=null;function ye(){t.stop()}function xe(){t.start()}let t=new gi;function _e(r,i,n){let a=!0===i.isScene?i.overrideMaterial:null;for(let e=0,t=r.length;e<t;e++){var s=r[e],o=s.object,l=s.geometry,h=null===a?s.material:a,c=s.group;if(n.isArrayCamera){let r=n.cameras;for(let t=0,e=r.length;t<e;t++){let e=r[t];o.layers.test(e.layers)&&(A.viewport(u.copy(e.viewport)),y.setupLightsView(e),we(o,i,e,l,h,c))}}else we(o,i,n,l,h,c)}}function we(t,r,i,e,n,a){if(t.onBeforeRender(x,r,i,e,n,a),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){let e=Se(i,r,n,t);A.setMaterial(n),B.reset(),s=e,t.render(function(e){x.renderBufferImmediate(e,s)})}else x.renderBufferDirect(i,r,e,n,t,a);var s;t.onAfterRender(x,r,i,e,n,a)}function be(e,t,r){!0!==t.isScene&&(t=ie);var i=L.get(e),n=y.state.lights,a=y.state.shadowsArray,s=n.state.version,a=v.getParameters(e,n.state,a,t,r),r=v.getProgramCacheKey(a);let o=i.programs,l=(i.environment=e.isMeshStandardMaterial?t.environment:null,i.fog=t.fog,i.envMap=C.get(e.envMap||i.environment),void 0===o&&(e.addEventListener("dispose",ge),o=new Map,i.programs=o),o.get(r));if(void 0!==l){if(i.currentProgram===l&&i.lightsStateVersion===s)return Me(e,a),l}else a.uniforms=v.getUniforms(e),e.onBuild(a,x),e.onBeforeCompile(a,x),l=v.acquireProgram(a,r),o.set(r,l),i.uniforms=a.uniforms;t=i.uniforms,(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(t.clippingPlanes=P.uniform),Me(e,a),i.needsLights=e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights,i.lightsStateVersion=s,i.needsLights&&(t.ambientLightColor.value=n.state.ambient,t.lightProbe.value=n.state.probe,t.directionalLights.value=n.state.directional,t.directionalLightShadows.value=n.state.directionalShadow,t.spotLights.value=n.state.spot,t.spotLightShadows.value=n.state.spotShadow,t.rectAreaLights.value=n.state.rectArea,t.ltc_1.value=n.state.rectAreaLTC1,t.ltc_2.value=n.state.rectAreaLTC2,t.pointLights.value=n.state.point,t.pointLightShadows.value=n.state.pointShadow,t.hemisphereLights.value=n.state.hemi,t.directionalShadowMap.value=n.state.directionalShadowMap,t.directionalShadowMatrix.value=n.state.directionalShadowMatrix,t.spotShadowMap.value=n.state.spotShadowMap,t.spotShadowMatrix.value=n.state.spotShadowMatrix,t.pointShadowMap.value=n.state.pointShadowMap,t.pointShadowMatrix.value=n.state.pointShadowMatrix),r=l.getUniforms(),a=zn.seqWithValue(r.seq,t);return i.currentProgram=l,i.uniformsList=a,l}function Me(e,t){e=L.get(e);e.outputEncoding=t.outputEncoding,e.instancing=t.instancing,e.numClippingPlanes=t.numClippingPlanes,e.numIntersection=t.numClipIntersection,e.vertexAlphas=t.vertexAlphas}function Se(t,e,r,n){!0!==e.isScene&&(e=ie),R.resetTextureUnits();let i=e.fog,a=r.isMeshStandardMaterial?e.environment:null,s=null===_?x.outputEncoding:_.texture.encoding,o=C.get(r.envMap||a),l=!0===r.vertexColors&&n.geometry&&n.geometry.attributes.color&&4===n.geometry.attributes.color.itemSize,h=L.get(r),c=y.state.lights;if(!0===te&&(!0===re||t!==b)){let e=t===b&&r.id===w;P.setState(r,t,e)}let u=!1,d=(r.version===h.__version?(h.needsLights&&h.lightsStateVersion!==c.state.version||h.outputEncoding!==s||n.isInstancedMesh&&!1===h.instancing||!n.isInstancedMesh&&!0===h.instancing||h.envMap!==o||r.fog&&h.fog!==i||void 0!==h.numClippingPlanes&&(h.numClippingPlanes!==P.numPlanes||h.numIntersection!==P.numIntersection)||h.vertexAlphas!==l)&&(u=!0):(u=!0,h.__version=r.version),h.currentProgram),p=!1,m=!1,f=!1;var g=(d=!0===u?be(r,e,n):d).getUniforms(),e=h.uniforms;if(A.useProgram(d.program)&&(p=!0,m=!0,f=!0),r.id!==w&&(w=r.id,m=!0),p||b!==t){if(g.setValue(z,"projectionMatrix",t.projectionMatrix),E.logarithmicDepthBuffer&&g.setValue(z,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),b!==t&&(b=t,m=!0,f=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){let e=g.map.cameraPosition;void 0!==e&&e.setValue(z,T.setFromMatrixPosition(t.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&g.setValue(z,"isOrthographic",!0===t.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||r.skinning)&&g.setValue(z,"viewMatrix",t.matrixWorldInverse)}if(r.skinning){g.setOptional(z,n,"bindMatrix"),g.setOptional(z,n,"bindMatrixInverse");let i=n.skeleton;if(i){let r=i.bones;if(E.floatVertexTextures){if(null===i.boneTexture){var v=We(Math.sqrt(4*r.length));v=Math.max(v,4);let e=new Float32Array(v*v*4),t=(e.set(i.boneMatrices),new di(e,v,v,Ie,Pe));i.boneMatrices=e,i.boneTexture=t,i.boneTextureSize=v}g.setValue(z,"boneTexture",i.boneTexture,R),g.setValue(z,"boneTextureSize",i.boneTextureSize)}else g.setOptional(z,i,"boneMatrices")}}return!m&&h.receiveShadow===n.receiveShadow||(h.receiveShadow=n.receiveShadow,g.setValue(z,"receiveShadow",n.receiveShadow)),m&&(g.setValue(z,"toneMappingExposure",x.toneMappingExposure),h.needsLights&&(t=f,(v=e).ambientLightColor.needsUpdate=t,v.lightProbe.needsUpdate=t,v.directionalLights.needsUpdate=t,v.directionalLightShadows.needsUpdate=t,v.pointLights.needsUpdate=t,v.pointLightShadows.needsUpdate=t,v.spotLights.needsUpdate=t,v.spotLightShadows.needsUpdate=t,v.rectAreaLights.needsUpdate=t,v.hemisphereLights.needsUpdate=t),i&&r.fog&&se.refreshFogUniforms(e,i),se.refreshMaterialUniforms(e,r,S,M),zn.upload(z,h.uniformsList,e,R)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(zn.upload(z,h.uniformsList,e,R),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&g.setValue(z,"center",n.center),g.setValue(z,"modelViewMatrix",n.modelViewMatrix),g.setValue(z,"normalMatrix",n.normalMatrix),g.setValue(z,"modelMatrix",n.matrixWorld),d}t.setAnimationLoop(function(e){ve&&ve(e)}),"undefined"!=typeof window&&t.setContext(window),this.setAnimationLoop=function(e){ve=e,F.setAnimationLoop(e),null===e?t.stop():t.start()},F.addEventListener("sessionstart",ye),F.addEventListener("sessionend",xe),this.render=function(e,t){let r,i;var n,a;void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),r=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==t&&!0!==t.isCamera?console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."):!0!==q&&(!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===F.enabled&&!0===F.isPresenting&&(t=F.getCamera(t)),!0===e.isScene&&e.onBeforeRender(x,e,t,r||_),(y=le.get(e,o.length)).init(),o.push(y),d.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),ee.setFromProjectionMatrix(d),re=this.localClippingEnabled,te=P.init(this.clippingPlanes,re,t),(c=oe.get(e,s.length)).init(),s.push(c),function i(a,n,s,o){if(!1!==a.visible){if(a.layers.test(n.layers))if(a.isGroup)s=a.renderOrder;else if(a.isLOD)!0===a.autoUpdate&&a.update(n);else if(a.isLight)y.pushLight(a),a.castShadow&&y.pushShadow(a);else if(a.isSprite){if(!a.frustumCulled||ee.intersectsSprite(a)){o&&T.setFromMatrixPosition(a.matrixWorld).applyMatrix4(d);let e=g.update(a),t=a.material;t.visible&&c.push(a,e,t,s,T.z,null)}}else if(a.isImmediateRenderObject)o&&T.setFromMatrixPosition(a.matrixWorld).applyMatrix4(d),c.push(a,null,a.material,s,T.z,null);else if((a.isMesh||a.isLine||a.isPoints)&&(a.isSkinnedMesh&&a.skeleton.frame!==m.render.frame&&(a.skeleton.update(),a.skeleton.frame=m.render.frame),!a.frustumCulled||ee.intersectsObject(a))){o&&T.setFromMatrixPosition(a.matrixWorld).applyMatrix4(d);let i=g.update(a),n=a.material;if(Array.isArray(n)){let r=i.groups;for(let e=0,t=r.length;e<t;e++){var l=r[e],h=n[l.materialIndex];h&&h.visible&&c.push(a,i,h,s,T.z,l)}}else n.visible&&c.push(a,i,n,s,T.z,null)}let r=a.children;for(let e=0,t=r.length;e<t;e++)i(r[e],n,s,o)}}(e,t,0,x.sortObjects),c.finish(),!0===x.sortObjects&&c.sort(Q,K),!0===te&&P.beginShadows(),n=y.state.shadowsArray,D.render(n,e,t),y.setupLights(),y.setupLightsView(t),!0===te&&P.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==r&&this.setRenderTarget(r),I.render(c,e,t,i),n=c.opaque,a=c.transparent,0<n.length&&_e(n,e,t),0<a.length&&_e(a,e,t),null!==_&&(R.updateRenderTargetMipmap(_),R.updateMultisampleRenderTarget(_)),!0===e.isScene&&e.onAfterRender(x,e,t),A.buffers.depth.setTest(!0),A.buffers.depth.setMask(!0),A.buffers.color.setMask(!0),A.setPolygonOffset(!1),B.resetDefaultState(),w=-1,b=null,o.pop(),y=0<o.length?o[o.length-1]:null,s.pop(),c=0<s.length?s[s.length-1]:null)},this.getActiveCubeFace=function(){return X},this.getActiveMipmapLevel=function(){return Y},this.getRenderTarget=function(){return _},this.setRenderTarget=function(r,i=0,n=0){_=r,X=i,Y=n,r&&void 0===L.get(r).__webglFramebuffer&&R.setupRenderTarget(r);let t=null,a=!1,s=!1;if(r){let e=r.texture;(e.isDataTexture3D||e.isDataTexture2DArray)&&(s=!0);var o=L.get(r).__webglFramebuffer;r.isWebGLCubeRenderTarget?(t=o[i],a=!0):t=r.isWebGLMultisampleRenderTarget?L.get(r).__webglMultisampledFramebuffer:o,u.copy(r.viewport),Z.copy(r.scissor),J=r.scissorTest}else u.copy(l).multiplyScalar(S).floor(),Z.copy(h).multiplyScalar(S).floor(),J=$;if(A.bindFramebuffer(36160,t),A.viewport(u),A.scissor(Z),A.setScissorTest(J),a){let e=L.get(r.texture);z.framebufferTexture2D(36160,36064,34069+i,e.__webglTexture,n)}else if(s){let e=L.get(r.texture),t=i||0;z.framebufferTextureLayer(36160,36064,e.__webglTexture,n||0,t)}},this.readRenderTargetPixels=function(i,n,a,s,o,l,t){if(i&&i.isWebGLRenderTarget){let e=L.get(i).__webglFramebuffer;if(e=i.isWebGLCubeRenderTarget&&void 0!==t?e[t]:e){A.bindFramebuffer(36160,e);try{let e=i.texture,t=e.format,r=e.type;var h;t!==Ie&&N.convert(t)!==z.getParameter(35739)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):(h=r===De&&(p.has("EXT_color_buffer_half_float")||E.isWebGL2&&p.has("EXT_color_buffer_float")),r===Ce||N.convert(r)===z.getParameter(35738)||r===Pe&&(E.isWebGL2||p.has("OES_texture_float")||p.has("WEBGL_color_buffer_float"))||h?36053===z.checkFramebufferStatus(36160)?0<=n&&n<=i.width-s&&0<=a&&a<=i.height-o&&z.readPixels(n,a,s,o,N.convert(t),N.convert(r),l):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."))}finally{let e=null!==_?L.get(_).__webglFramebuffer:null;A.bindFramebuffer(36160,e)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,r=0){var i=Math.pow(2,-r),n=Math.floor(t.image.width*i),i=Math.floor(t.image.height*i),a=N.convert(t.format);R.setTexture2D(t,0),z.copyTexImage2D(3553,r,a,e.x,e.y,n,i,0),A.unbindTexture()},this.copyTextureToTexture=function(e,t,r,i=0){var n=t.image.width,a=t.image.height,s=N.convert(r.format),o=N.convert(r.type);R.setTexture2D(r,0),z.pixelStorei(37440,r.flipY),z.pixelStorei(37441,r.premultiplyAlpha),z.pixelStorei(3317,r.unpackAlignment),t.isDataTexture?z.texSubImage2D(3553,i,e.x,e.y,n,a,s,o,t.image.data):t.isCompressedTexture?z.compressedTexSubImage2D(3553,i,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,s,t.mipmaps[0].data):z.texSubImage2D(3553,i,e.x,e.y,s,o,t.image),0===i&&r.generateMipmaps&&z.generateMipmap(3553),A.unbindTexture()},this.copyTextureToTexture3D=function(t,r,i,n,a=0){if(x.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var{width:i,height:s,data:o}=i.image,l=N.convert(n.format),h=N.convert(n.type);let e;if(n.isDataTexture3D)R.setTexture3D(n,0),e=32879;else{if(!n.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");R.setTexture2DArray(n,0),e=35866}z.pixelStorei(37440,n.flipY),z.pixelStorei(37441,n.premultiplyAlpha),z.pixelStorei(3317,n.unpackAlignment);var c=z.getParameter(3314),u=z.getParameter(32878),d=z.getParameter(3316),p=z.getParameter(3315),m=z.getParameter(32877);z.pixelStorei(3314,i),z.pixelStorei(32878,s),z.pixelStorei(3316,t.min.x),z.pixelStorei(3315,t.min.y),z.pixelStorei(32877,t.min.z),z.texSubImage3D(e,a,r.x,r.y,r.z,t.max.x-t.min.x+1,t.max.y-t.min.y+1,t.max.z-t.min.z+1,l,h,o),z.pixelStorei(3314,c),z.pixelStorei(32878,u),z.pixelStorei(3316,d),z.pixelStorei(3315,p),z.pixelStorei(32877,m),0===a&&n.generateMipmaps&&z.generateMipmap(e),A.unbindTexture()}},this.initTexture=function(e){R.setTexture2D(e,0),A.unbindTexture()},this.resetState=function(){X=0,Y=0,_=null,A.reset(),B.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class Ta extends o{}class Ea{constructor(e,t=25e-5){this.name="",this.color=new Re(e),this.density=t}clone(){return new Ea(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}Ea.prototype.isFogExp2=Ta.prototype.isWebGL1Renderer=!0;class Aa{constructor(e,t=1,r=1e3){this.name="",this.color=new Re(e),this.near=t,this.far=r}clone(){return new Aa(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}Aa.prototype.isFog=!0;class La extends u{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){var t=super.toJSON(e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}La.prototype.isScene=!0;class Ra{constructor(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Me,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ge(),this.onUploadCallback=function(){}}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(r,i,n){r*=this.stride,n*=i.stride;for(let e=0,t=this.stride;e<t;e++)this.array[r+e]=i.array[n+e];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ge()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);e=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),e=new Ra(e,this.stride);return e.setUsage(this.usage),e}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ge()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Ra.prototype.isInterleavedBuffer=!0;let l=new Ae;class Ca{constructor(e,t,r,i){this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=!0===i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(r){for(let e=0,t=this.data.count;e<t;e++)l.x=this.getX(e),l.y=this.getY(e),l.z=this.getZ(e),l.applyMatrix4(r),this.setXYZ(e,l.x,l.y,l.z);return this}applyNormalMatrix(r){for(let e=0,t=this.count;e<t;e++)l.x=this.getX(e),l.y=this.getY(e),l.z=this.getZ(e),l.applyNormalMatrix(r),this.setXYZ(e,l.x,l.y,l.z);return this}transformDirection(r){for(let e=0,t=this.count;e<t;e++)l.x=this.getX(e),l.y=this.getY(e),l.z=this.getZ(e),l.transformDirection(r),this.setXYZ(e,l.x,l.y,l.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=n,this}clone(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Ca(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);{console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let e=0;e<this.count;e++){var r=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[r+e])}return new T(new this.array.constructor(t),this.itemSize,this.normalized)}}toJSON(e){if(void 0!==e)return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};{console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");let t=[];for(let e=0;e<this.count;e++){var r=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[r+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}}}Ca.prototype.isInterleavedBufferAttribute=!0;class Pa extends t{constructor(e){super(),this.type="SpriteMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let Da,Ia=(Pa.prototype.isSpriteMaterial=!0,new Ae),Na=new Ae,Ba=new Ae,za=new Te,Fa=new Te,Oa=new Le,Ha=new Ae,Ga=new Ae,Ua=new Ae,ka=new Te,Va=new Te,Wa=new Te;class ja extends u{constructor(e){if(super(),this.type="Sprite",void 0===Da){Da=new E;let e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Ra(e,5);Da.setIndex([0,1,2,0,2,3]),Da.setAttribute("position",new Ca(t,3,0,!1)),Da.setAttribute("uv",new Ca(t,2,3,!1))}this.geometry=Da,this.material=void 0!==e?e:new Pa,this.center=new Te(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Na.setFromMatrixScale(this.matrixWorld),Oa.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ba.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Na.multiplyScalar(-Ba.z);var r=this.material.rotation;let i,n;0!==r&&(n=Math.cos(r),i=Math.sin(r));var r=this.center,a=(qa(Ha.set(-.5,-.5,0),Ba,r,Na,i,n),qa(Ga.set(.5,-.5,0),Ba,r,Na,i,n),qa(Ua.set(.5,.5,0),Ba,r,Na,i,n),ka.set(0,0),Va.set(1,0),Wa.set(1,1),e.ray.intersectTriangle(Ha,Ga,Ua,!1,Ia));null===a&&(qa(Ga.set(-.5,.5,0),Ba,r,Na,i,n),Va.set(0,1),null===(a=e.ray.intersectTriangle(Ha,Ua,Ga,!1,Ia)))||(r=e.ray.origin.distanceTo(Ia))<e.near||e.far<r||t.push({distance:r,point:Ia.clone(),uv:f.getUV(Ia,Ha,Ga,Ua,ka,Va,Wa,new Te),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function qa(e,t,r,i,n,a){za.subVectors(e,r).addScalar(.5).multiply(i),void 0!==n?(Fa.x=a*za.x-n*za.y,Fa.y=n*za.x+a*za.y):Fa.copy(za),e.copy(t),e.x+=Fa.x,e.y+=Fa.y,e.applyMatrix4(Oa)}ja.prototype.isSprite=!0;let Xa=new Ae,Ya=new Ae;class Za extends u{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);var r=e.levels;for(let e=0,t=r.length;e<t;e++){var i=r[e];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);var r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(r){var i=this.levels;if(0<i.length){let e,t;for(e=1,t=i.length;e<t&&!(r<i[e].distance);e++);return i[e-1].object}return null}raycast(e,t){var r;0<this.levels.length&&(Xa.setFromMatrixPosition(this.matrixWorld),r=e.ray.origin.distanceTo(Xa),this.getObjectForDistance(r).raycast(e,t))}update(r){var i=this.levels;if(1<i.length){Xa.setFromMatrixPosition(r.matrixWorld),Ya.setFromMatrixPosition(this.matrixWorld);var n=Xa.distanceTo(Ya)/r.zoom;let e,t;for(i[0].object.visible=!0,e=1,t=i.length;e<t&&n>=i[e].distance;e++)i[e-1].object.visible=!1,i[e].object.visible=!0;for(this._currentLevel=e-1;e<t;e++)i[e].object.visible=!1}}toJSON(e){var r=super.toJSON(e),i=(!1===this.autoUpdate&&(r.object.autoUpdate=!1),r.object.levels=[],this.levels);for(let e=0,t=i.length;e<t;e++){var n=i[e];r.object.levels.push({object:n.object.uuid,distance:n.distance})}return r}}let Ja=new Ae,Qa=new Ee,Ka=new Ee,$a=new Ae,es=new Le;class ts extends A{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Le,this.bindMatrixInverse=new Le}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){var r=new Ee,i=this.geometry.attributes.skinWeight;for(let e=0,t=i.count;e<t;e++){r.x=i.getX(e),r.y=i.getY(e),r.z=i.getZ(e),r.w=i.getW(e);var n=1/r.manhattanLength();n!=1/0?r.multiplyScalar(n):r.set(1,0,0,0),i.setXYZW(e,r.x,r.y,r.z,r.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,r){let i=this.skeleton,t=this.geometry;Qa.fromBufferAttribute(t.attributes.skinIndex,e),Ka.fromBufferAttribute(t.attributes.skinWeight,e),Ja.fromBufferAttribute(t.attributes.position,e).applyMatrix4(this.bindMatrix),r.set(0,0,0);for(let t=0;t<4;t++){let e=Ka.getComponent(t);var n;0!==e&&(n=Qa.getComponent(t),es.multiplyMatrices(i.bones[n].matrixWorld,i.boneInverses[n]),r.addScaledVector($a.copy(Ja).applyMatrix4(es),e))}return r.applyMatrix4(this.bindMatrixInverse)}}ts.prototype.isSkinnedMesh=!0;class rs extends u{constructor(){super(),this.type="Bone"}}rs.prototype.isBone=!0;let is=new Le,ns=new Le;class as{constructor(e=[],t=[]){this.uuid=Ge(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Le)}}calculateInverses(){for(let e=this.boneInverses.length=0,t=this.bones.length;e<t;e++){var r=new Le;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){var r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){var i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){var r=this.bones,i=this.boneInverses,n=this.boneMatrices,e=this.boneTexture;for(let e=0,t=r.length;e<t;e++){var a=r[e]?r[e].matrixWorld:ns;is.multiplyMatrices(a,i[e]),is.toArray(n,16*e)}null!==e&&(e.needsUpdate=!0)}clone(){return new as(this.bones,this.boneInverses)}getBoneByName(r){for(let e=0,t=this.bones.length;e<t;e++){var i=this.bones[e];if(i.name===r)return i}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(r,i){this.uuid=r.uuid;for(let t=0,e=r.bones.length;t<e;t++){var n=r.bones[t];let e=i[n];void 0===e&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),e=new rs),this.bones.push(e),this.boneInverses.push((new Le).fromArray(r.boneInverses[t]))}return this.init(),this}toJSON(){var r={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]},i=(r.uuid=this.uuid,this.bones),n=this.boneInverses;for(let e=0,t=i.length;e<t;e++){var a=i[e],a=(r.bones.push(a.uuid),n[e]);r.boneInverses.push(a.toArray())}return r}}let ss=new Le,os=new Le,ls=[],hs=new A;class cs extends A{constructor(e,t,r){super(e,t),this.instanceMatrix=new T(new Float32Array(16*r),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,i){let t=this.matrixWorld,n=this.count;if(hs.geometry=this.geometry,hs.material=this.material,void 0!==hs.material)for(let r=0;r<n;r++){this.getMatrixAt(r,ss),os.multiplyMatrices(t,ss),hs.matrixWorld=os,hs.raycast(e,ls);for(let t=0,e=ls.length;t<e;t++){let e=ls[t];e.instanceId=r,e.object=this,i.push(e)}ls.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new T(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}cs.prototype.isInstancedMesh=!0;class g extends t{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Re(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this}}g.prototype.isLineBasicMaterial=!0;let us=new Ae,ds=new Ae,ps=new Le,ms=new Lt,fs=new _t;class gs extends u{constructor(e=new E,t=new g){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){var r=e.attributes.position,i=[0];for(let e=1,t=r.count;e<t;e++)us.fromBufferAttribute(r,e-1),ds.fromBufferAttribute(r,e),i[e]=i[e-1],i[e]+=us.distanceTo(ds);e.setAttribute("lineDistance",new V(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(u,d){let t=this.geometry,r=this.matrixWorld,i=u.params.Line.threshold,p=t.drawRange;if(null===t.boundingSphere&&t.computeBoundingSphere(),fs.copy(t.boundingSphere),fs.applyMatrix4(r),fs.radius+=i,!1!==u.ray.intersectsSphere(fs)){ps.copy(r).invert(),ms.copy(u.ray).applyMatrix4(ps);let e=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=e*e,s=new Ae,o=new Ae,l=new Ae,h=new Ae,c=this.isLineSegments?2:1;if(t.isBufferGeometry){let i=t.index,n=t.attributes.position;if(null!==i)for(let r=Math.max(0,p.start),e=Math.min(i.count,p.start+p.count)-1;r<e;r+=c){let e=i.getX(r),t=i.getX(r+1);if(s.fromBufferAttribute(n,e),o.fromBufferAttribute(n,t),!(ms.distanceSqToSegment(s,o,h,l)>a)){h.applyMatrix4(this.matrixWorld);let e=u.ray.origin.distanceTo(h);e<u.near||e>u.far||d.push({distance:e,point:l.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else for(let t=Math.max(0,p.start),e=Math.min(n.count,p.start+p.count)-1;t<e;t+=c)if(s.fromBufferAttribute(n,t),o.fromBufferAttribute(n,t+1),!(ms.distanceSqToSegment(s,o,h,l)>a)){h.applyMatrix4(this.matrixWorld);let e=u.ray.origin.distanceTo(h);e<u.near||e>u.far||d.push({distance:e,point:l.clone().applyMatrix4(this.matrixWorld),index:t,face:null,faceIndex:null,object:this})}}else t.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,i=Object.keys(t);if(0<i.length){let r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{t=e.morphTargets;void 0!==t&&0<t.length&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}gs.prototype.isLine=!0;let vs=new Ae,ys=new Ae;class xs extends gs{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){var r=e.attributes.position,i=[];for(let e=0,t=r.count;e<t;e+=2)vs.fromBufferAttribute(r,e),ys.fromBufferAttribute(r,e+1),i[e]=0===e?0:i[e-1],i[e+1]=i[e]+vs.distanceTo(ys);e.setAttribute("lineDistance",new V(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}xs.prototype.isLineSegments=!0;class _s extends gs{constructor(e,t){super(e,t),this.type="LineLoop"}}_s.prototype.isLineLoop=!0;class ws extends t{constructor(e){super(),this.type="PointsMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this}}ws.prototype.isPointsMaterial=!0;let bs=new Le,Ms=new Lt,Ss=new _t,Ts=new Ae;class Es extends u{constructor(e=new E,t=new ws){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(a,s){let t=this.geometry,o=this.matrixWorld,r=a.params.Points.threshold,l=t.drawRange;if(null===t.boundingSphere&&t.computeBoundingSphere(),Ss.copy(t.boundingSphere),Ss.applyMatrix4(o),Ss.radius+=r,!1!==a.ray.intersectsSphere(Ss)){bs.copy(o).invert(),Ms.copy(a.ray).applyMatrix4(bs);let e=r/((this.scale.x+this.scale.y+this.scale.z)/3),n=e*e;if(t.isBufferGeometry){let r=t.index,i=t.attributes.position;if(null!==r)for(let t=Math.max(0,l.start),e=Math.min(r.count,l.start+l.count);t<e;t++){let e=r.getX(t);Ts.fromBufferAttribute(i,e),As(Ts,e,n,o,a,s,this)}else for(let e=Math.max(0,l.start),t=Math.min(i.count,l.start+l.count);e<t;e++)Ts.fromBufferAttribute(i,e),As(Ts,e,n,o,a,s,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}updateMorphTargets(){let e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,i=Object.keys(t);if(0<i.length){let r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=r.length;e<t;e++){var n=r[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=e}}}}else{t=e.morphTargets;void 0!==t&&0<t.length&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function As(t,r,e,i,n,a,s){var o=Ms.distanceSqToPoint(t);if(o<e){let e=new Ae;Ms.closestPointToPoint(t,e),e.applyMatrix4(i);t=n.ray.origin.distanceTo(e);t<n.near||n.far<t||a.push({distance:t,distanceToRay:Math.sqrt(o),point:e,index:r,face:null,object:s})}}Es.prototype.isPoints=!0;class Ls extends c{constructor(t,e,r,i,n,a,s,o,l){super(t,e,r,i,n,a,s,o,l),this.format=void 0!==s?s:K,this.minFilter=void 0!==a?a:H,this.magFilter=void 0!==n?n:H,this.generateMipmaps=!1;let h=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function e(){h.needsUpdate=!0,t.requestVideoFrameCallback(e)})}clone(){return new this.constructor(this.image).copy(this)}update(){var e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Rs extends c{constructor(e,t,r,i,n,a,s,o,l,h,c,u){super(null,a,s,o,l,h,i,n,c,u),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}Rs.prototype.isCompressedTexture=Ls.prototype.isVideoTexture=!0;class Cs extends c{constructor(e,t,r,i,n,a,s,o,l){super(e,t,r,i,n,a,s,o,l),this.needsUpdate=!0}}class Ps extends c{constructor(e,t,r,i,n,a,s,o,l,h){if((h=void 0!==h?h:$)!==$&&h!==ee)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,i,n,a,s,o,h,r=void 0===(r=void 0===r&&h===$?Z:r)&&h===ee?Q:r,l),this.image={width:e,height:t},this.magFilter=void 0!==s?s:O,this.minFilter=void 0!==o?o:O,this.flipY=!1,this.generateMipmaps=!1}}Ps.prototype.isDepthTexture=Cs.prototype.isCanvasTexture=!0;class Ds extends E{constructor(r=1,i=8,n=0,a=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:r,segments:i,thetaStart:n,thetaLength:a},i=Math.max(3,i);var t=[],s=[],o=[],l=[],h=new Ae,c=new Te;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let e=0,t=3;e<=i;e++,t+=3){var u=n+e/i*a;h.x=r*Math.cos(u),h.y=r*Math.sin(u),s.push(h.x,h.y,h.z),o.push(0,0,1),c.x=(s[t]/r+1)/2,c.y=(s[t+1]/r+1)/2,l.push(c.x,c.y)}for(let e=1;e<=i;e++)t.push(e,e+1,0);this.setIndex(t),this.setAttribute("position",new V(s,3)),this.setAttribute("normal",new V(o,3)),this.setAttribute("uv",new V(l,2))}}class Is extends E{constructor(t=1,r=1,c=1,u=8,i=1,e=!1,d=0,p=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:r,height:c,radialSegments:u,heightSegments:i,openEnded:e,thetaStart:d,thetaLength:p};let m=this,f=(u=Math.floor(u),i=Math.floor(i),[]),g=[],v=[],y=[],x=0,_=[],w=c/2,b=0;function n(i){let n=x,a=new Te,s=new Ae,o=0;var l=!0===i?t:r,h=!0===i?1:-1;for(let e=1;e<=u;e++)g.push(0,w*h,0),v.push(0,h,0),y.push(.5,.5),x++;var c=x;for(let i=0;i<=u;i++){let e=i/u*p+d,t=Math.cos(e),r=Math.sin(e);s.x=l*r,s.y=w*h,s.z=l*t,g.push(s.x,s.y,s.z),v.push(0,h,0),a.x=.5*t+.5,a.y=.5*r*h+.5,y.push(a.x,a.y),x++}for(let r=0;r<u;r++){let e=n+r,t=c+r;!0===i?f.push(t,t+1,e):f.push(t+1,t,e),o+=3}m.addGroup(b,o,!0===i?1:2),b+=o}{let l=new Ae,h=new Ae,s=0;var M=(r-t)/c;for(let e=0;e<=i;e++){let a=[],s=e/i,o=s*(r-t)+t;for(let n=0;n<=u;n++){let e=n/u,t=e*p+d,r=Math.sin(t),i=Math.cos(t);h.x=o*r,h.y=-s*c+w,h.z=o*i,g.push(h.x,h.y,h.z),l.set(r,M,i).normalize(),v.push(l.x,l.y,l.z),y.push(e,1-s),a.push(x++)}_.push(a)}for(let a=0;a<u;a++)for(let n=0;n<i;n++){let e=_[n][a],t=_[n+1][a],r=_[n+1][a+1],i=_[n][a+1];f.push(e,t,i),f.push(t,r,i),s+=6}m.addGroup(b,s,0),b+=s}!1===e&&(0<t&&n(!0),0<r)&&n(!1),this.setIndex(f),this.setAttribute("position",new V(g,3)),this.setAttribute("normal",new V(v,3)),this.setAttribute("uv",new V(y,2))}}class Ns extends Is{constructor(e=1,t=1,r=8,i=1,n=!1,a=0,s=2*Math.PI){super(0,e,t,r,i,n,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:n,thetaStart:a,thetaLength:s}}}class Bs extends E{constructor(r,t,e=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:r,indices:t,radius:e,detail:i};let n=[],a=[];function s(e){n.push(e.x,e.y,e.z)}function o(e,t){e*=3;t.x=r[0+e],t.y=r[1+e],t.z=r[2+e]}function l(e,t,r,i){i<0&&1===e.x&&(a[t]=e.x-1),0===r.x&&0===r.z&&(a[t]=i/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}var c=i,u=new Ae,d=new Ae,p=new Ae;for(let e=0;e<t.length;e+=3){o(t[e+0],u),o(t[e+1],d),o(t[e+2],p);{m=void 0;f=void 0;g=void 0;v=void 0;y=void 0;x=void 0;var m=u;var f=d;var g=p;var v=c;var y=v+1,x=[];for(let n=0;n<=y;n++){x[n]=[];let t=m.clone().lerp(g,n/y),r=f.clone().lerp(g,n/y),i=y-n;for(let e=0;e<=i;e++)x[n][e]=0===e&&n===y?t:t.clone().lerp(r,e/i)}for(let r=0;r<y;r++)for(let t=0;t<2*(y-r)-1;t++){let e=Math.floor(t/2);t%2==0?(s(x[r][e+1]),s(x[r+1][e]),s(x[r][e])):(s(x[r][e+1]),s(x[r+1][e+1]),s(x[r+1][e]))}}}var _=e,w=new Ae;for(let e=0;e<n.length;e+=3)w.x=n[e+0],w.y=n[e+1],w.z=n[e+2],w.normalize().multiplyScalar(_),n[e+0]=w.x,n[e+1]=w.y,n[e+2]=w.z;var b=new Ae;for(let e=0;e<n.length;e+=3){b.x=n[e+0],b.y=n[e+1],b.z=n[e+2];var M=h(b)/2/Math.PI+.5,S=Math.atan2(-b.y,Math.sqrt(b.x*b.x+b.z*b.z))/Math.PI+.5;a.push(M,1-S)}var T=new Ae,E=new Ae,A=new Ae,L=new Ae,R=new Te,C=new Te,P=new Te;for(let e=0,t=0;e<n.length;e+=9,t+=6){T.set(n[e+0],n[e+1],n[e+2]),E.set(n[e+3],n[e+4],n[e+5]),A.set(n[e+6],n[e+7],n[e+8]),R.set(a[t+0],a[t+1]),C.set(a[t+2],a[t+3]),P.set(a[t+4],a[t+5]),L.copy(T).add(E).add(A).divideScalar(3);var D=h(L);l(R,t+0,T,D),l(C,t+2,E,D),l(P,t+4,A,D)}for(let e=0;e<a.length;e+=6){var I=a[e+0],N=a[e+2],B=a[e+4],z=Math.max(I,N,B),F=Math.min(I,N,B);.9<z&&F<.1&&(I<.2&&(a[e+0]+=1),N<.2&&(a[e+2]+=1),B<.2)&&(a[e+4]+=1)}this.setAttribute("position",new V(n,3)),this.setAttribute("normal",new V(n.slice(),3)),this.setAttribute("uv",new V(a,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}}class zs extends Bs{constructor(e=1,t=0){var r=(1+Math.sqrt(5))/2,i=1/r;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}}let Fs=new Ae,Os=new Ae,Hs=new Ae,Gs=new f;class Us extends E{constructor(t,r){if(super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:r},r=void 0!==r?r:1,!0===t.isGeometry)console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");else{let n=Math.pow(10,4),l=Math.cos(Oe*r),a=t.getIndex(),s=t.getAttribute("position"),e=(a||s).count,h=[0,0,0],c=["a","b","c"],u=new Array(3),d={},p=[];for(let i=0;i<e;i+=3){a?(h[0]=a.getX(i),h[1]=a.getX(i+1),h[2]=a.getX(i+2)):(h[0]=i,h[1]=i+1,h[2]=i+2);let{a:e,b:t,c:r}=Gs;if(e.fromBufferAttribute(s,h[0]),t.fromBufferAttribute(s,h[1]),r.fromBufferAttribute(s,h[2]),Gs.getNormal(Hs),u[0]=`${Math.round(e.x*n)},${Math.round(e.y*n)},`+Math.round(e.z*n),u[1]=`${Math.round(t.x*n)},${Math.round(t.y*n)},`+Math.round(t.z*n),u[2]=`${Math.round(r.x*n)},${Math.round(r.y*n)},`+Math.round(r.z*n),u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let o=0;o<3;o++){let e=(o+1)%3,t=u[o],r=u[e],i=Gs[c[o]],n=Gs[c[e]],a=t+"_"+r,s=r+"_"+t;s in d&&d[s]?(Hs.dot(d[s].normal)<=l&&(p.push(i.x,i.y,i.z),p.push(n.x,n.y,n.z)),d[s]=null):a in d||(d[a]={index0:h[o],index1:h[e],normal:Hs.clone()})}}for(let r in d)if(d[r]){let{index0:e,index1:t}=d[r];Fs.fromBufferAttribute(s,e),Os.fromBufferAttribute(s,t),p.push(Fs.x,Fs.y,Fs.z),p.push(Os.x,Os.y,Os.z)}this.setAttribute("position",new V(p,3))}}}function ks(o,l,h){h=h||2;var c=l&&l.length,u=c?l[0]*h:o.length;let d=Vs(o,0,u,h,!0);var p=[];if(d&&d.next!==d.prev){let t,r,i,n,a,s,e;if(c&&(d=function(e,t,r,i){var n,a,s=[];let o,l,h,c,u;for(o=0,l=t.length;o<l;o++)h=t[o]*i,c=o<l-1?t[o+1]*i:e.length,(u=Vs(e,h,c,i,!1))===u.next&&(u.steiner=!0),s.push(function(e){let t=e,r=e;for(;(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next,t!==e;);return r}(u));for(s.sort(qs),o=0;o<s.length;o++)n=s[o],(a=function(r,e){let i=e;var n=r.x,a=r.y;let s,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){let e=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=n&&e>o){if((o=e)===n){if(a===i.y)return i;if(a===i.next.y)return i.next}s=i.x<i.next.x?i:i.next}}}while((i=i.next)!==e);if(!s)return null;if(n!==o){var l,h,c=s,u=s.x,d=s.y;let e,t=1/0;for(i=s;n>=i.x&&i.x>=u&&n!==i.x&&Ys(a<d?n:o,a,u,d,a<d?o:n,a,i.x,i.y)&&(e=Math.abs(a-i.y)/(n-i.x),$s(i,r))&&(e<t||e===t&&(i.x>s.x||i.x===s.x&&(l=s,h=i,y(l.prev,l,h.prev)<0)&&y(h.next,l,l.next)<0))&&(s=i,t=e),(i=i.next)!==c;);}return s}(n,a=r))&&(n=eo(a,n),Ws(a,a.next),Ws(n,n.next)),r=Ws(r,r.next);return r}(o,l,d,h)),o.length>80*h){t=i=o[0],r=n=o[1];for(let e=h;e<u;e+=h)a=o[e],s=o[e+1],a<t&&(t=a),s<r&&(r=s),a>i&&(i=a),s>n&&(n=s);e=0!==(e=Math.max(i-t,n-r))?1/e:0}js(d,p,h,t,r,e)}return p}function Vs(e,s,t,r,i){let n,a;if(i===0<function(r,i,n){let a=0;for(let e=s,t=i-n;e<i;e+=n)a+=(r[t]-r[e])*(r[e+1]+r[t+1]),t=e;return a}(e,t,r))for(n=s;n<t;n+=r)a=to(n,e[n],e[n+1],a);else for(n=t-r;n>=s;n-=r)a=to(n,e[n],e[n+1],a);return a&&Zs(a,a.next)&&(ro(a),a=a.next),a}function Ws(e,t){if(!e)return e;t=t||e;let r,i=e;do{if(r=!1,i.steiner||!Zs(i,i.next)&&0!==y(i.prev,i,i.next))i=i.next;else{if(ro(i),(i=t=i.prev)===i.next)break;r=!0}}while(r||i!==t);return t}function js(i,n,a,s,o,l,h){if(i){if(!h&&l){var c=i;var u=s;var d=o;var p=l;let h=c;for(;null===h.z&&(h.z=Xs(h.x,h.y,u,d,p)),h.prevZ=h.prev,h.nextZ=h.next,(h=h.next)!==c;);h.prevZ.nextZ=null,h.prevZ=null;{var m=h;let e,t,r,i,n,a,s,o,l=1;do{for(t=m,m=null,n=null,a=0;t;){for(a++,r=t,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(o=l;0<s||0<o&&r;)0!==s&&(0===o||!r||t.z<=r.z)?(t=(i=t).nextZ,s--):(r=(i=r).nextZ,o--),n?n.nextZ=i:m=i,i.prevZ=n,n=i;t=r}}while(n.nextZ=null,l*=2,1<a)}}let e,t,r=i;for(;i.prev!==i.next;)if(e=i.prev,t=i.next,l?function(e,t,r,i){var n=e.prev,a=e,s=e.next;if(0<=y(n,a,s))return;let o=(n.x<a.x?n.x<s.x?n:s:a.x<s.x?a:s).x,l=(n.y<a.y?n.y<s.y?n:s:a.y<s.y?a:s).y,h=(a.x<n.x?n.x>s.x?n:s:a.x>s.x?a:s).x,c=(a.y<n.y?n.y>s.y?n:s:a.y>s.y?a:s).y,u=Xs(o,l,t,r,i),d=Xs(h,c,t,r,i),p=e.prevZ,m=e.nextZ;for(;p&&p.z>=u&&m&&m.z<=d;){if(p!==e.prev&&p!==e.next&&Ys(n.x,n.y,a.x,a.y,s.x,s.y,p.x,p.y)&&0<=y(p.prev,p,p.next))return;if(p=p.prevZ,m!==e.prev&&m!==e.next&&Ys(n.x,n.y,a.x,a.y,s.x,s.y,m.x,m.y)&&0<=y(m.prev,m,m.next))return;m=m.nextZ}for(;p&&p.z>=u;){if(p!==e.prev&&p!==e.next&&Ys(n.x,n.y,a.x,a.y,s.x,s.y,p.x,p.y)&&0<=y(p.prev,p,p.next))return;p=p.prevZ}for(;m&&m.z<=d;){if(m!==e.prev&&m!==e.next&&Ys(n.x,n.y,a.x,a.y,s.x,s.y,m.x,m.y)&&0<=y(m.prev,m,m.next))return;m=m.nextZ}return 1}(i,s,o,l):function(e){var t=e.prev,r=e,i=e.next;if(0<=y(t,r,i))return;let n=e.next.next;for(;n!==e.prev;){if(Ys(t.x,t.y,r.x,r.y,i.x,i.y,n.x,n.y)&&0<=y(n.prev,n,n.next))return;n=n.next}return 1}(i))n.push(e.i/a),n.push(i.i/a),n.push(t.i/a),ro(i),i=t.next,r=t.next;else if((i=t)===r){h?1===h?js(i=function(e,t,r){let i=e;do{var n=i.prev,a=i.next.next;!Zs(n,a)&&Js(n,i,i.next,a)&&$s(n,a)&&$s(a,n)&&(t.push(n.i/r),t.push(i.i/r),t.push(a.i/r),ro(i),ro(i.next),i=e=a),i=i.next}while(i!==e);return Ws(i)}(Ws(i),n,a),n,a,s,o,l,2):2===h&&function(e,t,r,i,n,a){let s=e;do{let e=s.next.next;for(;e!==s.prev;){var o;if(s.i!==e.i&&function(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Js(r,r.next,e,t))return 1}while((r=r.next)!==e)}(e,t)&&($s(e,t)&&$s(t,e)&&function(e,t){let r=e,i=!1;for(var n=(e.x+t.x)/2,a=(e.y+t.y)/2;r.y>a!=r.next.y>a&&r.next.y!==r.y&&n<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(i=!i),(r=r.next)!==e;);return i}(e,t)&&(y(e.prev,e,t.prev)||y(e,t.prev,t))||Zs(e,t)&&0<y(e.prev,e,e.next)&&0<y(t.prev,t,t.next))}(s,e))return o=eo(s,e),s=Ws(s,s.next),o=Ws(o,o.next),js(s,t,r,i,n,a),js(o,t,r,i,n,a);e=e.next}}while(s=s.next,s!==e)}(i,n,a,s,o,l):js(Ws(i),n,a,s,o,l,1);break}}}function qs(e,t){return e.x-t.x}function Xs(e,t,r,i,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ys(e,t,r,i,n,a,s,o){return 0<=(n-s)*(t-o)-(e-s)*(a-o)&&0<=(e-s)*(i-o)-(r-s)*(t-o)&&0<=(r-s)*(a-o)-(n-s)*(i-o)}function y(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Zs(e,t){return e.x===t.x&&e.y===t.y}function Js(e,t,r,i){var n=Ks(y(e,t,r)),a=Ks(y(e,t,i)),s=Ks(y(r,i,e)),o=Ks(y(r,i,t));return n!==a&&s!==o||0===n&&Qs(e,r,t)||0===a&&Qs(e,i,t)||0===s&&Qs(r,e,i)||0===o&&Qs(r,t,i)}function Qs(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Ks(e){return 0<e?1:e<0?-1:0}function $s(e,t){return y(e.prev,e,e.next)<0?0<=y(e,t,e.next)&&0<=y(e,e.prev,t):y(e,t,e.prev)<0||y(e,e.next,t)<0}function eo(e,t){var r=new io(e.i,e.x,e.y),i=new io(t.i,t.x,t.y),n=e.next,a=t.prev;return(e.next=t).prev=e,(r.next=n).prev=r,i.next=r,(a.next=r.prev=i).prev=a,i}function to(e,t,r,i){e=new io(e,t,r);return i?(e.next=i.next,(e.prev=i).next.prev=e,i.next=e):(e.prev=e).next=e,e}function ro(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function io(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class no{static area(r){var i=r.length;let n=0;for(let e=i-1,t=0;t<i;e=t++)n+=r[e].x*r[t].y-r[t].x*r[e].y;return.5*n}static isClockWise(e){return no.area(e)<0}static triangulateShape(e,t){var r=[],i=[],n=[];ao(e),so(r,e);let a=e.length;t.forEach(ao);for(let e=0;e<t.length;e++)i.push(a),a+=t[e].length,so(r,t[e]);var s=ks(r,i);for(let e=0;e<s.length;e+=3)n.push(s.slice(e,e+3));return n}}function ao(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function so(t,r){for(let e=0;e<r.length;e++)t.push(r[e].x),t.push(r[e].y)}class oo extends E{constructor(r,H){super(),this.type="ExtrudeGeometry",this.parameters={shapes:r,options:H},r=Array.isArray(r)?r:[r];let G=this,U=[],k=[];for(let e=0,t=r.length;e<t;e++)!function(e){let i=[],z=void 0!==H.curveSegments?H.curveSegments:12,c=void 0!==H.steps?H.steps:1,a=void 0!==H.depth?H.depth:100,n=void 0===H.bevelEnabled||H.bevelEnabled,r=void 0!==H.bevelThickness?H.bevelThickness:6,s=void 0!==H.bevelSize?H.bevelSize:r-2,o=void 0!==H.bevelOffset?H.bevelOffset:0,u=void 0!==H.bevelSegments?H.bevelSegments:3,t=H.extrudePath,d=void 0!==H.UVGenerator?H.UVGenerator:lo;void 0!==H.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),a=H.amount);let l,h,p,m,f,g=!1,v=(t&&(l=t.getSpacedPoints(c),g=!0,n=!1,h=t.computeFrenetFrames(c,!1),p=new Ae,m=new Ae,f=new Ae),n||(u=0,r=0,s=0,o=0),e.extractPoints(z)),y=v.shape,x=v.holes;if(!no.isClockWise(y)){y=y.reverse();for(let t=0,e=x.length;t<e;t++){let e=x[t];no.isClockWise(e)&&(x[t]=e.reverse())}}let _=no.triangulateShape(y,x),w=y;for(let t=0,e=x.length;t<e;t++){let e=x[t];y=y.concat(e)}function b(e,t,r){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(r).add(e)}let M=y.length,S=_.length;function T(a,s,o){let l,h,c,u=a.x-s.x,d=a.y-s.y,p=o.x-a.x,m=o.y-a.y,f=u*u+d*d,e=u*m-d*p;if(Math.abs(e)>Number.EPSILON){let e=Math.sqrt(f),t=Math.sqrt(p*p+m*m),r=s.x-d/e,i=s.y+u/e,n=((o.x-m/t-r)*m-(o.y+p/t-i)*p)/(u*m-d*p);l=r+u*n-a.x,h=i+d*n-a.y;s=l*l+h*h;if(s<=2)return new Te(l,h);c=Math.sqrt(s/2)}else{let e=!1;Number.EPSILON<u?Number.EPSILON<p&&(e=!0):u<-Number.EPSILON?p<-Number.EPSILON&&(e=!0):Math.sign(d)===Math.sign(m)&&(e=!0),c=e?(l=-d,h=u,Math.sqrt(f)):(l=u,h=d,Math.sqrt(f/2))}return new Te(l/c,h/c)}var E=[];for(let e=0,t=w.length,r=t-1,i=e+1;e<t;e++,r++,i++)r===t&&(r=0),i===t&&(i=0),E[e]=T(w[e],w[r],w[i]);let A=[],L,R=E.concat();for(let e=0,t=x.length;e<t;e++){let n=x[e];L=[];for(let e=0,t=n.length,r=t-1,i=e+1;e<t;e++,r++,i++)r===t&&(r=0),i===t&&(i=0),L[e]=T(n[e],n[r],n[i]);A.push(L),R=R.concat(L)}for(let t=0;t<u;t++){let e=t/u,i=r*Math.cos(e*Math.PI/2),n=s*Math.sin(e*Math.PI/2)+o;for(let t=0,e=w.length;t<e;t++){let e=b(w[t],E[t],n);C(e.x,e.y,-i)}for(let e=0,t=x.length;e<t;e++){let r=x[e];L=A[e];for(let t=0,e=r.length;t<e;t++){let e=b(r[t],L[t],n);C(e.x,e.y,-i)}}}var F=s+o;for(let t=0;t<M;t++){let e=n?b(y[t],R[t],F):y[t];g?(m.copy(h.normals[0]).multiplyScalar(e.x),p.copy(h.binormals[0]).multiplyScalar(e.y),f.copy(l[0]).add(m).add(p),C(f.x,f.y,f.z)):C(e.x,e.y,0)}for(let r=1;r<=c;r++)for(let t=0;t<M;t++){let e=n?b(y[t],R[t],F):y[t];g?(m.copy(h.normals[r]).multiplyScalar(e.x),p.copy(h.binormals[r]).multiplyScalar(e.y),f.copy(l[r]).add(m).add(p),C(f.x,f.y,f.z)):C(e.x,e.y,a/c*r)}for(let t=u-1;0<=t;t--){let e=t/u,i=r*Math.cos(e*Math.PI/2),n=s*Math.sin(e*Math.PI/2)+o;for(let t=0,e=w.length;t<e;t++){let e=b(w[t],E[t],n);C(e.x,e.y,a+i)}for(let e=0,t=x.length;e<t;e++){let r=x[e];L=A[e];for(let t=0,e=r.length;t<e;t++){let e=b(r[t],L[t],n);g?C(e.x,e.y+l[c-1].y,l[c-1].x+i):C(e.x,e.y,a+i)}}}function O(e,n){let t=e.length;for(;0<=--t;){var a=t;let i=t-1;i<0&&(i=e.length-1);for(let r=0,e=c+2*u;r<e;r++){let e=M*r,t=M*(r+1);h=l=o=s=void 0;var s=n+a+e,o=n+i+e,l=n+i+t,h=n+a+t;D(s),D(o),D(h),D(o),D(l),D(h),s=U.length/3,I((o=d.generateSideWallUV(G,U,s-6,s-3,s-2,s-1))[0]),I(o[1]),I(o[3]),I(o[1]),I(o[2]),I(o[3])}}}function C(e,t,r){i.push(e),i.push(t),i.push(r)}function P(e,t,r){D(e),D(t),D(r);e=U.length/3,t=d.generateTopUV(G,U,e-3,e-2,e-1);I(t[0]),I(t[1]),I(t[2])}function D(e){U.push(i[3*e+0]),U.push(i[3*e+1]),U.push(i[3*e+2])}function I(e){k.push(e.x),k.push(e.y)}{e=U.length/3;if(n){let e=0,r=0*M;for(let t=0;t<S;t++){let e=_[t];P(e[2]+r,e[1]+r,e[0]+r)}e=c+2*u,r=M*e;for(let t=0;t<S;t++){let e=_[t];P(e[0]+r,e[1]+r,e[2]+r)}}else{for(let e=0;e<S;e++){var N=_[e];P(N[2],N[1],N[0])}for(let e=0;e<S;e++){var B=_[e];P(B[0]+M*c,B[1]+M*c,B[2]+M*c)}}G.addGroup(e,U.length/3-e,0)}{e=U.length/3;let r=0;O(w,r),r+=w.length;for(let t=0,e=x.length;t<e;t++){let e=x[t];O(e,r),r+=e.length}G.addGroup(e,U.length/3-e,1)}}(r[e]);this.setAttribute("position",new V(U,3)),this.setAttribute("uv",new V(k,2)),this.computeVertexNormals()}toJSON(){var e=E.prototype.toJSON.call(this),r=this.parameters.shapes,t=this.parameters.options,i=e;if(i.shapes=[],Array.isArray(r))for(let e=0,t=r.length;e<t;e++){var n=r[e];i.shapes.push(n.uuid)}else i.shapes.push(r.uuid);return void 0!==t.extrudePath&&(i.options.extrudePath=t.extrudePath.toJSON()),i}}let lo={generateTopUV:function(e,t,r,i,n){var a=t[3*r],r=t[3*r+1],s=t[3*i],i=t[3*i+1],o=t[3*n],t=t[3*n+1];return[new Te(a,r),new Te(s,i),new Te(o,t)]},generateSideWallUV:function(e,t,r,i,n,a){var s=t[3*r],o=t[3*r+1],r=t[3*r+2],l=t[3*i],h=t[3*i+1],i=t[3*i+2],c=t[3*n],u=t[3*n+1],n=t[3*n+2],d=t[3*a],p=t[3*a+1],t=t[3*a+2];return Math.abs(o-h)<.01?[new Te(s,1-r),new Te(l,1-i),new Te(c,1-n),new Te(d,1-t)]:[new Te(o,1-r),new Te(h,1-i),new Te(u,1-n),new Te(p,1-t)]}};class ho extends Bs{constructor(e=1,t=0){var r=(1+Math.sqrt(5))/2;super([-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}}class co extends E{constructor(o,l=12,e=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:o,segments:l,phiStart:e,phiLength:r},l=Math.floor(l),r=m(r,0,2*Math.PI);let h=[],i=[],n=[],a=1/l,s=new Ae,c=new Te;for(let t=0;t<=l;t++){var u=e+t*a*r,d=Math.sin(u),p=Math.cos(u);for(let e=0;e<=o.length-1;e++)s.x=o[e].x*d,s.y=o[e].y,s.z=o[e].x*p,i.push(s.x,s.y,s.z),c.x=t/l,c.y=e/(o.length-1),n.push(c.x,c.y)}for(let s=0;s<l;s++)for(let a=0;a<o.length-1;a++){let e=a+s*o.length,t=e,r=e+o.length,i=e+o.length+1,n=e+1;h.push(t,r,n),h.push(r,i,n)}if(this.setIndex(h),this.setAttribute("position",new V(i,3)),this.setAttribute("uv",new V(n,2)),this.computeVertexNormals(),r===2*Math.PI){let r=this.attributes.normal.array,i=new Ae,n=new Ae,a=new Ae,s=l*o.length*3;for(let e=0,t=0;e<o.length;e++,t+=3)i.x=r[t+0],i.y=r[t+1],i.z=r[t+2],n.x=r[s+t+0],n.y=r[s+t+1],n.z=r[s+t+2],a.addVectors(i,n).normalize(),r[t+0]=r[s+t+0]=a.x,r[t+1]=r[s+t+1]=a.y,r[t+2]=r[s+t+2]=a.z}}}class uo extends Bs{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}}class po extends E{constructor(i,s,t){super(),this.type="ParametricGeometry",this.parameters={func:i,slices:s,stacks:t};let o=[],n=[],a=[],l=[],h=new Ae,c=new Ae,u=new Ae,d=new Ae,p=new Ae,m=(i.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter."),s+1);for(let e=0;e<=t;e++){let r=e/t;for(let t=0;t<=s;t++){let e=t/s;i(e,r,c),n.push(c.x,c.y,c.z),0<=e-1e-5?(i(e-1e-5,r,u),d.subVectors(c,u)):(i(1e-5+e,r,u),d.subVectors(u,c)),0<=r-1e-5?(i(e,r-1e-5,u),p.subVectors(c,u)):(i(e,1e-5+r,u),p.subVectors(u,c)),h.crossVectors(d,p).normalize(),a.push(h.x,h.y,h.z),l.push(e,r)}}for(let a=0;a<t;a++)for(let n=0;n<s;n++){let e=a*m+n,t=a*m+n+1,r=(a+1)*m+n+1,i=(a+1)*m+n;o.push(e,t,i),o.push(t,r,i)}this.setIndex(o),this.setAttribute("position",new V(n,3)),this.setAttribute("normal",new V(a,3)),this.setAttribute("uv",new V(l,2))}}class mo extends E{constructor(e=.5,r=1,o=8,t=1,i=0,n=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:r,thetaSegments:o,phiSegments:t,thetaStart:i,thetaLength:n},o=Math.max(3,o);let l=[],a=[],s=[],h=[],c=e;var u=(r-e)/(t=Math.max(1,t)),d=new Ae,p=new Te;for(let e=0;e<=t;e++){for(let t=0;t<=o;t++){let e=i+t/o*n;d.x=c*Math.cos(e),d.y=c*Math.sin(e),a.push(d.x,d.y,d.z),s.push(0,0,1),p.x=(d.x/r+1)/2,p.y=(d.y/r+1)/2,h.push(p.x,p.y)}c+=u}for(let e=0;e<t;e++){let s=e*(o+1);for(let a=0;a<o;a++){let e=a+s,t=e,r=e+o+1,i=e+o+2,n=e+1;l.push(t,r,n),l.push(r,i,n)}}this.setIndex(l),this.setAttribute("position",new V(a,3)),this.setAttribute("normal",new V(s,3)),this.setAttribute("uv",new V(h,2))}}class fo extends E{constructor(t,n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:n};let o=[],l=[],h=[],c=[],r=0,u=0;if(!1===Array.isArray(t))i(t);else for(let e=0;e<t.length;e++)i(t[e]),this.addGroup(r,u,e),r+=u,u=0;function i(e){var a=l.length/3,e=e.extractPoints(n);let r=e.shape;var i=e.holes;!1===no.isClockWise(r)&&(r=r.reverse());for(let t=0,e=i.length;t<e;t++){let e=i[t];!0===no.isClockWise(e)&&(i[t]=e.reverse())}var s=no.triangulateShape(r,i);for(let t=0,e=i.length;t<e;t++){let e=i[t];r=r.concat(e)}for(let t=0,e=r.length;t<e;t++){let e=r[t];l.push(e.x,e.y,0),h.push(0,0,1),c.push(e.x,e.y)}for(let n=0,e=s.length;n<e;n++){let e=s[n],t=e[0]+a,r=e[1]+a,i=e[2]+a;o.push(t,r,i),u+=3}}this.setIndex(o),this.setAttribute("position",new V(l,3)),this.setAttribute("normal",new V(h,3)),this.setAttribute("uv",new V(c,2))}toJSON(){var e=E.prototype.toJSON.call(this),r=this.parameters.shapes,i=e;if(i.shapes=[],Array.isArray(r))for(let e=0,t=r.length;e<t;e++){var n=r[e];i.shapes.push(n.uuid)}else i.shapes.push(r.uuid);return i}}class go extends E{constructor(i=1,s=8,o=6,n=0,a=2*Math.PI,l=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:i,widthSegments:s,heightSegments:o,phiStart:n,phiLength:a,thetaStart:l,thetaLength:h},s=Math.max(3,Math.floor(s)),o=Math.max(2,Math.floor(o));let c=Math.min(l+h,Math.PI),u=0;var d=[],p=new Ae,m=new Ae,f=[],g=[],v=[],y=[];for(let e=0;e<=o;e++){var x=[],_=e/o;let r=0;0==e&&0==l?r=.5/s:e==o&&c==Math.PI&&(r=-.5/s);for(let t=0;t<=s;t++){let e=t/s;p.x=-i*Math.cos(n+e*a)*Math.sin(l+_*h),p.y=i*Math.cos(l+_*h),p.z=i*Math.sin(n+e*a)*Math.sin(l+_*h),g.push(p.x,p.y,p.z),m.copy(p).normalize(),v.push(m.x,m.y,m.z),y.push(e+r,1-_),x.push(u++)}d.push(x)}for(let a=0;a<o;a++)for(let n=0;n<s;n++){let e=d[a][n+1],t=d[a][n],r=d[a+1][n],i=d[a+1][n+1];(0!==a||0<l)&&f.push(e,t,i),(a!==o-1||c<Math.PI)&&f.push(t,r,i)}this.setIndex(f),this.setAttribute("position",new V(g,3)),this.setAttribute("normal",new V(v,3)),this.setAttribute("uv",new V(y,2))}}class vo extends Bs{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}}class yo extends oo{constructor(e,t={}){var r=t.font;if(!r||!r.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new E;r=r.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(r,t),this.type="TextGeometry"}}class xo extends E{constructor(r=1,i=.4,n=8,s=6,a=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:r,tube:i,radialSegments:n,tubularSegments:s,arc:a},n=Math.floor(n),s=Math.floor(s);let o=[],l=[],h=[],c=[],u=new Ae,d=new Ae,p=new Ae;for(let t=0;t<=n;t++)for(let e=0;e<=s;e++){var m=e/s*a,f=t/n*Math.PI*2;d.x=(r+i*Math.cos(f))*Math.cos(m),d.y=(r+i*Math.cos(f))*Math.sin(m),d.z=i*Math.sin(f),l.push(d.x,d.y,d.z),u.x=r*Math.cos(m),u.y=r*Math.sin(m),p.subVectors(d,u).normalize(),h.push(p.x,p.y,p.z),c.push(e/s),c.push(t/n)}for(let a=1;a<=n;a++)for(let n=1;n<=s;n++){let e=(s+1)*a+n-1,t=(s+1)*(a-1)+n-1,r=(s+1)*(a-1)+n,i=(s+1)*a+n;o.push(e,t,i),o.push(t,r,i)}this.setIndex(o),this.setAttribute("position",new V(l,3)),this.setAttribute("normal",new V(h,3)),this.setAttribute("uv",new V(c,2))}}class _o extends E{constructor(e=1,a=.4,s=64,o=8,t=2,r=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:a,tubularSegments:s,radialSegments:o,p:t,q:r},s=Math.floor(s),o=Math.floor(o);let l=[],h=[],c=[],u=[],d=new Ae,p=new Ae,m=new Ae,i=new Ae,f=new Ae,g=new Ae,v=new Ae;for(let n=0;n<=s;++n){var y=n/s*t*Math.PI*2;x(y,t,r,e,m),x(.01+y,t,r,e,i),g.subVectors(i,m),v.addVectors(i,m),f.crossVectors(g,v),v.crossVectors(f,g),f.normalize(),v.normalize();for(let i=0;i<=o;++i){let e=i/o*Math.PI*2,t=-a*Math.cos(e),r=a*Math.sin(e);d.x=m.x+(t*v.x+r*f.x),d.y=m.y+(t*v.y+r*f.y),d.z=m.z+(t*v.z+r*f.z),h.push(d.x,d.y,d.z),p.subVectors(d,m).normalize(),c.push(p.x,p.y,p.z),u.push(n/s),u.push(i/o)}}for(let a=1;a<=s;a++)for(let n=1;n<=o;n++){let e=(o+1)*(a-1)+(n-1),t=(o+1)*a+(n-1),r=(o+1)*a+n,i=(o+1)*(a-1)+n;l.push(e,t,i),l.push(t,r,i)}function x(e,t,r,i,n){var a=Math.cos(e),s=Math.sin(e),r=r/t*e,t=Math.cos(r);n.x=i*(2+t)*.5*a,n.y=i*(2+t)*s*.5,n.z=i*Math.sin(r)*.5}this.setIndex(l),this.setAttribute("position",new V(h,3)),this.setAttribute("normal",new V(c,3)),this.setAttribute("uv",new V(u,2))}}class wo extends E{constructor(t,r=64,s=1,o=8,e=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:r,radius:s,radialSegments:o,closed:e};let i=t.computeFrenetFrames(r,e),l=(this.tangents=i.tangents,this.normals=i.normals,this.binormals=i.binormals,new Ae),h=new Ae,n=new Te,c=new Ae,u=[],d=[],a=[],p=[];function m(e){c=t.getPointAt(e/r,c);var n=i.normals[e],a=i.binormals[e];for(let i=0;i<=o;i++){let e=i/o*Math.PI*2,t=Math.sin(e),r=-Math.cos(e);h.x=r*n.x+t*a.x,h.y=r*n.y+t*a.y,h.z=r*n.z+t*a.z,h.normalize(),d.push(h.x,h.y,h.z),l.x=c.x+s*h.x,l.y=c.y+s*h.y,l.z=c.z+s*h.z,u.push(l.x,l.y,l.z)}}for(let e=0;e<r;e++)m(e);m(!1===e?r:0);for(let t=0;t<=r;t++)for(let e=0;e<=o;e++)n.x=t/r,n.y=e/o,a.push(n.x,n.y);for(let t=1;t<=r;t++)for(let e=1;e<=o;e++){var f=(o+1)*(t-1)+(e-1),g=(o+1)*t+(e-1),v=(o+1)*t+e,y=(o+1)*(t-1)+e;p.push(f,g,y),p.push(g,v,y)}this.setIndex(p),this.setAttribute("position",new V(u,3)),this.setAttribute("normal",new V(d,3)),this.setAttribute("uv",new V(a,2))}toJSON(){var e=E.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}class bo extends E{constructor(e){if(super(),this.type="WireframeGeometry",!0===e.isGeometry)console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");else{let n=[],a=[0,0],s={},o=new Ae;if(null!==e.index){var r=e.attributes.position,l=e.index;let i=e.groups;for(let e=0,t=(i=0===i.length?[{start:0,count:l.count,materialIndex:0}]:i).length;e<t;++e){let t=i[e],r=t.start;for(let i=r,e=r+t.count;i<e;i+=3)for(let r=0;r<3;r++){let e=l.getX(i+r),t=l.getX(i+(r+1)%3);a[0]=Math.min(e,t),a[1]=Math.max(e,t);var h=a[0]+","+a[1];void 0===s[h]&&(s[h]={index1:a[0],index2:a[1]})}}for(let t in s){let e=s[t];o.fromBufferAttribute(r,e.index1),n.push(o.x,o.y,o.z),o.fromBufferAttribute(r,e.index2),n.push(o.x,o.y,o.z)}}else{let r=e.attributes.position;for(let t=0,e=r.count/3;t<e;t++)for(let e=0;e<3;e++){var i=3*t+e,i=(o.fromBufferAttribute(r,i),n.push(o.x,o.y,o.z),3*t+(e+1)%3);o.fromBufferAttribute(r,i),n.push(o.x,o.y,o.z)}}this.setAttribute("position",new V(n,3))}}}var Mo=Object.freeze({__proto__:null,BoxGeometry:ni,BoxBufferGeometry:ni,CircleGeometry:Ds,CircleBufferGeometry:Ds,ConeGeometry:Ns,ConeBufferGeometry:Ns,CylinderGeometry:Is,CylinderBufferGeometry:Is,DodecahedronGeometry:zs,DodecahedronBufferGeometry:zs,EdgesGeometry:Us,ExtrudeGeometry:oo,ExtrudeBufferGeometry:oo,IcosahedronGeometry:ho,IcosahedronBufferGeometry:ho,LatheGeometry:co,LatheBufferGeometry:co,OctahedronGeometry:uo,OctahedronBufferGeometry:uo,ParametricGeometry:po,ParametricBufferGeometry:po,PlaneGeometry:yi,PlaneBufferGeometry:yi,PolyhedronGeometry:Bs,PolyhedronBufferGeometry:Bs,RingGeometry:mo,RingBufferGeometry:mo,ShapeGeometry:fo,ShapeBufferGeometry:fo,SphereGeometry:go,SphereBufferGeometry:go,TetrahedronGeometry:vo,TetrahedronBufferGeometry:vo,TextGeometry:yo,TextBufferGeometry:yo,TorusGeometry:xo,TorusBufferGeometry:xo,TorusKnotGeometry:_o,TorusKnotBufferGeometry:_o,TubeGeometry:wo,TubeBufferGeometry:wo,WireframeGeometry:bo});class So extends t{constructor(e){super(),this.type="ShadowMaterial",this.color=new Re(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}So.prototype.isShadowMaterial=!0;class To extends oi{constructor(e){super(e),this.type="RawShaderMaterial"}}To.prototype.isRawShaderMaterial=!0;class Eo extends t{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Re(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this.vertexTangents=e.vertexTangents,this}}Eo.prototype.isMeshStandardMaterial=!0;class Ao extends Eo{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Te(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=m(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,this.sheen=e.sheen?(this.sheen||new Re).copy(e.sheen):null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this}}class Lo extends t{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Re(16777215),this.specular=new Re(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}class Ro extends t{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Re(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}class Co extends t{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}class Po extends t{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this}}class Do extends t{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Re(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.flatShading=e.flatShading,this}}class Io extends g{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}Io.prototype.isLineDashedMaterial=Do.prototype.isMeshMatcapMaterial=Po.prototype.isMeshLambertMaterial=Co.prototype.isMeshNormalMaterial=Ro.prototype.isMeshToonMaterial=Lo.prototype.isMeshPhongMaterial=Ao.prototype.isMeshPhysicalMaterial=!0;var No=Object.freeze({__proto__:null,ShadowMaterial:So,SpriteMaterial:Pa,RawShaderMaterial:To,ShaderMaterial:oi,PointsMaterial:ws,MeshPhysicalMaterial:Ao,MeshStandardMaterial:Eo,MeshPhongMaterial:Lo,MeshToonMaterial:Ro,MeshNormalMaterial:Co,MeshLambertMaterial:Po,MeshDepthMaterial:pa,MeshDistanceMaterial:ma,MeshBasicMaterial:_r,MeshMatcapMaterial:Do,LineDashedMaterial:Io,LineBasicMaterial:g,Material:t});let x={arraySlice:function(e,t,r){return x.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==r?r:e.length)):e.slice(t,r)},convertArray:function(e,t,r){return!e||!r&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(r){var t=r.length,i=new Array(t);for(let e=0;e!==t;++e)i[e]=e;return i.sort(function(e,t){return r[e]-r[t]}),i},sortedArray:function(i,n,a){let t=i.length,s=new i.constructor(t);for(let e=0,r=0;r!==t;++e){let t=a[e]*n;for(let e=0;e!==n;++e)s[r++]=i[t+e]}return s},flattenJSON:function(t,r,i,n){let a=1,s=t[0];for(;void 0!==s&&void 0===s[n];)s=t[a++];if(void 0!==s){let e=s[n];if(void 0!==e)if(Array.isArray(e))for(;void 0!==(e=s[n])&&(r.push(s.time),i.push.apply(i,e)),void 0!==(s=t[a++]););else if(void 0!==e.toArray)for(;void 0!==(e=s[n])&&(r.push(s.time),e.toArray(i,i.length)),void 0!==(s=t[a++]););else for(;void 0!==(e=s[n])&&(r.push(s.time),i.push(e)),void 0!==(s=t[a++]););}},subclip:function(e,t,s,o,l=30){let h=e.clone();h.name=t;var c=[];for(let e=0;e<h.tracks.length;++e){let r=h.tracks[e],i=r.getValueSize(),n=[],a=[];for(let t=0;t<r.times.length;++t){let e=r.times[t]*l;if(!(e<s||e>=o)){n.push(r.times[t]);for(let e=0;e<i;++e)a.push(r.values[t*i+e])}}0!==n.length&&(r.times=x.convertArray(n,r.times.constructor),r.values=x.convertArray(a,r.values.constructor),c.push(r))}h.tracks=c;let r=1/0;for(let e=0;e<h.tracks.length;++e)r>h.tracks[e].times[0]&&(r=h.tracks[e].times[0]);for(let e=0;e<h.tracks.length;++e)h.tracks[e].shift(-1*r);return h.resetDuration(),h},makeClipAdditive:function(r,e=0,i=r,t=30){let n=i.tracks.length,o=e/(t=t<=0?30:t);for(let e=0;e<n;++e){let s=i.tracks[e],t=s.ValueTypeName;if("bool"!==t&&"string"!==t){var l=r.tracks.find(function(e){return e.name===s.name&&e.ValueTypeName===t});if(void 0!==l){let i=0;var h=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(i=h/3);let n=0;var c=l.getValueSize(),u=(l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(n=c/3),s.times.length-1);let a;if(o<=s.times[0]){let e=i,t=h-i;a=x.arraySlice(s.values,e,t)}else if(o>=s.times[u]){let e=u*h+i,t=e+h-i;a=x.arraySlice(s.values,e,t)}else{let e=s.createInterpolant(),t=i,r=h-i;e.evaluate(o),a=x.arraySlice(e.resultBuffer,t,r)}"quaternion"===t&&(new p).fromArray(a).normalize().conjugate().toArray(a);var d=l.times.length;for(let e=0;e<d;++e){let r=e*c+n;if("quaternion"===t)p.multiplyQuaternionsFlat(l.values,r,a,0,l.values,r);else{let t=c-2*n;for(let e=0;e<t;++e)l.values[r+e]-=a[e]}}}}}return r.blendMode=ge,r}};class Bo{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(r){var i=this.parameterPositions;let n=this._cachedIndex,e=i[n],a=i[n-1];e:{t:{let t;r:{i:if(!(r<e)){for(var s=n+2;;){if(void 0===e){if(r<a)break i;return n=i.length,this._cachedIndex=n,this.afterEnd_(n-1,r,a)}if(n===s)break;if(a=e,r<(e=i[++n]))break t}t=i.length;break r}if(r>=a)break e;var o=i[1];r<o&&(n=2,a=o);for(var l=n-2;;){if(void 0===a)return this._cachedIndex=0,this.beforeStart_(0,r,e);if(n===l)break;if(e=a,r>=(a=i[--n-1]))break t}t=n,n=0}for(;n<t;){let e=n+t>>>1;r<i[e]?t=e:n=1+e}if(e=i[n],void 0===(a=i[n-1]))return this._cachedIndex=0,this.beforeStart_(0,r,e);if(void 0===e)return n=i.length,this._cachedIndex=n,this.afterEnd_(n-1,a,r)}this._cachedIndex=n,this.intervalChanged_(n,a,e)}return this.interpolate_(n,a,r,e)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){var t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,n=e*i;for(let e=0;e!==i;++e)t[e]=r[n+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}Bo.prototype.beforeStart_=Bo.prototype.copySampleValue_,Bo.prototype.afterEnd_=Bo.prototype.copySampleValue_;class zo extends Bo{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:de,endingEnd:de}}intervalChanged_(e,t,r){var i=this.parameterPositions;let n=e-2,a=e+1,s=i[n],o=i[a];if(void 0===s)switch(this.getSettings_().endingStart){case pe:n=e,s=2*t-r;break;case me:n=i.length-2,s=t+i[n]-i[n+1];break;default:n=e,s=r}if(void 0===o)switch(this.getSettings_().endingEnd){case pe:a=e,o=2*r-t;break;case me:a=1,o=r+i[1]-i[0];break;default:a=e-1,o=t}var l=.5*(r-t),h=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(o-r),this._offsetPrev=n*h,this._offsetNext=a*h}interpolate_(e,t,r,i){var n=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,l=o-s,h=this._offsetPrev,c=this._offsetNext,e=this._weightPrev,u=this._weightNext,r=(r-t)/(i-t),i=r*r,t=i*r,d=-e*t+2*e*i-e*r,p=(1+e)*t+(-1.5-2*e)*i+(-.5+e)*r+1,m=(-1-u)*t+(1.5+u)*i+.5*r,f=u*t-u*i;for(let e=0;e!==s;++e)n[e]=d*a[h+e]+p*a[l+e]+m*a[o+e]+f*a[c+e];return n}}class Fo extends Bo{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){var n=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=e*s,l=o-s,h=(r-t)/(i-t),c=1-h;for(let e=0;e!==s;++e)n[e]=a[l+e]*c+a[o+e]*h;return n}}class Oo extends Bo{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ho{constructor(e,t,r,i){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=x.convertArray(t,this.TimeBufferType),this.values=x.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(t){let e=t.constructor,r;if(e.toJSON!==this.toJSON)r=e.toJSON(t);else{r={name:t.name,times:x.convertArray(t.times,Array),values:x.convertArray(t.values,Array)};let e=t.getInterpolation();e!==t.DefaultInterpolation&&(r.interpolation=e)}return r.type=t.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Oo(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Fo(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new zo(this.times,this.values,this.getValueSize(),e)}setInterpolation(t){let e;switch(t){case he:e=this.InterpolantFactoryMethodDiscrete;break;case ce:e=this.InterpolantFactoryMethodLinear;break;case ue:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){let e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrack:",e)}else this.createInterpolant=e;return this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return he;case this.InterpolantFactoryMethodLinear:return ce;case this.InterpolantFactoryMethodSmooth:return ue}}getValueSize(){return this.values.length/this.times.length}shift(r){if(0!==r){var i=this.times;for(let e=0,t=i.length;e!==t;++e)i[e]+=r}return this}scale(r){if(1!==r){var i=this.times;for(let e=0,t=i.length;e!==t;++e)i[e]*=r}return this}trim(e,t){var r=this.times,i=r.length;let n=0,a=i-1;for(;n!==i&&r[n]<e;)++n;for(;-1!==a&&r[a]>t;)--a;if(++a,0!==n||a!==i){n>=a&&(a=Math.max(a,1),n=a-1);let e=this.getValueSize();this.times=x.arraySlice(r,n,a),this.values=x.arraySlice(this.values,n*e,a*e)}return this}validate(){let r=!0;var e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),r=!1);let i=this.times,n=this.values,a=i.length,s=(0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),r=!1),null);for(let t=0;t!==a;t++){let e=i[t];if("number"==typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,e),r=!1;break}if(null!==s&&s>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,e,s),r=!1;break}s=e}if(void 0!==n&&x.isTypedArray(n))for(let t=0,e=n.length;t!==e;++t){let e=n[t];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,e),r=!1;break}}return r}optimize(){let i=x.arraySlice(this.times),s=x.arraySlice(this.values),o=this.getValueSize(),t=this.getInterpolation()===ue,n=i.length-1,l=1;for(let e=1;e<n;++e){let a=!1;var r=i[e];if(r!==i[e+1]&&(1!==e||r!==i[0]))if(t)a=!0;else{let r=e*o,i=r-o,n=r+o;for(let t=0;t!==o;++t){let e=s[r+t];if(e!==s[i+t]||e!==s[n+t]){a=!0;break}}}if(a){if(e!==l){i[l]=i[e];let t=e*o,r=l*o;for(let e=0;e!==o;++e)s[r+e]=s[t+e]}++l}}if(0<n){i[l]=i[n];for(let e=n*o,t=l*o,r=0;r!==o;++r)s[t+r]=s[e+r];++l}return l!==i.length?(this.times=x.arraySlice(i,0,l),this.values=x.arraySlice(s,0,l*o)):(this.times=i,this.values=s),this}clone(){var e=x.arraySlice(this.times,0),t=x.arraySlice(this.values,0),e=new this.constructor(this.name,e,t);return e.createInterpolant=this.createInterpolant,e}}Ho.prototype.TimeBufferType=Float32Array,Ho.prototype.ValueBufferType=Float32Array,Ho.prototype.DefaultInterpolation=ce;class Go extends Ho{}Go.prototype.ValueTypeName="bool",Go.prototype.ValueBufferType=Array,Go.prototype.DefaultInterpolation=he,Go.prototype.InterpolantFactoryMethodLinear=void 0,Go.prototype.InterpolantFactoryMethodSmooth=void 0;class Uo extends Ho{}Uo.prototype.ValueTypeName="color";class ko extends Ho{}ko.prototype.ValueTypeName="number";class Vo extends Bo{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){var n=this.resultBuffer,a=this.sampleValues,s=this.valueSize,o=(r-t)/(i-t);let l=e*s;for(var h=l+s;l!==h;l+=4)p.slerpFlat(n,0,a,l-s,a,l,o);return n}}class Wo extends Ho{InterpolantFactoryMethodLinear(e){return new Vo(this.times,this.values,this.getValueSize(),e)}}Wo.prototype.ValueTypeName="quaternion",Wo.prototype.DefaultInterpolation=ce,Wo.prototype.InterpolantFactoryMethodSmooth=void 0;class jo extends Ho{}jo.prototype.ValueTypeName="string",jo.prototype.ValueBufferType=Array,jo.prototype.DefaultInterpolation=he,jo.prototype.InterpolantFactoryMethodLinear=void 0,jo.prototype.InterpolantFactoryMethodSmooth=void 0;class qo extends Ho{}class Xo{constructor(e,t=-1,r,i=2500){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Ge(),this.duration<0&&this.resetDuration()}static parse(e){var r=[],i=e.tracks,n=1/(e.fps||1);for(let e=0,t=i.length;e!==t;++e)r.push(function(r){if(void 0===r.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let e=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ko;case"vector":case"vector2":case"vector3":case"vector4":return qo;case"color":return Uo;case"quaternion":return Wo;case"bool":case"boolean":return Go;case"string":return jo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(r.type);if(void 0===r.times){let e=[],t=[];x.flattenJSON(r.keys,e,t,"value"),r.times=e,r.values=t}return void 0!==e.parse?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}(i[e]).scale(n));var t=new this(e.name,e.duration,r,e.blendMode);return t.uuid=e.uuid,t}static toJSON(e){var r=[],i=e.tracks,e={name:e.name,duration:e.duration,tracks:r,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,t=i.length;e!==t;++e)r.push(Ho.toJSON(i[e]));return e}static CreateFromMorphTargetSequence(e,i,n,a){var s=i.length,o=[];for(let r=0;r<s;r++){let e=[],t=[];e.push((r+s-1)%s,r,(r+1)%s),t.push(0,1,0);var l=x.getKeyframeOrder(e);e=x.sortedArray(e,1,l),t=x.sortedArray(t,1,l),a||0!==e[0]||(e.push(s),t.push(t[0])),o.push(new ko(".morphTargetInfluences["+i[r].name+"]",e,t).scale(1/n))}return new this(e,-1,o)}static findByName(t,r){let i=t;if(!Array.isArray(t)){let e=t;i=e.geometry&&e.geometry.animations||e.animations}for(let e=0;e<i.length;e++)if(i[e].name===r)return i[e];return null}static CreateClipsFromMorphTargetSequences(n,t,r){var a={},s=/^([\w-]*?)([\d]+)$/;for(let e=0,t=n.length;e<t;e++){let r=n[e],i=r.name.match(s);if(i&&1<i.length){let e=i[1],t=a[e];t||(a[e]=t=[]),t.push(r)}}let i=[];for(let e in a)i.push(this.CreateFromMorphTargetSequence(e,a[e],t,r));return i}static parseAnimation(e,r){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let i=function(e,t,r,i,n){var a,s;0!==r.length&&(a=[],s=[],x.flattenJSON(r,a,s,i),0!==a.length)&&n.push(new e(t,a,s))},s=[],t=e.name||"default",o=e.fps||30,n=e.blendMode,l=e.length||-1;var h=e.hierarchy||[];for(let t=0;t<h.length;t++){let a=h[t].keys;if(a&&0!==a.length)if(a[0].morphTargets){let t={},n;for(n=0;n<a.length;n++)if(a[n].morphTargets)for(let e=0;e<a[n].morphTargets.length;e++)t[a[n].morphTargets[e]]=-1;for(let i in t){let t=[],r=[];for(let e=0;e!==a[n].morphTargets.length;++e){let e=a[n];t.push(e.time),r.push(e.morphTarget===i?1:0)}s.push(new ko(".morphTargetInfluence["+i+"]",t,r))}l=t.length*(o||1)}else{let e=".bones["+r[t].name+"]";i(qo,e+".position",a,"pos",s),i(Wo,e+".quaternion",a,"rot",s),i(qo,e+".scale",a,"scl",s)}}return 0===s.length?null:new this(t,l,s,n)}resetDuration(){let r=0;for(let e=0,t=this.tracks.length;e!==t;++e){var i=this.tracks[e];r=Math.max(r,i.times[i.times.length-1])}return this.duration=r,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){var t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}let Yo={enabled:!(qo.prototype.ValueTypeName="vector"),files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class Zo{constructor(e,t,r){let i=this,n,a=!1,s=0,o=0,l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(e){o++,!1===a&&void 0!==i.onStart&&i.onStart(e,s,o),a=!0},this.itemEnd=function(e){s++,void 0!==i.onProgress&&i.onProgress(e,s,o),s===o&&(a=!1,void 0!==i.onLoad)&&i.onLoad()},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return n?n(e):e},this.setURLModifier=function(e){return n=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){e=l.indexOf(e);return-1!==e&&l.splice(e,2),this},this.getHandler=function(r){for(let e=0,t=l.length;e<t;e+=2){var i=l[e],n=l[e+1];if(i.global&&(i.lastIndex=0),i.test(r))return n}return null}}}let Jo=new Zo;class d{constructor(e){this.manager=void 0!==e?e:Jo,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(r,i){let n=this;return new Promise(function(e,t){n.load(r,e,i,t)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}let Qo={};class Ko extends d{constructor(e){super(e)}load(s,o,e,r){void 0===s&&(s=""),void 0!==this.path&&(s=this.path+s),s=this.manager.resolveURL(s);let l=this,t=Yo.get(s);if(void 0!==t)return l.manager.itemStart(s),setTimeout(function(){o&&o(t),l.manager.itemEnd(s)},0),t;if(void 0===Qo[s]){var i=s.match(/^data:(.*?)(;base64)?,(.*)$/);let t;if(i){let n=i[1],e=!!i[2],a=i[3];a=decodeURIComponent(a),e&&(a=atob(a));try{let r,i=(this.responseType||"").toLowerCase();switch(i){case"arraybuffer":case"blob":let t=new Uint8Array(a.length);for(let e=0;e<a.length;e++)t[e]=a.charCodeAt(e);r="blob"===i?new Blob([t.buffer],{type:n}):t.buffer;break;case"document":let e=new DOMParser;r=e.parseFromString(a,n);break;case"json":r=JSON.parse(a);break;default:r=a}setTimeout(function(){o&&o(r),l.manager.itemEnd(s)},0)}catch(o){setTimeout(function(){r&&r(o),l.manager.itemError(s),l.manager.itemEnd(s)},0)}}else{Qo[s]=[],Qo[s].push({onLoad:o,onProgress:e,onError:r}),(t=new XMLHttpRequest).open("GET",s,!0),t.addEventListener("load",function(r){let i=this.response,n=Qo[s];if(delete Qo[s],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Yo.add(s,i);for(let t=0,e=n.length;t<e;t++){let e=n[t];e.onLoad&&e.onLoad(i)}}else{for(let t=0,e=n.length;t<e;t++){let e=n[t];e.onError&&e.onError(r)}l.manager.itemError(s)}l.manager.itemEnd(s)},!1),t.addEventListener("progress",function(r){var i=Qo[s];for(let e=0,t=i.length;e<t;e++){var n=i[e];n.onProgress&&n.onProgress(r)}},!1),t.addEventListener("error",function(r){var i=Qo[s];delete Qo[s];for(let e=0,t=i.length;e<t;e++){var n=i[e];n.onError&&n.onError(r)}l.manager.itemError(s),l.manager.itemEnd(s)},!1),t.addEventListener("abort",function(r){var i=Qo[s];delete Qo[s];for(let e=0,t=i.length;e<t;e++){var n=i[e];n.onError&&n.onError(r)}l.manager.itemError(s),l.manager.itemEnd(s)},!1),void 0!==this.responseType&&(t.responseType=this.responseType),void 0!==this.withCredentials&&(t.withCredentials=this.withCredentials),t.overrideMimeType&&t.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(let e in this.requestHeader)t.setRequestHeader(e,this.requestHeader[e]);t.send(null)}return l.manager.itemStart(s),t}Qo[s].push({onLoad:o,onProgress:e,onError:r})}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $o extends d{constructor(e){super(e)}load(t,e,r,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);let n=this,a=Yo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout(function(){e&&e(a),n.manager.itemEnd(t)},0),a;let s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function o(){s.removeEventListener("load",o,!1),s.removeEventListener("error",l,!1),Yo.add(t,this),e&&e(this),n.manager.itemEnd(t)}function l(e){s.removeEventListener("load",o,!1),s.removeEventListener("error",l,!1),i&&i(e),n.manager.itemError(t),n.manager.itemEnd(t)}return s.addEventListener("load",o,!1),s.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),n.manager.itemStart(t),s.src=t,s}}class el extends d{constructor(e){super(e)}load(r,i,e,n){let a=new ci,s=new $o(this.manager),o=(s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),0);for(let e=0;e<r.length;++e)!function(t){s.load(r[t],function(e){a.images[t]=e,6===++o&&(a.needsUpdate=!0,i)&&i(a)},void 0,n)}(e);return a}}class tl extends d{constructor(e){super(e)}load(e,t,r,i){let n=this,a=new di,s=new Ko(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(n.withCredentials),s.load(e,function(e){e=n.parse(e);e&&(void 0!==e.image?a.image=e.image:void 0!==e.data&&(a.image.width=e.width,a.image.height=e.height,a.image.data=e.data),a.wrapS=void 0!==e.wrapS?e.wrapS:U,a.wrapT=void 0!==e.wrapT?e.wrapT:U,a.magFilter=void 0!==e.magFilter?e.magFilter:H,a.minFilter=void 0!==e.minFilter?e.minFilter:H,a.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.encoding&&(a.encoding=e.encoding),void 0!==e.flipY&&(a.flipY=e.flipY),void 0!==e.format&&(a.format=e.format),void 0!==e.type&&(a.type=e.type),void 0!==e.mipmaps&&(a.mipmaps=e.mipmaps,a.minFilter=Y),1===e.mipmapCount&&(a.minFilter=H),void 0!==e.generateMipmaps&&(a.generateMipmaps=e.generateMipmaps),a.needsUpdate=!0,t)&&t(a,e)},r,i),a}}class rl extends d{constructor(e){super(e)}load(t,r,e,i){let n=new c,a=new $o(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(e){n.image=e;e=0<t.search(/\.jpe?g($|\?)/i)||0===t.search(/^data\:image\/jpeg/);n.format=e?K:Ie,n.needsUpdate=!0,void 0!==r&&r(n)},e,i),n}}class il{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){e=this.getUtoTmapping(e);return this.getPoint(e,t)}getPoints(t=5){var r=[];for(let e=0;e<=t;e++)r.push(this.getPoint(e/t));return r}getSpacedPoints(t=5){var r=[];for(let e=0;e<=t;e++)r.push(this.getPointAt(e/t));return r}getLength(){var e=this.getLengths();return e[e.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var r=[];let i,n=this.getPoint(0),a=0;r.push(0);for(let e=1;e<=t;e++)i=this.getPoint(e/t),a+=i.distanceTo(n),r.push(a),n=i;return this.cacheArcLengths=r}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){var r=this.getLengths();let i=0;var n=r.length,a=t||e*r[n-1];let s,o=0,l=n-1;for(;o<=l;)if((s=r[i=Math.floor(o+(l-o)/2)]-a)<0)o=i+1;else{if(!(0<s)){l=i;break}l=i-1}return r[i=l]===a?i/(n-1):(t=r[i],(i+(a-t)/(r[i+1]-t))/(n-1))}getTangent(e,t){let r=e-1e-4,i=e+1e-4;r<0&&(r=0),1<i&&(i=1);var e=this.getPoint(r),n=this.getPoint(i),t=t||new(e.isVector2?Te:Ae);return t.copy(n).sub(e).normalize(),t}getTangentAt(e,t){e=this.getUtoTmapping(e);return this.getTangent(e,t)}computeFrenetFrames(r,e){let t=new Ae,i=[],n=[],a=[],s=new Ae,o=new Le;for(let t=0;t<=r;t++){let e=t/r;i[t]=this.getTangentAt(e,new Ae),i[t].normalize()}n[0]=new Ae,a[0]=new Ae;let l=Number.MAX_VALUE;var h=Math.abs(i[0].x),c=Math.abs(i[0].y),u=Math.abs(i[0].z);h<=l&&(l=h,t.set(1,0,0)),c<=l&&(l=c,t.set(0,1,0)),u<=l&&t.set(0,0,1),s.crossVectors(i[0],t).normalize(),n[0].crossVectors(i[0],s),a[0].crossVectors(i[0],n[0]);for(let t=1;t<=r;t++){if(n[t]=n[t-1].clone(),a[t]=a[t-1].clone(),s.crossVectors(i[t-1],i[t]),s.length()>Number.EPSILON){s.normalize();let e=Math.acos(m(i[t-1].dot(i[t]),-1,1));n[t].applyMatrix4(o.makeRotationAxis(s,e))}a[t].crossVectors(i[t],n[t])}if(!0===e){let t=Math.acos(m(n[0].dot(n[r]),-1,1));t/=r,0<i[0].dot(s.crossVectors(n[0],n[r]))&&(t=-t);for(let e=1;e<=r;e++)n[e].applyMatrix4(o.makeRotationAxis(i[e],t*e)),a[e].crossVectors(i[e],n[e])}return{tangents:i,normals:n,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class nl extends il{constructor(e=0,t=0,r=1,i=1,n=0,a=2*Math.PI,s=!1,o=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=n,this.aEndAngle=a,this.aClockwise=s,this.aRotation=o}getPoint(e,t){let r=t||new Te,i=2*Math.PI,n=this.aEndAngle-this.aStartAngle;for(t=Math.abs(n)<Number.EPSILON;n<0;)n+=i;for(;n>i;)n-=i;n<Number.EPSILON&&(n=t?0:i),!0!==this.aClockwise||t||(n===i?n=-i:n-=i);t=this.aStartAngle+e*n;let a=this.aX+this.xRadius*Math.cos(t),s=this.aY+this.yRadius*Math.sin(t);if(0!==this.aRotation){let e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),r=a-this.aX,i=s-this.aY;a=r*e-i*t+this.aX,s=r*t+i*e+this.aY}return r.set(a,s)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){var e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}nl.prototype.isEllipseCurve=!0;class al extends nl{constructor(e,t,r,i,n,a){super(e,t,r,r,i,n,a),this.type="ArcCurve"}}function sl(){let n=0,a=0,s=0,o=0;function l(e,t,r,i){n=e,a=r,s=-3*e+3*t-2*r-i,o=2*e-2*t+r+i}return{initCatmullRom:function(e,t,r,i,n){l(t,r,n*(r-e),n*(i-t))},initNonuniformCatmullRom:function(e,t,r,i,n,a,s){e=(t-e)/n-(r-e)/(n+a)+(r-t)/a,n=(r-t)/a-(i-t)/(a+s)+(i-r)/s;l(t,r,e*=a,n*=a)},calc:function(e){var t=e*e;return n+a*e+s*t+o*(t*e)}}}al.prototype.isArcCurve=!0;let ol=new Ae,ll=new sl,hl=new sl,cl=new sl;class ul extends il{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Ae){var r=this.points,i=r.length,e=(i-(this.closed?0:1))*e;let n,a,s=Math.floor(e),o=e-s;this.closed?s+=0<s?0:(Math.floor(Math.abs(s)/i)+1)*i:0===o&&s===i-1&&(s=i-2,o=1),n=this.closed||0<s?r[(s-1)%i]:(ol.subVectors(r[0],r[1]).add(r[0]),ol);var l=r[s%i],h=r[(s+1)%i];if(a=this.closed||s+2<i?r[(s+2)%i]:(ol.subVectors(r[i-1],r[i-2]).add(r[i-1]),ol),"centripetal"===this.curveType||"chordal"===this.curveType){let e="chordal"===this.curveType?.5:.25,t=Math.pow(n.distanceToSquared(l),e),r=Math.pow(l.distanceToSquared(h),e),i=Math.pow(h.distanceToSquared(a),e);r<1e-4&&(r=1),t<1e-4&&(t=r),i<1e-4&&(i=r),ll.initNonuniformCatmullRom(n.x,l.x,h.x,a.x,t,r,i),hl.initNonuniformCatmullRom(n.y,l.y,h.y,a.y,t,r,i),cl.initNonuniformCatmullRom(n.z,l.z,h.z,a.z,t,r,i)}else"catmullrom"===this.curveType&&(ll.initCatmullRom(n.x,l.x,h.x,a.x,this.tension),hl.initCatmullRom(n.y,l.y,h.y,a.y,this.tension),cl.initCatmullRom(n.z,l.z,h.z,a.z,this.tension));return t.set(ll.calc(o),hl.calc(o),cl.calc(o)),t}copy(r){super.copy(r),this.points=[];for(let e=0,t=r.points.length;e<t;e++){var i=r.points[e];this.points.push(i.clone())}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this}toJSON(){var r=super.toJSON();r.points=[];for(let e=0,t=this.points.length;e<t;e++){var i=this.points[e];r.points.push(i.toArray())}return r.closed=this.closed,r.curveType=this.curveType,r.tension=this.tension,r}fromJSON(r){super.fromJSON(r),this.points=[];for(let e=0,t=r.points.length;e<t;e++){var i=r.points[e];this.points.push((new Ae).fromArray(i))}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this}}function dl(e,t,r,i,n){var t=.5*(i-t),n=.5*(n-r),a=e*e;return e*a*(2*r-2*i+t+n)+(-3*r+3*i-2*t-n)*a+t*e+r}function pl(e,t,r,i){return(n=1-e)*n*t+2*(1-e)*e*r+e*e*i;var n}function ml(e,t,r,i,n){return(a=1-e)*a*a*t+3*(a=1-e)*a*e*r+3*(1-e)*e*e*i+e*e*e*n;var a}class fl extends il{constructor(e=new Te,t=new Te,r=new Te,i=new Te){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Te){var r=this.v0,i=this.v1,n=this.v2,a=this.v3;return t.set(ml(e,r.x,i.x,n.x,a.x),ml(e,r.y,i.y,n.y,a.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}fl.prototype.isCubicBezierCurve=ul.prototype.isCatmullRomCurve3=!0;class gl extends il{constructor(e=new Ae,t=new Ae,r=new Ae,i=new Ae){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Ae){var r=this.v0,i=this.v1,n=this.v2,a=this.v3;return t.set(ml(e,r.x,i.x,n.x,a.x),ml(e,r.y,i.y,n.y,a.y),ml(e,r.z,i.z,n.z,a.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class vl extends il{constructor(e=new Te,t=new Te){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Te){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){t=t||new Te;return t.copy(this.v2).sub(this.v1).normalize(),t}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}vl.prototype.isLineCurve=gl.prototype.isCubicBezierCurve3=!0;class yl extends il{constructor(e=new Ae,t=new Ae){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new Ae){return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class xl extends il{constructor(e=new Te,t=new Te,r=new Te){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Te){var r=this.v0,i=this.v1,n=this.v2;return t.set(pl(e,r.x,i.x,n.x),pl(e,r.y,i.y,n.y)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}xl.prototype.isQuadraticBezierCurve=!0;class _l extends il{constructor(e=new Ae,t=new Ae,r=new Ae){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Ae){var r=this.v0,i=this.v1,n=this.v2;return t.set(pl(e,r.x,i.x,n.x),pl(e,r.y,i.y,n.y),pl(e,r.z,i.z,n.z)),t}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){var e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wl extends il{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new Te){var r=this.points,e=(r.length-1)*e,i=Math.floor(e),e=e-i,n=r[0===i?i:i-1],a=r[i],s=r[i>r.length-2?r.length-1:i+1],r=r[i>r.length-3?r.length-1:i+2];return t.set(dl(e,n.x,a.x,s.x,r.x),dl(e,n.y,a.y,s.y,r.y)),t}copy(r){super.copy(r),this.points=[];for(let e=0,t=r.points.length;e<t;e++){var i=r.points[e];this.points.push(i.clone())}return this}toJSON(){var r=super.toJSON();r.points=[];for(let e=0,t=this.points.length;e<t;e++){var i=this.points[e];r.points.push(i.toArray())}return r}fromJSON(r){super.fromJSON(r),this.points=[];for(let e=0,t=r.points.length;e<t;e++){var i=r.points[e];this.points.push((new Te).fromArray(i))}return this}}wl.prototype.isSplineCurve=_l.prototype.isQuadraticBezierCurve3=!0;var bl=Object.freeze({__proto__:null,ArcCurve:al,CatmullRomCurve3:ul,CubicBezierCurve:fl,CubicBezierCurve3:gl,EllipseCurve:nl,LineCurve:vl,LineCurve3:yl,QuadraticBezierCurve:xl,QuadraticBezierCurve3:_l,SplineCurve:wl});class Ml extends il{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new vl(t,e))}getPoint(e){var n=e*this.getLength(),a=this.getCurveLengths();let s=0;for(;s<a.length;){if(a[s]>=n){let e=a[s]-n,t=this.curves[s],r=t.getLength(),i=0===r?0:1-e/r;return t.getPointAt(i)}s++}return null}getLength(){var e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;var r=[];let i=0;for(let e=0,t=this.curves.length;e<t;e++)i+=this.curves[e].getLength(),r.push(i);return this.cacheLengths=r}getSpacedPoints(t=40){var r=[];for(let e=0;e<=t;e++)r.push(this.getPoint(e/t));return this.autoClose&&r.push(r[0]),r}getPoints(r=12){var i=[];let n;for(let e=0,t=this.curves;e<t.length;e++){var a=t[e],s=a&&a.isEllipseCurve?2*r:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?r*a.points.length:r,o=a.getPoints(s);for(let e=0;e<o.length;e++){var l=o[e];n&&n.equals(l)||(i.push(l),n=l)}}return this.autoClose&&1<i.length&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i}copy(r){super.copy(r),this.curves=[];for(let e=0,t=r.curves.length;e<t;e++){var i=r.curves[e];this.curves.push(i.clone())}return this.autoClose=r.autoClose,this}toJSON(){var r=super.toJSON();r.autoClose=this.autoClose,r.curves=[];for(let e=0,t=this.curves.length;e<t;e++){var i=this.curves[e];r.curves.push(i.toJSON())}return r}fromJSON(r){super.fromJSON(r),this.autoClose=r.autoClose,this.curves=[];for(let e=0,t=r.curves.length;e<t;e++){var i=r.curves[e];this.curves.push((new bl[i.type]).fromJSON(i))}return this}}class Sl extends Ml{constructor(e){super(),this.type="Path",this.currentPoint=new Te,e&&this.setFromPoints(e)}setFromPoints(r){this.moveTo(r[0].x,r[0].y);for(let e=1,t=r.length;e<t;e++)this.lineTo(r[e].x,r[e].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){var r=new vl(this.currentPoint.clone(),new Te(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){e=new xl(this.currentPoint.clone(),new Te(e,t),new Te(r,i));return this.curves.push(e),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,n,a){e=new fl(this.currentPoint.clone(),new Te(e,t),new Te(r,i),new Te(n,a));return this.curves.push(e),this.currentPoint.set(n,a),this}splineThru(e){var t=[this.currentPoint.clone()].concat(e),t=new wl(t);return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,n,a){var s=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+s,t+o,r,i,n,a),this}absarc(e,t,r,i,n,a){return this.absellipse(e,t,r,r,i,n,a),this}ellipse(e,t,r,i,n,a,s,o){var l=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+l,t+h,r,i,n,a,s,o),this}absellipse(e,t,r,i,n,a,s,o){t=new nl(e,t,r,i,n,a,s,o);if(0<this.curves.length){let e=t.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(t);e=t.getPoint(1);return this.currentPoint.copy(e),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){var e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Tl extends Sl{constructor(e){super(e),this.uuid=Ge(),this.type="Shape",this.holes=[]}getPointsHoles(r){var i=[];for(let e=0,t=this.holes.length;e<t;e++)i[e]=this.holes[e].getPoints(r);return i}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(r){super.copy(r),this.holes=[];for(let e=0,t=r.holes.length;e<t;e++){var i=r.holes[e];this.holes.push(i.clone())}return this}toJSON(){var r=super.toJSON();r.uuid=this.uuid,r.holes=[];for(let e=0,t=this.holes.length;e<t;e++){var i=this.holes[e];r.holes.push(i.toJSON())}return r}fromJSON(r){super.fromJSON(r),this.uuid=r.uuid,this.holes=[];for(let e=0,t=r.holes.length;e<t;e++){var i=r.holes[e];this.holes.push((new Sl).fromJSON(i))}return this}}class El extends u{constructor(e,t=1){super(),this.type="Light",this.color=new Re(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){e=super.toJSON(e);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}El.prototype.isLight=!0;class Al extends El{constructor(e,t,r){super(e,r),this.type="HemisphereLight",this.position.copy(u.DefaultUp),this.updateMatrix(),this.groundColor=new Re(t)}copy(e){return El.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Al.prototype.isHemisphereLight=!0;let Ll=new Le,Rl=new Ae,Cl=new Ae;class Pl{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Te(512,512),this.map=null,this.mapPass=null,this.matrix=new Le,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fi,this._frameExtents=new Te(1,1),this._viewportCount=1,this._viewports=[new Ee(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){var t=this.camera,r=this.matrix;Rl.setFromMatrixPosition(e.matrixWorld),t.position.copy(Rl),Cl.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Cl),t.updateMatrixWorld(),Ll.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ll),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Dl extends Pl{constructor(){super(new L(50,1,.5,500)),this.focus=1}updateMatrices(e){var t=this.camera,r=2*He*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,n=e.distance||t.far;r===t.fov&&i===t.aspect&&n===t.far||(t.fov=r,t.aspect=i,t.far=n,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}Dl.prototype.isSpotLightShadow=!0;class Il extends El{constructor(e,t,r=0,i=Math.PI/3,n=0,a=1){super(e,t),this.type="SpotLight",this.position.copy(u.DefaultUp),this.updateMatrix(),this.target=new u,this.distance=r,this.angle=i,this.penumbra=n,this.decay=a,this.shadow=new Dl}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Il.prototype.isSpotLight=!0;let Nl=new Le,Bl=new Ae,zl=new Ae;class Fl extends Pl{constructor(){super(new L(90,1,.5,500)),this._frameExtents=new Te(4,2),this._viewportCount=6,this._viewports=[new Ee(2,1,1,1),new Ee(0,1,1,1),new Ee(3,1,1,1),new Ee(1,1,1,1),new Ee(3,0,1,1),new Ee(1,0,1,1)],this._cubeDirections=[new Ae(1,0,0),new Ae(-1,0,0),new Ae(0,0,1),new Ae(0,0,-1),new Ae(0,1,0),new Ae(0,-1,0)],this._cubeUps=[new Ae(0,1,0),new Ae(0,1,0),new Ae(0,1,0),new Ae(0,1,0),new Ae(0,0,1),new Ae(0,0,-1)]}updateMatrices(e,t=0){var r=this.camera,i=this.matrix,n=e.distance||r.far;n!==r.far&&(r.far=n,r.updateProjectionMatrix()),Bl.setFromMatrixPosition(e.matrixWorld),r.position.copy(Bl),zl.copy(r.position),zl.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(zl),r.updateMatrixWorld(),i.makeTranslation(-Bl.x,-Bl.y,-Bl.z),Nl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Nl)}}Fl.prototype.isPointLightShadow=!0;class Ol extends El{constructor(e,t,r=0,i=1){super(e,t),this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Fl}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}Ol.prototype.isPointLight=!0;class Hl extends li{constructor(e=-1,t=1,r=1,i=-1,n=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=n,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2,n=r-e,a=r+e,s=i+t,o=i-t;if(null!==this.view&&this.view.enabled){let e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;n+=e*this.view.offsetX,a=n+e*this.view.width,s-=t*this.view.offsetY,o=s-t*this.view.height}this.projectionMatrix.makeOrthographic(n,a,s,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){e=super.toJSON(e);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}Hl.prototype.isOrthographicCamera=!0;class Gl extends Pl{constructor(){super(new Hl(-5,5,5,-5,.5,500))}}Gl.prototype.isDirectionalLightShadow=!0;class Ul extends El{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(u.DefaultUp),this.updateMatrix(),this.target=new u,this.shadow=new Gl}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}Ul.prototype.isDirectionalLight=!0;class kl extends El{constructor(e,t){super(e,t),this.type="AmbientLight"}}kl.prototype.isAmbientLight=!0;class Vl extends El{constructor(e,t,r=10,i=10){super(e,t),this.type="RectAreaLight",this.width=r,this.height=i}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){e=super.toJSON(e);return e.object.width=this.width,e.object.height=this.height,e}}Vl.prototype.isRectAreaLight=!0;class Wl{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ae)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){var r=e.x,i=e.y,e=e.z,n=this.coefficients;return t.copy(n[0]).multiplyScalar(.282095),t.addScaledVector(n[1],.488603*i),t.addScaledVector(n[2],.488603*e),t.addScaledVector(n[3],.488603*r),t.addScaledVector(n[4],r*i*1.092548),t.addScaledVector(n[5],i*e*1.092548),t.addScaledVector(n[6],.315392*(3*e*e-1)),t.addScaledVector(n[7],r*e*1.092548),t.addScaledVector(n[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){var r=e.x,i=e.y,e=e.z,n=this.coefficients;return t.copy(n[0]).multiplyScalar(.886227),t.addScaledVector(n[1],1.023328*i),t.addScaledVector(n[2],1.023328*e),t.addScaledVector(n[3],1.023328*r),t.addScaledVector(n[4],.858086*r*i),t.addScaledVector(n[5],.858086*i*e),t.addScaledVector(n[6],.743125*e*e-.247708),t.addScaledVector(n[7],.858086*r*e),t.addScaledVector(n[8],.429043*(r*r-i*i)),t}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,r){for(let e=0;e<9;e++)this.coefficients[e].addScaledVector(t.coefficients[e],r);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,r){for(let e=0;e<9;e++)this.coefficients[e].lerp(t.coefficients[e],r);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,r=0){var i=this.coefficients;for(let e=0;e<9;e++)i[e].fromArray(t,r+3*e);return this}toArray(t=[],r=0){var i=this.coefficients;for(let e=0;e<9;e++)i[e].toArray(t,r+3*e);return t}static getBasisAt(e,t){var r=e.x,i=e.y,e=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*e,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*e,t[6]=.315392*(3*e*e-1),t[7]=1.092548*r*e,t[8]=.546274*(r*r-i*i)}}Wl.prototype.isSphericalHarmonics3=!0;class jl extends El{constructor(e=new Wl,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){e=super.toJSON(e);return e.object.sh=this.sh.toArray(),e}}jl.prototype.isLightProbe=!0;class ql extends d{constructor(e){super(e),this.textures={}}load(t,r,e,i){let n=this,a=new Ko(n.manager);a.setPath(n.path),a.setRequestHeader(n.requestHeader),a.setWithCredentials(n.withCredentials),a.load(t,function(e){try{r(n.parse(JSON.parse(e)))}catch(e){i?i(e):console.error(e),n.manager.itemError(t)}},e,i)}parse(t){let r=this.textures;function i(e){return void 0===r[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),r[e]}var n=new No[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&void 0!==n.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.sheen&&(n.sheen=(new Re).setHex(t.sheen)),void 0!==t.emissive&&void 0!==n.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==n.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearcoat&&(n.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(n.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.combine&&(n.combine=t.combine),void 0!==t.side&&(n.side=t.side),void 0!==t.shadowSide&&(n.shadowSide=t.shadowSide),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(n.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(n.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(n.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(n.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(n.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(n.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(n.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(n.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),1!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(n.morphNormals=t.morphNormals),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.alphaToCoverage&&(n.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(n.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.vertexTangents&&(n.vertexTangents=t.vertexTangents),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.toneMapped&&(n.toneMapped=t.toneMapped),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.vertexColors&&(n.vertexColors="number"==typeof t.vertexColors?0<t.vertexColors:t.vertexColors),void 0!==t.uniforms)for(let e in t.uniforms){var a=t.uniforms[e];switch(n.uniforms[e]={},a.type){case"t":n.uniforms[e].value=i(a.value);break;case"c":n.uniforms[e].value=(new Re).setHex(a.value);break;case"v2":n.uniforms[e].value=(new Te).fromArray(a.value);break;case"v3":n.uniforms[e].value=(new Ae).fromArray(a.value);break;case"v4":n.uniforms[e].value=(new Ee).fromArray(a.value);break;case"m3":n.uniforms[e].value=(new v).fromArray(a.value);break;case"m4":n.uniforms[e].value=(new Le).fromArray(a.value);break;default:n.uniforms[e].value=a.value}}if(void 0!==t.defines&&(n.defines=t.defines),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(let e in t.extensions)n.extensions[e]=t.extensions[e];if(void 0!==t.shading&&(n.flatShading=1===t.shading),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=i(t.map)),void 0!==t.matcap&&(n.matcap=i(t.matcap)),void 0!==t.alphaMap&&(n.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(n.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(n.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),n.normalScale=(new Te).fromArray(e)}return void 0!==t.displacementMap&&(n.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=i(t.specularMap)),void 0!==t.envMap&&(n.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(n.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(n.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(n.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(n.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(n.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(n.clearcoatNormalScale=(new Te).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(n.transmission=t.transmission),void 0!==t.transmissionMap&&(n.transmissionMap=i(t.transmissionMap)),n}setTextures(e){return this.textures=e,this}}class Xl{static decodeText(r){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(r);let i="";for(let e=0,t=r.length;e<t;e++)i+=String.fromCharCode(r[e]);try{return decodeURIComponent(escape(i))}catch(r){return i}}static extractUrlBase(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}}class Yl extends E{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){var e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}Yl.prototype.isInstancedBufferGeometry=!0;class Zl extends T{constructor(e,t,r,i){"number"==typeof r&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.meshPerAttribute=i||1}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){var e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Zl.prototype.isInstancedBufferAttribute=!0;class Jl extends d{constructor(e){super(e)}load(t,r,e,i){let n=this,a=new Ko(n.manager);a.setPath(n.path),a.setRequestHeader(n.requestHeader),a.setWithCredentials(n.withCredentials),a.load(t,function(e){try{r(n.parse(JSON.parse(e)))}catch(e){i?i(e):console.error(e),n.manager.itemError(t)}},e,i)}parse(a){let n={},s={};function o(e,t){var r,i;return void 0!==n[t]?n[t]:(r=e.interleavedBuffers[t],e=e,i=r.buffer,i=void 0!==s[i]?s[i]:(e=e.arrayBuffers[i],e=new Uint32Array(e).buffer,s[i]=e),e=Ir(r.type,i),(i=new Ra(e,r.stride)).uuid=r.uuid,n[t]=i)}let l=new(a.isInstancedBufferGeometry?Yl:E),t=a.data.index;if(void 0!==t){let e=Ir(t.type,t.array);l.setIndex(new T(e,1))}var i=a.data.attributes;for(let e in i){let t=i[e],r;if(t.isInterleavedBufferAttribute){let e=o(a.data,t.data);r=new Ca(e,t.itemSize,t.offset,t.normalized)}else{let e=Ir(t.type,t.array);r=new(t.isInstancedBufferAttribute?Zl:T)(e,t.itemSize,t.normalized)}void 0!==t.name&&(r.name=t.name),void 0!==t.usage&&r.setUsage(t.usage),void 0!==t.updateRange&&(r.updateRange.offset=t.updateRange.offset,r.updateRange.count=t.updateRange.count),l.setAttribute(e,r)}var r=a.data.morphAttributes;if(r)for(let e in r){let i=r[e],n=[];for(let e=0,t=i.length;e<t;e++){let t=i[e],r;if(t.isInterleavedBufferAttribute){let e=o(a.data,t.data);r=new Ca(e,t.itemSize,t.offset,t.normalized)}else{let e=Ir(t.type,t.array);r=new T(e,t.itemSize,t.normalized)}void 0!==t.name&&(r.name=t.name),n.push(r)}l.morphAttributes[e]=n}a.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);var h=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==h)for(let t=0,e=h.length;t!==e;++t){let e=h[t];l.addGroup(e.start,e.count,e.materialIndex)}var c=a.data.boundingSphere;if(void 0!==c){let e=new Ae;void 0!==c.center&&e.fromArray(c.center),l.boundingSphere=new _t(e,c.radius)}return a.name&&(l.name=a.name),a.userData&&(l.userData=a.userData),l}}let Ql={UVMapping:R,CubeReflectionMapping:C,CubeRefractionMapping:P,EquirectangularReflectionMapping:D,EquirectangularRefractionMapping:I,CubeUVReflectionMapping:N,CubeUVRefractionMapping:B},Kl={RepeatWrapping:G,ClampToEdgeWrapping:U,MirroredRepeatWrapping:k},$l={NearestFilter:O,NearestMipmapNearestFilter:j,NearestMipmapLinearFilter:q,LinearFilter:H,LinearMipmapNearestFilter:X,LinearMipmapLinearFilter:Y};class eh extends d{constructor(e){super(e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(t,r,e,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);let n=this,a=Yo.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout(function(){r&&r(a),n.manager.itemEnd(t)},0),a;var s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader,fetch(t,s).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(n.options,{colorSpaceConversion:"none"}))}).then(function(e){Yo.add(t,e),r&&r(e),n.manager.itemEnd(t)}).catch(function(e){i&&i(e),n.manager.itemError(t),n.manager.itemEnd(t)}),n.manager.itemStart(t)}}class th{constructor(){this.type="ShapePath",this.color=new Re,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Sl,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,n,a){return this.currentPath.bezierCurveTo(e,t,r,i,n,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(a,e){function t(r){var i=[];for(let e=0,t=r.length;e<t;e++){var n=r[e],a=new Tl;a.curves=n.curves,i.push(a)}return i}let s=no.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===e)return t(l);let h,c,u;var d=[];if(1===l.length)c=l[0],(u=new Tl).curves=c.curves,d.push(u);else{var p=!s(l[0].getPoints()),p=a?!p:p,m=[],f=[];let r,i,o=[],n=0;f[n]=void 0,o[n]=[];for(let e=0,t=l.length;e<t;e++)r=(c=l[e]).getPoints(),h=s(r),(h=a?!h:h)?(!p&&f[n]&&n++,f[n]={s:new Tl,p:r},f[n].s.curves=c.curves,p&&n++,o[n]=[]):o[n].push({h:c,p:r[0]});if(!f[0])return t(l);if(1<f.length){let a=!1,s=[];for(let e=0,t=f.length;e<t;e++)m[e]=[];for(let n=0,e=f.length;n<e;n++){let e=o[n];for(let i=0;i<e.length;i++){let t=e[i],r=!0;for(let e=0;e<f.length;e++)!function(s,o){var e=o.length;let l=!1;for(let n=e-1,a=0;a<e;n=a++){let t=o[n],e=o[a],r=e.x-t.x,i=e.y-t.y;if(Math.abs(i)>Number.EPSILON){if(i<0&&(t=o[a],r=-r,e=o[n],i=-i),!(s.y<t.y||s.y>e.y))if(s.y===t.y){if(s.x===t.x)return 1}else{let e=i*(s.x-t.x)-r*(s.y-t.y);if(0==e)return 1;e<0||(l=!l)}}else if(s.y===t.y&&(e.x<=s.x&&s.x<=t.x||t.x<=s.x&&s.x<=e.x))return 1}return l}(t.p,f[e].p)||(n!==e&&s.push({froms:n,tos:e,hole:i}),r?(r=!1,m[e].push(t)):a=!0);r&&m[n].push(t)}}0<s.length&&(a||(o=m))}for(let r=0,e=f.length;r<e;r++){u=f[r].s,d.push(u);for(let e=0,t=(i=o[r]).length;e<t;e++)u.holes.push(i[e].h)}}return d}}class rh{constructor(e){this.type="Font",this.data=e}generateShapes(e,t=100){var r=[],i=function(e,t,r){var i=Array.from(e),n=t/r.resolution,a=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*n,s=[];let o=0,l=0;for(let e=0;e<i.length;e++){let t=i[e];if("\n"===t)o=0,l-=a;else{let e=function(e,u,d,p,t){var m=t.glyphs[e]||t.glyphs["?"];if(m){var f=new th;let i,n,a,s,o,l,h,c;if(m.o){let r=m._cachedOutline||(m._cachedOutline=m.o.split(" "));for(let e=0,t=r.length;e<t;)switch(r[e++]){case"m":i=r[e++]*u+d,n=r[e++]*u+p,f.moveTo(i,n);break;case"l":i=r[e++]*u+d,n=r[e++]*u+p,f.lineTo(i,n);break;case"q":a=r[e++]*u+d,s=r[e++]*u+p,o=r[e++]*u+d,l=r[e++]*u+p,f.quadraticCurveTo(o,l,a,s);break;case"b":a=r[e++]*u+d,s=r[e++]*u+p,o=r[e++]*u+d,l=r[e++]*u+p,h=r[e++]*u+d,c=r[e++]*u+p,f.bezierCurveTo(o,l,h,c,a,s)}}return{offsetX:m.ha*u,path:f}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+t.familyName+".")}(t,n,o,l,r);o+=e.offsetX,s.push(e.path)}}return s}(e,t,this.data);for(let e=0,t=i.length;e<t;e++)Array.prototype.push.apply(r,i[e].toShapes());return r}}rh.prototype.isFont=eh.prototype.isImageBitmapLoader=!0;let ih,nh={getContext:function(){return ih=void 0===ih?new(window.AudioContext||window.webkitAudioContext):ih},setContext:function(e){ih=e}};class ah extends d{constructor(e){super(e)}load(r,i,e,n){let a=this,t=new Ko(this.manager);t.setResponseType("arraybuffer"),t.setPath(this.path),t.setRequestHeader(this.requestHeader),t.setWithCredentials(this.withCredentials),t.load(r,function(t){try{let e=t.slice(0);nh.getContext().decodeAudioData(e,function(e){i(e)})}catch(e){n?n(e):console.error(e),a.manager.itemError(r)}},e,n)}}class sh extends jl{constructor(e,t,r=1){super(void 0,r);var r=(new Re).set(e),e=(new Re).set(t),t=new Ae(r.r,r.g,r.b),r=new Ae(e.r,e.g,e.b),e=Math.sqrt(Math.PI),i=e*Math.sqrt(.75);this.sh.coefficients[0].copy(t).add(r).multiplyScalar(e),this.sh.coefficients[1].copy(t).sub(r).multiplyScalar(i)}}class oh extends jl{constructor(e,t=1){super(void 0,t);t=(new Re).set(e);this.sh.coefficients[0].set(t.r,t.g,t.b).multiplyScalar(2*Math.sqrt(Math.PI))}}oh.prototype.isAmbientLightProbe=sh.prototype.isHemisphereLightProbe=!0;let lh=new Le,hh=new Le;class ch{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=uh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;var t;return this.autoStart&&!this.running?(this.start(),0):(this.running&&(t=uh(),e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e),e)}}function uh(){return("undefined"==typeof performance?Date:performance).now()}let dh=new Ae,ph=new p,mh=new Ae,fh=new Ae;class gh extends u{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl)return this._startedAt=this.context.currentTime+e,(e=this.context.createBufferSource()).buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect();console.warn("THREE.Audio: this Audio has no playback control.")}}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e=e||[],!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}let vh=new Ae,yh=new p,xh=new Ae,_h=new Ae;class wh{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;var r=this.getFrequencyData();for(let e=0;e<r.length;e++)t+=r[e];return t/r.length}}class bh{constructor(e,t,r){let i,n,a;switch(this.binding=e,this.valueSize=r,t){case"quaternion":i=this._slerp,n=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,n=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,n=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=n,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){var r=this.buffer,i=this.valueSize,n=e*i+i;let a=this.cumulativeWeight;if(0===a){for(let e=0;e!==i;++e)r[n+e]=r[e];a=t}else{let e=t/(a+=t);this._mixBufferRegion(r,n,0,e,i)}this.cumulativeWeight=a}accumulateAdditive(e){var t=this.buffer,r=this.valueSize,i=r*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){var r=this.valueSize,i=this.buffer,n=e*r+r,t=this.cumulativeWeight,e=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,t<1){let e=r*this._origIndex;this._mixBufferRegion(i,n,e,1-t,r)}0<e&&this._mixBufferRegionAdditive(i,n,this._addIndex*r,1,r);for(let e=r,t=r+r;e!==t;++e)if(i[e]!==i[e+r]){a.setValue(i,n);break}}saveOriginalState(){var e=this.binding,r=this.buffer,i=this.valueSize,n=i*this._origIndex;e.getValue(r,n);for(let e=i,t=n;e!==t;++e)r[e]=r[n+e%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){var t=this._addIndex*this.valueSize,r=t+this.valueSize;for(let e=t;e<r;e++)this.buffer[e]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){var t=this._origIndex*this.valueSize,r=this._addIndex*this.valueSize;for(let e=0;e<this.valueSize;e++)this.buffer[r+e]=this.buffer[t+e]}_select(t,r,i,e,n){if(.5<=e)for(let e=0;e!==n;++e)t[r+e]=t[i+e]}_slerp(e,t,r,i){p.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,n){n=this._workIndex*n;p.multiplyQuaternionsFlat(e,n,e,t,e,r),p.slerpFlat(e,t,e,t,e,n,i)}_lerp(r,i,n,a,e){var s=1-a;for(let t=0;t!==e;++t){let e=i+t;r[e]=r[e]*s+r[n+t]*a}}_lerpAdditive(r,i,n,a,e){for(let t=0;t!==e;++t){let e=i+t;r[e]=r[e]+r[n+t]*a}}}let Mh=new RegExp("[\\[\\]\\.:\\/]","g"),Sh="[^\\[\\]\\.:\\/]",Th="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Eh=/((?:WC+[\/:])*)/.source.replace("WC",Sh),Ah=/(WCOD+)?/.source.replace("WCOD",Th),Lh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Sh),Rh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Sh),Ch=new RegExp("^"+Eh+Ah+Lh+Rh+"$"),Ph=["material","materials","bones"];class _{constructor(e,t,r){this.path=t,this.parsedPath=r||_.parseTrackName(t),this.node=_.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return new(e&&e.isAnimationObjectGroup?_.Composite:_)(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Mh,"")}static parseTrackName(e){var t=Ch.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var t={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=t.nodeName&&t.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){let e=t.nodeName.substring(r+1);-1!==Ph.indexOf(e)&&(t.nodeName=t.nodeName.substring(0,r),t.objectName=e)}if(null===t.propertyName||0===t.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return t}static findNode(t,n){if(!n||""===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){var e=t.skeleton.getBoneByName(n);if(void 0!==e)return e}if(t.children){let i=function(t){for(let e=0;e<t.length;e++){var r=t[e];if(r.name===n||r.uuid===n)return r;r=i(r.children);if(r)return r}return null},e=i(t.children);if(e)return e}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.node[this.propertyName]}_getValue_array(r,i){var n=this.resolvedProperty;for(let e=0,t=n.length;e!==t;++e)r[i++]=n[e]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(r,i){var n=this.resolvedProperty;for(let e=0,t=n.length;e!==t;++e)n[e]=r[i++]}_setValue_array_setNeedsUpdate(r,i){var n=this.resolvedProperty;for(let e=0,t=n.length;e!==t;++e)n[e]=r[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(r,i){var n=this.resolvedProperty;for(let e=0,t=n.length;e!==t;++e)n[e]=r[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let r=this.node,i=this.parsedPath,e=i.objectName,n=i.propertyName,a=i.propertyIndex;if(r||(r=_.findNode(this.rootNode,i.nodeName)||this.rootNode,this.node=r),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,r){if(e){let t=i.objectIndex;switch(e){case"materials":if(!r.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!r.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);r=r.material.materials;break;case"bones":if(!r.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);r=r.skeleton.bones;for(let e=0;e<r.length;e++)if(r[e].name===t){t=e;break}break;default:if(void 0===r[e])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);r=r[e]}if(void 0!==t){if(void 0===r[t])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,r);r=r[t]}}var s=r[n];if(void 0===s){let e=i.nodeName;void console.error("THREE.PropertyBinding: Trying to update property for track: "+e+"."+n+" but it wasn't found.",r)}else{let e=this.Versioning.None,t=(void 0!==(this.targetObject=r).needsUpdate?e=this.Versioning.NeedsUpdate:void 0!==r.matrixWorldNeedsUpdate&&(e=this.Versioning.MatrixWorldNeedsUpdate),this.BindingType.Direct);if(void 0!==a){if("morphTargetInfluences"===n){if(!r.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!r.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!r.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==r.morphTargetDictionary[a]&&(a=r.morphTargetDictionary[a])}t=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else void 0!==s.fromArray&&void 0!==s.toArray?(t=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(t=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[t],this.setValue=this.SetterByBindingTypeAndVersioning[t][e]}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}_.Composite=class{constructor(e,t,r){r=r||_.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();var r=this._targetGroup.nCachedObjects_,r=this._bindings[r];void 0!==r&&r.getValue(e,t)}setValue(r,i){var n=this._bindings;for(let e=this._targetGroup.nCachedObjects_,t=n.length;e!==t;++e)n[e].setValue(r,i)}bind(){var r=this._bindings;for(let e=this._targetGroup.nCachedObjects_,t=r.length;e!==t;++e)r[e].bind()}unbind(){var r=this._bindings;for(let e=this._targetGroup.nCachedObjects_,t=r.length;e!==t;++e)r[e].unbind()}},_.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},_.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},_.prototype.GetterByBindingType=[_.prototype._getValue_direct,_.prototype._getValue_array,_.prototype._getValue_arrayElement,_.prototype._getValue_toArray],_.prototype.SetterByBindingTypeAndVersioning=[[_.prototype._setValue_direct,_.prototype._setValue_direct_setNeedsUpdate,_.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_.prototype._setValue_array,_.prototype._setValue_array_setNeedsUpdate,_.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_.prototype._setValue_arrayElement,_.prototype._setValue_arrayElement_setNeedsUpdate,_.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_.prototype._setValue_fromArray,_.prototype._setValue_fromArray_setNeedsUpdate,_.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Dh{constructor(){this.uuid=Ge(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var r={};this._indicesByUUID=r;for(let e=0,t=arguments.length;e!==t;++e)r[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};let e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){let r=this._objects,i=this._indicesByUUID,s=this._paths,o=this._parsedPaths,l=this._bindings,h=l.length,c,n=r.length,u=this.nCachedObjects_;for(let e=0,t=arguments.length;e!==t;++e){var d=arguments[e],p=d.uuid;let a=i[p];if(void 0===a){a=n++,i[p]=a,r.push(d);for(let e=0,t=h;e!==t;++e)l[e].push(new _(d,s[e],o[e]))}else if(a<u){c=r[a];let n=--u,e=r[n];i[e.uuid]=a,r[a]=e,i[p]=n,r[n]=d;for(let i=0,e=h;i!==e;++i){let e=l[i],t=e[n],r=e[a];e[a]=t,void 0===r&&(r=new _(d,s[i],o[i])),e[n]=r}}else r[a]!==c&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){let r=this._objects,i=this._indicesByUUID,n=this._bindings,a=n.length,s=this.nCachedObjects_;for(let e=0,t=arguments.length;e!==t;++e){var o=arguments[e],l=o.uuid,h=i[l];if(void 0!==h&&h>=s){var c=s++,u=r[c];i[u.uuid]=h,r[h]=u,i[l]=c,r[c]=o;for(let i=0,e=a;i!==e;++i){let e=n[i],t=e[c],r=e[h];e[h]=t,e[c]=r}}}this.nCachedObjects_=s}uncache(){let i=this._objects,n=this._indicesByUUID,a=this._bindings,s=a.length,r=this.nCachedObjects_,o=i.length;for(let e=0,t=arguments.length;e!==t;++e){var l=arguments[e].uuid,h=n[l];if(void 0!==h)if(delete n[l],h<r){var c=--r,l=i[c],u=--o,d=i[u];n[l.uuid]=h,i[h]=l,n[d.uuid]=c,i[c]=d,i.pop();for(let i=0,e=s;i!==e;++i){let e=a[i],t=e[c],r=e[u];e[h]=t,e[c]=r,e.pop()}}else{let r=--o,e=i[r];0<r&&(n[e.uuid]=h),i[h]=e,i.pop();for(let t=0,e=s;t!==e;++t){let e=a[t];e[h]=e[r],e.pop()}}}this.nCachedObjects_=r}subscribe_(r,i){var e=this._bindingsIndicesByPath;let t=e[r];var n=this._bindings;if(void 0!==t)return n[t];var a=this._paths,s=this._parsedPaths,o=this._objects,l=o.length,h=this.nCachedObjects_,c=new Array(l);t=n.length,e[r]=t,a.push(r),s.push(i),n.push(c);for(let t=h,e=o.length;t!==e;++t){let e=o[t];c[t]=new _(e,r,i)}return c}unsubscribe_(e){var t,r,i,n,a,s=this._bindingsIndicesByPath,o=s[e];void 0!==o&&(t=this._paths,r=this._parsedPaths,a=(i=this._bindings)[n=i.length-1],i[s[e[n]]=o]=a,i.pop(),r[o]=r[n],r.pop(),t[o]=t[n],t.pop())}}Dh.prototype.isAnimationObjectGroup=!0;class Ih{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;var n=t.tracks,a=n.length,s=new Array(a),o={endingStart:de,endingEnd:de};for(let t=0;t!==a;++t){let e=n[t].createInterpolant(null);(s[t]=e).settings=o}this._interpolantSettings=o,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(n,a,e){if(n.fadeOut(a),this.fadeIn(a),e){let e=this._clip.duration,t=n._clip.duration,r=t/e,i=e/t;n.warp(1,r,a),this.warp(i,1,a)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){var i=this._mixer,n=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);var i=s.parameterPositions,o=s.sampleValues;return i[0]=n,i[1]=n+r,o[0]=e/a,o[1]=t/a,this}stopWarping(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,r,i,n){if(this.enabled){var a=this._startTime;if(null!==a){let e=(t-a)*i;if(e<0||0===i)return;this._startTime=null,r=i*e}r*=this._updateTimeScale(t);var s=this._updateTime(r),o=this._updateWeight(t);if(0<o){let r=this._interpolants,i=this._propertyBindings;if(this.blendMode===ge)for(let e=0,t=r.length;e!==t;++e)r[e].evaluate(s),i[e].accumulateAdditive(o);else{fe;for(let e=0,t=r.length;e!==t;++e)r[e].evaluate(s),i[e].accumulate(n,o)}}}else this._updateWeight(t)}_updateWeight(e){let t=0;var r,i;return this.enabled&&(t=this.weight,null!==(r=this._weightInterpolant))&&(i=r.evaluate(e)[0],t*=i,e>r.parameterPositions[1])&&(this.stopFading(),0===i)&&(this.enabled=!1),this._effectiveWeight=t}_updateTimeScale(e){let t=0;var r;return this.paused||(t=this.timeScale,null!==(r=this._timeScaleInterpolant)&&(t*=r.evaluate(e)[0],e>r.parameterPositions[1])&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)),this._effectiveTimeScale=t}_updateTime(t){let r=this._clip.duration,e=this.loop,i=this.time+t,n=this._loopCount;var a=2202===e;if(0===t)return-1!==n&&a&&1==(1&n)?r-i:i;if(2200===e){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=r)i=r;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(0<=t?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i>=r||i<0){let e=Math.floor(i/r);i-=r*e,n+=Math.abs(e);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=0<t?r:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<t?1:-1});else{if(1==s){let e=t<0;this._setEndings(e,!e,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:e})}}else this.time=i;if(a&&1==(1&n))return r-i}return i}_setEndings(e,t,r){var i=this._interpolantSettings;r?(i.endingStart=pe,i.endingEnd=pe):(i.endingStart=e?this.zeroSlopeAtStart?pe:de:me,i.endingEnd=t?this.zeroSlopeAtEnd?pe:de:me)}_scheduleFading(e,t,r){var i=this._mixer,n=i.time;let a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var i=a.parameterPositions,s=a.sampleValues;return i[0]=n,s[0]=t,i[1]=n+e,s[1]=r,this}}class Nh extends ze{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,a){let s=e._localRoot||this._root,o=e._clip.tracks,t=o.length,l=e._propertyBindings,h=e._interpolants,c=s.uuid,r=this._bindingsByRootAndName,u=r[c];void 0===u&&(u={},r[c]=u);for(let n=0;n!==t;++n){let t=o[n],r=t.name,i=u[r];if(void 0===i){if(void 0!==(i=l[n])){null===i._cacheIndex&&(++i.referenceCount,this._addInactiveBinding(i,c,r));continue}let e=a&&a._propertyBindings[n].binding.parsedPath;++(i=new bh(_.create(s,r,e),t.ValueTypeName,t.getValueSize())).referenceCount,this._addInactiveBinding(i,c,r)}l[n]=i,h[n].resultBuffer=i.buffer}}_activateAction(e){if(!this._isActiveAction(e)){null===e._cacheIndex&&(t=(e._localRoot||this._root).uuid,r=e._clip.uuid,i=this._actionsByClip[r],this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,r,t));var t,r,i,n=e._propertyBindings;for(let e=0,t=n.length;e!==t;++e){var a=n[e];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){var r=e._propertyBindings;for(let e=0,t=r.length;e!==t;++e){var i=r[e];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){e=e._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,r){var i=this._actions,n=this._actionsByClip;let a=n[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=a;else{let e=a.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=i.length,i.push(t),a.actionByRoot[r]=t}_removeInactiveAction(e){var t=this._actions,r=t[t.length-1],i=e._cacheIndex,i=(t[r._cacheIndex=i]=r,t.pop(),e._cacheIndex=null,e._clip.uuid),r=this._actionsByClip,t=r[i],n=t.knownActions,a=n[n.length-1],s=e._byClipCacheIndex;n[a._byClipCacheIndex=s]=a,n.pop(),e._byClipCacheIndex=null,delete t.actionByRoot[(e._localRoot||this._root).uuid],0===n.length&&delete r[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){var r=e._propertyBindings;for(let e=0,t=r.length;e!==t;++e){var i=r[e];0==--i.referenceCount&&this._removeInactiveBinding(i)}}_lendAction(e){var t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,n=t[i];t[e._cacheIndex=i]=e,t[n._cacheIndex=r]=n}_takeBackAction(e){var t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,n=t[i];t[e._cacheIndex=i]=e,t[n._cacheIndex=r]=n}_addInactiveBinding(e,t,r){var i=this._bindingsByRootAndName,n=this._bindings;let a=i[t];void 0===a&&(a={},i[t]=a),(a[r]=e)._cacheIndex=n.length,n.push(e)}_removeInactiveBinding(e){var t=this._bindings,r=e.binding,i=r.rootNode.uuid,r=r.path,n=this._bindingsByRootAndName,a=n[i],s=t[t.length-1],e=e._cacheIndex;t[s._cacheIndex=e]=s,t.pop(),delete a[r],0===Object.keys(a).length&&delete n[i]}_lendBinding(e){var t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,n=t[i];t[e._cacheIndex=i]=e,t[n._cacheIndex=r]=n}_takeBackBinding(e){var t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,n=t[i];t[e._cacheIndex=i]=e,t[n._cacheIndex=r]=n}_lendControlInterpolant(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return void 0===r&&(e[(r=new Fo(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t]=r),r}_takeBackControlInterpolant(e){var t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,n=t[i];t[e.__cacheIndex=i]=e,t[n.__cacheIndex=r]=n}clipAction(e,t,r){var i=t||this._root,n=i.uuid;let a="string"==typeof e?Xo.findByName(i,e):e;var i=null!==a?a.uuid:e,s=this._actionsByClip[i];let o=null;if(void 0===r&&(r=null!==a?a.blendMode:fe),void 0!==s){let e=s.actionByRoot[n];if(void 0!==e&&e.blendMode===r)return e;o=s.knownActions[0],null===a&&(a=o._clip)}return null===a?null:(e=new Ih(this,a,t,r),this._bindAction(e,o),this._addInactiveAction(e,i,n),e)}existingAction(e,t){var t=t||this._root,r=t.uuid,t="string"==typeof e?Xo.findByName(t,e):e,t=t?t.uuid:e,e=this._actionsByClip[t];return void 0!==e&&e.actionByRoot[r]||null}stopAllAction(){var t=this._actions;for(let e=this._nActiveActions-1;0<=e;--e)t[e].stop();return this}update(t){t*=this.timeScale;var r=this._actions,i=this._nActiveActions,n=this.time+=t,a=Math.sign(t),s=this._accuIndex^=1;for(let e=0;e!==i;++e)r[e]._update(n,t,a,s);var o=this._bindings,l=this._nActiveBindings;for(let e=0;e!==l;++e)o[e].apply(s);return this}setTime(e){for(let e=this.time=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let a=this._actions,t=e.uuid,r=this._actionsByClip,i=r[t];if(void 0!==i){let n=i.knownActions;for(let i=0,e=n.length;i!==e;++i){let e=n[i],t=(this._deactivateAction(e),e._cacheIndex),r=a[a.length-1];e._cacheIndex=null,e._byClipCacheIndex=null,r._cacheIndex=t,a[t]=r,a.pop(),this._removeInactiveBindingsForAction(e)}delete r[t]}}uncacheRoot(e){let r=e.uuid,i=this._actionsByClip;for(let t in i){let e=i[t].actionByRoot[r];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}let n=this._bindingsByRootAndName[r];if(void 0!==n)for(let t in n){let e=n[t];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){e=this.existingAction(e,t);null!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}}Nh.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class Bh{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Bh(void 0===this.value.clone?this.value:this.value.clone())}}class zh extends Ra{constructor(e,t,r=1){super(e,t),this.meshPerAttribute=r||1}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){e=super.clone(e);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(e){e=super.toJSON(e);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class Fh{constructor(e,t,r,i,n){this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=n,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}function Oh(e,t){return e.distance-t.distance}function Hh(e,i,n,t){if(e.layers.test(i.layers)&&e.raycast(i,n),!0===t){let r=e.children;for(let e=0,t=r.length;e<t;e++)Hh(r[e],i,n,!0)}}Fh.prototype.isGLBufferAttribute=zh.prototype.isInstancedInterleavedBuffer=!0;let Gh=new Te;class Uh{constructor(e=new Te(1/0,1/0),t=new Te(-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(r){this.makeEmpty();for(let e=0,t=r.length;e<t;e++)this.expandByPoint(r[e]);return this}setFromCenterAndSize(e,t){t=Gh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(t),this.max.copy(e).add(t),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new Te),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new Te),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new Te),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new Te),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Gh.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}Uh.prototype.isBox2=!0;let kh=new Ae,Vh=new Ae;class Wh{constructor(e=new Ae,t=new Ae){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new Ae),e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new Ae),e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new Ae),this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){kh.subVectors(e,this.start),Vh.subVectors(this.end,this.start);e=Vh.dot(Vh);let r=Vh.dot(kh)/e;return r=t?m(r,0,1):r}closestPointToPoint(e,t,r){e=this.closestPointToPointParameter(e,t);return void 0===r&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),r=new Ae),this.delta(r).multiplyScalar(e).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}class jh extends u{constructor(e){super(),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}jh.prototype.isImmediateRenderObject=!0;let qh=new Ae,Xh=new Ae,Yh=new Le,Zh=new Le;class Jh extends xs{constructor(e){let r=function t(r){let i=[];r&&r.isBone&&i.push(r);for(let e=0;e<r.children.length;e++)i.push.apply(i,t(r.children[e]));return i}(e),t=new E,i=[],n=[],a=new Re(0,0,1),s=new Re(0,1,0);for(let t=0;t<r.length;t++){let e=r[t];e.parent&&e.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),n.push(a.r,a.g,a.b),n.push(s.r,s.g,s.b))}t.setAttribute("position",new V(i,3)),t.setAttribute("color",new V(n,3)),super(t,new g({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=r,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){var r=this.bones,t=this.geometry,i=t.getAttribute("position");Zh.copy(this.root.matrixWorld).invert();for(let e=0,t=0;e<r.length;e++){var n=r[e];n.parent&&n.parent.isBone&&(Yh.multiplyMatrices(Zh,n.matrixWorld),Xh.setFromMatrixPosition(Yh),i.setXYZ(t,Xh.x,Xh.y,Xh.z),Yh.multiplyMatrices(Zh,n.parent.matrixWorld),Xh.setFromMatrixPosition(Yh),i.setXYZ(t+1,Xh.x,Xh.y,Xh.z),t+=2)}t.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}let Qh=new Ae,Kh=new Re,$h=new Re;class ec extends xs{constructor(e=10,n=10,a=4473924,s=8947848){a=new Re(a),s=new Re(s);var o=n/2,l=e/n,h=e/2,c=[],u=[];for(let t=0,r=0,i=-h;t<=n;t++,i+=l){c.push(-h,0,i,h,0,i),c.push(i,0,-h,i,0,h);let e=t===o?a:s;e.toArray(u,r),r+=3,e.toArray(u,r),r+=3,e.toArray(u,r),r+=3,e.toArray(u,r),r+=3}e=new E;e.setAttribute("position",new V(c,3)),e.setAttribute("color",new V(u,3)),super(e,new g({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}let tc=new Ae,rc=new Ae,ic=new Ae,nc=new Ae,w=new li;function b(e,t,i,r,n,a,s){nc.set(n,a,s).unproject(r);var o=t[e];if(void 0!==o){let r=i.getAttribute("position");for(let e=0,t=o.length;e<t;e++)r.setXYZ(o[e],nc.x,nc.y,nc.z)}}let ac=new tt;class sc extends xs{constructor(e,t=16776960){var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),n=new E;n.setIndex(new T(r,1)),n.setAttribute("position",new T(i,3)),super(n,new g({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){var t,r,i;void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&ac.setFromObject(this.object),ac.isEmpty()||(e=ac.min,t=ac.max,(i=(r=this.geometry.attributes.position).array)[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere())}setFromObject(e){return this.object=e,this.update(),this}copy(e){return xs.prototype.copy.call(this,e),this.object=e.object,this}}let oc=new Ae,lc,hc;class cc extends xs{constructor(e=1){var e=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],t=new E;t.setAttribute("position",new V(e,3)),t.setAttribute("color",new V([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(t,new g({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}let uc=new Float32Array(1),dc=new Int32Array(uc.buffer),pc=Math.pow(2,8),mc=[.125,.215,.35,.446,.526,.582],fc=5+mc.length,gc={[Ne]:0,[ve]:1,[xe]:2,[_e]:3,[we]:4,[be]:5,[ye]:6},vc=new _r({side:1,depthWrite:!1,depthTest:!1}),yc=new A(new ni,vc),xc=new Hl,{_lodPlanes:_c,_sizeLods:wc,_sigmas:bc}=function(){let r=[],i=[],n=[],a=8;for(let t=0;t<fc;t++){var s=Math.pow(2,a);i.push(s);let e=1/s;4<t?e=mc[t-8+4-1]:0==t&&(e=0),n.push(e);var s=1/(s-1),o=-s/2,s=1+s/2,l=[o,o,s,o,s,s,o,o,s,s,o,s],h=new Float32Array(108),c=new Float32Array(72),u=new Float32Array(36);for(let i=0;i<6;i++){let e=i%3*2/3-1,t=2<i?0:-1,r=[e,t,0,e+2/3,t,0,e+2/3,1+t,0,e,t,0,e+2/3,1+t,0,e,1+t,0];h.set(r,18*i),c.set(l,12*i);var d=[i,i,i,i,i,i];u.set(d,6*i)}o=new E;o.setAttribute("position",new T(h,3)),o.setAttribute("uv",new T(c,2)),o.setAttribute("faceIndex",new T(u,1)),r.push(o),4<a&&a--}return{_lodPlanes:r,_sizeLods:i,_sigmas:n}}(),Mc=new Re,Sc=null,Tc=(1+Math.sqrt(5))/2,Ec=1/Tc,Ac=[new Ae(1,1,1),new Ae(-1,1,1),new Ae(1,1,-1),new Ae(-1,1,-1),new Ae(0,Tc,Ec),new Ae(0,Tc,-Ec),new Ae(Ec,0,Tc),new Ae(-Ec,0,Tc),new Ae(Tc,Ec,0),new Ae(-Tc,Ec,0)];function Lc(e){var t=Math.max(e.r,e.g,e.b),t=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);return e.multiplyScalar(Math.pow(2,-t)),(t+128)/255}function Rc(e){e=new Qe(3*pc,3*pc,e);return e.texture.mapping=N,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Cc(e,t,r,i,n){e.viewport.set(t,r,i,n),e.scissor.set(t,r,i,n)}function Pc(){var e=new Te(1,1);return new To({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:gc[3e3]},outputEncoding:{value:gc[3e3]}},vertexShader:Ic(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${Nc()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Dc(){return new To({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:gc[3e3]},outputEncoding:{value:gc[3e3]}},vertexShader:Ic(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${Nc()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})}function Ic(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Nc(){return"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t"}il.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(il.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},Sl.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},ec.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Jh.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},d.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Xl.extractUrlBase(e)},d.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Uh.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},Uh.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Uh.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Uh.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},tt.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},tt.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},tt.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},tt.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},tt.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},_t.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},fi.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Wh.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},v.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},v.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},v.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},v.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},v.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},v.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},Le.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},Le.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Le.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ae).setFromMatrixColumn(this,3)},Le.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},Le.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Le.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Le.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Le.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Le.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},Le.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Le.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Le.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Le.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Le.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Le.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Le.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},Le.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Le.prototype.makeFrustum=function(e,t,r,i,n,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,r,n,a)},Le.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},rr.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},p.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},p.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Lt.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Lt.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},Lt.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},f.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},f.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},f.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},f.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},f.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},f.barycoordFromPoint=function(e,t,r,i,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),f.getBarycoord(e,t,r,i,n)},f.normal=function(e,t,r,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),f.getNormal(e,t,r,i)},Tl.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Tl.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new oo(this,e)},Tl.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new fo(this,e)},Te.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},Te.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Te.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ae.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ae.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ae.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Ae.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Ae.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Ae.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Ae.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},Ae.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Ae.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ee.prototype.fromAttribute=function(e,t,r){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,r)},Ee.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},u.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},u.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},u.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},u.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},u.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(u.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),A.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(A.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),ts.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},L.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(El.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(T.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Se},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Se)}}}),T.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Se:Me),this},T.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},T.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},E.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},E.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new T(t,arguments[2])))},E.prototype.addDrawCall=function(e,t,r){void 0!==r&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},E.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},E.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},E.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},E.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(E.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Ra.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Se:Me),this},Ra.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},oo.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},oo.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},oo.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},La.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Bh.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(t.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Re}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(oi.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),o.prototype.clearTarget=function(e,t,r,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,r,i)},o.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},o.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},o.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},o.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},o.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},o.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},o.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},o.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},o.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},o.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},o.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},o.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},o.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},o.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},o.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},o.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},o.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},o.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},o.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},o.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},o.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},o.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},o.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},o.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(o.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?ve:Ne}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(fa.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Qe.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),gh.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");let t=this;return(new ah).load(e,function(e){t.setBuffer(e)}),this},wh.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},hi.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},hi.prototype.clear=function(e,t,r,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,r,i)},Ye.crossOrigin=void 0,Ye.loadTexture=function(e,t,r,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var n=new rl,n=(n.setCrossOrigin(this.crossOrigin),n.load(e,r,void 0,i));return t&&(n.mapping=t),n},Ye.loadTextureCube=function(e,t,r,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var n=new el,n=(n.setCrossOrigin(this.crossOrigin),n.load(e,r,void 0,i));return t&&(n.mapping=t),n},Ye.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ye.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Bc={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:S}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=S),e.ACESFilmicToneMapping=4,e.AddEquation=W,e.AddOperation=2,e.AdditiveAnimationBlendMode=ge,e.AdditiveBlending=2,e.AlphaFormat=1021,e.AlwaysDepth=1,e.AlwaysStencilFunc=519,e.AmbientLight=kl,e.AmbientLightProbe=oh,e.AnimationClip=Xo,e.AnimationLoader=class extends d{constructor(e){super(e)}load(t,r,e,i){let n=this,a=new Ko(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(e){try{r(n.parse(JSON.parse(e)))}catch(e){i?i(e):console.error(e),n.manager.itemError(t)}},e,i)}parse(t){var r=[];for(let e=0;e<t.length;e++){var i=Xo.parse(t[e]);r.push(i)}return r}},e.AnimationMixer=Nh,e.AnimationObjectGroup=Dh,e.AnimationUtils=x,e.ArcCurve=al,e.ArrayCamera=xa,e.ArrowHelper=class extends u{constructor(e=new Ae(0,0,1),t=new Ae(0,0,0),r=1,i=16776960,n=.2*r,a=.2*n){super(),this.type="ArrowHelper",void 0===lc&&((lc=new E).setAttribute("position",new V([0,0,0,0,1,0],3)),(hc=new Is(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new gs(lc,new g({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new A(hc,new _r({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,n,a)}setDirection(e){.99999<e.y?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(oc.set(e.z,0,-e.x).normalize(),e=Math.acos(e.y),this.quaternion.setFromAxisAngle(oc,e))}setLength(e,t=.2*e,r=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},e.Audio=gh,e.AudioAnalyser=wh,e.AudioContext=nh,e.AudioListener=class extends u{constructor(){super(),this.type="AudioListener",this.context=nh.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ch}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return(null!==this.filter?(this.gain.disconnect(this.filter),this.filter):this.gain).disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(dh,ph,mh),fh.set(0,0,-1).applyQuaternion(ph),t.positionX){let e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(dh.x,e),t.positionY.linearRampToValueAtTime(dh.y,e),t.positionZ.linearRampToValueAtTime(dh.z,e),t.forwardX.linearRampToValueAtTime(fh.x,e),t.forwardY.linearRampToValueAtTime(fh.y,e),t.forwardZ.linearRampToValueAtTime(fh.z,e),t.upX.linearRampToValueAtTime(r.x,e),t.upY.linearRampToValueAtTime(r.y,e),t.upZ.linearRampToValueAtTime(r.z,e)}else t.setPosition(dh.x,dh.y,dh.z),t.setOrientation(fh.x,fh.y,fh.z,r.x,r.y,r.z)}},e.AudioLoader=ah,e.AxesHelper=cc,e.AxisHelper=function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new cc(e)},e.BackSide=1,e.BasicDepthPacking=3200,e.BasicShadowMap=0,e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new tl(e)},e.Bone=rs,e.BooleanKeyframeTrack=Go,e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new sc(e,t)},e.Box2=Uh,e.Box3=tt,e.Box3Helper=class extends xs{constructor(e,t=16776960){var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new E;i.setIndex(new T(r,1)),i.setAttribute("position",new V([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new g({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}},e.BoxBufferGeometry=ni,e.BoxGeometry=ni,e.BoxHelper=sc,e.BufferAttribute=T,e.BufferGeometry=E,e.BufferGeometryLoader=Jl,e.ByteType=1010,e.Cache=Yo,e.Camera=li,e.CameraHelper=class extends xs{constructor(e){let t=new E,r=new g({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],n=[],a={},s=new Re(16755200),o=new Re(16711680),l=new Re(43775),h=new Re(16777215),c=new Re(3355443);function u(e,t,r){d(e,r),d(t,r)}function d(e,t){i.push(0,0,0),n.push(t.r,t.g,t.b),void 0===a[e]&&(a[e]=[]),a[e].push(i.length/3-1)}u("n1","n2",s),u("n2","n4",s),u("n4","n3",s),u("n3","n1",s),u("f1","f2",s),u("f2","f4",s),u("f4","f3",s),u("f3","f1",s),u("n1","f1",s),u("n2","f2",s),u("n3","f3",s),u("n4","f4",s),u("p","n1",o),u("p","n2",o),u("p","n3",o),u("p","n4",o),u("u1","u2",l),u("u2","u3",l),u("u3","u1",l),u("c","t",h),u("p","c",c),u("cn1","cn2",c),u("cn3","cn4",c),u("cf1","cf2",c),u("cf3","cf4",c),t.setAttribute("position",new V(i,3)),t.setAttribute("color",new V(n,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}update(){var e=this.geometry,t=this.pointMap;w.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),b("c",t,e,w,0,0,-1),b("t",t,e,w,0,0,1),b("n1",t,e,w,-1,-1,-1),b("n2",t,e,w,1,-1,-1),b("n3",t,e,w,-1,1,-1),b("n4",t,e,w,1,1,-1),b("f1",t,e,w,-1,-1,1),b("f2",t,e,w,1,-1,1),b("f3",t,e,w,-1,1,1),b("f4",t,e,w,1,1,1),b("u1",t,e,w,.7,1.1,-1),b("u2",t,e,w,-.7,1.1,-1),b("u3",t,e,w,0,2,-1),b("cf1",t,e,w,-1,0,1),b("cf2",t,e,w,1,0,1),b("cf3",t,e,w,0,-1,1),b("cf4",t,e,w,0,1,1),b("cn1",t,e,w,-1,0,-1),b("cn2",t,e,w,1,0,-1),b("cn3",t,e,w,0,-1,-1),b("cn4",t,e,w,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been removed")},e.CanvasTexture=Cs,e.CatmullRomCurve3=ul,e.CineonToneMapping=3,e.CircleBufferGeometry=Ds,e.CircleGeometry=Ds,e.ClampToEdgeWrapping=U,e.Clock=ch,e.Color=Re,e.ColorKeyframeTrack=Uo,e.CompressedTexture=Rs,e.CompressedTextureLoader=class extends d{constructor(e){super(e)}load(r,i,n,a){let s=this,o=[],l=new Rs,h=new Ko(this.manager),c=(h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(s.withCredentials),0);if(Array.isArray(r))for(let e=0,t=r.length;e<t;++e)!function(t){h.load(r[t],function(e){e=s.parse(e,!0);o[t]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(c+=1)&&(1===e.mipmapCount&&(l.minFilter=H),l.image=o,l.format=e.format,l.needsUpdate=!0,i)&&i(l)},n,a)}(e);else h.load(r,function(e){var r=s.parse(e,!0);if(r.isCubemap){let e=r.mipmaps.length/r.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<r.mipmapCount;e++)o[t].mipmaps.push(r.mipmaps[t*r.mipmapCount+e]),o[t].format=r.format,o[t].width=r.width,o[t].height=r.height}l.image=o}else l.image.width=r.width,l.image.height=r.height,l.mipmaps=r.mipmaps;1===r.mipmapCount&&(l.minFilter=H),l.format=r.format,l.needsUpdate=!0,i&&i(l)},n,a);return l}},e.ConeBufferGeometry=Ns,e.ConeGeometry=Ns,e.CubeCamera=hi,e.CubeReflectionMapping=C,e.CubeRefractionMapping=P,e.CubeTexture=ci,e.CubeTextureLoader=el,e.CubeUVReflectionMapping=N,e.CubeUVRefractionMapping=B,e.CubicBezierCurve=fl,e.CubicBezierCurve3=gl,e.CubicInterpolant=zo,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.CullFaceNone=0,e.Curve=il,e.CurvePath=Ml,e.CustomBlending=5,e.CustomToneMapping=5,e.CylinderBufferGeometry=Is,e.CylinderGeometry=Is,e.Cylindrical=class{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return(new this.constructor).copy(this)}},e.DataTexture=di,e.DataTexture2DArray=Ni,e.DataTexture3D=Bi,e.DataTextureLoader=tl,e.DataUtils=class{static toHalfFloat(e){uc[0]=e;e=dc[0];let t=e>>16&32768,r=e>>12&2047;var i=e>>23&255;return i<103||(142<i?t=t|31744|((255==i?0:1)&&8388607&e):i<113?(r|=2048,t|=(r>>114-i)+(r>>113-i&1)):t=(t|=i-112<<10|r>>1)+(1&r)),t}},e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=Jo,e.DepthFormat=$,e.DepthStencilFormat=ee,e.DepthTexture=Ps,e.DirectionalLight=Ul,e.DirectionalLightHelper=class extends u{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,void 0===t&&(t=1);let i=new E;i.setAttribute("position",new V([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));e=new g({fog:!1,toneMapped:!1});this.lightPlane=new gs(i,e),this.add(this.lightPlane),(i=new E).setAttribute("position",new V([0,0,0,0,0,1],3)),this.targetLine=new gs(i,e),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){tc.setFromMatrixPosition(this.light.matrixWorld),rc.setFromMatrixPosition(this.light.target.matrixWorld),ic.subVectors(rc,tc),this.lightPlane.lookAt(rc),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rc),this.targetLine.scale.z=ic.length()}},e.DiscreteInterpolant=Oo,e.DodecahedronBufferGeometry=zs,e.DodecahedronGeometry=zs,e.DoubleSide=2,e.DstAlphaFactor=206,e.DstColorFactor=208,e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new T(e,t).setUsage(Se)},e.DynamicCopyUsage=35050,e.DynamicDrawUsage=Se,e.DynamicReadUsage=35049,e.EdgesGeometry=Us,e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new xs(new Us(e.geometry),new g({color:void 0!==t?t:16777215}))},e.EllipseCurve=nl,e.EqualDepth=4,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=D,e.EquirectangularRefractionMapping=I,e.Euler=Ot,e.EventDispatcher=ze,e.ExtrudeBufferGeometry=oo,e.ExtrudeGeometry=oo,e.FaceColors=1,e.FileLoader=Ko,e.FlatShading=1,e.Float16BufferAttribute=Rr,e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new V(e,t)},e.Float32BufferAttribute=V,e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Cr(e,t)},e.Float64BufferAttribute=Cr,e.FloatType=Pe,e.Fog=Aa,e.FogExp2=Ea,e.Font=rh,e.FontLoader=class extends d{constructor(e){super(e)}load(e,i,t,r){let n=this,a=new Ko(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(n.withCredentials),a.load(e,function(t){let r;try{r=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),r=JSON.parse(t.substring(65,t.length-2))}t=n.parse(r);i&&i(t)},t,r)}parse(e){return new rh(e)}},e.FrontSide=0,e.Frustum=fi,e.GLBufferAttribute=Fh,e.GLSL1="100",e.GLSL3=Be,e.GammaEncoding=ye,e.GreaterDepth=6,e.GreaterEqualDepth=5,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=ec,e.Group=_a,e.HalfFloatType=De,e.HemisphereLight=Al,e.HemisphereLightHelper=class extends u{constructor(e,t,r){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;e=new uo(t),e.rotateY(.5*Math.PI),this.material=new _r({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0),r=e.getAttribute("position"),t=new Float32Array(3*r.count);e.setAttribute("color",new T(t,3)),this.add(new A(e,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=e.geometry.getAttribute("color");Kh.copy(this.light.color),$h.copy(this.light.groundColor);for(let e=0,t=r.count;e<t;e++){var i=e<t/2?Kh:$h;r.setXYZ(e,i.r,i.g,i.b)}r.needsUpdate=!0}e.lookAt(Qh.setFromMatrixPosition(this.light.matrixWorld).negate())}},e.HemisphereLightProbe=sh,e.IcosahedronBufferGeometry=ho,e.IcosahedronGeometry=ho,e.ImageBitmapLoader=eh,e.ImageLoader=$o,e.ImageUtils=Ye,e.ImmediateRenderObject=jh,e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=Zl,e.InstancedBufferGeometry=Yl,e.InstancedInterleavedBuffer=zh,e.InstancedMesh=cs,e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Tr(e,t)},e.Int16BufferAttribute=Tr,e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ar(e,t)},e.Int32BufferAttribute=Ar,e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new br(e,t)},e.Int8BufferAttribute=br,e.IntType=1013,e.InterleavedBuffer=Ra,e.InterleavedBufferAttribute=Ca,e.Interpolant=Bo,e.InterpolateDiscrete=he,e.InterpolateLinear=ce,e.InterpolateSmooth=ue,e.InvertStencilOp=5386,e.JSONLoader=function(){console.error("THREE.JSONLoader has been removed.")},e.KeepStencilOp=7680,e.KeyframeTrack=Ho,e.LOD=Za,e.LatheBufferGeometry=co,e.LatheGeometry=co,e.Layers=Ht,e.LensFlare=function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},e.LessDepth=2,e.LessEqualDepth=3,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=El,e.LightProbe=jl,e.Line=gs,e.Line3=Wh,e.LineBasicMaterial=g,e.LineCurve=vl,e.LineCurve3=yl,e.LineDashedMaterial=Io,e.LineLoop=_s,e.LinePieces=1,e.LineSegments=xs,e.LineStrip=0,e.LinearEncoding=Ne,e.LinearFilter=H,e.LinearInterpolant=Fo,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=Y,e.LinearMipmapNearestFilter=X,e.LinearToneMapping=1,e.Loader=d,e.LoaderUtils=Xl,e.LoadingManager=Zo,e.LogLuvEncoding=3003,e.LoopOnce=2200,e.LoopPingPong=2202,e.LoopRepeat=2201,e.LuminanceAlphaFormat=1025,e.LuminanceFormat=1024,e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},e.Material=t,e.MaterialLoader=ql,e.Math=qe,e.MathUtils=qe,e.Matrix3=v,e.Matrix4=Le,e.MaxEquation=104,e.Mesh=A,e.MeshBasicMaterial=_r,e.MeshDepthMaterial=pa,e.MeshDistanceMaterial=ma,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},e.MeshLambertMaterial=Po,e.MeshMatcapMaterial=Do,e.MeshNormalMaterial=Co,e.MeshPhongMaterial=Lo,e.MeshPhysicalMaterial=Ao,e.MeshStandardMaterial=Eo,e.MeshToonMaterial=Ro,e.MinEquation=103,e.MirroredRepeatWrapping=k,e.MixOperation=1,e.MultiMaterial=function(e=[]){return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,(e.materials=e).clone=function(){return e.slice()},e},e.MultiplyBlending=4,e.MultiplyOperation=0,e.NearestFilter=O,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=q,e.NearestMipmapNearestFilter=j,e.NeverDepth=0,e.NeverStencilFunc=512,e.NoBlending=0,e.NoColors=0,e.NoToneMapping=0,e.NormalAnimationBlendMode=fe,e.NormalBlending=1,e.NotEqualDepth=7,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=ko,e.Object3D=u,e.ObjectLoader=class extends d{constructor(e){super(e)}load(r,i,e,n){let a=this,t=""===this.path?Xl.extractUrlBase(r):this.path;this.resourcePath=this.resourcePath||t;var s=new Ko(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(r,function(e){let t=null;try{t=JSON.parse(e)}catch(e){return void 0!==n&&n(e),void console.error("THREE:ObjectLoader: Can't parse "+r+".",e.message)}e=t.metadata;void 0!==e&&void 0!==e.type&&"geometry"!==e.type.toLowerCase()?a.parse(t,i):console.error("THREE.ObjectLoader: Can't load "+r)},e,n)}parse(e,r){let t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),n=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){void 0!==r&&r(l)}),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,n,o,t),h=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,h),void 0!==r){let t=!1;for(let e in a)if(a[e]instanceof HTMLImageElement){t=!0;break}!1===t&&r(l)}return l}parseShapes(r){var i={};if(void 0!==r)for(let e=0,t=r.length;e<t;e++){var n=(new Tl).fromJSON(r[e]);i[n.uuid]=n}return i}parseSkeletons(r,e){let i={},n={};if(e.traverse(function(e){e.isBone&&(n[e.uuid]=e)}),void 0!==r)for(let e=0,t=r.length;e<t;e++){var a=(new as).fromJSON(r[e],n);i[a.uuid]=a}return i}parseGeometries(r,i){let n={},a;if(void 0!==r){var s=new Jl;for(let e=0,t=r.length;e<t;e++){let t;var o=r[e];switch(o.type){case"PlaneGeometry":case"PlaneBufferGeometry":t=new Mo[o.type](o.width,o.height,o.widthSegments,o.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":t=new Mo[o.type](o.width,o.height,o.depth,o.widthSegments,o.heightSegments,o.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":t=new Mo[o.type](o.radius,o.segments,o.thetaStart,o.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":t=new Mo[o.type](o.radiusTop,o.radiusBottom,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":t=new Mo[o.type](o.radius,o.height,o.radialSegments,o.heightSegments,o.openEnded,o.thetaStart,o.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":t=new Mo[o.type](o.radius,o.widthSegments,o.heightSegments,o.phiStart,o.phiLength,o.thetaStart,o.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":t=new Mo[o.type](o.radius,o.detail);break;case"RingGeometry":case"RingBufferGeometry":t=new Mo[o.type](o.innerRadius,o.outerRadius,o.thetaSegments,o.phiSegments,o.thetaStart,o.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":t=new Mo[o.type](o.radius,o.tube,o.radialSegments,o.tubularSegments,o.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":t=new Mo[o.type](o.radius,o.tube,o.tubularSegments,o.radialSegments,o.p,o.q);break;case"TubeGeometry":case"TubeBufferGeometry":t=new Mo[o.type]((new bl[o.path.type]).fromJSON(o.path),o.tubularSegments,o.radius,o.radialSegments,o.closed);break;case"LatheGeometry":case"LatheBufferGeometry":t=new Mo[o.type](o.points,o.segments,o.phiStart,o.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":t=new Mo[o.type](o.vertices,o.indices,o.radius,o.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":a=[];for(let t=0,e=o.shapes.length;t<e;t++){let e=i[o.shapes[t]];a.push(e)}t=new Mo[o.type](a,o.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":a=[];for(let t=0,e=o.shapes.length;t<e;t++){let e=i[o.shapes[t]];a.push(e)}let e=o.options.extrudePath;void 0!==e&&(o.options.extrudePath=(new bl[e.type]).fromJSON(e)),t=new Mo[o.type](a,o.options);break;case"BufferGeometry":case"InstancedBufferGeometry":t=s.parse(o);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+o.type+'"');continue}t.uuid=o.uuid,void 0!==o.name&&(t.name=o.name),!0===t.isBufferGeometry&&void 0!==o.userData&&(t.userData=o.userData),n[o.uuid]=t}}return n}parseMaterials(r,e){let i={},n={};if(void 0!==r){var a=new ql;a.setTextures(e);for(let e=0,t=r.length;e<t;e++){var s=r[e];if("MultiMaterial"===s.type){let r=[];for(let t=0;t<s.materials.length;t++){let e=s.materials[t];void 0===i[e.uuid]&&(i[e.uuid]=a.parse(e)),r.push(i[e.uuid])}n[s.uuid]=r}else void 0===i[s.uuid]&&(i[s.uuid]=a.parse(s)),n[s.uuid]=i[s.uuid]}}return n}parseAnimations(t){var r={};if(void 0!==t)for(let e=0;e<t.length;e++){var i=t[e],i=Xo.parse(i);r[i.uuid]=i}return r}parseImages(n,t){let i=this,a={},s;function o(e){var t,r;return"string"==typeof e?(r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t=e)?t:i.resourcePath+t,i.manager.itemStart(r),s.load(r,function(){i.manager.itemEnd(r)},void 0,function(){i.manager.itemError(r),i.manager.itemEnd(r)})):e.data?{data:Ir(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==n&&0<n.length){let e=new Zo(t);(s=new $o(e)).setCrossOrigin(this.crossOrigin);for(let e=0,t=n.length;e<t;e++){let r=n[e],i=r.url;if(Array.isArray(i)){a[r.uuid]=[];for(let t=0,e=i.length;t<e;t++){let e=o(i[t]);null!==e&&(e instanceof HTMLImageElement?a[r.uuid].push(e):a[r.uuid].push(new di(e.data,e.width,e.height)))}}else{let e=o(r.url);null!==e&&(a[r.uuid]=e)}}}return a}parseTextures(r,i){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var a={};if(void 0!==r)for(let t=0,e=r.length;t<e;t++){var s=r[t];let e;void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===i[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image);var o=i[s.image];Array.isArray(o)?(e=new ci(o),6===o.length&&(e.needsUpdate=!0)):(e=o&&o.data?new di(o.data,o.width,o.height):new c(o),o&&(e.needsUpdate=!0)),e.uuid=s.uuid,void 0!==s.name&&(e.name=s.name),void 0!==s.mapping&&(e.mapping=n(s.mapping,Ql)),void 0!==s.offset&&e.offset.fromArray(s.offset),void 0!==s.repeat&&e.repeat.fromArray(s.repeat),void 0!==s.center&&e.center.fromArray(s.center),void 0!==s.rotation&&(e.rotation=s.rotation),void 0!==s.wrap&&(e.wrapS=n(s.wrap[0],Kl),e.wrapT=n(s.wrap[1],Kl)),void 0!==s.format&&(e.format=s.format),void 0!==s.type&&(e.type=s.type),void 0!==s.encoding&&(e.encoding=s.encoding),void 0!==s.minFilter&&(e.minFilter=n(s.minFilter,$l)),void 0!==s.magFilter&&(e.magFilter=n(s.magFilter,$l)),void 0!==s.anisotropy&&(e.anisotropy=s.anisotropy),void 0!==s.flipY&&(e.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(e.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(e.unpackAlignment=s.unpackAlignment),a[s.uuid]=e}return a}parseObject(n,r,a,i){let s,o,l;function h(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),r[e]}function c(r){if(void 0!==r){if(Array.isArray(r)){var i=[];for(let e=0,t=r.length;e<t;e++){var n=r[e];void 0===a[n]&&console.warn("THREE.ObjectLoader: Undefined material",n),i.push(a[n])}return i}return void 0===a[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),a[r]}}switch(n.type){case"Scene":s=new La,void 0!==n.background&&Number.isInteger(n.background)&&(s.background=new Re(n.background)),void 0!==n.fog&&("Fog"===n.fog.type?s.fog=new Aa(n.fog.color,n.fog.near,n.fog.far):"FogExp2"===n.fog.type&&(s.fog=new Ea(n.fog.color,n.fog.density)));break;case"PerspectiveCamera":s=new L(n.fov,n.aspect,n.near,n.far),void 0!==n.focus&&(s.focus=n.focus),void 0!==n.zoom&&(s.zoom=n.zoom),void 0!==n.filmGauge&&(s.filmGauge=n.filmGauge),void 0!==n.filmOffset&&(s.filmOffset=n.filmOffset),void 0!==n.view&&(s.view=Object.assign({},n.view));break;case"OrthographicCamera":s=new Hl(n.left,n.right,n.top,n.bottom,n.near,n.far),void 0!==n.zoom&&(s.zoom=n.zoom),void 0!==n.view&&(s.view=Object.assign({},n.view));break;case"AmbientLight":s=new kl(n.color,n.intensity);break;case"DirectionalLight":s=new Ul(n.color,n.intensity);break;case"PointLight":s=new Ol(n.color,n.intensity,n.distance,n.decay);break;case"RectAreaLight":s=new Vl(n.color,n.intensity,n.width,n.height);break;case"SpotLight":s=new Il(n.color,n.intensity,n.distance,n.angle,n.penumbra,n.decay);break;case"HemisphereLight":s=new Al(n.color,n.groundColor,n.intensity);break;case"LightProbe":s=(new jl).fromJSON(n);break;case"SkinnedMesh":o=h(n.geometry),l=c(n.material),s=new ts(o,l),void 0!==n.bindMode&&(s.bindMode=n.bindMode),void 0!==n.bindMatrix&&s.bindMatrix.fromArray(n.bindMatrix),void 0!==n.skeleton&&(s.skeleton=n.skeleton);break;case"Mesh":o=h(n.geometry),l=c(n.material),s=new A(o,l);break;case"InstancedMesh":o=h(n.geometry),l=c(n.material);let e=n.count,t=n.instanceMatrix,r=n.instanceColor;(s=new cs(o,l,e)).instanceMatrix=new T(new Float32Array(t.array),16),void 0!==r&&(s.instanceColor=new T(new Float32Array(r.array),r.itemSize));break;case"LOD":s=new Za;break;case"Line":s=new gs(h(n.geometry),c(n.material));break;case"LineLoop":s=new _s(h(n.geometry),c(n.material));break;case"LineSegments":s=new xs(h(n.geometry),c(n.material));break;case"PointCloud":case"Points":s=new Es(h(n.geometry),c(n.material));break;case"Sprite":s=new ja(c(n.material));break;case"Group":s=new _a;break;case"Bone":s=new rs;break;default:s=new u}if(s.uuid=n.uuid,void 0!==n.name&&(s.name=n.name),void 0!==n.matrix?(s.matrix.fromArray(n.matrix),void 0!==n.matrixAutoUpdate&&(s.matrixAutoUpdate=n.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(void 0!==n.position&&s.position.fromArray(n.position),void 0!==n.rotation&&s.rotation.fromArray(n.rotation),void 0!==n.quaternion&&s.quaternion.fromArray(n.quaternion),void 0!==n.scale&&s.scale.fromArray(n.scale)),void 0!==n.castShadow&&(s.castShadow=n.castShadow),void 0!==n.receiveShadow&&(s.receiveShadow=n.receiveShadow),n.shadow&&(void 0!==n.shadow.bias&&(s.shadow.bias=n.shadow.bias),void 0!==n.shadow.normalBias&&(s.shadow.normalBias=n.shadow.normalBias),void 0!==n.shadow.radius&&(s.shadow.radius=n.shadow.radius),void 0!==n.shadow.mapSize&&s.shadow.mapSize.fromArray(n.shadow.mapSize),void 0!==n.shadow.camera)&&(s.shadow.camera=this.parseObject(n.shadow.camera)),void 0!==n.visible&&(s.visible=n.visible),void 0!==n.frustumCulled&&(s.frustumCulled=n.frustumCulled),void 0!==n.renderOrder&&(s.renderOrder=n.renderOrder),void 0!==n.userData&&(s.userData=n.userData),void 0!==n.layers&&(s.layers.mask=n.layers),void 0!==n.children){let t=n.children;for(let e=0;e<t.length;e++)s.add(this.parseObject(t[e],r,a,i))}if(void 0!==n.animations){let r=n.animations;for(let t=0;t<r.length;t++){let e=r[t];s.animations.push(i[e])}}if("LOD"===n.type){void 0!==n.autoUpdate&&(s.autoUpdate=n.autoUpdate);let i=n.levels;for(let r=0;r<i.length;r++){let e=i[r],t=s.getObjectByProperty("uuid",e.object);void 0!==t&&s.addLevel(t,e.distance)}}return s}bindSkeletons(e,r){0!==Object.keys(r).length&&e.traverse(function(e){var t;!0===e.isSkinnedMesh&&void 0!==e.skeleton&&(void 0===(t=r[e.skeleton])?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(t,e.bindMatrix))})}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}},e.ObjectSpaceNormalMap=1,e.OctahedronBufferGeometry=uo,e.OctahedronGeometry=uo,e.OneFactor=201,e.OneMinusDstAlphaFactor=207,e.OneMinusDstColorFactor=209,e.OneMinusSrcAlphaFactor=205,e.OneMinusSrcColorFactor=203,e.OrthographicCamera=Hl,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.PMREMGenerator=class{constructor(e){var t;this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=(e=new Float32Array(20),t=new Ae(0,1,0),new To({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:t},inputEncoding:{value:gc[3e3]},outputEncoding:{value:gc[3e3]}},vertexShader:Ic(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${Nc()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1})),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Sc=this._renderer.getRenderTarget();var n=this._allocateTargets();return this._sceneToCubeUV(e,r,i,n),0<t&&this._blur(n,0,0,t),this._applyPMREM(n),this._cleanup(n),n}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=Dc(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=Pc(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<_c.length;e++)_c[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Sc),e.scissorTest=!1,Cc(e,0,0,e.width,e.height)}_fromTexture(e){Sc=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){var t={magFilter:O,minFilter:O,generateMipmaps:!1,type:Ce,format:1023,encoding:void 0===(t=e)||t.type!==Ce||t.encoding!==Ne&&t.encoding!==ve&&t.encoding!==ye?xe:e.encoding,depthBuffer:!1},r=Rc(t);return r.depthBuffer=!e,this._pingPongRenderTarget=Rc(t),r}_compileMaterial(e){e=new A(_c[0],e);this._renderer.compile(e,xc)}_sceneToCubeUV(r,e,t,i){var n=new L(90,1,e,t),a=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],o=this._renderer,e=o.autoClear,t=o.outputEncoding,l=o.toneMapping;o.getClearColor(Mc),o.toneMapping=0,o.outputEncoding=Ne;let h=o.autoClear=!1;var c=r.background;if(c){if(c.isColor){vc.color.copy(c).convertSRGBToLinear(),r.background=null;let e=Lc(vc.color);vc.opacity=e,h=!0}}else{vc.color.copy(Mc).convertSRGBToLinear();let e=Lc(vc.color);vc.opacity=e,h=!0}for(let t=0;t<6;t++){let e=t%3;0==e?(n.up.set(0,a[t],0),n.lookAt(s[t],0,0)):1==e?(n.up.set(0,0,a[t]),n.lookAt(0,s[t],0)):(n.up.set(0,a[t],0),n.lookAt(0,0,s[t])),Cc(i,e*pc,2<t?pc:0,pc,pc),o.setRenderTarget(i),h&&o.render(yc,n),o.render(r,n)}o.toneMapping=l,o.outputEncoding=t,o.autoClear=e}_textureToCubeUV(e,t){var r=this._renderer,i=(e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Dc()):null==this._equirectShader&&(this._equirectShader=Pc()),e.isCubeTexture?this._cubemapShader:this._equirectShader),n=new A(_c[0],i),i=i.uniforms;(i.envMap.value=e).isCubeTexture||i.texelSize.value.set(1/e.image.width,1/e.image.height),i.inputEncoding.value=gc[e.encoding],i.outputEncoding.value=gc[t.texture.encoding],Cc(t,0,0,3*pc,2*pc),r.setRenderTarget(t),r.render(n,xc)}_applyPMREM(i){let e=this._renderer,t=e.autoClear;e.autoClear=!1;for(let r=1;r<fc;r++){let e=Math.sqrt(bc[r]*bc[r]-bc[r-1]*bc[r-1]),t=Ac[(r-1)%Ac.length];this._blur(i,r-1,r,e,t)}e.autoClear=t}_blur(e,t,r,i,n){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",n),this._halfBlur(a,e,r,r,i,"longitudinal",n)}_halfBlur(e,t,r,i,n,a,s){var o=this._renderer,l=this._blurMaterial,h=("latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!"),new A(_c[i],l)),l=l.uniforms,c=wc[r]-1,c=isFinite(n)?Math.PI/(2*c):2*Math.PI/39,u=n/c,d=isFinite(n)?1+Math.floor(3*u):20,p=(20<d&&console.warn(`sigmaRadians, ${n}, is too large and will clip, as it requested ${d} samples when the maximum is set to 20`),[]);let m=0;for(let r=0;r<20;++r){let e=r/u,t=Math.exp(-e*e/2);p.push(t),0==r?m+=t:r<d&&(m+=2*t)}for(let e=0;e<p.length;e++)p[e]=p[e]/m;l.envMap.value=e.texture,l.samples.value=d,l.weights.value=p,l.latitudinal.value="latitudinal"===a,s&&(l.poleAxis.value=s),l.dTheta.value=c,l.mipInt.value=8-r,l.inputEncoding.value=gc[e.texture.encoding],l.outputEncoding.value=gc[e.texture.encoding];n=wc[i];Cc(t,3*Math.max(0,pc-2*n),(0===i?0:2*pc)+2*n*(4<i?i-8+4:0),3*n,2*n),o.setRenderTarget(t),o.render(h,xc)}},e.ParametricBufferGeometry=po,e.ParametricGeometry=po,e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ja(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new ws(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Es(e,t)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new ws(e)},e.Path=Sl,e.PerspectiveCamera=L,e.Plane=rr,e.PlaneBufferGeometry=yi,e.PlaneGeometry=yi,e.PlaneHelper=class extends gs{constructor(e,t=1,r=16776960){var i=new E,i=(i.setAttribute("position",new V([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),super(i,new g({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t,new E);i.setAttribute("position",new V([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),i.computeBoundingSphere(),this.add(new A(i,new _r({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}},e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Es(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new ws(e)},e.PointLight=Ol,e.PointLightHelper=class extends A{constructor(e,t,r){super(new go(t,4,2),new _r({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.light.updateMatrixWorld(),this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},e.Points=Es,e.PointsMaterial=ws,e.PolarGridHelper=class extends xs{constructor(n=10,a=16,i=8,s=64,o=4473924,l=8947848){o=new Re(o),l=new Re(l);var h=[],c=[];for(let i=0;i<=a;i++){let e=i/a*(2*Math.PI),t=Math.sin(e)*n,r=Math.cos(e)*n;h.push(0,0,0),h.push(t,0,r);var u=1&i?o:l;c.push(u.r,u.g,u.b),c.push(u.r,u.g,u.b)}for(let e=0;e<=i;e++){let t=1&e?o:l,r=n-n/i*e;for(let e=0;e<s;e++){var d=e/s*(2*Math.PI),p=Math.sin(d)*r,m=Math.cos(d)*r;h.push(p,0,m),c.push(t.r,t.g,t.b),d=(e+1)/s*(2*Math.PI),p=Math.sin(d)*r,m=Math.cos(d)*r,h.push(p,0,m),c.push(t.r,t.g,t.b)}}let e=new E;e.setAttribute("position",new V(h,3)),e.setAttribute("color",new V(c,3)),super(e,new g({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}},e.PolyhedronBufferGeometry=Bs,e.PolyhedronGeometry=Bs,e.PositionalAudio=class extends gh{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(vh,yh,xh),_h.set(0,0,1).applyQuaternion(yh);var t=this.panner;if(t.positionX){let e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(vh.x,e),t.positionY.linearRampToValueAtTime(vh.y,e),t.positionZ.linearRampToValueAtTime(vh.z,e),t.orientationX.linearRampToValueAtTime(_h.x,e),t.orientationY.linearRampToValueAtTime(_h.y,e),t.orientationZ.linearRampToValueAtTime(_h.z,e)}else t.setPosition(vh.x,vh.y,vh.z),t.setOrientation(_h.x,_h.y,_h.z)}}},e.PropertyBinding=_,e.PropertyMixer=bh,e.QuadraticBezierCurve=xl,e.QuadraticBezierCurve3=_l,e.Quaternion=p,e.QuaternionKeyframeTrack=Wo,e.QuaternionLinearInterpolant=Vo,e.REVISION=S,e.RGBADepthPacking=3201,e.RGBAFormat=Ie,e.RGBAIntegerFormat=1033,e.RGBA_ASTC_10x10_Format=37819,e.RGBA_ASTC_10x5_Format=37816,e.RGBA_ASTC_10x6_Format=37817,e.RGBA_ASTC_10x8_Format=37818,e.RGBA_ASTC_12x10_Format=37820,e.RGBA_ASTC_12x12_Format=37821,e.RGBA_ASTC_4x4_Format=37808,e.RGBA_ASTC_5x4_Format=37809,e.RGBA_ASTC_5x5_Format=37810,e.RGBA_ASTC_6x5_Format=37811,e.RGBA_ASTC_6x6_Format=37812,e.RGBA_ASTC_8x5_Format=37813,e.RGBA_ASTC_8x6_Format=37814,e.RGBA_ASTC_8x8_Format=37815,e.RGBA_BPTC_Format=36492,e.RGBA_ETC2_EAC_Format=le,e.RGBA_PVRTC_2BPPV1_Format=se,e.RGBA_PVRTC_4BPPV1_Format=ae,e.RGBA_S3TC_DXT1_Format=F,e.RGBA_S3TC_DXT3_Format=te,e.RGBA_S3TC_DXT5_Format=re,e.RGBDEncoding=be,e.RGBEEncoding=xe,e.RGBEFormat=1023,e.RGBFormat=K,e.RGBIntegerFormat=1032,e.RGBM16Encoding=we,e.RGBM7Encoding=_e,e.RGB_ETC1_Format=36196,e.RGB_ETC2_Format=oe,e.RGB_PVRTC_2BPPV1_Format=ne,e.RGB_PVRTC_4BPPV1_Format=ie,e.RGB_S3TC_DXT1_Format=z,e.RGFormat=1030,e.RGIntegerFormat=1031,e.RawShaderMaterial=To,e.Ray=Lt,e.Raycaster=class{constructor(e,t,r=0,i=1/0){this.ray=new Lt(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Ht,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!1,r=[]){return Hh(e,this,r,t),r.sort(Oh),r}intersectObjects(r,i=!1,n=[]){for(let e=0,t=r.length;e<t;e++)Hh(r[e],this,n,i);return n.sort(Oh),n}},e.RectAreaLight=Vl,e.RedFormat=1028,e.RedIntegerFormat=1029,e.ReinhardToneMapping=2,e.RepeatWrapping=G,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=102,e.RingBufferGeometry=mo,e.RingGeometry=mo,e.SRGB8_ALPHA8_ASTC_10x10_Format=37851,e.SRGB8_ALPHA8_ASTC_10x5_Format=37848,e.SRGB8_ALPHA8_ASTC_10x6_Format=37849,e.SRGB8_ALPHA8_ASTC_10x8_Format=37850,e.SRGB8_ALPHA8_ASTC_12x10_Format=37852,e.SRGB8_ALPHA8_ASTC_12x12_Format=37853,e.SRGB8_ALPHA8_ASTC_4x4_Format=37840,e.SRGB8_ALPHA8_ASTC_5x4_Format=37841,e.SRGB8_ALPHA8_ASTC_5x5_Format=37842,e.SRGB8_ALPHA8_ASTC_6x5_Format=37843,e.SRGB8_ALPHA8_ASTC_6x6_Format=37844,e.SRGB8_ALPHA8_ASTC_8x5_Format=37845,e.SRGB8_ALPHA8_ASTC_8x6_Format=37846,e.SRGB8_ALPHA8_ASTC_8x8_Format=37847,e.Scene=La,e.SceneUtils=Bc,e.ShaderChunk=M,e.ShaderLib=xi,e.ShaderMaterial=oi,e.ShadowMaterial=So,e.Shape=Tl,e.ShapeBufferGeometry=fo,e.ShapeGeometry=fo,e.ShapePath=th,e.ShapeUtils=no,e.ShortType=1011,e.Skeleton=as,e.SkeletonHelper=Jh,e.SkinnedMesh=ts,e.SmoothShading=2,e.Sphere=_t,e.SphereBufferGeometry=go,e.SphereGeometry=go,e.Spherical=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(m(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},e.SphericalHarmonics3=Wl,e.SplineCurve=wl,e.SpotLight=Il,e.SpotLightHelper=class extends u{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;var e=new E,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let r=0,i=1;r<32;r++,i++){let e=r/32*Math.PI*2,t=i/32*Math.PI*2;n.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}e.setAttribute("position",new V(n,3));let r=new g({fog:!1,toneMapped:!1});this.cone=new xs(e,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();var e=this.light.distance||1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),qh.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(qh),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},e.Sprite=ja,e.SpriteMaterial=Pa,e.SrcAlphaFactor=204,e.SrcAlphaSaturateFactor=210,e.SrcColorFactor=202,e.StaticCopyUsage=35046,e.StaticDrawUsage=Me,e.StaticReadUsage=35045,e.StereoCamera=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new L,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new L,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){var t,r,i,n,a,s=this._cache;s.focus===e.focus&&s.fov===e.fov&&s.aspect===e.aspect*this.aspect&&s.near===e.near&&s.far===e.far&&s.zoom===e.zoom&&s.eyeSep===this.eyeSep||(s.focus=e.focus,s.fov=e.fov,s.aspect=e.aspect*this.aspect,s.near=e.near,s.far=e.far,s.zoom=e.zoom,s.eyeSep=this.eyeSep,t=e.projectionMatrix.clone(),r=(n=s.eyeSep/2)*s.near/s.focus,i=s.near*Math.tan(Oe*s.fov*.5)/s.zoom,hh.elements[12]=-n,lh.elements[12]=n,n=-i*s.aspect+r,a=i*s.aspect+r,t.elements[0]=2*s.near/(a-n),t.elements[8]=(a+n)/(a-n),this.cameraL.projectionMatrix.copy(t),n=-i*s.aspect-r,a=i*s.aspect-r,t.elements[0]=2*s.near/(a-n),t.elements[8]=(a+n)/(a-n),this.cameraR.projectionMatrix.copy(t)),this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(hh),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(lh)}},e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=jo,e.SubtractEquation=101,e.SubtractiveBlending=3,e.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e.TangentSpaceNormalMap=0,e.TetrahedronBufferGeometry=vo,e.TetrahedronGeometry=vo,e.TextBufferGeometry=yo,e.TextGeometry=yo,e.Texture=c,e.TextureLoader=rl,e.TorusBufferGeometry=xo,e.TorusGeometry=xo,e.TorusKnotBufferGeometry=_o,e.TorusKnotGeometry=_o,e.Triangle=f,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=wo,e.TubeGeometry=wo,e.UVMapping=R,e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Er(e,t)},e.Uint16BufferAttribute=Er,e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Lr(e,t)},e.Uint32BufferAttribute=Lr,e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Mr(e,t)},e.Uint8BufferAttribute=Mr,e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Sr(e,t)},e.Uint8ClampedBufferAttribute=Sr,e.Uniform=Bh,e.UniformsLib=a,e.UniformsUtils=si,e.UnsignedByteType=Ce,e.UnsignedInt248Type=Q,e.UnsignedIntType=J,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedShortType=Z,e.VSMShadowMap=3,e.Vector2=Te,e.Vector3=Ae,e.Vector4=Ee,e.VectorKeyframeTrack=qo,e.Vertex=function(e,t,r){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Ae(e,t,r)},e.VertexColors=2,e.VideoTexture=Ls,e.WebGL1Renderer=Ta,e.WebGLCubeRenderTarget=ui,e.WebGLMultisampleRenderTarget=Ke,e.WebGLRenderTarget=Qe,e.WebGLRenderTargetCube=function(e,t,r){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ui(e,r)},e.WebGLRenderer=o,e.WebGLUtils=ya,e.WireframeGeometry=bo,e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new xs(new bo(e.geometry),new g({color:void 0!==t?t:16777215}))},e.WrapAroundEnding=me,e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new Ko(e)},e.ZeroCurvatureEnding=de,e.ZeroFactor=200,e.ZeroSlopeEnding=pe,e.ZeroStencilOp=0,e.sRGBEncoding=ve,Object.defineProperty(e,"__esModule",{value:!0})}); 
 !function(t){var e;"object"==typeof exports?module.exports=t():("undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.p2=t())}(function(){return function s(n,o,r){function a(e,t){if(!o[e]){if(!n[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);throw new Error("Cannot find module '"+e+"'")}t=o[e]={exports:{}};n[e][0].call(t.exports,function(t){return a(n[e][1][t]||t)},t,t.exports,s,n,o,r)}return o[e].exports}for(var h="function"==typeof require&&require,t=0;t<r.length;t++)a(r[t]);return a}({1:[function(t,e,i){var l=t("./Scalar");function s(){}(e.exports=s).lineInt=function(t,e,i){var s=[0,0],n=t[1][1]-t[0][1],o=t[0][0]-t[1][0],t=n*t[0][0]+o*t[0][1],r=e[1][1]-e[0][1],a=e[0][0]-e[1][0],e=r*e[0][0]+a*e[0][1],h=n*a-r*o;return l.eq(h,0,i=i||0)||(s[0]=(a*t-o*e)/h,s[1]=(n*e-r*t)/h),s},s.segmentsIntersect=function(t,e,i,s){var n,o=e[0]-t[0],e=e[1]-t[1],r=s[0]-i[0],s=s[1]-i[1];return r*e-s*o!=0&&(n=(r*(t[1]-i[1])+s*(i[0]-t[0]))/(s*o-r*e),0<=(t=(o*(i[1]-t[1])+e*(t[0]-i[0]))/(r*e-s*o)))&&t<=1&&0<=n&&n<=1}},{"./Scalar":4}],2:[function(t,e,i){function a(){}(e.exports=a).area=function(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])},a.left=function(t,e,i){return 0<a.area(t,e,i)},a.leftOn=function(t,e,i){return 0<=a.area(t,e,i)},a.right=function(t,e,i){return a.area(t,e,i)<0},a.rightOn=function(t,e,i){return a.area(t,e,i)<=0};var h=[],l=[];a.collinear=function(t,e,i,s){var n,o,r;return s?(r=l,(o=h)[0]=e[0]-t[0],o[1]=e[1]-t[1],r[0]=i[0]-e[0],r[1]=i[1]-e[1],n=o[0]*r[0]+o[1]*r[1],o=Math.sqrt(o[0]*o[0]+o[1]*o[1]),r=Math.sqrt(r[0]*r[0]+r[1]*r[1]),Math.acos(n/(o*r))<s):0==a.area(t,e,i)},a.sqdist=function(t,e){var i=e[0]-t[0],e=e[1]-t[1];return i*i+e*e}},{}],3:[function(t,e,i){var a=t("./Line"),w=t("./Point"),h=t("./Scalar");function T(){this.vertices=[]}(e.exports=T).prototype.at=function(t){var e=this.vertices,i=e.length;return e[t<0?t%i+i:t%i]},T.prototype.first=function(){return this.vertices[0]},T.prototype.last=function(){return this.vertices[this.vertices.length-1]},T.prototype.clear=function(){this.vertices.length=0},T.prototype.append=function(t,e,i){if(void 0===e)throw new Error("From is not given!");if(void 0===i)throw new Error("To is not given!");if(i-1<e)throw new Error("lol1");if(i>t.vertices.length)throw new Error("lol2");if(e<0)throw new Error("lol3");for(var s=e;s<i;s++)this.vertices.push(t.vertices[s])},T.prototype.makeCCW=function(){for(var t=0,e=this.vertices,i=1;i<this.vertices.length;++i)(e[i][1]<e[t][1]||e[i][1]==e[t][1]&&e[i][0]>e[t][0])&&(t=i);w.left(this.at(t-1),this.at(t),this.at(t+1))||this.reverse()},T.prototype.reverse=function(){for(var t=[],e=0,i=this.vertices.length;e!==i;e++)t.push(this.vertices.pop());this.vertices=t},T.prototype.isReflex=function(t){return w.right(this.at(t-1),this.at(t),this.at(t+1))};var l=[],c=[];function P(t,e,i,s,n){var o=e[1]-t[1],e=t[0]-e[0],t=o*t[0]+e*t[1],r=s[1]-i[1],s=i[0]-s[0],i=r*i[0]+s*i[1],a=o*s-r*e;return h.eq(a,0,n=n||0)?[0,0]:[(s*t-e*i)/a,(o*i-r*t)/a]}T.prototype.canSee=function(t,e){var i,s=l,n=c;if(w.leftOn(this.at(t+1),this.at(t),this.at(e))&&w.rightOn(this.at(t-1),this.at(t),this.at(e)))return!1;for(var o=w.sqdist(this.at(t),this.at(e)),r=0;r!==this.vertices.length;++r)if((r+1)%this.vertices.length!==t&&r!==t&&w.leftOn(this.at(t),this.at(e),this.at(r+1))&&w.rightOn(this.at(t),this.at(e),this.at(r))&&(s[0]=this.at(t),s[1]=this.at(e),n[0]=this.at(r),n[1]=this.at(r+1),i=a.lineInt(s,n),w.sqdist(this.at(t),i)<o))return!1;return!0},T.prototype.copy=function(t,e,i){var s=i||new T;if(s.clear(),t<e)for(var n=t;n<=e;n++)s.vertices.push(this.vertices[n]);else{for(n=0;n<=e;n++)s.vertices.push(this.vertices[n]);for(n=t;n<this.vertices.length;n++)s.vertices.push(this.vertices[n])}return s},T.prototype.getCutEdges=function(){for(var t=[],e=[],i=new T,s=Number.MAX_VALUE,n=0;n<this.vertices.length;++n)if(this.isReflex(n))for(var o=0;o<this.vertices.length;++o)if(this.canSee(n,o)){for(var e=this.copy(n,o,i).getCutEdges(),r=this.copy(o,n,i).getCutEdges(),a=0;a<r.length;a++)e.push(r[a]);e.length<s&&(s=(t=e).length,t.push([this.at(n),this.at(o)]))}return t},T.prototype.decomp=function(){var t=this.getCutEdges();return 0<t.length?this.slice(t):[this]},T.prototype.slice=function(t){if(0==t.length)return[this];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2==t[0].length&&t[0][0]instanceof Array){for(var e=[this],i=0;i<t.length;i++)for(var s=t[i],n=0;n<e.length;n++){var o=e[n].slice(s);if(o){e.splice(n,1),e.push(o[0],o[1]);break}}return e}return i=this.vertices.indexOf((s=t)[0]),n=this.vertices.indexOf(s[1]),-1!=i&&-1!=n&&[this.copy(i,n),this.copy(n,i)]},T.prototype.isSimple=function(){for(var t=this.vertices,e=0;e<t.length-1;e++)for(var i=0;i<e-1;i++)if(a.segmentsIntersect(t[e],t[e+1],t[i],t[i+1]))return!1;for(e=1;e<t.length-2;e++)if(a.segmentsIntersect(t[0],t[t.length-1],t[e],t[e+1]))return!1;return!0},T.prototype.quickDecomp=function(t,e,i,s,n,o){n=n||100,o=o||0,s=s||25,t=void 0!==t?t:[],e=e||[],i=i||[];var r=[0,0],a=[0,0],h=[0,0],l=0,c=0,u=0,d=0,p=0,f=0,g=0,m=new T,y=new T,v=this,x=this.vertices;if(!(x.length<3))if(n<++o)console.warn("quickDecomp: max level ("+n+") reached.");else{for(var b=0;b<this.vertices.length;++b)if(v.isReflex(b)){e.push(v.vertices[b]);for(var l=c=Number.MAX_VALUE,_=0;_<this.vertices.length;++_)w.left(v.at(b-1),v.at(b),v.at(_))&&w.rightOn(v.at(b-1),v.at(b),v.at(_-1))&&(h=P(v.at(b-1),v.at(b),v.at(_),v.at(_-1)),w.right(v.at(b+1),v.at(b),h))&&(u=w.sqdist(v.vertices[b],h))<c&&(c=u,a=h,f=_),w.left(v.at(b+1),v.at(b),v.at(_+1))&&w.rightOn(v.at(b+1),v.at(b),v.at(_))&&(h=P(v.at(b+1),v.at(b),v.at(_),v.at(_+1)),w.left(v.at(b-1),v.at(b),h))&&(u=w.sqdist(v.vertices[b],h))<l&&(l=u,r=h,p=_);if(f==(p+1)%this.vertices.length)h[0]=(a[0]+r[0])/2,h[1]=(a[1]+r[1])/2,i.push(h),b<p?(m.append(v,b,p+1),m.vertices.push(h),y.vertices.push(h),0!=f&&y.append(v,f,v.vertices.length),y.append(v,0,b+1)):(0!=b&&m.append(v,b,v.vertices.length),m.append(v,0,p+1),m.vertices.push(h),y.vertices.push(h),y.append(v,f,b+1));else{if(p<f&&(p+=this.vertices.length),d=Number.MAX_VALUE,p<f)return t;for(_=f;_<=p;++_)w.leftOn(v.at(b-1),v.at(b),v.at(_))&&w.rightOn(v.at(b+1),v.at(b),v.at(_))&&(u=w.sqdist(v.at(b),v.at(_)))<d&&(d=u,g=_%this.vertices.length);b<g?(m.append(v,b,g+1),0!=g&&y.append(v,g,x.length),y.append(v,0,b+1)):(0!=b&&m.append(v,b,x.length),m.append(v,0,g+1),y.append(v,g,b+1))}return(m.vertices.length<y.vertices.length?(m.quickDecomp(t,e,i,s,n,o),y):(y.quickDecomp(t,e,i,s,n,o),m)).quickDecomp(t,e,i,s,n,o),t}t.push(this)}return t},T.prototype.removeCollinearPoints=function(t){for(var e=0,i=this.vertices.length-1;3<this.vertices.length&&0<=i;--i)w.collinear(this.at(i-1),this.at(i),this.at(i+1),t)&&(this.vertices.splice(i%this.vertices.length,1),i--,e++);return e}},{"./Line":1,"./Point":2,"./Scalar":4}],4:[function(t,e,i){(e.exports=function(){}).eq=function(t,e,i){return i=i||0,Math.abs(t-e)<i}},{}],5:[function(t,e,i){e.exports={Polygon:t("./Polygon"),Point:t("./Point")}},{"./Point":2,"./Polygon":3}],6:[function(t,e,i){e.exports={name:"p2",version:"0.7.1",description:"A JavaScript 2D physics engine.",author:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.1"}}},{}],7:[function(t,e,i){var p=t("../math/vec2");function s(t){this.lowerBound=p.create(),t&&t.lowerBound&&p.copy(this.lowerBound,t.lowerBound),this.upperBound=p.create(),t&&t.upperBound&&p.copy(this.upperBound,t.upperBound)}t("../utils/Utils"),e.exports=s;var f=p.create();s.prototype.setFromPoints=function(t,e,i,s){var n=this.lowerBound,o=this.upperBound;0!==(i="number"!=typeof i?0:i)?p.rotate(n,t[0],i):p.copy(n,t[0]),p.copy(o,n);for(var r=Math.cos(i),a=Math.sin(i),h=1;h<t.length;h++){var l,c,u=t[h];0!==i&&(l=u[0],f[0]=r*l-a*(c=u[1]),f[1]=a*l+r*c,u=f);for(var d=0;d<2;d++)u[d]>o[d]&&(o[d]=u[d]),u[d]<n[d]&&(n[d]=u[d])}e&&(p.add(this.lowerBound,this.lowerBound,e),p.add(this.upperBound,this.upperBound,e)),s&&(this.lowerBound[0]-=s,this.lowerBound[1]-=s,this.upperBound[0]+=s,this.upperBound[1]+=s)},s.prototype.copy=function(t){p.copy(this.lowerBound,t.lowerBound),p.copy(this.upperBound,t.upperBound)},s.prototype.extend=function(t){for(var e=2;e--;){var i=t.lowerBound[e],i=(this.lowerBound[e]>i&&(this.lowerBound[e]=i),t.upperBound[e]);this.upperBound[e]<i&&(this.upperBound[e]=i)}},s.prototype.overlaps=function(t){var e=this.lowerBound,i=this.upperBound,s=t.lowerBound,t=t.upperBound;return(s[0]<=i[0]&&i[0]<=t[0]||e[0]<=t[0]&&t[0]<=i[0])&&(s[1]<=i[1]&&i[1]<=t[1]||e[1]<=t[1]&&t[1]<=i[1])},s.prototype.containsPoint=function(t){var e=this.lowerBound,i=this.upperBound;return e[0]<=t[0]&&t[0]<=i[0]&&e[1]<=t[1]&&t[1]<=i[1]},s.prototype.overlapsRay=function(t){var e=1/t.direction[0],i=1/t.direction[1],s=(this.lowerBound[0]-t.from[0])*e,e=(this.upperBound[0]-t.from[0])*e,n=(this.lowerBound[1]-t.from[1])*i,t=(this.upperBound[1]-t.from[1])*i,i=Math.max(Math.max(Math.min(s,e),Math.min(n,t))),s=Math.min(Math.min(Math.max(s,e),Math.max(n,t)));return s<0||s<i?-1:i}},{"../math/vec2":30,"../utils/Utils":57}],8:[function(t,e,i){var s=t("../math/vec2"),n=t("../objects/Body");function o(t){this.type=t,this.result=[],this.world=null,this.boundingVolumeType=o.AABB}(e.exports=o).AABB=1,o.BOUNDING_CIRCLE=2,o.prototype.setWorld=function(t){this.world=t},o.prototype.getCollisionPairs=function(t){};var r=s.create();o.boundingRadiusCheck=function(t,e){s.sub(r,t.position,e.position);var i=s.squaredLength(r),t=t.boundingRadius+e.boundingRadius;return i<=t*t},o.aabbCheck=function(t,e){return t.getAABB().overlaps(e.getAABB())},o.prototype.boundingVolumeCheck=function(t,e){var i;switch(this.boundingVolumeType){case o.BOUNDING_CIRCLE:i=o.boundingRadiusCheck(t,e);break;case o.AABB:i=o.aabbCheck(t,e);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return i},o.canCollide=function(t,e){var i=n.KINEMATIC,s=n.STATIC;return!(t.type===s&&e.type===s||t.type===i&&e.type===s||t.type===s&&e.type===i||t.type===i&&e.type===i||t.sleepState===n.SLEEPING&&e.sleepState===n.SLEEPING||t.sleepState===n.SLEEPING&&e.type===s||e.sleepState===n.SLEEPING&&t.type===s)},o.NAIVE=1,o.SAP=2},{"../math/vec2":30,"../objects/Body":31}],9:[function(t,e,i){t("../shapes/Circle"),t("../shapes/Plane"),t("../shapes/Shape"),t("../shapes/Particle");var h=t("../collision/Broadphase");function s(){h.call(this,h.NAIVE)}t("../math/vec2"),(((e.exports=s).prototype=new h).constructor=s).prototype.getCollisionPairs=function(t){for(var e=t.bodies,i=this.result,s=i.length=0,n=e.length;s!==n;s++)for(var o=e[s],r=0;r<s;r++){var a=e[r];h.canCollide(o,a)&&this.boundingVolumeCheck(o,a)&&i.push(o,a)}return i},s.prototype.aabbQuery=function(t,e,i){i=i||[];for(var s=t.bodies,n=0;n<s.length;n++){var o=s[n];o.aabbNeedsUpdate&&o.updateAABB(),o.aabb.overlaps(e)&&i.push(o)}return i}},{"../collision/Broadphase":8,"../math/vec2":30,"../shapes/Circle":39,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45}],10:[function(t,e,l){var N=t("../math/vec2"),X=N.sub,W=N.add,j=N.dot,i=(t("../utils/Utils"),t("../utils/ContactEquationPool")),s=t("../utils/FrictionEquationPool"),n=t("../utils/TupleDictionary"),o=t("../equations/Equation"),r=(t("../equations/ContactEquation"),t("../equations/FrictionEquation"),t("../shapes/Circle")),a=t("../shapes/Convex"),h=t("../shapes/Shape"),T=(t("../objects/Body"),t("../shapes/Box")),P=(e.exports=Z,N.fromValues(0,1)),V=N.fromValues(0,0),H=N.fromValues(0,0),q=N.fromValues(0,0),Y=N.fromValues(0,0),z=N.fromValues(0,0),R=N.fromValues(0,0),K=N.fromValues(0,0),J=N.fromValues(0,0),Q=N.fromValues(0,0),L=N.fromValues(0,0),B=N.fromValues(0,0),I=N.fromValues(0,0),O=N.fromValues(0,0),k=N.fromValues(0,0),M=N.fromValues(0,0),F=N.fromValues(0,0),S=N.fromValues(0,0),A=N.fromValues(0,0),D=[];function Z(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new i({size:32}),this.frictionEquationPool=new s({size:64}),this.restitution=0,this.stiffness=o.DEFAULT_STIFFNESS,this.relaxation=o.DEFAULT_RELAXATION,this.frictionStiffness=o.DEFAULT_STIFFNESS,this.frictionRelaxation=o.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new n,this.contactSkinSize=.01}var c=N.create(),u=N.create();function v(t,e){N.set(t.vertices[0],.5*-e.length,-e.radius),N.set(t.vertices[1],.5*e.length,-e.radius),N.set(t.vertices[2],.5*e.length,e.radius),N.set(t.vertices[3],.5*-e.length,e.radius)}Z.prototype.bodiesOverlap=function(t,e){for(var i=c,s=u,n=0,o=t.shapes.length;n!==o;n++){var r=t.shapes[n];t.toWorldFrame(i,r.position);for(var a=0,h=e.shapes.length;a!==h;a++){var l=e.shapes[a];if(e.toWorldFrame(s,l.position),this[r.type|l.type](t,r,i,r.angle+t.angle,e,l,s,l.angle+e.angle,!0))return!0}}return!1},Z.prototype.collidedLastStep=function(t,e){t=0|t.id,e=0|e.id;return!!this.collidingBodiesLastStep.get(t,e)},Z.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var t=this.contactEquations,e=t.length;e--;){var i=t[e],s=i.bodyA.id,i=i.bodyB.id;this.collidingBodiesLastStep.set(s,i,!0)}for(var n=this.contactEquations,o=this.frictionEquations,r=0;r<n.length;r++)this.contactEquationPool.release(n[r]);for(r=0;r<o.length;r++)this.frictionEquationPool.release(o[r]);this.contactEquations.length=this.frictionEquations.length=0},Z.prototype.createContactEquation=function(t,e,i,s){var n=this.contactEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=i,n.shapeB=s,n.restitution=this.restitution,n.firstImpact=!this.collidedLastStep(t,e),n.stiffness=this.stiffness,n.relaxation=this.relaxation,n.needsUpdate=!0,n.enabled=this.enabledEquations,n.offset=this.contactSkinSize,n},Z.prototype.createFrictionEquation=function(t,e,i,s){var n=this.frictionEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=i,n.shapeB=s,n.setSlipForce(this.slipForce),n.frictionCoefficient=this.frictionCoefficient,n.relativeVelocity=this.surfaceVelocity,n.enabled=this.enabledEquations,n.needsUpdate=!0,n.stiffness=this.frictionStiffness,n.relaxation=this.frictionRelaxation,n.contactEquations.length=0,n},Z.prototype.createFrictionFromContact=function(t){var e=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB);return N.copy(e.contactPointA,t.contactPointA),N.copy(e.contactPointB,t.contactPointB),N.rotate90cw(e.t,t.normalA),e.contactEquations.push(t),e},Z.prototype.createFrictionFromAverage=function(t){var e=this.contactEquations[this.contactEquations.length-1],i=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB),s=e.bodyA;e.bodyB,N.set(i.contactPointA,0,0),N.set(i.contactPointB,0,0),N.set(i.t,0,0);for(var n=0;n!==t;n++)(e=this.contactEquations[this.contactEquations.length-1-n]).bodyA===s?(N.add(i.t,i.t,e.normalA),N.add(i.contactPointA,i.contactPointA,e.contactPointA),N.add(i.contactPointB,i.contactPointB,e.contactPointB)):(N.sub(i.t,i.t,e.normalA),N.add(i.contactPointA,i.contactPointA,e.contactPointB),N.add(i.contactPointB,i.contactPointB,e.contactPointA)),i.contactEquations.push(e);var o=1/t;return N.scale(i.contactPointA,i.contactPointA,o),N.scale(i.contactPointB,i.contactPointB,o),N.normalize(i.t,i.t),N.rotate90cw(i.t,i.t),i},Z.prototype[h.LINE|h.CONVEX]=Z.prototype.convexLine=function(t,e,i,s,n,o,r,a,h){return!h&&0},Z.prototype[h.LINE|h.BOX]=Z.prototype.lineBox=function(t,e,i,s,n,o,r,a,h){return!h&&0};var d=new T({width:1,height:1}),p=N.create(),x=(Z.prototype[h.CAPSULE|h.CONVEX]=Z.prototype[h.CAPSULE|h.BOX]=Z.prototype.convexCapsule=function(t,e,i,s,n,o,r,a,h){var l,c=p,u=(N.set(c,o.length/2,0),N.rotate(c,c,a),N.add(c,c,r),this.circleConvex(n,o,c,a,t,e,i,s,h,o.radius)),c=(N.set(c,-o.length/2,0),N.rotate(c,c,a),N.add(c,c,r),this.circleConvex(n,o,c,a,t,e,i,s,h,o.radius));return!(!h||!u&&!c)||(v(l=d,o),this.convexConvex(t,e,i,s,n,l,r,a,h)+u+c)},Z.prototype[h.CAPSULE|h.LINE]=Z.prototype.lineCapsule=function(t,e,i,s,n,o,r,a,h){return!h&&0},N.create()),b=N.create(),_=new T({width:1,height:1}),f=(Z.prototype[h.CAPSULE|h.CAPSULE]=Z.prototype.capsuleCapsule=function(t,e,i,s,n,o,r,a,h){for(var l=x,c=b,u=0,d=0;d<2;d++){N.set(l,(0===d?-1:1)*e.length/2,0),N.rotate(l,l,s),N.add(l,l,i);for(var p=0;p<2;p++){N.set(c,(0===p?-1:1)*o.length/2,0),N.rotate(c,c,a),N.add(c,c,r),this.enableFrictionReduction&&(g=this.enableFriction,this.enableFriction=!1);var f=this.circleCircle(t,e,l,s,n,o,c,a,h,e.radius,o.radius);if(this.enableFrictionReduction&&(this.enableFriction=g),h&&f)return!0;u+=f}}this.enableFrictionReduction&&(g=this.enableFriction,this.enableFriction=!1);var g,m=_,y=(v(m,e),this.convexCapsule(t,m,i,s,n,o,r,a,h));if(this.enableFrictionReduction&&(this.enableFriction=g),h&&y)return!0;u+=y,this.enableFrictionReduction&&(g=this.enableFriction,this.enableFriction=!1),v(m,o);y=this.convexCapsule(n,m,r,a,t,e,i,s,h);return this.enableFrictionReduction&&(this.enableFriction=g),!(!h||!y)||(u+=y,this.enableFrictionReduction&&u&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(u)),u)},Z.prototype[h.LINE|h.LINE]=Z.prototype.lineLine=function(t,e,i,s,n,o,r,a,h){return!h&&0},Z.prototype[h.PLANE|h.LINE]=Z.prototype.planeLine=function(t,e,i,s,n,o,r,a,h){var l=V,c=H,u=q,d=Y,p=z,f=R,g=K,m=J,y=Q,v=D,x=0;N.set(l,-o.length/2,0),N.set(c,o.length/2,0),N.rotate(u,l,a),N.rotate(d,c,a),W(u,u,r),W(d,d,r),N.copy(l,u),N.copy(c,d),X(p,c,l),N.normalize(f,p),N.rotate90cw(y,f),N.rotate(m,P,s),v[0]=l,v[1]=c;for(var b=0;b<v.length;b++){var _=v[b],w=(X(g,_,i),j(g,m));if(w<0){if(h)return!0;var T=this.createContactEquation(t,n,e,o);x++,N.copy(T.normalA,m),N.normalize(T.normalA,T.normalA),N.scale(g,m,w),X(T.contactPointA,_,g),X(T.contactPointA,T.contactPointA,t.position),X(T.contactPointB,_,r),W(T.contactPointB,T.contactPointB,r),X(T.contactPointB,T.contactPointB,n.position),this.contactEquations.push(T),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(T))}}return!h&&(this.enableFrictionReduction||x&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(x)),x)},Z.prototype[h.PARTICLE|h.CAPSULE]=Z.prototype.particleCapsule=function(t,e,i,s,n,o,r,a,h){return this.circleLine(t,e,i,s,n,o,r,a,h,o.radius,0)},Z.prototype[h.CIRCLE|h.LINE]=Z.prototype.circleLine=function(t,e,i,s,n,o,r,a,h,l,c){l=l||0,c=void 0!==c?c:e.radius;var u=V,d=H,p=q,f=Y,g=z,m=R,y=K,v=J,x=Q,b=L,_=B,w=I,T=O,P=k,C=D,a=(N.set(v,-o.length/2,0),N.set(x,o.length/2,0),N.rotate(b,v,a),N.rotate(_,x,a),W(b,b,r),W(_,_,r),N.copy(v,b),N.copy(x,_),X(m,x,v),N.normalize(y,m),N.rotate90cw(g,y),X(w,i,v),j(w,g)),S=(X(f,v,r),X(T,i,r),c+l);if(Math.abs(a)<S){N.scale(u,g,a),X(p,i,u),N.scale(d,g,j(g,T)),N.normalize(d,d),N.scale(d,d,l),W(p,p,d);var A,b=j(y,p),_=j(y,v),m=j(y,x);if(_<b&&b<m)return!!h||(A=this.createContactEquation(t,n,e,o),N.scale(A.normalA,u,-1),N.normalize(A.normalA,A.normalA),N.scale(A.contactPointA,A.normalA,c),W(A.contactPointA,A.contactPointA,i),X(A.contactPointA,A.contactPointA,t.position),X(A.contactPointB,p,r),W(A.contactPointB,A.contactPointB,r),X(A.contactPointB,A.contactPointB,n.position),this.contactEquations.push(A),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(A)),1)}C[0]=v,C[1]=x;for(var E=0;E<C.length;E++){var M=C[E];if(X(w,M,i),N.squaredLength(w)<Math.pow(S,2))return!!h||(A=this.createContactEquation(t,n,e,o),N.copy(A.normalA,w),N.normalize(A.normalA,A.normalA),N.scale(A.contactPointA,A.normalA,c),W(A.contactPointA,A.contactPointA,i),X(A.contactPointA,A.contactPointA,t.position),X(A.contactPointB,M,r),N.scale(P,A.normalA,-l),W(A.contactPointB,A.contactPointB,P),W(A.contactPointB,A.contactPointB,r),X(A.contactPointB,A.contactPointB,n.position),this.contactEquations.push(A),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(A)),1)}return 0},Z.prototype[h.CIRCLE|h.CAPSULE]=Z.prototype.circleCapsule=function(t,e,i,s,n,o,r,a,h){return this.circleLine(t,e,i,s,n,o,r,a,h,o.radius)},Z.prototype[h.CIRCLE|h.CONVEX]=Z.prototype[h.CIRCLE|h.BOX]=Z.prototype.circleConvex=function(t,e,i,s,n,o,r,a,h,l){l="number"==typeof l?l:e.radius;for(var c,u=V,d=H,p=q,f=Y,g=z,m=L,y=B,v=O,x=k,b=M,_=F,w=!1,T=Number.MAX_VALUE,P=o.vertices,C=0;C!==P.length+1;C++){var S=P[C%P.length],A=P[(C+1)%P.length];N.rotate(u,S,a),N.rotate(d,A,a),W(u,u,r),W(d,d,r),X(p,d,u),N.normalize(f,p),N.rotate90cw(g,f),N.scale(x,g,-e.radius),W(x,x,i),U(x,o,r,a)&&(N.sub(b,u,x),(S=Math.abs(N.dot(b,g)))<T)&&(N.copy(_,x),N.scale(v,g,T=S),N.add(v,v,x),w=!0)}if(w)return!!h||(c=this.createContactEquation(t,n,e,o),N.sub(c.normalA,_,i),N.normalize(c.normalA,c.normalA),N.scale(c.contactPointA,c.normalA,l),W(c.contactPointA,c.contactPointA,i),X(c.contactPointA,c.contactPointA,t.position),X(c.contactPointB,v,r),W(c.contactPointB,c.contactPointB,r),X(c.contactPointB,c.contactPointB,n.position),this.contactEquations.push(c),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(c)),1);if(0<l)for(C=0;C<P.length;C++){var E=P[C];if(N.rotate(y,E,a),W(y,y,r),X(m,y,i),N.squaredLength(m)<Math.pow(l,2))return!!h||(c=this.createContactEquation(t,n,e,o),N.copy(c.normalA,m),N.normalize(c.normalA,c.normalA),N.scale(c.contactPointA,c.normalA,l),W(c.contactPointA,c.contactPointA,i),X(c.contactPointA,c.contactPointA,t.position),X(c.contactPointB,y,r),W(c.contactPointB,c.contactPointB,r),X(c.contactPointB,c.contactPointB,n.position),this.contactEquations.push(c),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(c)),1)}return 0},N.create()),g=N.create(),m=N.create(),y=N.create();function U(t,e,i,s){for(var n=f,o=g,r=m,a=y,h=t,l=e.vertices,c=null,u=0;u!==l.length+1;u++){var d=l[u%l.length],p=l[(u+1)%l.length],d=(N.rotate(n,d,s),N.rotate(o,p,s),W(n,n,i),W(o,o,i),X(r,n,h),X(a,o,h),N.crossLength(r,a));if(d*(c=null===c?d:c)<=0)return;c=d}return 1}Z.prototype[h.PARTICLE|h.CONVEX]=Z.prototype[h.PARTICLE|h.BOX]=Z.prototype.particleConvex=function(t,e,i,s,n,o,r,a,h){var l=V,c=H,u=q,d=Y,p=z,f=R,g=K,m=L,y=O,v=S,x=A,b=Number.MAX_VALUE,_=!1,w=o.vertices;if(!U(i,o,r,a))return 0;if(h)return!0;for(var T=0;T!==w.length+1;T++){var P=w[T%w.length],C=w[(T+1)%w.length],P=(N.rotate(l,P,a),N.rotate(c,C,a),W(l,l,r),W(c,c,r),X(u,c,l),N.normalize(d,u),N.rotate90cw(p,d),X(m,i,l),j(m,p),X(f,l,r),X(g,i,r),N.sub(v,l,i),Math.abs(N.dot(v,p)));P<b&&(N.scale(y,p,b=P),N.add(y,y,i),N.copy(x,p),_=!0)}return _?(h=this.createContactEquation(t,n,e,o),N.scale(h.normalA,x,-1),N.normalize(h.normalA,h.normalA),N.set(h.contactPointA,0,0),W(h.contactPointA,h.contactPointA,i),X(h.contactPointA,h.contactPointA,t.position),X(h.contactPointB,y,r),W(h.contactPointB,h.contactPointB,r),X(h.contactPointB,h.contactPointB,n.position),this.contactEquations.push(h),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(h)),1):0},Z.prototype[h.CIRCLE]=Z.prototype.circleCircle=function(t,e,i,s,n,o,r,a,h,l,c){var u=V,d=(l=l||e.radius,c=c||o.radius,X(u,i,r),l+c);return N.squaredLength(u)>Math.pow(d,2)?0:!!h||(u=this.createContactEquation(t,n,e,o),X(u.normalA,r,i),N.normalize(u.normalA,u.normalA),N.scale(u.contactPointA,u.normalA,l),N.scale(u.contactPointB,u.normalA,-c),W(u.contactPointA,u.contactPointA,i),X(u.contactPointA,u.contactPointA,t.position),W(u.contactPointB,u.contactPointB,r),X(u.contactPointB,u.contactPointB,n.position),this.contactEquations.push(u),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(u)),1)},Z.prototype[h.PLANE|h.CONVEX]=Z.prototype[h.PLANE|h.BOX]=Z.prototype.planeConvex=function(t,e,i,s,n,o,r,a,h){var l=V,c=H,u=q,d=0;N.rotate(c,P,s);for(var p=0;p!==o.vertices.length;p++){var f=o.vertices[p];if(N.rotate(l,f,a),W(l,l,r),X(u,l,i),j(u,c)<=0){if(h)return!0;d++;var f=this.createContactEquation(t,n,e,o),g=(X(u,l,i),N.copy(f.normalA,c),j(u,f.normalA));N.scale(u,f.normalA,g),X(f.contactPointB,l,n.position),X(f.contactPointA,l,u),X(f.contactPointA,f.contactPointA,t.position),this.contactEquations.push(f),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(f))}}return this.enableFrictionReduction&&this.enableFriction&&d&&this.frictionEquations.push(this.createFrictionFromAverage(d)),d},Z.prototype[h.PARTICLE|h.PLANE]=Z.prototype.particlePlane=function(t,e,i,s,n,o,r,a,h){var l=V,c=H,r=(a=a||0,X(l,i,r),N.rotate(c,P,a),j(l,c));return 0<r?0:!!h||(a=this.createContactEquation(n,t,o,e),N.copy(a.normalA,c),N.scale(l,a.normalA,r),X(a.contactPointA,i,l),X(a.contactPointA,a.contactPointA,n.position),X(a.contactPointB,i,t.position),this.contactEquations.push(a),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(a)),1)},Z.prototype[h.CIRCLE|h.PARTICLE]=Z.prototype.circleParticle=function(t,e,i,s,n,o,r,a,h){var l=V;return X(l,r,i),N.squaredLength(l)>Math.pow(e.radius,2)?0:!!h||(h=this.createContactEquation(t,n,e,o),N.copy(h.normalA,l),N.normalize(h.normalA,h.normalA),N.scale(h.contactPointA,h.normalA,e.radius),W(h.contactPointA,h.contactPointA,i),X(h.contactPointA,h.contactPointA,t.position),X(h.contactPointB,r,n.position),this.contactEquations.push(h),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(h)),1)};var w=new r({radius:1}),C=N.create(),E=N.create(),G=(N.create(),Z.prototype[h.PLANE|h.CAPSULE]=Z.prototype.planeCapsule=function(t,e,i,s,n,o,r,a,h){var l,c=C,u=E,d=w,a=(N.set(c,-o.length/2,0),N.rotate(c,c,a),W(c,c,r),N.set(u,o.length/2,0),N.rotate(u,u,a),W(u,u,r),d.radius=o.radius,this.enableFrictionReduction&&(l=this.enableFriction,this.enableFriction=!1),this.circlePlane(n,d,c,0,t,e,i,s,h)),r=this.circlePlane(n,d,u,0,t,e,i,s,h);return this.enableFrictionReduction&&(this.enableFriction=l),h?a||r:(o=a+r,this.enableFrictionReduction&&o&&this.frictionEquations.push(this.createFrictionFromAverage(o)),o)},Z.prototype[h.CIRCLE|h.PLANE]=Z.prototype.circlePlane=function(t,e,i,s,n,o,r,a,h){var l=e,a=a||0,c=V,u=H,d=q,a=(X(c,i,r),N.rotate(u,P,a),j(u,c));return a>l.radius?0:!!h||(h=this.createContactEquation(n,t,o,e),N.copy(h.normalA,u),N.scale(h.contactPointB,h.normalA,-l.radius),W(h.contactPointB,h.contactPointB,i),X(h.contactPointB,h.contactPointB,t.position),N.scale(d,h.normalA,a),X(h.contactPointA,c,d),W(h.contactPointA,h.contactPointA,r),X(h.contactPointA,h.contactPointA,n.position),this.contactEquations.push(h),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(h)),1)},Z.prototype[h.CONVEX]=Z.prototype[h.CONVEX|h.BOX]=Z.prototype[h.BOX]=Z.prototype.convexConvex=function(F,t,e,i,D,s,n,o,U,r){var a=V,h=H,l=q,c=Y,u=z,d=K,p=J,f=Q,g=0;if(r="number"==typeof r?r:0,!Z.findSeparatingAxis(t,e,i,s,n,o,a))return 0;X(p,n,e),0<j(a,p)&&N.scale(a,a,-1);var m=Z.getClosestEdge(t,i,a,!0),y=Z.getClosestEdge(s,o,a);if(-1===m||-1===y)return 0;for(var v=0;v<2;v++){var x,b=m,_=y,w=t,T=s,P=e,C=n,S=i,A=o,E=F,M=D;0===v&&(x=b,b=_,_=x,x=w,w=T,T=x,x=P,P=C,C=x,x=S,S=o,A=x,x=E,E=M,M=x);for(var R=_;R<_+2;R++){var L=T.vertices[(R+T.vertices.length)%T.vertices.length];N.rotate(h,L,A),W(h,h,C);for(var G=0,B=b-1;B<b+2;B++){var I=w.vertices[(B+w.vertices.length)%w.vertices.length],O=w.vertices[(B+1+w.vertices.length)%w.vertices.length],k=(N.rotate(l,I,S),N.rotate(c,O,S),W(l,l,P),W(c,c,P),X(u,c,l),N.rotate90cw(f,u),N.normalize(f,f),X(p,h,l),j(f,p));(B===b&&k<=r||B!==b&&k<=0)&&G++}if(3<=G){if(U)return!0;L=this.createContactEquation(E,M,w,T);g++,I=w.vertices[b%w.vertices.length],O=w.vertices[(b+1)%w.vertices.length],N.rotate(l,I,S),N.rotate(c,O,S),W(l,l,P),W(c,c,P),X(u,c,l),N.rotate90cw(L.normalA,u),N.normalize(L.normalA,L.normalA),X(p,h,l),k=j(L.normalA,p),N.scale(d,L.normalA,k),X(L.contactPointA,h,P),X(L.contactPointA,L.contactPointA,d),W(L.contactPointA,L.contactPointA,P),X(L.contactPointA,L.contactPointA,E.position),X(L.contactPointB,h,C),W(L.contactPointB,L.contactPointB,C),X(L.contactPointB,L.contactPointB,M.position),this.contactEquations.push(L),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(L))}}}return this.enableFrictionReduction&&this.enableFriction&&g&&this.frictionEquations.push(this.createFrictionFromAverage(g)),g},N.fromValues(0,0)),$=(Z.projectConvexOntoAxis=function(t,e,i,s,n){var o,r=null,a=null,h=G;N.rotate(h,s,-i);for(var l=0;l<t.vertices.length;l++)o=t.vertices[l],o=j(o,h),(null===r||r<o)&&(r=o),(null===a||o<a)&&(a=o);r<a&&(i=a,a=r,r=i);i=j(e,s);N.set(n,a+i,r+i)},N.fromValues(0,0)),tt=N.fromValues(0,0),et=N.fromValues(0,0),it=N.fromValues(0,0),st=N.fromValues(0,0),nt=N.fromValues(0,0),ot=(Z.findSeparatingAxis=function(t,e,i,s,n,o,r){var a,h=null,l=!1,c=!1,u=$,d=tt,p=et,f=it,g=st,m=nt;if(t instanceof T&&s instanceof T)for(var y=0;2!==y;y++){var v=t,x=i;1===y&&(v=s,x=o);for(var b=0;2!==b;b++){0===b?N.set(f,0,1):1===b&&N.set(f,1,0),0!==x&&N.rotate(f,f,x),Z.projectConvexOntoAxis(t,e,i,f,g),Z.projectConvexOntoAxis(s,n,o,f,m);var _=g,w=m;g[0]>m[0]&&(w=g,_=m),l=(a=w[0]-_[1])<=0,(null===h||h<a)&&(N.copy(r,f),h=a,c=l)}}else for(y=0;2!==y;y++)for(v=t,x=i,1===y&&(v=s,x=o),b=0;b!==v.vertices.length;b++)N.rotate(d,v.vertices[b],x),N.rotate(p,v.vertices[(b+1)%v.vertices.length],x),X(u,p,d),N.rotate90cw(f,u),N.normalize(f,f),Z.projectConvexOntoAxis(t,e,i,f,g),Z.projectConvexOntoAxis(s,n,o,f,m),(_=g)[0]>(w=m)[0]&&(w=g,_=m),l=(a=w[0]-_[1])<=0,(null===h||h<a)&&(N.copy(r,f),h=a,c=l);return c},N.fromValues(0,0)),rt=N.fromValues(0,0),at=N.fromValues(0,0),ht=(Z.getClosestEdge=function(t,e,i,s){var n=ot,o=rt,r=at;N.rotate(n,i,-e),s&&N.scale(n,n,-1);for(var a=-1,h=t.vertices.length,l=-1,c=0;c!==h;c++){X(o,t.vertices[(c+1)%h],t.vertices[c%h]),N.rotate90cw(r,o),N.normalize(r,r);var u=j(r,n);(-1===a||l<u)&&(a=c%h,l=u)}return a},N.create()),lt=N.create(),ct=N.create(),ut=N.create(),dt=N.create(),pt=N.create(),ft=N.create(),gt=(Z.prototype[h.CIRCLE|h.HEIGHTFIELD]=Z.prototype.circleHeightfield=function(t,e,i,s,n,o,r,a,h,l){var c=o.heights,u=(l=l||e.radius,o.elementWidth),d=lt,p=ht,f=dt,g=ft,m=pt,y=ct,v=ut,x=Math.floor((i[0]-l-r[0])/u),b=Math.ceil((i[0]+l-r[0])/u);b>=c.length&&(b=c.length-1);for(var _=c[x=x<0?0:x],w=c[b],T=x;T<b;T++)c[T]<w&&(w=c[T]),c[T]>_&&(_=c[T]);if(i[1]-l>_)return!h&&0;for(var P=!1,T=x;T<b;T++){N.set(y,T*u,c[T]),N.set(v,(T+1)*u,c[T+1]),N.add(y,y,r),N.add(v,v,r),N.sub(m,v,y),N.rotate(m,m,Math.PI/2),N.normalize(m,m),N.scale(p,m,-l),N.add(p,p,i),N.sub(d,p,y);var C=N.dot(d,m);if(p[0]>=y[0]&&p[0]<v[0]&&C<=0){if(h)return!0;P=!0,N.scale(d,m,-C),N.add(f,p,d),N.copy(g,m);var S=this.createContactEquation(n,t,o,e);N.copy(S.normalA,g),N.scale(S.contactPointB,S.normalA,-l),W(S.contactPointB,S.contactPointB,i),X(S.contactPointB,S.contactPointB,t.position),N.copy(S.contactPointA,f),N.sub(S.contactPointA,S.contactPointA,n.position),this.contactEquations.push(S),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(S))}}if(P=!1,0<l)for(T=x;T<=b;T++)if(N.set(y,T*u,c[T]),N.add(y,y,r),N.sub(d,i,y),N.squaredLength(d)<Math.pow(l,2)){if(h)return!0;P=!0,S=this.createContactEquation(n,t,o,e),N.copy(S.normalA,d),N.normalize(S.normalA,S.normalA),N.scale(S.contactPointB,S.normalA,-l),W(S.contactPointB,S.contactPointB,i),X(S.contactPointB,S.contactPointB,t.position),X(S.contactPointA,y,r),W(S.contactPointA,S.contactPointA,r),X(S.contactPointA,S.contactPointA,n.position),this.contactEquations.push(S),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(S))}return P?1:0},N.create()),mt=N.create(),yt=N.create(),vt=new a({vertices:[N.create(),N.create(),N.create(),N.create()]});Z.prototype[h.BOX|h.HEIGHTFIELD]=Z.prototype[h.CONVEX|h.HEIGHTFIELD]=Z.prototype.convexHeightfield=function(t,e,i,s,n,o,r,a,h){var l=o.heights,c=o.elementWidth,u=gt,d=mt,p=yt,f=vt,o=Math.floor((t.aabb.lowerBound[0]-r[0])/c),g=Math.ceil((t.aabb.upperBound[0]-r[0])/c);g>=l.length&&(g=l.length-1);for(var m=l[o=o<0?0:o],y=l[g],v=o;v<g;v++)l[v]<y&&(y=l[v]),l[v]>m&&(m=l[v]);if(t.aabb.lowerBound[1]>m)return!h&&0;for(var x=0,v=o;v<g;v++)N.set(u,v*c,l[v]),N.set(d,(v+1)*c,l[v+1]),N.add(u,u,r),N.add(d,d,r),N.set(p,.5*(d[0]+u[0]),.5*(d[1]+u[1]-100)),N.sub(f.vertices[0],d,p),N.sub(f.vertices[1],u,p),N.copy(f.vertices[2],f.vertices[1]),N.copy(f.vertices[3],f.vertices[0]),f.vertices[2][1]-=100,f.vertices[3][1]-=100,x+=this.convexConvex(t,e,i,s,n,f,p,0,h);return x}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../shapes/Box":37,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Shape":45,"../utils/ContactEquationPool":48,"../utils/FrictionEquationPool":49,"../utils/TupleDictionary":56,"../utils/Utils":57}],11:[function(t,e,i){e.exports=r;var l=t("../math/vec2");function r(t){this.from=(t=t||{}).from?l.fromValues(t.from[0],t.from[1]):l.create(),this.to=t.to?l.fromValues(t.to[0],t.to[1]):l.create(),this.checkCollisionResponse=void 0===t.checkCollisionResponse||t.checkCollisionResponse,this.skipBackfaces=!!t.skipBackfaces,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:-1,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:-1,this.mode=void 0!==t.mode?t.mode:r.ANY,this.callback=t.callback||function(t){},this.direction=l.create(),this.length=1,this.update()}t("../collision/RaycastResult"),t("../shapes/Shape"),t("../collision/AABB"),(r.prototype.constructor=r).CLOSEST=1,r.ANY=2,r.ALL=4,r.prototype.update=function(){var t=this.direction;l.sub(t,this.to,this.from),this.length=l.length(t),l.normalize(t,t)},r.prototype.intersectBodies=function(t,e){for(var i=0,s=e.length;!t.shouldStop(this)&&i<s;i++){var n=e[i],o=n.getAABB();(0<=o.overlapsRay(this)||o.containsPoint(this.from))&&this.intersectBody(t,n)}};var h=l.create(),c=(r.prototype.intersectBody=function(t,e){var i=this.checkCollisionResponse;if(!i||e.collisionResponse)for(var s=h,n=0,o=e.shapes.length;n<o;n++){var r=e.shapes[n];if((!i||r.collisionResponse)&&0!=(this.collisionGroup&r.collisionMask)&&0!=(r.collisionGroup&this.collisionMask)){l.rotate(s,r.position,e.angle),l.add(s,s,e.position);var a=r.angle+e.angle;if(this.intersectShape(t,r,a,s,e),t.shouldStop(this))break}}},r.prototype.intersectShape=function(t,e,i,s,n){var o,r,a,h;o=this.from,r=this.direction,a=s,l.sub(c,a,o),h=l.dot(c,r),l.scale(u,r,h),l.add(u,u,o),l.squaredDistance(a,u)>e.boundingRadius*e.boundingRadius||(this._currentBody=n,(this._currentShape=e).raycast(t,this,s,i),this._currentBody=this._currentShape=null)},r.prototype.getAABB=function(t){var e=this.to,i=this.from;l.set(t.lowerBound,Math.min(e[0],i[0]),Math.min(e[1],i[1])),l.set(t.upperBound,Math.max(e[0],i[0]),Math.max(e[1],i[1]))},l.create(),r.prototype.reportIntersection=function(t,e,i,s){this.from,this.to;var n=this._currentShape,o=this._currentBody;if(!(this.skipBackfaces&&0<l.dot(i,this.direction)))switch(this.mode){case r.ALL:t.set(i,n,o,e,s),this.callback(t);break;case r.CLOSEST:(e<t.fraction||!t.hasHit())&&t.set(i,n,o,e,s);break;case r.ANY:t.set(i,n,o,e,s)}},l.create()),u=l.create()},{"../collision/AABB":7,"../collision/RaycastResult":12,"../math/vec2":30,"../shapes/Shape":45}],12:[function(t,e,i){var o=t("../math/vec2"),s=t("../collision/Ray");function n(){this.normal=o.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}(e.exports=n).prototype.reset=function(){o.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},n.prototype.getHitDistance=function(t){return o.distance(t.from,t.to)*this.fraction},n.prototype.hasHit=function(){return-1!==this.fraction},n.prototype.getHitPoint=function(t,e){o.lerp(t,e.from,e.to,this.fraction)},n.prototype.stop=function(){this.isStopped=!0},n.prototype.shouldStop=function(t){return this.isStopped||-1!==this.fraction&&t.mode===s.ANY},n.prototype.set=function(t,e,i,s,n){o.copy(this.normal,t),this.shape=e,this.body=i,this.fraction=s,this.faceIndex=n}},{"../collision/Ray":11,"../math/vec2":30}],13:[function(t,e,i){var s=t("../utils/Utils"),u=t("../collision/Broadphase");function n(){u.call(this,u.SAP),this.axisList=[],this.axisIndex=0;var e=this;this._addBodyHandler=function(t){e.axisList.push(t.body)},this._removeBodyHandler=function(t){t=e.axisList.indexOf(t.body);-1!==t&&e.axisList.splice(t,1)}}(((e.exports=n).prototype=new u).constructor=n).prototype.setWorld=function(t){this.axisList.length=0,s.appendArray(this.axisList,t.bodies),t.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),t.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=t},n.sortAxisList=function(t,e){e|=0;for(var i=1,s=t.length;i<s;i++){for(var n=t[i],o=i-1;0<=o&&!(t[o].aabb.lowerBound[e]<=n.aabb.lowerBound[e]);o--)t[o+1]=t[o];t[o+1]=n}return t},n.prototype.sortList=function(){var t=this.axisList,e=this.axisIndex;n.sortAxisList(t,e)},n.prototype.getCollisionPairs=function(t){var e=this.axisList,i=this.result,s=this.axisIndex;i.length=0;for(var n=e.length;n--;){var o=e[n];o.aabbNeedsUpdate&&o.updateAABB()}this.sortList();for(var r=0,a=0|e.length;r!==a;r++)for(var h=e[r],l=r+1;l<a;l++){var c=e[l];if(!(c.aabb.lowerBound[s]<=h.aabb.upperBound[s]))break;u.canCollide(h,c)&&this.boundingVolumeCheck(h,c)&&i.push(h,c)}return i},n.prototype.aabbQuery=function(t,e,i){i=i||[],this.sortList();for(var s=this.axisIndex,s=2===s?"z":1===s?"y":"x",n=this.axisList,o=(e.lowerBound[s],e.upperBound[s],0);o<n.length;o++){var r=n[o];r.aabbNeedsUpdate&&r.updateAABB(),r.aabb.overlaps(e)&&i.push(r)}return i}},{"../collision/Broadphase":8,"../utils/Utils":57}],14:[function(t,e,i){e.exports=s;var n=t("../utils/Utils");function s(t,e,i,s){this.type=i,s=n.defaults(s,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.collideConnected=s.collideConnected,s.wakeUpBodies&&(t&&t.wakeUp(),e)&&e.wakeUp()}s.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},s.DISTANCE=1,s.GEAR=2,s.LOCK=3,s.PRISMATIC=4,s.REVOLUTE=5,s.prototype.setStiffness=function(t){for(var e=this.equations,i=0;i!==e.length;i++){var s=e[i];s.stiffness=t,s.needsUpdate=!0}},s.prototype.setRelaxation=function(t){for(var e=this.equations,i=0;i!==e.length;i++){var s=e[i];s.relaxation=t,s.needsUpdate=!0}}},{"../utils/Utils":57}],15:[function(t,e,i){var u=t("./Constraint"),d=t("../equations/Equation"),p=t("../math/vec2"),f=t("../utils/Utils");function s(t,e,i){i=f.defaults(i,{localAnchorA:[0,0],localAnchorB:[0,0]}),u.call(this,t,e,u.DISTANCE,i),this.localAnchorA=p.fromValues(i.localAnchorA[0],i.localAnchorA[1]),this.localAnchorB=p.fromValues(i.localAnchorB[0],i.localAnchorB[1]);var s,n,o=this.localAnchorA,r=this.localAnchorB,a=(this.distance=0,"number"==typeof i.distance?this.distance=i.distance:(a=p.create(),s=p.create(),n=p.create(),p.rotate(a,o,t.angle),p.rotate(s,r,e.angle),p.add(n,e.position,s),p.sub(n,n,a),p.sub(n,n,t.position),this.distance=p.length(n)),s=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce,new d(t,e,-s,s)),h=(this.equations=[a],this.maxForce=s,n=p.create(),p.create()),l=p.create(),c=this;a.computeGq=function(){var t=this.bodyA,e=this.bodyB,i=t.position,s=e.position;return p.rotate(h,o,t.angle),p.rotate(l,r,e.angle),p.add(n,s,l),p.sub(n,n,h),p.sub(n,n,i),p.length(n)-c.distance},this.setMaxForce(s),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}((e.exports=s).prototype=new u).constructor=s;var r=p.create(),a=p.create(),h=p.create();s.prototype.update=function(){var t=this.equations[0],e=this.bodyA,i=this.bodyB,s=(this.distance,e.position),n=i.position,o=this.equations[0],t=t.G,e=(p.rotate(a,this.localAnchorA,e.angle),p.rotate(h,this.localAnchorB,i.angle),p.add(r,n,h),p.sub(r,r,a),p.sub(r,r,s),this.position=p.length(r),!1);this.upperLimitEnabled&&this.position>this.upperLimit&&(o.maxForce=0,o.minForce=-this.maxForce,this.distance=this.upperLimit,e=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(o.maxForce=this.maxForce,o.minForce=0,this.distance=this.lowerLimit,e=!0),!this.lowerLimitEnabled&&!this.upperLimitEnabled||e?(o.enabled=!0,p.normalize(r,r),i=p.crossLength(a,r),n=p.crossLength(h,r),t[0]=-r[0],t[1]=-r[1],t[2]=-i,t[3]=r[0],t[4]=r[1],t[5]=n):o.enabled=!1},s.prototype.setMaxForce=function(t){var e=this.equations[0];e.minForce=-t,e.maxForce=t},s.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"../equations/Equation":22,"../math/vec2":30,"../utils/Utils":57,"./Constraint":14}],16:[function(t,e,i){var s=t("./Constraint"),n=(t("../equations/Equation"),t("../equations/AngleLockEquation"));function o(t,e,i){s.call(this,t,e,s.GEAR,i=i||{}),this.ratio=void 0!==i.ratio?i.ratio:1,this.angle=void 0!==i.angle?i.angle:e.angle-this.ratio*t.angle,i.angle=this.angle,i.ratio=this.ratio,this.equations=[new n(t,e,i)],void 0!==i.maxTorque&&this.setMaxTorque(i.maxTorque)}t("../math/vec2"),(((e.exports=o).prototype=new s).constructor=o).prototype.update=function(){var t=this.equations[0];t.ratio!==this.ratio&&t.setRatio(this.ratio),t.angle=this.angle},o.prototype.setMaxTorque=function(t){this.equations[0].setMaxTorque(t)},o.prototype.getMaxTorque=function(t){return this.equations[0].maxForce}},{"../equations/AngleLockEquation":20,"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],17:[function(t,e,i){var d=t("./Constraint"),p=t("../math/vec2"),f=t("../equations/Equation");function s(t,e,i){d.call(this,t,e,d.LOCK,i=i||{});var s=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce,n=(i.localAngleB,new f(t,e,-s,s)),o=new f(t,e,-s,s),r=new f(t,e,-s,s),a=p.create(),h=p.create(),l=this,c=(n.computeGq=function(){return p.rotate(a,l.localOffsetB,t.angle),p.sub(h,e.position,t.position),p.sub(h,h,a),h[0]},o.computeGq=function(){return p.rotate(a,l.localOffsetB,t.angle),p.sub(h,e.position,t.position),p.sub(h,h,a),h[1]},p.create()),u=p.create();r.computeGq=function(){return p.rotate(c,l.localOffsetB,e.angle-l.localAngleB),p.scale(c,c,-1),p.sub(h,t.position,e.position),p.add(h,h,c),p.rotate(u,c,-Math.PI/2),p.normalize(u,u),p.dot(h,u)},this.localOffsetB=p.create(),i.localOffsetB?p.copy(this.localOffsetB,i.localOffsetB):(p.sub(this.localOffsetB,e.position,t.position),p.rotate(this.localOffsetB,this.localOffsetB,-t.angle)),this.localAngleB=0,"number"==typeof i.localAngleB?this.localAngleB=i.localAngleB:this.localAngleB=e.angle-t.angle,this.equations.push(n,o,r),this.setMaxForce(s)}(((e.exports=s).prototype=new d).constructor=s).prototype.setMaxForce=function(t){for(var e=this.equations,i=0;i<this.equations.length;i++)e[i].maxForce=t,e[i].minForce=-t},s.prototype.getMaxForce=function(){return this.equations[0].maxForce};var o=p.create(),r=p.create(),a=p.create(),h=p.fromValues(1,0),l=p.fromValues(0,1);s.prototype.update=function(){var t=this.equations[0],e=this.equations[1],i=this.equations[2],s=this.bodyA,n=this.bodyB;p.rotate(o,this.localOffsetB,s.angle),p.rotate(r,this.localOffsetB,n.angle-this.localAngleB),p.scale(r,r,-1),p.rotate(a,r,Math.PI/2),p.normalize(a,a),t.G[0]=-1,t.G[1]=0,t.G[2]=-p.crossLength(o,h),t.G[3]=1,e.G[0]=0,e.G[1]=-1,e.G[2]=-p.crossLength(o,l),e.G[4]=1,i.G[0]=-a[0],i.G[1]=-a[1],i.G[3]=a[0],i.G[4]=a[1],i.G[5]=p.crossLength(r,a)}},{"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],18:[function(t,e,i){var p=t("./Constraint"),f=t("../equations/ContactEquation"),g=t("../equations/Equation"),m=t("../math/vec2"),y=t("../equations/RotationalLockEquation");function s(s,n,t){p.call(this,s,n,p.PRISMATIC,t=t||{});var o=m.fromValues(0,0),r=m.fromValues(1,0),a=m.fromValues(0,0),e=(t.localAnchorA&&m.copy(o,t.localAnchorA),t.localAxisA&&m.copy(r,t.localAxisA),t.localAnchorB&&m.copy(a,t.localAnchorB),this.localAnchorA=o,this.localAnchorB=a,this.localAxisA=r,this.maxForce=void 0!==t.maxForce?t.maxForce:Number.MAX_VALUE),i=new g(s,n,-e,e),h=new m.create,l=new m.create,c=new m.create,u=new m.create,d=(i.computeGq=function(){return m.dot(c,u)},i.updateJacobian=function(){var t=this.G,e=s.position,i=n.position;m.rotate(h,o,s.angle),m.rotate(l,a,n.angle),m.add(c,i,l),m.sub(c,c,e),m.sub(c,c,h),m.rotate(u,r,s.angle+Math.PI/2),t[0]=-u[0],t[1]=-u[1],t[2]=-m.crossLength(h,u)+m.crossLength(u,c),t[3]=u[0],t[4]=u[1],t[5]=m.crossLength(l,u)},this.equations.push(i),t.disableRotationalLock||(i=new y(s,n,-e,e),this.equations.push(i)),this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==t.lowerLimit,this.upperLimitEnabled=void 0!==t.upperLimit,this.lowerLimit=void 0!==t.lowerLimit?t.lowerLimit:0,this.upperLimit=void 0!==t.upperLimit?t.upperLimit:1,this.upperLimitEquation=new f(s,n),this.lowerLimitEquation=new f(s,n),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=e,this.motorEquation=new g(s,n),this.motorEnabled=!1,this.motorSpeed=0,this),i=this.motorEquation;i.computeGW,i.computeGq=function(){return 0},i.computeGW=function(){var t=this.G,e=this.bodyA,i=this.bodyB,s=e.velocity,n=i.velocity;return this.gmult(t,s,e.angularVelocity,n,i.angularVelocity)+d.motorSpeed}}((e.exports=s).prototype=new p).constructor=s;var d=m.create(),v=m.create(),x=m.create(),b=m.create(),_=m.create(),w=m.create();s.prototype.update=function(){var t=this.equations,e=t[0],i=this.upperLimit,s=this.lowerLimit,n=this.upperLimitEquation,o=this.lowerLimitEquation,r=this.bodyA,a=this.bodyB,h=this.localAxisA,l=this.localAnchorA,c=this.localAnchorB;e.updateJacobian(),m.rotate(d,h,r.angle),m.rotate(b,l,r.angle),m.add(v,b,r.position),m.rotate(_,c,a.angle),m.add(x,_,a.position);var u,e=this.position=m.dot(x,d)-m.dot(v,d);this.motorEnabled&&((h=this.motorEquation.G)[0]=d[0],h[1]=d[1],h[2]=m.crossLength(d,_),h[3]=-d[0],h[4]=-d[1],h[5]=-m.crossLength(d,b)),this.upperLimitEnabled&&i<e?(m.scale(n.normalA,d,-1),m.sub(n.contactPointA,v,r.position),m.sub(n.contactPointB,x,a.position),m.scale(w,d,i),m.add(n.contactPointA,n.contactPointA,w),-1===t.indexOf(n)&&t.push(n)):-1!==(u=t.indexOf(n))&&t.splice(u,1),this.lowerLimitEnabled&&e<s?(m.scale(o.normalA,d,1),m.sub(o.contactPointA,v,r.position),m.sub(o.contactPointB,x,a.position),m.scale(w,d,s),m.sub(o.contactPointB,o.contactPointB,w),-1===t.indexOf(o)&&t.push(o)):-1!==(u=t.indexOf(o))&&t.splice(u,1)},s.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},s.prototype.disableMotor=function(){var t;this.motorEnabled&&(t=this.equations.indexOf(this.motorEquation),this.equations.splice(t,1),this.motorEnabled=!1)},s.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../math/vec2":30,"./Constraint":14}],19:[function(t,e,i){var r=t("./Constraint"),a=t("../equations/Equation"),h=t("../equations/RotationalVelocityEquation"),l=t("../equations/RotationalLockEquation"),p=t("../math/vec2"),f=(e.exports=s,p.create()),g=p.create(),m=p.fromValues(1,0),y=p.fromValues(0,1),c=p.create();function s(t,e,i){r.call(this,t,e,r.REVOLUTE,i=i||{});var s=this.maxForce=void 0!==i.maxForce?i.maxForce:Number.MAX_VALUE,i=(this.pivotA=p.create(),this.pivotB=p.create(),i.worldPivot?(p.sub(this.pivotA,i.worldPivot,t.position),p.sub(this.pivotB,i.worldPivot,e.position),p.rotate(this.pivotA,this.pivotA,-t.angle),p.rotate(this.pivotB,this.pivotB,-e.angle)):(p.copy(this.pivotA,i.localPivotA),p.copy(this.pivotB,i.localPivotB)),this.equations=[new a(t,e,-s,s),new a(t,e,-s,s)]),n=i[0],i=i[1],o=this;n.computeGq=function(){return p.rotate(f,o.pivotA,t.angle),p.rotate(g,o.pivotB,e.angle),p.add(c,e.position,g),p.sub(c,c,t.position),p.sub(c,c,f),p.dot(c,m)},i.computeGq=function(){return p.rotate(f,o.pivotA,t.angle),p.rotate(g,o.pivotB,e.angle),p.add(c,e.position,g),p.sub(c,c,t.position),p.sub(c,c,f),p.dot(c,y)},i.minForce=n.minForce=-s,i.maxForce=n.maxForce=s,this.motorEquation=new h(t,e),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new l(t,e),this.lowerLimitEquation=new l(t,e),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}((s.prototype=new r).constructor=s).prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)},s.prototype.update=function(){var t,e=this.bodyA,i=this.bodyB,s=this.pivotA,n=this.pivotB,o=this.equations,r=(o[0],o[0]),a=o[1],h=this.upperLimit,l=this.lowerLimit,c=this.upperLimitEquation,u=this.lowerLimitEquation,d=this.angle=i.angle-e.angle;this.upperLimitEnabled&&h<d?(c.angle=h,-1===o.indexOf(c)&&o.push(c)):-1!==(t=o.indexOf(c))&&o.splice(t,1),this.lowerLimitEnabled&&d<l?(u.angle=l,-1===o.indexOf(u)&&o.push(u)):-1!==(t=o.indexOf(u))&&o.splice(t,1),p.rotate(f,s,e.angle),p.rotate(g,n,i.angle),r.G[0]=-1,r.G[1]=0,r.G[2]=-p.crossLength(f,m),r.G[3]=1,r.G[4]=0,r.G[5]=p.crossLength(g,m),a.G[0]=0,a.G[1]=-1,a.G[2]=-p.crossLength(f,y),a.G[3]=0,a.G[4]=1,a.G[5]=p.crossLength(g,y)},s.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},s.prototype.disableMotor=function(){var t;this.motorEnabled&&(t=this.equations.indexOf(this.motorEquation),this.equations.splice(t,1),this.motorEnabled=!1)},s.prototype.setMotorSpeed=function(t){var e;this.motorEnabled&&(e=this.equations.indexOf(this.motorEquation),this.equations[e].relativeVelocity=t)},s.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../equations/RotationalVelocityEquation":25,"../math/vec2":30,"./Constraint":14}],20:[function(t,e,i){var s=t("./Equation");function n(t,e,i){i=i||{},s.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0,this.ratio="number"==typeof i.ratio?i.ratio:1,this.setRatio(this.ratio)}t("../math/vec2"),(((e.exports=n).prototype=new s).constructor=n).prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},n.prototype.setRatio=function(t){var e=this.G;e[2]=t,e[5]=-1,this.ratio=t},n.prototype.setMaxTorque=function(t){this.maxForce=t,this.minForce=-t}},{"../math/vec2":30,"./Equation":22}],21:[function(t,e,i){var s=t("./Equation"),p=t("../math/vec2");function n(t,e){s.call(this,t,e,0,Number.MAX_VALUE),this.contactPointA=p.create(),this.penetrationVec=p.create(),this.contactPointB=p.create(),this.normalA=p.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}(((e.exports=n).prototype=new s).constructor=n).prototype.computeB=function(t,e,i){var s,n=this.bodyA,o=this.bodyB,r=this.contactPointA,a=this.contactPointB,n=n.position,o=o.position,h=this.penetrationVec,l=this.normalA,c=this.G,u=p.crossLength(r,l),d=p.crossLength(a,l);return c[0]=-l[0],c[1]=-l[1],c[2]=-u,c[3]=l[0],c[4]=l[1],c[5]=d,p.add(h,o,a),p.sub(h,h,n),p.sub(h,h,r),u=this.firstImpact&&0!==this.restitution?(s=0,1/e*(1+this.restitution)*this.computeGW()):(s=p.dot(l,h)+this.offset,this.computeGW()),-s*t-u*e-i*this.computeGiMf()};var o=p.create(),r=p.create(),a=p.create();n.prototype.getVelocityAlongNormal=function(){return this.bodyA.getVelocityAtPoint(o,this.contactPointA),this.bodyB.getVelocityAtPoint(r,this.contactPointB),p.subtract(a,o,r),p.dot(this.normalA,a)}},{"../math/vec2":30,"./Equation":22}],22:[function(t,e,i){e.exports=r;var u=t("../math/vec2"),o=t("../utils/Utils");function r(t,e,i,s){this.minForce=void 0===i?-Number.MAX_VALUE:i,this.maxForce=void 0===s?Number.MAX_VALUE:s,this.bodyA=t,this.bodyB=e,this.stiffness=r.DEFAULT_STIFFNESS,this.relaxation=r.DEFAULT_RELAXATION,this.G=new o.ARRAY_TYPE(6);for(var n=0;n<6;n++)this.G[n]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}t("../objects/Body"),(r.prototype.constructor=r).DEFAULT_STIFFNESS=1e6,r.DEFAULT_RELAXATION=4,r.prototype.update=function(){var t=this.stiffness,e=this.relaxation,i=this.timeStep;this.a=4/(i*(1+4*e)),this.b=4*e/(1+4*e),this.epsilon=4/(i*i*t*(1+4*e)),this.needsUpdate=!1},r.prototype.gmult=function(t,e,i,s,n){return t[0]*e[0]+t[1]*e[1]+t[2]*i+t[3]*s[0]+t[4]*s[1]+t[5]*n},r.prototype.computeB=function(t,e,i){var s=this.computeGW();return-this.computeGq()*t-s*e-this.computeGiMf()*i};var s=u.create(),n=u.create(),c=(r.prototype.computeGq=function(){var t=this.G,e=this.bodyA,i=this.bodyB;return e.position,i.position,this.gmult(t,s,e.angle,n,i.angle)+this.offset},r.prototype.computeGW=function(){var t=this.G,e=this.bodyA,i=this.bodyB,s=e.velocity,n=i.velocity;return this.gmult(t,s,e.angularVelocity,n,i.angularVelocity)+this.relativeVelocity},r.prototype.computeGWlambda=function(){var t=this.G,e=this.bodyA,i=this.bodyB,s=e.vlambda,n=i.vlambda;return this.gmult(t,s,e.wlambda,n,i.wlambda)},u.create()),d=u.create(),p=(r.prototype.computeGiMf=function(){var t=this.bodyA,e=this.bodyB,i=t.force,s=t.angularForce,n=e.force,o=e.angularForce,r=e.invMassSolve,a=t.invInertiaSolve,h=e.invInertiaSolve,l=this.G;return u.scale(c,i,t.invMassSolve),u.multiply(c,t.massMultiplier,c),u.scale(d,n,r),u.multiply(d,e.massMultiplier,d),this.gmult(l,c,s*a,d,o*h)},r.prototype.computeGiMGt=function(){var t=this.bodyA,e=this.bodyB,i=t.invMassSolve,s=e.invMassSolve,n=this.G;return n[0]*n[0]*i*t.massMultiplier[0]+n[1]*n[1]*i*t.massMultiplier[1]+n[2]*n[2]*t.invInertiaSolve+n[3]*n[3]*s*e.massMultiplier[0]+n[4]*n[4]*s*e.massMultiplier[1]+n[5]*n[5]*e.invInertiaSolve},u.create()),f=u.create(),g=u.create();u.create(),u.create(),u.create(),r.prototype.addToWlambda=function(t){var e=this.bodyA,i=this.bodyB,s=p,n=f,o=g,r=e.invMassSolve,a=i.invMassSolve,h=e.invInertiaSolve,l=i.invInertiaSolve,c=this.G;n[0]=c[0],n[1]=c[1],o[0]=c[3],o[1]=c[4],u.scale(s,n,r*t),u.multiply(s,s,e.massMultiplier),u.add(e.vlambda,e.vlambda,s),e.wlambda+=h*c[2]*t,u.scale(s,o,a*t),u.multiply(s,s,i.massMultiplier),u.add(i.vlambda,i.vlambda,s),i.wlambda+=l*c[5]*t},r.prototype.computeInvC=function(t){return 1/(this.computeGiMGt()+t)}},{"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],23:[function(t,e,i){var a=t("../math/vec2"),s=t("./Equation");function n(t,e,i){s.call(this,t,e,-i,i),this.contactPointA=a.create(),this.contactPointB=a.create(),this.t=a.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}t("../utils/Utils"),(((e.exports=n).prototype=new s).constructor=n).prototype.setSlipForce=function(t){this.maxForce=t,this.minForce=-t},n.prototype.getSlipForce=function(){return this.maxForce},n.prototype.computeB=function(t,e,i){this.bodyA,this.bodyB;var s=this.contactPointA,n=this.contactPointB,o=this.t,r=this.G;return r[0]=-o[0],r[1]=-o[1],r[2]=-a.crossLength(s,o),r[3]=o[0],r[4]=o[1],r[5]=a.crossLength(n,o),-this.computeGW()*e-i*this.computeGiMf()}},{"../math/vec2":30,"../utils/Utils":57,"./Equation":22}],24:[function(t,e,i){var s=t("./Equation"),n=t("../math/vec2");function o(t,e,i){i=i||{},s.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0;t=this.G;t[2]=1,t[5]=-1}((e.exports=o).prototype=new s).constructor=o;var r=n.create(),a=n.create(),h=n.fromValues(1,0),l=n.fromValues(0,1);o.prototype.computeGq=function(){return n.rotate(r,h,this.bodyA.angle+this.angle),n.rotate(a,l,this.bodyB.angle),n.dot(r,a)}},{"../math/vec2":30,"./Equation":22}],25:[function(t,e,i){var s=t("./Equation");function n(t,e){s.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}t("../math/vec2"),(((e.exports=n).prototype=new s).constructor=n).prototype.computeB=function(t,e,i){var s=this.G,s=(s[2]=-1,s[5]=this.ratio,this.computeGiMf());return-this.computeGW()*e-i*s}},{"../math/vec2":30,"./Equation":22}],26:[function(t,e,i){function s(){}(e.exports=s).prototype={constructor:s,on:function(t,e,i){e.context=i||this,void 0===this._listeners&&(this._listeners={});i=this._listeners;return void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e),this},has:function(t,e){if(void 0!==this._listeners){var i=this._listeners;if(e){if(void 0!==i[t]&&-1!==i[t].indexOf(e))return!0}else if(void 0!==i[t])return!0}return!1},off:function(t,e){var i;return void 0!==this._listeners&&-1!==(e=(i=this._listeners)[t].indexOf(e))&&i[t].splice(e,1),this},emit:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=0,s=e.length;i<s;i++){var n=e[i];n.call(n.context,t)}}}return this}}},{}],27:[function(t,e,i){var s=t("./Material"),n=t("../equations/Equation");function o(t,e,i){if(i=i||{},!(t instanceof s&&e instanceof s))throw new Error("First two arguments must be Material instances.");this.id=o.idCounter++,this.materialA=t,this.materialB=e,this.friction=void 0!==i.friction?Number(i.friction):.3,this.restitution=void 0!==i.restitution?Number(i.restitution):0,this.stiffness=void 0!==i.stiffness?Number(i.stiffness):n.DEFAULT_STIFFNESS,this.relaxation=void 0!==i.relaxation?Number(i.relaxation):n.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==i.frictionStiffness?Number(i.frictionStiffness):n.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==i.frictionRelaxation?Number(i.frictionRelaxation):n.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==i.surfaceVelocity?Number(i.surfaceVelocity):0,this.contactSkinSize=.005}(e.exports=o).idCounter=0},{"../equations/Equation":22,"./Material":28}],28:[function(t,e,i){function s(t){this.id=t||s.idCounter++}(e.exports=s).idCounter=0},{}],29:[function(t,e,i){var v={GetArea:function(t){if(t.length<6)return 0;for(var e=t.length-2,i=0,s=0;s<e;s+=2)i+=(t[s+2]-t[s])*(t[s+1]+t[s+3]);return.5*-(i+(t[0]-t[e])*(t[1+e]+t[1]))},Triangulate:function(t){var e=t.length>>1;if(e<3)return[];for(var i=[],s=[],n=0;n<e;n++)s.push(n);for(var n=0,o=e;3<o;){var r=s[(n+0)%o],a=s[(n+1)%o],h=s[(n+2)%o],l=t[2*r],c=t[2*r+1],u=t[2*a],d=t[2*a+1],p=t[2*h],f=t[2*h+1],g=!1;if(v._convex(l,c,u,d,p,f))for(var g=!0,m=0;m<o;m++){var y=s[m];if(y!=r&&y!=a&&y!=h&&v._PointInTriangle(t[2*y],t[2*y+1],l,c,u,d,p,f)){g=!1;break}}if(g)i.push(r,a,h),s.splice((n+1)%o,1),o--,n=0;else if(n++>3*o)break}return i.push(s[0],s[1],s[2]),i},_PointInTriangle:function(t,e,i,s,n,o,r,a){r-=i,a-=s,n-=i,o-=s,t-=i,i=e-s,e=r*r+a*a,s=r*n+a*o,r=r*t+a*i,a=n*n+o*o,n=n*t+o*i,t=1/(e*a-s*s),o=(a*r-s*n)*t,i=(e*n-s*r)*t;return 0<=o&&0<=i&&o+i<1},_convex:function(t,e,i,s,n,o){return 0<=(e-s)*(n-i)+(i-t)*(o-s)}};e.exports=v},{}],30:[function(t,e,i){var o=e.exports={},s=t("../utils/Utils");o.crossLength=function(t,e){return t[0]*e[1]-t[1]*e[0]},o.crossVZ=function(t,e,i){return o.rotate(t,e,-Math.PI/2),o.scale(t,t,i),t},o.crossZV=function(t,e,i){return o.rotate(t,i,Math.PI/2),o.scale(t,t,e),t},o.rotate=function(t,e,i){var s,n,o;0!==i?(s=Math.cos(i),i=Math.sin(i),n=e[0],t[0]=s*n-i*(o=e[1]),t[1]=i*n+s*o):(t[0]=e[0],t[1]=e[1])},o.rotate90cw=function(t,e){var i=e[0];t[0]=e[1],t[1]=-i},o.toLocalFrame=function(t,e,i,s){o.copy(t,e),o.sub(t,t,i),o.rotate(t,t,-s)},o.toGlobalFrame=function(t,e,i,s){o.copy(t,e),o.rotate(t,t,s),o.add(t,t,i)},o.vectorToLocalFrame=function(t,e,i){o.rotate(t,e,-i)},o.vectorToGlobalFrame=function(t,e,i){o.rotate(t,e,i)},o.centroid=function(t,e,i,s){return o.add(t,e,i),o.add(t,t,s),o.scale(t,t,1/3),t},o.create=function(){var t=new s.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},o.clone=function(t){var e=new s.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},o.fromValues=function(t,e){var i=new s.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},o.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},o.set=function(t,e,i){return t[0]=e,t[1]=i,t},o.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},o.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},o.sub=o.subtract,o.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},o.mul=o.multiply,o.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},o.div=o.divide,o.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},o.distance=function(t,e){var i=e[0]-t[0],e=e[1]-t[1];return Math.sqrt(i*i+e*e)},o.dist=o.distance,o.squaredDistance=function(t,e){var i=e[0]-t[0],e=e[1]-t[1];return i*i+e*e},o.sqrDist=o.squaredDistance,o.length=function(t){var e=t[0],t=t[1];return Math.sqrt(e*e+t*t)},o.len=o.length,o.squaredLength=function(t){var e=t[0],t=t[1];return e*e+t*t},o.sqrLen=o.squaredLength,o.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},o.normalize=function(t,e){var i=e[0],s=e[1],i=i*i+s*s;return 0<i&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},o.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},o.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},o.lerp=function(t,e,i,s){var n=e[0],e=e[1];return t[0]=n+s*(i[0]-n),t[1]=e+s*(i[1]-e),t},o.reflect=function(t,e,i){var s=e[0]*i[0]+e[1]*i[1];t[0]=e[0]-2*i[0]*s,t[1]=e[1]-2*i[1]*s},o.getLineSegmentsIntersection=function(t,e,i,s,n){s=o.getLineSegmentsIntersectionFraction(e,i,s,n);return!(s<0||(t[0]=e[0]+s*(i[0]-e[0]),t[1]=e[1]+s*(i[1]-e[1]),0))},o.getLineSegmentsIntersectionFraction=function(t,e,i,s){var n=e[0]-t[0],e=e[1]-t[1],o=s[0]-i[0],s=s[1]-i[1],r=(-e*(t[0]-i[0])+n*(t[1]-i[1]))/(-o*e+n*s),t=(o*(t[1]-i[1])-s*(t[0]-i[0]))/(-o*e+n*s);return 0<=r&&r<=1&&0<=t&&t<=1?t:-1}},{"../utils/Utils":57}],31:[function(t,e,i){var u=t("../math/vec2"),l=t("poly-decomp"),c=t("../shapes/Convex"),s=t("../collision/RaycastResult"),n=t("../collision/Ray"),o=t("../collision/AABB"),r=t("../events/EventEmitter");function a(t){t=t||{},r.call(this),this.id=t.id||++a._idCounter,this.world=null,this.shapes=[],this.mass=t.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!t.fixedRotation,this.fixedX=!!t.fixedX,this.fixedY=!!t.fixedY,this.massMultiplier=u.create(),this.position=u.fromValues(0,0),t.position&&u.copy(this.position,t.position),this.interpolatedPosition=u.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=u.fromValues(0,0),this.previousAngle=0,this.velocity=u.fromValues(0,0),t.velocity&&u.copy(this.velocity,t.velocity),this.vlambda=u.fromValues(0,0),this.wlambda=0,this.angle=t.angle||0,this.angularVelocity=t.angularVelocity||0,this.force=u.create(),t.force&&u.copy(this.force,t.force),this.angularForce=t.angularForce||0,this.damping="number"==typeof t.damping?t.damping:.1,this.angularDamping="number"==typeof t.angularDamping?t.angularDamping:.1,this.type=a.STATIC,void 0!==t.type?this.type=t.type:t.mass?this.type=a.DYNAMIC:this.type=a.STATIC,this.boundingRadius=0,this.aabb=new o,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===t.allowSleep||t.allowSleep,this.wantsToSleep=!1,this.sleepState=a.AWAKE,this.sleepSpeedLimit=void 0!==t.sleepSpeedLimit?t.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==t.sleepTimeLimit?t.sleepTimeLimit:1,this.gravityScale=void 0!==t.gravityScale?t.gravityScale:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==t.ccdSpeedThreshold?t.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==t.ccdIterations?t.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}(((e.exports=a).prototype=new r).constructor=a)._idCounter=0,a.prototype.updateSolveMassProperties=function(){this.sleepState===a.SLEEPING||this.type===a.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},a.prototype.setDensity=function(t){var e=this.getArea();this.mass=e*t,this.updateMassProperties()},a.prototype.getArea=function(){for(var t=0,e=0;e<this.shapes.length;e++)t+=this.shapes[e].area;return t},a.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var h=new o,d=u.create(),p=(a.prototype.updateAABB=function(){for(var t=this.shapes,e=t.length,i=d,s=this.angle,n=0;n!==e;n++){var o=t[n],r=o.angle+s;u.rotate(i,o.position,s),u.add(i,i,this.position),o.computeAABB(h,i,r),0===n?this.aabb.copy(h):this.aabb.extend(h)}this.aabbNeedsUpdate=!1},a.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=t.length,i=0,s=0;s!==e;s++){var n=t[s],o=u.length(n.position),n=n.boundingRadius;i<o+n&&(i=o+n)}this.boundingRadius=i},a.prototype.addShape=function(t,e,i){if(t.body)throw new Error("A shape can only be added to one body.");t.body=this,e?u.copy(t.position,e):u.set(t.position,0,0),t.angle=i||0,this.shapes.push(t),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},a.prototype.removeShape=function(t){var e=this.shapes.indexOf(t);return-1!==e&&(this.shapes.splice(e,1),this.aabbNeedsUpdate=!0,!(t.body=null))},a.prototype.updateMassProperties=function(){if(this.type===a.STATIC||this.type===a.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var t=this.shapes,e=t.length,i=this.mass/e,s=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var n=0;n<e;n++){var o=t[n],r=u.squaredLength(o.position);s+=o.computeMomentOfInertia(i)+i*r}this.inertia=s,this.invInertia=0<s?1/s:0}this.invMass=1/this.mass,u.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}},u.create(),a.prototype.applyForce=function(t,e){u.add(this.force,this.force,t),e&&(e=u.crossLength(e,t),this.angularForce+=e)},u.create()),f=u.create(),g=u.create(),m=(a.prototype.applyForceLocal=function(t,e){e=e||g;var i=p,s=f;this.vectorToWorldFrame(i,t),this.vectorToWorldFrame(s,e),this.applyForce(i,s)},u.create()),y=(a.prototype.applyImpulse=function(t,e){var i;this.type===a.DYNAMIC&&(u.scale(i=m,t,this.invMass),u.multiply(i,this.massMultiplier,i),u.add(this.velocity,i,this.velocity),e)&&(i=u.crossLength(e,t),i*=this.invInertia,this.angularVelocity+=i)},u.create()),v=u.create(),x=u.create(),b=(a.prototype.applyImpulseLocal=function(t,e){e=e||x;var i=y,s=v;this.vectorToWorldFrame(i,t),this.vectorToWorldFrame(s,e),this.applyImpulse(i,s)},a.prototype.toLocalFrame=function(t,e){u.toLocalFrame(t,e,this.position,this.angle)},a.prototype.toWorldFrame=function(t,e){u.toGlobalFrame(t,e,this.position,this.angle)},a.prototype.vectorToLocalFrame=function(t,e){u.vectorToLocalFrame(t,e,this.angle)},a.prototype.vectorToWorldFrame=function(t,e){u.vectorToGlobalFrame(t,e,this.angle)},a.prototype.fromPolygon=function(t,e){e=e||{};for(var i=this.shapes.length;0<=i;--i)this.removeShape(this.shapes[i]);var s=new l.Polygon;if(s.vertices=t,s.makeCCW(),"number"==typeof e.removeCollinearPoints&&s.removeCollinearPoints(e.removeCollinearPoints),void 0===e.skipSimpleCheck&&!s.isSimple())return!1;for(this.concavePath=s.vertices.slice(0),i=0;i<this.concavePath.length;i++){var n=[0,0];u.copy(n,this.concavePath[i]),this.concavePath[i]=n}for(var o=e.optimalDecomp?s.decomp():s.quickDecomp(),r=u.create(),i=0;i!==o.length;i++){for(var a=new c({vertices:o[i].vertices}),h=0;h!==a.vertices.length;h++)n=a.vertices[h],u.sub(n,n,a.centerOfMass);u.scale(r,a.centerOfMass,1),a.updateTriangles(),a.updateCenterOfMass(),a.updateBoundingRadius(),this.addShape(a,r)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0},u.fromValues(0,0),u.fromValues(0,0)),_=u.fromValues(0,0),w=u.fromValues(0,0),T=(a.prototype.adjustCenterOfMass=function(){var t=b,e=_,i=w,s=0;u.set(e,0,0);for(var n=0;n!==this.shapes.length;n++){var o=this.shapes[n];u.scale(t,o.position,o.area),u.add(e,e,t),s+=o.area}for(u.scale(i,e,1/s),n=0;n!==this.shapes.length;n++)o=this.shapes[n],u.sub(o.position,o.position,i);for(u.add(this.position,this.position,i),n=0;this.concavePath&&n<this.concavePath.length;n++)u.sub(this.concavePath[n],this.concavePath[n],i);this.updateMassProperties(),this.updateBoundingRadius()},a.prototype.setZeroForce=function(){u.set(this.force,0,0),this.angularForce=0},a.prototype.resetConstraintVelocity=function(){var t=this.vlambda;u.set(t,0,0),this.wlambda=0},a.prototype.addConstraintVelocity=function(){var t=this.velocity;u.add(t,t,this.vlambda),this.angularVelocity+=this.wlambda},a.prototype.applyDamping=function(t){var e;this.type===a.DYNAMIC&&(e=this.velocity,u.scale(e,e,Math.pow(1-this.damping,t)),this.angularVelocity*=Math.pow(1-this.angularDamping,t))},a.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=a.AWAKE,this.idleTime=0,t!==a.AWAKE&&this.emit(a.wakeUpEvent)},a.prototype.sleep=function(){this.sleepState=a.SLEEPING,this.angularVelocity=0,this.angularForce=0,u.set(this.velocity,0,0),u.set(this.force,0,0),this.emit(a.sleepEvent)},a.prototype.sleepTick=function(t,e,i){var s;this.allowSleep&&this.type!==a.SLEEPING&&(this.wantsToSleep=!1,this.sleepState,s=u.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2),Math.pow(this.sleepSpeedLimit,2)<=s?(this.idleTime=0,this.sleepState=a.AWAKE):(this.idleTime+=i,this.sleepState=a.SLEEPY),this.idleTime>this.sleepTimeLimit)&&(e?this.wantsToSleep=!0:this.sleep())},a.prototype.overlaps=function(t){return this.world.overlapKeeper.bodiesAreOverlapping(this,t)},u.create()),P=u.create(),C=(a.prototype.integrate=function(t){var e=this.invMass,i=this.force,s=this.position,n=this.velocity;u.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*t),u.scale(T,i,t*e),u.multiply(T,this.massMultiplier,T),u.add(n,T,n),this.integrateToTimeOfImpact(t)||(u.scale(P,n,t),u.add(s,s,P),this.fixedRotation)||(this.angle+=this.angularVelocity*t),this.aabbNeedsUpdate=!0},new s),S=new n({mode:n.ALL}),A=u.create(),E=u.create(),M=u.create(),R=u.create();a.prototype.integrateToTimeOfImpact=function(t){if(this.ccdSpeedThreshold<0||u.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;u.normalize(A,this.velocity),u.scale(E,this.velocity,t),u.add(E,E,this.position),u.sub(M,E,this.position);var e,i=this.angularVelocity*t,s=u.length(M),n=1,o=this;if(C.reset(),S.callback=function(t){t.body!==o&&(e=t.body,t.getHitPoint(E,S),u.sub(M,E,o.position),n=u.length(M)/s,t.stop())},u.copy(S.from,this.position),u.copy(S.to,E),S.update(),this.world.raycast(C,S),!e)return!1;var r=this.angle;u.copy(R,this.position);for(var a=0,h=0,l=0,c=n;h<=c&&a<this.ccdIterations;)a++,l=(c-h)/2,u.scale(P,M,n),u.add(this.position,R,P),this.angle=r+i*n,this.updateAABB(),this.aabb.overlaps(e.aabb)&&this.world.narrowphase.bodiesOverlap(this,e)?h=l:c=l;return n=l,u.copy(this.position,R),this.angle=r,u.scale(P,M,n),u.add(this.position,this.position,P),this.fixedRotation||(this.angle+=i*n),!0},a.prototype.getVelocityAtPoint=function(t,e){return u.crossVZ(t,e,this.angularVelocity),u.subtract(t,this.velocity,t),t},a.sleepyEvent={type:"sleepy"},a.sleepEvent={type:"sleep"},a.wakeUpEvent={type:"wakeup"},a.DYNAMIC=1,a.STATIC=2,a.KINEMATIC=4,a.AWAKE=0,a.SLEEPY=1,a.SLEEPING=2},{"../collision/AABB":7,"../collision/Ray":11,"../collision/RaycastResult":12,"../events/EventEmitter":26,"../math/vec2":30,"../shapes/Convex":40,"poly-decomp":5}],32:[function(t,e,i){var f=t("../math/vec2"),s=t("./Spring");function n(t,e,i){s.call(this,t,e,i=i||{}),this.localAnchorA=f.fromValues(0,0),this.localAnchorB=f.fromValues(0,0),i.localAnchorA&&f.copy(this.localAnchorA,i.localAnchorA),i.localAnchorB&&f.copy(this.localAnchorB,i.localAnchorB),i.worldAnchorA&&this.setWorldAnchorA(i.worldAnchorA),i.worldAnchorB&&this.setWorldAnchorB(i.worldAnchorB);t=f.create(),e=f.create(),this.getWorldAnchorA(t),this.getWorldAnchorB(e),t=f.distance(t,e);this.restLength="number"==typeof i.restLength?i.restLength:t}t("../utils/Utils"),(((e.exports=n).prototype=new s).constructor=n).prototype.setWorldAnchorA=function(t){this.bodyA.toLocalFrame(this.localAnchorA,t)},n.prototype.setWorldAnchorB=function(t){this.bodyB.toLocalFrame(this.localAnchorB,t)},n.prototype.getWorldAnchorA=function(t){this.bodyA.toWorldFrame(t,this.localAnchorA)},n.prototype.getWorldAnchorB=function(t){this.bodyB.toWorldFrame(t,this.localAnchorB)};var g=f.create(),m=f.create(),y=f.create(),v=f.create(),x=f.create(),b=f.create(),_=f.create(),w=f.create(),T=f.create();n.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,i=this.restLength,s=this.bodyA,n=this.bodyB,o=g,r=m,a=y,h=v,l=T,c=x,u=b,d=_,p=w,u=(this.getWorldAnchorA(c),this.getWorldAnchorB(u),f.sub(d,c,s.position),f.sub(p,u,n.position),f.sub(o,u,c),f.len(o)),c=(f.normalize(r,o),f.sub(a,n.velocity,s.velocity),f.crossZV(l,n.angularVelocity,p),f.add(a,a,l),f.crossZV(l,s.angularVelocity,d),f.sub(a,a,l),f.scale(h,r,-t*(u-i)-e*f.dot(a,r)),f.sub(s.force,s.force,h),f.add(n.force,n.force,h),f.crossLength(d,h)),o=f.crossLength(p,h);s.angularForce-=c,n.angularForce+=o}},{"../math/vec2":30,"../utils/Utils":57,"./Spring":34}],33:[function(t,e,i){t("../math/vec2");var s=t("./Spring");function n(t,e,i){s.call(this,t,e,i=i||{}),this.restAngle="number"==typeof i.restAngle?i.restAngle:e.angle-t.angle}(((e.exports=n).prototype=new s).constructor=n).prototype.applyForce=function(){var t=this.stiffness,e=this.damping,i=this.restAngle,s=this.bodyA,n=this.bodyB,t=-t*(n.angle-s.angle-i)-e*(n.angularVelocity-s.angularVelocity)*0;s.angularForce-=t,n.angularForce+=t}},{"../math/vec2":30,"./Spring":34}],34:[function(t,e,i){t("../math/vec2");var s=t("../utils/Utils");(e.exports=function(t,e,i){i=s.defaults(i,{stiffness:100,damping:1}),this.stiffness=i.stiffness,this.damping=i.damping,this.bodyA=t,this.bodyB=e}).prototype.applyForce=function(){}},{"../math/vec2":30,"../utils/Utils":57}],35:[function(t,e,i){var s=t("../math/vec2"),n=(t("../utils/Utils"),t("../constraints/Constraint")),o=t("../equations/FrictionEquation"),r=t("../objects/Body");function a(t,e){this.chassisBody=t,this.wheels=[],this.groundBody=new r({mass:0}),this.world=null;var i=this;this.preStepCallback=function(){i.update()}}function h(t,e){e=e||{},this.vehicle=t,this.forwardEquation=new o(t.chassisBody,t.groundBody),this.sideEquation=new o(t.chassisBody,t.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==e.sideFriction?e.sideFriction:5),this.localForwardVector=s.fromValues(0,1),e.localForwardVector&&s.copy(this.localForwardVector,e.localForwardVector),this.localPosition=s.fromValues(0,0),e.localPosition&&s.copy(this.localPosition,e.localPosition),n.apply(this,t.chassisBody,t.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}(e.exports=a).prototype.addToWorld=function(t){(this.world=t).addBody(this.groundBody),t.on("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var i=this.wheels[e];t.addConstraint(i)}},a.prototype.removeFromWorld=function(){var t=this.world;t.removeBody(this.groundBody),t.off("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var i=this.wheels[e];t.removeConstraint(i)}this.world=null},a.prototype.addWheel=function(t){t=new h(this,t);return this.wheels.push(t),t},a.prototype.update=function(){for(var t=0;t<this.wheels.length;t++)this.wheels[t].update()},(h.prototype=new n).setBrakeForce=function(t){this.forwardEquation.setSlipForce(t)},h.prototype.setSideFriction=function(t){this.sideEquation.setSlipForce(t)};var l=s.create(),c=s.create(),u=(h.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(c,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(l,c),s.dot(l,c)},s.create());h.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),s.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),s.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),s.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),s.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),s.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),s.normalize(u,this.forwardEquation.t),s.scale(u,u,this.engineForce),this.vehicle.chassisBody.applyForce(u,this.forwardEquation.contactPointA)}},{"../constraints/Constraint":14,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],36:[function(t,e,i){e=e.exports={AABB:t("./collision/AABB"),AngleLockEquation:t("./equations/AngleLockEquation"),Body:t("./objects/Body"),Broadphase:t("./collision/Broadphase"),Capsule:t("./shapes/Capsule"),Circle:t("./shapes/Circle"),Constraint:t("./constraints/Constraint"),ContactEquation:t("./equations/ContactEquation"),ContactEquationPool:t("./utils/ContactEquationPool"),ContactMaterial:t("./material/ContactMaterial"),Convex:t("./shapes/Convex"),DistanceConstraint:t("./constraints/DistanceConstraint"),Equation:t("./equations/Equation"),EventEmitter:t("./events/EventEmitter"),FrictionEquation:t("./equations/FrictionEquation"),FrictionEquationPool:t("./utils/FrictionEquationPool"),GearConstraint:t("./constraints/GearConstraint"),GSSolver:t("./solver/GSSolver"),Heightfield:t("./shapes/Heightfield"),Line:t("./shapes/Line"),LockConstraint:t("./constraints/LockConstraint"),Material:t("./material/Material"),Narrowphase:t("./collision/Narrowphase"),NaiveBroadphase:t("./collision/NaiveBroadphase"),Particle:t("./shapes/Particle"),Plane:t("./shapes/Plane"),Pool:t("./utils/Pool"),RevoluteConstraint:t("./constraints/RevoluteConstraint"),PrismaticConstraint:t("./constraints/PrismaticConstraint"),Ray:t("./collision/Ray"),RaycastResult:t("./collision/RaycastResult"),Box:t("./shapes/Box"),RotationalVelocityEquation:t("./equations/RotationalVelocityEquation"),SAPBroadphase:t("./collision/SAPBroadphase"),Shape:t("./shapes/Shape"),Solver:t("./solver/Solver"),Spring:t("./objects/Spring"),TopDownVehicle:t("./objects/TopDownVehicle"),LinearSpring:t("./objects/LinearSpring"),RotationalSpring:t("./objects/RotationalSpring"),Utils:t("./utils/Utils"),World:t("./world/World"),vec2:t("./math/vec2"),version:t("../package.json").version};Object.defineProperty(e,"Rectangle",{get:function(){return console.warn("The Rectangle class has been renamed to Box."),this.Box}})},{"../package.json":6,"./collision/AABB":7,"./collision/Broadphase":8,"./collision/NaiveBroadphase":9,"./collision/Narrowphase":10,"./collision/Ray":11,"./collision/RaycastResult":12,"./collision/SAPBroadphase":13,"./constraints/Constraint":14,"./constraints/DistanceConstraint":15,"./constraints/GearConstraint":16,"./constraints/LockConstraint":17,"./constraints/PrismaticConstraint":18,"./constraints/RevoluteConstraint":19,"./equations/AngleLockEquation":20,"./equations/ContactEquation":21,"./equations/Equation":22,"./equations/FrictionEquation":23,"./equations/RotationalVelocityEquation":25,"./events/EventEmitter":26,"./material/ContactMaterial":27,"./material/Material":28,"./math/vec2":30,"./objects/Body":31,"./objects/LinearSpring":32,"./objects/RotationalSpring":33,"./objects/Spring":34,"./objects/TopDownVehicle":35,"./shapes/Box":37,"./shapes/Capsule":38,"./shapes/Circle":39,"./shapes/Convex":40,"./shapes/Heightfield":41,"./shapes/Line":42,"./shapes/Particle":43,"./shapes/Plane":44,"./shapes/Shape":45,"./solver/GSSolver":46,"./solver/Solver":47,"./utils/ContactEquationPool":48,"./utils/FrictionEquationPool":49,"./utils/Pool":55,"./utils/Utils":57,"./world/World":61}],37:[function(t,e,i){var s=t("../math/vec2"),n=t("./Shape"),o=t("./Convex");function r(t){"number"==typeof t&&"number"==typeof arguments[1]&&(t={width:t,height:arguments[1]},console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })"));var e=this.width=(t=t||{}).width||1,i=this.height=t.height||1,e=[s.fromValues(-e/2,-i/2),s.fromValues(e/2,-i/2),s.fromValues(e/2,i/2),s.fromValues(-e/2,i/2)],i=[s.fromValues(1,0),s.fromValues(0,1)];t.vertices=e,t.axes=i,t.type=n.BOX,o.call(this,t)}(((e.exports=r).prototype=new o).constructor=r).prototype.computeMomentOfInertia=function(t){var e=this.width,i=this.height;return t*(i*i+e*e)/12},r.prototype.updateBoundingRadius=function(){var t=this.width,e=this.height;this.boundingRadius=Math.sqrt(t*t+e*e)/2},s.create(),s.create(),s.create(),s.create(),r.prototype.computeAABB=function(t,e,i){t.setFromPoints(this.vertices,e,i,0)},r.prototype.updateArea=function(){this.area=this.width*this.height}},{"../math/vec2":30,"./Convex":40,"./Shape":45}],38:[function(t,e,i){var s=t("./Shape"),x=t("../math/vec2");function n(t){"number"==typeof t&&"number"==typeof arguments[1]&&(t={length:t,radius:arguments[1]},console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })")),this.length=(t=t||{}).length||1,this.radius=t.radius||1,t.type=s.CAPSULE,s.call(this,t)}(((e.exports=n).prototype=new s).constructor=n).prototype.computeMomentOfInertia=function(t){var e=this.radius,i=this.length+e,e=2*e;return t*(e*e+i*i)/12},n.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},n.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var o=x.create(),b=(n.prototype.computeAABB=function(t,e,i){var s=this.radius;x.set(o,this.length/2,0),0!==i&&x.rotate(o,o,i),x.set(t.upperBound,Math.max(o[0]+s,-o[0]+s),Math.max(o[1]+s,-o[1]+s)),x.set(t.lowerBound,Math.min(o[0]-s,-o[0]-s),Math.min(o[1]-s,-o[1]-s)),x.add(t.lowerBound,t.lowerBound,e),x.add(t.upperBound,t.upperBound,e)},x.create()),_=x.create(),w=x.create(),T=x.create(),P=x.fromValues(0,1);n.prototype.raycast=function(t,e,i,s){for(var n=e.from,o=e.to,r=b,a=_,h=w,l=T,c=this.length/2,u=0;u<2;u++){var d=this.radius*(2*u-1);if(x.set(h,-c,d),x.set(l,c,d),x.toGlobalFrame(h,h,i,s),x.toGlobalFrame(l,l,i,s),0<=(f=x.getLineSegmentsIntersectionFraction(n,o,h,l))&&(x.rotate(a,P,s),x.scale(a,a,2*u-1),e.reportIntersection(t,f,a,-1),t.shouldStop(e)))return}for(var p=Math.pow(this.radius,2)+Math.pow(c,2),u=0;u<2;u++){x.set(h,c*(2*u-1),0),x.toGlobalFrame(h,h,i,s);var f,g=Math.pow(o[0]-n[0],2)+Math.pow(o[1]-n[1],2),m=2*((o[0]-n[0])*(n[0]-h[0])+(o[1]-n[1])*(n[1]-h[1])),y=Math.pow(n[0]-h[0],2)+Math.pow(n[1]-h[1],2)-Math.pow(this.radius,2);if(!((f=Math.pow(m,2)-4*g*y)<0))if(0===f){if(x.lerp(r,n,o,f),x.squaredDistance(r,i)>p&&(x.sub(a,r,h),x.normalize(a,a),e.reportIntersection(t,f,a,-1),t.shouldStop(e)))return}else{var y=Math.sqrt(f),g=1/(2*g),v=(-m-y)*g,m=(-m+y)*g;if(0<=v&&v<=1&&(x.lerp(r,n,o,v),x.squaredDistance(r,i)>p)&&(x.sub(a,r,h),x.normalize(a,a),e.reportIntersection(t,v,a,-1),t.shouldStop(e)))return;if(0<=m&&m<=1&&(x.lerp(r,n,o,m),x.squaredDistance(r,i)>p)&&(x.sub(a,r,h),x.normalize(a,a),e.reportIntersection(t,m,a,-1),t.shouldStop(e)))return}}}},{"../math/vec2":30,"./Shape":45}],39:[function(t,e,i){var s=t("./Shape"),d=t("../math/vec2");function n(t){"number"==typeof t&&(t={radius:t},console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })")),this.radius=(t=t||{}).radius||1,t.type=s.CIRCLE,s.call(this,t)}(((e.exports=n).prototype=new s).constructor=n).prototype.computeMomentOfInertia=function(t){var e=this.radius;return t*e*e/2},n.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},n.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},n.prototype.computeAABB=function(t,e,i){var s=this.radius;d.set(t.upperBound,s,s),d.set(t.lowerBound,-s,-s),e&&(d.add(t.lowerBound,t.lowerBound,e),d.add(t.upperBound,t.upperBound,e))};var p=d.create(),f=d.create();n.prototype.raycast=function(t,e,i,s){var n,o=e.from,r=e.to,a=this.radius,h=Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2),l=2*((r[0]-o[0])*(o[0]-i[0])+(r[1]-o[1])*(o[1]-i[1])),a=Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)-Math.pow(a,2),a=Math.pow(l,2)-4*h*a,c=p,u=f;a<0||(0==a?(d.lerp(c,o,r,a),d.sub(u,c,i),d.normalize(u,u),e.reportIntersection(t,a,u,-1)):(n=(-l+(a=Math.sqrt(a)))*(h=1/(2*h)),0<=(l=(-l-a)*h)&&l<=1&&(d.lerp(c,o,r,l),d.sub(u,c,i),d.normalize(u,u),e.reportIntersection(t,l,u,-1),t.shouldStop(e))||0<=n&&n<=1&&(d.lerp(c,o,r,n),d.sub(u,c,i),d.normalize(u,u),e.reportIntersection(t,n,u,-1))))}},{"../math/vec2":30,"./Shape":45}],40:[function(t,e,i){var h=t("./Shape"),p=t("../math/vec2"),a=t("../math/polyk");function c(t){Array.isArray(t)&&(t={vertices:t,axes:arguments[1]},console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })")),t=t||{},this.vertices=[];for(var e=void 0!==t.vertices?t.vertices:[],i=0;i<e.length;i++){var s=p.create();p.copy(s,e[i]),this.vertices.push(s)}if(this.axes=[],t.axes)for(i=0;i<t.axes.length;i++){var n=p.create();p.copy(n,t.axes[i]),this.axes.push(n)}else for(i=0;i<this.vertices.length;i++){var o=this.vertices[i],r=this.vertices[(i+1)%this.vertices.length],a=p.create();p.sub(a,r,o),p.rotate90cw(a,a),p.normalize(a,a),this.axes.push(a)}if(this.centerOfMass=p.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,t.type=h.CONVEX,h.call(this,t),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}t("poly-decomp"),((e.exports=c).prototype=new h).constructor=c;var l=p.create(),o=p.create(),u=(c.prototype.projectOntoLocalAxis=function(t,e){for(var i,s,n=null,o=null,r=(t=l,0);r<this.vertices.length;r++)i=this.vertices[r],i=p.dot(i,t),(null===n||n<i)&&(n=i),(null===o||i<o)&&(o=i);n<o&&(s=o,o=n,n=s),p.set(e,o,n)},c.prototype.projectOntoWorldAxis=function(t,e,i,s){var n=o,i=(this.projectOntoLocalAxis(t,s),0!==i?p.rotate(n,t,i):n=t,p.dot(e,n));p.set(s,s[0]+i,s[1]+i)},c.prototype.updateTriangles=function(){for(var t=[],e=this.triangles.length=0;e<this.vertices.length;e++){var i=this.vertices[e];t.push(i[0],i[1])}for(var s=a.Triangulate(t),e=0;e<s.length;e+=3){var n=s[e],o=s[e+1],r=s[e+2];this.triangles.push([n,o,r])}},p.create()),d=p.create(),f=(p.create(),p.create(),p.create(),p.create(),p.create(),p.create(),p.create(),c.prototype.updateCenterOfMass=function(){var t=this.triangles,e=this.vertices,i=this.centerOfMass,s=u,n=d;p.set(i,0,0);for(var o=0,r=0;r!==t.length;r++){var a=t[r],h=e[a[0]],l=e[a[1]],a=e[a[2]],h=(p.centroid(s,h,l,a),c.triangleArea(h,l,a));o+=h,p.scale(n,s,h),p.add(i,i,n)}p.scale(i,i,1/o)},c.prototype.computeMomentOfInertia=function(t){for(var e=0,i=0,s=this.vertices.length,n=s-1,o=0;o<s;n=o,o++){var r=this.vertices[n],a=this.vertices[o],h=Math.abs(p.crossLength(r,a));e+=h*(p.dot(a,a)+p.dot(a,r)+p.dot(r,r)),i+=h}return t/6*(e/i)},c.prototype.updateBoundingRadius=function(){for(var t=this.vertices,e=0,i=0;i!==t.length;i++){var s=p.squaredLength(t[i]);e<s&&(e=s)}this.boundingRadius=Math.sqrt(e)},c.triangleArea=function(t,e,i){return.5*((e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1]))},c.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var t=this.triangles,e=this.vertices,i=0;i!==t.length;i++){var s=t[i],n=e[s[0]],o=e[s[1]],s=e[s[2]],n=c.triangleArea(n,o,s);this.area+=n}},c.prototype.computeAABB=function(t,e,i){t.setFromPoints(this.vertices,e,i,0)},p.create()),g=p.create(),m=p.create();c.prototype.raycast=function(t,e,i,s){var n=f,o=g,r=m,a=this.vertices;p.toLocalFrame(n,e.from,i,s),p.toLocalFrame(o,e.to,i,s);for(var h=a.length,l=0;l<h&&!t.shouldStop(e);l++){var c=a[l],u=a[(l+1)%h],d=p.getLineSegmentsIntersectionFraction(n,o,c,u);0<=d&&(p.sub(r,u,c),p.rotate(r,r,-Math.PI/2+s),p.normalize(r,r),e.reportIntersection(t,d,r,l))}}},{"../math/polyk":29,"../math/vec2":30,"./Shape":45,"poly-decomp":5}],41:[function(t,e,i){var s=t("./Shape"),p=t("../math/vec2");function n(t){if(Array.isArray(t)){if(t={heights:t},"object"==typeof arguments[1])for(var e in arguments[1])t[e]=arguments[1][e];console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")}this.heights=(t=t||{}).heights?t.heights.slice(0):[],this.maxValue=t.maxValue||null,this.minValue=t.minValue||null,this.elementWidth=t.elementWidth||.1,void 0!==t.maxValue&&void 0!==t.minValue||this.updateMaxMinValues(),t.type=s.HEIGHTFIELD,s.call(this,t)}t("../utils/Utils"),(((e.exports=n).prototype=new s).constructor=n).prototype.updateMaxMinValues=function(){for(var t=this.heights,e=t[0],i=t[0],s=0;s!==t.length;s++){var n=t[s];e<n&&(e=n),n<i&&(i=n)}this.maxValue=e,this.minValue=i},n.prototype.computeMomentOfInertia=function(t){return Number.MAX_VALUE},n.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},n.prototype.updateArea=function(){for(var t=this.heights,e=0,i=0;i<t.length-1;i++)e+=(t[i]+t[i+1])/2*this.elementWidth;this.area=e};var o=[p.create(),p.create(),p.create(),p.create()],f=(n.prototype.computeAABB=function(t,e,i){p.set(o[0],0,this.maxValue),p.set(o[1],this.elementWidth*this.heights.length,this.maxValue),p.set(o[2],this.elementWidth*this.heights.length,this.minValue),p.set(o[3],0,this.minValue),t.setFromPoints(o,e,i)},n.prototype.getLineSegment=function(t,e,i){var s=this.heights,n=this.elementWidth;p.set(t,i*n,s[i]),p.set(e,(i+1)*n,s[i+1])},n.prototype.getSegmentIndex=function(t){return Math.floor(t[0]/this.elementWidth)},n.prototype.getClampedSegmentIndex=function(t){t=this.getSegmentIndex(t);return Math.min(this.heights.length,Math.max(t,0))},p.create(),p.create()),g=p.create(),m=p.create(),y=p.create(),v=p.create();p.fromValues(0,1),n.prototype.raycast=function(t,e,i,s){var n=e.from,o=e.to,r=f,a=g,h=m,l=y,c=v,n=(p.toLocalFrame(l,n,i,s),p.toLocalFrame(c,o,i,s),this.getClampedSegmentIndex(l)),o=this.getClampedSegmentIndex(c);o<n&&(i=n,n=o,o=i);for(var u=0;u<this.heights.length-1;u++){this.getLineSegment(a,h,u);var d=p.getLineSegmentsIntersectionFraction(l,c,a,h);if(0<=d&&(p.sub(r,h,a),p.rotate(r,r,s+Math.PI/2),p.normalize(r,r),e.reportIntersection(t,d,r,-1),t.shouldStop(e)))return}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],42:[function(t,e,i){var s=t("./Shape"),l=t("../math/vec2");function n(t){"number"==typeof t&&(t={length:t},console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })")),this.length=(t=t||{}).length||1,t.type=s.LINE,s.call(this,t)}(((e.exports=n).prototype=new s).constructor=n).prototype.computeMomentOfInertia=function(t){return t*Math.pow(this.length,2)/12},n.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var o=[l.create(),l.create()],c=(n.prototype.computeAABB=function(t,e,i){var s=this.length/2;l.set(o[0],-s,0),l.set(o[1],s,0),t.setFromPoints(o,e,i,0)},l.create(),l.create()),u=l.create(),d=l.create(),p=l.fromValues(0,1);n.prototype.raycast=function(t,e,i,s){var n=e.from,o=e.to,r=u,a=d,h=this.length/2,h=(l.set(r,-h,0),l.set(a,h,0),l.toGlobalFrame(r,r,i,s),l.toGlobalFrame(a,a,i,s),l.getLineSegmentsIntersectionFraction(r,a,n,o));0<=h&&(l.rotate(i=c,p,s),e.reportIntersection(t,h,i,-1))}},{"../math/vec2":30,"./Shape":45}],43:[function(t,e,i){var s=t("./Shape"),n=t("../math/vec2");function o(t){(t=t||{}).type=s.PARTICLE,s.call(this,t)}(((e.exports=o).prototype=new s).constructor=o).prototype.computeMomentOfInertia=function(t){return 0},o.prototype.updateBoundingRadius=function(){this.boundingRadius=0},o.prototype.computeAABB=function(t,e,i){n.copy(t.lowerBound,e),n.copy(t.upperBound,e)}},{"../math/vec2":30,"./Shape":45}],44:[function(t,e,i){var s=t("./Shape"),c=t("../math/vec2");function n(t){(t=t||{}).type=s.PLANE,s.call(this,t)}t("../utils/Utils"),(((e.exports=n).prototype=new s).constructor=n).prototype.computeMomentOfInertia=function(t){return 0},n.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},n.prototype.computeAABB=function(t,e,i){var i=i%(2*Math.PI),s=c.set,n=t.lowerBound,t=t.upperBound;s(n,-1e7,-1e7),s(t,1e7,1e7),0==i?t[1]=0:i==Math.PI/2?n[0]=0:i===Math.PI?n[1]=0:i==3*Math.PI/2&&(t[0]=0)},n.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var u=c.create(),d=(c.create(),c.create(),c.create()),p=c.create();n.prototype.raycast=function(t,e,i,s){var n=e.from,o=e.to,r=e.direction,a=u,h=d,l=p,s=(c.set(h,0,1),c.rotate(h,h,s),c.sub(l,n,i),c.dot(l,h));c.sub(l,o,i),0<s*c.dot(l,h)||c.squaredDistance(n,o)<s*s||(l=c.dot(h,r),c.sub(a,n,i),o=-c.dot(h,a)/l/e.length,e.reportIntersection(t,o,h,-1))}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],45:[function(t,e,i){e.exports=n;var s=t("../math/vec2");function n(t){t=t||{},this.body=null,this.position=s.fromValues(0,0),t.position&&s.copy(this.position,t.position),this.angle=t.angle||0,this.type=t.type||0,this.id=n.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:1,this.material=t.material||null,this.area=0,this.sensor=void 0!==t.sensor&&t.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}n.idCounter=0,n.CIRCLE=1,n.PARTICLE=2,n.PLANE=4,n.CONVEX=8,n.LINE=16,n.BOX=32,n.CAPSULE=64,n.HEIGHTFIELD=128,n.prototype.computeMomentOfInertia=function(t){},n.prototype.updateBoundingRadius=function(){},n.prototype.updateArea=function(){},n.prototype.computeAABB=function(t,e,i){},n.prototype.raycast=function(t,e,i,s){}},{"../math/vec2":30}],46:[function(t,e,i){var P=t("../math/vec2"),s=t("./Solver"),C=t("../utils/Utils"),S=t("../equations/FrictionEquation");function A(t){s.call(this,t,s.GS),this.iterations=(t=t||{}).iterations||10,this.tolerance=t.tolerance||1e-7,this.arrayStep=30,this.lambda=new C.ARRAY_TYPE(this.arrayStep),this.Bs=new C.ARRAY_TYPE(this.arrayStep),this.invCs=new C.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=void 0!==t.frictionIterations?0:t.frictionIterations,this.usedIterations=0}(((e.exports=A).prototype=new s).constructor=A).prototype.solve=function(t,e){this.sortEquations();var i=0,s=this.iterations,n=this.frictionIterations,o=this.equations,r=o.length,a=Math.pow(this.tolerance*r,2),h=e.bodies,l=e.bodies.length,c=(P.add,P.set,this.useZeroRHS),u=this.lambda;if(this.usedIterations=0,r)for(var d=0;d!==l;d++)h[d].updateSolveMassProperties();u.length<r&&(u=this.lambda=new C.ARRAY_TYPE(r+this.arrayStep),this.Bs=new C.ARRAY_TYPE(r+this.arrayStep),this.invCs=new C.ARRAY_TYPE(r+this.arrayStep));for(var p=u,f=p.length;f--;)p[f]=0;for(var g,m,y=this.invCs,v=this.Bs,u=this.lambda,d=0;d!==o.length;d++)(x=o[d]).timeStep===t&&!x.needsUpdate||(x.timeStep=t,x.update()),v[d]=x.computeB(x.a,x.b,t),y[d]=x.computeInvC(x.epsilon);if(0!==r){for(d=0;d!==l;d++)h[d].resetConstraintVelocity();if(n){for(i=0;i!==n;i++){for(m=g=0;m!==r;m++){var x=o[m],b=A.iterateEquation(m,x,x.epsilon,v,y,u,c,t,i);g+=Math.abs(b)}if(this.usedIterations++,g*g<=a)break}for(A.updateMultipliers(o,u,1/t),m=0;m!==r;m++){var _=o[m];if(_ instanceof S){for(var w=0,T=0;T!==_.contactEquations.length;T++)w+=_.contactEquations[T].multiplier;w*=_.frictionCoefficient/_.contactEquations.length,_.maxForce=w,_.minForce=-w}}}for(i=0;i!==s;i++){for(m=g=0;m!==r;m++)x=o[m],b=A.iterateEquation(m,x,x.epsilon,v,y,u,c,t,i),g+=Math.abs(b);if(this.usedIterations++,g*g<=a)break}for(d=0;d!==l;d++)h[d].addConstraintVelocity();A.updateMultipliers(o,u,1/t)}},A.updateMultipliers=function(t,e,i){for(var s=t.length;s--;)t[s].multiplier=e[s]*i},A.iterateEquation=function(t,e,i,s,n,o,r,a,h){var s=s[t],n=n[t],l=o[t],c=e.computeGWlambda(),u=e.maxForce,d=e.minForce,n=n*((s=r?0:s)-c-i*l),r=l+n;return r<d*a?n=d*a-l:u*a<r&&(n=u*a-l),o[t]+=n,e.addToWlambda(n),n}},{"../equations/FrictionEquation":23,"../math/vec2":30,"../utils/Utils":57,"./Solver":47}],47:[function(t,e,i){t("../utils/Utils");var s=t("../events/EventEmitter");function n(t,e){t=t||{},s.call(this),this.type=e,this.equations=[],this.equationSortFunction=t.equationSortFunction||!1}(((e.exports=n).prototype=new s).constructor=n).prototype.solve=function(t,e){throw new Error("Solver.solve should be implemented by subclasses!")};var o={bodies:[]};n.prototype.solveIsland=function(t,e){this.removeAllEquations(),e.equations.length&&(this.addEquations(e.equations),o.bodies.length=0,e.getBodies(o.bodies),o.bodies.length)&&this.solve(t,o)},n.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},n.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},n.prototype.addEquations=function(t){for(var e=0,i=t.length;e!==i;e++){var s=t[e];s.enabled&&this.equations.push(s)}},n.prototype.removeEquation=function(t){t=this.equations.indexOf(t);-1!==t&&this.equations.splice(t,1)},n.prototype.removeAllEquations=function(){this.equations.length=0},n.GS=1,n.ISLAND=2},{"../events/EventEmitter":26,"../utils/Utils":57}],48:[function(t,e,i){var s=t("../equations/ContactEquation"),n=t("./Pool");function o(){n.apply(this,arguments)}(((e.exports=o).prototype=new n).constructor=o).prototype.create=function(){return new s},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/ContactEquation":21,"./Pool":55}],49:[function(t,e,i){var s=t("../equations/FrictionEquation"),n=t("./Pool");function o(){n.apply(this,arguments)}(((e.exports=o).prototype=new n).constructor=o).prototype.create=function(){return new s},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/FrictionEquation":23,"./Pool":55}],50:[function(t,e,i){var s=t("../world/IslandNode"),n=t("./Pool");function o(){n.apply(this,arguments)}(((e.exports=o).prototype=new n).constructor=o).prototype.create=function(){return new s},o.prototype.destroy=function(t){return t.reset(),this}},{"../world/IslandNode":60,"./Pool":55}],51:[function(t,e,i){var s=t("../world/Island"),n=t("./Pool");function o(){n.apply(this,arguments)}(((e.exports=o).prototype=new n).constructor=o).prototype.create=function(){return new s},o.prototype.destroy=function(t){return t.reset(),this}},{"../world/Island":58,"./Pool":55}],52:[function(t,e,i){var s=t("./TupleDictionary"),n=(t("./OverlapKeeperRecord"),t("./OverlapKeeperRecordPool"));function o(){this.overlappingShapesLastState=new s,this.overlappingShapesCurrentState=new s,this.recordPool=new n({size:16}),this.tmpDict=new s,this.tmpArray1=[]}t("./Utils"),(e.exports=o).prototype.tick=function(){for(var t=this.overlappingShapesLastState,e=this.overlappingShapesCurrentState,i=t.keys.length;i--;){var s=t.keys[i],n=t.getByKey(s);e.getByKey(s),n&&this.recordPool.release(n)}t.reset(),t.copy(e),e.reset()},o.prototype.setOverlapping=function(t,e,i,s){this.overlappingShapesLastState;var n,o=this.overlappingShapesCurrentState;o.get(e.id,s.id)||((n=this.recordPool.get()).set(t,e,i,s),o.set(e.id,s.id,n))},o.prototype.getNewOverlaps=function(t){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,t)},o.prototype.getEndOverlaps=function(t){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,t)},o.prototype.bodiesAreOverlapping=function(t,e){for(var i=this.overlappingShapesCurrentState,s=i.keys.length;s--;){var n=i.keys[s],n=i.data[n];if(n.bodyA===t&&n.bodyB===e||n.bodyA===e&&n.bodyB===t)return!0}return!1},o.prototype.getDiff=function(t,e,i){var s=t,n=e;(i=i||[]).length=0;for(var o=n.keys.length;o--;){var r=n.keys[o],a=n.data[r];if(!a)throw new Error("Key "+r+" had no data!");s.data[r]||i.push(a)}return i},o.prototype.isNewOverlap=function(t,e){var t=0|t.id,e=0|e.id,i=this.overlappingShapesLastState,s=this.overlappingShapesCurrentState;return!i.get(t,e)&&!!s.get(t,e)},o.prototype.getNewBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},o.prototype.getEndBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},o.prototype.getBodyDiff=function(t,e){e=e||[];for(var i=this.tmpDict,s=t.length;s--;){var n=t[s];i.set(0|n.bodyA.id,0|n.bodyB.id,n)}for(s=i.keys.length;s--;)(n=i.getByKey(i.keys[s]))&&e.push(n.bodyA,n.bodyB);return i.reset(),e}},{"./OverlapKeeperRecord":53,"./OverlapKeeperRecordPool":54,"./TupleDictionary":56,"./Utils":57}],53:[function(t,e,i){function n(t,e,i,s){this.shapeA=e,this.shapeB=s,this.bodyA=t,this.bodyB=i}(e.exports=n).prototype.set=function(t,e,i,s){n.call(this,t,e,i,s)}},{}],54:[function(t,e,i){var s=t("./OverlapKeeperRecord"),n=t("./Pool");function o(){n.apply(this,arguments)}(((e.exports=o).prototype=new n).constructor=o).prototype.create=function(){return new s},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=t.shapeA=t.shapeB=null,this}},{"./OverlapKeeperRecord":53,"./Pool":55}],55:[function(t,e,i){function s(t){t=t||{},this.objects=[],void 0!==t.size&&this.resize(t.size)}(e.exports=s).prototype.resize=function(t){for(var e=this.objects;e.length>t;)e.pop();for(;e.length<t;)e.push(this.create());return this},s.prototype.get=function(){var t=this.objects;return t.length?t.pop():this.create()},s.prototype.release=function(t){return this.destroy(t),this.objects.push(t),this}},{}],56:[function(t,e,i){var s=t("./Utils");function n(){this.data={},this.keys=[]}(e.exports=n).prototype.getKey=function(t,e){return(0|(t|=0))==(0|(e|=0))?-1:0|((0|e)<(0|t)?t<<16|65535&e:e<<16|65535&t)},n.prototype.getByKey=function(t){return this.data[t|=0]},n.prototype.get=function(t,e){return this.data[this.getKey(t,e)]},n.prototype.set=function(t,e,i){if(i)return t=this.getKey(t,e),this.data[t]||this.keys.push(t),this.data[t]=i,t;throw new Error("No data!")},n.prototype.reset=function(){for(var t=this.data,e=this.keys,i=e.length;i--;)delete t[e[i]];e.length=0},n.prototype.copy=function(t){this.reset(),s.appendArray(this.keys,t.keys);for(var e=t.keys.length;e--;){var i=t.keys[e];this.data[i]=t.data[i]}}},{"./Utils":57}],57:[function(t,e,i){function s(){}(e.exports=s).appendArray=function(t,e){if(e.length<15e4)t.push.apply(t,e);else for(var i=0,s=e.length;i!==s;++i)t.push(e[i])},s.splice=function(t,e,i){for(var s=e,n=t.length-(i=i||1);s<n;s++)t[s]=t[s+i];t.length=n},s.ARRAY_TYPE="undefined"!=typeof P2_ARRAY_TYPE?P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?Float32Array:Array,s.extend=function(t,e){for(var i in e)t[i]=e[i]},s.defaults=function(t,e){for(var i in t=t||{},e)i in t||(t[i]=e[i]);return t}},{}],58:[function(t,e,i){var s=t("../objects/Body");function n(){this.equations=[],this.bodies=[]}(e.exports=n).prototype.reset=function(){this.equations.length=this.bodies.length=0};var o=[];n.prototype.getBodies=function(t){for(var e=t||[],i=this.equations,s=o.length=0;s!==i.length;s++){var n=i[s];-1===o.indexOf(n.bodyA.id)&&(e.push(n.bodyA),o.push(n.bodyA.id)),-1===o.indexOf(n.bodyB.id)&&(e.push(n.bodyB),o.push(n.bodyB.id))}return e},n.prototype.wantsToSleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];if(e.type===s.DYNAMIC&&!e.wantsToSleep)return!1}return!0},n.prototype.sleep=function(){for(var t=0;t<this.bodies.length;t++)this.bodies[t].sleep();return!0}},{"../objects/Body":31}],59:[function(t,e,i){t("../math/vec2"),t("./Island"),t("./IslandNode");var s=t("./../utils/IslandNodePool"),n=t("./../utils/IslandPool"),r=t("../objects/Body");function p(t){this.nodePool=new s({size:16}),this.islandPool=new n({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}(e.exports=p).getUnvisitedNode=function(t){for(var e=t.length,i=0;i!==e;i++){var s=t[i];if(!s.visited&&s.body.type===r.DYNAMIC)return s}return!1},p.prototype.visit=function(t,e,i){e.push(t.body);for(var s=t.equations.length,n=0;n!==s;n++){var o=t.equations[n];-1===i.indexOf(o)&&i.push(o)}},p.prototype.bfs=function(t,e,i){var s=this.queue;for(s.length=0,s.push(t),t.visited=!0,this.visit(t,e,i);s.length;)for(var n,o=s.pop();n=p.getUnvisitedNode(o.neighbors);)n.visited=!0,this.visit(n,e,i),n.body.type===r.DYNAMIC&&s.push(n)},p.prototype.split=function(t){for(var e=t.bodies,i=this.nodes,s=this.equations;i.length;)this.nodePool.release(i.pop());for(var n=0;n!==e.length;n++){var o=this.nodePool.get();o.body=e[n],i.push(o)}for(var r=0;r!==s.length;r++){var a=s[r],h=(n=e.indexOf(a.bodyA),e.indexOf(a.bodyB)),l=i[n],h=i[h];l.neighbors.push(h),h.neighbors.push(l),l.equations.push(a),h.equations.push(a)}for(var c,u=this.islands,n=0;n<u.length;n++)this.islandPool.release(u[n]);for(u.length=0;c=p.getUnvisitedNode(i);){var d=this.islandPool.get();this.bfs(c,d.bodies,d.equations),u.push(d)}return u}},{"../math/vec2":30,"../objects/Body":31,"./../utils/IslandNodePool":50,"./../utils/IslandPool":51,"./Island":58,"./IslandNode":60}],60:[function(t,e,i){(e.exports=function(t){this.body=t,this.neighbors=[],this.equations=[],this.visited=!1}).prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],61:[function(t,e,i){var s=t("../solver/GSSolver"),V=(t("../solver/Solver"),t("../collision/Ray"),t("../math/vec2")),y=t("../shapes/Circle"),v=t("../shapes/Convex"),x=(t("../shapes/Line"),t("../shapes/Plane")),b=t("../shapes/Capsule"),_=t("../shapes/Particle"),n=t("../events/EventEmitter"),H=t("../objects/Body"),o=(t("../shapes/Shape"),t("../objects/LinearSpring"),t("../material/Material")),r=t("../material/ContactMaterial"),a=(t("../constraints/DistanceConstraint"),t("../constraints/Constraint"),t("../constraints/LockConstraint"),t("../constraints/RevoluteConstraint"),t("../constraints/PrismaticConstraint"),t("../constraints/GearConstraint"),t("../../package.json"),t("../collision/Broadphase"),t("../collision/AABB")),h=t("../collision/SAPBroadphase"),l=t("../collision/Narrowphase"),q=t("../utils/Utils"),c=t("../utils/OverlapKeeper"),u=t("./IslandManager");function Y(t){n.apply(this),t=t||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=t.solver||new s,this.narrowphase=new l(this),this.islandManager=new u,this.gravity=V.fromValues(0,-9.78),t.gravity&&V.copy(this.gravity,t.gravity),this.frictionGravity=V.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=t.broadphase||new h,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new o,this.defaultContactMaterial=new r(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===t.islandSplit||!!t.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=Y.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new c}t("../objects/RotationalSpring"),(((e.exports=Y).prototype=new Object(n.prototype)).constructor=Y).NO_SLEEPING=1,Y.BODY_SLEEPING=2,Y.ISLAND_SLEEPING=4,Y.prototype.addConstraint=function(t){this.constraints.push(t)},Y.prototype.addContactMaterial=function(t){this.contactMaterials.push(t)},Y.prototype.removeContactMaterial=function(t){t=this.contactMaterials.indexOf(t);-1!==t&&q.splice(this.contactMaterials,t,1)},Y.prototype.getContactMaterial=function(t,e){for(var i=this.contactMaterials,s=0,n=i.length;s!==n;s++){var o=i[s];if(o.materialA.id===t.id&&o.materialB.id===e.id||o.materialA.id===e.id&&o.materialB.id===t.id)return o}return!1},Y.prototype.removeConstraint=function(t){t=this.constraints.indexOf(t);-1!==t&&q.splice(this.constraints,t,1)},V.create(),V.create(),V.create(),V.create(),V.create(),V.create();var z=V.create(),g=V.fromValues(0,0),m=V.fromValues(0,0),K=(V.fromValues(0,0),V.fromValues(0,0),Y.prototype.step=function(t,e,i){if(i=i||10,0===(e=e||0))this.internalStep(t),this.time+=t;else{this.accumulator+=e;for(var s=0;this.accumulator>=t&&s<i;)this.internalStep(t),this.time+=t,this.accumulator-=t,s++;for(var n=this.accumulator%t/t,o=0;o!==this.bodies.length;o++){var r=this.bodies[o];V.lerp(r.interpolatedPosition,r.previousPosition,r.position,n),r.interpolatedAngle=r.previousAngle+n*(r.angle-r.previousAngle)}}},[]),w=(Y.prototype.internalStep=function(t){this.stepping=!0;var e,i=this.springs.length,s=this.springs,n=this.bodies,o=this.gravity,r=this.solver,a=this.bodies.length,h=this.broadphase,l=this.narrowphase,c=this.constraints,u=z,F=(V.scale,V.add),d=(V.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=t,!this.useWorldGravityAsFrictionGravity||0===(B=V.length(this.gravity))&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=B),this.applyGravity)for(var p=0;p!==a;p++){var f=(e=n[p]).force;e.type===H.DYNAMIC&&e.sleepState!==H.SLEEPING&&(V.scale(u,o,e.mass*e.gravityScale),F(f,f,u))}if(this.applySpringForces)for(p=0;p!==i;p++)s[p].applyForce();if(this.applyDamping)for(p=0;p!==a;p++)(e=n[p]).type===H.DYNAMIC&&e.applyDamping(t);var g=h.getCollisionPairs(this),m=this.disabledBodyCollisionPairs;for(p=m.length-2;0<=p;p-=2)for(var y=g.length-2;0<=y;y-=2)(m[p]===g[y]&&m[p+1]===g[y+1]||m[p+1]===g[y]&&m[p]===g[y+1])&&g.splice(y,2);var v=c.length;for(p=0;p!==v;p++){var x=c[p];if(!x.collideConnected)for(y=g.length-2;0<=y;y-=2)(x.bodyA===g[y]&&x.bodyB===g[y+1]||x.bodyB===g[y]&&x.bodyA===g[y+1])&&g.splice(y,2)}this.postBroadphaseEvent.pairs=g,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,l.reset(this),p=0;for(var D=g.length;p!==D;p+=2)for(var b=g[p],_=g[p+1],w=0,U=b.shapes.length;w!==U;w++)for(var T=b.shapes[w],G=T.position,N=T.angle,P=0,X=_.shapes.length;P!==X;P++){var C,S=_.shapes[P],W=S.position,j=S.angle,A=this.defaultContactMaterial;T.material&&S.material&&(C=this.getContactMaterial(T.material,S.material))&&(A=C),this.runNarrowphase(l,b,T,G,N,_,S,W,j,A,this.frictionGravity)}for(p=0;p!==a;p++)(R=n[p])._wakeUpAfterNarrowphase&&(R.wakeUp(),R._wakeUpAfterNarrowphase=!1);if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(K);for(var E=this.endContactEvent,P=K.length;P--;){var M=K[P];E.shapeA=M.shapeA,E.shapeB=M.shapeB,E.bodyA=M.bodyA,E.bodyB=M.bodyB,this.emit(E)}K.length=0}var R,L,B=this.preSolveEvent;for(B.contactEquations=l.contactEquations,B.frictionEquations=l.frictionEquations,this.emit(B),B.contactEquations=B.frictionEquations=null,v=c.length,p=0;p!==v;p++)c[p].update();if(l.contactEquations.length||l.frictionEquations.length||v)if(this.islandSplit){for(d.equations.length=0,q.appendArray(d.equations,l.contactEquations),q.appendArray(d.equations,l.frictionEquations),p=0;p!==v;p++)q.appendArray(d.equations,c[p].equations);for(d.split(this),p=0;p!==d.islands.length;p++)(L=d.islands[p]).equations.length&&r.solveIsland(t,L)}else{for(r.addEquations(l.contactEquations),r.addEquations(l.frictionEquations),p=0;p!==v;p++)r.addEquations(c[p].equations);this.solveConstraints&&r.solve(t,this),r.removeAllEquations()}for(p=0;p!==a;p++)(R=n[p]).integrate(t);for(p=0;p!==a;p++)n[p].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var I=this.impactEvent,p=0;p!==l.contactEquations.length;p++){var O=l.contactEquations[p];O.firstImpact&&(I.bodyA=O.bodyA,I.bodyB=O.bodyB,I.shapeA=O.shapeA,I.shapeB=O.shapeB,I.contactEquation=O,this.emit(I))}if(this.sleepMode===Y.BODY_SLEEPING)for(p=0;p!==a;p++)n[p].sleepTick(this.time,!1,t);else if(this.sleepMode===Y.ISLAND_SLEEPING&&this.islandSplit){for(p=0;p!==a;p++)n[p].sleepTick(this.time,!0,t);for(p=0;p<this.islandManager.islands.length;p++)(L=this.islandManager.islands[p]).wantsToSleep()&&L.sleep()}this.stepping=!1;var k=this.bodiesToBeRemoved;for(p=0;p!==k.length;p++)this.removeBody(k[p]);k.length=0,this.emit(this.postStepEvent)},Y.prototype.runNarrowphase=function(t,e,i,s,n,o,r,a,h,l,c){if(0!=(i.collisionGroup&r.collisionMask)&&0!=(r.collisionGroup&i.collisionMask)){V.rotate(g,s,e.angle),V.rotate(m,a,o.angle),V.add(g,g,e.position),V.add(m,m,o.position);s=n+e.angle,a=h+o.angle,h=(t.enableFriction=0<l.friction,t.frictionCoefficient=l.friction,n=e.type===H.STATIC||e.type===H.KINEMATIC?o.mass:o.type===H.STATIC||o.type===H.KINEMATIC?e.mass:e.mass*o.mass/(e.mass+o.mass),t.slipForce=l.friction*c*n,t.restitution=l.restitution,t.surfaceVelocity=l.surfaceVelocity,t.frictionStiffness=l.frictionStiffness,t.frictionRelaxation=l.frictionRelaxation,t.stiffness=l.stiffness,t.relaxation=l.relaxation,t.contactSkinSize=l.contactSkinSize,t.enabledEquations=e.collisionResponse&&o.collisionResponse&&i.collisionResponse&&r.collisionResponse,t[i.type|r.type]);if(h){var c=i.sensor||r.sensor,n=t.frictionEquations.length,l=i.type<r.type?h.call(t,e,i,g,s,o,r,m,a,c):h.call(t,o,r,m,a,e,i,g,s,c),u=t.frictionEquations.length-n;if(l){if(e.allowSleep&&e.type===H.DYNAMIC&&e.sleepState===H.SLEEPING&&o.sleepState===H.AWAKE&&o.type!==H.STATIC&&(h=V.squaredLength(o.velocity)+Math.pow(o.angularVelocity,2),2*Math.pow(o.sleepSpeedLimit,2)<=h)&&(e._wakeUpAfterNarrowphase=!0),o.allowSleep&&o.type===H.DYNAMIC&&o.sleepState===H.SLEEPING&&e.sleepState===H.AWAKE&&e.type!==H.STATIC&&(a=V.squaredLength(e.velocity)+Math.pow(e.angularVelocity,2),2*Math.pow(e.sleepSpeedLimit,2)<=a)&&(o._wakeUpAfterNarrowphase=!0),this.overlapKeeper.setOverlapping(e,i,o,r),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(i,r)){var d=this.beginContactEvent;if(d.shapeA=i,d.shapeB=r,d.bodyA=e,d.bodyB=o,d.contactEquations.length=0,"number"==typeof l)for(var p=t.contactEquations.length-l;p<t.contactEquations.length;p++)d.contactEquations.push(t.contactEquations[p]);this.emit(d)}if("number"==typeof l&&1<u)for(p=t.frictionEquations.length-u;p<t.frictionEquations.length;p++){var f=t.frictionEquations[p];f.setSlipForce(f.getSlipForce()/u)}}}}},Y.prototype.addSpring=function(t){this.springs.push(t);var e=this.addSpringEvent;e.spring=t,this.emit(e),e.spring=null},Y.prototype.removeSpring=function(t){t=this.springs.indexOf(t);-1!==t&&q.splice(this.springs,t,1)},Y.prototype.addBody=function(t){var e;-1===this.bodies.indexOf(t)&&(this.bodies.push(t),(e=(t.world=this).addBodyEvent).body=t,this.emit(e),e.body=null)},Y.prototype.removeBody=function(t){var e;this.stepping?this.bodiesToBeRemoved.push(t):(t.world=null,-1!==(e=this.bodies.indexOf(t))&&(q.splice(this.bodies,e,1),(this.removeBodyEvent.body=t).resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null))},Y.prototype.getBodyById=function(t){for(var e=this.bodies,i=0;i<e.length;i++){var s=e[i];if(s.id===t)return s}return!1},Y.prototype.disableBodyCollision=function(t,e){this.disabledBodyCollisionPairs.push(t,e)},Y.prototype.enableBodyCollision=function(t,e){for(var i=this.disabledBodyCollisionPairs,s=0;s<i.length;s+=2)if(i[s]===t&&i[s+1]===e||i[s+1]===t&&i[s]===e)return void i.splice(s,2)},Y.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var t=this.constraints,e=t.length-1;0<=e;e--)this.removeConstraint(t[e]);for(var i=this.bodies,e=i.length-1;0<=e;e--)this.removeBody(i[e]);var s=this.springs;for(e=s.length-1;0<=e;e--)this.removeSpring(s[e]);var n=this.contactMaterials;for(e=n.length-1;0<=e;e--)this.removeContactMaterial(n[e]);Y.apply(this)},V.create()),T=(V.fromValues(0,0),V.fromValues(0,0)),d=(Y.prototype.hitTest=function(t,e,i){i=i||0;var s=new H({position:t}),n=new _,o=t,r=w,a=T;s.addShape(n);for(var h=this.narrowphase,l=[],c=0,u=e.length;c!==u;c++)for(var d=e[c],p=0,f=d.shapes.length;p!==f;p++){var g=d.shapes[p],m=(V.rotate(r,g.position,d.angle),V.add(r,r,d.position),g.angle+d.angle);(g instanceof y&&h.circleParticle(d,g,r,m,s,n,o,0,!0)||g instanceof v&&h.particleConvex(s,n,o,0,d,g,r,m,!0)||g instanceof x&&h.particlePlane(s,n,o,0,d,g,r,m,!0)||g instanceof b&&h.particleCapsule(s,n,o,0,d,g,r,m,!0)||g instanceof _&&V.squaredLength(V.sub(a,r,t))<i*i)&&l.push(d)}return l},Y.prototype.setGlobalStiffness=function(t){for(var e=this.constraints,i=0;i!==e.length;i++)for(var s=e[i],n=0;n!==s.equations.length;n++){var o=s.equations[n];o.stiffness=t,o.needsUpdate=!0}for(var r=this.contactMaterials,i=0;i!==r.length;i++)(s=r[i]).stiffness=s.frictionStiffness=t;(s=this.defaultContactMaterial).stiffness=s.frictionStiffness=t},Y.prototype.setGlobalRelaxation=function(t){for(var e=0;e!==this.constraints.length;e++)for(var i=this.constraints[e],s=0;s!==i.equations.length;s++){var n=i.equations[s];n.relaxation=t,n.needsUpdate=!0}for(e=0;e!==this.contactMaterials.length;e++)(i=this.contactMaterials[e]).relaxation=i.frictionRelaxation=t;(i=this.defaultContactMaterial).relaxation=i.frictionRelaxation=t},new a),p=[];Y.prototype.raycast=function(t,e){return e.getAABB(d),this.broadphase.aabbQuery(this,d,p),e.intersectBodies(t,p),p.length=0,t.hasHit()}},{"../../package.json":6,"../collision/AABB":7,"../collision/Broadphase":8,"../collision/Narrowphase":10,"../collision/Ray":11,"../collision/SAPBroadphase":13,"../constraints/Constraint":14,"../constraints/DistanceConstraint":15,"../constraints/GearConstraint":16,"../constraints/LockConstraint":17,"../constraints/PrismaticConstraint":18,"../constraints/RevoluteConstraint":19,"../events/EventEmitter":26,"../material/ContactMaterial":27,"../material/Material":28,"../math/vec2":30,"../objects/Body":31,"../objects/LinearSpring":32,"../objects/RotationalSpring":33,"../shapes/Capsule":38,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Line":42,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45,"../solver/GSSolver":46,"../solver/Solver":47,"../utils/OverlapKeeper":52,"../utils/Utils":57,"./IslandManager":59}]},{},[36])(36)}),function(){var P=P||{},c=(P.DisplayObject=function(){this.position=new P.Point(0,0),this.scale=new P.Point(1,1),this.pivot=new P.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.renderable=!1,this.parent=null,this.worldAlpha=1,this.worldTransform=new Phaser.Matrix,this.worldPosition=new P.Point(0,0),this.worldScale=new P.Point(1,1),this.worldRotation=0,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new P.Rectangle(0,0,0,0),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},P.DisplayObject.prototype={constructor:P.DisplayObject,destroy:function(){if(this.children){for(var t=this.children.length;t--;)this.children[t].destroy();this.children=[]}this.hitArea=null,this.parent=null,this.worldTransform=null,this.filterArea=null,this.renderable=!1,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite(),this._destroyTintedTexture()},updateTransform:function(t){var e,i,s,n,o,r,a,h;return(t||this.parent||this.game)&&(e=this.parent,t?e=t:this.parent||(e=this.game.world),t=e.worldTransform,o=this.worldTransform,this.rotation%Phaser.Math.PI2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),i=this._cr*this.scale.x,h=this._sr*this.scale.x,s=-this._sr*this.scale.y,n=this._cr*this.scale.y,r=this.position.x,a=this.position.y,(this.pivot.x||this.pivot.y)&&(r-=this.pivot.x*i+this.pivot.y*s,a-=this.pivot.x*h+this.pivot.y*n),o.a=i*t.a+h*t.c,o.b=i*t.b+h*t.d,o.c=s*t.a+n*t.c,o.d=s*t.b+n*t.d):(i=this.scale.x,s=h=0,n=this.scale.y,r=this.position.x-this.pivot.x*i,a=this.position.y-this.pivot.y*n,o.a=i*t.a,o.b=i*t.b,o.c=n*t.c,o.d=n*t.d),o.tx=r*t.a+a*t.c+t.tx,o.ty=r*t.b+a*t.d+t.ty,r=(i=o.a)*(n=o.d)-(h=o.b)*(s=o.c),i||h?(a=Math.sqrt(i*i+h*h),this.worldRotation=0<h?Math.acos(i/a):-Math.acos(i/a),this.worldScale.x=a,this.worldScale.y=r/a):s||n?(h=Math.sqrt(s*s+n*n),this.worldRotation=Phaser.Math.HALF_PI-(0<n?Math.acos(-s/h):-Math.acos(s/h)),this.worldScale.x=r/h,this.worldScale.y=h):(this.worldScale.x=0,this.worldScale.y=0),this.worldAlpha=this.alpha*e.worldAlpha,this.worldPosition.x=o.tx,this.worldPosition.y=o.ty,this._currentBounds=null,this.transformCallback)&&this.transformCallback.call(this.transformCallbackContext,o,t),this},preUpdate:function(){},generateTexture:function(t,e,i){var s=this.getLocalBounds(),i=new Phaser.RenderTexture(this.game,0|s.width,0|s.height,i,e,t);return P.DisplayObject._tempMatrix.tx=-s.x,P.DisplayObject._tempMatrix.ty=-s.y,i.render(this,P.DisplayObject._tempMatrix),i},updateCache:function(){return this._generateCachedSprite(),this},toGlobal:function(t){return this.updateTransform(),this.worldTransform.apply(t)},toLocal:function(t,e){return e&&(t=e.toGlobal(t)),this.updateTransform(),this.worldTransform.applyInverse(t)},_renderCachedSprite:function(t){this._cachedSprite.worldAlpha=this.worldAlpha,(t.gl?P.Sprite.prototype._renderWebGL:P.Sprite.prototype._renderCanvas).call(this._cachedSprite,t)},_generateCachedSprite:function(){this._cacheAsBitmap=!1;var t=this.getLocalBounds(),e=(t.width=Math.max(1,Math.ceil(t.width)),t.height=Math.max(1,Math.ceil(t.height)),this.updateTransform(),this._cachedSprite?this._cachedSprite.texture.resize(t.width,t.height):(e=0,this.texture&&this.texture.baseTexture&&P._enableMultiTextureToggle&&(e=this.texture.baseTexture.textureIndex),e=new Phaser.RenderTexture(this.game,t.width,t.height,void 0,void 0,void 0,void 0,e),this._cachedSprite=new P.Sprite(e),this._cachedSprite.worldTransform=this.worldTransform),this._filters);this._filters=null,this._cachedSprite.filters=e,P.DisplayObject._tempMatrix.tx=-t.x,P.DisplayObject._tempMatrix.ty=-t.y,this._cachedSprite.texture.render(this,P.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._filters=e,this._cacheAsBitmap=!0},_destroyCachedSprite:function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)},_destroyTintedTexture:function(){this.tintedTexture&&(Phaser.CanvasPool.removeByCanvas(this.tintedTexture),this.tintedTexture=null)}},P.DisplayObject.prototype.displayObjectUpdateTransform=P.DisplayObject.prototype.updateTransform,Object.defineProperties(P.DisplayObject.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){if(this.visible){var t=this.parent;if(!t)return this.visible;do{if(!t.visible)return!1}while(t=t.parent);return!0}return!1}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.isMask=!1),(this._mask=t)&&(this._mask.isMask=!0)}},filters:{get:function(){return this._filters},set:function(t){if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)for(var s=t[i].passes,n=0;n<s.length;n++)e.push(s[n]);this._filterBlock={target:this,filterPasses:e}}this._filters=t,this.blendMode&&this.blendMode===P.blendModes.MULTIPLY&&(this.blendMode=P.blendModes.NORMAL)}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}}),P.DisplayObjectContainer=function(){P.DisplayObject.call(this),this.children=[],this.ignoreChildInput=!1},P.DisplayObjectContainer.prototype=Object.create(P.DisplayObject.prototype),P.DisplayObjectContainer.prototype.constructor=P.DisplayObjectContainer,P.DisplayObjectContainer.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},P.DisplayObjectContainer.prototype.addChildAt=function(t,e){if(0<=e&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),(t.parent=this).children.splice(e,0,t),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},P.DisplayObjectContainer.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),s=this.getChildIndex(e);if(i<0||s<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[i]=e,this.children[s]=t}},P.DisplayObjectContainer.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},P.DisplayObjectContainer.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(t);this.children.splice(i,1),this.children.splice(e,0,t)},P.DisplayObjectContainer.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[t]},P.DisplayObjectContainer.prototype.removeChild=function(t){t=this.children.indexOf(t);if(-1!==t)return this.removeChildAt(t)},P.DisplayObjectContainer.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e&&(e.parent=void 0,this.children.splice(t,1)),e},P.DisplayObjectContainer.prototype.bringChildToTop=function(t){if(t.parent===this)return this.setChildIndex(t,this.children.length-1)},P.DisplayObjectContainer.prototype.sendChildToBack=function(t){if(t.parent===this)return this.setChildIndex(t,0)},P.DisplayObjectContainer.prototype.removeChildren=function(t,e){var i=(e=void 0===e?this.children.length:e)-(t=void 0===t?0:t);if(0<i&&i<=e){for(var s=this.children.splice(t,i),n=0;n<s.length;n++)s[n].parent=void 0;return s}if(0==i&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},P.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var t=0;t<this.children.length;t++)this.children[t].updateTransform()},P.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=P.DisplayObjectContainer.prototype.updateTransform,P.DisplayObjectContainer.prototype.getBounds=function(t){var e=t&&t instanceof P.DisplayObject,i=!0;if(e?i=t instanceof P.DisplayObjectContainer&&t.contains(this):t=this,e){var s=t.worldTransform;for(t.worldTransform=Phaser.identityMatrix,u=0;u<t.children.length;u++)t.children[u].updateTransform()}for(var n,o,r=1/0,a=1/0,h=-1/0,l=-1/0,c=!1,u=0;u<this.children.length;u++)this.children[u].visible&&(c=!0,r=r<(n=this.children[u].getBounds()).x?r:n.x,a=a<n.y?a:n.y,h=(o=n.width+n.x)<h?h:o,l=(o=n.height+n.y)<l?l:o);var d,p,f,g,m,y,v,x,b,_,w,T=this._bounds;if(c||(y=(T=new P.Rectangle).x,d=T.width+T.x,r=(b=(w=(_=this.worldTransform).a)*d+(f=_.c)*(x=T.y)+(g=_.tx))<(r=(v=w*y+f*x+g)<(r=(m=w*y+f*(p=T.height+T.y)+g)<(r=h=w*d+f*p+g)?m:r)?v:r)?b:r,a=(_=(w=_.d)*x+(f=_.b)*d+(g=_.ty))<(a=(x=w*x+f*y+g)<(a=(y=w*p+f*y+g)<(a=l=w*p+f*d+g)?y:a)?x:a)?_:a,h=(h=(h=h<m?m:h)<v?v:h)<b?b:h,l=(l=(l=l<y?y:l)<x?x:l)<_?_:l),T.x=r,T.y=a,T.width=h-r,T.height=l-a,e)for(t.worldTransform=s,u=0;u<t.children.length;u++)t.children[u].updateTransform();return i||(w=t.getBounds(),T.x-=w.x,T.y-=w.y),T},P.DisplayObjectContainer.prototype.getLocalBounds=function(){return this.getBounds(this)},P.DisplayObjectContainer.prototype.contains=function(t){return!!t&&(t===this||this.contains(t.parent))},P.DisplayObjectContainer.prototype._renderWebGL=function(t){var e;if(this.visible&&!(this.alpha<=0))if(this._cacheAsBitmap)this._renderCachedSprite(t);else if(this._mask||this._filters){for(this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),e=0;e<this.children.length;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),t.spriteBatch.start()}else for(e=0;e<this.children.length;e++)this.children[e]._renderWebGL(t)},P.DisplayObjectContainer.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(t);else{this._mask&&t.maskManager.pushMask(this._mask,t);for(var e=0;e<this.children.length;e++)this.children[e]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},Object.defineProperty(P.DisplayObjectContainer.prototype,"width",{get:function(){return this.getLocalBounds().width*this.scale.x},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}}),Object.defineProperty(P.DisplayObjectContainer.prototype,"height",{get:function(){return this.getLocalBounds().height*this.scale.y},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}),P.Sprite=function(t){P.DisplayObjectContainer.call(this),this.anchor=new P.Point(P.Sprite.defaultAnchor.x,P.Sprite.defaultAnchor.y),this.texture=t||P.Texture.emptyTexture,this._width=0,this._height=0,this.tint=16777215,this.cachedTint=-1,this.tintedTexture=null,this.blendMode=P.blendModes.NORMAL,this.shader=null,this.exists=!0,this.texture.baseTexture.hasLoaded&&this.onTextureUpdate(),this.renderable=!0},P.Sprite.defaultAnchor={x:0,y:0},P.Sprite.prototype=Object.create(P.DisplayObjectContainer.prototype),P.Sprite.prototype.constructor=P.Sprite,Object.defineProperty(P.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(P.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),P.Sprite.prototype.setTexture=function(t,e){e&&this.texture.baseTexture.destroy(),this.texture.baseTexture.skipRender=!1,this.texture=t,this.texture.valid=!0,this.cachedTint=-1},P.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},P.Sprite.prototype.getBounds=function(t){var e,i,s,n=this.texture.frame.width,o=this.texture.frame.height,r=n*(1-this.anchor.x),n=n*-this.anchor.x,a=o*(1-this.anchor.y),o=o*-this.anchor.y,t=t||this.worldTransform,h=t.a,l=t.b,c=t.c,u=t.d,d=t.tx,t=t.ty,p=-1/0,f=-1/0,g=1/0,m=1/0,u=(f=0===l&&0===c?(h<0&&(h*=-1,s=r,r=-n,n=-s),u<0&&(u*=-1,s=a,a=-o,o=-s),g=h*n+d,p=h*r+d,m=u*o+t,u*a+t):(g=(s=h*n+c*a+d)<(g=(i=h*r+c*a+d)<(g=(e=h*r+c*o+d)<(g=(h=h*n+c*o+d)<g?h:g)?e:g)?i:g)?s:g,m=(c=u*a+l*n+t)<(m=(d=u*a+l*r+t)<(m=(a=u*o+l*r+t)<(m=(r=u*o+l*n+t)<m?r:m)?a:m)?d:m)?c:m,p=(p=(p=(p=p<h?h:p)<e?e:p)<i?i:p)<s?s:p,(f=(f=(f=f<r?r:f)<a?a:f)<d?d:f)<c?c:f),this._bounds);return u.x=g,u.width=p-g,u.y=m,u.height=f-m,this._currentBounds=u},P.Sprite.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=Phaser.identityMatrix;for(var e=0;e<this.children.length;e++)this.children[e].updateTransform();var i=this.getBounds();for(this.worldTransform=t,e=0;e<this.children.length;e++)this.children[e].updateTransform();return i},P.Sprite.prototype._renderWebGL=function(t,e){if(this.visible&&!(this.alpha<=0)&&this.renderable){var i=this.worldTransform;if(e&&(i=e),this._mask||this._filters){e=t.spriteBatch;this._filters&&(e.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(e.stop(),t.maskManager.pushMask(this.mask,t),e.start()),e.render(this);for(var s=0;s<this.children.length;s++)this.children[s]._renderWebGL(t);e.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),e.start()}else for(t.spriteBatch.render(this),s=0;s<this.children.length;s++)this.children[s]._renderWebGL(t,i)}},P.Sprite.prototype._renderCanvas=function(t,e){if(!(!this.visible||0===this.alpha||!this.renderable||this.texture.crop.width<1||this.texture.crop.height<1)){var i=this.worldTransform;if(e&&(i=e),this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=P.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t),this.texture.valid){var s,n,o,r,a,e=this.texture.baseTexture.resolution/t.resolution,h=(t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.scaleMode!==this.texture.baseTexture.scaleMode&&(t.scaleMode=this.texture.baseTexture.scaleMode,t.context[t.smoothProperty]=t.scaleMode===P.scaleModes.LINEAR),this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width),l=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height,c=i.tx*t.resolution+t.shakeX,u=i.ty*t.resolution+t.shakeY,d=this.texture.crop.width,p=this.texture.crop.height;if(this.texture.rotated&&(s=i.b,o=d,c=(a=i.c)*p+c,u=(n=i.d)*p+u,i.a=6123233995736766e-32*(r=i.a)-a,i.b=6123233995736766e-32*s-n,i.c=r+6123233995736766e-32*a,i.d=s+6123233995736766e-32*n,d=p,p=o),t.roundPixels?(t.context.setTransform(i.a,i.b,i.c,i.d,0|c,0|u),h|=0,l|=0):t.context.setTransform(i.a,i.b,i.c,i.d,c,u),h/=e,l/=e,p|=0,(d|=0)&&p){for(16777215!==this.tint?(!this.texture.requiresReTint&&this.cachedTint===this.tint||(this.tintedTexture=P.CanvasTinter.getTintedTexture(this,this.tint),this.cachedTint=this.tint,this.texture.requiresReTint=!1),t.context.drawImage(this.tintedTexture,0,0,d,p,h,l,d/e,p/e)):(r=this.texture.crop.x,a=this.texture.crop.y,t.context.drawImage(this.texture.baseTexture.source,r,a,d,p,h,l,d/e,p/e)),f=0;f<this.children.length;f++)this.children[f]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}}else{for(var f=0;f<this.children.length;f++)this.children[f]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}}},P.initDefaultShaders=function(){},P.CompileVertexShader=function(t,e){return P._CompileShader(t,e,t.VERTEX_SHADER)},P.CompileFragmentShader=function(t,e){return P._CompileShader(t,e,t.FRAGMENT_SHADER)},P._CompileShader=function(t,e,i){var s=e,e=(Array.isArray(e)&&(s=e.join("\n")),t.createShader(i));return t.shaderSource(e,s),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:(window.console.log(t.getShaderInfoLog(e)),null)},P.compileProgram=function(t,e,i){var i=P.CompileFragmentShader(t,i),e=P.CompileVertexShader(t,e),s=t.createProgram();return t.attachShader(s,e),t.attachShader(s,i),t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(window.console.log(t.getProgramInfoLog(s)),window.console.log("Could not initialise shaders")),s},P.PixiShader=function(t){this._UID=Phaser._UID++,this.gl=t,this.program=null,this.fragmentSrc=null,this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},P.PixiShader.prototype.constructor=P.PixiShader,P.PixiShader.prototype.initMultitexShader=function(){var t=this.gl;this.MAX_TEXTURES=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);for(var e="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",i=1;i<this.MAX_TEXTURES;++i)e+="\tif (vTextureIndex == "+i+".0) {gl_FragColor = texture2D(uSamplerArray["+i+"], vTextureCoord) * vColor;return;}\n";this.fragmentSrc=["// PixiShader Fragment Shader.","precision lowp float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",e,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) { gl_FragColor = RED;return;}","}"];var s=P.compileProgram(t,this.vertexSrc||P.PixiShader.defaultVertexSrc,this.fragmentSrc),n=(t.useProgram(s),this.uSamplerArray=t.getUniformLocation(s,"uSamplerArray[0]"),this.projectionVector=t.getUniformLocation(s,"projectionVector"),this.offsetVector=t.getUniformLocation(s,"offsetVector"),this.dimensions=t.getUniformLocation(s,"dimensions"),this.aVertexPosition=t.getAttribLocation(s,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(s,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(s,"aColor"),this.aTextureIndex=t.getAttribLocation(s,"aTextureIndex"),[]),o=t.createTexture();t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGB,1,1,0,t.RGB,t.UNSIGNED_BYTE,null);for(var r,a=0;a<this.MAX_TEXTURES;++a)t.activeTexture(t.TEXTURE0+a),t.bindTexture(t.TEXTURE_2D,o),n.push(a);for(r in t.activeTexture(t.TEXTURE0),t.uniform1iv(this.uSamplerArray,n),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute,this.aTextureIndex],this.uniforms)this.uniforms[r].uniformLocation=t.getUniformLocation(s,r);this.initUniforms(),this.program=s},P.PixiShader.prototype.initDefaultShader=function(){null===this.fragmentSrc&&(this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"]);var t,e=this.gl,i=P.compileProgram(e,this.vertexSrc||P.PixiShader.defaultVertexSrc,this.fragmentSrc);for(t in e.useProgram(i),this.uSampler=e.getUniformLocation(i,"uSampler"),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.dimensions=e.getUniformLocation(i,"dimensions"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(i,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(i,"aColor"),this.aTextureIndex=e.getAttribLocation(i,"aTextureIndex"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute,this.aTextureIndex],this.uniforms)this.uniforms[t].uniformLocation=e.getUniformLocation(i,t);this.initUniforms(),this.program=i},P.PixiShader.prototype.init=function(t){P._enableMultiTextureToggle&&!t?this.initMultitexShader():this.initDefaultShader()},P.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var t,e,i=this.gl;for(e in this.uniforms){var s=(t=this.uniforms[e]).type;"sampler2D"===s?(t._init=!1,null!==t.value&&this.initSampler2D(t)):"mat2"===s||"mat3"===s||"mat4"===s?(t.glMatrix=!0,t.glValueLength=1,"mat2"===s?t.glFunc=i.uniformMatrix2fv:"mat3"===s?t.glFunc=i.uniformMatrix3fv:"mat4"===s&&(t.glFunc=i.uniformMatrix4fv)):(t.glFunc=i["uniform"+s],t.glValueLength="2f"===s||"2i"===s?2:"3f"===s||"3i"===s?3:"4f"===s||"4i"===s?4:1)}},P.PixiShader.prototype.initSampler2D=function(t){var e,i,s,n,o,r,a,h,l;t.value&&t.value.baseTexture&&t.value.baseTexture.hasLoaded&&((e=this.gl).activeTexture(e.TEXTURE0+this.textureCount),e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]),t.textureData&&(i=(l=t.textureData).magFilter||e.LINEAR,s=l.minFilter||e.LINEAR,n=l.wrapS||e.CLAMP_TO_EDGE,o=l.wrapT||e.CLAMP_TO_EDGE,r=l.luminance?e.LUMINANCE:e.RGBA,l.repeat&&(n=e.REPEAT,o=e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!!l.flipY),l.width?(a=l.width||512,h=l.height||2,l=l.border||0,e.texImage2D(e.TEXTURE_2D,0,r,a,h,l,r,e.UNSIGNED_BYTE,null)):e.texImage2D(e.TEXTURE_2D,0,r,e.RGBA,e.UNSIGNED_BYTE,t.value.baseTexture.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,o)),e.uniform1i(t.uniformLocation,this.textureCount),t._init=!0,this.textureCount++)},P.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var t,e,i=this.gl;for(e in this.uniforms)1===(t=this.uniforms[e]).glValueLength?!0===t.glMatrix?t.glFunc.call(i,t.uniformLocation,t.transpose,t.value):t.glFunc.call(i,t.uniformLocation,t.value):2===t.glValueLength?t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y):3===t.glValueLength?t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y,t.value.z):4===t.glValueLength?t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y,t.value.z,t.value.w):"sampler2D"===t.type&&(t._init?(i.activeTexture(i["TEXTURE"+this.textureCount]),t.value.baseTexture._dirty[i.id]?P.instances[i.id].updateTexture(t.value.baseTexture):i.bindTexture(i.TEXTURE_2D,t.value.baseTexture._glTextures[i.id]),i.uniform1i(t.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(t))},P.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},P.PixiShader.defaultVertexSrc=["// PixiShader Vertex Shader","// With multi-texture rendering","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute float aTextureIndex;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   if (aTextureIndex > 0.0) gl_Position = vec4(0.0);","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","   vTextureIndex = aTextureIndex;","}"],P.PixiFastShader=function(t){if(this._UID=Phaser._UID++,this.gl=t,this.program=null,P._enableMultiTextureToggle){t=this.gl,this.MAX_TEXTURES=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);for(var e="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",i=1;i<this.MAX_TEXTURES;++i)e+="\tif (vTextureIndex == "+i+".0) { gl_FragColor = texture2D(uSamplerArray["+i+"], vTextureCoord) * vColor;return;}\n";this.fragmentSrc=["// PixiFastShader Fragment Shader.","precision lowp float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",e,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) {gl_FragColor = RED;return;}","}"]}else this.fragmentSrc=["// PixiFastShader Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"];this.vertexSrc=["// PixiFastShader Vertex Shader.","attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute float aTextureIndex;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","varying float vTextureIndex;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vTextureIndex = aTextureIndex;","   vColor = aColor;","}"],this.textureCount=0,this.init()},P.PixiFastShader.prototype.constructor=P.PixiFastShader,P.PixiFastShader.prototype.init=function(){var t=this.gl,e=P.compileProgram(t,this.vertexSrc,this.fragmentSrc);if(t.useProgram(e),this.uSampler=P._enableMultiTextureToggle?t.getUniformLocation(e,"uSamplerArray[0]"):t.getUniformLocation(e,"uSampler"),P._enableMultiTextureToggle){var i=[],s=t.createTexture();t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGB,1,1,0,t.RGB,t.UNSIGNED_BYTE,null);for(var n=0;n<this.MAX_TEXTURES;++n)t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,s),i.push(n);t.activeTexture(t.TEXTURE0),t.uniform1iv(this.uSampler,i)}this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.uMatrix=t.getUniformLocation(e,"uMatrix"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aPositionCoord=t.getAttribLocation(e,"aPositionCoord"),this.aScale=t.getAttribLocation(e,"aScale"),this.aRotation=t.getAttribLocation(e,"aRotation"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.aTextureIndex=t.getAttribLocation(e,"aTextureIndex"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute,this.aTextureIndex],this.program=e},P.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},P.StripShader=function(t){if(this._UID=Phaser._UID++,this.gl=t,this.program=null,P._enableMultiTextureToggle){t=this.gl,this.MAX_TEXTURES=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);for(var e="\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord);return;}\n",i=1;i<this.MAX_TEXTURES;++i)e+="\tif (vTextureIndex == "+i+".0) { gl_FragColor = texture2D(uSamplerArray["+i+"], vTextureCoord) ;return;}\n";this.fragmentSrc=["//StripShader Fragment Shader.","precision mediump float;","bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }","varying vec2 vTextureCoord;","varying float vTextureIndex;","uniform float alpha;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);","const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);","void main(void) {",e,"   if(vTextureIndex >= "+this.MAX_TEXTURES+".0) { gl_FragColor = BLUE;return;}","   if(isnan(vTextureIndex)) {gl_FragColor = RED;return;}","}"]}else this.fragmentSrc=["//StripShader Fragment Shader.","precision mediump float;","varying vec2 vTextureCoord;","varying float vTextureIndex;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord);","}"];this.vertexSrc=["//StripShader Vertex Shader.","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aTextureIndex;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying float vTextureIndex;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vTextureIndex = aTextureIndex;","}"],this.init()},P.StripShader.prototype.constructor=P.StripShader,P.StripShader.prototype.init=function(){var t=this.gl,e=P.compileProgram(t,this.vertexSrc,this.fragmentSrc);if(t.useProgram(e),this.uSampler=P._enableMultiTextureToggle?t.getUniformLocation(e,"uSamplerArray[0]"):t.getUniformLocation(e,"uSampler"),P._enableMultiTextureToggle){var i=[],s=t.createTexture();t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGB,1,1,0,t.RGB,t.UNSIGNED_BYTE,null);for(var n=0;n<this.MAX_TEXTURES;++n)t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,s),i.push(n);t.activeTexture(t.TEXTURE0),t.uniform1iv(this.uSampler,i)}this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.aTextureIndex=t.getAttribLocation(e,"aTextureIndex"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.aTextureIndex],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},P.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},P.PrimitiveShader=function(t){this._UID=Phaser._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},P.PrimitiveShader.prototype.constructor=P.PrimitiveShader,P.PrimitiveShader.prototype.init=function(){var t=this.gl,e=P.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.flipY=t.getUniformLocation(e,"flipY"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},P.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},P.ComplexPrimitiveShader=function(t){this._UID=Phaser._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},P.ComplexPrimitiveShader.prototype.constructor=P.ComplexPrimitiveShader,P.ComplexPrimitiveShader.prototype.init=function(){var t=this.gl,e=P.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.color=t.getUniformLocation(e,"color"),this.flipY=t.getUniformLocation(e,"flipY"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},P.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},P.glContexts=[],P.instances=[],P._enableMultiTextureToggle=!1,P.WebGLRenderer=function(t,e){this.game=t,this.extensions={},this.type=Phaser.WEBGL,this.resolution=t.resolution,this.transparent=t.transparent,this.autoResize=!1,this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.clearBeforeRender=t.clearBeforeRender,this.powerPreference=t.powerPreference,this.width=t.width,this.height=t.height,this.view=t.canvas,this._contextOptions={alpha:this.transparent,antialias:t.antialias,failIfMajorPerformanceCaveat:e.failIfMajorPerformanceCaveat,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:this.preserveDrawingBuffer,powerPreference:t.powerPreference},this.projection=new P.Point,this.offset=new P.Point,this.shaderManager=new P.WebGLShaderManager,this.spriteBatch=new P.WebGLSpriteBatch(t),this.maskManager=new P.WebGLMaskManager,this.filterManager=new P.WebGLFilterManager,this.stencilManager=new P.WebGLStencilManager,this.blendModeManager=new P.WebGLBlendModeManager,this.renderSession={},this.currentBatchedTextures=[],this.renderSession.game=this.game,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,(this.renderSession.renderer=this).renderSession.resolution=this.resolution,this.renderSession.roundPixels=e.roundPixels||!1,this.renderSession.maxTextureAvailableSpace=null,this.initContext(),this.mapBlendModes()},P.WebGLRenderer.prototype.constructor=P.WebGLRenderer,P.WebGLRenderer.prototype.initContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(!(this.gl=t))throw new Error("This browser does not support webGL. Try using the canvas renderer");this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=this.gl.getParameter(t.MAX_TEXTURE_SIZE),this.glContextId=t.id=P.WebGLRenderer.glContextId++,P.glContexts[this.glContextId]=t,P.instances[this.glContextId]=this,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.shaderManager.setContext(t),this.spriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.blendModeManager.setContext(t),this.stencilManager.setContext(t),this.renderSession.gl=this.gl,this.resize(this.width,this.height),this.extensions.compression={};var e=t.getExtension("WEBGL_compressed_texture_etc1")||t.getExtension("WEBKIT_WEBGL_compressed_texture_etc1"),i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),t=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");e&&(this.extensions.compression.ETC1=e),i&&(this.extensions.compression.PVRTC=i),t&&(this.extensions.compression.S3TC=t)},P.WebGLRenderer.prototype.setTexturePriority=function(t){if(P._enableMultiTextureToggle){for(var e=function(t){return--t,t=(t=(t=(t=(t|=t>>1)|t>>2)|t>>4)|t>>8)|t>>16,++t},i=this.gl,s=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),i=i.getParameter(i.MAX_TEXTURE_SIZE),n=this.game.cache._cache.image,o=null,r=0;r<this.currentBatchedTextures.length;r++)(o=this.currentBatchedTextures[r])in n?n[o].base.textureIndex=0:console.warn('setTexturePriority: There is no image "%s" in the image cache.',o);for(var a,h=i-e(Math.max(this.width,this.height)),l=this.currentBatchedTextures.length=0;l<t.length;++l)(o=t[l])in n?(a=n[o].base,(h-=e(Math.max(a.width,a.height)))<=0?(a.textureIndex=0,console.warn('setTexturePriority: Image "%s" was given textureIndex=0 because there is no available texture space (%s).',o,h)):a.textureIndex=1+l%(s-1),this.currentBatchedTextures.push(o)):console.warn('setTexturePriority: There is no image "%s" in the image cache.',o);return this.renderSession.maxTextureAvailableSpace=h,this.currentBatchedTextures}console.warn("setTexturePriority error: Multi Texture support hasn't been enabled in the Phaser Game Config.")},P.WebGLRenderer.prototype.render=function(t){var e;this.contextLost||((e=this.gl).viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,null),this.game.clearBeforeRender&&(e.clearColor(t._bgColor.r,t._bgColor.g,t._bgColor.b,t._bgColor.a),e.clear(e.COLOR_BUFFER_BIT)),this.offset.x=this.game.camera._shake.x,this.offset.y=this.game.camera._shake.y,this.renderDisplayObject(t,this.projection))},P.WebGLRenderer.prototype.postRender=function(){this.gl.flush()},P.WebGLRenderer.prototype.renderDisplayObject=function(t,e,i,s){this.renderSession.blendModeManager.setBlendMode(P.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.flipY=i?-1:1,this.renderSession.projection=e,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,i),t._renderWebGL(this.renderSession,s),this.spriteBatch.end()},P.WebGLRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},P.WebGLRenderer.prototype.updateCompressedTexture=function(t){var e,i;return!(!t.hasLoaded||(e=this.gl,i=t.source,t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture()),e.activeTexture(e.TEXTURE0+t.textureIndex),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.compressedTexImage2D(e.TEXTURE_2D,0,i.glExtensionFormat,i.width,i.height,0,i.textureData),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===P.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&Phaser.Math.isPowerOfTwo(t.width,t.height)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===P.scaleModes.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===P.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t._powerOf2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),t._dirty[e.id]=!1))},P.WebGLRenderer.prototype.updateTexture=function(t){var e;return!(!t.hasLoaded||!t.source)&&(t.source.compressionAlgorithm?this.updateCompressedTexture(t):(e=this.gl,t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture()),e.activeTexture(e.TEXTURE0+t.textureIndex),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===P.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&Phaser.Math.isPowerOfTwo(t.width,t.height)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===P.scaleModes.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===P.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t._powerOf2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),!(t._dirty[e.id]=!1)))},P.WebGLRenderer.prototype.destroy=function(){P.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null,Phaser.CanvasPool.remove(this),P.instances[this.glContextId]=null,P.WebGLRenderer.glContextId--},P.WebGLRenderer.prototype.mapBlendModes=function(){var t,e,i=this.gl;P.blendModesWebGL||((t=[])[(e=P.blendModes).NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.ADD]=[i.SRC_ALPHA,i.DST_ALPHA],t[e.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA],t[e.SCREEN]=[i.SRC_ALPHA,i.ONE],t[e.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],P.blendModesWebGL=t)},P.WebGLRenderer.prototype.getMaxTextureUnit=function(){var t=this.gl;return t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)},P.enableMultiTexture=function(){P._enableMultiTextureToggle=!0},P.WebGLRenderer.glContextId=0,P.WebGLRenderer.textureArray=[],P.WebGLBlendModeManager=function(){this.currentBlendMode=99999},P.WebGLBlendModeManager.prototype.constructor=P.WebGLBlendModeManager,P.WebGLBlendModeManager.prototype.setContext=function(t){this.gl=t},P.WebGLBlendModeManager.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;t=P.blendModesWebGL[this.currentBlendMode];return t&&this.gl.blendFunc(t[0],t[1]),!0},P.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},P.WebGLMaskManager=function(){},P.WebGLMaskManager.prototype.constructor=P.WebGLMaskManager,P.WebGLMaskManager.prototype.setContext=function(t){this.gl=t},P.WebGLMaskManager.prototype.pushMask=function(t,e){var i=e.gl;t.dirty&&P.WebGLGraphics.updateGraphics(t,i),void 0!==t._webGL[i.id]&&void 0!==t._webGL[i.id].data&&0!==t._webGL[i.id].data.length&&e.stencilManager.pushStencil(t,t._webGL[i.id].data[0],e)},P.WebGLMaskManager.prototype.popMask=function(t,e){var i=this.gl;void 0!==t._webGL[i.id]&&void 0!==t._webGL[i.id].data&&0!==t._webGL[i.id].data.length&&e.stencilManager.popStencil(t,t._webGL[i.id].data[0],e)},P.WebGLMaskManager.prototype.destroy=function(){this.gl=null},P.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},P.WebGLStencilManager.prototype.setContext=function(t){this.gl=t},P.WebGLStencilManager.prototype.pushStencil=function(t,e,i){var s=this.gl,t=(this.bindGraphics(t,e,i),0===this.stencilStack.length&&(s.enable(s.STENCIL_TEST),s.clear(s.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(e),this.count);s.colorMask(!1,!1,!1,!1),s.stencilFunc(s.ALWAYS,0,255),s.stencilOp(s.KEEP,s.KEEP,s.INVERT),1===e.mode?(s.drawElements(s.TRIANGLE_FAN,e.indices.length-4,s.UNSIGNED_SHORT,0),this.reverse?(s.stencilFunc(s.EQUAL,255-t,255),s.stencilOp(s.KEEP,s.KEEP,s.DECR)):(s.stencilFunc(s.EQUAL,t,255),s.stencilOp(s.KEEP,s.KEEP,s.INCR)),s.drawElements(s.TRIANGLE_FAN,4,s.UNSIGNED_SHORT,2*(e.indices.length-4)),this.reverse?s.stencilFunc(s.EQUAL,255-(t+1),255):s.stencilFunc(s.EQUAL,t+1,255),this.reverse=!this.reverse):(this.reverse?(s.stencilFunc(s.EQUAL,t,255),s.stencilOp(s.KEEP,s.KEEP,s.INCR)):(s.stencilFunc(s.EQUAL,255-t,255),s.stencilOp(s.KEEP,s.KEEP,s.DECR)),s.drawElements(s.TRIANGLE_STRIP,e.indices.length,s.UNSIGNED_SHORT,0),this.reverse?s.stencilFunc(s.EQUAL,t+1,255):s.stencilFunc(s.EQUAL,255-(t+1),255)),s.colorMask(!0,!0,!0,!0),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),this.count++},P.WebGLStencilManager.prototype.bindGraphics=function(t,e,i){this._currentGraphics=t;var s,n=this.gl,o=i.projection,r=i.offset;1===e.mode?(s=i.shaderManager.complexPrimitiveShader,i.shaderManager.setShader(s),n.uniform1f(s.flipY,i.flipY),n.uniformMatrix3fv(s.translationMatrix,!1,t.worldTransform.toArray(!0)),n.uniform2f(s.projectionVector,o.x,-o.y),n.uniform2f(s.offsetVector,-r.x,-r.y),n.uniform3fv(s.tintColor,Phaser.Color.hexToRGBArray(t.tint)),n.uniform3fv(s.color,e.color),n.uniform1f(s.alpha,t.worldAlpha*e.alpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(s.aVertexPosition,2,n.FLOAT,!1,8,0)):(s=i.shaderManager.primitiveShader,i.shaderManager.setShader(s),n.uniformMatrix3fv(s.translationMatrix,!1,t.worldTransform.toArray(!0)),n.uniform1f(s.flipY,i.flipY),n.uniform2f(s.projectionVector,o.x,-o.y),n.uniform2f(s.offsetVector,-r.x,-r.y),n.uniform3fv(s.tintColor,Phaser.Color.hexToRGBArray(t.tint)),n.uniform1f(s.alpha,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(s.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(s.colorAttribute,4,n.FLOAT,!1,24,8)),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer)},P.WebGLStencilManager.prototype.popStencil=function(t,e,i){var s,n=this.gl;this.stencilStack.pop(),this.count--,0===this.stencilStack.length?n.disable(n.STENCIL_TEST):(s=this.count,this.bindGraphics(t,e,i),n.colorMask(!1,!1,!1,!1),1===e.mode?(this.reverse=!this.reverse,this.reverse?(n.stencilFunc(n.EQUAL,255-(s+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,s+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0)):(this.reverse?(n.stencilFunc(n.EQUAL,s+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(s+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0)),this.reverse?n.stencilFunc(n.EQUAL,s,255):n.stencilFunc(n.EQUAL,255-s,255),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP))},P.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},P.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.stack=[]},P.WebGLShaderManager.prototype.constructor=P.WebGLShaderManager,P.WebGLShaderManager.prototype.setContext=function(t){this.gl=t,this.primitiveShader=new P.PrimitiveShader(t),this.complexPrimitiveShader=new P.ComplexPrimitiveShader(t),this.defaultShader=new P.PixiShader(t),this.fastShader=new P.PixiFastShader(t),this.stripShader=new P.StripShader(t),this.creatureShader=P.CreatureShader?new P.CreatureShader(t):null,this.setShader(this.defaultShader)},P.WebGLShaderManager.prototype.setAttribs=function(t){for(var e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(e=0;e<t.length;e++)this.tempAttribState[t[e]]=!0;var i=this.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.tempAttribState[e]?i.enableVertexAttribArray(e):i.disableVertexAttribArray(e))},P.WebGLShaderManager.prototype.setShader=function(t){return this._currentId!==t._UID&&(this._currentId=t._UID,this.currentShader=t,this.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},P.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.creatureShader&&this.creatureShader.destroy(),this.gl=null},P.WebGLSpriteBatch=function(t){this.game=t,this.vertSize=5,this.size=2e3,this.vertexSize=24;var t=this.vertexSize*this.size*4,e=6*this.size;this.vertices=new ArrayBuffer(t),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(e);for(var i=this.lastIndexCount=0,s=0;i<e;i+=6,s+=4)this.indices[i+0]=s+0,this.indices[i+1]=s+1,this.indices[i+2]=s+2,this.indices[i+3]=s+0,this.indices[i+4]=s+2,this.indices[i+5]=s+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=null},P.WebGLSpriteBatch.prototype.setContext=function(t){if(this.MAX_TEXTURES=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.gl=t,P._enableMultiTextureToggle){for(var e="\tif (vTextureIndex == 0.0) {gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n",i=1;i<this.MAX_TEXTURES;++i)e+="\tif (vTextureIndex == "+i+".0) {gl_FragColor = texture2D(uSamplerArray["+i+"], vTextureCoord) * vColor;return;}\n";this.defaultShader=new Phaser.Filter(this.game,void 0,["//WebGLSpriteBatch Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSamplerArray["+this.MAX_TEXTURES+"];","void main(void) {",e,"\tgl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;","}"])}else this.defaultShader=new Phaser.Filter(this.game,void 0,["//WebGLSpriteBatch Fragment Shader.","precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureIndex;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;","}"]);this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999;var s=new P.PixiShader(t);s.fragmentSrc=this.defaultShader.fragmentSrc,s.uniforms={},s.init(),this.defaultShader.shaders[t.id]=s},P.WebGLSpriteBatch.prototype.begin=function(t){this.renderSession=t,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},P.WebGLSpriteBatch.prototype.end=function(){this.flush()},P.WebGLSpriteBatch.prototype.render=function(t,e){var i,s,n,o,r,a,h,l,c,u,d,p,f,g,m,y,v=t.texture,x=(P._enableMultiTextureToggle&&(b=v.baseTexture,x=this.gl,P.WebGLRenderer.textureArray[b.textureIndex]!=b)&&(this.flush(),x.activeTexture(x.TEXTURE0+b.textureIndex),x.bindTexture(x.TEXTURE_2D,b._glTextures[x.id]),P.WebGLRenderer.textureArray[b.textureIndex]=b),t.worldTransform),b=(e&&(x=e),this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=v.baseTexture),v._uvs);b&&(e=t.anchor.x,f=t.anchor.y,v.trim?(n=(i=(s=v.trim).x-e*s.width)+v.crop.width,o=(s=s.y-f*s.height)+v.crop.height):(n=v.frame.width*(1-e),i=v.frame.width*-e,o=v.frame.height*(1-f),s=v.frame.height*-f),e=this.currentBatchSize*this.vertexSize,f=v.baseTexture.resolution,r=v.baseTexture.textureIndex,u=x.a/f,d=x.b/f,p=x.c/f,f=x.d/f,l=x.tx,c=x.ty,g=v.crop.height,v.rotated&&(a=i,h=n,l=(m=x.c)*g+l,c=(y=x.d)*g+c,u=6123233995736766e-32*(g=x.a)-m,d=6123233995736766e-32*(x=x.b)-y,p=g+6123233995736766e-32*m,f=x+6123233995736766e-32*y,v._updateUvsInverted(),n=o,i=s,o=h,s=a),g=this.colors,m=this.positions,y=((x=t.tint)>>16)+(65280&x)+((255&x)<<16)+(255*t.worldAlpha<<24),this.renderSession.roundPixels?(m[e++]=u*i+p*s+l|0,m[e++]=f*s+d*i+c|0,m[e++]=b.x0,m[e++]=b.y0,g[e++]=y,m[e++]=r,m[e++]=u*n+p*s+l|0,m[e++]=f*s+d*n+c|0,m[e++]=b.x1,m[e++]=b.y1,g[e++]=y,m[e++]=r,m[e++]=u*n+p*o+l|0,m[e++]=f*o+d*n+c|0,m[e++]=b.x2,m[e++]=b.y2,g[e++]=y,m[e++]=r,m[e++]=u*i+p*o+l|0,m[e++]=f*o+d*i+c|0):(m[e++]=u*i+p*s+l,m[e++]=f*s+d*i+c,m[e++]=b.x0,m[e++]=b.y0,g[e++]=y,m[e++]=r,m[e++]=u*n+p*s+l,m[e++]=f*s+d*n+c,m[e++]=b.x1,m[e++]=b.y1,g[e++]=y,m[e++]=r,m[e++]=u*n+p*o+l,m[e++]=f*o+d*n+c,m[e++]=b.x2,m[e++]=b.y2,g[e++]=y,m[e++]=r,m[e++]=u*i+p*o+l,m[e++]=f*o+d*i+c),m[e++]=b.x3,m[e++]=b.y3,g[e++]=y,m[e++]=r,this.sprites[this.currentBatchSize++]=t)},P.WebGLSpriteBatch.prototype.renderTilingSprite=function(t){var e=t.tilingTexture,i=t.texture.baseTexture.textureIndex,s=(P._enableMultiTextureToggle&&(n=e.baseTexture,s=this.gl,P.WebGLRenderer.textureArray[i]!=n)&&(this.flush(),s.activeTexture(s.TEXTURE0+i),s.bindTexture(s.TEXTURE_2D,n._glTextures[s.id]),P.WebGLRenderer.textureArray[i]=n),this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture),t._uvs||(t._uvs=new P.TextureUvs),t._uvs),n=e.baseTexture.width,o=e.baseTexture.height,r=(t.tilePosition.x%=n*t.tileScaleOffset.x,t.tilePosition.y%=o*t.tileScaleOffset.y,t.tilePosition.x/(n*t.tileScaleOffset.x)),a=t.tilePosition.y/(o*t.tileScaleOffset.y),n=t.width/n/(t.tileScale.x*t.tileScaleOffset.x),o=t.height/o/(t.tileScale.y*t.tileScaleOffset.y),n=(s.x0=0-r,s.y0=0-a,s.x1=n-r,s.y1=0-a,s.x2=n-r,s.y2=o-a,s.x3=0-r,s.y3=o-a,t.tint),r=(n>>16)+(65280&n)+((255&n)<<16)+(255*t.worldAlpha<<24),o=this.positions,a=this.colors,n=t.width,h=t.height,l=t.anchor.x,c=t.anchor.y,u=n*(1-l),n=n*-l,l=h*(1-c),h=h*-c,c=this.currentBatchSize*this.vertexSize,e=e.baseTexture.resolution,d=t.worldTransform,p=d.a/e,f=d.b/e,g=d.c/e,e=d.d/e,m=d.tx,d=d.ty;o[c++]=p*n+g*h+m,o[c++]=e*h+f*n+d,o[c++]=s.x0,o[c++]=s.y0,a[c++]=r,o[c++]=i,o[c++]=p*u+g*h+m,o[c++]=e*h+f*u+d,o[c++]=s.x1,o[c++]=s.y1,a[c++]=r,o[c++]=i,o[c++]=p*u+g*l+m,o[c++]=e*l+f*u+d,o[c++]=s.x2,o[c++]=s.y2,a[c++]=r,o[c++]=i,o[c++]=p*n+g*l+m,o[c++]=e*l+f*n+d,o[c++]=s.x3,o[c++]=s.y3,a[c++]=r,o[+c]=i,this.sprites[this.currentBatchSize++]=t},P.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e,i,s,n=this.gl;this.dirty&&(this.dirty=!1,t=this.defaultShader.shaders[n.id],n.activeTexture(n.TEXTURE0),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),s=this.vertexSize,n.vertexAttribPointer(t.aVertexPosition,2,n.FLOAT,!1,s,0),n.vertexAttribPointer(t.aTextureCoord,2,n.FLOAT,!1,s,8),n.vertexAttribPointer(t.colorAttribute,4,n.UNSIGNED_BYTE,!0,s,16),n.vertexAttribPointer(t.aTextureIndex,1,n.FLOAT,!1,s,20)),this.currentBatchSize>.5*this.size?n.bufferSubData(n.ARRAY_BUFFER,0,this.vertices):(n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),s=this.positions.subarray(0,this.currentBatchSize*this.vertexSize),n.bufferSubData(n.ARRAY_BUFFER,0,s));for(var o=0,r=0,a=null,h=this.renderSession.blendModeManager.currentBlendMode,l=null,c=0,u=this.currentBatchSize;c<u;c++){var d,p=((d=this.sprites[c]).tilingTexture?d.tilingTexture:d.texture).baseTexture,f=h!==(e=d.blendMode),g=l!==(i=d.shader||this.defaultShader),m=p.skipRender;m&&0<d.children.length&&(m=!1),(!P._enableMultiTextureToggle&&a!==p&&!m||f||g)&&(this.renderBatch(a,o,r),r=c,o=0,a=p,f&&this.renderSession.blendModeManager.setBlendMode(h=e),g)&&((t=(l=i).shaders[n.id])||((t=new P.PixiShader(n)).fragmentSrc=l.fragmentSrc,t.uniforms=l.uniforms,t.init(),l.shaders[n.id]=t),this.renderSession.shaderManager.setShader(t),t.dirty&&t.syncUniforms(),d=this.renderSession.projection,n.uniform2f(t.projectionVector,d.x,d.y),m=this.renderSession.offset,n.uniform2f(t.offsetVector,m.x,m.y)),o++}this.renderBatch(a,o,r),this.currentBatchSize=0}},P.WebGLSpriteBatch.prototype.renderBatch=function(t,e,i){if(0!==e){var s=this.gl;if(t._dirty[s.id]){if(!this.renderSession.renderer.updateTexture(t))return}else s.bindTexture(s.TEXTURE_2D,t._glTextures[s.id]);s.drawElements(s.TRIANGLES,6*e,s.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},P.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},P.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},P.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},P.WebGLFastSpriteBatch=function(t){this.vertSize=11,this.maxSize=6e3,this.size=this.maxSize;var e=4*this.size*this.vertSize,i=6*this.maxSize;this.vertices=new Float32Array(e),this.indices=new Uint16Array(i),this.vertexBuffer=null,this.indexBuffer=null;for(var s=this.lastIndexCount=0,n=0;s<i;s+=6,n+=4)this.indices[s+0]=n+0,this.indices[s+1]=n+1,this.indices[s+2]=n+2,this.indices[s+3]=n+0,this.indices[s+4]=n+2,this.indices[s+5]=n+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(t)},P.WebGLFastSpriteBatch.prototype.constructor=P.WebGLFastSpriteBatch,P.WebGLFastSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW)},P.WebGLFastSpriteBatch.prototype.begin=function(t,e){this.renderSession=e,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=t.worldTransform.toArray(!0),this.start()},P.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},P.WebGLFastSpriteBatch.prototype.render=function(t){var e=t.children,t=e[0];if(t.texture._uvs){this.currentBaseTexture=t.texture.baseTexture,t.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(t.blendMode));var t=this.currentBaseTexture.textureIndex,i=this.gl;i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,this.currentBaseTexture._glTextures[i.id]),P.WebGLRenderer.textureArray[t]=this.currentBaseTexture;for(var s=0,n=e.length;s<n;s++)this.renderSprite(e[s]);this.flush()}},P.WebGLFastSpriteBatch.prototype.renderSprite=function(t){var e,i,s,n,o,r,a=t.texture.baseTexture,h=this.gl,l=t.texture.baseTexture.textureIndex;(P.WebGLRenderer.textureArray[l]==a||!a._glTextures[h.id]||t.texture.baseTexture.skipRender||(this.flush(),h.activeTexture(h.TEXTURE0+l),h.bindTexture(h.TEXTURE_2D,a._glTextures[h.id]),P.WebGLRenderer.textureArray[l]=a,t.texture._uvs))&&t.visible&&(h=this.vertices,a=t.texture._uvs,o=t.texture.frame.width,r=t.texture.frame.height,t.texture.trim?(s=(e=(i=t.texture.trim).x-t.anchor.x*i.width)+t.texture.crop.width,n=(i=i.y-t.anchor.y*i.height)+t.texture.crop.height):(s=o*(1-t.anchor.x),e=o*-t.anchor.x,n=r*(1-t.anchor.y),i=r*-t.anchor.y),o=4*this.currentBatchSize*this.vertSize,h[o++]=e,h[o++]=i,h[o++]=t.position.x,h[o++]=t.position.y,h[o++]=t.scale.x,h[o++]=t.scale.y,h[o++]=t.rotation,h[o++]=a.x0,h[o++]=a.y1,h[o++]=t.alpha,h[o++]=l,h[o++]=s,h[o++]=i,h[o++]=t.position.x,h[o++]=t.position.y,h[o++]=t.scale.x,h[o++]=t.scale.y,h[o++]=t.rotation,h[o++]=a.x1,h[o++]=a.y1,h[o++]=t.alpha,h[o++]=l,h[o++]=s,h[o++]=n,h[o++]=t.position.x,h[o++]=t.position.y,h[o++]=t.scale.x,h[o++]=t.scale.y,h[o++]=t.rotation,h[o++]=a.x2,h[o++]=a.y2,h[o++]=t.alpha,h[o++]=l,h[o++]=e,h[o++]=n,h[o++]=t.position.x,h[o++]=t.position.y,h[o++]=t.scale.x,h[o++]=t.scale.y,h[o++]=t.rotation,h[o++]=a.x3,h[o++]=a.y3,h[o++]=t.alpha,h[+o]=l,this.currentBatchSize++,this.currentBatchSize>=this.size)&&this.flush()},P.WebGLFastSpriteBatch.prototype.flush=function(){var t,e;0!==this.currentBatchSize&&(t=this.gl,this.currentBaseTexture._glTextures[t.id]?(this.currentBatchSize>.5*this.size?t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices):(e=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize),t.bufferSubData(t.ARRAY_BUFFER,0,e)),t.drawElements(t.TRIANGLES,6*this.currentBatchSize,t.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++):this.renderSession.renderer.updateTexture(this.currentBaseTexture,t))},P.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},P.WebGLFastSpriteBatch.prototype.start=function(){var t=this.gl,e=(t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.renderSession.projection),e=(t.uniform2f(this.shader.projectionVector,e.x,e.y),t.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix),4*this.vertSize);t.vertexAttribPointer(this.shader.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.aPositionCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.aScale,2,t.FLOAT,!1,e,16),t.vertexAttribPointer(this.shader.aRotation,1,t.FLOAT,!1,e,24),t.vertexAttribPointer(this.shader.aTextureCoord,2,t.FLOAT,!1,e,28),t.vertexAttribPointer(this.shader.colorAttribute,1,t.FLOAT,!1,e,36),t.vertexAttribPointer(this.shader.aTextureIndex,1,t.FLOAT,!1,e,40)},P.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},P.WebGLFilterManager.prototype.constructor=P.WebGLFilterManager,P.WebGLFilterManager.prototype.setContext=function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},P.WebGLFilterManager.prototype.begin=function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader;t=this.renderSession.projection;this.width=2*t.x,this.height=2*-t.y,this.buffer=e},P.WebGLFilterManager.prototype.pushFilter=function(t){var e=this.gl,i=this.renderSession.projection,s=this.renderSession.offset,n=(t._filterArea=t.target.filterArea||t.target.getBounds(),t._previous_stencil_mgr=this.renderSession.stencilManager,this.renderSession.stencilManager=new P.WebGLStencilManager,this.renderSession.stencilManager.setContext(e),e.disable(e.STENCIL_TEST),this.filterStack.push(t),t.filterPasses[0]),o=(this.offsetX+=t._filterArea.x,this.offsetY+=t._filterArea.y,this.texturePool.pop()),r=(o?o.resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution):o=new P.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),e.bindTexture(e.TEXTURE_2D,o.texture),t._filterArea),n=n.padding;r.x-=n,r.y-=n,r.width+=2*n,r.height+=2*n,r.x<0&&(r.x=0),r.width>this.width&&(r.width=this.width),r.y<0&&(r.y=0),r.height>this.height&&(r.height=this.height),e.bindFramebuffer(e.FRAMEBUFFER,o.frameBuffer),e.viewport(0,0,r.width*this.renderSession.resolution,r.height*this.renderSession.resolution),i.x=r.width/2,i.y=-r.height/2,s.x=-r.x,s.y=-r.y,e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t._glFilterTexture=o},P.WebGLFilterManager.prototype.popFilter=function(){var t=this.gl,e=this.filterStack.pop(),i=e._filterArea,s=e._glFilterTexture,n=this.renderSession.projection,o=this.renderSession.offset;if(1<e.filterPasses.length){t.viewport(0,0,i.width*this.renderSession.resolution,i.height*this.renderSession.resolution),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=i.height,this.vertexArray[2]=i.width,this.vertexArray[3]=i.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=i.width,this.vertexArray[7]=0,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=i.width/this.width,this.uvArray[5]=i.height/this.height,this.uvArray[6]=i.width/this.width,this.uvArray[7]=i.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray);var r=s;(l=(l=this.texturePool.pop())||new P.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution)).resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),t.bindFramebuffer(t.FRAMEBUFFER,l.frameBuffer),t.clear(t.COLOR_BUFFER_BIT),t.disable(t.BLEND);for(var a=0;a<e.filterPasses.length-1;a++)var h=e.filterPasses[a],h=(t.bindFramebuffer(t.FRAMEBUFFER,l.frameBuffer),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,r.texture),this.applyFilterPass(h,i,i.width,i.height),r),r=l,l=h;t.enable(t.BLEND),s=r,this.texturePool.push(l)}var c=e.filterPasses[e.filterPasses.length-1],u=(this.offsetX-=i.x,this.offsetY-=i.y,this.width),d=this.height,p=0,f=0,g=this.buffer,m=(0===this.filterStack.length?t.colorMask(!0,!0,!0,!0):(u=(i=(m=this.filterStack[this.filterStack.length-1])._filterArea).width,d=i.height,p=i.x,f=i.y,g=m._glFilterTexture.frameBuffer),n.x=u/2,n.y=-d/2,o.x=p,o.y=f,(i=e._filterArea).x-p),n=i.y-f;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=m,this.vertexArray[1]=n+i.height,this.vertexArray[2]=m+i.width,this.vertexArray[3]=n+i.height,this.vertexArray[4]=m,this.vertexArray[5]=n,this.vertexArray[6]=m+i.width,this.vertexArray[7]=n,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=i.width/this.width,this.uvArray[5]=i.height/this.height,this.uvArray[6]=i.width/this.width,this.uvArray[7]=i.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray),t.viewport(0,0,u*this.renderSession.resolution,d*this.renderSession.resolution),t.bindFramebuffer(t.FRAMEBUFFER,g),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,s.texture),this.renderSession.stencilManager&&this.renderSession.stencilManager.destroy(),this.renderSession.stencilManager=e._previous_stencil_mgr,e._previous_stencil_mgr=null,0<this.renderSession.stencilManager.count?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.applyFilterPass(c,i,u,d),this.texturePool.push(s),e._glFilterTexture=null},P.WebGLFilterManager.prototype.applyFilterPass=function(t,e,i,s){var n=this.gl,o=t.shaders[n.id];o||((o=new P.PixiShader(n)).fragmentSrc=t.fragmentSrc,o.uniforms=t.uniforms,o.init(!0),t.shaders[n.id]=o),this.renderSession.shaderManager.setShader(o),n.uniform2f(o.projectionVector,i/2,-s/2),n.uniform2f(o.offsetVector,0,0),t.uniforms.dimensions&&(t.uniforms.dimensions.value[0]=this.width,t.uniforms.dimensions.value[1]=this.height,t.uniforms.dimensions.value[2]=this.vertexArray[0],t.uniforms.dimensions.value[3]=this.vertexArray[5]),o.syncUniforms(),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.vertexAttribPointer(o.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.uvBuffer),n.vertexAttribPointer(o.aTextureCoord,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.colorBuffer),n.vertexAttribPointer(o.colorAttribute,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderSession.drawCount++},P.WebGLFilterManager.prototype.initShaderBuffers=function(){var t=this.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.vertexArray=new Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.uvArray=new Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),this.colorArray=new Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),t.STATIC_DRAW)},P.WebGLFilterManager.prototype.destroy=function(){var t=this.gl;this.filterStack=null,this.offsetX=0;for(var e=this.offsetY=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null,t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.uvBuffer),t.deleteBuffer(this.colorBuffer),t.deleteBuffer(this.indexBuffer)},{36054:"Incomplete attachment",36055:"Missing attachment",36057:"Incomplete dimensions",36061:"Framebuffer unsupported"});return P.FilterTexture=function(t,e,i,s,n){n="number"==typeof n?n:0,this.gl=t,this.frameBuffer=function(t,e,i,s,n){var o,r,a,h=t.createFramebuffer(),l=t.createRenderbuffer();return t.activeTexture(t.TEXTURE0+n),t.bindFramebuffer(t.FRAMEBUFFER,h),t.bindRenderbuffer(t.RENDERBUFFER,l),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),n=e,r=i,s=s,a=(o=t).createTexture(),o.bindTexture(o.TEXTURE_2D,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,s===P.scaleModes.LINEAR?o.LINEAR:o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,s===P.scaleModes.LINEAR?o.LINEAR:o.NEAREST),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,n,r,0,o.RGBA,o.UNSIGNED_BYTE,null),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s=a,0),(n=t.checkFramebufferStatus(t.FRAMEBUFFER))!==t.FRAMEBUFFER_COMPLETE&&console.error("Incomplete GL framebuffer. ",c[n]),h.width=e,h.height=i,h.targetTexture=s,h.renderBuffer=l,h}(t,e,i,s||P.scaleModes.DEFAULT,n),this.texture=this.frameBuffer.targetTexture,this.width=e,this.height=i,this.renderBuffer=this.frameBuffer.renderBuffer},P.FilterTexture.prototype.constructor=P.FilterTexture,P.FilterTexture.prototype.clear=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},P.FilterTexture.prototype.resize=function(t,e){var i;this.width===t&&this.height===e||(this.width=t,this.height=e,(i=this.gl).bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),i.bindRenderbuffer(i.RENDERBUFFER,this.renderBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t,e))},P.FilterTexture.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},P.CanvasBuffer=function(t,e){this.width=t,this.height=e,this.canvas=Phaser.CanvasPool.create(this,this.width,this.height),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e},P.CanvasBuffer.prototype.constructor=P.CanvasBuffer,P.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},P.CanvasBuffer.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},P.CanvasBuffer.prototype.destroy=function(){Phaser.CanvasPool.remove(this)},P.CanvasMaskManager=function(){},P.CanvasMaskManager.prototype.constructor=P.CanvasMaskManager,P.CanvasMaskManager.prototype.pushMask=function(t,e){var i=e.context,s=(i.save(),t.alpha),n=t.worldTransform,e=e.resolution;i.setTransform(n.a*e,n.b*e,n.c*e,n.d*e,n.tx*e,n.ty*e),P.CanvasGraphics.renderGraphicsMask(t,i),i.clip(),t.worldAlpha=s},P.CanvasMaskManager.prototype.popMask=function(t){t.context.restore()},P.CanvasTinter=function(){},P.CanvasTinter.getTintedTexture=function(t,e){var i=t.tintedTexture||Phaser.CanvasPool.create(this);return P.CanvasTinter.tintMethod(t.texture,e,i),i},P.CanvasTinter.tintWithMultiply=function(t,e,i){var s=i.getContext("2d"),n=t.crop,o=n.width,r=n.height;t.rotated&&(o=r,r=n.width),i.width===o&&i.height===r||(i.width=o,i.height=r),s.clearRect(0,0,o,r),s.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),s.fillRect(0,0,o,r),s.globalCompositeOperation="multiply",s.drawImage(t.baseTexture.source,n.x,n.y,o,r,0,0,o,r),s.globalCompositeOperation="destination-atop",s.drawImage(t.baseTexture.source,n.x,n.y,o,r,0,0,o,r)},P.CanvasTinter.tintWithPerPixel=function(t,e,i){var s=i.getContext("2d"),n=t.crop,o=n.width,r=n.height;t.rotated&&(o=r,r=n.width),i.width===o&&i.height===r||(i.width=o,i.height=r),s.globalCompositeOperation="copy",s.drawImage(t.baseTexture.source,n.x,n.y,o,r,0,0,o,r);for(var a,i=Phaser.Color.hexToRGBArray(e),h=i[0],l=i[1],c=i[2],t=s.getImageData(0,0,o,r),u=t.data,d=0;d<u.length;d+=4)u[d+0]*=h,u[d+1]*=l,u[d+2]*=c,P.CanvasTinter.canHandleAlpha||(a=u[d+3],u[d+0]/=255/a,u[d+1]/=255/a,u[d+2]/=255/a);s.putImageData(t,0,0)},P.CanvasRenderer=function(t,e){if(this.game=t,this.type=Phaser.CANVAS,this.resolution=t.resolution,this.clearBeforeRender=t.clearBeforeRender,this.transparent=t.transparent,this.autoResize=!1,this.width=t.width*this.resolution,this.height=t.height*this.resolution,this.view=t.canvas,this.context=this.view.getContext("2d",{alpha:this.transparent}),!this.context)throw new Error("Failed to create a Canvas 2d context.");this.refresh=!0,this.count=0,this.maskManager=new P.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:Phaser.Canvas.getSmoothingPrefix(this.context),roundPixels:e.roundPixels||!1},this.mapBlendModes(),this.resize(this.width,this.height)},P.CanvasRenderer.prototype.constructor=P.CanvasRenderer,P.CanvasRenderer.prototype.render=function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=0,this.renderSession.shakeX=this.game.camera._shake.x,this.renderSession.shakeY=this.game.camera._shake.y,this.context.globalCompositeOperation="source-over",navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):t._bgColor&&(this.context.fillStyle=t._bgColor.rgba,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t)},P.CanvasRenderer.prototype.postRender=function(){},P.CanvasRenderer.prototype.setTexturePriority=function(){},P.CanvasRenderer.prototype.destroy=function(t){(t=void 0===t?!0:t)&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},P.CanvasRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.renderSession.smoothProperty&&(this.context[this.renderSession.smoothProperty]=this.renderSession.scaleMode===P.scaleModes.LINEAR)},P.CanvasRenderer.prototype.renderDisplayObject=function(t,e,i){this.renderSession.context=e||this.context,this.renderSession.resolution=this.resolution,t._renderCanvas(this.renderSession,i)},P.CanvasRenderer.prototype.mapBlendModes=function(){var t,e,i;P.blendModesCanvas||(e=P.blendModes,i=this.game.device.canUseMultiply,(t=[])[e.NORMAL]="source-over",t[e.ADD]="lighter",t[e.MULTIPLY]=i?"multiply":"source-over",t[e.SCREEN]=i?"screen":"source-over",t[e.OVERLAY]=i?"overlay":"source-over",t[e.DARKEN]=i?"darken":"source-over",t[e.LIGHTEN]=i?"lighten":"source-over",t[e.COLOR_DODGE]=i?"color-dodge":"source-over",t[e.COLOR_BURN]=i?"color-burn":"source-over",t[e.HARD_LIGHT]=i?"hard-light":"source-over",t[e.SOFT_LIGHT]=i?"soft-light":"source-over",t[e.DIFFERENCE]=i?"difference":"source-over",t[e.EXCLUSION]=i?"exclusion":"source-over",t[e.HUE]=i?"hue":"source-over",t[e.SATURATION]=i?"saturation":"source-over",t[e.COLOR]=i?"color":"source-over",t[e.LUMINOSITY]=i?"luminosity":"source-over",P.blendModesCanvas=t)},P.BaseTexture=function(t,e,i){this.resolution=i||1,this.width=100,this.height=100,this.scaleMode=e||P.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=t,this.premultipliedAlpha=!0,this._glTextures=[],this.mipmap=!1,this.textureIndex=0,this._dirty=[!0,!0,!0,!0],t&&((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height&&(this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty()),this.skipRender=!1,this._powerOf2=!1)},P.BaseTexture.prototype.constructor=P.BaseTexture,P.BaseTexture.prototype.forceLoaded=function(t,e){this.hasLoaded=!0,this.width=t,this.height=e,this.dirty()},P.BaseTexture.prototype.destroy=function(){this.source&&Phaser.CanvasPool.removeByCanvas(this.source),this.source=null,this.unloadFromGPU()},P.BaseTexture.prototype.dirty=function(){for(var t=0;t<this._glTextures.length;t++)this._dirty[t]=!0},P.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var t=this._glTextures.length-1;0<=t;t--){var e=this._glTextures[t],i=P.glContexts[t];i&&e&&i.deleteTexture(e)}this._glTextures.length=0,this.dirty()},P.BaseTexture.fromCanvas=function(t,e,i){return 0===t.width&&(t.width=1),0===t.height&&(t.height=1),new P.BaseTexture(t,e,i=i||1)},P.TextureSilentFail=!1,P.Texture=function(t,e,i,s){this.noFrame=!1,e||(this.noFrame=!0,e=new P.Rectangle(0,0,1,1)),t instanceof P.Texture&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=s,this.valid=!1,this.isTiling=!1,this.requiresUpdate=!1,this.requiresReTint=!1,this._uvs=null,this.width=0,this.height=0,this.crop=i||new P.Rectangle(0,0,1,1),this.rotated=!1,t.hasLoaded&&(this.noFrame&&(e=new P.Rectangle(0,0,t.width,t.height)),this.setFrame(e))},P.Texture.prototype.constructor=P.Texture,P.Texture.prototype.onBaseTextureLoaded=function(){var t=this.baseTexture;this.noFrame&&(this.frame=new P.Rectangle(0,0,t.width,t.height)),this.setFrame(this.frame)},P.Texture.prototype.destroy=function(t){t&&this.baseTexture.destroy(),this.valid=!1},P.Texture.prototype.setFrame=function(t){if(this.noFrame=!1,this.frame=t,this.width=t.width,this.height=t.height,this.crop.x=t.x,this.crop.y=t.y,this.crop.width=t.width,this.crop.height=t.height,this.trim||!(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height))this.valid=t&&t.width&&t.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs();else{if(!P.TextureSilentFail)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=!1}},P.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new P.TextureUvs);var t=this.crop,e=this.baseTexture.width,i=this.baseTexture.height;this._uvs.x0=t.x/e,this._uvs.y0=t.y/i,this._uvs.x1=(t.x+t.width)/e,this._uvs.y1=t.y/i,this._uvs.x2=(t.x+t.width)/e,this._uvs.y2=(t.y+t.height)/i,this._uvs.x3=t.x/e,this._uvs.y3=(t.y+t.height)/i},P.Texture.prototype._updateUvsInverted=function(){this._uvs||(this._uvs=new P.TextureUvs);var t=this.crop,e=this.baseTexture.width,i=this.baseTexture.height;this._uvs.x0=t.x/e,this._uvs.y0=t.y/i,this._uvs.x1=(t.x+t.height)/e,this._uvs.y1=t.y/i,this._uvs.x2=(t.x+t.height)/e,this._uvs.y2=(t.y+t.width)/i,this._uvs.x3=t.x/e,this._uvs.y3=(t.y+t.width)/i},P.Texture.fromCanvas=function(t,e){t=P.BaseTexture.fromCanvas(t,e);return new P.Texture(t)},P.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=P:exports).PIXI=P:"undefined"!=typeof define&&define.amd?define("PIXI",this.PIXI=P):this.PIXI=P,P}.call(this),function(){var o,t,e,i,N={VERSION:"2.20.0",AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,WEBGL_MULTI:4,NONE:0,LEFT:1,RIGHT:2,UP:3,DOWN:4,SPRITE:0,BUTTON:1,IMAGE:2,GRAPHICS:3,TEXT:4,TILESPRITE:5,BITMAPTEXT:6,GROUP:7,RENDERTEXTURE:8,TILEMAP:9,TILEMAPLAYER:10,EMITTER:11,POLYGON:12,BITMAPDATA:13,CANVAS_FILTER:14,WEBGL_FILTER:15,ELLIPSE:16,SPRITEBATCH:17,RETROFONT:18,POINTER:19,ROPE:20,CIRCLE:21,RECTANGLE:22,LINE:23,MATRIX:24,POINT:25,ROUNDEDRECTANGLE:26,CREATURE:27,VIDEO:28,PENDING_ATLAS:-1,HORIZONTAL:0,VERTICAL:1,LANDSCAPE:0,PORTRAIT:1,ANGLE_UP:270,ANGLE_DOWN:90,ANGLE_LEFT:180,ANGLE_RIGHT:0,ANGLE_NORTH_EAST:315,ANGLE_NORTH_WEST:225,ANGLE_SOUTH_EAST:45,ANGLE_SOUTH_WEST:135,TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12,blendModes:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},scaleModes:{DEFAULT:0,LINEAR:0,NEAREST:1},PIXI:PIXI||{},_UID:0,_ID:0};for(e in"undefined"!=typeof AudioBufferSourceNode&&(AudioBufferSourceNode.prototype.start||(AudioBufferSourceNode.prototype.start=AudioBufferSourceNode.prototype.noteGrainOn),AudioBufferSourceNode.prototype.stop||(AudioBufferSourceNode.prototype.stop=AudioBufferSourceNode.prototype.noteOff)),Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Function.prototype.bind||(Function.prototype.bind=(o=Array.prototype.slice,function(e){var i=this,s=o.call(arguments,1);if("function"!=typeof i)throw new TypeError;function n(){var t=s.concat(o.call(arguments));i.apply(this instanceof n?this:e,t)}return n.prototype=function t(e){if(e&&(t.prototype=e),!(this instanceof t))return new t}(i.prototype),n})),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t){if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var s=2<=arguments.length?arguments[1]:void 0,n=0;n<i;n++)n in e&&t.call(s,e[n],n,e)}),"function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array&&((t=function(t){var e=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(var e=0;e<this.length;e++)this[e]=0}else for(Array.call(this,t.length),this.length=t.length,e=0;e<this.length;e++)this[e]=t[e]},window[t].prototype=e,window[t].constructor=window[t]})("Float32Array"),t("Uint32Array"),t("Uint16Array"),t("Int16Array"),t("ArrayBuffer")),window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){}),Object.assign||(Object.assign=function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=Object.prototype.hasOwnProperty,n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var r in o)s.call(o,r)&&(i[r]=o[r])}return i}),N.Utils={defaults:function(t,e){for(var i=Object.keys(e),s=0,n=i.length;s<n;s++){var o=i[s];void 0===t[o]&&(t[o]=e[o])}return t},reverseString:function(t){return t.split("").reverse().join("")},getProperty:function(t,e){var i=e.split(".");switch(i.length){case 1:return t[e];case 2:return t[i[0]][i[1]];case 3:return t[i[0]][i[1]][i[2]];case 4:return t[i[0]][i[1]][i[2]][i[3]];default:return this._getProperty(t,e)}},setProperties:function(t,e){for(var i in e)this.setProperty(t,i,e[i]);return t},setProperty:function(t,e,i){var s=e.split(".");switch(s.length){case 1:t[e]=i;break;case 2:t[s[0]][s[1]]=i;break;case 3:t[s[0]][s[1]][s[2]]=i;break;case 4:t[s[0]][s[1]][s[2]][s[3]]=i;break;default:this._setProperty(t,e,i)}},_getProperty:function(t,e){for(var i=e.split("."),s=i.length,n=0,o=t;n<s;){var r=i[n];if(null==o)return;o=o[r],n++}return o},_setProperty:function(t,e,i){var s=e.split("."),n=s.length,o=0,r=t,a=s[0];if(1===n)t[e]=i;else{for(;o<n-1;)r=r[a],a=s[++o];r[a]=i}return t},chanceRoll:function(t){return 0<(t=void 0===t?50:t)&&100*Math.random()<=t},randomChoice:function(t,e){return Math.random()<.5?t:e},parseDimension:function(t,e){var i;return"string"==typeof t?"%"===t.substr(-1)?(i=parseInt(t,10)/100,0===e?window.innerWidth*i:window.innerHeight*i):parseInt(t,10):t},pad:function(t,e,i,s){void 0===i&&(i=" "),void 0===s&&(s=3);var n;if((e=void 0===e?0:e)+1>=(t=t.toString()).length)switch(s){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var o=Math.ceil((n=e-t.length)/2);t=new Array(n-o+1).join(i)+t+new Array(o+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t},isPlainObject:function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},extend:function(){var t,e,i,s,n,o=arguments[0]||{},r=1,a=arguments.length,h=!1;for("boolean"==typeof o&&(h=o,o=arguments[1]||{},r=2),a===r&&(o=this,--r);r<a;r++)if(null!=(t=arguments[r]))for(e in t)n=o[e],o!==(i=t[e])&&(h&&i&&(N.Utils.isPlainObject(i)||(s=Array.isArray(i)))?(n=s?(s=!1,n&&Array.isArray(n)?n:[]):n&&N.Utils.isPlainObject(n)?n:{},o[e]=N.Utils.extend(h,n,i)):void 0!==i&&(o[e]=i));return o},mixinPrototype:function(t,e,i){void 0===i&&(i=!1);for(var s=Object.keys(e),n=0;n<s.length;n++){var o=s[n],r=e[o];!i&&o in t||(!r||"function"!=typeof r.get&&"function"!=typeof r.set?t[o]=r:"function"==typeof r.clone?t[o]=r.clone():Object.defineProperty(t,o,r))}},mixin:function(t,e){if(t&&"object"==typeof t)for(var i in t){var s,n=t[i];n.childNodes||n.cloneNode||(s=typeof t[i],t[i]&&"object"==s?typeof e[i]==s?e[i]=N.Utils.mixin(t[i],e[i]):e[i]=N.Utils.mixin(t[i],new n.constructor):e[i]=t[i])}return e}},N.Circle=function(t,e,i){e=e||0,i=i||0,this.x=t=t||0,this.y=e,this._diameter=i,(this._radius=0)<i&&(this._radius=.5*i),this.type=N.CIRCLE},N.Circle.prototype={circumference:function(){return Math.PI*this._radius*2},random:function(t){void 0===t&&(t=new N.Point);var e=2*Math.PI*Math.random(),i=Math.random()+Math.random(),i=1<i?2-i:i,s=i*Math.cos(e),i=i*Math.sin(e);return t.x=this.x+s*this.radius,t.y=this.y+i*this.radius,t},getBounds:function(){return new N.Rectangle(this.x-this.radius,this.y-this.radius,this.diameter,this.diameter)},setTo:function(t,e,i){return this.x=t,this.y=e,this._diameter=i,this._radius=.5*i,this},copyFrom:function(t){return this.setTo(t.x,t.y,t.diameter)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.diameter=this._diameter,t},distance:function(t,e){t=N.Math.distance(this.x,this.y,t.x,t.y);return e?Math.round(t):t},clone:function(t){return null==t?t=new N.Circle(this.x,this.y,this.diameter):t.setTo(this.x,this.y,this.diameter),t},contains:function(t,e){return N.Circle.contains(this,t,e)},circumferencePoint:function(t,e,i){return N.Circle.circumferencePoint(this,t,e,i)},sample:function(t,e,i,s,n){t=t||60,null==e&&(e=0),null==i&&(i=N.Math.PI2),n=n||[];for(var o=0;o<t;)this.circumferencePoint(N.Math.linear(e,i,o/t),s,n[o]||(n[o]=new N.Point)),o+=1;return n},offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)},toString:function(){return"[{Phaser.Circle (x="+this.x+" y="+this.y+" diameter="+this.diameter+" radius="+this.radius+")}]"}},N.Circle.prototype.constructor=N.Circle,Object.defineProperty(N.Circle.prototype,"diameter",{get:function(){return this._diameter},set:function(t){0<t&&(this._diameter=t,this._radius=.5*t)}}),Object.defineProperty(N.Circle.prototype,"radius",{get:function(){return this._radius},set:function(t){0<t&&(this._radius=t,this._diameter=2*t)}}),Object.defineProperty(N.Circle.prototype,"left",{get:function(){return this.x-this._radius},set:function(t){t>this.x?(this._radius=0,this._diameter=0):this.radius=this.x-t}}),Object.defineProperty(N.Circle.prototype,"right",{get:function(){return this.x+this._radius},set:function(t){t<this.x?(this._radius=0,this._diameter=0):this.radius=t-this.x}}),Object.defineProperty(N.Circle.prototype,"top",{get:function(){return this.y-this._radius},set:function(t){t>this.y?(this._radius=0,this._diameter=0):this.radius=this.y-t}}),Object.defineProperty(N.Circle.prototype,"bottom",{get:function(){return this.y+this._radius},set:function(t){t<this.y?(this._radius=0,this._diameter=0):this.radius=t-this.y}}),Object.defineProperty(N.Circle.prototype,"area",{get:function(){return 0<this._radius?Math.PI*this._radius*this._radius:0}}),Object.defineProperty(N.Circle.prototype,"empty",{get:function(){return 0===this._diameter},set:function(t){!0===t&&this.setTo(0,0,0)}}),N.Circle.contains=function(t,e,i){return 0<t.radius&&t.left<=e&&e<=t.right&&t.top<=i&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius},N.Circle.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.diameter===e.diameter},N.Circle.intersects=function(t,e){return N.Math.distance(t.x,t.y,e.x,e.y)<=t.radius+e.radius},N.Circle.circumferencePoint=function(t,e,i,s){return void 0===i&&(i=!1),void 0===s&&(s=new N.Point),!0===i&&(e=N.Math.degToRad(e)),s.x=t.x+t.radius*Math.cos(e),s.y=t.y+t.radius*Math.sin(e),s},N.Circle.intersectsRectangle=function(t,e){var i,s=Math.abs(t.x-e.x-e.halfWidth);return!(e.halfWidth+t.radius<s||(i=Math.abs(t.y-e.y-e.halfHeight),e.halfHeight+t.radius<i)||!(s<=e.halfWidth||i<=e.halfHeight||(s=s-e.halfWidth)*s+(s=i-e.halfHeight)*s<=t.radius*t.radius))},N.Circle.intersectsLine=function(t,e,i){var s=t.x,n=t.y,o=(e.end.y-e.start.y)/(e.end.x-e.start.x),r=e.end.y-o*e.end.x,a=t.radius,t=t.radius,h=r+o*s,l=(s*(t*t)-a*a*o*(r-n)+a*t*Math.sqrt(a*a*(o*o)+t*t-h*h-n*n+2*h*n))/(a*a*(o*o)+t*t),s=(s*(t*t)-a*a*o*(r-n)-a*t*Math.sqrt(a*a*(o*o)+t*t-h*h-n*n+2*h*n))/(a*a*(o*o)+t*t),h=o*s+r,n=new N.Point(l,o*l+r),a=new N.Point(s,h),t=e.pointOnSegment(n.x,n.y,.01),o=e.pointOnSegment(a.x,a.y,.01);return t&&o?!i||[n,a]:t?!i||[n]:o?!i||[a]:!!i&&[]},PIXI.Circle=N.Circle,N.Ellipse=function(t,e,i,s){e=e||0,i=i||0,s=s||0,this.x=t=t||0,this.y=e,this.width=i,this.height=s,this.type=N.ELLIPSE},N.Ellipse.prototype={setTo:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},getBounds:function(){return new N.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},copyFrom:function(t){return this.setTo(t.x,t.y,t.width,t.height)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},clone:function(t){return null==t?t=new N.Ellipse(this.x,this.y,this.width,this.height):t.setTo(this.x,this.y,this.width,this.height),t},contains:function(t,e){return N.Ellipse.contains(this,t,e)},random:function(t){void 0===t&&(t=new N.Point);var e=Math.random()*Math.PI*2,i=Math.sqrt(Math.random());return t.x=this.centerX+.5*i*Math.cos(e)*this.width,t.y=this.centerY+.5*i*Math.sin(e)*this.height,t},toString:function(){return"[{Phaser.Ellipse (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")}]"}},N.Ellipse.prototype.constructor=N.Ellipse,Object.defineProperty(N.Ellipse.prototype,"left",{get:function(){return this.x},set:function(t){this.x=t}}),Object.defineProperty(N.Ellipse.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(N.Ellipse.prototype,"top",{get:function(){return this.y},set:function(t){this.y=t}}),Object.defineProperty(N.Ellipse.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(N.Ellipse.prototype,"centerX",{get:function(){return this.x+.5*this.width}}),Object.defineProperty(N.Ellipse.prototype,"centerY",{get:function(){return this.y+.5*this.height}}),Object.defineProperty(N.Ellipse.prototype,"empty",{get:function(){return 0===this.width||0===this.height},set:function(t){!0===t&&this.setTo(0,0,0,0)}}),N.Ellipse.contains=function(t,e,i){return!(t.width<=0||t.height<=0)&&(e=(e-t.x)/t.width-.5,(e*=e)+(e=(i-t.y)/t.height-.5)*e<.25)},N.Ellipse.intersectsLine=function(t,e,i){var s=t.x,n=t.y,o=(e.end.y-e.start.y)/(e.end.x-e.start.x),r=e.end.y-o*e.end.x,a=t.width/2,t=t.height/2,h=r+o*s,l=(s*(t*t)-a*a*o*(r-n)+a*t*Math.sqrt(a*a*(o*o)+t*t-h*h-n*n+2*h*n))/(a*a*(o*o)+t*t),s=(s*(t*t)-a*a*o*(r-n)-a*t*Math.sqrt(a*a*(o*o)+t*t-h*h-n*n+2*h*n))/(a*a*(o*o)+t*t),h=o*s+r,n=new N.Point(l,o*l+r),a=new N.Point(s,h),t=e.pointOnSegment(n.x,n.y,.01),o=e.pointOnSegment(a.x,a.y,.01);return t&&o?!i||[n,a]:t?!i||[n]:o?!i||[a]:!!i&&[]},PIXI.Ellipse=N.Ellipse,N.Line=function(t,e,i,s){i=i||0,s=s||0,this.start=new N.Point(t=t||0,e=e||0),this.end=new N.Point(i,s),this.type=N.LINE},N.Line.prototype={setTo:function(t,e,i,s){return this.start.setTo(t,e),this.end.setTo(i,s),this},fromPoints:function(t,e){return this.setTo(t.x,t.y,e.x,e.y),this},fromSprite:function(t,e,i){return(i=void 0===i?!1:i)?this.setTo(t.centerX,t.centerY,e.centerX,e.centerY):this.fromPoints(t,e)},fromAngle:function(t,e,i,s){return this.start.setTo(t,e),this.end.setTo(t+Math.cos(i)*s,e+Math.sin(i)*s),this},rotate:function(t,e){var i=(this.start.x+this.end.x)/2,s=(this.start.y+this.end.y)/2;return this.start.rotate(i,s,t,e),this.end.rotate(i,s,t,e),this},rotateAround:function(t,e,i,s){return this.start.rotate(t,e,i,s),this.end.rotate(t,e,i,s),this},intersects:function(t,e,i){return N.Line.intersectsPoints(this.start,this.end,t.start,t.end,e,i)},reflect:function(t){return N.Line.reflect(this,t)},midPoint:function(t){return(t=void 0===t?new N.Point:t).x=(this.start.x+this.end.x)/2,t.y=(this.start.y+this.end.y)/2,t},centerOn:function(t,e){t-=(this.start.x+this.end.x)/2,e-=(this.start.y+this.end.y)/2;this.start.add(t,e),this.end.add(t,e)},pointOnLine:function(t,e,i){return N.Math.fuzzyEqual((t-this.start.x)*(this.end.y-this.start.y),(this.end.x-this.start.x)*(e-this.start.y),i||0)},pointOnSegment:function(t,e,i){var s=Math.min(this.start.x,this.end.x),n=Math.max(this.start.x,this.end.x),o=Math.min(this.start.y,this.end.y),r=Math.max(this.start.y,this.end.y);return this.pointOnLine(t,e,i)&&s<=t&&t<=n&&o<=e&&e<=r},random:function(t){void 0===t&&(t=new N.Point);var e=Math.random();return t.x=this.start.x+e*(this.end.x-this.start.x),t.y=this.start.y+e*(this.end.y-this.start.y),t},coordinatesOnLine:function(t,e){void 0===t&&(t=1),void 0===e&&(e=[]);var i=Math.round(this.start.x),s=Math.round(this.start.y),n=Math.round(this.end.x),o=Math.round(this.end.y),r=Math.abs(n-i),a=Math.abs(o-s),h=i<n?1:-1,l=s<o?1:-1,c=r-a;e.push([i,s]);for(var u=1;i!==n||s!==o;){var d=c<<1;-a<d&&(c-=a,i+=h),d<r&&(c+=r,s+=l),u%t==0&&e.push([i,s]),u++}return e},clone:function(t){return null==t?t=new N.Line(this.start.x,this.start.y,this.end.x,this.end.y):t.setTo(this.start.x,this.start.y,this.end.x,this.end.y),t}},Object.defineProperty(N.Line.prototype,"length",{get:function(){return Math.sqrt((this.end.x-this.start.x)*(this.end.x-this.start.x)+(this.end.y-this.start.y)*(this.end.y-this.start.y))}}),Object.defineProperty(N.Line.prototype,"angle",{get:function(){return N.Point.angle(this.end,this.start)}}),Object.defineProperty(N.Line.prototype,"slope",{get:function(){return(this.end.y-this.start.y)/(this.end.x-this.start.x)}}),Object.defineProperty(N.Line.prototype,"perpSlope",{get:function(){return-(this.end.x-this.start.x)/(this.end.y-this.start.y)}}),Object.defineProperty(N.Line.prototype,"x",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(N.Line.prototype,"y",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(N.Line.prototype,"left",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(N.Line.prototype,"right",{get:function(){return Math.max(this.start.x,this.end.x)}}),Object.defineProperty(N.Line.prototype,"top",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(N.Line.prototype,"bottom",{get:function(){return Math.max(this.start.y,this.end.y)}}),Object.defineProperty(N.Line.prototype,"width",{get:function(){return Math.abs(this.start.x-this.end.x)}}),Object.defineProperty(N.Line.prototype,"height",{get:function(){return Math.abs(this.start.y-this.end.y)}}),Object.defineProperty(N.Line.prototype,"normalX",{get:function(){return Math.cos(this.angle-1.5707963267948966)}}),Object.defineProperty(N.Line.prototype,"normalY",{get:function(){return Math.sin(this.angle-1.5707963267948966)}}),Object.defineProperty(N.Line.prototype,"normalAngle",{get:function(){return N.Math.wrap(this.angle-1.5707963267948966,-Math.PI,Math.PI)}}),N.Line.intersectsPoints=function(t,e,i,s,n,o){void 0===n&&(n=!0),void 0===o&&(o=new N.Point);var r=e.y-t.y,a=s.y-i.y,h=t.x-e.x,l=i.x-s.x,c=e.x*t.y-t.x*e.y,u=s.x*i.y-i.x*s.y,d=r*l-a*h;return 0!=d&&(o.x=(h*u-l*c)/d,o.y=(a*c-r*u)/d,!n||(l=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/(h=(s.y-i.y)*(e.x-t.x)-(s.x-i.x)*(e.y-t.y)),0<=(a=((s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x))/h)&&a<=1&&0<=l&&l<=1))?o:null},N.Line.intersects=function(t,e,i,s){return N.Line.intersectsPoints(t.start,t.end,e.start,e.end,i,s)},N.Line.intersectsRectangle=function(t,e){if(0!==t.length&&!e.empty){var i=t.start.x,s=t.start.y,n=t.end.x,t=t.end.y,o=e.x,r=e.y,a=e.right,e=e.bottom,h=0;if(o<=i&&i<=a&&r<=s&&s<=e||o<=n&&n<=a&&r<=t&&t<=e)return!0;if(i<o&&o<=n){if(r<(h=s+(t-s)*(o-i)/(n-i))&&h<=e)return!0}else if(a<i&&n<=a&&r<=(h=s+(t-s)*(a-i)/(n-i))&&h<=e)return!0;if(s<r&&r<=t){if(o<=(h=i+(n-i)*(r-s)/(t-s))&&h<=a)return!0}else if(e<s&&t<=e&&o<=(h=i+(n-i)*(e-s)/(t-s))&&h<=a)return!0}return!1},N.Line.intersectionWithRectangle=function(t,e,i){var s=N.Line.intersectionWithRectangle,n=(i=i||new N.Point,s.edges||(s.edges=[new N.Line,new N.Line,new N.Line,new N.Line]),s.edgeIntersection||(s.edgeIntersection=new N.Point),s.edges),o=s.edgeIntersection.set(0),s=e.x,r=e.y,a=e.right,e=e.bottom,h=1/0;n[0].setTo(s,r,a,r),n[1].setTo(s,e,a,e),n[2].setTo(s,r,s,e),n[3].setTo(a,r,a,e);for(var l,c,u=0;l=n[u];u++)t.intersects(l,!0,o)&&(c=t.start.distance(o))<h&&(h=c,i.copyFrom(o));return null!=c?i:null},N.Line.reflect=function(t,e){return 2*e.normalAngle-3.141592653589793-t.angle},N.Matrix=function(t,e,i,s,n,o){null==e&&(e=0),null==i&&(i=0),null==s&&(s=1),null==n&&(n=0),null==o&&(o=0),this.a=t=null==t?1:t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=o,this.type=N.MATRIX},N.Matrix.prototype={fromArray:function(t){return this.setTo(t[0],t[1],t[3],t[4],t[2],t[5])},setTo:function(t,e,i,s,n,o){return this.a=t,this.b=e,this.c=i,this.d=s,this.tx=n,this.ty=o,this},clone:function(t){return null==t?t=new N.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty):(t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty),t},copyTo:function(t){return t.copyFrom(this),t},copyFrom:function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},toArray:function(t,e){return void 0===e&&(e=new Float32Array(9)),t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},apply:function(t,e){return(e=void 0===e?new N.Point:e).x=this.a*t.x+this.c*t.y+this.tx,e.y=this.b*t.x+this.d*t.y+this.ty,e},applyInverse:function(t,e){void 0===e&&(e=new N.Point);var i=1/(this.a*this.d+this.c*-this.b),s=t.x,t=t.y;return e.x=this.d*i*s+-this.c*i*t+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*t+-this.b*i*s+(-this.ty*this.a+this.tx*this.b)*i,e},translate:function(t,e){return this.tx+=t,this.ty+=e,this},scale:function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},rotate:function(t){var e=Math.cos(t),t=Math.sin(t),i=this.a,s=this.c,n=this.tx;return this.a=i*e-this.b*t,this.b=i*t+this.b*e,this.c=s*e-this.d*t,this.d=s*t+this.d*e,this.tx=n*e-this.ty*t,this.ty=n*t+this.ty*e,this},append:function(t){var e=this.a,i=this.b,s=this.c,n=this.d;return this.a=t.a*e+t.b*s,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*s,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*s+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},identity:function(){return this.setTo(1,0,0,1,0,0)}},N.identityMatrix=new N.Matrix,N.Point=function(t,e){e=e||0,this.x=t=t||0,this.y=e,this.type=N.POINT},N.Point.prototype={copyFrom:function(t){return this.setTo(t.x,t.y)},invert:function(){return this.setTo(this.y,this.x)},setTo:function(t,e){return N.Point.set(this,t,e)},set:function(t,e){return N.Point.set(this,t,e)},setToPolar:function(t,e,i){return null==e&&(e=1),i&&(t=N.Math.degToRad(t)),this.setTo(Math.cos(t)*e,Math.sin(t)*e)},add:function(t,e){return this.x+=t,this.y+=e,this},subtract:function(t,e){return this.x-=t,this.y-=e,this},multiply:function(t,e){return this.x*=t,this.y*=e,this},divide:function(t,e){return this.x/=t,this.y/=e,this},clampX:function(t,e){return this.x=N.Math.clamp(this.x,t,e),this},clampY:function(t,e){return this.y=N.Math.clamp(this.y,t,e),this},clamp:function(t,e){return this.x=N.Math.clamp(this.x,t,e),this.y=N.Math.clamp(this.y,t,e),this},clip:function(t){var e=t.left,i=t.top,s=t.right,t=t.bottom;return this.x<e?this.x=e:this.x>s&&(this.x=s),this.y<i?this.y=i:this.y>t&&(this.y=t),this},clone:function(t){return null==t?t=new N.Point(this.x,this.y):t.setTo(this.x,this.y),t},copyTo:function(t){return t.x=this.x,t.y=this.y,t},distance:function(t,e){return N.Point.distance(this,t,e)},equals:function(t){return t.x===this.x&&t.y===this.y},equalsXY:function(t,e){return this.x===t&&this.y===e},fuzzyEquals:function(t,e){return N.Point.fuzzyEquals(this,t,e)},fuzzyEqualsXY:function(t,e,i){return N.Point.fuzzyEqualsXY(this,t,e,i)},angle:function(t,e){return this.angleXY(t.x,t.y,e)},angleXY:function(t,e,i){e=Math.atan2(e-this.y,t-this.x);return i?N.Math.radToDeg(e):e},atan:function(t){var e=Math.atan2(this.y,this.x);return t?N.Math.radToDeg(e):e},rotate:function(t,e,i,s,n){return N.Point.rotate(this,t,e,i,s,n)},getMagnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},getMagnitudeSq:function(){return this.x*this.x+this.y*this.y},setMagnitude:function(t){return this.normalize().multiply(t,t)},normalize:function(){var t;return this.isZero()||(t=this.getMagnitude(),this.x/=t,this.y/=t),this},limit:function(t){return this.getMagnitudeSq()>t*t&&this.setMagnitude(t),this},expand:function(t){return this.getMagnitudeSq()<t*t&&this.setMagnitude(t),this},isZero:function(){return 0===this.x&&0===this.y},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},perp:function(){return this.setTo(-this.y,this.x)},rperp:function(){return this.setTo(this.y,-this.x)},normalRightHand:function(){return this.setTo(-1*this.y,this.x)},floor:function(){return this.setTo(Math.floor(this.x),Math.floor(this.y))},ceil:function(){return this.setTo(Math.ceil(this.x),Math.ceil(this.y))},round:function(){return this.setTo(Math.round(this.x),Math.round(this.y))},toString:function(){return"[{Point (x="+this.x+" y="+this.y+")}]"}},N.Point.prototype.constructor=N.Point,N.Point.add=function(t,e,i){return(i=void 0===i?new N.Point:i).x=t.x+e.x,i.y=t.y+e.y,i},N.Point.subtract=function(t,e,i){return(i=void 0===i?new N.Point:i).x=t.x-e.x,i.y=t.y-e.y,i},N.Point.multiply=function(t,e,i){return(i=void 0===i?new N.Point:i).x=t.x*e.x,i.y=t.y*e.y,i},N.Point.divide=function(t,e,i){return(i=void 0===i?new N.Point:i).x=t.x/e.x,i.y=t.y/e.y,i},N.Point.equals=function(t,e){return t.x===e.x&&t.y===e.y},N.Point.equalsXY=function(t,e,i){return t.x===e&&t.y===i},N.Point.fuzzyEquals=function(t,e,i){return N.Math.fuzzyEqual(t.x,e.x,i)&&N.Math.fuzzyEqual(t.y,e.y,i)},N.Point.fuzzyEqualsXY=function(t,e,i,s){return N.Math.fuzzyEqual(t.x,e,s)&&N.Math.fuzzyEqual(t.y,i,s)},N.Point.angle=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)},N.Point.negative=function(t,e){return(e=void 0===e?new N.Point:e).setTo(-t.x,-t.y)},N.Point.multiplyAdd=function(t,e,i,s){return(s=void 0===s?new N.Point:s).setTo((t.x+e.x)*i,(t.y+e.y)*i)},N.Point.interpolate=function(t,e,i,s){return(s=void 0===s?new N.Point:s).setTo(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)},N.Point.perp=function(t,e){return(e=void 0===e?new N.Point:e).setTo(-t.y,t.x)},N.Point.rperp=function(t,e){return(e=void 0===e?new N.Point:e).setTo(t.y,-t.x)},N.Point.distance=function(t,e,i){t=N.Math.distance(t.x,t.y,e.x,e.y);return i?Math.round(t):t},N.Point.project=function(t,e,i){void 0===i&&(i=new N.Point);t=t.dot(e)/e.getMagnitudeSq();return 0!=t&&i.setTo(t*e.x,t*e.y),i},N.Point.projectUnit=function(t,e,i){void 0===i&&(i=new N.Point);t=t.dot(e);return 0!==t&&i.setTo(t*e.x,t*e.y),i},N.Point.normalRightHand=function(t,e){return(e=void 0===e?new N.Point:e).setTo(-1*t.y,t.x)},N.Point.normalize=function(t,e){void 0===e&&(e=new N.Point);var i=t.getMagnitude();return 0!==i&&e.setTo(t.x/i,t.y/i),e},N.Point.rotate=function(t,e,i,s,n,o){var r,a;return n&&(s=N.Math.degToRad(s)),void 0===o?(t.subtract(e,i),n=Math.sin(s),r=(a=Math.cos(s))*t.x-n*t.y,n=n*t.x+a*t.y,t.x=r+e,t.y=n+i):(a=s+Math.atan2(t.y-i,t.x-e),t.x=e+o*Math.cos(a),t.y=i+o*Math.sin(a)),t},N.Point.centroid=function(t,e){if(void 0===e&&(e=new N.Point),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("Phaser.Point. Parameter 'points' must be an array");var i=t.length;if(i<1)throw new Error("Phaser.Point. Parameter 'points' array must not be empty");if(1===i)e.copyFrom(t[0]);else{for(var s=0;s<i;s++)N.Point.add(e,t[s],e);e.divide(i,i)}return e},N.Point.parse=function(t,e,i){e=e||"x",i=i||"y";var s=new N.Point;return t[e]&&(s.x=parseFloat(t[e])),t[i]&&(s.y=parseFloat(t[i])),s},N.Point.trunc=function(t){return t.x=N.Math.trunc(t.x),t.y=N.Math.trunc(t.y),t},N.Point.isPoint=function(t){return null!=t&&"number"==typeof t.x&&"number"==typeof t.y},N.Point.set=function(t,e,i){return t.x=e||0,t.y=i||(0!==i?t.x:0),t},N.Point.sortClockwise=function(t,e){var s=(e=e||this.centroid(t)).x,n=e.y;return t.sort(function(t,e){var i;return 0<=t.x-s&&e.x-s<0?-1:t.x-s<0&&0<=e.x-s?1:t.x-s==0&&e.x-s==0?0<=t.y-n||0<=e.y-n?t.y>e.y?1:-1:e.y>t.y?1:-1:(i=(t.x-s)*-(e.y-n)-(e.x-s)*-(t.y-n))<0||!(0<i)&&(e.x-s)*(e.x-s)+(e.y-n)*(e.y-n)<(t.x-s)*(t.x-s)+(t.y-n)*(t.y-n)?-1:1})},PIXI.Point=N.Point,N.Polygon=function(){this.area=0,this._points=[],0<arguments.length&&this.setTo.apply(this,arguments),this.closed=!0,this.flattened=!1,this.type=N.POLYGON},N.Polygon.prototype={toNumberArray:function(t){void 0===t&&(t=[]);for(var e=0;e<this._points.length;e++)"number"==typeof this._points[e]?(t.push(this._points[e]),t.push(this._points[e+1]),e++):(t.push(this._points[e].x),t.push(this._points[e].y));return t},flatten:function(){return this._points=this.toNumberArray(),this.flattened=!0,this},clone:function(t){var e=this._points.slice();return null==t?t=new N.Polygon(e):t.setTo(e),t},contains:function(t,e){var i=!1;if(this.flattened)for(var s=-2,n=this._points.length-2;(s+=2)<this._points.length;n=s){var o=this._points[s],r=this._points[s+1],a=this._points[n],h=this._points[n+1];(r<=e&&e<h||h<=e&&e<r)&&t<(a-o)*(e-r)/(h-r)+o&&(i=!i)}else for(s=-1,n=this._points.length-1;++s<this._points.length;n=s)o=this._points[s].x,r=this._points[s].y,a=this._points[n].x,h=this._points[n].y,(r<=e&&e<h||h<=e&&e<r)&&t<(a-o)*(e-r)/(h-r)+o&&(i=!i);return i},setTo:function(t){if(this.area=0,this._points=[],0<arguments.length){Array.isArray(t)||(t=Array.prototype.slice.call(arguments));for(var e,i=Number.MAX_VALUE,s=0,n=t.length;s<n;s++)"number"==typeof t[s]?(e=new PIXI.Point(t[s],t[s+1]),s++):e=Array.isArray(t[s])?new PIXI.Point(t[s][0],t[s][1]):new PIXI.Point(t[s].x,t[s].y),this._points.push(e),e.y<i&&(i=e.y);this.calculateArea(i)}return this},calculateArea:function(t){for(var e,i,s,n=0,o=this._points.length;n<o;n++)e=this._points[n],i=n===o-1?this._points[0]:this._points[n+1],s=(e.y-t+(i.y-t))/2,this.area+=s*(e.x-i.x);return this.area}},N.Polygon.prototype.constructor=N.Polygon,Object.defineProperty(N.Polygon.prototype,"points",{get:function(){return this._points}}),PIXI.Polygon=N.Polygon,N.Rectangle=function(t,e,i,s){e=e||0,i=i||0,s=s||0,this.x=t=t||0,this.y=e,this.width=i,this.height=s,this.type=N.RECTANGLE},N.Rectangle.prototype={offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)},setTo:function(t,e,i,s){return this.x=t,this.y=e,this.width=i,this.height=s,this},scale:function(t,e){return void 0===e&&(e=t),this.width*=t,this.height*=e,this},centerOn:function(t,e){return this.centerX=t,this.centerY=e,this},floor:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y)},floorAll:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height)},ceil:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y)},ceilAll:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height)},copyFrom:function(t){return this.setTo(t.x,t.y,t.width,t.height)},copyFromBounds:function(t){return this.setTo(t.left,t.top,t.width,t.height)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},inflate:function(t,e){return N.Rectangle.inflate(this,t,e)},size:function(t){return N.Rectangle.size(this,t)},resize:function(t,e){return this.width=t,this.height=e,this},clone:function(t){return N.Rectangle.clone(this,t)},contains:function(t,e){return N.Rectangle.contains(this,t,e)},containsRect:function(t){return N.Rectangle.containsRect(t,this)},equals:function(t){return N.Rectangle.equals(this,t)},intersection:function(t,e){return N.Rectangle.intersection(this,t,e)},intersects:function(t){return N.Rectangle.intersects(this,t)},intersectsRaw:function(t,e,i,s,n){return N.Rectangle.intersectsRaw(this,t,e,i,s,n)},union:function(t,e){return N.Rectangle.union(this,t,e)},random:function(t){return(t=void 0===t?new N.Point:t).x=this.randomX,t.y=this.randomY,t},getPoint:function(t,e){switch(void 0===e&&(e=new N.Point),t){default:case N.TOP_LEFT:return e.set(this.x,this.y);case N.TOP_CENTER:return e.set(this.centerX,this.y);case N.TOP_RIGHT:return e.set(this.right,this.y);case N.LEFT_CENTER:return e.set(this.x,this.centerY);case N.CENTER:return e.set(this.centerX,this.centerY);case N.RIGHT_CENTER:return e.set(this.right,this.centerY);case N.BOTTOM_LEFT:return e.set(this.x,this.bottom);case N.BOTTOM_CENTER:return e.set(this.centerX,this.bottom);case N.BOTTOM_RIGHT:return e.set(this.right,this.bottom)}},sides:function(t,e,i,s){arguments.length||(t=new N.Line,e=new N.Line,i=new N.Line,s=new N.Line);var n=this.x,o=this.y,r=this.right,a=this.bottom;return t.setTo(n,o,r,o),e.setTo(r,o,r,a),i.setTo(n,a,r,a),s.setTo(n,o,n,a),arguments.length?null:[t,e,i,s]},toString:function(){return"[{Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+" empty="+this.empty+")}]"}},Object.defineProperty(N.Rectangle.prototype,"halfWidth",{get:function(){return Math.round(this.width/2)}}),Object.defineProperty(N.Rectangle.prototype,"halfHeight",{get:function(){return Math.round(this.height/2)}}),Object.defineProperty(N.Rectangle.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(N.Rectangle.prototype,"bottomLeft",{get:function(){return new N.Point(this.x,this.bottom)},set:function(t){this.x=t.x,this.bottom=t.y}}),Object.defineProperty(N.Rectangle.prototype,"bottomRight",{get:function(){return new N.Point(this.right,this.bottom)},set:function(t){this.right=t.x,this.bottom=t.y}}),Object.defineProperty(N.Rectangle.prototype,"left",{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}}),Object.defineProperty(N.Rectangle.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(N.Rectangle.prototype,"volume",{get:function(){return this.width*this.height}}),Object.defineProperty(N.Rectangle.prototype,"perimeter",{get:function(){return 2*this.width+2*this.height}}),Object.defineProperty(N.Rectangle.prototype,"centerX",{get:function(){return this.x+this.halfWidth},set:function(t){this.x=t-this.halfWidth}}),Object.defineProperty(N.Rectangle.prototype,"centerY",{get:function(){return this.y+this.halfHeight},set:function(t){this.y=t-this.halfHeight}}),Object.defineProperty(N.Rectangle.prototype,"randomX",{get:function(){return this.x+Math.random()*this.width}}),Object.defineProperty(N.Rectangle.prototype,"randomY",{get:function(){return this.y+Math.random()*this.height}}),Object.defineProperty(N.Rectangle.prototype,"top",{get:function(){return this.y},set:function(t){t>=this.bottom?(this.height=0,this.y=t):this.height=this.bottom-t}}),Object.defineProperty(N.Rectangle.prototype,"topLeft",{get:function(){return new N.Point(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}}),Object.defineProperty(N.Rectangle.prototype,"topRight",{get:function(){return new N.Point(this.x+this.width,this.y)},set:function(t){this.right=t.x,this.y=t.y}}),Object.defineProperty(N.Rectangle.prototype,"empty",{get:function(){return!this.width||!this.height},set:function(t){!0===t&&this.setTo(0,0,0,0)}}),N.Rectangle.prototype.constructor=N.Rectangle,N.Rectangle.inflate=function(t,e,i){return t.x-=e,t.width+=2*e,t.y-=i,t.height+=2*i,t},N.Rectangle.inflatePoint=function(t,e){return N.Rectangle.inflate(t,e.x,e.y)},N.Rectangle.size=function(t,e){return null==e?e=new N.Point(t.width,t.height):e.setTo(t.width,t.height),e},N.Rectangle.clone=function(t,e){return null==e?e=new N.Rectangle(t.x,t.y,t.width,t.height):e.setTo(t.x,t.y,t.width,t.height),e},N.Rectangle.createFromBounds=function(t,e){return(e=null==e?new N.Rectangle(t.x,t.y,t.width,t.height):e).copyFromBounds(t)},N.Rectangle.contains=function(t,e,i){return!(t.width<=0||t.height<=0)&&t.x<=e&&e<t.right&&t.y<=i&&i<t.bottom},N.Rectangle.containsRaw=function(t,e,i,s,n,o){return t<=n&&n<t+i&&e<=o&&o<e+s},N.Rectangle.containsPoint=function(t,e){return N.Rectangle.contains(t,e.x,e.y)},N.Rectangle.containsRect=function(t,e){return!(t.volume>e.volume)&&e.x<=t.x&&e.y<=t.y&&t.right<e.right&&t.bottom<e.bottom},N.Rectangle.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},N.Rectangle.sameDimensions=function(t,e){return t.width===e.width&&t.height===e.height},N.Rectangle.intersection=function(t,e,i){return void 0===i&&(i=new N.Rectangle),N.Rectangle.intersects(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i},N.Rectangle.intersects=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0||t.right<e.x||t.bottom<e.y||e.right<t.x||e.bottom<t.y)},N.Rectangle.intersectsRaw=function(t,e,i,s,n,o){return!(e>t.right+(o=void 0===o?0:o)||i<t.left-o||t.bottom+o<s||n<t.top-o)},N.Rectangle.union=function(t,e,i){return(i=void 0===i?new N.Rectangle:i).setTo(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.right,e.right)-Math.min(t.left,e.left),Math.max(t.bottom,e.bottom)-Math.min(t.top,e.top))},N.Rectangle.aabb=function(t,e){void 0===e&&(e=new N.Rectangle);var i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return t.forEach(function(t){t.x>i&&(i=t.x),t.x<s&&(s=t.x),n<t.y&&(n=t.y),t.y<o&&(o=t.y)}),e.setTo(s,o,i-s,n-o),e},PIXI.Rectangle=N.Rectangle,N.EmptyRectangle=new N.Rectangle(0,0,0,0),N.RoundedRectangle=function(t,e,i,s,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===n&&(n=20),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=s,this.radius=n||20,this.type=N.ROUNDEDRECTANGLE},N.RoundedRectangle.prototype={clone:function(){return new N.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},contains:function(t,e){if(!(this.width<=0||this.height<=0)){var i=this.x;if(i<=t&&t<=i+this.width){t=this.y;if(t<=e&&e<=t+this.height)return!0}}return!1}},N.RoundedRectangle.prototype.constructor=N.RoundedRectangle,PIXI.RoundedRectangle=N.RoundedRectangle,N.Camera=function(t,e,i,s,n,o){this.game=t,this.world=t.world,this.id=0,this.view=new N.Rectangle(i,s,n,o),this.bounds=new N.Rectangle(i,s,n,o),this.deadzone=null,this.visible=!0,this.roundPx=!0,this.atLimit={x:!1,y:!1},this.target=null,this.displayObject=null,this.scale=null,this.totalInView=0,this.lerp=new N.Point(1,1),this.onShakeComplete=new N.Signal,this.onFlashComplete=new N.Signal,this.onFadeComplete=new N.Signal,this.fx=null,this._targetPosition=new N.Point,this._edge=0,this._position=new N.Point,this._shake={intensity:0,duration:0,horizontal:!1,vertical:!1,shakeBounds:!0,x:0,y:0},this._fxDuration=0,this._fxType=0,this._fixedView=new N.Rectangle},N.Camera.FOLLOW_LOCKON=0,N.Camera.FOLLOW_PLATFORMER=1,N.Camera.FOLLOW_TOPDOWN=2,N.Camera.FOLLOW_TOPDOWN_TIGHT=3,N.Camera.SHAKE_BOTH=4,N.Camera.SHAKE_HORIZONTAL=5,N.Camera.SHAKE_VERTICAL=6,N.Camera.ENABLE_FX=!0,N.Camera.FLASH=0,N.Camera.FADE_OUT=1,N.Camera.FADE_IN=2,N.Camera.prototype={boot:function(){this.displayObject=this.game.world,this.scale=this.game.world.scale,this.game.camera=this,N.Graphics&&N.Camera.ENABLE_FX&&(this.fx=new N.Graphics(this.game),this.game.stage.addChild(this.fx))},preUpdate:function(){this.totalInView=0},follow:function(t,e,i,s){var n;switch(void 0===e&&(e=N.Camera.FOLLOW_LOCKON),void 0===i&&(i=1),void 0===s&&(s=1),this.target=t,this.lerp.set(i,s),e){case N.Camera.FOLLOW_PLATFORMER:var o=this.width/8,r=this.height/3;this.deadzone=new N.Rectangle((this.width-o)/2,(this.height-r)/2-.25*r,o,r);break;case N.Camera.FOLLOW_TOPDOWN:n=Math.max(this.width,this.height)/4,this.deadzone=new N.Rectangle((this.width-n)/2,(this.height-n)/2,n,n);break;case N.Camera.FOLLOW_TOPDOWN_TIGHT:n=Math.max(this.width,this.height)/8,this.deadzone=new N.Rectangle((this.width-n)/2,(this.height-n)/2,n,n);break;default:N.Camera.FOLLOW_LOCKON;this.deadzone=null}},unfollow:function(){this.target=null},focusOn:function(t){this.setPosition(Math.round(t.x-this.view.halfWidth),Math.round(t.y-this.view.halfHeight))},focusOnXY:function(t,e){this.setPosition(Math.round(t-this.view.halfWidth),Math.round(e-this.view.halfHeight))},shake:function(t,e,i,s,n){return void 0===t&&(t=.05),void 0===e&&(e=500),void 0===s&&(s=N.Camera.SHAKE_BOTH),void 0===n&&(n=!0),!(!(i=void 0===i?!0:i)&&0<this._shake.duration||(this._shake.intensity=t,this._shake.duration=e,this._shake.shakeBounds=n,this._shake.x=0,this._shake.y=0,this._shake.horizontal=s===N.Camera.SHAKE_BOTH||s===N.Camera.SHAKE_HORIZONTAL,this._shake.vertical=s===N.Camera.SHAKE_BOTH||s===N.Camera.SHAKE_VERTICAL,0))},flash:function(t,e,i,s){return void 0===t&&(t=16777215),void 0===e&&(e=500),void 0===i&&(i=!1),void 0===s&&(s=1),!(!this.fx||!i&&0<this._fxDuration||(this.fx.clear(),this.fx.beginFill(t,s),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=1,this._fxDuration=e,this._fxType=0))},fade:function(t,e,i,s){return this.fadeEffect(t,e,i,s,N.Camera.FADE_OUT)},fadeIn:function(t,e,i,s){return this.fadeEffect(t,e,i,s,N.Camera.FADE_IN)},fadeEffect:function(t,e,i,s,n){if(void 0===t&&(t=0),void 0===e&&(e=500),void 0===i&&(i=!1),void 0===s&&(s=1),!this.fx||!i&&0<this._fxDuration)return!1;if(this.fx.clear(),this.fx.beginFill(t,s),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),n<1||2<n)throw new Error("Wrong `type` argument");return this.fx.alpha=n===N.Camera.FADE_IN?1:0,this._fxDuration=e,this._fxType=n,!0},update:function(){0<this._fxDuration&&this.updateFX(),0<this._shake.duration&&this.updateShake(),this.bounds&&this.checkBounds(),this.roundPx&&(this.view.floor(),this._shake.x=Math.floor(this._shake.x),this._shake.y=Math.floor(this._shake.y)),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},updateFX:function(){this._fxType===N.Camera.FLASH?(this.fx.alpha-=this.game.time.delta/this._fxDuration,this.fx.alpha<=0&&(this._fxDuration=0,this.fx.alpha=0,this.onFlashComplete.dispatch())):this._fxType===N.Camera.FADE_IN?(this.fx.alpha-=this.game.time.delta/this._fxDuration,this.fx.alpha<=0&&(this._fxDuration=0,this.fx.alpha=0,this.onFadeComplete.dispatch())):(this.fx.alpha+=this.game.time.delta/this._fxDuration,1<=this.fx.alpha&&(this._fxDuration=0,this.fx.alpha=1,this.onFadeComplete.dispatch()))},updateShake:function(){this._shake.duration-=this.game.time.delta,this._shake.duration<=0?(this.onShakeComplete.dispatch(),this._shake.x=0,this._shake.y=0):(this._shake.horizontal&&(this._shake.x=this.game.rnd.frac()*this._shake.intensity*this.view.width*2-this._shake.intensity*this.view.width),this._shake.vertical&&(this._shake.y=this.game.rnd.frac()*this._shake.intensity*this.view.height*2-this._shake.intensity*this.view.height))},updateTarget:function(){this._targetPosition.x=this.view.x+this.target.worldPosition.x,this._targetPosition.y=this.view.y+this.target.worldPosition.y,this.deadzone?(this._edge=this._targetPosition.x-this.view.x,this._edge<this.deadzone.left?this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.left,this.lerp.x):this._edge>this.deadzone.right&&(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.right,this.lerp.x)),this._edge=this._targetPosition.y-this.view.y,this._edge<this.deadzone.top?this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.top,this.lerp.y):this._edge>this.deadzone.bottom&&(this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.bottom,this.lerp.y))):(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.view.halfWidth,this.lerp.x),this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.view.halfHeight,this.lerp.y)),this.bounds&&this.checkBounds(),this.roundPx&&this.view.floor(),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},setBoundsToWorld:function(){this.bounds&&this.bounds.copyFrom(this.game.world.bounds)},checkBounds:function(){this.atLimit.x=!1,this.atLimit.y=!1;var t=this.view.x+this._shake.x,e=this.view.right+this._shake.x,i=this.view.y+this._shake.y,s=this.view.bottom+this._shake.y;t<=this.bounds.x*this.scale.x?(this.atLimit.x=!0,this.view.x=this.bounds.x*this.scale.x,this._shake.shakeBounds||(this._shake.x=0)):e>=this.bounds.right*this.scale.x&&(this.atLimit.x=!0,this.view.x=this.bounds.right*this.scale.x-this.width,this._shake.shakeBounds||(this._shake.x=0)),i<=this.bounds.top*this.scale.y?(this.atLimit.y=!0,this.view.y=this.bounds.top*this.scale.y,this._shake.shakeBounds||(this._shake.y=0)):s>=this.bounds.bottom*this.scale.y&&(this.atLimit.y=!0,this.view.y=this.bounds.bottom*this.scale.y-this.height,this._shake.shakeBounds||(this._shake.y=0))},setPosition:function(t,e){this.view.x=t,this.view.y=e,this.bounds&&this.checkBounds()},setSize:function(t,e){this.view.width=t,this.view.height=e},reset:function(){this.target=null,this.view.x=0,this.view.y=0,this._shake.duration=0,this._shake.x=0,this._shake.y=0,this.resetFX()},resetFX:function(){this.fx&&(this.fx.clear(),this.fx.alpha=0),this._fxDuration=0}},N.Camera.prototype.constructor=N.Camera,Object.defineProperty(N.Camera.prototype,"x",{get:function(){return this.view.x},set:function(t){this.view.x=t,this.bounds&&this.checkBounds()}}),Object.defineProperty(N.Camera.prototype,"y",{get:function(){return this.view.y},set:function(t){this.view.y=t,this.bounds&&this.checkBounds()}}),Object.defineProperty(N.Camera.prototype,"position",{get:function(){return this._position.set(this.view.x,this.view.y),this._position},set:function(t){void 0!==t.x&&(this.view.x=t.x),void 0!==t.y&&(this.view.y=t.y),this.bounds&&this.checkBounds()}}),Object.defineProperty(N.Camera.prototype,"width",{get:function(){return this.view.width},set:function(t){this.view.width=t}}),Object.defineProperty(N.Camera.prototype,"height",{get:function(){return this.view.height},set:function(t){this.view.height=t}}),Object.defineProperty(N.Camera.prototype,"shakeIntensity",{get:function(){return this._shake.intensity},set:function(t){this._shake.intensity=t}}),Object.defineProperty(N.Camera.prototype,"fixedView",{get:function(){return this._fixedView.setTo(0,0,this.view.width,this.view.height),this._fixedView}}),Object.defineProperty(N.Camera.prototype,"centerX",{get:function(){return this.x+.5*this.width}}),Object.defineProperty(N.Camera.prototype,"centerY",{get:function(){return this.y+.5*this.height}}),N.State=function(){this.game=null,this.key="",this.add=null,this.make=null,this.camera=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.sound=null,this.scale=null,this.stage=null,this.state=null,this.time=null,this.tweens=null,this.world=null,this.particles=null,this.physics=null,this.rnd=null},N.State.prototype={init:function(){},preload:function(){},loadUpdate:function(){},loadRender:function(){},create:function(){},update:function(){},postUpdate:function(){},preRender:function(){},render:function(){},resize:function(){},paused:function(){},resumed:function(){},pauseUpdate:function(){},shutdown:function(){}},N.State.prototype.constructor=N.State,N.StateManager=function(t,e){this.game=t,this.states={},(this._pendingState=null)!=e&&(this._pendingState=e),this._clearWorld=!1,this._clearCache=!1,this._created=!1,this._args=[],this.current="",this.onStateChange=new N.Signal,this.onInitCallback=null,this.onPreloadCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPreRenderCallback=null,this.onLoadUpdateCallback=null,this.onLoadRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.onShutDownCallback=null},N.StateManager.prototype={boot:function(){this.game.onPause.add(this.pause,this),this.game.onResume.add(this.resume,this),null!==this._pendingState&&"string"!=typeof this._pendingState&&this.add("default",this._pendingState,!0)},add:function(t,e,i){var s;return void 0===i&&(i=!1),e instanceof N.State?s=e:"object"==typeof e?(s=e).game=this.game:"function"==typeof e&&(s=new e(this.game)),this.states[t]=s,i&&(this.game.isBooted?this.start(t):this._pendingState=t),s},remove:function(t){this.current===t&&(this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onPreRenderCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null),delete this.states[t]},start:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.checkState(t)&&(this._pendingState=t,this._clearWorld=e,this._clearCache=i,3<arguments.length)&&(this._args=Array.prototype.splice.call(arguments,3))},restart:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1),this._pendingState=this.current,this._clearWorld=t,this._clearCache=e,2<arguments.length&&(this._args=Array.prototype.slice.call(arguments,2))},dummy:function(){},preUpdate:function(){this._pendingState&&this.game.isBooted&&(this.clearCurrentState(),this.setCurrentState(this._pendingState),this.current===this._pendingState)&&(this._pendingState=null,!this.onPreloadCallback||(this.game.load.reset(!0),this.onPreloadCallback.call(this.callbackContext,this.game),0===this.game.load.totalQueuedFiles()&&0===this.game.load.totalQueuedPacks())?this.loadComplete():this.game.load.start())},clearCurrentState:function(){this.current&&(this.onShutDownCallback&&this.onShutDownCallback.call(this.callbackContext,this.game),this.game.tweens.removeAll(),this.game.camera.reset(),this.game.input.reset(!0),this.game.physics.clear(),this.game.time.removeAll(),this.game.scale.reset(this._clearWorld),this.game.debug&&this.game.debug.reset(),this._clearWorld)&&(this.game.world.shutdown(),this._clearCache)&&this.game.cache.destroy()},checkState:function(t){var e=this.states[t];return e?!!(e.preload||e.create||e.update||e.render)||(console.warn("Invalid Phaser State object given. Must contain at least one of the required functions: preload, create, update or render"),!1):(console.warn("Phaser.StateManager - No state found with the key: "+t),!1)},link:function(t){var e=this.states[t];e.game=this.game,e.add=this.game.add,e.make=this.game.make,e.camera=this.game.camera,e.cache=this.game.cache,e.input=this.game.input,e.load=this.game.load,e.math=this.game.math,e.sound=this.game.sound,e.scale=this.game.scale,e.state=this,e.stage=this.game.stage,e.time=this.game.time,e.tweens=this.game.tweens,e.world=this.game.world,e.particles=this.game.particles,e.rnd=this.game.rnd,e.physics=this.game.physics,e.key=t},unlink:function(t){t=this.states[t];t&&(t.game=null,t.add=null,t.make=null,t.camera=null,t.cache=null,t.input=null,t.load=null,t.math=null,t.sound=null,t.scale=null,t.state=null,t.stage=null,t.time=null,t.tweens=null,t.world=null,t.particles=null,t.rnd=null,t.physics=null)},setCurrentState:function(t){var e=this.current,i=this.states[t];this.callbackContext=i,this.link(t),this.onInitCallback=i.init||this.dummy,this.onPreloadCallback=i.preload||null,this.onLoadRenderCallback=i.loadRender||null,this.onLoadUpdateCallback=i.loadUpdate||null,this.onCreateCallback=i.create||null,this.onUpdateCallback=i.update||null,this.onPostUpdateCallback=i.postUpdate||null,this.onPreRenderCallback=i.preRender||null,this.onRenderCallback=i.render||null,this.onResizeCallback=i.resize||null,this.onPausedCallback=i.paused||null,this.onResumedCallback=i.resumed||null,this.onPauseUpdateCallback=i.pauseUpdate||null,this.onShutDownCallback=i.shutdown||this.dummy,""!==this.current&&this.game.physics.reset(),this.current=t,this._created=!1,this.onStateChange.dispatch(this.current,e),this.onInitCallback.apply(this.callbackContext,this._args),t===this._pendingState&&(this._args=[]),this.game._kickstart=!0},getCurrentState:function(){return this.states[this.current]},loadComplete:function(){!1===this._created&&this.onCreateCallback?(this._created=!0,this.onCreateCallback.call(this.callbackContext,this.game)):this._created=!0},loadUpdate:function(){!1===this._created&&this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},pause:function(){this._created&&this.onPausedCallback&&this.onPausedCallback.call(this.callbackContext,this.game)},resume:function(){this._created&&this.onResumedCallback&&this.onResumedCallback.call(this.callbackContext,this.game)},update:function(){this._created?this.onUpdateCallback&&this.onUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},postUpdate:function(){this._created&&this.onPostUpdateCallback&&this.onPostUpdateCallback.call(this.callbackContext,this.game)},pauseUpdate:function(){this._created?this.onPauseUpdateCallback&&this.onPauseUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},preRender:function(){this._created&&this.onPreRenderCallback&&this.onPreRenderCallback.call(this.callbackContext,this.game)},resize:function(t,e){this.onResizeCallback&&this.onResizeCallback.call(this.callbackContext,t,e)},render:function(){this._created?this.onRenderCallback&&(this.game.renderType===N.CANVAS?(this.game.context.save(),this.game.context.setTransform(1,0,0,1,0,0),this.onRenderCallback.call(this.callbackContext,this.game),this.game.context.restore()):this.onRenderCallback.call(this.callbackContext,this.game)):this.onLoadRenderCallback&&this.onLoadRenderCallback.call(this.callbackContext,this.game)},destroy:function(){this._clearWorld=!0,this._clearCache=!0,this.clearCurrentState(),this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onPostUpdateCallback=null,this.onRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.game=null,this.states={},this._pendingState=null,this.current=""}},N.StateManager.prototype.constructor=N.StateManager,Object.defineProperty(N.StateManager.prototype,"created",{get:function(){return this._created}}),N.Signal=function(){},N.Signal.prototype={_bindings:null,_prevParams:null,memorize:!1,_shouldPropagate:!0,active:!0,_boundDispatch:!1,validateListener:function(t,e){if("function"!=typeof t)throw new Error("Phaser.Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},_registerListener:function(t,e,i,s,n){var o,r=this._indexOfListener(t,i);if(-1!==r){if((o=this._bindings[r]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else o=new N.SignalBinding(this,t,e,i,s,n),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(t){this._bindings||(this._bindings=[]);for(var e=this._bindings.length;this._bindings[--e]&&t._priority<=this._bindings[e]._priority;);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){if(this._bindings){void 0===e&&(e=null);for(var i,s=this._bindings.length;s--;)if((i=this._bindings[s])._listener===t&&i.context===e)return s}return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){this.validateListener(t,"add");var s=[];if(3<arguments.length)for(var n=3;n<arguments.length;n++)s.push(arguments[n]);return this._registerListener(t,!1,e,i,s)},addOnce:function(t,e,i){this.validateListener(t,"addOnce");var s=[];if(3<arguments.length)for(var n=3;n<arguments.length;n++)s.push(arguments[n]);return this._registerListener(t,!0,e,i,s)},remove:function(t,e){this.validateListener(t,"remove");e=this._indexOfListener(t,e);return-1!==e&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)),t},removeAll:function(t){if(void 0===t&&(t=null),this._bindings){for(var e=this._bindings.length;e--;)t?this._bindings[e].context===t&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)):this._bindings[e]._destroy();t||(this._bindings.length=0)}},getNumListeners:function(){return this._bindings?this._bindings.length:0},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active&&(this._bindings||this.memorize)){var t=Array.prototype.slice.call(arguments),e=(this.memorize&&(this._prevParams=t),this._bindings?this._bindings.length:0);if(e){var i=this._bindings.slice();for(this._shouldPropagate=!0;i[--e]&&this._shouldPropagate&&!1!==i[e].execute(t););}}},forget:function(){this._prevParams&&(this._prevParams=null)},dispose:function(){this.removeAll(),this._bindings=null,this._prevParams&&(this._prevParams=null)},toString:function(){return"[Phaser.Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},Object.defineProperty(N.Signal.prototype,"boundDispatch",{get:function(){var t=this;return this._boundDispatch||(this._boundDispatch=function(){return t.dispatch.apply(t,arguments)})}}),N.Signal.prototype.constructor=N.Signal,N.SignalBinding=function(t,e,i,s,n,o){this._listener=e,i&&(this._isOnce=!0),null!=s&&(this.context=s),this._signal=t,n&&(this._priority=n),o&&o.length&&(this._args=o)},N.SignalBinding.prototype={context:null,_isOnce:!1,_priority:0,_args:null,callCount:0,active:!0,params:null,execute:function(t){var e;return this.active&&this._listener&&(t=this.params?this.params.concat(t):t,this._args&&(t=t.concat(this._args)),e=this._listener.apply(this.context,t),this.callCount++,this._isOnce)&&this.detach(),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[Phaser.SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},N.SignalBinding.prototype.constructor=N.SignalBinding,N.Filter=function(t,e,i){this.game=t,this.type=N.WEBGL_FILTER,this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.prevPoint=new N.Point;t=new Date;if(this.uniforms={resolution:{type:"2f",value:{x:256,y:256}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:0,y:0}},date:{type:"4fv",value:[t.getFullYear(),t.getMonth(),t.getDate(),60*t.getHours()*60+60*t.getMinutes()+t.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}},e)for(var s in e)this.uniforms[s]=e[s];"string"==typeof i&&(i=i.split("\n")),this.fragmentSrc=i||[]},N.Filter.prototype={init:function(){},setResolution:function(t,e){this.uniforms.resolution.value.x=t,this.uniforms.resolution.value.y=e},update:function(t){var e;t&&(e=t.x/this.game.width,t=1-t.y/this.game.height,e===this.prevPoint.x&&t===this.prevPoint.y||(this.uniforms.mouse.value.x=e.toFixed(2),this.uniforms.mouse.value.y=t.toFixed(2),this.prevPoint.set(e,t))),this.uniforms.time.value=this.game.time.totalElapsedSeconds()},addToWorld:function(t,e,i,s,n,o){void 0===n&&(n=0),void 0===o&&(o=0),null!=i?this.width=i:i=this.width,null!=s?this.height=s:s=this.height;t=this.game.add.image(t,e,N.Cache.DEFAULT);return t.width=i,t.height=s,t.anchor.set(n,o),t.filters=[this],t},syncUniforms:function(){for(var t=0;t<this.shaders.length;t++)this.shaders[t].dirty=!0},destroy:function(){this.passes.length=0,this.shaders.length=0,this.fragmentSrc.length=0,this.game=null,this.uniforms=null,this.prevPoint=null}},N.Filter.prototype.constructor=N.Filter,Object.defineProperty(N.Filter.prototype,"width",{get:function(){return this.uniforms.resolution.value.x},set:function(t){this.uniforms.resolution.value.x=t}}),Object.defineProperty(N.Filter.prototype,"height",{get:function(){return this.uniforms.resolution.value.y},set:function(t){this.uniforms.resolution.value.y=t}}),N.Plugin=function(t,e){void 0===e&&(e=null),this.game=t,this.parent=e,this.active=!1,this.visible=!1,this.hasPreUpdate=!1,this.hasUpdate=!1,this.hasPostUpdate=!1,this.hasRender=!1,this.hasPostRender=!1},N.Plugin.prototype={preUpdate:function(){},update:function(){},render:function(){},postRender:function(){},destroy:function(){this.game=null,this.parent=null,this.active=!1,this.visible=!1}},N.Plugin.prototype.constructor=N.Plugin,N.PluginManager=function(t){this.game=t,this.plugins=[],this._len=0,this._i=0},N.PluginManager.prototype={add:function(t){var e=Array.prototype.slice.call(arguments,1),i=!1;return"function"==typeof t?t=new t(this.game,this):(t.game=this.game,t.parent=this),"function"==typeof t.preUpdate&&(i=t.hasPreUpdate=!0),"function"==typeof t.update&&(i=t.hasUpdate=!0),"function"==typeof t.postUpdate&&(i=t.hasPostUpdate=!0),"function"==typeof t.render&&(i=t.hasRender=!0),(i="function"==typeof t.postRender?t.hasPostRender=!0:i)?((t.hasPreUpdate||t.hasUpdate||t.hasPostUpdate)&&(t.active=!0),(t.hasRender||t.hasPostRender)&&(t.visible=!0),this._len=this.plugins.push(t),"function"==typeof t.init&&t.init.apply(t,e),t):null},remove:function(t,e){for(void 0===e&&(e=!0),this._i=this._len;this._i--;)if(this.plugins[this._i]===t)return e&&t.destroy(),this.plugins.splice(this._i,1),void this._len--},removeAll:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].destroy();this.plugins.length=0,this._len=0},preUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPreUpdate&&this.plugins[this._i].preUpdate()},update:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasUpdate&&this.plugins[this._i].update()},postUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPostUpdate&&this.plugins[this._i].postUpdate()},render:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasRender&&this.plugins[this._i].render()},postRender:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasPostRender&&this.plugins[this._i].postRender()},destroy:function(){this.removeAll(),this.game=null}},N.PluginManager.prototype.constructor=N.PluginManager,N.Stage=function(t){this.game=t,PIXI.DisplayObjectContainer.call(this),this.name="_stage_root",this.disableVisibilityChange=!1,this.exists=!0,this.worldTransform=new N.Matrix,(this.stage=this).currentRenderOrderID=0,this._hiddenVar="hidden",this._onChange=null,this._bgColor={r:0,g:0,b:0,a:0,color:0,rgba:"#000000"},this.game.transparent||(this._bgColor.a=1),t.config&&this.parseConfig(t.config)},N.Stage.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),N.Stage.prototype.constructor=N.Stage,N.Stage.prototype.parseConfig=function(t){t.disableVisibilityChange&&(this.disableVisibilityChange=t.disableVisibilityChange),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)},N.Stage.prototype.boot=function(){N.DOM.getOffset(this.game.canvas,this.offset),N.Canvas.setUserSelect(this.game.canvas,"none"),N.Canvas.setTouchAction(this.game.canvas,"none"),this.checkVisibility()},N.Stage.prototype.preUpdate=function(){for(var t=this.currentRenderOrderID=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}},N.Stage.prototype.update=function(){for(var t=this.children.length;t--;)this.children[t].update()},N.Stage.prototype.postUpdate=function(){this.game.camera.update(),this.game.camera.target&&(this.game.camera.target.postUpdate(),this.updateTransform(),this.game.camera.updateTarget());for(var t=0;t<this.children.length;t++)this.children[t].postUpdate();this.updateTransform()},N.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform()},N.Stage.prototype.checkVisibility=function(){void 0!==document.hidden?this._hiddenVar="visibilitychange":this._hiddenVar=void 0!==document.webkitHidden?"webkitvisibilitychange":void 0!==document.mozHidden?"mozvisibilitychange":void 0!==document.msHidden?"msvisibilitychange":null;var e=this;this._onChange=function(t){return e.visibilityChange(t)},this._onChangePause=function(){return e._onChange({type:"pause"})},this._onChangeResume=function(){return e._onChange({type:"resume"})},this._onClick=function(t){void 0===document.hasFocus||document.hasFocus()||e.visibilityChange(t)},this._hiddenVar&&document.addEventListener(this._hiddenVar,this._onChange,!1),window.onblur=this._onChange,window.onfocus=this._onChange,window.onpagehide=this._onChange,window.onpageshow=this._onChange,window.addEventListener("click",this._onClick),this.game.device.cocoonJSApp&&CocoonJS.App&&(CocoonJS.App.onSuspended&&CocoonJS.App.onSuspended.addEventListener(this._onChangePause),CocoonJS.App.onActivated&&CocoonJS.App.onActivated.addEventListener(this._onChangeResume),CocoonJS.App.on)&&(CocoonJS.App.on("activated",this._onChangeResume),CocoonJS.App.on("suspended",this._onChangePause))},N.Stage.prototype.visibilityChange=function(t){switch(t.type){case"blur":case"pagehide":return void this.game.focusLoss(t);case"click":case"focus":case"pageshow":return void this.game.focusGain(t)}this.disableVisibilityChange||(document.hidden||document.mozHidden||document.msHidden||document.webkitHidden||"pause"===t.type?this.game.gamePaused(t):this.game.gameResumed(t))},N.Stage.prototype.setBackgroundColor=function(t){this.game.transparent||(N.Color.valueToColor(t,this._bgColor),N.Color.updateColor(this._bgColor),this._bgColor.r/=255,this._bgColor.g/=255,this._bgColor.b/=255,this._bgColor.a=1)},N.Stage.prototype.destroy=function(){this._hiddenVar&&document.removeEventListener(this._hiddenVar,this._onChange,!1),window.onpagehide=null,window.onfocus=window.onblur=window.onpageshow=null,window.removeEventListener("click",this._onClick)},N.Stage.prototype.add=function(t,e,i){return t.parent!==this&&(t.body&&t.parent&&t.parent.hash&&t.parent.removeFromHash(t),void 0===i?this.addChild(t):this.addChildAt(t,i)),t},Object.defineProperty(N.Stage.prototype,"backgroundColor",{get:function(){return this._bgColor.color},set:function(t){this.setBackgroundColor(t)}}),Object.defineProperty(N.Stage.prototype,"smoothed",{get:function(){return PIXI.scaleModes.DEFAULT===PIXI.scaleModes.LINEAR},set:function(t){PIXI.scaleModes.DEFAULT=t?PIXI.scaleModes.LINEAR:PIXI.scaleModes.NEAREST}}),N.Group=function(t,e,i,s,n,o){void 0===s&&(s=!1),void 0===n&&(n=!1),void 0===o&&(o=N.Physics.ARCADE),this.game=t,void 0===e&&(e=t.world),this.name=i||"group",this.z=0,PIXI.DisplayObjectContainer.call(this),s?(this.game.stage.addChild(this),this.z=this.game.stage.children.length):e&&(e.addChild(this),this.z=e.children.length),this.type=N.GROUP,this.physicsType=N.GROUP,this.alive=!0,this.exists=!0,this.ignoreDestroy=!1,this.pendingDestroy=!1,this.classType=N.Sprite,this.cursor=null,this.inputEnableChildren=!1,this.updateOnlyExistingChildren=!1,this.onChildInputDown=new N.Signal,this.onChildInputUp=new N.Signal,this.onChildInputOver=new N.Signal,this.onChildInputOut=new N.Signal,this.enableBody=n,this.enableBodyDebug=!1,this.physicsBodyType=o,this.physicsSortDirection=null,this.onDestroy=new N.Signal,this.cursorIndex=0,this.fixedToCamera=!1,this.cameraOffset=new N.Point,this.hash=[],this._sortProperty="z"},N.Group.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),N.Group.prototype.constructor=N.Group,N.Group.RETURN_NONE=0,N.Group.RETURN_TOTAL=1,N.Group.RETURN_CHILD=2,N.Group.RETURN_ALL=3,N.Group.SORT_ASCENDING=-1,N.Group.SORT_DESCENDING=1,N.Group.prototype.add=function(t,e,i){return void 0===e&&(e=!1),t.parent!==this&&(t.body&&t.parent&&t.parent.hash&&t.parent.removeFromHash(t),void 0===i?(t.z=this.children.length,this.addChild(t)):(this.addChildAt(t,i),this.updateZ()),this.enableBody&&t.hasOwnProperty("body")&&null===t.body?this.game.physics.enable(t,this.physicsBodyType):t.body&&this.addToHash(t),!this.inputEnableChildren||t.input&&!t.inputEnabled||(t.inputEnabled=!0),!e&&t.events&&t.events.onAddedToGroup$dispatch(t,this),null===this.cursor)&&(this.cursor=t),t},N.Group.prototype.addAt=function(t,e,i){return this.add(t,i,e)},N.Group.prototype.addToHash=function(t){return t.parent===this&&-1===this.hash.indexOf(t)&&(this.hash.push(t),!0)},N.Group.prototype.removeFromHash=function(t){if(t){t=this.hash.indexOf(t);if(-1!==t)return this.hash.splice(t,1),!0}return!1},N.Group.prototype.addMultiple=function(t,e){if(t instanceof N.Group)t.moveAll(this,e);else if(Array.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i],e);return t},N.Group.prototype.getAt=function(t){return t<0||t>=this.children.length?-1:this.getChildAt(t)},N.Group.prototype.create=function(t,e,i,s,n,o){void 0===n&&(n=!0);t=new this.classType(this.game,t,e,i,s);return t.exists=n,t.visible=n,t.alive=n,this.add(t,!1,o)},N.Group.prototype.createMultiple=function(n,t,e,o,r,a){void 0===e&&(e=0),void 0===o&&(o=!1),Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);var h=this,l=[];return t.forEach(function(s){e.forEach(function(t){for(var e=0;e<n;e++){var i=h.create(0,0,s,t,o);r&&r.call(a||i,i,e),l.push(i)}})}),l},N.Group.prototype.updateZ=function(){for(var t=this.children.length;t--;)this.children[t].z=t},N.Group.prototype.align=function(t,e,i,s,n,o){if(void 0===n&&(n=N.TOP_LEFT),void 0===o&&(o=0),0===this.children.length||o>this.children.length||-1===t&&-1===e)return!1;for(var r=new N.Rectangle(0,0,i,s),a=t*i,h=e*s,l=o;l<this.children.length;l++){var c=this.children[l];if(c.alignIn)if(c.alignIn(r,n),-1===t)r.y+=s,r.y===h&&(r.x+=i,r.y=0);else if(-1===e)r.x+=i,r.x===a&&(r.x=0,r.y+=s);else if(r.x+=i,r.x===a&&(r.x=0,r.y+=s,r.y===h))return!0}return!0},N.Group.prototype.resetCursor=function(t){if((t=void 0===t?0:t)>this.children.length-1&&(t=0),this.cursor)return this.cursorIndex=t,this.cursor=this.children[this.cursorIndex],this.cursor},N.Group.prototype.next=function(){if(this.cursor)return this.cursorIndex>=this.children.length-1?this.cursorIndex=0:this.cursorIndex++,this.cursor=this.children[this.cursorIndex],this.cursor},N.Group.prototype.previous=function(){if(this.cursor)return 0===this.cursorIndex?this.cursorIndex=this.children.length-1:this.cursorIndex--,this.cursor=this.children[this.cursorIndex],this.cursor},N.Group.prototype.swap=function(t,e){this.swapChildren(t,e),this.updateZ()},N.Group.prototype.bringToTop=function(t){return t.parent===this&&this.getIndex(t)<this.children.length&&(this.remove(t,!1,!0),this.add(t,!0)),t},N.Group.prototype.bringChildToTop=N.Group.prototype.bringToTop,N.Group.prototype.sendToBack=function(t){return t.parent===this&&0<this.getIndex(t)&&(this.remove(t,!1,!0),this.addAt(t,0,!0)),t},N.Group.prototype.sendChildToBack=N.Group.prototype.sendToBack,N.Group.prototype.moveUp=function(t){var e;return t.parent===this&&this.getIndex(t)<this.children.length-1&&(e=this.getIndex(t),e=this.getAt(e+1))&&this.swap(t,e),t},N.Group.prototype.moveDown=function(t){var e;return t.parent===this&&0<this.getIndex(t)&&(e=this.getIndex(t),e=this.getAt(e-1))&&this.swap(t,e),t},N.Group.prototype.xy=function(t,e,i){if(t<0||t>this.children.length)return-1;this.getChildAt(t).x=e,this.getChildAt(t).y=i},N.Group.prototype.reverse=function(){this.children.reverse(),this.updateZ()},N.Group.prototype.getIndex=function(t){return this.children.indexOf(t)},N.Group.prototype.getByName=function(t){return this.getFirst("name",t)},N.Group.prototype.replace=function(t,e){var i=this.getIndex(t);if(-1!==i)return e.parent&&(e.parent instanceof N.Group?e.parent.remove(e):e.parent.removeChild(e)),this.remove(t),this.addAt(e,i),t},N.Group.prototype.hasProperty=function(t,e){var i=e.length;return 1===i&&e[0]in t||2===i&&e[0]in t&&e[1]in t[e[0]]||3===i&&e[0]in t&&e[1]in t[e[0]]&&e[2]in t[e[0]][e[1]]||4===i&&e[0]in t&&e[1]in t[e[0]]&&e[2]in t[e[0]][e[1]]&&e[3]in t[e[0]][e[1]][e[2]]},N.Group.prototype.setProperty=function(t,e,i,s,n){return void 0===n&&(n=!1),s=s||0,!(!this.hasProperty(t,e)&&(!n||0<s)||(1===(n=e.length)?0===s?t[e[0]]=i:1===s?t[e[0]]+=i:2===s?t[e[0]]-=i:3===s?t[e[0]]*=i:4===s&&(t[e[0]]/=i):2===n?0===s?t[e[0]][e[1]]=i:1===s?t[e[0]][e[1]]+=i:2===s?t[e[0]][e[1]]-=i:3===s?t[e[0]][e[1]]*=i:4===s&&(t[e[0]][e[1]]/=i):3===n?0===s?t[e[0]][e[1]][e[2]]=i:1===s?t[e[0]][e[1]][e[2]]+=i:2===s?t[e[0]][e[1]][e[2]]-=i:3===s?t[e[0]][e[1]][e[2]]*=i:4===s&&(t[e[0]][e[1]][e[2]]/=i):4===n&&(0===s?t[e[0]][e[1]][e[2]][e[3]]=i:1===s?t[e[0]][e[1]][e[2]][e[3]]+=i:2===s?t[e[0]][e[1]][e[2]][e[3]]-=i:3===s?t[e[0]][e[1]][e[2]][e[3]]*=i:4===s&&(t[e[0]][e[1]][e[2]][e[3]]/=i)),0))},N.Group.prototype.checkProperty=function(t,e,i,s){return void 0===s&&(s=!1),this===t.parent&&!(void 0===(t=N.Utils.getProperty(t,e))&&s||t!==i)},N.Group.prototype.set=function(t,e,i,s,n,o,r){if(void 0===r&&(r=!1),e=e.split("."),void 0===n&&(n=!1),(!1===(s=void 0===s?!1:s)||s&&t.alive)&&(!1===n||n&&t.visible))return this.setProperty(t,e,i,o,r)},N.Group.prototype.setAll=function(t,e,i,s,n,o){void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===o&&(o=!1),t=t.split("."),n=n||0;for(var r=this.children.length,a=0;a<r;a++){var h=this.children[a];i&&!h.alive||s&&!h.visible||this.setProperty(h,t,e,n,o)}},N.Group.prototype.setAllChildren=function(t,e,i,s,n,o){void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===o&&(o=!1),n=n||0;for(var r=this.children.length,a=0;a<r;a++){var h=this.children[a];i&&!h.alive||s&&!h.visible||(h instanceof N.Group?h.setAllChildren(t,e,i,s,n,o):this.setProperty(h,t.split("."),e,n,o))}},N.Group.prototype.checkAll=function(t,e,i,s,n){void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===n&&(n=!1);for(var o=0;o<this.children.length;o++){var r=this.children[o];if((!i||r.alive)&&(!s||r.visible)&&!this.checkProperty(r,t,e,n))return!1}return!0},N.Group.prototype.checkAny=function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);for(var n=0;n<this.children.length;n++){var o=this.children[n];if((!i||o.alive)&&(!s||o.visible)&&this.checkProperty(o,t,e))return!0}return!1},N.Group.prototype.addAll=function(t,e,i,s){this.setAll(t,e,i,s,1)},N.Group.prototype.subAll=function(t,e,i,s){this.setAll(t,e,i,s,2)},N.Group.prototype.multiplyAll=function(t,e,i,s){this.setAll(t,e,i,s,3)},N.Group.prototype.divideAll=function(t,e,i,s){this.setAll(t,e,i,s,4)},N.Group.prototype.kill=function(){this.alive=!1,this.exists=!1,this.visible=!1},N.Group.prototype.killAll=function(){this.callAllExists("kill",!0)},N.Group.prototype.revive=function(){this.alive=!0,this.exists=!0,this.visible=!0},N.Group.prototype.reviveAll=function(){this.callAllExists("revive",!1)},N.Group.prototype.resetAll=function(t,e,i,s,n){this.forEach(this.resetChild,this,n,t,e,i,s)},N.Group.prototype.callAllExists=function(t,e){if(2<arguments.length)for(var i=[],s=2;s<arguments.length;s++)i.push(arguments[s]);for(s=0;s<this.children.length;s++){var n=this.children[s];n.exists===e&&n[t]&&n[t].apply(n,i)}},N.Group.prototype.callbackFromArray=function(t,e,i){if(1===i){if(t[e[0]])return t[e[0]]}else if(2===i){if(t[e[0]][e[1]])return t[e[0]][e[1]]}else if(3===i){if(t[e[0]][e[1]][e[2]])return t[e[0]][e[1]][e[2]]}else if(4===i){if(t[e[0]][e[1]][e[2]][e[3]])return t[e[0]][e[1]][e[2]][e[3]]}else if(t[e])return t[e];return!1},N.Group.prototype.callAll=function(t,e){if(void 0!==t){var i,s=(t=t.split(".")).length;if(null==e||""===e?e=null:"string"==typeof e&&(i=(e=e.split(".")).length),2<arguments.length)for(var n=[],o=2;o<arguments.length;o++)n.push(arguments[o]);for(var r,a=null,o=0;o<this.children.length;o++){var h=this.children[o],a=this.callbackFromArray(h,t,s);e&&a?(r=this.callbackFromArray(h,e,i),a.apply(r,n)):a&&a.apply(h,n)}}},N.Group.prototype.preUpdate=function(){if(this.pendingDestroy)return this.destroy(),!1;if(!this.exists||!this.parent.exists)return!(this.renderOrderID=-1);for(var t=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}return!0},N.Group.prototype.update=function(){for(var t=this.children.length;t--;){var e=this.children.length,e=(e<=t&&(t=e-1),this.children[t]);this.updateOnlyExistingChildren&&!e.exists||e.update()}},N.Group.prototype.postUpdate=function(){this.fixedToCamera&&(this.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()},N.Group.prototype.filter=function(t,e){for(var i=-1,s=this.children.length,n=[];++i<s;){var o=this.children[i];e&&!o.exists||t(o,i,this.children)&&n.push(o)}return new N.ArraySet(n)},N.Group.prototype.forEach=function(t,e,i){if(void 0===i&&(i=!1),arguments.length<=3)for(var s=0;s<this.children.length;s++){var n=this.children[s];i&&!n.exists||t.call(e,n)}else{for(var o=[null],s=3;s<arguments.length;s++)o.push(arguments[s]);for(s=0;s<this.children.length;s++)n=this.children[s],i&&!n.exists||(o[0]=n,t.apply(e,o))}},N.Group.prototype.forEachExists=function(t,e){if(2<arguments.length)for(var i=[null],s=2;s<arguments.length;s++)i.push(arguments[s]);this.iterate("exists",!0,N.Group.RETURN_TOTAL,t,e,i)},N.Group.prototype.forEachAlive=function(t,e){if(2<arguments.length)for(var i=[null],s=2;s<arguments.length;s++)i.push(arguments[s]);this.iterate("alive",!0,N.Group.RETURN_TOTAL,t,e,i)},N.Group.prototype.forEachDead=function(t,e){if(2<arguments.length)for(var i=[null],s=2;s<arguments.length;s++)i.push(arguments[s]);this.iterate("alive",!1,N.Group.RETURN_TOTAL,t,e,i)},N.Group.prototype.sort=function(t,e){this.children.length<2||(void 0===e&&(e=N.Group.SORT_ASCENDING),this._sortProperty=t=void 0===t?"z":t,e===N.Group.SORT_ASCENDING?this.children.sort(this.ascendingSortHandler.bind(this)):this.children.sort(this.descendingSortHandler.bind(this)),this.updateZ())},N.Group.prototype.customSort=function(t,e){this.children.length<2||(this.children.sort(t.bind(e)),this.updateZ())},N.Group.prototype.ascendingSortHandler=function(t,e){return t[this._sortProperty]<e[this._sortProperty]||!(t[this._sortProperty]>e[this._sortProperty])&&t.z<e.z?-1:1},N.Group.prototype.descendingSortHandler=function(t,e){return t[this._sortProperty]<e[this._sortProperty]?1:t[this._sortProperty]>e[this._sortProperty]?-1:0},N.Group.prototype.iterate=function(t,e,i,s,n,o){if(0===this.children.length){if(i===N.Group.RETURN_TOTAL)return 0;if(i===N.Group.RETURN_ALL)return[]}var r,a=0;i===N.Group.RETURN_ALL&&(r=[]);for(var h=0;h<this.children.length;h++)if(this.children[h][t]===e){if(a++,s&&(o?(o[0]=this.children[h],s.apply(n,o)):s.call(n,this.children[h])),i===N.Group.RETURN_CHILD)return this.children[h];i===N.Group.RETURN_ALL&&r.push(this.children[h])}return i===N.Group.RETURN_TOTAL?a:i===N.Group.RETURN_ALL?r:null},N.Group.prototype.getFirst=function(t,e){return this.iterate(t,e,N.Group.RETURN_CHILD)},N.Group.prototype.getFirstExists=function(t,e,i,s,n,o){void 0===e&&(e=!1);t=this.getFirst("exists",t="boolean"!=typeof t?!0:t);return null===t&&e?this.create(i,s,n,o):this.resetChild(t,i,s,n,o)},N.Group.prototype.getFirstAlive=function(t,e,i,s,n){void 0===t&&(t=!1);var o=this.getFirst("alive",!0);return null===o&&t?this.create(e,i,s,n):this.resetChild(o,e,i,s,n)},N.Group.prototype.getFirstDead=function(t,e,i,s,n){void 0===t&&(t=!1);var o=this.getFirst("alive",!1);return null===o&&t?this.create(e,i,s,n):this.resetChild(o,e,i,s,n)},N.Group.prototype.resetChild=function(t,e,i,s,n){return null===t?null:(void 0===i&&(i=null),null!==(e=void 0===e?null:e)&&null!==i&&t.reset(e,i),void 0!==s&&t.loadTexture(s,n),t)},N.Group.prototype.getTop=function(){if(0<this.children.length)return this.children[this.children.length-1]},N.Group.prototype.getBottom=function(){if(0<this.children.length)return this.children[0]},N.Group.prototype.getClosestTo=function(t,e,i){for(var s=Number.MAX_VALUE,n=0,o=null,r=0;r<this.children.length;r++){var a=this.children[r];a.exists&&(n=Math.abs(N.Point.distance(t,a)))<s&&(!e||e.call(i,a,n))&&(s=n,o=a)}return o},N.Group.prototype.getFurthestFrom=function(t,e,i){for(var s=0,n=0,o=null,r=0;r<this.children.length;r++){var a=this.children[r];a.exists&&s<(n=Math.abs(N.Point.distance(t,a)))&&(!e||e.call(i,a,n))&&(s=n,o=a)}return o},N.Group.prototype.count=function(t,e){return this.iterate(t,e,N.Group.RETURN_TOTAL)},N.Group.prototype.countLiving=function(){return this.count("alive",!0)},N.Group.prototype.countDead=function(){return this.count("alive",!1)},N.Group.prototype.getRandom=function(t,e){return void 0===t&&(t=0),0===(e=void 0===e?this.children.length:e)?null:N.ArrayUtils.getRandomItem(this.children,t,e)},N.Group.prototype.getRandomExists=function(t,e){t=this.getAll("exists",!0,t,e);return this.game.rnd.pick(t)},N.Group.prototype.getAll=function(t,e,i,s){void 0===s&&(s=this.children.length);for(var n=[],o=i=void 0===i?0:i;o<s;o++){var r=this.children[o];t&&r[t]!==e||n.push(r)}return n},N.Group.prototype.remove=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),0===this.children.length||-1===this.children.indexOf(t))return!1;i||!t.events||t.destroyPhase||t.events.onRemovedFromGroup$dispatch(t,this);i=this.removeChild(t);return this.removeFromHash(t),this.updateZ(),this.cursor===t&&this.next(),e&&i&&i.destroy(!0),!0},N.Group.prototype.moveAll=function(t,e){if(void 0===e&&(e=!1),0<this.children.length&&t instanceof N.Group){for(;t.add(this.children[0],e),0<this.children.length;);this.hash=[],this.cursor=null}return t},N.Group.prototype.removeAll=function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!1),0!==this.children.length){do{!e&&this.children[0].events&&this.children[0].events.onRemovedFromGroup$dispatch(this.children[0],this);var s=this.removeChild(this.children[0])}while(this.removeFromHash(s),t&&s&&s.destroy(!0,i),0<this.children.length);this.hash=[],this.cursor=null}},N.Group.prototype.removeBetween=function(t,e,i,s){if(void 0===e&&(e=this.children.length-1),void 0===i&&(i=!1),void 0===s&&(s=!1),0!==this.children.length){if(e<t||t<0||e>this.children.length)return!1;for(var n=e;t<=n;){!s&&this.children[n].events&&this.children[n].events.onRemovedFromGroup$dispatch(this.children[n],this);var o=this.removeChild(this.children[n]);this.removeFromHash(o),i&&o&&o.destroy(!0),this.cursor===this.children[n]&&(this.cursor=null),n--}this.updateZ()}},N.Group.prototype.scatter=function(e,t){null==e&&(e=this.game.world.bounds),this.forEach(function(t){t.position.set(e.randomX,e.randomY)},null,t)},N.Group.prototype.shuffle=function(){N.ArrayUtils.shuffle(this.children),this.updateZ()},N.Group.prototype.destroy=function(t,e){null===this.game||this.ignoreDestroy||(this.onDestroy.dispatch(this,t=void 0===t?!0:t,e=void 0===e?!1:e),this.removeAll(t),this.cursor=null,this.filters=null,this.pendingDestroy=!1,e)||(this.parent&&this.parent.removeChild(this),this.game=null,this.exists=!1)},Object.defineProperty(N.Group.prototype,"total",{get:function(){return this.iterate("exists",!0,N.Group.RETURN_TOTAL)}}),Object.defineProperty(N.Group.prototype,"length",{get:function(){return this.children.length}}),Object.defineProperty(N.Group.prototype,"angle",{get:function(){return N.Math.radToDeg(this.rotation)},set:function(t){this.rotation=N.Math.degToRad(t)}}),Object.defineProperty(N.Group.prototype,"centerX",{get:function(){return this.getBounds(this.parent).centerX},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i-e.halfWidth}}),Object.defineProperty(N.Group.prototype,"centerY",{get:function(){return this.getBounds(this.parent).centerY},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i-e.halfHeight}}),Object.defineProperty(N.Group.prototype,"left",{get:function(){return this.getBounds(this.parent).left},set:function(t){var e=this.getBounds(this.parent),e=this.x-e.x;this.x=t+e}}),Object.defineProperty(N.Group.prototype,"right",{get:function(){return this.getBounds(this.parent).right},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i-e.width}}),Object.defineProperty(N.Group.prototype,"top",{get:function(){return this.getBounds(this.parent).top},set:function(t){var e=this.getBounds(this.parent),e=this.y-e.y;this.y=t+e}}),Object.defineProperty(N.Group.prototype,"bottom",{get:function(){return this.getBounds(this.parent).bottom},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i-e.height}}),N.World=function(t){N.Group.call(this,t,null,"__world",!1),this.bounds=new N.Rectangle(0,0,t.width,t.height),this.camera=null,this._definedSize=!1,this._width=t.width,this._height=t.height,this.game.state.onStateChange.add(this.stateChange,this)},N.World.prototype=Object.create(N.Group.prototype),N.World.prototype.constructor=N.World,N.World.prototype.boot=function(){this.camera=new N.Camera(this.game,0,0,0,this.game.width,this.game.height),this.game.stage.addChild(this),this.camera.boot()},N.World.prototype.stateChange=function(){this.x=0,this.y=0,this.camera.reset()},N.World.prototype.setBounds=function(t,e,i,s){this._definedSize=!0,this._width=i,this._height=s,this.bounds.setTo(t,e,i,s),this.x=t,this.y=e,this.camera.bounds&&this.camera.bounds.setTo(t,e,Math.max(i,this.game.width),Math.max(s,this.game.height)),this.game.physics.setBoundsToWorld()},N.World.prototype.resize=function(t,e){this._definedSize&&(t<this._width&&(t=this._width),e<this._height)&&(e=this._height),this.bounds.width=t,this.bounds.height=e,this.game.camera.setBoundsToWorld(),this.game.physics.setBoundsToWorld()},N.World.prototype.shutdown=function(){this.destroy(!0,!0)},N.World.prototype.wrap=function(t,e,i,s,n){void 0===e&&(e=0),void 0===s&&(s=!0),void 0===n&&(n=!0),(i=void 0===i?!1:i)?(t.getBounds(),s&&(t.x+t._currentBounds.width<this.bounds.x?t.x=this.bounds.right:t.x>this.bounds.right&&(t.x=this.bounds.left)),n&&(t.y+t._currentBounds.height<this.bounds.top?t.y=this.bounds.bottom:t.y>this.bounds.bottom&&(t.y=this.bounds.top))):(s&&t.x+e<this.bounds.x?t.x=this.bounds.right+e:s&&t.x-e>this.bounds.right&&(t.x=this.bounds.left-e),n&&t.y+e<this.bounds.top?t.y=this.bounds.bottom+e:n&&t.y-e>this.bounds.bottom&&(t.y=this.bounds.top-e))},N.World.prototype.wrapAll=function(t,e,i,s,n,o){t.forEach(this.wrap,this,e,i,s,n,o)},Object.defineProperty(N.World.prototype,"width",{get:function(){return this.bounds.width},set:function(t){t<this.game.width&&(t=this.game.width),this.bounds.width=t,this._width=t,this._definedSize=!0}}),Object.defineProperty(N.World.prototype,"height",{get:function(){return this.bounds.height},set:function(t){t<this.game.height&&(t=this.game.height),this.bounds.height=t,this._height=t,this._definedSize=!0}}),Object.defineProperty(N.World.prototype,"centerX",{get:function(){return this.bounds.halfWidth+this.bounds.x}}),Object.defineProperty(N.World.prototype,"centerY",{get:function(){return this.bounds.halfHeight+this.bounds.y}}),Object.defineProperty(N.World.prototype,"randomX",{get:function(){return this.bounds.x<0?this.game.rnd.between(this.bounds.x,this.bounds.width-Math.abs(this.bounds.x)):this.game.rnd.between(this.bounds.x,this.bounds.width)}}),Object.defineProperty(N.World.prototype,"randomY",{get:function(){return this.bounds.y<0?this.game.rnd.between(this.bounds.y,this.bounds.height-Math.abs(this.bounds.y)):this.game.rnd.between(this.bounds.y,this.bounds.height)}}),N.Game=function(t,e,i,s,n,o,r,a){return this.id=N._ID++,this.config=null,this.physicsConfig=a,this.parent="",this.width=800,this.height=600,this.resolution=1,this._width=800,this._height=600,this.transparent=!1,this.antialias=!0,this.multiTexture=!1,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!0,this.renderer=null,this.renderType=N.AUTO,this.state=null,this.isBooted=!1,this.isRunning=!1,this.raf=null,this.add=null,this.make=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.scale=null,this.sound=null,this.stage=null,this.time=null,this.tweens=null,this.world=null,this.physics=null,this.plugins=null,this.rnd=null,this.device=N.Device,this.camera=null,this.canvas=null,this.context=null,this.debug=null,this.particles=null,this.create=null,this.lockRender=!1,this.pendingDestroy=!1,this.stepping=!1,this.pendingStep=!1,this.stepCount=0,this.onPause=new N.Signal,this.onResume=new N.Signal,this.onBlur=new N.Signal,this.onFocus=new N.Signal,this.onBoot=new N.Signal,this.onDestroy=new N.Signal,this._paused=!1,this._codePaused=!1,this._focusGained=!1,this.currentUpdateID=0,this.updatesThisFrame=1,this.rendersThisFrame=1,this._deltaTime=0,this._lastCount=0,this._spiraling=0,this._kickstart=!0,this.fpsProblemNotifier=new N.Signal,this.forceSingleUpdate=!0,this.forceSingleRender=!1,this.dropFrames=!1,this.powerPreference="default",this._nextFpsNotification=0,1===arguments.length&&"object"==typeof t?this.parseConfig(t):(this.config={enableDebug:!0},void 0!==t&&(this._width=t),void 0!==e&&(this._height=e),void 0!==i&&(this.renderType=i),void 0!==s&&(this.parent=s),void 0!==o&&(this.transparent=o),void 0!==r&&(this.antialias=r),this.rnd=new N.RandomDataGenerator([(Date.now()*Math.random()).toString()]),this.state=new N.StateManager(this,n)),this.device.whenReady(this.boot,this),this},N.Game.prototype={parseConfig:function(t){void 0===(this.config=t).enableDebug&&(this.config.enableDebug=!0),t.width&&(this._width=t.width),t.height&&(this._height=t.height),t.renderer&&(this.renderType=t.renderer),t.parent&&(this.parent=t.parent),void 0!==t.transparent&&(this.transparent=t.transparent),void 0!==t.antialias&&(this.antialias=t.antialias),void 0!==t.clearBeforeRender&&(this.clearBeforeRender=t.clearBeforeRender),void 0!==t.multiTexture&&(this.multiTexture=t.multiTexture),t.resolution&&(this.resolution=t.resolution),void 0!==t.preserveDrawingBuffer&&(this.preserveDrawingBuffer=t.preserveDrawingBuffer),void 0!==t.powerPreference&&(this.powerPreference=t.powerPreference),t.physicsConfig&&(this.physicsConfig=t.physicsConfig);var e=[(Date.now()*Math.random()).toString()],e=(t.seed&&(e=t.seed),this.rnd=new N.RandomDataGenerator(e),null);t.state&&(e=t.state),this.state=new N.StateManager(this,e)},boot:function(){var t;this.isBooted||(this.isBooted=!0,this.math=N.Math,this.scale=new N.ScaleManager(this,this._width,this._height),this.stage=new N.Stage(this),this.setUpRenderer(),this.world=new N.World(this),this.add=new N.GameObjectFactory(this),this.make=new N.GameObjectCreator(this),this.cache=new N.Cache(this),this.load=new N.Loader(this),this.time=new N.Time(this),this.tweens=new N.TweenManager(this),this.input=new N.Input(this),this.sound=new N.SoundManager(this),this.physics=new N.Physics(this,this.physicsConfig),this.particles=new N.Particles(this),this.create=new N.Create(this),this.plugins=new N.PluginManager(this),this.time.boot(),this.stage.boot(),this.world.boot(),this.scale.boot(),this.input.boot(this.config),this.sound.boot(),this.state.boot(),this.config.enableDebug?(this.debug=new N.Utils.Debug(this),this.debug.boot()):this.debug={preUpdate:t=function(){},update:t,reset:t,destroy:t,isDisabled:!0},this.showDebugHeader(),this.config&&this.config.forceSetTimeOut?this.raf=new N.RequestAnimationFrame(this,this.config.forceSetTimeOut):this.raf=new N.RequestAnimationFrame(this,!1),this._kickstart=!0,this.focusWindow(),this.onBoot.dispatch(this),this.config.disableStart)||(this.cache.isReady?(this.raf.start(),this.isRunning=!0):this.cache.onReady.addOnce(function(){this.isBooted&&(this.raf.start(),this.isRunning=!0)},this))},showDebugHeader:function(){if(!window.PhaserGlobal||!window.PhaserGlobal.hideBanner){var t=N.VERSION,e="Canvas",i="HTML Audio",s=1;if(this.renderType===N.WEBGL?(e="WebGL",s++):this.renderType===N.HEADLESS&&(e="Headless"),this.device.webAudio&&(i="WebAudio",s++),this.device.ie)console.log("Phaser v"+t+" | Pixi.js | "+e+" | "+i+" | http://phaser.io");else{for(var n=["%c %c %c Phaser CE v"+t+" | Pixi.js | "+e+" | "+i+"  %c %c %c http://phaser.io %c♥%c♥%c♥","background: #fb8cb3","background: #d44a52","color: #ffffff; background: #871905;","background: #d44a52","background: #fb8cb3","background: #ffffff"],o=0;o<3;o++)n.push(o<s?"color: #ff2424; background: #fff":"color: #959595; background: #fff");console.log.apply(console,n)}this.debug.isDisabled||console.log("`game.debug` is enabled. Disable it in production")}},setUpRenderer:function(){if(!this.device.canvas)throw new Error("Phaser.Game - Cannot create Canvas 2d context, aborting.");if(this.config.canvas?this.canvas=this.config.canvas:this.canvas=N.Canvas.create(this,this.width,this.height,this.config.canvasID,!0),this.config.canvasStyle?this.canvas.style=this.config.canvasStyle:this.canvas.style["-webkit-full-screen"]="width: 100%; height: 100%",this.config.crisp&&N.Canvas.setImageRenderingCrisp(this.canvas),this.renderType===N.WEBGL||this.renderType===N.WEBGL_MULTI||this.renderType===N.AUTO&&this.device.webGL){!this.multiTexture&&this.renderType!==N.WEBGL_MULTI||(PIXI.enableMultiTexture(),this.multiTexture=!0);try{this.renderer=new PIXI.WebGLRenderer(this,this.config),this.renderType=N.WEBGL,this.context=null,this.canvas.addEventListener("webglcontextlost",this.contextLost.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestored.bind(this),!1)}catch(t){if(this.renderer=null,this.multiTexture=!1,PIXI._enableMultiTextureToggle=!1,this.renderType===N.WEBGL)throw t}}this.renderer||(this.renderer=new PIXI.CanvasRenderer(this,this.config),this.context=this.renderer.context,this.renderType===N.AUTO&&(this.renderType=N.CANVAS)),this.device.cocoonJS&&(this.canvas.screencanvas=this.renderType===N.CANVAS),this.renderType!==N.HEADLESS&&(this.stage.smoothed=this.antialias,N.Canvas.addToDOM(this.canvas,this.parent,!1),N.Canvas.setTouchAction(this.canvas))},contextLost:function(t){t.preventDefault(),this.renderer.contextLost=!0},contextRestored:function(){this.renderer.initContext(),this.cache.clearGLTextures(),this.renderer.contextLost=!1},update:function(t){if(this.pendingDestroy)this.destroy();else if(this.isBooted)if(this.time.update(t),this._kickstart)this.updateLogic(this.time.desiredFpsMult),this.updateRender(),this._kickstart=!1;else if(this._focusGained)this._focusGained=!1;else{t=this.time.elapsed;if(!(t<=0)){if(t>this.time.deltaMax){if(this.dropFrames)return;t=this.time.deltaMax}if(this.forceSingleUpdate)this.updatesThisFrame=1,this.rendersThisFrame=1,this.updateLogic(.001*t/this.time.slowMotion),this.updateRender();else if(2<this._spiraling)this.updatesThisFrame=0,this.rendersThisFrame=0,this.time.time>this._nextFpsNotification&&(this._nextFpsNotification=this.time.time+1e4,this.fpsProblemNotifier.dispatch()),this._deltaTime=0,this._spiraling=0;else{var e=0,i=1e3*this.time.desiredFpsMult;for(this._deltaTime+=t,this.updatesThisFrame=Math.floor(this._deltaTime/i),this.rendersThisFrame=this.forceSingleRender?1:Math.min(1,this.updatesThisFrame);this._deltaTime>=i;)this._deltaTime-=i,this.currentUpdateID=e,this.updateLogic(this.time.desiredFpsMult/this.time.slowMotion),this.time.refresh(),e++;e>this._lastCount?this._spiraling++:e<this._lastCount&&(this._spiraling=0),this._lastCount=e,0<this.rendersThisFrame&&this.updateRender()}}}},updateLogic:function(t){this._paused||this.pendingStep?(this.scale.pauseUpdate(),this.state.pauseUpdate(t),this.debug.preUpdate(),this.input.pauseUpdate()):(this.stepping&&(this.pendingStep=!0),this.time.preUpdate(t),this.scale.preUpdate(),this.debug.preUpdate(),this.camera.preUpdate(),this.physics.preUpdate(),this.state.preUpdate(t),this.plugins.preUpdate(t),this.stage.preUpdate(),this.state.update(),this.stage.update(),this.tweens.update(),this.sound.update(),this.input.update(),this.physics.update(),this.plugins.update(),this.stage.postUpdate(),this.state.postUpdate(),this.plugins.postUpdate()),this.stage.updateTransform()},updateRender:function(){this.lockRender||this.renderType===N.HEADLESS||(this.time.preRender(),this.state.preRender(),this.renderer.render(this.stage),this.plugins.render(),this.state.render(),this.plugins.postRender(),this.renderer.postRender())},enableStep:function(){this.stepping=!0,this.pendingStep=!1,this.stepCount=0},disableStep:function(){this.stepping=!1,this.pendingStep=!1},step:function(){this.pendingStep=!1,this.stepCount++},destroy:function(){this.isBooted?(this.onDestroy.dispatch(this),this.fpsProblemNotifier.dispose(),this.onBlur.dispose(),this.onBoot.dispose(),this.onDestroy.dispose(),this.onFocus.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.raf.stop(),this.debug.destroy(),this.state.destroy(),this.sound.destroy(),this.scale.destroy(),this.stage.destroy(),this.input.destroy(),this.physics.destroy(),this.plugins.destroy(),this.tweens.destroy(),this.renderer.destroy(!1),N.Canvas.removeFromDOM(this.canvas),this.add=null,this.cache=null,this.camera=null,this.canvas=null,this.create=null,this.debug=null,this.fpsProblemNotifier=null,this.input=null,this.load=null,this.make=null,this.onBlur=null,this.onBoot=null,this.onDestroy=null,this.onFocus=null,this.onPause=null,this.onResume=null,this.particles=null,this.physics=null,this.plugins=null,this.raf=null,this.renderer=null,this.scale=null,this.sound=null,this.stage=null,this.state=null,this.time=null,this.tweens=null,this.world=null,this.isBooted=!1,this.isRunning=!1,this.pendingDestroy=!1):this.pendingDestroy=!0},gamePaused:function(t){this._paused||(this._paused=!0,this.time.gamePaused(),this.sound.gamePaused(),this.onPause.dispatch(t),this.device.cordova&&this.device.iOS&&(this.lockRender=!0))},gameResumed:function(t){this._paused&&!this._codePaused&&(this._paused=!1,this.time.gameResumed(),this.input.reset(),this.sound.gameResumed(),this.onResume.dispatch(t),this.device.cordova)&&this.device.iOS&&(this.lockRender=!1)},focusLoss:function(t){this.onBlur.dispatch(t),this.stage.disableVisibilityChange||this.gamePaused(t)},focusGain:function(t){this._focusGained=!0,this.focusWindow(),this.onFocus.dispatch(t),this.stage.disableVisibilityChange||this.gameResumed(t)},focusWindow:function(){!window.focus||window.PhaserGlobal&&window.PhaserGlobal.stopFocus||window.focus()}},N.Game.prototype.constructor=N.Game,Object.defineProperty(N.Game.prototype,"paused",{get:function(){return this._paused},set:function(t){!0===t?(!1===this._paused&&(this._paused=!0,this.sound.muteOnPause&&this.sound.setMute(),this.time.gamePaused(),this.onPause.dispatch(this)),this._codePaused=!0):(this._paused&&(this._paused=!1,this.input.reset(),this.sound.unsetMute(),this.time.gameResumed(),this.onResume.dispatch(this)),this._codePaused=!1)}}),N.Input=function(t){this.game=t,this.hitCanvas=null,this.hitContext=null,this.moveCallbacks=[],this.customCandidateHandler=null,this.customCandidateHandlerContext=null,this.pollRate=0,this.enabled=!0,this.multiInputOverride=N.Input.MOUSE_TOUCH_COMBINE,this.position=null,this.speed=null,this.circle=null,this.scale=null,this.maxPointers=-1,this.tapRate=200,this.doubleTapRate=300,this.holdRate=2e3,this.justPressedRate=200,this.justReleasedRate=200,this.recordPointerHistory=!1,this.recordRate=100,this.recordLimit=100,this.touchLockCallbacks=[],this.pointer1=null,this.pointer2=null,this.pointer3=null,this.pointer4=null,this.pointer5=null,this.pointer6=null,this.pointer7=null,this.pointer8=null,this.pointer9=null,this.pointer10=null,this.pointers=[],this.activePointer=null,this.mousePointer=null,this.mouse=null,this.keyboard=null,this.touch=null,this.mspointer=null,this.gamepad=null,this.resetLocked=!1,this.onDown=null,this.onUp=null,this.onTap=null,this.onHold=null,this.minPriorityID=0,this.interactiveItems=new N.ArraySet,this._localPoint=new N.Point,this._pollCounter=0,this._oldPosition=null,this._x=0,this._y=0},N.Input.MOUSE_OVERRIDES_TOUCH=0,N.Input.TOUCH_OVERRIDES_MOUSE=1,N.Input.MOUSE_TOUCH_COMBINE=2,N.Input.MAX_POINTERS=10,N.Input.prototype={boot:function(t){"maxPointers"in t&&(this.maxPointers=t.maxPointers),this.mousePointer=new N.Pointer(this.game,0,N.PointerMode.CURSOR),this.addPointer(),this.addPointer(),this.mouse=new N.Mouse(this.game),this.touch=new N.Touch(this.game),this.mspointer=new N.MSPointer(this.game),this.mouseWheel=new N.MouseWheel(this.game),this.pointerLock=new N.PointerLock(this.game),N.Keyboard&&(this.keyboard=new N.Keyboard(this.game)),N.Gamepad&&(this.gamepad=new N.Gamepad(this.game)),this.onDown=new N.Signal,this.onUp=new N.Signal,this.onTap=new N.Signal,this.onHold=new N.Signal,this.scale=new N.Point(1,1),this.speed=new N.Point,this.position=new N.Point,this._oldPosition=new N.Point,this.circle=new N.Circle(0,0,45),this.activePointer=this.mousePointer,this.hitCanvas=N.CanvasPool.create(this,1,1),this.hitContext=this.hitCanvas.getContext("2d"),this.game.device.mspointer&&!1!==t.mspointer?this.mspointer.start():this.game.device.touch&&!1!==t.touch&&this.touch.start(),this.mspointer.active||!1===t.mouse||this.mouse.start(),(this.mousePointer.active=!0)===t.mouseWheel&&this.mouseWheel.start(),!1!==t.pointerLock&&this.pointerLock.start(),this.keyboard&&!1!==t.keyboard&&this.keyboard.start();var e=this;this._onClickTrampoline=function(t){e.onClickTrampoline(t)},this.game.canvas.addEventListener("click",this._onClickTrampoline,!1)},destroy:function(){this.mouse.stop(),this.mouseWheel.stop(),this.touch.stop(),this.mspointer.stop(),this.pointerLock.stop(),this.keyboard&&this.keyboard.stop(),this.gamepad&&this.gamepad.stop(),this.moveCallbacks=[],N.CanvasPool.remove(this),this.game.canvas.removeEventListener("click",this._onClickTrampoline)},setInteractiveCandidateHandler:function(t,e){this.customCandidateHandler=t,this.customCandidateHandlerContext=e},addMoveCallback:function(t,e){this.moveCallbacks.push({callback:t,context:e})},addTouchLockCallback:function(t,e,i){this.touchLockCallbacks.push({callback:t,context:e,onEnd:i=void 0===i?!1:i})},removeTouchLockCallback:function(t,e){for(var i=this.touchLockCallbacks.length;i--;)if(this.touchLockCallbacks[i].callback===t&&this.touchLockCallbacks[i].context===e)return this.touchLockCallbacks.splice(i,1),!0;return!1},executeTouchLockCallbacks:function(t,e){for(var i=this.touchLockCallbacks.length;i--;){var s=this.touchLockCallbacks[i];s.onEnd===t&&s.callback.call(s.context,this,e)&&this.touchLockCallbacks.splice(i,1)}},deleteMoveCallback:function(t,e){for(var i=this.moveCallbacks.length;i--;)if(this.moveCallbacks[i].callback===t&&this.moveCallbacks[i].context===e)return void this.moveCallbacks.splice(i,1)},addPointer:function(){var t,e;return this.pointers.length>=N.Input.MAX_POINTERS?(console.warn("Phaser.Input.addPointer: Maximum limit of "+N.Input.MAX_POINTERS+" pointers reached."),null):(t=this.pointers.length+1,e=new N.Pointer(this.game,t,N.PointerMode.CONTACT),this.pointers.push(e),this["pointer"+t]=e)},update:function(){if(this.keyboard&&this.keyboard.update(),0<this.pollRate&&this._pollCounter<this.pollRate)this._pollCounter++;else{this.speed.x=this.position.x-this._oldPosition.x,this.speed.y=this.position.y-this._oldPosition.y,this._oldPosition.copyFrom(this.position),this.mousePointer.update(),this.gamepad&&this.gamepad.active&&this.gamepad.update();for(var t=0;t<this.pointers.length;t++)this.pointers[t].update();this._pollCounter=0}},pauseUpdate:function(){this.gamepad&&this.gamepad.active&&this.gamepad.update()},reset:function(t){if(this.game.isBooted&&!this.resetLocked){void 0===t&&(t=!1),this.mousePointer.reset(),this.keyboard&&this.keyboard.reset(t);for(var e=0;e<this.pointers.length;e++)this.pointers[e].reset();"none"!==this.game.canvas.style.cursor&&(this.game.canvas.style.cursor=""),t&&(this.onDown.dispose(),this.onUp.dispose(),this.onTap.dispose(),this.onHold.dispose(),this.onDown=new N.Signal,this.onUp=new N.Signal,this.onTap=new N.Signal,this.onHold=new N.Signal,this.moveCallbacks=[]),this._pollCounter=0}},resetSpeed:function(t,e){this._oldPosition.setTo(t,e),this.speed.setTo(0,0)},startPointer:function(t){if(!(0<=this.maxPointers&&this.countActivePointers(this.maxPointers)>=this.maxPointers)){if(!this.pointer1.active)return this.pointer1.start(t);if(!this.pointer2.active)return this.pointer2.start(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(!i.active)return i.start(t)}}return null},updatePointer:function(t){if(this.pointer1.active&&this.pointer1.identifier===t.identifier)return this.pointer1.move(t);if(this.pointer2.active&&this.pointer2.identifier===t.identifier)return this.pointer2.move(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active&&i.identifier===t.identifier)return i.move(t)}return null},stopPointer:function(t){if(this.pointer1.active&&this.pointer1.identifier===t.identifier)return this.pointer1.stop(t);if(this.pointer2.active&&this.pointer2.identifier===t.identifier)return this.pointer2.stop(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active&&i.identifier===t.identifier)return i.stop(t)}return null},countActivePointers:function(t){for(var e=t=void 0===t?this.pointers.length:t,i=0;i<this.pointers.length&&0<e;i++)this.pointers[i].active&&e--;return t-e},getPointer:function(t){void 0===t&&(t=!1);for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active===t)return i}return null},getPointerFromIdentifier:function(t){for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.identifier===t)return i}return null},getPointerFromId:function(t){for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.pointerId===t)return i}return null},getLocalPosition:function(t,e,i){void 0===i&&(i=new N.Point);var t=t.worldTransform,s=1/(t.a*t.d+t.c*-t.b);return i.setTo(t.d*s*e.x+-t.c*s*e.y+(t.ty*t.c-t.tx*t.d)*s,t.a*s*e.y+-t.b*s*e.x+(-t.ty*t.a+t.tx*t.b)*s)},hitTest:function(t,e,i){if(t.worldVisible){if(this.getLocalPosition(t,e,this._localPoint),i.copyFrom(this._localPoint),t.hitArea&&t.hitArea.contains)return t.hitArea.contains(this._localPoint.x,this._localPoint.y);if(N.Creature&&t instanceof N.Creature){var s=Math.abs(t.width),n=Math.abs(t.height),o=t.x-s*t.anchorX;if(this.game.camera.x+e.x>=o&&this.game.camera.x+e.x<o+s){var r=t.y-n*t.anchorY;if(this.game.camera.y+e.y>=r&&this.game.camera.y+e.y<r+n)return!0}}else if(t instanceof N.TileSprite){if(n=t.height,o=-(s=t.width)*t.anchor.x,this._localPoint.x>=o&&this._localPoint.x<o+s&&(r=-n*t.anchor.y,this._localPoint.y>=r)&&this._localPoint.y<r+n)return!0}else if(t instanceof PIXI.Sprite){if(s=t.texture.frame.width/t.texture.baseTexture.resolution,n=t.texture.frame.height/t.texture.baseTexture.resolution,o=-s*t.anchor.x,this._localPoint.x>=o&&this._localPoint.x<o+s&&(r=-n*t.anchor.y,this._localPoint.y>=r)&&this._localPoint.y<r+n)return!0}else if(t instanceof N.Graphics)for(var a=0;a<t.graphicsData.length;a++){var h=t.graphicsData[a];if(h.fill&&h.shape&&h.shape.contains(this._localPoint.x,this._localPoint.y))return!0}for(a=0;a<t.children.length;a++)if(this.hitTest(t.children[a],e,i))return!0}return!1},onClickTrampoline:function(){this.activePointer.processClickTrampolines()},callAll:function(t,e){for(var i=this.interactiveItems.list,s=i.length;s--;){var n=i[s];n&&n.enabled&&n[t](e)}}},N.Input.prototype.constructor=N.Input,Object.defineProperty(N.Input.prototype,"x",{get:function(){return this._x},set:function(t){this._x=Math.floor(t)}}),Object.defineProperty(N.Input.prototype,"y",{get:function(){return this._y},set:function(t){this._y=Math.floor(t)}}),Object.defineProperty(N.Input.prototype,"pollLocked",{get:function(){return 0<this.pollRate&&this._pollCounter<this.pollRate}}),Object.defineProperty(N.Input.prototype,"totalInactivePointers",{get:function(){return this.pointers.length-this.countActivePointers()}}),Object.defineProperty(N.Input.prototype,"totalActivePointers",{get:function(){return this.countActivePointers()}}),Object.defineProperty(N.Input.prototype,"worldX",{get:function(){return this.game.camera.view.x+this.x}}),Object.defineProperty(N.Input.prototype,"worldY",{get:function(){return this.game.camera.view.y+this.y}}),N.Mouse=function(t){this.game=t,this.input=t.input,this.callbackContext=this.game,this.mouseDownCallback=null,this.mouseUpCallback=null,this.mouseOutCallback=null,this.mouseOverCallback=null,this.capture=!1,this.active=!1,this.enabled=!0,this.stopOnGameOut=!1,this.event=null,this._onMouseDown=null,this._onMouseMove=null,this._onMouseUp=null,this._onMouseOut=null,this._onMouseOver=null},N.Mouse.NO_BUTTON=-1,N.Mouse.LEFT_BUTTON=0,N.Mouse.MIDDLE_BUTTON=1,N.Mouse.RIGHT_BUTTON=2,N.Mouse.BACK_BUTTON=3,N.Mouse.FORWARD_BUTTON=4,N.Mouse.prototype={start:function(){var e,t,i=this.game.device;return!(i.isAndroidStockBrowser()&&this.input.touch.active||null!==this._onMouseDown)&&((e=this)._onMouseDown=function(t){return e.onMouseDown(t)},this._onMouseMove=function(t){return e.onMouseMove(t)},this._onMouseUp=function(t){return e.onMouseUp(t)},this._onMouseUpGlobal=function(t){return e.onMouseUpGlobal(t)},this._onMouseOutGlobal=function(t){return e.onMouseOutGlobal(t)},this._onMouseOut=function(t){return e.onMouseOut(t)},this._onMouseOver=function(t){return e.onMouseOver(t)},(t=window).addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("mousemove",this._onMouseMove,!0),t.addEventListener("mouseup",this._onMouseUp,!0),i.cocoonJS||(window.addEventListener("mouseup",this._onMouseUpGlobal,!0),window.addEventListener("mouseout",this._onMouseOutGlobal,!0),t.addEventListener("mouseover",this._onMouseOver,!0),t.addEventListener("mouseout",this._onMouseOut,!0)),this.active=!0)},onMouseDown:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseDownCallback&&this.mouseDownCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.start(t))},onMouseMove:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseMoveCallback&&this.mouseMoveCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.move(t))},onMouseUp:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.stop(t))},onMouseUpGlobal:function(t){this.input.mousePointer.withinGame||(this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,t),t.identifier=0,this.input.mousePointer.stop(t))},onMouseOutGlobal:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!1,this.input.enabled&&this.enabled&&(this.input.mousePointer.stop(t),this.input.mousePointer.resetButtons())},onMouseOut:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!1,this.mouseOutCallback&&this.mouseOutCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(this.input.mousePointer.updateButtons(t),this.stopOnGameOut)&&(t.identifier=0,this.input.mousePointer.stop(t),this.input.callAll("_pointerOutHandler",this.input.mousePointer))},onMouseOver:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!0,this.mouseOverCallback&&this.mouseOverCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&this.input.mousePointer.updateButtons(t)},stop:function(){var t=window;t.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("mousemove",this._onMouseMove,!0),t.removeEventListener("mouseup",this._onMouseUp,!0),t.removeEventListener("mouseover",this._onMouseOver,!0),t.removeEventListener("mouseout",this._onMouseOut,!0),window.removeEventListener("mouseup",this._onMouseUpGlobal,!0),window.removeEventListener("mouseout",this._onMouseOutGlobal,!0),this.active=!1}},N.Mouse.prototype.constructor=N.Mouse,N.MouseWheel=function(t){this.game=t,this.input=t.input,this.element=t.canvas,this.preventDefault=!0,this.active=!1,this.callback=null,this.callbackContext=t,this.delta=0,this.wheelEventName=t.device.wheelEvent,this.boundOnWheelHandler=this.onWheelHandler.bind(this),this.eventProxy=null},N.MouseWheel.UP=1,N.MouseWheel.DOWN=-1,N.MouseWheel.prototype.start=function(){return!(!this.wheelEventName||this.active)&&(this.element.addEventListener(this.wheelEventName,this.boundOnWheelHandler,!0),"mousewheel"===this.wheelEventName?this.eventProxy=new N.WheelEventProxy(-.025,1):"DOMMouseScroll"===this.wheelEventName&&(this.eventProxy=new N.WheelEventProxy(1,1)),this.active=!0)},N.MouseWheel.prototype.stop=function(){this.active&&(this.element.removeEventListener(this.wheelEventName,this.boundOnWheelHandler,!0),this.active=!1)},N.MouseWheel.prototype.onWheelHandler=function(t){this.eventProxy&&(t=this.eventProxy.bindEvent(t)),this.preventDefault&&t.preventDefault(),this.delta=N.Math.clamp(-t.deltaY,-1,1),this.callback&&this.callback.call(this.callbackContext,t)},N.MSPointer=function(t){this.game=t,this.input=t.input,this.callbackContext=this.game,this.pointerDownCallback=null,this.pointerMoveCallback=null,this.pointerUpCallback=null,this.pointerOutCallback=null,this.pointerOverCallback=null,this.pointerCancelCallback=null,this.capture=!1,this.event=null,this.active=!1,this.enabled=!0,this.stopOnGameOut=!1,this._onMSPointerDown=null,this._onMSPointerMove=null,this._onMSPointerUp=null,this._onMSPointerUpGlobal=null,this._onMSPointerOut=null,this._onMSPointerOver=null},N.MSPointer.prototype={start:function(){var e,t;return!!this.game.device.mspointer&&null===this._onMSPointerDown&&((e=this)._onMSPointerDown=function(t){return e.onPointerDown(t)},this._onMSPointerMove=function(t){return e.onPointerMove(t)},this._onMSPointerUp=function(t){return e.onPointerUp(t)},this._onMSPointerUpGlobal=function(t){return e.onPointerUpGlobal(t)},this._onMSPointerOut=function(t){return e.onPointerOut(t)},this._onMSPointerOver=function(t){return e.onPointerOver(t)},this._onMSPointerCancel=function(t){return e.onPointerCancel(t)},(t=window).addEventListener("MSPointerDown",this._onMSPointerDown,!1),t.addEventListener("MSPointerMove",this._onMSPointerMove,!1),t.addEventListener("MSPointerUp",this._onMSPointerUp,!1),t.addEventListener("MSPointerCancel",this._onMSPointerCancel,!1),t.addEventListener("pointerdown",this._onMSPointerDown,!1),t.addEventListener("pointermove",this._onMSPointerMove,!1),t.addEventListener("pointerup",this._onMSPointerUp,!1),t.addEventListener("pointercancel",this._onMSPointerCancel,!1),this.game.canvas.style["-ms-content-zooming"]="none",this.game.canvas.style["-ms-touch-action"]="none",this.game.device.cocoonJS||(window.addEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),t.addEventListener("MSPointerOver",this._onMSPointerOver,!0),t.addEventListener("MSPointerOut",this._onMSPointerOut,!0),window.addEventListener("pointerup",this._onMSPointerUpGlobal,!0),t.addEventListener("pointerover",this._onMSPointerOver,!0),t.addEventListener("pointerout",this._onMSPointerOut,!0)),this.active=!0)},onPointerDown:function(t){this.game.input.executeTouchLockCallbacks(!1,t),this.event=t,this.capture&&t.preventDefault(),this.pointerDownCallback&&this.pointerDownCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,this.isMousePointerEvent(t)?this.input.mousePointer.start(t):this.input.startPointer(t))},onPointerMove:function(t){this.event=t,this.capture&&t.preventDefault(),this.pointerMoveCallback&&this.pointerMoveCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,this.isMousePointerEvent(t)?this.input.mousePointer.move(t):this.input.updatePointer(t))},onPointerUp:function(t){this.game.input.executeTouchLockCallbacks(!0,t),this.event=t,this.capture&&t.preventDefault(),this.pointerUpCallback&&this.pointerUpCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,this.isMousePointerEvent(t)?this.input.mousePointer.stop(t):this.input.stopPointer(t))},onPointerUpGlobal:function(t){var e;t.identifier=t.pointerId,(this.isMousePointerEvent(t)&&!this.input.mousePointer.withinGame||(e=this.input.getPointerFromIdentifier(t.identifier))&&e.withinGame)&&this.onPointerUp(t)},onPointerOut:function(t){this.event=t,this.capture&&t.preventDefault(),t.identifier=t.pointerId;var e=this.getPointerFromEvent(t);e&&(e.withinGame=!1),this.pointerOutCallback&&this.pointerOutCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&this.stopOnGameOut&&(t.identifier=0,(e=e||this.input.mousePointer).stop(t),this.input.callAll("_pointerOutHandler",e))},onPointerOver:function(t){this.event=t,this.capture&&t.preventDefault(),t.identifier=t.pointerId;var e=this.getPointerFromEvent(t);e&&(e.withinGame=!0),this.pointerOverCallback&&this.pointerOverCallback.call(this.callbackContext,t)},onPointerCancel:function(t){this.event=t,this.pointerCancelCallback&&this.pointerCancelCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled&&(t.identifier=t.pointerId,this.isMousePointerEvent(t)?this.input.mousePointer.stop(t):this.input.stopPointer(t))},stop:function(){var t=window;t.removeEventListener("MSPointerDown",this._onMSPointerDown,!1),t.removeEventListener("MSPointerMove",this._onMSPointerMove,!1),t.removeEventListener("MSPointerUp",this._onMSPointerUp,!1),t.removeEventListener("pointerdown",this._onMSPointerDown,!1),t.removeEventListener("pointermove",this._onMSPointerMove,!1),t.removeEventListener("pointerup",this._onMSPointerUp,!1),window.removeEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),t.removeEventListener("MSPointerOver",this._onMSPointerOver,!0),t.removeEventListener("MSPointerOut",this._onMSPointerOut,!0),window.removeEventListener("pointerup",this._onMSPointerUpGlobal,!0),t.removeEventListener("pointerover",this._onMSPointerOver,!0),t.removeEventListener("pointerout",this._onMSPointerOut,!0),this.active=!1},isMousePointerEvent:function(t){return"mouse"===t.pointerType||4===t.pointerType},getPointerFromEvent:function(t){return this.isMousePointerEvent(t)?this.input.mousePointer:this.input.getPointerFromIdentifier(t.identifier)}},N.MSPointer.prototype.constructor=N.MSPointer,N.DeviceButton=function(t,e){this.parent=t,this.game=t.game,this.event=null,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1,this.value=0,this.buttonCode=e,this.onDown=new N.Signal,this.onUp=new N.Signal,this.onFloat=new N.Signal},N.DeviceButton.prototype={start:function(t,e){this.isDown||(this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.repeats=0,this.event=t,this.value=e,t&&(this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.ctrlKey=t.ctrlKey),this.onDown.dispatch(this,e))},stop:function(t,e){this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.event=t,this.value=e,t&&(this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.ctrlKey=t.ctrlKey),this.onUp.dispatch(this,e))},startStop:function(t,e,i){t?this.start(e,i):this.stop(e,i)},padFloat:function(t){this.isDown=!1,this.isUp=!1,this.value=t,this.onFloat.dispatch(this,t)},justPressed:function(t){return t=t||250,this.isDown&&this.timeDown+t>this.game.time.time},justReleased:function(t){return t=t||250,this.isUp&&this.timeUp+t>this.game.time.time},reset:function(){this.isDown=!1,this.isUp=!0,this.timeDown=this.game.time.time,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1},destroy:function(){this.onDown.dispose(),this.onUp.dispose(),this.onFloat.dispose(),this.parent=null,this.game=null}},N.DeviceButton.prototype.constructor=N.DeviceButton,Object.defineProperty(N.DeviceButton.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),N.Pointer=function(t,e,i){this.game=t,this.id=e,this.type=N.POINTER,this.exists=!0,this.identifier=0,this.pointerId=null,this.pointerMode=i||N.PointerMode.CURSOR|N.PointerMode.CONTACT,this.target=null,this.button=null,this.leftButton=new N.DeviceButton(this,N.Pointer.LEFT_BUTTON),this.middleButton=new N.DeviceButton(this,N.Pointer.MIDDLE_BUTTON),this.rightButton=new N.DeviceButton(this,N.Pointer.RIGHT_BUTTON),this.backButton=new N.DeviceButton(this,N.Pointer.BACK_BUTTON),this.forwardButton=new N.DeviceButton(this,N.Pointer.FORWARD_BUTTON),this.eraserButton=new N.DeviceButton(this,N.Pointer.ERASER_BUTTON),this._holdSent=!1,this._history=[],this._nextDrop=0,this._stateReset=!1,this.withinGame=!1,this.clientX=-1,this.clientY=-1,this.pageX=-1,this.pageY=-1,this.screenX=-1,this.screenY=-1,this.rawMovementX=0,this.rawMovementY=0,this.movementX=0,this.movementY=0,this.x=-1,this.y=-1,this.isMouse=0===e,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.previousTapTime=0,this.totalTouches=0,this.msSinceLastClick=Number.MAX_VALUE,this.targetObject=null,this.interactiveCandidates=[],this.active=!1,this.dirty=!1,this.position=new N.Point,this.positionDown=new N.Point,this.positionUp=new N.Point,this.circle=new N.Circle(0,0,44),this._clickTrampolines=null,this._trampolineTargetObject=null},N.Pointer.NO_BUTTON=0,N.Pointer.LEFT_BUTTON=1,N.Pointer.RIGHT_BUTTON=2,N.Pointer.MIDDLE_BUTTON=4,N.Pointer.BACK_BUTTON=8,N.Pointer.FORWARD_BUTTON=16,N.Pointer.ERASER_BUTTON=32,N.Pointer.prototype={resetButtons:function(){this.isDown=!1,this.isUp=!0,this.isMouse&&(this.leftButton.reset(),this.middleButton.reset(),this.rightButton.reset(),this.backButton.reset(),this.forwardButton.reset(),this.eraserButton.reset())},processButtonsDown:function(t,e){switch(t){case N.Mouse.LEFT_BUTTON:this.leftButton.start(e);break;case N.Mouse.RIGHT_BUTTON:this.rightButton.start(e);break;case N.Mouse.MIDDLE_BUTTON:this.middleButton.start(e);break;case N.Mouse.BACK_BUTTON:this.backButton.start(e);break;case N.Mouse.FORWARD_BUTTON:this.forwardButton.start(e)}},processButtonsUp:function(t,e){switch(t){case N.Mouse.LEFT_BUTTON:this.leftButton.stop(e);break;case N.Mouse.RIGHT_BUTTON:this.rightButton.stop(e);break;case N.Mouse.MIDDLE_BUTTON:this.middleButton.stop(e);break;case N.Mouse.BACK_BUTTON:this.backButton.stop(e);break;case N.Mouse.FORWARD_BUTTON:this.forwardButton.stop(e)}},processButtonsUpDown:function(t,e){var i=e.type.toLowerCase().substr(-4),s="down"===i,i="move"===i;void 0!==t?(s&&1===t&&e.ctrlKey&&(t=2),this.leftButton.startStop(N.Pointer.LEFT_BUTTON&t,e),this.rightButton.startStop(N.Pointer.RIGHT_BUTTON&t,e),this.middleButton.startStop(N.Pointer.MIDDLE_BUTTON&t,e),this.backButton.startStop(N.Pointer.BACK_BUTTON&t,e),this.forwardButton.startStop(N.Pointer.FORWARD_BUTTON&t,e),this.eraserButton.startStop(N.Pointer.ERASER_BUTTON&t,e)):void 0!==e.button?s&&e.ctrlKey&&0===e.button?this.rightButton.start(e):s?this.processButtonsDown(e.button,e):i||this.processButtonsUp(e.button,e):s?(e.ctrlKey?this.rightButton:this.leftButton).start(e):(this.leftButton.stop(e),this.rightButton.stop(e))},updateButtons:function(t){this.button=t.button,this.processButtonsUpDown(t.buttons,t),this.isUp=!0,this.isDown=!1,(this.leftButton.isDown||this.rightButton.isDown||this.middleButton.isDown||this.backButton.isDown||this.forwardButton.isDown||this.eraserButton.isDown)&&(this.isUp=!1,this.isDown=!0)},start:function(t){var e=this.game.input;return t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.isMouse?this.updateButtons(t):(this.isDown=!0,this.isUp=!1),this.active=!0,this.withinGame=!0,this.dirty=!1,this._history=[],this._clickTrampolines=null,this._trampolineTargetObject=null,this.msSinceLastClick=this.game.time.time-this.timeDown,this.timeDown=this.game.time.time,this._holdSent=!1,this.move(t,!0),this.positionDown.setTo(this.x,this.y),(e.multiInputOverride===N.Input.MOUSE_OVERRIDES_TOUCH||e.multiInputOverride===N.Input.MOUSE_TOUCH_COMBINE||e.multiInputOverride===N.Input.TOUCH_OVERRIDES_MOUSE&&0===e.totalActivePointers)&&(e.x=this.x,e.y=this.y,e.position.setTo(this.x,this.y),e.onDown.dispatch(this,t),e.resetSpeed(this.x,this.y)),this._stateReset=!1,this.totalTouches++,null!==this.targetObject&&this.targetObject._touchedHandler(this),this},update:function(){var t=this.game.input;this.active&&(this.dirty&&(0<t.interactiveItems.total&&this.processInteractiveObjects(!1),this.dirty=!1),!1===this._holdSent&&this.duration>=t.holdRate&&((t.multiInputOverride===N.Input.MOUSE_OVERRIDES_TOUCH||t.multiInputOverride===N.Input.MOUSE_TOUCH_COMBINE||t.multiInputOverride===N.Input.TOUCH_OVERRIDES_MOUSE&&0===t.totalActivePointers)&&t.onHold.dispatch(this),this._holdSent=!0),t.recordPointerHistory)&&this.game.time.time>=this._nextDrop&&(this._nextDrop=this.game.time.time+t.recordRate,this._history.push({x:this.position.x,y:this.position.y}),this._history.length>t.recordLimit)&&this._history.shift()},move:function(t,e){var i=this.game.input;if(!i.pollLocked){void 0===e&&(e=!1),void 0!==t.button&&(this.button=t.button),this.isMouse&&this.updateButtons(t),this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.screenX=t.screenX,this.screenY=t.screenY,this.isMouse&&i.pointerLock.locked&&!e&&(this.rawMovementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.rawMovementY=t.movementY||t.mozMovementY||t.webkitMovementY||0,this.movementX+=this.rawMovementX,this.movementY+=this.rawMovementY),this.x=(this.pageX-this.game.scale.offset.x)*i.scale.x,this.y=(this.pageY-this.game.scale.offset.y)*i.scale.y,this.position.setTo(this.x,this.y),this.circle.x=this.x,this.circle.y=this.y,(i.multiInputOverride===N.Input.MOUSE_OVERRIDES_TOUCH||i.multiInputOverride===N.Input.MOUSE_TOUCH_COMBINE||i.multiInputOverride===N.Input.TOUCH_OVERRIDES_MOUSE&&0===i.totalActivePointers)&&(i.activePointer=this,i.x=this.x,i.y=this.y,i.position.setTo(i.x,i.y),i.circle.x=i.x,i.circle.y=i.y),this.withinGame=this.game.scale.bounds.contains(this.pageX,this.pageY);for(var s=i.moveCallbacks.length;s--;)i.moveCallbacks[s].callback.call(i.moveCallbacks[s].context,this,this.x,this.y,e,t);return null===this.targetObject||this.game.paused&&!this.targetObject.noPause||!0!==this.targetObject.isDragged?0<i.interactiveItems.total&&this.processInteractiveObjects(e):!1===this.targetObject.update(this)&&(this.targetObject=null),this}},processInteractiveObjects:function(t){var e=0,i=-1,s=null,n=this.game.input.interactiveItems.first;for(this.interactiveCandidates=[];n;)n.checked=!1,n.validForInput(i,e,!1)&&(!this.game.paused||n.sprite.noPause)&&(n.checked=!0,t&&n.checkPointerDown(this,!0)||!t&&n.checkPointerOver(this,!0))&&(e=n.sprite.renderOrderID,i=n.priorityID,s=n,this.interactiveCandidates.push(n)),n=this.game.input.interactiveItems.next;for(n=this.game.input.interactiveItems.first;n;)!n.checked&&n.validForInput(i,e,!0)&&(t&&n.checkPointerDown(this,!1)||!t&&n.checkPointerOver(this,!1))&&(e=n.sprite.renderOrderID,i=n.priorityID,s=n,this.interactiveCandidates.push(n)),n=this.game.input.interactiveItems.next;return this.game.input.customCandidateHandler&&(s=this.game.input.customCandidateHandler.call(this.game.input.customCandidateHandlerContext,this,this.interactiveCandidates,s)),this.swapTarget(s,!1),null!==this.targetObject},swapTarget:function(t,e){void 0===e&&(e=!1),null===t?this.targetObject&&(this.targetObject._pointerOutHandler(this,e),this.targetObject=null):null===this.targetObject?(this.targetObject=t)._pointerOverHandler(this,e):this.targetObject===t?!1===t.update(this)&&(this.targetObject=null):(this.targetObject._pointerOutHandler(this,e),this.targetObject=t,this.targetObject._pointerOverHandler(this,e))},leave:function(t){this.withinGame=!1,this.move(t,!1)},stop:function(t){var e,i=this.game.input;if(!this._stateReset||!this.withinGame)return this.timeUp=this.game.time.time,(i.multiInputOverride===N.Input.MOUSE_OVERRIDES_TOUCH||i.multiInputOverride===N.Input.MOUSE_TOUCH_COMBINE||i.multiInputOverride===N.Input.TOUCH_OVERRIDES_MOUSE&&0===i.totalActivePointers)&&(i.onUp.dispatch(this,t),0<=this.duration)&&this.duration<=i.tapRate&&(e=this.timeUp-this.previousTapTime<i.doubleTapRate,i.onTap.dispatch(this,e,t),this.previousTapTime=this.timeUp),this.isMouse?this.updateButtons(t):(this.isDown=!1,this.isUp=!0),0<this.id&&(this.active=!1),this.withinGame=this.game.scale.bounds.contains(t.pageX,t.pageY),this.pointerId=null,this.identifier=null,this.positionUp.setTo(this.x,this.y),!1===this.isMouse&&i.currentPointers--,i.callAll("_releasedHandler",this),this._clickTrampolines&&(this._trampolineTargetObject=this.targetObject),this.targetObject=null,this;t.preventDefault()},justPressed:function(t){return t=t||this.game.input.justPressedRate,!0===this.isDown&&this.timeDown+t>this.game.time.time},justReleased:function(t){return t=t||this.game.input.justReleasedRate,this.isUp&&this.timeUp+t>this.game.time.time},addClickTrampoline:function(t,e,i,s){if(this.isDown){for(var n=this._clickTrampolines=this._clickTrampolines||[],o=0;o<n.length;o++)if(n[o].name===t){n.splice(o,1);break}n.push({name:t,targetObject:this.targetObject,callback:e,callbackContext:i,callbackArgs:s})}},processClickTrampolines:function(){var t=this._clickTrampolines;if(t){for(var e=0;e<t.length;e++){var i=t[e];i.targetObject===this._trampolineTargetObject&&i.callback.apply(i.callbackContext,i.callbackArgs)}this._clickTrampolines=null,this._trampolineTargetObject=null}},reset:function(){!1===this.isMouse&&(this.active=!1),this.pointerId=null,this.identifier=null,this.dirty=!1,this.totalTouches=0,this._holdSent=!1,this._history.length=0,this._stateReset=!0,this.resetButtons(),this.targetObject&&this.targetObject._releasedHandler(this),this.targetObject=null},resetMovement:function(){this.movementX=0,this.movementY=0}},N.Pointer.prototype.constructor=N.Pointer,Object.defineProperty(N.Pointer.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),Object.defineProperty(N.Pointer.prototype,"worldX",{get:function(){return this.game.world.camera.x+this.x}}),Object.defineProperty(N.Pointer.prototype,"worldY",{get:function(){return this.game.world.camera.y+this.y}}),N.PointerMode={CURSOR:1,CONTACT:2},N.PointerModes={},N.PointerModes[N.PointerMode.CURSOR]="CURSOR",N.PointerModes[N.PointerMode.CONTACT]="CONTACT",N.Touch=function(t){this.game=t,this.active=!1,this.enabled=!0,this.callbackContext=this.game,this.touchStartCallback=null,this.touchMoveCallback=null,this.touchEndCallback=null,this.touchEnterCallback=null,this.touchLeaveCallback=null,this.touchCancelCallback=null,this.preventDefault=!0,this.event=null,this._onTouchStart=null,this._onTouchMove=null,this._onTouchEnd=null,this._onTouchEnter=null,this._onTouchLeave=null,this._onTouchCancel=null,this._onTouchMove=null},N.Touch.prototype={start:function(){var e;return!!this.game.device.touch&&null===this._onTouchStart&&((e=this)._onTouchStart=function(t){return e.onTouchStart(t)},this._onTouchMove=function(t){return e.onTouchMove(t)},this._onTouchEnd=function(t){return e.onTouchEnd(t)},this._onTouchEnter=function(t){return e.onTouchEnter(t)},this._onTouchLeave=function(t){return e.onTouchLeave(t)},this._onTouchCancel=function(t){return e.onTouchCancel(t)},window.addEventListener("touchstart",this._onTouchStart,!1),window.addEventListener("touchmove",this._onTouchMove,!1),window.addEventListener("touchend",this._onTouchEnd,!1),window.addEventListener("touchcancel",this._onTouchCancel,!1),this.game.device.cocoonJS||(window.addEventListener("touchenter",this._onTouchEnter,!1),window.addEventListener("touchleave",this._onTouchLeave,!1)),this.active=!0)},consumeDocumentTouches:function(){this._documentTouchMove=function(t){t.preventDefault()},document.addEventListener("touchmove",this._documentTouchMove,!1)},onTouchStart:function(t){if(this.game.input.executeTouchLockCallbacks(!1,t),this.event=t,this.game.input.enabled&&this.enabled){this.touchStartCallback&&this.touchStartCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.startPointer(t.changedTouches[e])}},onTouchCancel:function(t){if(this.event=t,this.touchCancelCallback&&this.touchCancelCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled){this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.stopPointer(t.changedTouches[e])}},onTouchEnter:function(t){this.event=t,this.touchEnterCallback&&this.touchEnterCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled&&this.preventDefault&&t.preventDefault()},onTouchLeave:function(t){this.event=t,this.touchLeaveCallback&&this.touchLeaveCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault()},onTouchMove:function(t){this.event=t,this.touchMoveCallback&&this.touchMoveCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.updatePointer(t.changedTouches[e])},onTouchEnd:function(t){this.game.input.executeTouchLockCallbacks(!0,t),this.event=t,this.touchEndCallback&&this.touchEndCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.stopPointer(t.changedTouches[e])},stop:function(){this.game.device.touch&&(window.removeEventListener("touchstart",this._onTouchStart),window.removeEventListener("touchmove",this._onTouchMove),window.removeEventListener("touchend",this._onTouchEnd),window.removeEventListener("touchenter",this._onTouchEnter),window.removeEventListener("touchleave",this._onTouchLeave),window.removeEventListener("touchcancel",this._onTouchCancel),this.active=!1)}},N.Touch.prototype.constructor=N.Touch,N.InputHandler=function(t){this.sprite=t,this.game=t.game,this.enabled=!1,this.checked=!1,this.priorityID=0,this.useHandCursor=!1,this._setHandCursor=!1,this.isDragged=!1,this.allowHorizontalDrag=!0,this.allowVerticalDrag=!0,this.bringToTop=!1,this.snapOffset=null,this.snapOnDrag=!1,this.snapOnRelease=!1,this.snapX=0,this.snapY=0,this.snapOffsetX=0,this.snapOffsetY=0,this.pixelPerfectOver=!1,this.pixelPerfectClick=!1,this.pixelPerfectAlpha=255,this.draggable=!1,this.boundsRect=null,this.boundsSprite=null,this.scaleLayer=!1,this.dragOffset=new N.Point,this.dragFromCenter=!1,this.dragStopBlocksInputUp=!1,this.dragStartPoint=new N.Point,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this.downPoint=new N.Point,this.snapPoint=new N.Point,this._dragPoint=new N.Point,this._dragPhase=!1,this._pendingDrag=!1,this._dragTimePass=!1,this._dragDistancePass=!1,this._wasEnabled=!1,this._tempPoint=new N.Point,this._pointerData=[],this._pointerData.push({id:0,x:0,y:0,camX:0,camY:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1})},N.InputHandler.prototype={start:function(t,e){if(t=t||0,void 0===e&&(e=!1),!1===this.enabled){this.game.input.interactiveItems.add(this),this.useHandCursor=e,this.priorityID=t;for(var i=0;i<10;i++)this._pointerData[i]={id:i,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1};this.snapOffset=new N.Point,this.enabled=!0,this._wasEnabled=!0}return this.sprite.events.onAddedToGroup.add(this.addedToGroup,this),this.sprite.events.onRemovedFromGroup.add(this.removedFromGroup,this),this.sprite},addedToGroup:function(){this._dragPhase||this._wasEnabled&&!this.enabled&&this.start()},removedFromGroup:function(){this._dragPhase||(this.enabled?(this._wasEnabled=!0,this.stop()):this._wasEnabled=!1)},reset:function(){this.enabled=!1;for(var t=0;t<10;t++)this._pointerData[t]={id:t,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1}},stop:function(){!1!==this.enabled&&(this.enabled=!1,this.game.input.interactiveItems.remove(this))},destroy:function(){this.sprite&&(this._setHandCursor&&(this.game.canvas.style.cursor="",this._setHandCursor=!1),this.enabled=!1,this.game.input.interactiveItems.remove(this),this._pointerData.length=0,this.boundsRect=null,this.boundsSprite=null,this.sprite=null)},validForInput:function(t,e,i){return void 0===i&&(i=!0),!(!this.enabled||0===this.sprite.scale.x||0===this.sprite.scale.y||this.priorityID<this.game.input.minPriorityID||this.sprite.parent&&this.sprite.parent.ignoreChildInput||!i&&(this.pixelPerfectClick||this.pixelPerfectOver)||!(this.priorityID>t||this.priorityID===t&&this.sprite.renderOrderID>e))},isPixelPerfect:function(){return this.pixelPerfectClick||this.pixelPerfectOver},pointerX:function(t){return this._pointerData[t=t||0].x},pointerY:function(t){return this._pointerData[t=t||0].y},pointerDown:function(t){return this._pointerData[t=t||0].isDown},pointerUp:function(t){return this._pointerData[t=t||0].isUp},pointerTimeDown:function(t){return this._pointerData[t=t||0].timeDown},pointerTimeUp:function(t){return this._pointerData[t=t||0].timeUp},pointerOver:function(t){if(this.enabled){if(void 0!==t)return this._pointerData[t].isOver;for(var e=0;e<10;e++)if(this._pointerData[e].isOver)return!0}return!1},pointerOut:function(t){if(!this.enabled)return!1;if(void 0!==t)return this._pointerData[t].isOut;for(var e=0;e<10;e++)if(this._pointerData[e].isOut)return!0},pointerTimeOver:function(t){return this._pointerData[t=t||0].timeOver},pointerTimeOut:function(t){return this._pointerData[t=t||0].timeOut},pointerDragged:function(t){return this._pointerData[t=t||0].isDragged},checkPointerDown:function(t,e){return!!(t.isDown&&this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&!!this.game.input.hitTest(this.sprite,t,this._tempPoint)&&(!(!(e=void 0===e?!1:e)&&this.pixelPerfectClick)||this.checkPixel(this._tempPoint.x,this._tempPoint.y))},checkPointerOver:function(t,e){return!!(this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&!!this.game.input.hitTest(this.sprite,t,this._tempPoint)&&(!(!(e=void 0===e?!1:e)&&this.pixelPerfectOver)||this.checkPixel(this._tempPoint.x,this._tempPoint.y))},checkPixel:function(t,e,i){if(this.sprite.texture.baseTexture.source){if(null===t&&null===e&&(this.game.input.getLocalPosition(this.sprite,i,this._tempPoint),t=this._tempPoint.x,e=this._tempPoint.y),0!==this.sprite.anchor.x&&(t-=-this.sprite.texture.frame.width*this.sprite.anchor.x),0!==this.sprite.anchor.y&&(e-=-this.sprite.texture.frame.height*this.sprite.anchor.y),t+=this.sprite.texture.frame.x,e+=this.sprite.texture.frame.y,this.sprite.texture.trim&&(t-=this.sprite.texture.trim.x,e-=this.sprite.texture.trim.y,t<this.sprite.texture.crop.x||t>this.sprite.texture.crop.right||e<this.sprite.texture.crop.y||e>this.sprite.texture.crop.bottom))return this._dx=t,this._dy=e,!1;if(this._dx=t,this._dy=e,this.game.input.hitContext.clearRect(0,0,1,1),this.game.input.hitContext.drawImage(this.sprite.texture.baseTexture.source,t,e,1,1,0,0,1,1),this.game.input.hitContext.getImageData(0,0,1,1).data[3]>=this.pixelPerfectAlpha)return!0}return!1},update:function(t){if(null!==this.sprite&&void 0!==this.sprite.parent)return this.enabled&&this.sprite.visible&&this.sprite.parent.visible?this._pendingDrag?(this._dragDistancePass||(this._dragDistancePass=N.Math.distance(t.x,t.y,this.downPoint.x,this.downPoint.y)>=this.dragDistanceThreshold),this._dragDistancePass&&this._dragTimePass&&this.startDrag(t),!0):this.draggable&&this._draggedPointerID===t.id?this.updateDrag(t,!1):this._pointerData[t.id].isOver?this.checkPointerOver(t)?(this._pointerData[t.id].x=t.x-this.sprite.x,this._pointerData[t.id].y=t.y-this.sprite.y,!0):(this._pointerOutHandler(t),!1):void 0:(this._pointerOutHandler(t),!1)},_pointerOverHandler:function(t,e){var i,s;null!==this.sprite&&(!1===(i=this._pointerData[t.id]).isOver||t.dirty)&&(s=!1===i.isOver,i.isOver=!0,i.isOut=!1,i.timeOver=this.game.time.time,i.x=t.x-this.sprite.x,i.y=t.y-this.sprite.y,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="pointer",this._setHandCursor=!0),!e&&s&&this.sprite&&this.sprite.events&&this.sprite.events.onInputOver$dispatch(this.sprite,t),this.sprite.parent)&&this.sprite.parent.onChildInputOver&&this.sprite.parent.onChildInputOver.dispatch(this.sprite,t)},_pointerOutHandler:function(t,e){var i;null!==this.sprite&&((i=this._pointerData[t.id]).isOver=!1,i.isOut=!0,i.timeOut=this.game.time.time,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="",this._setHandCursor=!1),!e)&&this.sprite&&this.sprite.events&&(this.sprite.events.onInputOut$dispatch(this.sprite,t),this.sprite)&&this.sprite.parent&&this.sprite.parent.onChildInputOut&&this.sprite.parent.onChildInputOut.dispatch(this.sprite,t)},_touchedHandler:function(t){var e;null===this.sprite||(e=this._pointerData[t.id]).isDown||!e.isOver||this.pixelPerfectClick&&!this.checkPixel(null,null,t)||(e.isDown=!0,e.isUp=!1,e.timeDown=this.game.time.time,this.downPoint.set(t.x,t.y),t.dirty=!0,this.sprite&&this.sprite.events&&(this.sprite.events.onInputDown$dispatch(this.sprite,t),this.sprite&&this.sprite.parent&&this.sprite.parent.onChildInputDown&&this.sprite.parent.onChildInputDown.dispatch(this.sprite,t),null===this.sprite))||(this.draggable&&!1===this.isDragged&&(0===this.dragTimeThreshold&&0===this.dragDistanceThreshold?this.startDrag(t):(this._pendingDrag=!0,this._dragDistancePass=0===this.dragDistanceThreshold,0<this.dragTimeThreshold?(this._dragTimePass=!1,this.game.time.events.add(this.dragTimeThreshold,this.dragTimeElapsed,this,t)):this._dragTimePass=!0)),this.bringToTop&&this.sprite.bringToTop())},dragTimeElapsed:function(t){this._dragTimePass=!0,this._pendingDrag&&this.sprite&&this._dragDistancePass&&this.startDrag(t)},_releasedHandler:function(t){var e,i;null!==this.sprite&&(e=this._pointerData[t.id]).isDown&&t.isUp&&(e.isDown=!1,e.isUp=!0,e.timeUp=this.game.time.time,e.downDuration=e.timeUp-e.timeDown,i=this.checkPointerOver(t),this.sprite&&this.sprite.events&&(this.dragStopBlocksInputUp&&(!this.dragStopBlocksInputUp||this.draggable&&this.isDragged&&this._draggedPointerID===t.id)||this.sprite.events.onInputUp$dispatch(this.sprite,t,i),this.sprite&&this.sprite.parent&&this.sprite.parent.onChildInputUp&&this.sprite.parent.onChildInputUp.dispatch(this.sprite,t,i),i=i&&this.checkPointerOver(t)),!(e.isOver=i)&&this.useHandCursor&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),t.dirty=!0,this._pendingDrag=!1,this.draggable)&&this.isDragged&&this._draggedPointerID===t.id&&this.stopDrag(t)},updateDrag:function(t,e){var i,s,n,o,r,a=this.game.camera,h=this.dragOffset,l=this._dragPoint,c=this._pointerData[t.id],u=this.snapPoint,d=this.sprite;return void 0===e&&(e=!1),t.isUp?(this.stopDrag(t),!1):(r=this.globalToLocal(t),r=d.fixedToCamera?(i=a.scale.x*r.x+l.x+h.x,a.scale.y*r.y+l.y+h.y):(i=r.x+l.x+h.x,r.y+l.y+h.y),a=d.fixedToCamera?(n=(l=d.cameraOffset).x,o=l.y,this.allowHorizontalDrag&&(l.x=i-a.x),this.allowVerticalDrag&&(l.y=r-a.y),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(l.x=Math.round((l.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,l.y=Math.round((l.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,u.set(l.x,l.y)),s=l.x-n,l.y-o):(h=a.x-c.camX,l=a.y-c.camY,n=d.x,o=d.y,this.allowHorizontalDrag&&(d.x=i+h),this.allowVerticalDrag&&(d.y=r+l),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(d.x=Math.round((d.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,d.y=Math.round((d.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,u.set(d.x,d.y)),s=d.x-n,d.y-o),this.sprite.events.onDragUpdate.dispatch(d,t,i,r,u,e,s,a),!0)},justOver:function(t,e){return e=e||500,this._pointerData[t=t||0].isOver&&this.overDuration(t)<e},justOut:function(t,e){return e=e||500,this._pointerData[t=t||0].isOut&&this.game.time.time-this._pointerData[t].timeOut<e},justPressed:function(t,e){return e=e||500,this._pointerData[t=t||0].isDown&&this.downDuration(t)<e},justReleased:function(t,e){return e=e||500,this._pointerData[t=t||0].isUp&&this.game.time.time-this._pointerData[t].timeUp<e},overDuration:function(t){return this._pointerData[t=t||0].isOver?this.game.time.time-this._pointerData[t].timeOver:-1},downDuration:function(t){return this._pointerData[t=t||0].isDown?this.game.time.time-this._pointerData[t].timeDown:-1},enableDrag:function(t,e,i,s,n,o){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===s&&(s=255),void 0===n&&(n=null),void 0===o&&(o=null),this._dragPoint=new N.Point,this.draggable=!0,this.bringToTop=e,this.dragOffset=new N.Point,this.dragFromCenter=t,this.pixelPerfectClick=i,this.pixelPerfectAlpha=s,n&&(this.boundsRect=n),o&&(this.boundsSprite=o)},disableDrag:function(){if(this._pointerData)for(var t=0;t<10;t++)this._pointerData[t].isDragged=!1;this.draggable=!1,this.isDragged=!1,this._draggedPointerID=-1,this._pendingDrag=!1},startDrag:function(t){var e,i,s=this.sprite.x,n=this.sprite.y,o=this.globalToLocal(t);this.isDragged=!0,this._draggedPointerID=t.id,this._pointerData[t.id].camX=this.game.camera.x,this._pointerData[t.id].camY=this.game.camera.y,this._pointerData[t.id].isDragged=!0,this.sprite.fixedToCamera?(this.dragFromCenter&&(e=this.sprite.getBounds(),i=this.globalToLocal(new N.Point(e.centerX,e.centerY)),this.sprite.cameraOffset.x=o.x+(this.sprite.cameraOffset.x-i.x),this.sprite.cameraOffset.y=o.y+(this.sprite.cameraOffset.y-i.y)),this._dragPoint.setTo(this.sprite.cameraOffset.x-t.x,this.sprite.cameraOffset.y-t.y)):(this.dragFromCenter&&(e=this.sprite.getBounds(),i=this.globalToLocal(new N.Point(e.centerX,e.centerY)),this.sprite.x=o.x+(this.sprite.x-i.x),this.sprite.y=o.y+(this.sprite.y-i.y)),this._dragPoint.setTo(this.sprite.x-o.x,this.sprite.y-o.y)),this.updateDrag(t,!0),this.bringToTop&&(this._dragPhase=!0,this.sprite.bringToTop()),this.dragStartPoint.set(s,n),this.sprite.events.onDragStart$dispatch(this.sprite,t,s,n),this._pendingDrag=!1},globalToLocalX:function(t){return t=this.scaleLayer?(t-=this.game.scale.grid.boundsFluid.x)*this.game.scale.grid.scaleFluidInversed.x:t},globalToLocalY:function(t){return t=this.scaleLayer?(t-=this.game.scale.grid.boundsFluid.y)*this.game.scale.grid.scaleFluidInversed.y:t},globalToLocal:function(t){return this.sprite.parent?this.game.input.getLocalPosition(this.sprite.parent,{x:t.x,y:t.y}):t},stopDrag:function(t){this.isDragged=!1,this._draggedPointerID=-1,this._pointerData[t.id].isDragged=!1,this._dragPhase=!1,this._pendingDrag=!1,this.snapOnRelease&&(this.sprite.fixedToCamera?(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY):(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY)),this.sprite.events.onDragStop$dispatch(this.sprite,t),!1===this.checkPointerOver(t)&&this._pointerOutHandler(t)},setDragLock:function(t,e){void 0===e&&(e=!0),this.allowHorizontalDrag=t=void 0===t?!0:t,this.allowVerticalDrag=e},enableSnap:function(t,e,i,s,n,o){void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===n&&(n=0),void 0===o&&(o=0),this.snapX=t,this.snapY=e,this.snapOffsetX=n,this.snapOffsetY=o,this.snapOnDrag=i,this.snapOnRelease=s},disableSnap:function(){this.snapOnDrag=!1,this.snapOnRelease=!1},checkBoundsRect:function(){this.sprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsRect.left?this.sprite.cameraOffset.x=this.boundsRect.left:this.sprite.cameraOffset.x+this.sprite.width>this.boundsRect.right&&(this.sprite.cameraOffset.x=this.boundsRect.right-this.sprite.width),this.sprite.cameraOffset.y<this.boundsRect.top?this.sprite.cameraOffset.y=this.boundsRect.top:this.sprite.cameraOffset.y+this.sprite.height>this.boundsRect.bottom&&(this.sprite.cameraOffset.y=this.boundsRect.bottom-this.sprite.height)):(this.sprite.left<this.boundsRect.left?this.sprite.x=this.boundsRect.x+this.sprite.offsetX:this.sprite.right>this.boundsRect.right&&(this.sprite.x=this.boundsRect.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsRect.top?this.sprite.y=this.boundsRect.top+this.sprite.offsetY:this.sprite.bottom>this.boundsRect.bottom&&(this.sprite.y=this.boundsRect.bottom-(this.sprite.height-this.sprite.offsetY)))},checkBoundsSprite:function(){this.sprite.fixedToCamera&&this.boundsSprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsSprite.cameraOffset.x?this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x:this.sprite.cameraOffset.x+this.sprite.width>this.boundsSprite.cameraOffset.x+this.boundsSprite.width&&(this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x+this.boundsSprite.width-this.sprite.width),this.sprite.cameraOffset.y<this.boundsSprite.cameraOffset.y?this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y:this.sprite.cameraOffset.y+this.sprite.height>this.boundsSprite.cameraOffset.y+this.boundsSprite.height&&(this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y+this.boundsSprite.height-this.sprite.height)):(this.sprite.left<this.boundsSprite.left?this.sprite.x=this.boundsSprite.left+this.sprite.offsetX:this.sprite.right>this.boundsSprite.right&&(this.sprite.x=this.boundsSprite.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsSprite.top?this.sprite.y=this.boundsSprite.top+this.sprite.offsetY:this.sprite.bottom>this.boundsSprite.bottom&&(this.sprite.y=this.boundsSprite.bottom-(this.sprite.height-this.sprite.offsetY)))}},N.InputHandler.prototype.constructor=N.InputHandler,N.PointerLock=function(t){this.game=t,this.input=t.input,this.element=t.canvas,this.active=!1,this.locked=!1,this.onChange=new N.Signal,this.onError=new N.Signal,this.boundOnChangeHandler=this.onChangeHandler.bind(this),this.boundOnErrorHandler=this.onErrorHandler.bind(this);t=t.device;this.pointerLockElement=t.pointerLockElement,this.pointerlockchange=t.pointerlockchange,this.pointerlockerror=t.pointerlockerror},N.PointerLock.prototype.start=function(){return!(!this.game.device.pointerLock||this.active)&&(this.element.requestPointerLock||(this.element.requestPointerLock=this.element.mozRequestPointerLock||this.element.webkitRequestPointerLock),document.exitPointerLock||(document.exitPointerLock=document.mozExitPointerLock||document.webkitExitPointerLock),document.addEventListener(this.pointerlockchange,this.boundOnChangeHandler,!0),document.addEventListener(this.pointerlockerror,this.boundOnErrorHandler,!0),this.active=!0)},N.PointerLock.prototype.stop=function(){this.active&&(document.removeEventListener(this.pointerlockchange,this.boundOnChangeHandler,!0),document.removeEventListener(this.pointerlockerror,this.boundOnErrorHandler,!0),this.active=!1)},N.PointerLock.prototype.request=function(){this.active&&!this.locked&&this.element.requestPointerLock()},N.PointerLock.prototype.exit=function(){document.exitPointerLock()},N.PointerLock.prototype.onChangeHandler=function(t){this.locked=document[this.pointerLockElement]===this.element,this.onChange.dispatch(this.locked,t)},N.PointerLock.prototype.onErrorHandler=function(t){this.onError.dispatch(t)},N.Gamepad=function(t){this.game=t,this._gamepadIndexMap={},this._rawPads=[],this._active=!1,this.enabled=!0,this._gamepadSupportAvailable=!!navigator.webkitGetGamepads||!!navigator.webkitGamepads||-1!==navigator.userAgent.indexOf("Firefox/")||!!navigator.getGamepads,this._prevRawGamepadTypes=[],this._prevTimestamps=[],(this.callbackContext=this).onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this._ongamepadconnected=null,this._gamepaddisconnected=null,this._gamepads=[new N.SinglePad(t,this),new N.SinglePad(t,this),new N.SinglePad(t,this),new N.SinglePad(t,this)]},N.Gamepad.prototype={addCallbacks:function(t,e){void 0!==e&&(this.onConnectCallback="function"==typeof e.onConnect?e.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof e.onDisconnect?e.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof e.onDown?e.onDown:this.onDownCallback,this.onUpCallback="function"==typeof e.onUp?e.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof e.onAxis?e.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof e.onFloat?e.onFloat:this.onFloatCallback,this.callbackContext=t)},start:function(){var e;this._active||(this._active=!0,(e=this)._onGamepadConnected=function(t){return e.onGamepadConnected(t)},this._onGamepadDisconnected=function(t){return e.onGamepadDisconnected(t)},window.addEventListener("gamepadconnected",this._onGamepadConnected,!1),window.addEventListener("gamepaddisconnected",this._onGamepadDisconnected,!1))},onGamepadConnected:function(t){t=t.gamepad;this._rawPads.push(t),this._gamepads[t.index].connect(t)},onGamepadDisconnected:function(t){var e,i=t.gamepad;for(e in this._rawPads)this._rawPads[e].index===i.index&&this._rawPads.splice(e,1);this._gamepads[i.index].disconnect()},update:function(){this._pollGamepads(),this.pad1.pollStatus(),this.pad2.pollStatus(),this.pad3.pollStatus(),this.pad4.pollStatus()},_pollGamepads:function(){var t;if(this._active&&(navigator.getGamepads?t=navigator.getGamepads():navigator.webkitGetGamepads?t=navigator.webkitGetGamepads():navigator.webkitGamepads&&(t=navigator.webkitGamepads()),t)){for(var e=!(this._rawPads=[]),i=0;i<t.length&&(typeof t[i]!==this._prevRawGamepadTypes[i]&&(e=!0,this._prevRawGamepadTypes[i]=typeof t[i]),t[i]&&this._rawPads.push(t[i]),3!==i);i++);for(var s=0;s<this._gamepads.length;s++)this._gamepads[s]._rawPad=this._rawPads[s];if(e){for(var n,o={rawIndices:{},padIndices:{}},r=0;r<this._gamepads.length;r++)if((n=this._gamepads[r]).connected)for(var a=0;a<this._rawPads.length;a++)this._rawPads[a].index===n.index&&(o.rawIndices[n.index]=!0,o.padIndices[r]=!0);for(var h=0;h<this._gamepads.length;h++)if(n=this._gamepads[h],!o.padIndices[h]){this._rawPads.length<1&&n.disconnect();for(var l=0;l<this._rawPads.length&&!o.padIndices[h];l++){var c=this._rawPads[l];!c||o.rawIndices[c.index]?n.disconnect():(n.connect(c),o.rawIndices[c.index]=!0,o.padIndices[h]=!0)}}}}},setDeadZones:function(t){for(var e=0;e<this._gamepads.length;e++)this._gamepads[e].deadZone=t},stop:function(){this._active=!1,window.removeEventListener("gamepadconnected",this._onGamepadConnected),window.removeEventListener("gamepaddisconnected",this._onGamepadDisconnected)},reset:function(){this.update();for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].reset()},justPressed:function(t,e){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justPressed(t,e))return!0;return!1},justReleased:function(t,e){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justReleased(t,e))return!0;return!1},isDown:function(t){for(var e=0;e<this._gamepads.length;e++)if(!0===this._gamepads[e].isDown(t))return!0;return!1},destroy:function(){this.stop();for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].destroy()}},N.Gamepad.prototype.constructor=N.Gamepad,Object.defineProperty(N.Gamepad.prototype,"active",{get:function(){return this._active}}),Object.defineProperty(N.Gamepad.prototype,"supported",{get:function(){return this._gamepadSupportAvailable}}),Object.defineProperty(N.Gamepad.prototype,"padsConnected",{get:function(){return this._rawPads.length}}),Object.defineProperty(N.Gamepad.prototype,"pad1",{get:function(){return this._gamepads[0]}}),Object.defineProperty(N.Gamepad.prototype,"pad2",{get:function(){return this._gamepads[1]}}),Object.defineProperty(N.Gamepad.prototype,"pad3",{get:function(){return this._gamepads[2]}}),Object.defineProperty(N.Gamepad.prototype,"pad4",{get:function(){return this._gamepads[3]}}),N.Gamepad.BUTTON_0=0,N.Gamepad.BUTTON_1=1,N.Gamepad.BUTTON_2=2,N.Gamepad.BUTTON_3=3,N.Gamepad.BUTTON_4=4,N.Gamepad.BUTTON_5=5,N.Gamepad.BUTTON_6=6,N.Gamepad.BUTTON_7=7,N.Gamepad.BUTTON_8=8,N.Gamepad.BUTTON_9=9,N.Gamepad.BUTTON_10=10,N.Gamepad.BUTTON_11=11,N.Gamepad.BUTTON_12=12,N.Gamepad.BUTTON_13=13,N.Gamepad.BUTTON_14=14,N.Gamepad.BUTTON_15=15,N.Gamepad.AXIS_0=0,N.Gamepad.AXIS_1=1,N.Gamepad.AXIS_2=2,N.Gamepad.AXIS_3=3,N.Gamepad.AXIS_4=4,N.Gamepad.AXIS_5=5,N.Gamepad.AXIS_6=6,N.Gamepad.AXIS_7=7,N.Gamepad.AXIS_8=8,N.Gamepad.AXIS_9=9,N.Gamepad.XBOX360_A=0,N.Gamepad.XBOX360_B=1,N.Gamepad.XBOX360_X=2,N.Gamepad.XBOX360_Y=3,N.Gamepad.XBOX360_LEFT_BUMPER=4,N.Gamepad.XBOX360_RIGHT_BUMPER=5,N.Gamepad.XBOX360_LEFT_TRIGGER=6,N.Gamepad.XBOX360_RIGHT_TRIGGER=7,N.Gamepad.XBOX360_BACK=8,N.Gamepad.XBOX360_START=9,N.Gamepad.XBOX360_STICK_LEFT_BUTTON=10,N.Gamepad.XBOX360_STICK_RIGHT_BUTTON=11,N.Gamepad.XBOX360_DPAD_LEFT=14,N.Gamepad.XBOX360_DPAD_RIGHT=15,N.Gamepad.XBOX360_DPAD_UP=12,N.Gamepad.XBOX360_DPAD_DOWN=13,N.Gamepad.XBOX360_STICK_LEFT_X=0,N.Gamepad.XBOX360_STICK_LEFT_Y=1,N.Gamepad.XBOX360_STICK_RIGHT_X=2,N.Gamepad.XBOX360_STICK_RIGHT_Y=3,N.Gamepad.PS3XC_X=0,N.Gamepad.PS3XC_CIRCLE=1,N.Gamepad.PS3XC_SQUARE=2,N.Gamepad.PS3XC_TRIANGLE=3,N.Gamepad.PS3XC_L1=4,N.Gamepad.PS3XC_R1=5,N.Gamepad.PS3XC_L2=6,N.Gamepad.PS3XC_R2=7,N.Gamepad.PS3XC_SELECT=8,N.Gamepad.PS3XC_START=9,N.Gamepad.PS3XC_STICK_LEFT_BUTTON=10,N.Gamepad.PS3XC_STICK_RIGHT_BUTTON=11,N.Gamepad.PS3XC_DPAD_UP=12,N.Gamepad.PS3XC_DPAD_DOWN=13,N.Gamepad.PS3XC_DPAD_LEFT=14,N.Gamepad.PS3XC_DPAD_RIGHT=15,N.Gamepad.PS3XC_STICK_LEFT_X=0,N.Gamepad.PS3XC_STICK_LEFT_Y=1,N.Gamepad.PS3XC_STICK_RIGHT_X=2,N.Gamepad.PS3XC_STICK_RIGHT_Y=3,N.SinglePad=function(t,e){this.game=t,this.index=null,this.connected=!1,(this.callbackContext=this).onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this.deadZone=.26,this._padParent=e,this._rawPad=null,this._prevTimestamp=null,this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0},N.SinglePad.prototype={addCallbacks:function(t,e){void 0!==e&&(this.onConnectCallback="function"==typeof e.onConnect?e.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof e.onDisconnect?e.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof e.onDown?e.onDown:this.onDownCallback,this.onUpCallback="function"==typeof e.onUp?e.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof e.onAxis?e.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof e.onFloat?e.onFloat:this.onFloatCallback,this.callbackContext=t)},getButton:function(t){return this._buttons[t]||null},pollStatus:function(){if(this.connected&&this.game.input.enabled&&this.game.input.gamepad.enabled&&this._rawPad&&(!this._rawPad.timestamp||this._rawPad.timestamp!==this._prevTimestamp)){for(var t=0;t<this._buttonsLen;t++){var e=isNaN(this._rawPad.buttons[t])?this._rawPad.buttons[t].value:this._rawPad.buttons[t];e!==this._buttons[t].value&&(1===e?this.processButtonDown(t,e):0===e?this.processButtonUp(t,e):this.processButtonFloat(t,e))}for(var i=0;i<this._axesLen;i++){var s=this._rawPad.axes[i];0<s&&s>this.deadZone||s<0&&s<-this.deadZone?this.processAxisChange(i,s):this.processAxisChange(i,0)}this._prevTimestamp=this._rawPad.timestamp}},connect:function(t){var e=!this.connected;this.connected=!0,this.index=t.index,this._rawPad=t,this._buttons=[],this._buttonsLen=t.buttons.length,this._axes=[],this._axesLen=t.axes.length;for(var i,s=0;s<this._axesLen;s++)this._axes[s]=t.axes[s];for(i in t.buttons)i=parseInt(i,10),this._buttons[i]=new N.DeviceButton(this,i);e&&this._padParent.onConnectCallback&&this._padParent.onConnectCallback.call(this._padParent.callbackContext,this.index),e&&this.onConnectCallback&&this.onConnectCallback.call(this.callbackContext)},disconnect:function(){var t=this.connected,e=this.index;this.connected=!1,this.index=null,this._rawPad=void 0;for(var i=0;i<this._buttonsLen;i++)this._buttons[i].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,t&&this._padParent.onDisconnectCallback&&this._padParent.onDisconnectCallback.call(this._padParent.callbackContext,e),t&&this.onDisconnectCallback&&this.onDisconnectCallback.call(this.callbackContext)},destroy:function(){this._rawPad=void 0;for(var t=0;t<this._buttonsLen;t++)this._buttons[t].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null},processAxisChange:function(t,e){this._axes[t]!==e&&(this._axes[t]=e,this._padParent.onAxisCallback&&this._padParent.onAxisCallback.call(this._padParent.callbackContext,this,t,e),this.onAxisCallback)&&this.onAxisCallback.call(this.callbackContext,this,t,e)},processButtonDown:function(t,e){this._buttons[t]&&this._buttons[t].start(null,e),this._padParent.onDownCallback&&this._padParent.onDownCallback.call(this._padParent.callbackContext,t,e,this.index),this.onDownCallback&&this.onDownCallback.call(this.callbackContext,t,e)},processButtonUp:function(t,e){this._padParent.onUpCallback&&this._padParent.onUpCallback.call(this._padParent.callbackContext,t,e,this.index),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,t,e),this._buttons[t]&&this._buttons[t].stop(null,e)},processButtonFloat:function(t,e){this._padParent.onFloatCallback&&this._padParent.onFloatCallback.call(this._padParent.callbackContext,t,e,this.index),this.onFloatCallback&&this.onFloatCallback.call(this.callbackContext,t,e),this._buttons[t]&&this._buttons[t].padFloat(e)},axis:function(t){return!!this._axes[t]&&this._axes[t]},isDown:function(t){return!!this._buttons[t]&&this._buttons[t].isDown},isUp:function(t){return!!this._buttons[t]&&this._buttons[t].isUp},justReleased:function(t,e){if(this._buttons[t])return this._buttons[t].justReleased(e)},justPressed:function(t,e){if(this._buttons[t])return this._buttons[t].justPressed(e)},buttonValue:function(t){return this._buttons[t]?this._buttons[t].value:null},reset:function(){for(var t=0;t<this._axes.length;t++)this._axes[t]=0}},N.SinglePad.prototype.constructor=N.SinglePad,N.Key=function(t,e){this.game=t,this._enabled=!0,this.event=null,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.timeDown=0,this.duration=0,this.timeUp=-2500,this.durationUp=-2500,this.repeats=0,this.keyCode=e,this.onDown=new N.Signal,this.onHoldCallback=null,this.onHoldContext=null,this.onUp=new N.Signal,this._justDown=!1,this._justUp=!1},N.Key.prototype={update:function(){this._enabled&&(this.isDown?(this.duration=this.game.time.time-this.timeDown,this.repeats++,this.onHoldCallback&&this.onHoldCallback.call(this.onHoldContext,this)):this.durationUp=this.game.time.time-this.timeUp)},processKeyDown:function(t){this._enabled&&(this.event=t,this.isDown||(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.duration=0,this.durationUp=this.game.time.time-this.timeUp,this.repeats=0,this._justDown=!0,this.onDown.dispatch(this)))},processKeyUp:function(t){this._enabled&&(this.event=t,this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=this.game.time.time-this.timeDown,this.durationUp=0,this._justUp=!0,this.onUp.dispatch(this)))},reset:function(t){void 0===t&&(t=!0),this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=0,this.durationUp=-2500,this._enabled=!0,this._justDown=!1,this._justUp=!1,t&&(this.onDown.removeAll(),this.onUp.removeAll(),this.onHoldCallback=null,this.onHoldContext=null)},downDuration:function(t){return void 0===t&&(t=50),this.isDown&&this.duration<t},upDuration:function(t){return void 0===t&&(t=50),!this.isDown&&this.game.time.time-this.timeUp<t},justPressed:function(){return this.isDown&&0===this.duration},justReleased:function(){return!this.isDown&&0===this.durationUp}},Object.defineProperty(N.Key.prototype,"justDown",{get:function(){var t=this._justDown;return this._justDown=!1,t}}),Object.defineProperty(N.Key.prototype,"justUp",{get:function(){var t=this._justUp;return this._justUp=!1,t}}),Object.defineProperty(N.Key.prototype,"enabled",{get:function(){return this._enabled},set:function(t){(t=!!t)!==this._enabled&&(t||this.reset(!1),this._enabled=t)}}),N.Key.prototype.constructor=N.Key,N.Keyboard=function(t){this.game=t,this.active=!1,this.enabled=!0,this.event=null,this.pressEvent=null,(this.callbackContext=this).onDownCallback=null,this.onPressCallback=null,this.onUpCallback=null,this._keys=[],this._capture=[],this._onKeyDown=null,this._onKeyPress=null,this._onKeyUp=null,this._i=0,this._k=0},N.Keyboard.prototype={addCallbacks:function(t,e,i,s){this.callbackContext=t,null!=e&&(this.onDownCallback=e),null!=i&&(this.onUpCallback=i),null!=s&&(this.onPressCallback=s)},removeCallbacks:function(){(this.callbackContext=this).onDownCallback=null,this.onUpCallback=null,this.onPressCallback=null},addKey:function(t){return this._keys[t]||(this._keys[t]=new N.Key(this.game,t),this.addKeyCapture(t)),this._keys[t]},addKeys:function(t){var e,i={};for(e in t)i[e]=this.addKey(t[e]);return i},removeKey:function(t){this._keys[t]&&(this._keys[t]=null,this.removeKeyCapture(t))},createCursorKeys:function(){return this.addKeys({up:N.KeyCode.UP,down:N.KeyCode.DOWN,left:N.KeyCode.LEFT,right:N.KeyCode.RIGHT})},start:function(){var e;return!this.game.device.cocoonJS&&!this.active&&((e=this)._onKeyDown=function(t){return e.processKeyDown(t)},this._onKeyUp=function(t){return e.processKeyUp(t)},this._onKeyPress=function(t){return e.processKeyPress(t)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1),window.addEventListener("keypress",this._onKeyPress,!1),this.active=!0)},stop:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("keypress",this._onKeyPress),this._onKeyDown=null,this._onKeyUp=null,this._onKeyPress=null,this.active=!1},destroy:function(){this.stop(),this.clearCaptures(),this._keys.length=0,this._i=0},addKeyCapture:function(t){if("object"==typeof t)for(var e in t)this._capture[t[e]]=!0;else this._capture[t]=!0},removeKeyCapture:function(t){delete this._capture[t]},clearCaptures:function(){this._capture={}},update:function(){for(this._i=this._keys.length;this._i--;)this._keys[this._i]&&this._keys[this._i].update()},processKeyDown:function(t){var e;this.event=t,this.game.input.enabled&&this.enabled&&(e=t.keyCode,this._capture[e]&&t.preventDefault(),this._keys[e]||(this._keys[e]=new N.Key(this.game,e)),this._keys[e].processKeyDown(t),this._k=e,this.onDownCallback)&&this.onDownCallback.call(this.callbackContext,t)},processKeyPress:function(t){this.pressEvent=t,this.game.input.enabled&&this.enabled&&this.onPressCallback&&this.onPressCallback.call(this.callbackContext,String.fromCharCode(t.charCode),t)},processKeyUp:function(t){var e;this.event=t,this.game.input.enabled&&this.enabled&&(e=t.keyCode,this._capture[e]&&t.preventDefault(),this._keys[e]||(this._keys[e]=new N.Key(this.game,e)),this._keys[e].processKeyUp(t),this.onUpCallback)&&this.onUpCallback.call(this.callbackContext,t)},reset:function(t){void 0===t&&(t=!0),this.event=null;for(var e=this._keys.length;e--;)this._keys[e]&&this._keys[e].reset(t)},downDuration:function(t,e){return this._keys[t]?this._keys[t].downDuration(e):null},upDuration:function(t,e){return this._keys[t]?this._keys[t].upDuration(e):null},justPressed:function(t){return this._keys[t]?this._keys[t].justPressed():null},justReleased:function(t){return this._keys[t]?this._keys[t].justReleased():null},isDown:function(t){return this._keys[t]?this._keys[t].isDown:null}},Object.defineProperty(N.Keyboard.prototype,"lastChar",{get:function(){return this.event&&32===this.event.charCode?"":this.pressEvent?String.fromCharCode(this.pressEvent.charCode):null}}),Object.defineProperty(N.Keyboard.prototype,"lastKey",{get:function(){return this._keys[this._k]}}),N.Keyboard.prototype.constructor=N.Keyboard,N.KeyCode={A:"A".charCodeAt(0),B:"B".charCodeAt(0),C:"C".charCodeAt(0),D:"D".charCodeAt(0),E:"E".charCodeAt(0),F:"F".charCodeAt(0),G:"G".charCodeAt(0),H:"H".charCodeAt(0),I:"I".charCodeAt(0),J:"J".charCodeAt(0),K:"K".charCodeAt(0),L:"L".charCodeAt(0),M:"M".charCodeAt(0),N:"N".charCodeAt(0),O:"O".charCodeAt(0),P:"P".charCodeAt(0),Q:"Q".charCodeAt(0),R:"R".charCodeAt(0),S:"S".charCodeAt(0),T:"T".charCodeAt(0),U:"U".charCodeAt(0),V:"V".charCodeAt(0),W:"W".charCodeAt(0),X:"X".charCodeAt(0),Y:"Y".charCodeAt(0),Z:"Z".charCodeAt(0),ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0),FOUR:"4".charCodeAt(0),FIVE:"5".charCodeAt(0),SIX:"6".charCodeAt(0),SEVEN:"7".charCodeAt(0),EIGHT:"8".charCodeAt(0),NINE:"9".charCodeAt(0),NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,COMMA:188,UNDERSCORE:189,PERIOD:190,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS:43,MINUS:44,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144},N.KeyCode)N.KeyCode.hasOwnProperty(e)&&!e.match(/[a-z]/)&&(N.Keyboard[e]=N.KeyCode[e]);for(i in N.Component=function(){},N.Component.Angle=function(){},N.Component.Angle.prototype={angle:{get:function(){return N.Math.wrapAngle(N.Math.radToDeg(this.rotation))},set:function(t){this.rotation=N.Math.degToRad(N.Math.wrapAngle(t))}}},N.Component.Animation=function(){},N.Component.Animation.prototype={play:function(t,e,i,s){if(this.animations)return this.animations.play(t,e,i,s)}},N.Component.AutoCull=function(){},N.Component.AutoCull.prototype={autoCull:!1,inCamera:{get:function(){return this.autoCull||this.checkWorldBounds||(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y),this.game.world.camera.view.intersects(this._bounds)}}},N.Component.Bounds=function(){},N.Component.Bounds.prototype={offsetX:{get:function(){return this.anchor.x*this.width}},offsetY:{get:function(){return this.anchor.y*this.height}},centerX:{get:function(){return this.x-this.offsetX+.5*this.width},set:function(t){this.x=t+this.offsetX-.5*this.width}},centerY:{get:function(){return this.y-this.offsetY+.5*this.height},set:function(t){this.y=t+this.offsetY-.5*this.height}},left:{get:function(){return this.x-this.offsetX},set:function(t){this.x=t+this.offsetX}},right:{get:function(){return this.x+this.width-this.offsetX},set:function(t){this.x=t-this.width+this.offsetX}},top:{get:function(){return this.y-this.offsetY},set:function(t){this.y=t+this.offsetY}},bottom:{get:function(){return this.y+this.height-this.offsetY},set:function(t){this.y=t-this.height+this.offsetY}},alignIn:function(t,e,i,s){switch(void 0===i&&(i=0),void 0===s&&(s=0),e){default:case N.TOP_LEFT:this.left=t.left-i,this.top=t.top-s;break;case N.TOP_CENTER:this.centerX=t.centerX+i,this.top=t.top-s;break;case N.TOP_RIGHT:this.right=t.right+i,this.top=t.top-s;break;case N.LEFT_CENTER:this.left=t.left-i,this.centerY=t.centerY+s;break;case N.CENTER:this.centerX=t.centerX+i,this.centerY=t.centerY+s;break;case N.RIGHT_CENTER:this.right=t.right+i,this.centerY=t.centerY+s;break;case N.BOTTOM_LEFT:this.left=t.left-i,this.bottom=t.bottom+s;break;case N.BOTTOM_CENTER:this.centerX=t.centerX+i,this.bottom=t.bottom+s;break;case N.BOTTOM_RIGHT:this.right=t.right+i,this.bottom=t.bottom+s}return this},alignTo:function(t,e,i,s){switch(void 0===i&&(i=0),void 0===s&&(s=0),e){default:case N.TOP_LEFT:this.left=t.left-i,this.bottom=t.top-s;break;case N.TOP_CENTER:this.centerX=t.centerX+i,this.bottom=t.top-s;break;case N.TOP_RIGHT:this.right=t.right+i,this.bottom=t.top-s;break;case N.LEFT_TOP:this.right=t.left-i,this.top=t.top-s;break;case N.LEFT_CENTER:this.right=t.left-i,this.centerY=t.centerY+s;break;case N.LEFT_BOTTOM:this.right=t.left-i,this.bottom=t.bottom+s;break;case N.RIGHT_TOP:this.left=t.right+i,this.top=t.top-s;break;case N.RIGHT_CENTER:this.left=t.right+i,this.centerY=t.centerY+s;break;case N.RIGHT_BOTTOM:this.left=t.right+i,this.bottom=t.bottom+s;break;case N.BOTTOM_LEFT:this.left=t.left-i,this.top=t.bottom+s;break;case N.BOTTOM_CENTER:this.centerX=t.centerX+i,this.top=t.bottom+s;break;case N.BOTTOM_RIGHT:this.right=t.right+i,this.top=t.bottom+s}return this}},N.Group.prototype.alignIn=N.Component.Bounds.prototype.alignIn,N.Group.prototype.alignTo=N.Component.Bounds.prototype.alignTo,N.Component.BringToTop=function(){},N.Component.BringToTop.prototype.bringToTop=function(){return this.parent&&this.parent.bringChildToTop&&this.parent.bringChildToTop(this),this},N.Component.BringToTop.prototype.sendToBack=function(){return this.parent&&this.parent.sendChildToBack&&this.parent.sendChildToBack(this),this},N.Component.BringToTop.prototype.moveUp=function(){return this.parent&&this.parent.moveUp(this),this},N.Component.BringToTop.prototype.moveDown=function(){return this.parent&&this.parent.moveDown(this),this},N.Component.Core=function(){},N.Component.Core.install=function(t){N.Utils.mixinPrototype(this,N.Component.Core.prototype),this.components={};for(var e=0;e<t.length;e++){var i=t[e],s="Destroy"===i?!0:!1;N.Utils.mixinPrototype(this,N.Component[i].prototype,s),this.components[i]=!0}},N.Component.Core.init=function(t,e,i,s,n){this.game=t,this.key=s,this.data={},this.position.set(e,i),this.world=new N.Point(e,i),this.previousPosition=new N.Point(e,i),this.events=new N.Events(this),this._bounds=new N.Rectangle,this.components.PhysicsBody&&(this.body=this.body),this.components.Animation&&(this.animations=new N.AnimationManager(this)),this.components.LoadTexture&&null!==s&&this.loadTexture(s,n),this.components.FixedToCamera&&(this.cameraOffset=new N.Point(e,i))},N.Component.Core.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,this.exists&&this.parent.exists?(this.world.setTo(this.game.camera.x+this.worldTransform.tx,this.game.camera.y+this.worldTransform.ty),this.visible&&(this.renderOrderID=this.game.stage.currentRenderOrderID++),this.animations&&this.animations.update(),this.body&&this.body.preUpdate(),this.preUpdateChildren(),!0):!(this.renderOrderID=-1))},N.Component.Core.prototype={game:null,name:"",data:{},components:{},z:0,events:void 0,animations:void 0,key:"",world:null,debug:!1,previousPosition:null,previousRotation:0,renderOrderID:0,fresh:!0,pendingDestroy:!1,_bounds:null,_exists:!0,exists:{get:function(){return this._exists},set:function(t){t?(this._exists=!0,this.body&&this.body.type===N.Physics.P2JS&&this.body.addToWorld(),this.visible=!0):(this._exists=!1,this.body&&this.body.type===N.Physics.P2JS&&this.body.removeFromWorld(),this.visible=!1)}},preUpdateChildren:function(){for(var t=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}},update:function(){},postUpdate:function(){this.customRender&&this.key.render(),this.components.PhysicsBody&&N.Component.PhysicsBody.postUpdate.call(this),this.components.FixedToCamera&&N.Component.FixedToCamera.postUpdate.call(this);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()}},N.Component.Crop=function(){},N.Component.Crop.prototype={cropRect:null,_crop:null,crop:function(t,e){void 0===e&&(e=!1),t?(e&&null!==this.cropRect?this.cropRect.setTo(t.x,t.y,t.width,t.height):e&&null===this.cropRect?this.cropRect=new N.Rectangle(t.x,t.y,t.width,t.height):this.cropRect=t,this.updateCrop()):(this._crop=null,this.cropRect=null,this.resetFrame())},updateCrop:function(){var t,e,i,s,n,o,r,a;this.cropRect&&(t=this.texture.crop.x,e=this.texture.crop.y,i=this.texture.crop.width,s=this.texture.crop.height,this._crop=N.Rectangle.clone(this.cropRect,this._crop),this._crop.x+=this._frame.x,this._crop.y+=this._frame.y,n=Math.max(this._frame.x,this._crop.x),o=Math.max(this._frame.y,this._crop.y),r=Math.min(this._frame.right,this._crop.right)-n,a=Math.min(this._frame.bottom,this._crop.bottom)-o,this.texture.crop.x=n,this.texture.crop.y=o,this.texture.crop.width=r,this.texture.crop.height=a,this.texture.frame.width=Math.min(r,this.cropRect.width),this.texture.frame.height=Math.min(a,this.cropRect.height),this.texture.width=this.texture.frame.width,this.texture.height=this.texture.frame.height,this.texture._updateUvs(),16777215===this.tint||t===n&&e===o&&i===r&&s===a||(this.texture.requiresReTint=!0))}},N.Component.Delta=function(){},N.Component.Delta.prototype={deltaX:{get:function(){return this.world.x-this.previousPosition.x}},deltaY:{get:function(){return this.world.y-this.previousPosition.y}},deltaZ:{get:function(){return this.rotation-this.previousRotation}}},N.Component.Destroy=function(){},N.Component.Destroy.prototype={destroyPhase:!1,destroy:function(t,e){if(null!==this.game&&!this.destroyPhase){void 0===t&&(t=!0),void 0===e&&(e=!1),this.destroyPhase=!0,this.events&&this.events.onDestroy$dispatch(this),this.parent&&(this.parent instanceof N.Group?this.parent.remove(this):this.parent.removeChild(this)),this.input&&this.input.destroy(),this.animations&&this.animations.destroy(),this.body&&this.body.destroy(),this.events&&this.events.destroy(),this.game.tweens.removeFrom(this);var i=this.children.length;if(t)for(;i--;)this.children[i].destroy(t);else for(;i--;)this.removeChild(this.children[i]);this._crop&&(this._crop=null,this.cropRect=null),this._frame&&(this._frame=null),N.Video&&this.key instanceof N.Video&&this.key.onChangeSource.remove(this.resizeFrame,this),N.BitmapText&&this._glyphs&&(this._glyphs=[]),this.alive=!1,this.exists=!1,this.visible=!1,this.filters=null,this.mask=null,this.game=null,this.data={},this.renderable=!1,this.transformCallback&&(this.transformCallback=null,this.transformCallbackContext=null),this.hitArea=null,this.parent=null,this.stage=null,this.worldTransform=null,this.filterArea=null,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite(),this._destroyTintedTexture(),e&&this.texture.destroy(!0),this.destroyPhase=!1,this.pendingDestroy=!1}}},N.Events=function(t){this.parent=t},N.Events.prototype={destroy:function(){this._parent=null,this._onDestroy&&this._onDestroy.dispose(),this._onAddedToGroup&&this._onAddedToGroup.dispose(),this._onRemovedFromGroup&&this._onRemovedFromGroup.dispose(),this._onKilled&&this._onKilled.dispose(),this._onRevived&&this._onRevived.dispose(),this._onEnterBounds&&this._onEnterBounds.dispose(),this._onOutOfBounds&&this._onOutOfBounds.dispose(),this._onInputOver&&this._onInputOver.dispose(),this._onInputOut&&this._onInputOut.dispose(),this._onInputDown&&this._onInputDown.dispose(),this._onInputUp&&this._onInputUp.dispose(),this._onDragStart&&this._onDragStart.dispose(),this._onDragUpdate&&this._onDragUpdate.dispose(),this._onDragStop&&this._onDragStop.dispose(),this._onAnimationStart&&this._onAnimationStart.dispose(),this._onAnimationComplete&&this._onAnimationComplete.dispose(),this._onAnimationLoop&&this._onAnimationLoop.dispose()},onAddedToGroup:null,onRemovedFromGroup:null,onDestroy:null,onKilled:null,onRevived:null,onOutOfBounds:null,onEnterBounds:null,onInputOver:null,onInputOut:null,onInputDown:null,onInputUp:null,onDragStart:null,onDragUpdate:null,onDragStop:null,onAnimationStart:null,onAnimationComplete:null,onAnimationLoop:null},N.Events.prototype.constructor=N.Events,N.Events.prototype)N.Events.prototype.hasOwnProperty(i)&&0===i.indexOf("on")&&null===N.Events.prototype[i]&&function(t,e){Object.defineProperty(N.Events.prototype,t,{get:function(){return this[e]||(this[e]=new N.Signal)}}),N.Events.prototype[t+"$dispatch"]=function(){return this[e]?this[e].dispatch.apply(this[e],arguments):null}}(i,"_"+i);N.Component.FixedToCamera=function(){},N.Component.FixedToCamera.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y)},N.Component.FixedToCamera.prototype={_fixedToCamera:!1,fixedToCamera:{get:function(){return this._fixedToCamera},set:function(t){t?(this._fixedToCamera=!0,this.cameraOffset.set(this.x,this.y)):this._fixedToCamera=!1}},cameraOffset:new N.Point},N.Component.Health=function(){},N.Component.Health.prototype={health:1,maxHealth:100,damage:function(t){return this.alive&&(this.health-=t,this.health<=0)&&this.kill(),this},setHealth:function(t){return this.health=t,this.health>this.maxHealth&&(this.health=this.maxHealth),this},heal:function(t){return this.alive&&(this.health+=t,this.health>this.maxHealth)&&(this.health=this.maxHealth),this}},N.Component.InCamera=function(){},N.Component.InCamera.prototype={inCamera:{get:function(){return this.game.world.camera.view.intersects(this._bounds)}}},N.Component.InputEnabled=function(){},N.Component.InputEnabled.prototype={input:null,inputEnabled:{get:function(){return this.input&&this.input.enabled},set:function(t){t?null===this.input?(this.input=new N.InputHandler(this),this.input.start()):this.input&&!this.input.enabled&&this.input.start():this.input&&this.input.enabled&&this.input.stop()}}},N.Component.InWorld=function(){},N.Component.InWorld.preUpdate=function(){if(this.pendingDestroy)return this.destroy(),!1;if(this.autoCull||this.checkWorldBounds){if(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y,this.autoCull)if(this.game.world.camera.view.intersects(this._bounds))this.renderable=!0,this.game.world.camera.totalInView++;else if(this.renderable=!1,this.outOfCameraBoundsKill)return this.kill(),!1;if(this.checkWorldBounds)if(this._outOfBoundsFired&&this.game.world.bounds.intersects(this._bounds))this._outOfBoundsFired=!1,this.events.onEnterBounds$dispatch(this);else if(!this._outOfBoundsFired&&!this.game.world.bounds.intersects(this._bounds)&&(this._outOfBoundsFired=!0,this.events.onOutOfBounds$dispatch(this),this.outOfBoundsKill))return this.kill(),!1}return!0},N.Component.InWorld.prototype={checkWorldBounds:!1,outOfBoundsKill:!1,outOfCameraBoundsKill:!1,_outOfBoundsFired:!1,inWorld:{get:function(){return this.game.world.bounds.intersects(this.getBounds())}}},N.Component.LifeSpan=function(){},N.Component.LifeSpan.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):!(0<this.lifespan&&(this.lifespan-=this.game.time.delta,this.lifespan<=0)&&(this.kill(),1))},N.Component.LifeSpan.prototype={alive:!0,lifespan:0,revive:function(t){return void 0===t&&(t=100),this.alive=!0,this.exists=!0,this.visible=!0,"function"==typeof this.setHealth&&this.setHealth(t),this.events&&this.events.onRevived$dispatch(this),this},kill:function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.events&&this.events.onKilled$dispatch(this),this}},N.Component.LoadTexture=function(){},N.Component.LoadTexture.prototype={customRender:!1,_frame:null,loadTexture:function(t,e,i){e=t===N.PENDING_ATLAS?(t=e,0):e||0,(i||void 0===i)&&this.animations&&this.animations.stop(),this.key=t,this.customRender=!1;var s,i=this.game.cache,n=!0,o=this.texture.baseTexture.scaleMode===PIXI.scaleModes.LINEAR;N.RenderTexture&&t instanceof N.RenderTexture?(this.key=t.key,this.setTexture(t)):N.BitmapData&&t instanceof N.BitmapData?(this.customRender=!0,this.setTexture(t.texture),n=i.hasFrameData(t.key,N.Cache.BITMAPDATA)?!this.animations.loadFrameData(i.getFrameData(t.key,N.Cache.BITMAPDATA),e):!this.animations.loadFrameData(t.frameData,0)):N.Video&&t instanceof N.Video?(this.customRender=!0,s=t.texture.valid,this.setTexture(t.texture),this.setFrame(t.texture.frame.clone()),t.onChangeSource.add(this.resizeFrame,this),this.texture.valid=s):N.Tilemap&&t instanceof N.TilemapLayer?this.setTexture(PIXI.Texture.fromCanvas(t.canvas)):t instanceof PIXI.Texture?(o=t.baseTexture.scaleMode===PIXI.scaleModes.LINEAR,this.setTexture(t)):(s=i.getImage(t,!0),this.key=s.key,this.setTexture(new PIXI.Texture(s.base)),this.texture.baseTexture.skipRender="__default"===t,n=!this.animations.loadFrameData(s.frameData,e)),n&&(this._frame=N.Rectangle.clone(this.texture.frame)),o||(this.texture.baseTexture.scaleMode=1)},setFrame:function(t){this._frame=t,this.texture.frame.x=t.x,this.texture.frame.y=t.y,this.texture.frame.width=t.width,this.texture.frame.height=t.height,this.texture.crop.x=t.x,this.texture.crop.y=t.y,this.texture.crop.width=t.width,this.texture.crop.height=t.height,t.trimmed?(this.texture.trim?(this.texture.trim.x=t.spriteSourceSizeX,this.texture.trim.y=t.spriteSourceSizeY,this.texture.trim.width=t.sourceSizeW,this.texture.trim.height=t.sourceSizeH):this.texture.trim={x:t.spriteSourceSizeX,y:t.spriteSourceSizeY,width:t.sourceSizeW,height:t.sourceSizeH},this.texture.width=t.sourceSizeW,this.texture.height=t.sourceSizeH,this.texture.frame.width=t.sourceSizeW,this.texture.frame.height=t.sourceSizeH):!t.trimmed&&this.texture.trim&&(this.texture.trim=null),t.rotated&&(this.texture.rotated=!0),this.cropRect&&this.updateCrop(),this.texture.requiresReTint=!0,this.texture._updateUvs(),this.tilingTexture&&(this.refreshTexture=!0)},resizeFrame:function(t,e,i){this.texture.frame.resize(e,i),this.texture.setFrame(this.texture.frame)},resetFrame:function(){this._frame&&this.setFrame(this._frame)},frame:{get:function(){return this.animations.frame},set:function(t){this.animations.frame=t}},frameName:{get:function(){return this.animations.frameName},set:function(t){this.animations.frameName=t}}},N.Component.Overlap=function(){},N.Component.Overlap.prototype={overlap:function(t){return N.Rectangle.intersects(this.getBounds(),t.getBounds())}},N.Component.PhysicsBody=function(){},N.Component.PhysicsBody.preUpdate=function(){return this.pendingDestroy?(this.destroy(),!1):this.fresh&&this.exists?(this.world.setTo(this.parent.position.x+this.position.x,this.parent.position.y+this.position.y),this.worldTransform.tx=this.world.x,this.worldTransform.ty=this.world.y,this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,this.body&&this.body.preUpdate(),this.fresh=!1,this.preUpdateChildren(),!1):(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,!(!this._exists||!this.parent.exists)||!(this.renderOrderID=-1))},N.Component.PhysicsBody.postUpdate=function(){this.exists&&this.body&&this.body.postUpdate()},N.Component.PhysicsBody.prototype={body:null,x:{get:function(){return this.position.x},set:function(t){this.position.x=t,this.body&&!this.body.dirty&&(this.body._reset=!0)}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t,this.body&&!this.body.dirty&&(this.body._reset=!0)}}},N.Component.Reset=function(){},N.Component.Reset.prototype.reset=function(t,e,i){return void 0===i&&(i=1),this.world.set(t,e),this.position.set(t,e),this.fresh=!0,this.exists=!0,this.visible=!0,this.renderable=!0,this.components.InWorld&&(this._outOfBoundsFired=!1),this.components.LifeSpan&&(this.alive=!0,this.health=i),this.components.PhysicsBody&&this.body&&this.body.reset(t,e,!1,!1),this},N.Component.ScaleMinMax=function(){},N.Component.ScaleMinMax.prototype={transformCallback:null,transformCallbackContext:this,scaleMin:null,scaleMax:null,checkTransform:function(t){this.scaleMin&&(t.a<this.scaleMin.x&&(t.a=this.scaleMin.x),t.d<this.scaleMin.y)&&(t.d=this.scaleMin.y),this.scaleMax&&(t.a>this.scaleMax.x&&(t.a=this.scaleMax.x),t.d>this.scaleMax.y)&&(t.d=this.scaleMax.y)},setScaleMinMax:function(t,e,i,s){void 0===e?e=i=s=t:void 0===i&&(i=s=e,e=t),null===t?this.scaleMin=null:this.scaleMin?this.scaleMin.set(t,e):this.scaleMin=new N.Point(t,e),null===i?this.scaleMax=null:this.scaleMax?this.scaleMax.set(i,s):this.scaleMax=new N.Point(i,s),null===this.scaleMin?this.transformCallback=null:(this.transformCallback=this.checkTransform,this.transformCallbackContext=this)}},N.Component.Smoothed=function(){},N.Component.Smoothed.prototype={smoothed:{get:function(){return!this.texture.baseTexture.scaleMode},set:function(t){t?this.texture&&0!==this.texture.baseTexture.scaleMode&&(this.texture.baseTexture.scaleMode=0,this.texture.baseTexture.dirty()):this.texture&&1!==this.texture.baseTexture.scaleMode&&(this.texture.baseTexture.scaleMode=1,this.texture.baseTexture.dirty())}}},N.GameObjectFactory=function(t){this.game=t,this.world=this.game.world},N.GameObjectFactory.prototype={existing:function(t){return this.world.add(t)},weapon:function(t,e,i,s,n){var o=this.game.plugins.add(N.Weapon);return n&&(o.bulletClass=n),o.createBullets(t,e,i,s),o},image:function(t,e,i,s,n){return(n=void 0===n?this.world:n).add(new N.Image(this.game,t,e,i,s))},sprite:function(t,e,i,s,n){return(n=void 0===n?this.world:n).add(new N.Sprite(this.game,t,e,i,s))},creature:function(t,e,i,s,n,o,r){void 0===n&&(n=this.world);t=new N.Creature(this.game,t,e,i,s,o,r);return n.add(t),t},tween:function(t){return this.game.tweens.create(t)},group:function(t,e,i,s,n){return new N.Group(this.game,t,e,i,s,n)},physicsGroup:function(t,e,i,s){return new N.Group(this.game,e,i,s,!0,t)},spriteBatch:function(t,e,i){return new N.SpriteBatch(this.game,t=void 0===t?null:t,e=void 0===e?"group":e,i=void 0===i?!1:i)},audio:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},sound:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},audioSprite:function(t){return this.game.sound.addSprite(t)},tileSprite:function(t,e,i,s,n,o,r){return(r=void 0===r?this.world:r).add(new N.TileSprite(this.game,t,e,i,s,n,o))},rope:function(t,e,i,s,n,o){return(o=void 0===o?this.world:o).add(new N.Rope(this.game,t,e,i,s,n))},text:function(t,e,i,s,n){return(n=void 0===n?this.world:n).add(new N.Text(this.game,t,e,i,s))},button:function(t,e,i,s,n,o,r,a,h,l){return(l=void 0===l?this.world:l).add(new N.Button(this.game,t,e,i,s,n,o,r,a,h))},graphics:function(t,e,i){return(i=void 0===i?this.world:i).add(new N.Graphics(this.game,t,e))},emitter:function(t,e,i){return this.game.particles.add(new N.Particles.Arcade.Emitter(this.game,t,e,i))},retroFont:function(t,e,i,s,n,o,r,a,h){return new N.RetroFont(this.game,t,e,i,s,n,o,r,a,h)},bitmapText:function(t,e,i,s,n,o){return(o=void 0===o?this.world:o).add(new N.BitmapText(this.game,t,e,i,s,n))},tilemap:function(t,e,i,s,n){return new N.Tilemap(this.game,t,e,i,s,n)},renderTexture:function(t,e,i,s){void 0!==i&&""!==i||(i=this.game.rnd.uuid()),void 0===s&&(s=!1);t=new N.RenderTexture(this.game,t,e,i);return s&&this.game.cache.addRenderTexture(i,t),t},video:function(t,e){return new N.Video(this.game,t,e)},bitmapData:function(t,e,i,s){void 0===s&&(s=!1),void 0!==i&&""!==i||(i=this.game.rnd.uuid());t=new N.BitmapData(this.game,i,t,e);return s&&this.game.cache.addBitmapData(i,t),t},filter:function(t){var e=Array.prototype.slice.call(arguments,1);return(t=new N.Filter[t](this.game)).init.apply(t,e),t},plugin:function(){return this.game.plugins.add.apply(this.game.plugins,arguments)}},N.GameObjectFactory.prototype.constructor=N.GameObjectFactory,N.GameObjectCreator=function(t){this.game=t,this.world=this.game.world},N.GameObjectCreator.prototype={image:function(t,e,i,s){return new N.Image(this.game,t,e,i,s)},sprite:function(t,e,i,s){return new N.Sprite(this.game,t,e,i,s)},tween:function(t){return new N.Tween(t,this.game,this.game.tweens)},group:function(t,e,i,s,n){return new N.Group(this.game,t||null,e,i,s,n)},spriteBatch:function(t,e,i){return new N.SpriteBatch(this.game,t,e=void 0===e?"group":e,i=void 0===i?!1:i)},audio:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},audioSprite:function(t){return this.game.sound.addSprite(t)},sound:function(t,e,i,s){return this.game.sound.add(t,e,i,s)},tileSprite:function(t,e,i,s,n,o){return new N.TileSprite(this.game,t,e,i,s,n,o)},rope:function(t,e,i,s,n){return new N.Rope(this.game,t,e,i,s,n)},text:function(t,e,i,s){return new N.Text(this.game,t,e,i,s)},button:function(t,e,i,s,n,o,r,a,h){return new N.Button(this.game,t,e,i,s,n,o,r,a,h)},graphics:function(t,e){return new N.Graphics(this.game,t,e)},emitter:function(t,e,i){return new N.Particles.Arcade.Emitter(this.game,t,e,i)},retroFont:function(t,e,i,s,n,o,r,a,h){return new N.RetroFont(this.game,t,e,i,s,n,o,r,a,h)},bitmapText:function(t,e,i,s,n,o){return new N.BitmapText(this.game,t,e,i,s,n,o)},tilemap:function(t,e,i,s,n){return new N.Tilemap(this.game,t,e,i,s,n)},renderTexture:function(t,e,i,s){void 0!==i&&""!==i||(i=this.game.rnd.uuid()),void 0===s&&(s=!1);t=new N.RenderTexture(this.game,t,e,i);return s&&this.game.cache.addRenderTexture(i,t),t},bitmapData:function(t,e,i,s){void 0===s&&(s=!1),void 0!==i&&""!==i||(i=this.game.rnd.uuid());t=new N.BitmapData(this.game,i,t,e);return s&&this.game.cache.addBitmapData(i,t),t},filter:function(t){var e=Array.prototype.slice.call(arguments,1);return(t=new N.Filter[t](this.game)).init.apply(t,e),t}},N.GameObjectCreator.prototype.constructor=N.GameObjectCreator,N.Sprite=function(t,e,i,s,n){e=e||0,i=i||0,s=s||null,n=n||null,this.type=N.SPRITE,this.physicsType=N.SPRITE,PIXI.Sprite.call(this,N.Cache.DEFAULT),N.Component.Core.init.call(this,t,e,i,s,n)},N.Sprite.prototype=Object.create(PIXI.Sprite.prototype),N.Sprite.prototype.constructor=N.Sprite,N.Component.Core.install.call(N.Sprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),N.Sprite.prototype.preUpdatePhysics=N.Component.PhysicsBody.preUpdate,N.Sprite.prototype.preUpdateLifeSpan=N.Component.LifeSpan.preUpdate,N.Sprite.prototype.preUpdateInWorld=N.Component.InWorld.preUpdate,N.Sprite.prototype.preUpdateCore=N.Component.Core.preUpdate,N.Sprite.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},N.Image=function(t,e,i,s,n){e=e||0,i=i||0,s=s||null,n=n||null,this.type=N.IMAGE,PIXI.Sprite.call(this,N.Cache.DEFAULT),N.Component.Core.init.call(this,t,e,i,s,n)},N.Image.prototype=Object.create(PIXI.Sprite.prototype),N.Image.prototype.constructor=N.Image,N.Component.Core.install.call(N.Image.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Destroy","FixedToCamera","InputEnabled","LifeSpan","LoadTexture","Overlap","Reset","ScaleMinMax","Smoothed"]),N.Image.prototype.preUpdateLifeSpan=N.Component.LifeSpan.preUpdate,N.Image.prototype.preUpdateInWorld=N.Component.InWorld.preUpdate,N.Image.prototype.preUpdateCore=N.Component.Core.preUpdate,N.Image.prototype.preUpdate=function(){return!(!this.preUpdateInWorld()||!this.preUpdateLifeSpan())&&this.preUpdateCore()},N.Button=function(t,e,i,s,n,o,r,a,h,l){n=n||null,o=o||this,N.Image.call(this,t,e=e||0,i=i||0,s=s||null,a),this.type=N.BUTTON,this.physicsType=N.SPRITE,this._onOverFrame=null,this._onOutFrame=null,this._onDownFrame=null,this._onUpFrame=null,this.onOverSound=null,this.onOutSound=null,this.onDownSound=null,this.onUpSound=null,this.onOverSoundMarker="",this.onOutSoundMarker="",this.onDownSoundMarker="",this.onUpSoundMarker="",this.onInputOver=new N.Signal,this.onInputOut=new N.Signal,this.onInputDown=new N.Signal,this.onInputUp=new N.Signal,this.onOverMouseOnly=!0,this.justReleasedPreventsOver=N.PointerMode.CONTACT,this.freezeFrames=!1,this.forceOut=!1,this.inputEnabled=!0,this.input.start(0,!0),this.input.useHandCursor=!0,this.setFrames(r,a,h,l),null!==n&&this.onInputUp.add(n,o),this.events.onInputOver.add(this.onInputOverHandler,this),this.events.onInputOut.add(this.onInputOutHandler,this),this.events.onInputDown.add(this.onInputDownHandler,this),this.events.onInputUp.add(this.onInputUpHandler,this)},N.Button.prototype=Object.create(N.Image.prototype),N.Button.prototype.constructor=N.Button;var h="Over",l="Out",c="Down",u="Up";return N.Button.prototype.clearFrames=function(){this.setFrames(null,null,null,null)},N.Button.prototype.setStateFrame=function(t,e,i){var s="_on"+t+"Frame";null!==e?(this[s]=e,i&&this.changeStateFrame(t)):this[s]=null},N.Button.prototype.changeStateFrame=function(t){return!this.freezeFrames&&("string"==typeof(t=this["_on"+t+"Frame"])?(this.frameName=t,!0):"number"==typeof t&&(this.frame=t,!0))},N.Button.prototype.setFrames=function(t,e,i,s){this.setStateFrame(h,t,this.input.pointerOver()),this.setStateFrame(l,e,!this.input.pointerOver()),this.setStateFrame(c,i,this.input.pointerDown()),this.setStateFrame(u,s,this.input.pointerUp())},N.Button.prototype.setStateSound=function(t,e,i){var s="on"+t+"Sound",t="on"+t+"SoundMarker";e instanceof N.Sound||e instanceof N.AudioSprite?(this[s]=e,this[t]="string"==typeof i?i:""):(this[s]=null,this[t]="")},N.Button.prototype.playStateSound=function(t){var e=this["on"+t+"Sound"];return!!e&&(t=this["on"+t+"SoundMarker"],e.play(t),!0)},N.Button.prototype.setSounds=function(t,e,i,s,n,o,r,a){this.setStateSound(h,t,e),this.setStateSound(l,n,o),this.setStateSound(c,i,s),this.setStateSound(u,r,a)},N.Button.prototype.setOverSound=function(t,e){this.setStateSound(h,t,e)},N.Button.prototype.setOutSound=function(t,e){this.setStateSound(l,t,e)},N.Button.prototype.setDownSound=function(t,e){this.setStateSound(c,t,e)},N.Button.prototype.setUpSound=function(t,e){this.setStateSound(u,t,e)},N.Button.prototype.onInputOverHandler=function(t,e){e.justReleased()&&(this.justReleasedPreventsOver&e.pointerMode)===e.pointerMode||(this.changeStateFrame(h),this.onOverMouseOnly&&!e.isMouse)||(this.playStateSound(h),this.onInputOver&&this.onInputOver.dispatch(this,e))},N.Button.prototype.onInputOutHandler=function(t,e){this.changeStateFrame(l),this.playStateSound(l),this.onInputOut&&this.onInputOut.dispatch(this,e)},N.Button.prototype.onInputDownHandler=function(t,e){this.changeStateFrame(c),this.playStateSound(c),this.onInputDown&&this.onInputDown.dispatch(this,e)},N.Button.prototype.onInputUpHandler=function(t,e,i){this.playStateSound(u),this.onInputUp&&this.onInputUp.dispatch(this,e,i),this.freezeFrames||(!0===this.forceOut||(this.forceOut&e.pointerMode)===e.pointerMode?this.changeStateFrame(l):this.changeStateFrame(u)||(i?this.changeStateFrame(h):this.changeStateFrame(l)))},N.SpriteBatch=function(t,e,i,s){null==e&&(e=t.world),N.Group.call(this,t,e,i,s),this.type=N.SPRITEBATCH,this.fastSpriteBatch=null,this.ready=!1},N.SpriteBatch.prototype=Object.create(N.Group.prototype),N.SpriteBatch.prototype.constructor=N.SpriteBatch,N.SpriteBatch.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||!this.children.length||(this.ready||(this.fastSpriteBatch=new PIXI.WebGLFastSpriteBatch(t.gl),this.ready=!0),this.fastSpriteBatch.gl!==t.gl&&this.fastSpriteBatch.setContext(t.gl),t.spriteBatch.stop(),t.shaderManager.setShader(t.shaderManager.fastShader),this.fastSpriteBatch.begin(this,t),this.fastSpriteBatch.render(this),t.spriteBatch.start())},N.SpriteBatch.prototype._renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.children.length){var e=t.context;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var i=this.worldTransform,s=!0,n=0;n<this.children.length;n++){var o,r,a,h,l,c=this.children[n];c.visible&&(r=(o=c.texture).frame,e.globalAlpha=this.worldAlpha*c.alpha,c.rotation%(2*Math.PI)==0?(s&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),s=!1),e.drawImage(o.baseTexture.source,r.x,r.y,r.width,r.height,c.anchor.x*(-r.width*c.scale.x)+c.position.x+.5+t.shakeX|0,c.anchor.y*(-r.height*c.scale.y)+c.position.y+.5+t.shakeY|0,r.width*c.scale.x,r.height*c.scale.y)):(s=s||!0,c.displayObjectUpdateTransform(),h=(a=c.worldTransform).tx*t.resolution+t.shakeX,l=a.ty*t.resolution+t.shakeY,t.roundPixels?e.setTransform(a.a,a.b,a.c,a.d,0|h,0|l):e.setTransform(a.a,a.b,a.c,a.d,h,l),e.drawImage(o.baseTexture.source,r.x,r.y,r.width,r.height,c.anchor.x*-r.width+.5|0,c.anchor.y*-r.height+.5|0,r.width,r.height)))}}},N.BitmapData=function(t,e,i,s,n){void 0!==i&&0!==i||(i=256),void 0!==s&&0!==s||(s=256),void 0===n&&(n=!1),this.game=t,this.key=e,this.width=i,this.height=s,this.canvas=N.Canvas.create(this,i,s,null,n),this.context=this.canvas.getContext("2d",{alpha:!0}),this.ctx=this.context,this.smoothProperty=t.renderType===N.CANVAS?t.renderer.renderSession.smoothProperty:N.Canvas.getSmoothingPrefix(this.context),this.imageData=this.context.getImageData(0,0,i,s),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data),this.baseTexture=new PIXI.BaseTexture(this.canvas,null,this.game.resolution),this.texture=new PIXI.Texture(this.baseTexture),this.frameData=new N.FrameData,this.textureFrame=this.frameData.addFrame(new N.Frame(0,0,0,i,s,"bitmapData")),this.texture.frame=this.textureFrame,this.type=N.BITMAPDATA,this.disableTextureUpload=!1,this.dirty=!1,this.cls=this.clear,this._image=null,this._pos=new N.Point,this._size=new N.Point,this._scale=new N.Point,this._rotate=0,this._alpha={prev:1,current:1},this._anchor=new N.Point,this._tempR=0,this._tempG=0,this._tempB=0,this._circle=new N.Circle,this._swapCanvas=void 0},N.BitmapData.prototype={move:function(t,e,i){return 0!==t&&this.moveH(t,i),0!==e&&this.moveV(e,i),this},moveH:function(t,e){void 0===e&&(e=!0),void 0===this._swapCanvas&&(this._swapCanvas=N.CanvasPool.create(this,this.width,this.height));var i,s=this._swapCanvas.getContext("2d"),n=this.height,o=this.canvas;return s.clearRect(0,0,this.width,this.height),t<0?(t=Math.abs(t),i=this.width-t,e&&s.drawImage(o,0,0,t,n,i,0,t,n),s.drawImage(o,t,0,i,n,0,0,i,n)):(i=this.width-t,e&&s.drawImage(o,i,0,t,n,0,0,t,n),s.drawImage(o,0,0,i,n,t,0,i,n)),this.clear(),this.copy(this._swapCanvas)},moveV:function(t,e){void 0===e&&(e=!0),void 0===this._swapCanvas&&(this._swapCanvas=N.CanvasPool.create(this,this.width,this.height));var i,s=this._swapCanvas.getContext("2d"),n=this.width,o=this.canvas;return s.clearRect(0,0,this.width,this.height),t<0?(t=Math.abs(t),i=this.height-t,e&&s.drawImage(o,0,0,n,t,0,i,n,t),s.drawImage(o,0,t,n,i,0,0,n,i)):(i=this.height-t,e&&s.drawImage(o,0,i,n,t,0,0,n,t),s.drawImage(o,0,0,n,i,0,t,n,i)),this.clear(),this.copy(this._swapCanvas)},add:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e].loadTexture&&t[e].loadTexture(this);else t.loadTexture(this);return this},load:function(t){if(t="string"==typeof t?this.game.cache.getImage(t):t)return this.resize(t.width,t.height),this.cls(),this.draw(t),this.update(),this},clear:function(t,e,i,s){return void 0===i&&(i=this.width),void 0===s&&(s=this.height),this.context.clearRect(t=void 0===t?0:t,e=void 0===e?0:e,i,s),this.dirty=!0,this},fill:function(t,e,i,s){return this.context.fillStyle="rgba("+t+","+e+","+i+","+(s=void 0===s?1:s)+")",this.context.fillRect(0,0,this.width,this.height),this.dirty=!0,this},getBase64:function(t,e){return this.canvas.toDataURL(t,e)},getImage:function(t,e,i,s){var n=new Image;return i&&(n.onload=i),s&&(n.onerror=s),n.src=this.getBase64(t,e),n},generateTexture:function(e,i,s){var t,n=this.game.cache,o=new Image;return i&&(o.onload=function(){var t=n.addImage(e,"",o),t=new PIXI.Texture(t.base);i.call(s||null,t),o.onload=null}),o.src=this.getBase64(),i?null:(t=n.addImage(e,"",o),new PIXI.Texture(t.base))},resize:function(t,e){return t===this.width&&e===this.height||(this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,void 0!==this._swapCanvas&&(this._swapCanvas.width=t,this._swapCanvas.height=e),this.baseTexture.width=t,this.baseTexture.height=e,this.textureFrame.width=t,this.textureFrame.height=e,this.texture.width=t,this.texture.height=e,this.texture.crop.width=t,this.texture.crop.height=e,this.update(),this.dirty=!0),this},update:function(t,e,i,s){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=Math.max(1,this.width)),void 0===s&&(s=Math.max(1,this.height)),this.imageData=this.context.getImageData(t,e,i,s),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this},processPixelRGB:function(t,e,i,s,n,o){for(var r,a=(i=void 0===i?0:i)+(n=void 0===n?this.width:n),h=(s=void 0===s?0:s)+(o=void 0===o?this.height:o),l=N.Color.createColor(),c=!1,u=s;u<h;u++)for(var d=i;d<a;d++)N.Color.unpackPixel(this.getPixel32(d,u),l),!1!==(r=t.call(e,l,d,u))&&null!=r&&(this.setPixel32(d,u,r.r,r.g,r.b,r.a,!1),c=!0);return c&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},processPixel:function(t,e,i,s,n,o){for(var r,a,h=(i=void 0===i?0:i)+(n=void 0===n?this.width:n),l=(s=void 0===s?0:s)+(o=void 0===o?this.height:o),c=!1,u=s;u<l;u++)for(var d=i;d<h;d++)r=this.getPixel32(d,u),(a=t.call(e,r,d,u))!==r&&(this.pixels[u*this.width+d]=a,c=!0);return c&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},replaceRGB:function(t,e,i,s,n,o,r,a,h){var l=0,c=0,u=this.width,d=this.height,p=N.Color.packPixel(t,e,i,s);void 0!==h&&h instanceof N.Rectangle&&(l=h.x,c=h.y,u=h.width,d=h.height);for(var f=0;f<d;f++)for(var g=0;g<u;g++)this.getPixel32(l+g,c+f)===p&&this.setPixel32(l+g,c+f,n,o,r,a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this},setHSL:function(t,e,i,s){var n=t||0===t,o=e||0===e,r=i||0===i;if(n||o||r){void 0===s&&(s=new N.Rectangle(0,0,this.width,this.height));for(var a=N.Color.createColor(),h=s.y;h<s.bottom;h++)for(var l=s.x;l<s.right;l++)N.Color.unpackPixel(this.getPixel32(l,h),a,!0),n&&(a.h=t),o&&(a.s=e),r&&(a.l=i),N.Color.HSLtoRGB(a.h,a.s,a.l,a),this.setPixel32(l,h,a.r,a.g,a.b,a.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},shiftHSL:function(t,e,i,s){if(null==e&&(e=!1),null==i&&(i=!1),(t=null==t?!1:t)||e||i){void 0===s&&(s=new N.Rectangle(0,0,this.width,this.height));for(var n=N.Color.createColor(),o=s.y;o<s.bottom;o++)for(var r=s.x;r<s.right;r++)N.Color.unpackPixel(this.getPixel32(r,o),n,!0),t&&(n.h=this.game.math.wrap(n.h+t,0,1)),e&&(n.s=this.game.math.clamp(n.s+e,0,1)),i&&(n.l=this.game.math.clamp(n.l+i,0,1)),N.Color.HSLtoRGB(n.h,n.s,n.l,n),this.setPixel32(r,o,n.r,n.g,n.b,n.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},setPixel32:function(t,e,i,s,n,o,r){return void 0===r&&(r=!0),0<=t&&t<=this.width&&0<=e&&e<=this.height&&(N.Device.LITTLE_ENDIAN?this.pixels[e*this.width+t]=o<<24|n<<16|s<<8|i:this.pixels[e*this.width+t]=i<<24|s<<16|n<<8|o,r)&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},setPixel:function(t,e,i,s,n,o){return this.setPixel32(t,e,i,s,n,255,o)},getPixel:function(t,e,i){i=i||N.Color.createColor();t=~~(t+e*this.width);return i.r=this.data[t*=4],i.g=this.data[++t],i.b=this.data[++t],i.a=this.data[++t],i},getPixel32:function(t,e){if(0<=t&&t<=this.width&&0<=e&&e<=this.height)return this.pixels[e*this.width+t]},getPixelRGB:function(t,e,i,s,n){return N.Color.unpackPixel(this.getPixel32(t,e),i,s,n)},getPixels:function(t){return this.context.getImageData(t.x,t.y,t.width,t.height)},getFirstPixel:function(t){void 0===t&&(t=0);var e=N.Color.createColor(),i=0,s=0,n=1,o=!1;for(1===t?(n=-1,s=this.height):3===t&&(n=-1,i=this.width);N.Color.unpackPixel(this.getPixel32(i,s),e),0===t||1===t?++i===this.width&&(i=0,(s+=n)>=this.height||s<=0)&&(o=!0):2!==t&&3!==t||++s===this.height&&(s=0,(i+=n)>=this.width||i<=0)&&(o=!0),0===e.a&&!o;);return e.x=i,e.y=s,e},getBounds:function(t){return(t=void 0===t?new N.Rectangle:t).x=this.getFirstPixel(2).x,t.x===this.width?t.setTo(0,0,0,0):(t.y=this.getFirstPixel(0).y,t.width=this.getFirstPixel(3).x-t.x+1,t.height=this.getFirstPixel(1).y-t.y+1,t)},addToWorld:function(t,e,i,s,n,o){n=n||1,o=o||1;t=this.game.add.image(t,e,this);return t.anchor.set(i,s),t.scale.set(n,o),t},copy:function(t,e,i,s,n,o,r,a,h,l,c,u,d,p,f,g,m){if((t=null==t?this:t)instanceof N.RenderTexture&&(t=t.getCanvas()),(this._image=t)instanceof N.Sprite||t instanceof N.Image||t instanceof N.Text||t instanceof PIXI.Sprite)this._pos.set(t.texture.crop.x,t.texture.crop.y),this._size.set(t.texture.crop.width,t.texture.crop.height),this._scale.set(t.scale.x,t.scale.y),this._anchor.set(t.anchor.x,t.anchor.y),this._rotate=t.rotation,this._alpha.current=t.alpha,t.texture instanceof N.RenderTexture?this._image=t.texture.getCanvas():this._image=t.texture.baseTexture.source,null==o&&(o=t.x),null==r&&(r=t.y),t.texture.trim&&(o+=t.texture.trim.x-t.anchor.x*t.texture.trim.width,r+=t.texture.trim.y-t.anchor.y*t.texture.trim.height),16777215!==t.tint&&(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=PIXI.CanvasTinter.getTintedTexture(t,t.tint)),this._image=t.tintedTexture,this._pos.set(0));else{if(this._pos.set(0),this._scale.set(1),this._anchor.set(0),this._rotate=0,this._alpha.current=1,t instanceof N.BitmapData)this._image=t.canvas;else if("string"==typeof t){if(null===(t=this.game.cache.getImage(t)))return this;this._image=t}this._size.set(this._image.width,this._image.height)}return null==e&&(e=0),null==i&&(i=0),s&&(this._size.x=s),n&&(this._size.y=n),null==o&&(o=e),null==r&&(r=i),null==a&&(a=this._size.x),null==h&&(h=this._size.y),"number"==typeof l&&(this._rotate=l),"number"==typeof c&&(this._anchor.x=c),"number"==typeof u&&(this._anchor.y=u),"number"==typeof d&&(this._scale.x=d),"number"==typeof p&&(this._scale.y=p),"number"==typeof f&&(this._alpha.current=f),void 0===g&&(g=null),void 0===m&&(m=!1),this._alpha.current<=0||0===this._scale.x||0===this._scale.y||0===this._size.x||0===this._size.y||(t=this.context,this._alpha.prev=t.globalAlpha,t.save(),t.globalAlpha=this._alpha.current,g&&(this.op=g),m&&(o|=0,r|=0),t.translate(o,r),t.scale(this._scale.x,this._scale.y),t.rotate(this._rotate),t.drawImage(this._image,this._pos.x+e,this._pos.y+i,this._size.x,this._size.y,-a*this._anchor.x,-h*this._anchor.y,a,h),t.restore(),t.globalAlpha=this._alpha.prev,this.dirty=!0),this},copyTransform:function(t,e,i){var s,n,o;return void 0===e&&(e=null),void 0===i&&(i=!1),t.hasOwnProperty("worldTransform")&&t.worldVisible&&0!==t.worldAlpha&&(s=t.worldTransform,this._pos.set(t.texture.crop.x,t.texture.crop.y),this._size.set(t.texture.crop.width,t.texture.crop.height),0!==s.a&&0!==s.d&&0!==this._size.x&&0!==this._size.y&&(t.texture instanceof N.RenderTexture?this._image=t.texture.getCanvas():this._image=t.texture.baseTexture.source,n=s.tx,o=s.ty,t.texture.trim&&(n+=t.texture.trim.x-t.anchor.x*t.texture.trim.width,o+=t.texture.trim.y-t.anchor.y*t.texture.trim.height),16777215!==t.tint&&(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=PIXI.CanvasTinter.getTintedTexture(t,t.tint)),this._image=t.tintedTexture,this._pos.set(0)),i&&(n|=0,o|=0),i=this.context,this._alpha.prev=i.globalAlpha,i.save(),i.globalAlpha=this._alpha.current,e&&(this.op=e),i[this.smoothProperty]=t.texture.baseTexture.scaleMode===PIXI.scaleModes.LINEAR,i.setTransform(s.a,s.b,s.c,s.d,n,o),i.drawImage(this._image,this._pos.x,this._pos.y,this._size.x,this._size.y,-this._size.x*t.anchor.x,-this._size.y*t.anchor.y,this._size.x,this._size.y),i.restore(),i.globalAlpha=this._alpha.prev,this.dirty=!0)),this},copyRect:function(t,e,i,s,n,o,r){return this.copy(t,e.x,e.y,e.width,e.height,i,s,e.width,e.height,0,0,0,1,1,n,o,r)},draw:function(t,e,i,s,n,o,r){return this.copy(t,null,null,null,null,e,i,s,n,null,null,null,null,null,null,o,r)},drawGroup:function(t,e,i){return 0<t.total&&t.forEachExists(this.drawGroupProxy,this,e,i),this},drawGroupProxy:function(t,e,i){if(t.hasOwnProperty("texture")&&this.copyTransform(t,e,i),t.type===N.GROUP&&t.exists)this.drawGroup(t,e,i);else if(t.hasOwnProperty("children")&&0<t.children.length)for(var s=0;s<t.children.length;s++)t.children[s].exists&&this.copyTransform(t.children[s],e,i)},drawFull:function(t,e,i){var s;if(!(!1===t.worldVisible||0===t.worldAlpha||t.hasOwnProperty("exists")&&!1===t.exists)&&(t.type!==N.GROUP&&t.type!==N.EMITTER&&t.type!==N.BITMAPTEXT&&(t.type===N.GRAPHICS?(s=t.getBounds(),this.ctx.save(),this.ctx.translate(s.x,s.y),PIXI.CanvasGraphics.renderGraphics(t,this.ctx),this.ctx.restore()):this.copy(t,null,null,null,null,t.worldPosition.x,t.worldPosition.y,null,null,t.worldRotation,null,null,t.worldScale.x,t.worldScale.y,t.worldAlpha,e,i)),t.children))for(var n=0;n<t.children.length;n++)this.drawFull(t.children[n],e,i);return this},shadow:function(t,e,i,s){var n=this.context;return null==t?n.shadowColor="rgba(0,0,0,0)":(n.shadowColor=t,n.shadowBlur=0===e?0:e||5,n.shadowOffsetX=0===i?0:i||10,n.shadowOffsetY=0===s?0:s||10),this},alphaMask:function(t,e,i,s){return(null==s?this.draw(e):this.draw(e,s.x,s.y,s.width,s.height)).blendSourceAtop(),(null==i?this.draw(t):this.draw(t,i.x,i.y,i.width,i.height)).blendReset(),this},extract:function(s,n,o,r,a,t,h,l,c){return void 0===a&&(a=255),void 0===h&&(h=n),void 0===l&&(l=o),void 0===c&&(c=r),(t=void 0===t?!1:t)&&s.resize(this.width,this.height),this.processPixelRGB(function(t,e,i){return t.r===n&&t.g===o&&t.b===r&&s.setPixel32(e,i,h,l,c,a,!1),!1},this),s.context.putImageData(s.imageData,0,0),s.dirty=!0,s},rect:function(t,e,i,s,n){return void 0!==n&&(this.context.fillStyle=n),this.context.fillRect(t,e,i,s),this},text:function(t,e,i,s,n,o){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n="rgb(255,255,255)"),void 0===o&&(o=!0);var r=this.context,a=r.font;return r.font=s=void 0===s?"14px Courier":s,o&&(r.fillStyle="rgb(0,0,0)",r.fillText(t,e+1,i+1)),r.fillStyle=n,r.fillText(t,e,i),r.font=a,this},circle:function(t,e,i,s){var n=this.context;return void 0!==s&&(n.fillStyle=s),n.beginPath(),n.arc(t,e,i,0,2*Math.PI,!1),n.closePath(),n.fill(),this},line:function(t,e,i,s,n,o){void 0===n&&(n="#fff"),void 0===o&&(o=1);var r=this.context;return r.beginPath(),r.moveTo(t,e),r.lineTo(i,s),r.lineWidth=o,r.strokeStyle=n,r.stroke(),r.closePath(),this},polygon:function(t,e,i,s){void 0===s&&(s="#fff"),void 0===i&&(i=0);var n=this.context;e&&(n.fillStyle=e),i&&(n.lineWidth=i,n.strokeStyle=s),n.beginPath(),n.moveTo(t[0].x,t[0].y);for(var o=1,r=t.length;o<r;o++){var a=t[o];n.lineTo(a.x,a.y)}return n.closePath(),e&&n.fill(),i&&n.stroke(),this},textureLine:function(t,e,i){var s,n;if(void 0===i&&(i="repeat-x"),"string"!=typeof e||(e=this.game.cache.getImage(e)))return s=t.length,"no-repeat"===i&&s>e.width&&(s=e.width),(n=this.context).fillStyle=n.createPattern(e,i),this._circle=new N.Circle(t.start.x,t.start.y,e.height),this._circle.circumferencePoint(t.angle-1.5707963267948966,!1,this._pos),n.save(),n.translate(this._pos.x,this._pos.y),n.rotate(t.angle),n.fillRect(0,0,s,e.height),n.restore(),this.dirty=!0,this},render:function(){return!this.disableTextureUpload&&this.dirty&&(this.baseTexture.dirty(),this.dirty=!1),this},destroy:function(){this.frameData.destroy(),this.texture.destroy(!0),N.CanvasPool.remove(this)},blendReset:function(){return this.op="source-over",this},blendSourceOver:function(){return this.op="source-over",this},blendSourceIn:function(){return this.op="source-in",this},blendSourceOut:function(){return this.op="source-out",this},blendSourceAtop:function(){return this.op="source-atop",this},blendDestinationOver:function(){return this.op="destination-over",this},blendDestinationIn:function(){return this.op="destination-in",this},blendDestinationOut:function(){return this.op="destination-out",this},blendDestinationAtop:function(){return this.op="destination-atop",this},blendXor:function(){return this.op="xor",this},blendAdd:function(){return this.op="lighter",this},blendMultiply:function(){return this.op="multiply",this},blendScreen:function(){return this.op="screen",this},blendOverlay:function(){return this.op="overlay",this},blendDarken:function(){return this.op="darken",this},blendLighten:function(){return this.op="lighten",this},blendColorDodge:function(){return this.op="color-dodge",this},blendColorBurn:function(){return this.op="color-burn",this},blendHardLight:function(){return this.op="hard-light",this},blendSoftLight:function(){return this.op="soft-light",this},blendDifference:function(){return this.op="difference",this},blendExclusion:function(){return this.op="exclusion",this},blendHue:function(){return this.op="hue",this},blendSaturation:function(){return this.op="saturation",this},blendColor:function(){return this.op="color",this},blendLuminosity:function(){return this.op="luminosity",this},copyBitmapData:function(t,e,i){t.update();for(var s=0;s<t.height;s++)for(var n=(i+s)*this.width+e,o=0;o<t.width;o++)this.pixels[n+o]=t.pixels[s*t.width+o];return this}},Object.defineProperty(N.BitmapData.prototype,"smoothed",{get:function(){return N.Canvas.getSmoothingEnabled(this.context)},set:function(t){N.Canvas.setSmoothingEnabled(this.context,t)}}),Object.defineProperty(N.BitmapData.prototype,"op",{get:function(){return this.context.globalCompositeOperation},set:function(t){this.context.globalCompositeOperation=t}}),N.BitmapData.getTransform=function(t,e,i,s,n,o){return{sx:i="number"!=typeof i?1:i,sy:s="number"!=typeof s?1:s,scaleX:i,scaleY:s,skewX:n="number"!=typeof n?0:n,skewY:o="number"!=typeof o?0:o,translateX:t="number"!=typeof t?0:t,translateY:e="number"!=typeof e?0:e,tx:t,ty:e}},N.BitmapData.prototype.constructor=N.BitmapData,N.EarCut={},N.EarCut.Triangulate=function(t,e,i){i=i||2;var s,n,o,r,a,h=e&&e.length,l=h?e[0]*i:t.length,c=N.EarCut.linkedList(t,0,l,i,!0),u=[];if(c){if(h&&(c=N.EarCut.eliminateHoles(t,e,c,i)),t.length>80*i){for(var d=s=t[0],p=n=t[1],f=i;f<l;f+=i)(o=t[f])<d&&(d=o),(r=t[f+1])<p&&(p=r),s<o&&(s=o),n<r&&(n=r);a=Math.max(s-d,n-p)}N.EarCut.earcutLinked(c,u,i,d,p,a)}return u},N.EarCut.linkedList=function(t,e,i,s,n){for(var o,r=0,a=e,h=i-s;a<i;a+=s)r+=(t[h]-t[a])*(t[a+1]+t[h+1]),h=a;if(n===0<r)for(a=e;a<i;a+=s)o=N.EarCut.insertNode(a,t[a],t[a+1],o);else for(a=i-s;e<=a;a-=s)o=N.EarCut.insertNode(a,t[a],t[a+1],o);return o},N.EarCut.filterPoints=function(t,e){if(!t)return t;e=e||t;var i,s=t;do{if(i=!1,s.steiner||!N.EarCut.equals(s,s.next)&&0!==N.EarCut.area(s.prev,s,s.next))s=s.next;else{if(N.EarCut.removeNode(s),(s=e=s.prev)===s.next)return null;i=!0}}while(i||s!==e);return e},N.EarCut.earcutLinked=function(t,e,i,s,n,o,r){if(t){!r&&o&&N.EarCut.indexCurve(t,s,n,o);for(var a,h,l=t;t.prev!==t.next;)if(a=t.prev,h=t.next,o?N.EarCut.isEarHashed(t,s,n,o):N.EarCut.isEar(t))e.push(a.i/i),e.push(t.i/i),e.push(h.i/i),N.EarCut.removeNode(t),t=h.next,l=h.next;else if((t=h)===l){r?1===r?(t=N.EarCut.cureLocalIntersections(t,e,i),N.EarCut.earcutLinked(t,e,i,s,n,o,2)):2===r&&N.EarCut.splitEarcut(t,e,i,s,n,o):N.EarCut.earcutLinked(N.EarCut.filterPoints(t),e,i,s,n,o,1);break}}},N.EarCut.isEar=function(t){var e=t.prev,i=t,s=t.next;if(0<=N.EarCut.area(e,i,s))return!1;for(var n=t.next.next;n!==t.prev;){if(N.EarCut.pointInTriangle(e.x,e.y,i.x,i.y,s.x,s.y,n.x,n.y)&&0<=N.EarCut.area(n.prev,n,n.next))return!1;n=n.next}return!0},N.EarCut.isEarHashed=function(t,e,i,s){var n=t.prev,o=t,r=t.next;if(0<=N.EarCut.area(n,o,r))return!1;for(var a=(n.x<o.x?n.x<r.x?n:r:o.x<r.x?o:r).x,h=(n.y<o.y?n.y<r.y?n:r:o.y<r.y?o:r).y,l=(n.x>o.x?n.x>r.x?n:r:o.x>r.x?o:r).x,c=(n.y>o.y?n.y>r.y?n:r:o.y>r.y?o:r).y,u=N.EarCut.zOrder(a,h,e,i,s),d=N.EarCut.zOrder(l,c,e,i,s),p=t.nextZ;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&N.EarCut.pointInTriangle(n.x,n.y,o.x,o.y,r.x,r.y,p.x,p.y)&&0<=N.EarCut.area(p.prev,p,p.next))return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=u;){if(p!==t.prev&&p!==t.next&&N.EarCut.pointInTriangle(n.x,n.y,o.x,o.y,r.x,r.y,p.x,p.y)&&0<=N.EarCut.area(p.prev,p,p.next))return!1;p=p.prevZ}return!0},N.EarCut.cureLocalIntersections=function(t,e,i){var s=t;do{var n=s.prev,o=s.next.next}while(N.EarCut.intersects(n,s,s.next,o)&&N.EarCut.locallyInside(n,o)&&N.EarCut.locallyInside(o,n)&&(e.push(n.i/i),e.push(s.i/i),e.push(o.i/i),N.EarCut.removeNode(s),N.EarCut.removeNode(s.next),s=t=o),(s=s.next)!==t);return s},N.EarCut.splitEarcut=function(t,e,i,s,n,o){var r=t;do{for(var a,h=r.next.next;h!==r.prev;){if(r.i!==h.i&&N.EarCut.isValidDiagonal(r,h))return a=N.EarCut.splitPolygon(r,h),r=N.EarCut.filterPoints(r,r.next),a=N.EarCut.filterPoints(a,a.next),N.EarCut.earcutLinked(r,e,i,s,n,o),void N.EarCut.earcutLinked(a,e,i,s,n,o);h=h.next}}while((r=r.next)!==t)},N.EarCut.eliminateHoles=function(t,e,i,s){for(var n,o,r=[],a=0,h=e.length;a<h;a++)o=e[a]*s,n=a<h-1?e[a+1]*s:t.length,(o=N.EarCut.linkedList(t,o,n,s,!1))===o.next&&(o.steiner=!0),r.push(N.EarCut.getLeftmost(o));for(r.sort(N.EarCut.compareX),a=0;a<r.length;a++)N.EarCut.eliminateHole(r[a],i),i=N.EarCut.filterPoints(i,i.next);return i},N.EarCut.compareX=function(t,e){return t.x-e.x},N.EarCut.eliminateHole=function(t,e){(e=N.EarCut.findHoleBridge(t,e))&&(e=N.EarCut.splitPolygon(e,t),N.EarCut.filterPoints(e,e.next))},N.EarCut.findHoleBridge=function(t,e){var i,s,n=e,o=t.x,r=t.y,a=-1/0;do{}while(r<=n.y&&r>=n.next.y&&(s=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y))<=o&&a<s&&(a=s,i=n.x<n.next.x?n:n.next),(n=n.next)!==e);if(!i)return null;if(t.x===i.x)return i.prev;for(var h,l=i,c=1/0,n=i.next;n!==l;)o>=n.x&&n.x>=i.x&&N.EarCut.pointInTriangle(r<i.y?o:a,r,i.x,i.y,r<i.y?a:o,r,n.x,n.y)&&((h=Math.abs(r-n.y)/(o-n.x))<c||h===c&&n.x>i.x)&&N.EarCut.locallyInside(n,t)&&(i=n,c=h),n=n.next;return i},N.EarCut.indexCurve=function(t,e,i,s){for(var n=t;null===n.z&&(n.z=N.EarCut.zOrder(n.x,n.y,e,i,s)),n.prevZ=n.prev,n.nextZ=n.next,(n=n.next)!==t;);n.prevZ.nextZ=null,n.prevZ=null,N.EarCut.sortLinked(n)},N.EarCut.sortLinked=function(t){var e,i,s,n,o,r,a,h,l=1;do{for(i=t,o=t=null,r=0;i;){for(r++,s=i,e=a=0;e<l&&(a++,s=s.nextZ);e++);for(h=l;0<a||0<h&&s;)0!==a&&(0===h||!s||i.z<=s.z)?(i=(n=i).nextZ,a--):(s=(n=s).nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=s}}while(o.nextZ=null,l*=2,1<r);return t},N.EarCut.zOrder=function(t,e,i,s,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)/n)|t<<8))|t<<4))|t<<2))|t<<1))|(1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-s)/n)|e<<8))|e<<4))|e<<2))|e<<1))<<1},N.EarCut.getLeftmost=function(t){for(var e=t,i=t;e.x<i.x&&(i=e),(e=e.next)!==t;);return i},N.EarCut.pointInTriangle=function(t,e,i,s,n,o,r,a){return 0<=(n-r)*(e-a)-(t-r)*(o-a)&&0<=(t-r)*(s-a)-(i-r)*(e-a)&&0<=(i-r)*(o-a)-(n-r)*(s-a)},N.EarCut.isValidDiagonal=function(t,e){return N.EarCut.equals(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!N.EarCut.intersectsPolygon(t,e)&&N.EarCut.locallyInside(t,e)&&N.EarCut.locallyInside(e,t)&&N.EarCut.middleInside(t,e)},N.EarCut.area=function(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)},N.EarCut.equals=function(t,e){return t.x===e.x&&t.y===e.y},N.EarCut.intersects=function(t,e,i,s){return 0<N.EarCut.area(t,e,i)!=0<N.EarCut.area(t,e,s)&&0<N.EarCut.area(i,s,t)!=0<N.EarCut.area(i,s,e)},N.EarCut.intersectsPolygon=function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&N.EarCut.intersects(i,i.next,t,e))return!0}while((i=i.next)!==t);return!1},N.EarCut.locallyInside=function(t,e){return N.EarCut.area(t.prev,t,t.next)<0?0<=N.EarCut.area(t,e,t.next)&&0<=N.EarCut.area(t,t.prev,e):N.EarCut.area(t,e,t.prev)<0||N.EarCut.area(t,t.next,e)<0},N.EarCut.middleInside=function(t,e){for(var i=t,s=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;i.y>o!=i.next.y>o&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(s=!s),(i=i.next)!==t;);return s},N.EarCut.splitPolygon=function(t,e){var i=new N.EarCut.Node(t.i,t.x,t.y),s=new N.EarCut.Node(e.i,e.x,e.y),n=t.next,o=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(s.next=i).prev=s,(o.next=s).prev=o,s},N.EarCut.insertNode=function(t,e,i,s){t=new N.EarCut.Node(t,e,i);return s?(t.next=s.next,(t.prev=s).next.prev=t,s.next=t):(t.prev=t).next=t,t},N.EarCut.removeNode=function(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)},N.EarCut.Node=function(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1},PIXI.WebGLGraphics=function(){},PIXI.WebGLGraphics.stencilBufferLimit=6,PIXI.WebGLGraphics.renderGraphics=function(t,e){var i,s=e.gl,n=e.projection,o=e.offset,r=e.shaderManager.primitiveShader,a=(t.dirty&&PIXI.WebGLGraphics.updateGraphics(t,s),t._webGL[s.id]);if(a)for(var h=0;h<a.data.length;h++)1===a.data[h].mode?(i=a.data[h],e.stencilManager.pushStencil(t,i,e),s.drawElements(s.TRIANGLE_FAN,4,s.UNSIGNED_SHORT,2*(i.indices.length-4)),e.stencilManager.popStencil(t,i,e)):(i=a.data[h],e.shaderManager.setShader(r),r=e.shaderManager.primitiveShader,s.uniformMatrix3fv(r.translationMatrix,!1,t.worldTransform.toArray(!0)),s.uniform1f(r.flipY,1),s.uniform2f(r.projectionVector,n.x,-n.y),s.uniform2f(r.offsetVector,-o.x,-o.y),s.uniform3fv(r.tintColor,N.Color.hexToRGBArray(t.tint)),s.uniform1f(r.alpha,t.worldAlpha),s.bindBuffer(s.ARRAY_BUFFER,i.buffer),s.vertexAttribPointer(r.aVertexPosition,2,s.FLOAT,!1,24,0),s.vertexAttribPointer(r.colorAttribute,4,s.FLOAT,!1,24,8),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,i.indexBuffer),s.drawElements(s.TRIANGLE_STRIP,i.indices.length,s.UNSIGNED_SHORT,0))},PIXI.WebGLGraphics.updateGraphics=function(t,e){var i,s,n=(n=t._webGL[e.id])||(t._webGL[e.id]={lastIndex:0,data:[],gl:e});if(t.dirty=!1,t.clearDirty){for(t.clearDirty=!1,i=0;i<n.data.length;i++){var o=n.data[i];o.reset(),PIXI.WebGLGraphics.graphicsDataPool.push(o)}n.data=[],n.lastIndex=0}for(i=n.lastIndex;i<t.graphicsData.length;i++){var r=t.graphicsData[i];r.type===N.POLYGON?(r.points=r.shape.points.slice(),!r.shape.closed||r.points[0]===r.points[r.points.length-2]&&r.points[1]===r.points[r.points.length-1]||r.points.push(r.points[0],r.points[1]),r.fill&&r.points.length>=PIXI.WebGLGraphics.stencilBufferLimit&&(r.points.length<2*PIXI.WebGLGraphics.stencilBufferLimit&&(s=PIXI.WebGLGraphics.switchMode(n,0),PIXI.WebGLGraphics.buildPoly(r,s))||(s=PIXI.WebGLGraphics.switchMode(n,1),PIXI.WebGLGraphics.buildComplexPoly(r,s))),0<r.lineWidth&&(s=PIXI.WebGLGraphics.switchMode(n,0),PIXI.WebGLGraphics.buildLine(r,s))):(s=PIXI.WebGLGraphics.switchMode(n,0),r.type===N.RECTANGLE?PIXI.WebGLGraphics.buildRectangle(r,s):r.type===N.CIRCLE||r.type===N.ELLIPSE?PIXI.WebGLGraphics.buildCircle(r,s):r.type===N.ROUNDEDRECTANGLE&&PIXI.WebGLGraphics.buildRoundedRectangle(r,s)),n.lastIndex++}for(i=0;i<n.data.length;i++)(s=n.data[i]).dirty&&s.upload()},PIXI.WebGLGraphics.switchMode=function(t,e){var i;return t.data.length&&(i=t.data[t.data.length-1]).mode===e&&1!==e||((i=PIXI.WebGLGraphics.graphicsDataPool.pop()||new PIXI.WebGLGraphicsData(t.gl)).mode=e,t.data.push(i)),i.dirty=!0,i},PIXI.WebGLGraphics.buildRectangle=function(t,e){var i,s,n,o,r,a,h,l=t.shape,c=l.x,u=l.y,d=l.width,l=l.height;t.fill&&(o=N.Color.hexToRGBArray(t.fillColor),i=t.fillAlpha,s=o[0]*i,n=o[1]*i,o=o[2]*i,h=e.points,r=e.indices,a=h.length/6,h.push(c,u),h.push(s,n,o,i),h.push(c+d,u),h.push(s,n,o,i),h.push(c,u+l),h.push(s,n,o,i),h.push(c+d,u+l),h.push(s,n,o,i),r.push(a,a,1+a,2+a,3+a,3+a)),t.lineWidth&&(h=t.points,t.points=[c,u,c+d,u,c+d,u+l,c,u+l,c,u],PIXI.WebGLGraphics.buildLine(t,e),t.points=h)},PIXI.WebGLGraphics.buildRoundedRectangle=function(t,e){var i=t.shape,s=i.x,n=i.y,o=i.width,r=i.height,i=i.radius,a=[];if(a.push(s,n+i),a=(a=(a=(a=a.concat(PIXI.WebGLGraphics.quadraticBezierCurve(s,n+r-i,s,n+r,s+i,n+r))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(s+o-i,n+r,s+o,n+r,s+o,n+r-i))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(s+o,n+i,s+o,n,s+o-i,n))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(s+i,n,s,n,s,n+i)),t.fill){for(var r=N.Color.hexToRGBArray(t.fillColor),h=t.fillAlpha,l=r[0]*h,c=r[1]*h,u=r[2]*h,d=e.points,p=e.indices,f=d.length/6,g=N.EarCut.Triangulate(a,null,2),m=0,m=0;m<g.length;m+=3)p.push(g[m]+f),p.push(g[m]+f),p.push(g[m+1]+f),p.push(g[m+2]+f),p.push(g[m+2]+f);for(m=0;m<a.length;m++)d.push(a[m],a[++m],l,c,u,h)}t.lineWidth&&(o=t.points,t.points=a,PIXI.WebGLGraphics.buildLine(t,e),t.points=o)},PIXI.WebGLGraphics.quadraticBezierCurve=function(t,e,i,s,n,o){var r,a,h,l,c=[];function u(t,e,i){return t+(e-t)*i}for(var d,p=0;p<=20;p++)h=u(t,i,d=p/20),r=u(e,s,d),l=u(i,n,d),a=u(s,o,d),h=u(h,l,d),l=u(r,a,d),c.push(h,l);return c},PIXI.WebGLGraphics.buildCircle=function(t,e){var i,s=t.shape,n=s.x,o=s.y,r=t.type===N.CIRCLE?i=s.radius:(i=s.width,s.height),a=2*Math.PI/40,h=0;if(t.fill){var s=N.Color.hexToRGBArray(t.fillColor),l=t.fillAlpha,c=s[0]*l,u=s[1]*l,d=s[2]*l,p=e.points,f=e.indices,g=p.length/6;for(f.push(g),h=0;h<41;h++)p.push(n,o,c,u,d,l),p.push(n+Math.sin(a*h)*i,o+Math.cos(a*h)*r,c,u,d,l),f.push(g++,g++);f.push(g-1)}if(t.lineWidth){s=t.points;for(t.points=[],h=0;h<41;h++)t.points.push(n+Math.sin(a*h)*i,o+Math.cos(a*h)*r);PIXI.WebGLGraphics.buildLine(t,e),t.points=s}},PIXI.WebGLGraphics.buildLine=function(t,e){var i=0,s=t.points;if(0!==s.length){if(t.lineWidth%2)for(i=0;i<s.length;i++)s[i]+=.5;var n,o=new PIXI.Point(s[0],s[1]),r=new PIXI.Point(s[s.length-2],s[s.length-1]);o.x===r.x&&o.y===r.y&&((s=s.slice()).pop(),s.pop(),n=(r=new PIXI.Point(s[s.length-2],s[s.length-1])).x+.5*(o.x-r.x),o=r.y+.5*(o.y-r.y),s.unshift(n,o),s.push(n,o));var a,h,l,c,u,d,p,f,g,m,y,v=e.points,x=e.indices,b=s.length/2,_=s.length,w=v.length/6,T=t.lineWidth/2,r=N.Color.hexToRGBArray(t.lineColor),P=t.lineAlpha,C=r[0]*P,S=r[1]*P,A=r[2]*P,E=s[0],M=s[1],R=s[2],L=-(M-(a=s[3])),B=E-R;for(L/=y=Math.sqrt(L*L+B*B),v.push(E-(L*=T),M-(B=B/y*T),C,S,A,P),v.push(E+L,M+B,C,S,A,P),i=1;i<b-1;i++)E=s[2*(i-1)],M=s[2*(i-1)+1],R=s[2*i],a=s[2*i+1],f=s[2*(i+1)],p=s[2*(i+1)+1],B=E-R,l=R-f,d=(-(L=(L=-(M-a))/(y=Math.sqrt(L*L+B*B))*T)+E)*(-(B=B/y*T)+a)-(-L+R)*(-B+M),g=(-(h=(h=-(a-p))/(y=Math.sqrt(h*h+l*l))*T)+f)*(-(l=l/y*T)+a)-(-h+R)*(-l+p),m=(c=-B+M-(-B+a))*(f=-h+R-(-h+f))-(p=-l+p-(-l+a))*(u=-L+R-(-L+E)),Math.abs(m)<.1?(m+=10.1,v.push(R-L,a-B,C,S,A,P),v.push(R+L,a+B,C,S,A,P)):19600<((u=(u*g-f*d)/m)-R)*(u-R)+((f=(p*d-c*g)/m)-a)+(f-a)?(p=L-h,d=B-l,p/=y=Math.sqrt(p*p+d*d),v.push(R-(p*=T),a-(d=d/y*T)),v.push(C,S,A,P),v.push(R+p,a+d),v.push(C,S,A,P),v.push(R-p,a-d),v.push(C,S,A,P),_++):(v.push(u,f),v.push(C,S,A,P),v.push(R-(u-R),a-(f-a)),v.push(C,S,A,P));for(E=s[2*(b-2)],M=s[2*(b-2)+1],R=s[2*(b-1)],L=-(M-(a=s[2*(b-1)+1])),B=E-R,L/=y=Math.sqrt(L*L+B*B),v.push(R-(L*=T),a-(B=B/y*T)),v.push(C,S,A,P),v.push(R+L,a+B),v.push(C,S,A,P),x.push(w),i=0;i<_;i++)x.push(w++);x.push(w-1)}},PIXI.WebGLGraphics.buildComplexPoly=function(t,e){var i=t.points.slice();if(!(i.length<6)){var s=e.indices;e.points=i,e.alpha=t.fillAlpha,e.color=N.Color.hexToRGBArray(t.fillColor);for(var n,o=1/0,r=-1/0,a=1/0,h=-1/0,l=0;l<i.length;l+=2)o=(n=i[l])<o?n:o,r=r<n?n:r,a=(n=i[l+1])<a?n:a,h=h<n?n:h;i.push(o,a,r,a,r,h,o,h);for(var c=i.length/2,l=0;l<c;l++)s.push(l)}},PIXI.WebGLGraphics.buildPoly=function(t,e){var i=t.points;if(!(i.length<6)){var s=e.points,n=e.indices,o=i.length/2,e=N.Color.hexToRGBArray(t.fillColor),r=t.fillAlpha,a=e[0]*r,h=e[1]*r,l=e[2]*r,c=N.EarCut.Triangulate(i,null,2);if(!c)return!1;for(var u=s.length/6,d=0,d=0;d<c.length;d+=3)n.push(c[d]+u),n.push(c[d]+u),n.push(c[d+1]+u),n.push(c[d+2]+u),n.push(c[d+2]+u);for(d=0;d<o;d++)s.push(i[2*d],i[2*d+1],a,h,l,r);return!0}},PIXI.WebGLGraphics.graphicsDataPool=[],PIXI.WebGLGraphicsData=function(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},PIXI.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[]},PIXI.WebGLGraphicsData.prototype.upload=function(){var t=this.gl;this.glPoints=new Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndicies=new Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndicies,t.STATIC_DRAW),this.dirty=!1},PIXI.CanvasGraphics=function(){},PIXI.CanvasGraphics.renderGraphics=function(t,e){var i=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var s=0;s<t.graphicsData.length;s++){var n,o,r,a,h,l,c,u,d=t.graphicsData[s],p=d.shape,f=d._fillTint,g=d._lineTint;if(e.lineWidth=d.lineWidth,d.type===N.POLYGON){e.beginPath();var m=p.points;e.moveTo(m[0],m[1]);for(var y=1;y<m.length/2;y++)e.lineTo(m[2*y],m[2*y+1]);p.closed&&e.lineTo(m[0],m[1]),m[0]===m[m.length-2]&&m[1]===m[m.length-1]&&e.closePath(),d.fill&&(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),e.fill()),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),e.stroke())}else d.type===N.RECTANGLE?(!d.fillColor&&0!==d.fillColor||(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),e.fillRect(p.x,p.y,p.width,p.height)),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),e.strokeRect(p.x,p.y,p.width,p.height))):d.type===N.CIRCLE?(e.beginPath(),e.arc(p.x,p.y,p.radius,0,2*Math.PI),e.closePath(),d.fill&&(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),e.fill()),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),e.stroke())):d.type===N.ELLIPSE?(h=2*p.width,n=p.x-h/2,r=p.y-(o=2*p.height)/2,e.beginPath(),l=h/2*.5522848,c=o/2*.5522848,a=n+h,u=r+o,h=n+h/2,e.moveTo(n,o=r+o/2),e.bezierCurveTo(n,o-c,h-l,r,h,r),e.bezierCurveTo(h+l,r,a,o-c,a,o),e.bezierCurveTo(a,o+c,h+l,u,h,u),e.bezierCurveTo(h-l,u,n,o+c,n,o),e.closePath(),d.fill&&(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),e.fill()),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),e.stroke())):d.type===N.ROUNDEDRECTANGLE&&(r=p.x,a=p.y,h=p.width,l=p.height,u=p.radius,u=(c=Math.min(h,l)/2|0)<u?c:u,e.beginPath(),e.moveTo(r,a+u),e.lineTo(r,a+l-u),e.quadraticCurveTo(r,a+l,r+u,a+l),e.lineTo(r+h-u,a+l),e.quadraticCurveTo(r+h,a+l,r+h,a+l-u),e.lineTo(r+h,a+u),e.quadraticCurveTo(r+h,a,r+h-u,a),e.lineTo(r+u,a),e.quadraticCurveTo(r,a,r,a+u),e.closePath(),!d.fillColor&&0!==d.fillColor||(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),e.fill()),d.lineWidth)&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|g).toString(16)).substr(-6),e.stroke())}},PIXI.CanvasGraphics.renderGraphicsMask=function(t,e){var i=t.graphicsData.length;if(0!==i){e.beginPath();for(var s=0;s<i;s++){var n,o,r,a,h,l,c,u,d=t.graphicsData[s],p=d.shape;if(d.type===N.POLYGON){var f=p.points;e.moveTo(f[0],f[1]);for(var g=1;g<f.length/2;g++)e.lineTo(f[2*g],f[2*g+1]);f[0]===f[f.length-2]&&f[1]===f[f.length-1]&&e.closePath()}else d.type===N.RECTANGLE?(e.rect(p.x,p.y,p.width,p.height),e.closePath()):d.type===N.CIRCLE?(e.arc(p.x,p.y,p.radius,0,2*Math.PI),e.closePath()):d.type===N.ELLIPSE?(l=(h=2*p.width)/2*.5522848,c=(o=2*p.height)/2*.5522848,a=(n=p.x-h/2)+h,u=(r=p.y-o/2)+o,h=n+h/2,e.moveTo(n,o=r+o/2),e.bezierCurveTo(n,o-c,h-l,r,h,r),e.bezierCurveTo(h+l,r,a,o-c,a,o),e.bezierCurveTo(a,o+c,h+l,u,h,u),e.bezierCurveTo(h-l,u,n,o+c,n,o),e.closePath()):d.type===N.ROUNDEDRECTANGLE&&(r=p.x,a=p.y,h=p.width,l=p.height,u=p.radius,c=Math.min(h,l)/2|0,e.moveTo(r,a+(u=c<u?c:u)),e.lineTo(r,a+l-u),e.quadraticCurveTo(r,a+l,r+u,a+l),e.lineTo(r+h-u,a+l),e.quadraticCurveTo(r+h,a+l,r+h,a+l-u),e.lineTo(r+h,a+u),e.quadraticCurveTo(r+h,a,r+h-u,a),e.lineTo(r+u,a),e.quadraticCurveTo(r,a,r,a+u),e.closePath())}}},PIXI.CanvasGraphics.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,s=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var o=t.graphicsData[n],r=0|o.fillColor,a=0|o.lineColor;o._fillTint=((r>>16&255)/255*e*255<<16)+((r>>8&255)/255*i*255<<8)+(255&r)/255*s*255,o._lineTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*s*255}},N.GraphicsData=function(t,e,i,s,n,o,r){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=s,this.fillAlpha=n,this._fillTint=s,this.fill=o,this.shape=r,this.type=r.type},N.GraphicsData.prototype.constructor=N.GraphicsData,N.GraphicsData.prototype.clone=function(){return new N.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},N.Graphics=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.type=N.GRAPHICS,this.physicsType=N.SPRITE,this.anchor=new N.Point,PIXI.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=PIXI.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new N.Rectangle(0,0,1,1),this.dirty=!0,this._boundsDirty=!1,this.webGLDirty=!1,this.cachedSpriteDirty=!1,N.Component.Core.init.call(this,t,e,i,"",null)},N.Graphics.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),N.Graphics.prototype.constructor=N.Graphics,N.Component.Core.install.call(N.Graphics.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),N.Graphics.prototype.preUpdatePhysics=N.Component.PhysicsBody.preUpdate,N.Graphics.prototype.preUpdateLifeSpan=N.Component.LifeSpan.preUpdate,N.Graphics.prototype.preUpdateInWorld=N.Component.InWorld.preUpdate,N.Graphics.prototype.preUpdateCore=N.Component.Core.preUpdate,N.Graphics.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},N.Graphics.prototype.postUpdate=function(){N.Component.PhysicsBody.postUpdate.call(this),N.Component.FixedToCamera.postUpdate.call(this),this._boundsDirty&&(this.updateLocalBounds(),this._boundsDirty=!1);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()},N.Graphics.prototype.destroy=function(t){this.clear(),N.Component.Destroy.prototype.destroy.call(this,t)},N.Graphics.prototype.drawTriangle=function(t,e){void 0===e&&(e=!1);var i,s=new N.Polygon(t);(!e||(e=new N.Point(this.game.camera.x-t[0].x,this.game.camera.y-t[0].y),i=new N.Point(t[1].x-t[0].x,t[1].y-t[0].y),t=new N.Point(t[1].x-t[2].x,t[1].y-t[2].y).cross(i),0<e.dot(t)))&&this.drawPolygon(s)},N.Graphics.prototype.drawTriangles=function(t,e,i){void 0===i&&(i=!1);var s,n=new N.Point,o=new N.Point,r=new N.Point,a=[];if(e)if(t[0]instanceof N.Point)for(s=0;s<e.length/3;s++)a.push(t[e[3*s]]),a.push(t[e[3*s+1]]),a.push(t[e[3*s+2]]),3===a.length&&(this.drawTriangle(a,i),a=[]);else for(s=0;s<e.length;s++)n.x=t[2*e[s]],n.y=t[2*e[s]+1],a.push(n.copyTo({})),3===a.length&&(this.drawTriangle(a,i),a=[]);else if(t[0]instanceof N.Point)for(s=0;s<t.length/3;s++)this.drawTriangle([t[3*s],t[3*s+1],t[3*s+2]],i);else for(s=0;s<t.length/6;s++)n.x=t[6*s+0],n.y=t[6*s+1],o.x=t[6*s+2],o.y=t[6*s+3],r.x=t[6*s+4],r.y=t[6*s+5],this.drawTriangle([n,o,r],i)},N.Graphics.prototype.lineStyle=function(t,e,i){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===i?1:i,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new N.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},N.Graphics.prototype.moveTo=function(t,e){return this.drawShape(new N.Polygon([t,e])),this},N.Graphics.prototype.lineTo=function(t,e){return this.currentPath||this.moveTo(0,0),this.currentPath.shape.points.push(t,e),this.dirty=!0,this._boundsDirty=!0,this},N.Graphics.prototype.quadraticCurveTo=function(t,e,i,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,o=this.currentPath.shape.points;0===o.length&&this.moveTo(0,0);for(var r,a=o[o.length-2],h=o[o.length-1],l=1;l<=20;++l)n=a+(t-a)*(r=l/20),o.push(n+(t+(i-t)*r-n)*r,(n=h+(e-h)*r)+(e+(s-e)*r-n)*r);return this.dirty=!0,this._boundsDirty=!0,this},N.Graphics.prototype.bezierCurveTo=function(t,e,i,s,n,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var r,a,h,l,c,u,d=this.currentPath.shape.points,p=d[d.length-2],f=d[d.length-1],g=1;g<=20;++g)h=(a=(r=1-(u=g/20))*r)*r,c=(l=u*u)*u,d.push(h*p+3*a*u*t+3*r*l*i+c*n,h*f+3*a*u*e+3*r*l*s+c*o);return this.dirty=!0,this._boundsDirty=!0,this},N.Graphics.prototype.arcTo=function(t,e,i,s,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o,r,a,h,l,c=this.currentPath.shape.points,u=c[c.length-2],d=c[c.length-1]-e,u=u-t,s=s-e,i=i-t,p=Math.abs(d*i-u*s);return p<1e-8||0===n?c[c.length-2]===t&&c[c.length-1]===e||c.push(t,e):(c=d*d+u*u,a=s*s+i*i,l=d*s+u*i,c=(h=n*Math.sqrt(c)/p)*l/c,o=h*i+(p=n*Math.sqrt(a)/p)*u,r=h*s+p*d,a=i*(h+(l=p*l/a)),h=s*(h+l),l=Math.atan2(d*(p+c)-r,u*(p+c)-o),p=Math.atan2(h-r,a-o),this.arc(o+t,r+e,n,l,p,i*d<u*s)),this.dirty=!0,this._boundsDirty=!0,this},N.Graphics.prototype.arc=function(t,e,i,s,n,o,r){if(s!==n){void 0===r&&(r=40),!(o=void 0===o?!1:o)&&n<=s?n+=2*Math.PI:o&&s<=n&&(s+=2*Math.PI);n=o?-1*(s-n):n-s,r=Math.ceil(Math.abs(n)/(2*Math.PI))*r;if(0!=n){var a=t+Math.cos(s)*i,h=e+Math.sin(s)*i;o&&this.filling?this.moveTo(t,e):this.moveTo(a,h);for(var l=this.currentPath.shape.points,c=n/(2*r),u=2*c,d=Math.cos(c),p=Math.sin(c),f=r-1,g=f%1/f,m=0;m<=f;m++){var y=c+s+u*(m+g*m),v=Math.cos(y),y=-Math.sin(y);l.push((d*v+p*y)*i+t,(d*-y+p*v)*i+e)}this.dirty=!0,this._boundsDirty=!0}}return this},N.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},N.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},N.Graphics.prototype.drawRect=function(t,e,i,s){return this.drawShape(new N.Rectangle(t,e,i,s)),this},N.Graphics.prototype.drawRoundedRect=function(t,e,i,s,n){return this.drawShape(new N.RoundedRectangle(t,e,i,s,n)),this},N.Graphics.prototype.drawCircle=function(t,e,i){return this.drawShape(new N.Circle(t,e,i)),this},N.Graphics.prototype.drawEllipse=function(t,e,i,s){return this.drawShape({x:t,y:e,width:i,height:s,type:N.ELLIPSE}),this},N.Graphics.prototype.drawPolygon=function(t){var e=t=t instanceof N.Polygon?t.points:t;if(!Array.isArray(e))for(var e=new Array(arguments.length),i=0;i<e.length;++i)e[i]=arguments[i];return this.drawShape(new N.Polygon(e)),this},N.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this._boundsDirty=!0,this.clearDirty=!0,this.graphicsData=[],this.updateLocalBounds(),this},N.Graphics.prototype.generateTexture=function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=PIXI.scaleModes.DEFAULT),void 0===i&&(i=0);var s=this.getBounds(),i=(s.width+=i,s.height+=i,new PIXI.CanvasBuffer(s.width*t,s.height*t)),e=PIXI.Texture.fromCanvas(i.canvas,e);return e.baseTexture.resolution=t,i.context.scale(t,t),i.context.translate(-s.x,-s.y),PIXI.CanvasGraphics.renderGraphics(this,i.context),e},N.Graphics.prototype._renderWebGL=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask)if(this._cacheAsBitmap)(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,PIXI.Sprite.prototype._renderWebGL.call(this._cachedSprite,t);else{var e;if(t.spriteBatch.stop(),t.blendModeManager.setBlendMode(this.blendMode),this._mask&&t.maskManager.pushMask(this._mask,t),this._filters&&t.filterManager.pushFilter(this._filterBlock),this.blendMode!==t.spriteBatch.currentBlendMode&&(t.spriteBatch.currentBlendMode=this.blendMode,e=PIXI.blendModesWebGL[t.spriteBatch.currentBlendMode],t.spriteBatch.gl.blendFunc(e[0],e[1])),this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),PIXI.WebGLGraphics.renderGraphics(this,t),this.children.length){t.spriteBatch.start();for(var i=0;i<this.children.length;i++)this.children[i]._renderWebGL(t);t.spriteBatch.stop()}this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this.mask,t),t.drawCount++,t.spriteBatch.start()}},N.Graphics.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask)if(this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint),this._cacheAsBitmap)(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,PIXI.Sprite.prototype._renderCanvas.call(this._cachedSprite,t);else{var e=t.context,i=this.worldTransform,s=(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=PIXI.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t),t.resolution),n=i.tx*t.resolution+t.shakeX;e.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,n,i.ty*t.resolution+t.shakeY),PIXI.CanvasGraphics.renderGraphics(this,e);for(var o=0;o<this.children.length;o++)this.children[o]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},N.Graphics.prototype.getBounds=function(t){if(!this._currentBounds){if(this.isMask)return N.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var e=this._localBounds,i=e.x,s=e.width+e.x,n=e.y,e=e.height+e.y,t=t||this.worldTransform,o=t.a,r=t.b,a=t.c,h=t.d,l=t.tx,t=t.ty,c=o*s+a*e+l,u=h*e+r*s+t,d=o*i+a*e+l,e=h*e+r*i+t,p=o*i+a*n+l,i=h*n+r*i+t,o=o*s+a*n+l,a=h*n+r*s+t,l=o<(l=p<(l=d<c?d:c)?p:l)?o:l,h=a<(h=i<(h=e<u?e:u)?i:h)?a:h,n=(n=(n=c<d?d:c)<p?p:n)<o?o:n,r=(r=(r=u<e?e:u)<i?i:r)<a?a:r;this._bounds.x=l,this._bounds.width=n-l,this._bounds.y=h,this._bounds.height=r-h,this._currentBounds=this._bounds}return this._currentBounds},N.Graphics.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=N.identityMatrix;for(var e=0;e<this.children.length;e++)this.children[e].updateTransform();var i=this.getBounds();for(this.worldTransform=t,e=0;e<this.children.length;e++)this.children[e].updateTransform();return i},N.Graphics.prototype.containsPoint=function(t,e){void 0===e&&(e=new N.Point),this.worldTransform.applyInverse(t,e);for(var i=this.graphicsData,s=0;s<i.length;s++){var n=i[s];if(n.fill&&n.shape&&n.shape.contains(e.x,e.y))return!0}return!1},N.Graphics.prototype.getVisualBounds=function(t){return this._boundsDirty&&(this.updateLocalBounds(),this._boundsDirty=!1),this._localBounds.clone(t)},N.Graphics.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,s=-1/0;if(this.graphicsData.length)for(var n,o,r,a,h=0;h<this.graphicsData.length;h++){var l=this.graphicsData[h],c=l.type,u=l.lineWidth,l=l.shape;if(c===N.RECTANGLE||c===N.ROUNDEDRECTANGLE)t=(n=l.x-u/2)<t?n:t,e=e<n+(r=l.width+u)?n+r:e,i=(o=l.y-u/2)<i?o:i,s=s<o+(a=l.height+u)?o+a:s;else if(c===N.CIRCLE)t=(n=l.x)-(r=l.radius+u/2)<t?n-r:t,e=e<n+r?n+r:e,i=(o=l.y)-(a=l.radius+u/2)<i?o-a:i,s=s<o+a?o+a:s;else if(c===N.ELLIPSE)t=(n=l.x)-(r=l.width+u/2)<t?n-r:t,e=e<n+r?n+r:e,i=(o=l.y)-(a=l.height+u/2)<i?o-a:i,s=s<o+a?o+a:s;else for(var d=l.points,p=0;p<d.length;p++)d[p]instanceof N.Point?(n=d[p].x,o=d[p].y):(n=d[p],o=d[p+1],p<d.length-1&&p++),t=n-u<t?n-u:t,e=e<n+u?n+u:e,i=o-u<i?o-u:i,s=s<o+u?o+u:s}else s=i=e=t=0;var f=this.boundsPadding;this._localBounds.x=t-f,this._localBounds.width=e-t+2*f,this._localBounds.y=i-f,this._localBounds.height=s-i+2*f},N.Graphics.prototype._generateCachedSprite=function(){var t,e,i=this.getLocalBounds();this._cachedSprite?this._cachedSprite.buffer.resize(i.width,i.height):(t=new PIXI.CanvasBuffer(i.width,i.height),e=PIXI.Texture.fromCanvas(t.canvas),this._cachedSprite=new PIXI.Sprite(e),this._cachedSprite.buffer=t,this._cachedSprite.worldTransform=this.worldTransform),this._cachedSprite.anchor.x=-i.x/i.width,this._cachedSprite.anchor.y=-i.y/i.height,this._cachedSprite.buffer.context.translate(-i.x,-i.y),this.worldAlpha=1,PIXI.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},N.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,i=t.buffer.canvas;e.baseTexture.width=i.width,e.baseTexture.height=i.height,e.crop.width=e.frame.width=i.width,e.crop.height=e.frame.height=i.height,t._width=i.width,t._height=i.height,e.baseTexture.dirty()},N.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},N.Graphics.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null,t instanceof N.Polygon&&(t=t.clone()).flatten();t=new N.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(t),t.type===N.POLYGON&&(t.shape.closed=this.filling,this.currentPath=t),this.dirty=!0,this._boundsDirty=!0,t},Object.defineProperty(N.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():this.destroyCachedSprite(),this.dirty=!0,this.webGLDirty=!0}}),N.RenderTexture=function(t,e,i,s,n,o,r,a){void 0===e&&(e=100),void 0===i&&(i=100),void 0===s&&(s=""),void 0===n&&(n=N.scaleModes.DEFAULT),void 0===o&&(o=1),void 0===r&&(r=t.renderer),void 0===a&&(a=0),this.game=t,this.key=s,this.type=N.RENDERTEXTURE,this._tempMatrix=new N.Matrix,this.width=e,this.height=i,this.resolution=o,this.frame=new N.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=this.frame.clone(),this.baseTexture=new PIXI.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=n,this.baseTexture.hasLoaded=!0,PIXI.Texture.call(this,this.baseTexture,this.frame.clone()),this.renderer=r,this.renderer.type===N.WEBGL?(t=this.renderer.gl,this.baseTexture.textureIndex=a,this.baseTexture._dirty[t.id]=!1,this.textureBuffer=new PIXI.FilterTexture(t,this.width,this.height,this.baseTexture.scaleMode,a),this.baseTexture._glTextures[t.id]=this.textureBuffer.texture,this.projection=new N.Point(.5*this.width,.5*-this.height)):(this.textureBuffer=new PIXI.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas),this.valid=!0,this.tempMatrix=new N.Matrix,this._updateUvs()},N.RenderTexture.prototype=Object.create(PIXI.Texture.prototype),N.RenderTexture.prototype.constructor=N.RenderTexture,N.RenderTexture.prototype.renderXY=function(t,e,i,s){t.updateTransform(),this._tempMatrix.copyFrom(t.worldTransform),this._tempMatrix.tx=e,this._tempMatrix.ty=i,this.renderer.type===N.WEBGL?this._renderWebGL(t,this._tempMatrix,s):this._renderCanvas(t,this._tempMatrix,s)},N.RenderTexture.prototype.renderRawXY=function(t,e,i,s){this._tempMatrix.identity().translate(e,i),this.renderer.type===N.WEBGL?this._renderWebGL(t,this._tempMatrix,s):this._renderCanvas(t,this._tempMatrix,s)},N.RenderTexture.prototype.render=function(t,e,i){null==e?this._tempMatrix.copyFrom(t.worldTransform):this._tempMatrix.copyFrom(e),this.renderer.type===N.WEBGL?this._renderWebGL(t,this._tempMatrix,i):this._renderCanvas(t,this._tempMatrix,i)},N.RenderTexture.prototype.resize=function(t,e,i){t===this.width&&e===this.height||(this.valid=0<t&&0<e,this.width=t,this.height=e,this.frame.width=this.crop.width=t*this.resolution,this.frame.height=this.crop.height=e*this.resolution,i&&(this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution),this.renderer.type===N.WEBGL&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width,this.height))},N.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===N.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},N.RenderTexture.prototype._renderWebGL=function(t,e,i){if(this.valid&&0!==t.alpha){var s=t.worldTransform;s.identity(),s.translate(0,2*this.projection.y),e&&s.append(e),s.scale(1,-1);for(var n=0;n<t.children.length;n++)t.children[n].updateTransform();s=this.renderer.gl;s.viewport(0,0,this.width*this.resolution,this.height*this.resolution),s.bindFramebuffer(s.FRAMEBUFFER,this.textureBuffer.frameBuffer),i&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(t,this.projection,this.textureBuffer.frameBuffer,e),this.renderer.spriteBatch.dirty=!0,s.bindFramebuffer(s.FRAMEBUFFER,null)}},N.RenderTexture.prototype._renderCanvas=function(t,e,i){if(this.valid&&0!==t.alpha){var s=t.worldTransform;s.identity(),e&&s.append(e);for(var n=0;n<t.children.length;n++)t.children[n].updateTransform();i&&this.textureBuffer.clear();s=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,this.textureBuffer.context,e),this.renderer.resolution=s}},N.RenderTexture.prototype.getImage=function(t,e,i,s){var n=new Image;return n.src=this.getBase64(t,e),i&&(n.onload=i),s&&(n.onerror=s),n},N.RenderTexture.prototype.getBase64=function(t,e){return this.getCanvas().toDataURL(t,e)},N.RenderTexture.prototype.getCanvas=function(){var t,e,i,s;return(this.renderer.type!==N.WEBGL?this.textureBuffer:(i=this.renderer.gl,s=this.textureBuffer.width,t=this.textureBuffer.height,e=new Uint8Array(4*s*t),i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(0,0,s,t,i.RGBA,i.UNSIGNED_BYTE,e),i.bindFramebuffer(i.FRAMEBUFFER,null),(s=(i=new PIXI.CanvasBuffer(s,t)).context.getImageData(0,0,s,t)).data.set(e),i.context.putImageData(s,0,0),i)).canvas},N.Text=function(t,e,i,s,n){e=e||0,i=i||0,s=null==s?"":s.toString(),this.canvas=N.CanvasPool.create(this),N.Sprite.call(this,t,e,i,PIXI.Texture.fromCanvas(this.canvas)),this.type=N.TEXT,this.physicsType=N.SPRITE,this.padding=new N.Point,this.textBounds=null,this.context=this.canvas.getContext("2d"),this.colors=[],this.strokeColors=[],this.fontStyles=[],this.fontWeights=[],this.autoRound=!1,this.useAdvancedWrap=!1,this.splitRegExp=/(?:\r\n|\r|\n)/,this.characterLimitSize=-1,this.characterLimitSuffix="",this._testString="|MÂÉQfjq_",this._res=t.renderer.resolution,this._text=s,this._fontComponents=null,this._lineSpacing=0,this._charCount=0,this._width=0,this._height=0,this.style={},this.setStyle(n||{}),""!==s&&this.updateText()},N.Text.prototype=Object.create(N.Sprite.prototype),N.Text.prototype.constructor=N.Text,N.Text.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},N.Text.prototype.update=function(){},N.Text.prototype.destroy=function(t){this.texture.destroy(!0),N.Component.Destroy.prototype.destroy.call(this,t)},N.Text.prototype.setShadow=function(t,e,i,s,n,o){return void 0===e&&(e=0),void 0===i&&(i="rgba(0, 0, 0, 1)"),void 0===s&&(s=0),void 0===n&&(n=!0),void 0===o&&(o=!0),this.style.shadowOffsetX=t=void 0===t?0:t,this.style.shadowOffsetY=e,this.style.shadowColor=i,this.style.shadowBlur=s,this.style.shadowStroke=n,this.style.shadowFill=o,this.dirty=!0,this},N.Text.prototype.setStyle=function(t,e){void 0===e&&(e=!1);var i=Object.assign({},t),t=(i.font=t.font||"bold 20pt Arial",i.backgroundColor=t.backgroundColor||null,i.fill=t.fill||"black",i.align=(t.align||"left").toLowerCase(),i.boundsAlignH=(t.boundsAlignH||"left").toLowerCase(),i.boundsAlignV=(t.boundsAlignV||"top").toLowerCase(),i.stroke=t.stroke||"black",i.strokeThickness=Number(t.strokeThickness)||0,i.wordWrap=t.wordWrap||!1,i.wordWrapWidth=t.wordWrapWidth||100,i.maxLines=t.maxLines||0,i.shadowOffsetX=t.shadowOffsetX||0,i.shadowOffsetY=t.shadowOffsetY||0,i.shadowColor=t.shadowColor||"rgba(0,0,0,0)",i.shadowBlur=t.shadowBlur||0,i.tabs=t.tabs||0,i.fontProperties=t.fontProperties||null,this.fontToComponents(i.font));return i.fontStyle&&(t.fontStyle=i.fontStyle),i.fontVariant&&(t.fontVariant=i.fontVariant),i.fontWeight&&(t.fontWeight=i.fontWeight),i.fontSize&&("number"==typeof i.fontSize&&(i.fontSize=i.fontSize+"px"),t.fontSize=i.fontSize),this._fontComponents=t,i.font=this.componentsToFont(this._fontComponents),this.style=i,this.dirty=!0,i.testString&&(this.testString=i.testString),e&&this.updateText(),this},N.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font;var t=this.text,e=(-1<this.characterLimitSize&&this.characterLimitSize<t.length&&(t=this.text.substring(0,this.characterLimitSize)+this.characterLimitSuffix),(t=this.style.wordWrap?this.runWordWrap(this.text):t).split(this.splitRegExp)),i=this.style.tabs,s=[],n=0,o=this.style.fontProperties||this.determineFontProperties(this.style.font),r=e.length;0<this.style.maxLines&&this.style.maxLines<e.length&&(r=this.style.maxLines);for(var a=this._charCount=0;a<r;a++){if(0===i){var h=this.style.strokeThickness+this.padding.x;0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?h+=this.measureLine(e[a]):h+=this.context.measureText(e[a]).width,this.style.wordWrap&&(h-=this.context.measureText(" ").width)}else{var l=e[a].split(/(?:\t)/),h=this.padding.x+this.style.strokeThickness;if(Array.isArray(i))for(var c=0,u=0;u<l.length;u++){var d=0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?this.measureLine(l[u]):Math.ceil(this.context.measureText(l[u]).width);0<u&&(c+=i[u-1]),h=c+d}else for(u=0;u<l.length;u++)0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?h+=this.measureLine(l[u]):h+=Math.ceil(this.context.measureText(l[u]).width),h+=this.game.math.snapToCeil(h,i)-h}s[a]=Math.ceil(h),n=Math.max(n,s[a])}this.canvas.width=n*this._res;var p,f,g=o.fontSize+this.style.strokeThickness+this.padding.y,t=g*r,m=this._lineSpacing;for(0!==(m=m<0&&Math.abs(m)>g?-g:m)&&(t+=0<m?m*e.length:m*(e.length-1)),this.canvas.height=t*this._res,this.context.scale(this._res,this._res),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.style.backgroundColor&&(this.context.fillStyle=this.style.backgroundColor,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)),this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.textBaseline="alphabetic",this.context.lineWidth=this.style.strokeThickness,this.context.lineCap="round",this.context.lineJoin="round",a=this._charCount=0;a<r;a++)p=this.style.strokeThickness/2,f=this.style.strokeThickness/2+a*g+o.ascent,0<a&&(f+=m*a),"right"===this.style.align?p+=n-s[a]:"center"===this.style.align&&(p+=(n-s[a])/2),this.autoRound&&(p=Math.round(p),f=Math.round(f)),0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?this.updateLine(e[a],p,f):(this.style.stroke&&this.style.strokeThickness&&(this.updateShadow(this.style.shadowStroke),0===i?this.context.strokeText(e[a],p,f):this.renderTabLine(e[a],p,f,!1)),this.style.fill&&(this.updateShadow(this.style.shadowFill),0===i?this.context.fillText(e[a],p,f):this.renderTabLine(e[a],p,f,!0)));this.updateTexture(),this.dirty=!1},N.Text.prototype.renderTabLine=function(t,e,i,s){var n=t.split(/(?:\t)/),o=this.style.tabs,r=0;if(Array.isArray(o))for(var a=0,h=0;h<n.length;h++)0<h&&(a+=o[h-1]),r=e+a,s?this.context.fillText(n[h],r,i):this.context.strokeText(n[h],r,i);else for(h=0;h<n.length;h++){var l=Math.ceil(this.context.measureText(n[h]).width),r=this.game.math.snapToCeil(e,o);s?this.context.fillText(n[h],r,i):this.context.strokeText(n[h],r,i),e=r+l}},N.Text.prototype.updateShadow=function(t){t?(this.context.shadowOffsetX=this.style.shadowOffsetX,this.context.shadowOffsetY=this.style.shadowOffsetY,this.context.shadowColor=this.style.shadowColor,this.context.shadowBlur=this.style.shadowBlur):(this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowColor=0,this.context.shadowBlur=0)},N.Text.prototype.measureLine=function(t){for(var e=0,i=0;i<t.length;i++){var s,n=t[i];(0<this.fontWeights.length||0<this.fontStyles.length)&&(s=this.fontToComponents(this.context.font),this.fontStyles[this._charCount]&&(s.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(s.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(s)),this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill)),e+=this.context.measureText(n).width,this._charCount++}return Math.ceil(e)},N.Text.prototype.updateLine=function(t,e,i){for(var s=0;s<t.length;s++){var n,o=t[s];(0<this.fontWeights.length||0<this.fontStyles.length)&&(n=this.fontToComponents(this.context.font),this.fontStyles[this._charCount]&&(n.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(n.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(n)),this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke),this.context.strokeText(o,e,i)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill),this.context.fillText(o,e,i)),e+=this.context.measureText(o).width,this._charCount++}},N.Text.prototype.clearColors=function(){return this.colors=[],this.strokeColors=[],this.dirty=!0,this},N.Text.prototype.clearFontValues=function(){return this.fontStyles=[],this.fontWeights=[],this.dirty=!0,this},N.Text.prototype.addColor=function(t,e){return this.colors[e]=t,this.dirty=!0,this},N.Text.prototype.addStrokeColor=function(t,e){return this.strokeColors[e]=t,this.dirty=!0,this},N.Text.prototype.addFontStyle=function(t,e){return this.fontStyles[e]=t,this.dirty=!0,this},N.Text.prototype.addFontWeight=function(t,e){return this.fontWeights[e]=t,this.dirty=!0,this},N.Text.prototype.precalculateWordWrap=function(t){return this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font,this.runWordWrap(t).split(/(?:\r\n|\r|\n)/)},N.Text.prototype.runWordWrap=function(t){return this.useAdvancedWrap?this.advancedWordWrap(t):this.basicWordWrap(t)},N.Text.prototype.advancedWordWrap=function(t){for(var e=this.context,i=this.style.wordWrapWidth,s="",n=t.replace(/ +/gi," ").split(/\r?\n/gi),o=n.length,r=0;r<o;r++){var a="",h=(h=n[r]).replace(/^ *|\s*$/gi,"");if(e.measureText(h).width<i)s+=h+"\n";else{for(var l=i,c=h.split(" "),u=0;u<c.length;u++){var d=c[u],p=d+" ",f=e.measureText(p).width;if(l<f){if(0===u){for(var g=p;g.length&&(g=g.slice(0,-1),!((f=e.measureText(g).width)<=l)););if(!g.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");d=d.substr(g.length);c[u]=d,a+=g}d=c[u].length?u:u+1,d=c.slice(d).join(" ").replace(/[ \n]*$/gi,"");n[r+1]=d+" "+(n[r+1]||""),o=n.length;break}a+=p,l-=f}s+=a.replace(/[ \n]*$/gi,"")+"\n"}}return s.replace(/[\s|\n]*$/gi,"")},N.Text.prototype.basicWordWrap=function(t){for(var e="",i=t.split("\n"),s=0;s<i.length;s++){for(var n=this.style.wordWrapWidth,o=i[s].split(" "),r=0;r<o.length;r++){var a=this.context.measureText(o[r]).width,h=a+this.context.measureText(" ").width;n<h?(0<r&&(e+="\n"),e+=o[r]+" ",n=this.style.wordWrapWidth-a):(n-=h,e+=o[r]+" ")}s<i.length-1&&(e+="\n")}return e},N.Text.prototype.updateFont=function(t){t=this.componentsToFont(t);this.style.font!==t&&(this.style.font=t,this.dirty=!0,this.parent)&&this.updateTransform()},N.Text.prototype.fontToComponents=function(t){var e,i=t.match(/^\s*(?:\b(normal|italic|oblique|inherit)?\b)\s*(?:\b(normal|small-caps|inherit)?\b)\s*(?:\b(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)?\b)\s*(?:\b(xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller|0|\d*(?:[.]\d*)?(?:%|[a-z]{2,5}))?\b)\s*(.*)\s*$/);return i?(e=i[5].trim(),/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(e)||/['",]/.exec(e)||(e="'"+e+"'"),{font:t,fontStyle:i[1]||"normal",fontVariant:i[2]||"normal",fontWeight:i[3]||"normal",fontSize:i[4]||"medium",fontFamily:e}):(console.warn("Phaser.Text - unparsable CSS font: "+t),{font:t})},N.Text.prototype.componentsToFont=function(t){var e,i=[];return(e=t.fontStyle)&&"normal"!==e&&i.push(e),(e=t.fontVariant)&&"normal"!==e&&i.push(e),(e=t.fontWeight)&&"normal"!==e&&i.push(e),(e=t.fontSize)&&"medium"!==e&&i.push(e),(e=t.fontFamily)&&i.push(e),i.length||i.push(t.font),i.join(" ")},N.Text.prototype.setText=function(t,e){return void 0===e&&(e=!1),(t=t.toString()||"")!==this._text&&(this.text=t,e?this.updateText():this.dirty=!0),this},N.Text.prototype.parseList=function(t){if(Array.isArray(t)){for(var e="",i=0;i<t.length;i++)Array.isArray(t[i])?(e+=t[i].join("\t"),i<t.length-1&&(e+="\n")):(e+=t[i],i<t.length-1&&(e+="\t"));this.text=e,this.dirty=!0}return this},N.Text.prototype.setTextBounds=function(t,e,i,s){return void 0===t?this.textBounds=null:(this.textBounds?this.textBounds.setTo(t,e,i,s):this.textBounds=new N.Rectangle(t,e,i,s),this.style.wordWrapWidth>i&&(this.style.wordWrapWidth=i)),this.updateTexture(),this},N.Text.prototype.updateTexture=function(){var t=this.texture.baseTexture,e=this.texture.crop,i=this.texture.frame,s=this.canvas.width,n=this.canvas.height;t.width=s,t.height=n,e.width=s,e.height=n,i.width=s,i.height=n,this.texture.width=s,this.texture.height=n,this._width=s,this._height=n,this.textBounds&&(t=this.textBounds.x,e=this.textBounds.y,"right"===this.style.boundsAlignH?t+=this.textBounds.width-this.canvas.width/this.resolution:"center"===this.style.boundsAlignH&&(t+=this.textBounds.halfWidth-this.canvas.width/this.resolution/2),"bottom"===this.style.boundsAlignV?e+=this.textBounds.height-this.canvas.height/this.resolution:"middle"===this.style.boundsAlignV&&(e+=this.textBounds.halfHeight-this.canvas.height/this.resolution/2),this.pivot.x=-t,this.pivot.y=-e),this.renderable=0!==s&&0!==n,this.texture.requiresReTint=!0,this.texture.baseTexture.dirty()},N.Text.prototype._renderWebGL=function(t){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderWebGL.call(this,t)},N.Text.prototype._renderCanvas=function(t){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderCanvas.call(this,t)},N.Text.prototype.determineFontProperties=function(t){var e,i,s,n,o=N.Text.fontPropertiesCache[t];return o||((e=N.Text.fontPropertiesContext).font=t,o=(n=e.measureText(this.testString)).actualBoundingBoxAscent?{ascent:i=Math.ceil(n.actualBoundingBoxAscent),descent:s=Math.ceil(n.actualBoundingBoxDescent),fontSize:i+s}:(n=e.measureText("MX").width,{ascent:i=Math.ceil(.75*n),descent:s=Math.ceil(.25*n),fontSize:i+s}),N.Text.fontPropertiesCache[t]=o)},N.Text.prototype.getBounds=function(t){return this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype.getBounds.call(this,t)},N.Text.prototype.setCharacterLimit=function(t,e){this.characterLimitSuffix=void 0===e?"":e,this.characterLimitSize=t,this.updateText()},Object.defineProperty(N.Text.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t.toString()||"",this.dirty=!0,this.parent)&&this.updateTransform()}}),Object.defineProperty(N.Text.prototype,"cssFont",{get:function(){return this.componentsToFont(this._fontComponents)},set:function(t){this._fontComponents=this.fontToComponents(t=t||"bold 20pt Arial"),this.updateFont(this._fontComponents)}}),Object.defineProperty(N.Text.prototype,"font",{get:function(){return this._fontComponents.fontFamily},set:function(t){t=(t=t||"Arial").trim(),/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(t)||/['",]/.exec(t)||(t="'"+t+"'"),this._fontComponents.fontFamily=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(N.Text.prototype,"fontSize",{get:function(){var t=this._fontComponents.fontSize;return t&&/(?:^0$|px$)/.exec(t)?parseInt(t,10):t},set:function(t){"number"==typeof(t=t||"0")&&(t+="px"),this._fontComponents.fontSize=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(N.Text.prototype,"fontWeight",{get:function(){return this._fontComponents.fontWeight||"normal"},set:function(t){this._fontComponents.fontWeight=t=t||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(N.Text.prototype,"fontStyle",{get:function(){return this._fontComponents.fontStyle||"normal"},set:function(t){this._fontComponents.fontStyle=t=t||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(N.Text.prototype,"fontVariant",{get:function(){return this._fontComponents.fontVariant||"normal"},set:function(t){this._fontComponents.fontVariant=t=t||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(N.Text.prototype,"fill",{get:function(){return this.style.fill},set:function(t){t!==this.style.fill&&(this.style.fill=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"align",{get:function(){return this.style.align},set:function(t){(t=t.toLowerCase())!==this.style.align&&(this.style.align=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"resolution",{get:function(){return this._res},set:function(t){t!==this._res&&(this._res=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"tabs",{get:function(){return this.style.tabs},set:function(t){t!==this.style.tabs&&(this.style.tabs=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"boundsAlignH",{get:function(){return this.style.boundsAlignH},set:function(t){(t=t.toLowerCase())!==this.style.boundsAlignH&&(this.style.boundsAlignH=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"boundsAlignV",{get:function(){return this.style.boundsAlignV},set:function(t){(t=t.toLowerCase())!==this.style.boundsAlignV&&(this.style.boundsAlignV=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"stroke",{get:function(){return this.style.stroke},set:function(t){t!==this.style.stroke&&(this.style.stroke=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"strokeThickness",{get:function(){return this.style.strokeThickness},set:function(t){t!==this.style.strokeThickness&&(this.style.strokeThickness=Number(t),this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"wordWrap",{get:function(){return this.style.wordWrap},set:function(t){t!==this.style.wordWrap&&(this.style.wordWrap=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"wordWrapWidth",{get:function(){return this.style.wordWrapWidth},set:function(t){t!==this.style.wordWrapWidth&&(this.style.wordWrapWidth=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){t!==this._lineSpacing&&(this._lineSpacing=parseFloat(t),this.dirty=!0,this.parent)&&this.updateTransform()}}),Object.defineProperty(N.Text.prototype,"shadowOffsetX",{get:function(){return this.style.shadowOffsetX},set:function(t){t!==this.style.shadowOffsetX&&(this.style.shadowOffsetX=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"shadowOffsetY",{get:function(){return this.style.shadowOffsetY},set:function(t){t!==this.style.shadowOffsetY&&(this.style.shadowOffsetY=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"shadowColor",{get:function(){return this.style.shadowColor},set:function(t){t!==this.style.shadowColor&&(this.style.shadowColor=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"shadowBlur",{get:function(){return this.style.shadowBlur},set:function(t){t!==this.style.shadowBlur&&(this.style.shadowBlur=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"shadowStroke",{get:function(){return this.style.shadowStroke},set:function(t){t!==this.style.shadowStroke&&(this.style.shadowStroke=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"shadowFill",{get:function(){return this.style.shadowFill},set:function(t){t!==this.style.shadowFill&&(this.style.shadowFill=t,this.dirty=!0)}}),Object.defineProperty(N.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*(this.texture.frame.width/this.resolution)},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(N.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*(this.texture.frame.height/this.resolution)},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),Object.defineProperty(N.Text.prototype,"testString",{get:function(){return this._testString},set:function(t){this._testString=t,this.updateText()}}),N.Text.fontPropertiesCache={},N.Text.fontPropertiesCanvas=document.createElement("canvas"),N.Text.fontPropertiesContext=N.Text.fontPropertiesCanvas.getContext("2d"),N.BitmapText=function(t,e,i,s,n,o,r){e=e||0,i=i||0,s=s||"",n=n||"",o=o||32,r=r||"left",PIXI.DisplayObjectContainer.call(this),this.type=N.BITMAPTEXT,this.physicsType=N.SPRITE,this.textWidth=0,this.textHeight=0,this.anchor=new N.Point,this._prevAnchor=new N.Point,this._glyphs=[],this._maxWidth=0,this._text=n.toString()||"",this._data=t.cache.getBitmapFont(s),this._font=s,this._fontSize=o,this._align=r,this._letterSpacing=0,this._tint=16777215,this.updateText(),this.dirty=!1,N.Component.Core.init.call(this,t,e,i,"",null)},N.BitmapText.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),N.BitmapText.prototype.constructor=N.BitmapText,N.Component.Core.install.call(N.BitmapText.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),N.BitmapText.prototype.preUpdatePhysics=N.Component.PhysicsBody.preUpdate,N.BitmapText.prototype.preUpdateLifeSpan=N.Component.LifeSpan.preUpdate,N.BitmapText.prototype.preUpdateInWorld=N.Component.InWorld.preUpdate,N.BitmapText.prototype.preUpdateCore=N.Component.Core.preUpdate,N.BitmapText.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},N.BitmapText.prototype.postUpdate=function(){N.Component.PhysicsBody.postUpdate.call(this),N.Component.FixedToCamera.postUpdate.call(this),!this.body||this.body.type!==N.Physics.ARCADE||this.textWidth===this.body.sourceWidth&&this.textHeight===this.body.sourceHeight||this.body.setSize(this.textWidth,this.textHeight)},N.BitmapText.prototype.setText=function(t){this.text=t},N.BitmapText.prototype.scanLine=function(t,e,i){for(var s=0,n=0,o=-1,r=0,a=null,h=0<this._maxWidth?this._maxWidth:null,l=[],c=0;c<i.length;c++){var u=c===i.length-1;if(/(?:\r\n|\r|\n)/.test(i.charAt(c)))return{width:n,text:i.substr(0,c),end:u,chars:l};var d,p=i.charCodeAt(c),f=t.chars[p],g=(void 0===f&&(f=t.chars[p=32]),a&&f.kerning[a]?f.kerning[a]:0);if(/(\s)/.test(i.charAt(c))&&(o=c,r=n),d=(g+f.texture.width+f.xOffset)*e,h&&h<=n+d&&-1<o)return{width:r||n,text:i.substr(0,c-(c-o)),end:!1,chars:l};n+=(f.xAdvance+g+this.letterSpacing)*e,l.push(s+(f.xOffset+g+this.letterSpacing)*e),s+=(f.xAdvance+g+this.letterSpacing)*e,a=p}return{width:n,text:i,end:u,chars:l}},N.BitmapText.prototype.cleanText=function(t,e){void 0===e&&(e="");var i=this._data.font;if(!i)return"";for(var s=t.replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),n=0;n<s.length;n++){for(var o="",r=s[n],a=0;a<r.length;a++)o=i.chars[r.charCodeAt(a)]?o.concat(r[a]):o.concat(e);s[n]=o}return s.join("\n")},N.BitmapText.prototype.updateText=function(){var t=this._data.font;if(t){var e=this.text,i=this._fontSize/t.size,s=[],n=0;for(this.textWidth=0;(c=this.scanLine(t,i,e)).y=n,s.push(c),c.width>this.textWidth&&(this.textWidth=c.width),n+=t.lineHeight*i,e=e.substr(c.text.length+1),!1===c.end;);this.textHeight=n;for(var o=0,r=0,a=this.textWidth*this.anchor.x,h=this.textHeight*this.anchor.y,l=0;l<s.length;l++){var c=s[l];"right"===this._align?r=this.textWidth-c.width:"center"===this._align&&(r=(this.textWidth-c.width)/2);for(var u=0;u<c.text.length;u++){var d=c.text.charCodeAt(u),d=t.chars[d],p=(void 0===d&&(d=t.chars[32]),this._glyphs[o]);p?p.texture=d.texture:((p=new PIXI.Sprite(d.texture)).name=c.text[u],this._glyphs.push(p)),p.position.x=c.chars[u]+r-a,p.position.y=c.y+d.yOffset*i-h,p.scale.set(i),p.tint=this.tint,p.texture.requiresReTint=!0,p.cachedTint=16777215,p.parent||this.addChild(p),o++}}for(l=o;l<this._glyphs.length;l++)this.removeChild(this._glyphs[l])}},N.BitmapText.prototype.purgeGlyphs=function(){for(var t=this._glyphs.length,e=[],i=0;i<this._glyphs.length;i++)this._glyphs[i].parent!==this?this._glyphs[i].destroy():e.push(this._glyphs[i]);return this._glyphs=[],this._glyphs=e,this.updateText(),t-e.length},N.BitmapText.prototype.updateTransform=function(){!this.dirty&&this.anchor.equals(this._prevAnchor)||(this.updateText(),this.dirty=!1,this._prevAnchor.copyFrom(this.anchor)),PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)},Object.defineProperty(N.BitmapText.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){"number"==typeof t&&(this._letterSpacing=t,this.updateText())}}),Object.defineProperty(N.BitmapText.prototype,"align",{get:function(){return this._align},set:function(t){t===this._align||"left"!==t&&"center"!==t&&"right"!==t||(this._align=t,this.updateText())}}),Object.defineProperty(N.BitmapText.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this.updateText())}}),Object.defineProperty(N.BitmapText.prototype,"font",{get:function(){return this._font},set:function(t){t!==this._font&&(this._font=t.trim(),this._data=this.game.cache.getBitmapFont(this._font),this.updateText())}}),Object.defineProperty(N.BitmapText.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){(t=parseInt(t,10))!==this._fontSize&&0<t&&(this._fontSize=t,this.updateText())}}),Object.defineProperty(N.BitmapText.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t.toString()||"",this.updateText())}}),Object.defineProperty(N.BitmapText.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){t!==this._maxWidth&&(this._maxWidth=t,this.updateText())}}),Object.defineProperty(N.BitmapText.prototype,"smoothed",{get:function(){return!this._data.base.scaleMode},set:function(t){this._data.base.scaleMode=t?0:1,this._data.base.dirty()}}),N.RetroFont=function(t,e,i,s,n,o,r,a,h,l){if(!t.cache.checkImageKey(e))return!1;null==o&&(o=t.cache.getImage(e).width/i),this.characterWidth=i,this.characterHeight=s,this.characterSpacingX=r||0,this.characterSpacingY=a||0,this.characterPerRow=o,this.offsetX=h||0,this.offsetY=l||0,this.align="left",this.multiLine=!1,this.autoUpperCase=!0,this.customSpacingX=0,this.customSpacingY=0,this.fixedWidth=0,this.fontSet=t.cache.getImage(e),this._text="",this.grabData=[],this.frameData=new N.FrameData;for(var c=this.offsetX,u=this.offsetY,d=0,p=0;p<n.length;p++){var f=this.frameData.addFrame(new N.Frame(p,c,u,this.characterWidth,this.characterHeight));this.grabData[n.charCodeAt(p)]=f.index,++d===this.characterPerRow?(d=0,c=this.offsetX,u+=this.characterHeight+this.characterSpacingY):c+=this.characterWidth+this.characterSpacingX}t.cache.updateFrameData(e,this.frameData),this.stamp=new N.Image(t,0,0,e,0),N.RenderTexture.call(this,t,100,100,"",N.scaleModes.NEAREST),this.type=N.RETROFONT},N.RetroFont.prototype=Object.create(N.RenderTexture.prototype),N.RetroFont.prototype.constructor=N.RetroFont,N.RetroFont.ALIGN_LEFT="left",N.RetroFont.ALIGN_RIGHT="right",N.RetroFont.ALIGN_CENTER="center",N.RetroFont.TEXT_SET1=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",N.RetroFont.TEXT_SET2=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",N.RetroFont.TEXT_SET3="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",N.RetroFont.TEXT_SET4="ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",N.RetroFont.TEXT_SET5="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",N.RetroFont.TEXT_SET6="ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",N.RetroFont.TEXT_SET7="AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",N.RetroFont.TEXT_SET8="0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",N.RetroFont.TEXT_SET9="ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",N.RetroFont.TEXT_SET10="ABCDEFGHIJKLMNOPQRSTUVWXYZ",N.RetroFont.TEXT_SET11="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789",N.RetroFont.prototype.setFixedWidth=function(t,e){void 0===e&&(e="left"),this.fixedWidth=t,this.align=e},N.RetroFont.prototype.setText=function(t,e,i,s,n,o){this.multiLine=e||!1,this.customSpacingX=i||0,this.customSpacingY=s||0,this.align=n||"left",this.autoUpperCase=!o,0<t.length&&(this.text=t)},N.RetroFont.prototype.buildRetroFontText=function(){var t=0,e=0;if(this.clear(),this.multiLine){var i=this._text.split("\n");0<this.fixedWidth?this.resize(this.fixedWidth,i.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0):this.resize(this.getLongestLine()*(this.characterWidth+this.customSpacingX),i.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0);for(var s=0;s<i.length;s++)t=0,this.align===N.RetroFont.ALIGN_RIGHT?t=this.width-i[s].length*(this.characterWidth+this.customSpacingX):this.align===N.RetroFont.ALIGN_CENTER&&(t=this.width/2-i[s].length*(this.characterWidth+this.customSpacingX)/2,t+=this.customSpacingX/2),this.pasteLine(i[s],t=t<0?0:t,e,this.customSpacingX),e+=this.characterHeight+this.customSpacingY}else 0<this.fixedWidth?this.resize(this.fixedWidth,this.characterHeight,!0):this.resize(this._text.length*(this.characterWidth+this.customSpacingX),this.characterHeight,!0),t=0,this.align===N.RetroFont.ALIGN_RIGHT?t=this.width-this._text.length*(this.characterWidth+this.customSpacingX):this.align===N.RetroFont.ALIGN_CENTER&&(t=this.width/2-this._text.length*(this.characterWidth+this.customSpacingX)/2,t+=this.customSpacingX/2),this.pasteLine(this._text,t=t<0?0:t,0,this.customSpacingX);this.requiresReTint=!0},N.RetroFont.prototype.pasteLine=function(t,e,i,s){for(var n=0;n<t.length;n++)if(" "===t.charAt(n))e+=this.characterWidth+s;else if(0<=this.grabData[t.charCodeAt(n)]&&(this.stamp.frame=this.grabData[t.charCodeAt(n)],this.renderXY(this.stamp,e,i,!1),(e+=this.characterWidth+s)>this.width))break},N.RetroFont.prototype.getLongestLine=function(){var t=0;if(0<this._text.length)for(var e=this._text.split("\n"),i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length);return t},N.RetroFont.prototype.removeUnsupportedCharacters=function(t){for(var e="",i=0;i<this._text.length;i++){var s=this._text[i],n=s.charCodeAt(0);(0<=this.grabData[n]||!t&&"\n"===s)&&(e=e.concat(s))}return e},N.RetroFont.prototype.updateOffset=function(t,e){if(this.offsetX!==t||this.offsetY!==e){for(var i=t-this.offsetX,s=e-this.offsetY,n=this.game.cache.getFrameData(this.stamp.key).getFrames(),o=n.length;o--;)n[o].x+=i,n[o].y+=s;this.buildRetroFontText()}},Object.defineProperty(N.RetroFont.prototype,"text",{get:function(){return this._text},set:function(t){(t=this.autoUpperCase?t.toUpperCase():t)!==this._text&&(this._text=t,this.removeUnsupportedCharacters(this.multiLine),this.buildRetroFontText())}}),Object.defineProperty(N.RetroFont.prototype,"smoothed",{get:function(){return this.stamp.smoothed},set:function(t){this.stamp.smoothed=t,this.buildRetroFontText()}}),N.Rope=function(t,e,i,s,n,o){this.points=o||[],this._hasUpdateAnimation=!1,this._updateAnimationCallback=null,e=e||0,i=i||0,s=s||null,n=n||null,this.type=N.ROPE,PIXI.DisplayObjectContainer.call(this),this.texture=N.Cache.DEFAULT,this.uvs=new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=new Float32Array([0,0,100,0,100,100,0,100]),this.colors=new Float32Array([1,1,1,1]),this.indices=new Uint16Array([0,1,2,3]),o&&(this.vertices=new Float32Array(4*o.length),this.uvs=new Float32Array(4*o.length),this.colors=new Float32Array(2*o.length),this.indices=new Uint16Array(2*o.length)),this.dirty=!0,this.canvasPadding=0,this.drawMode=N.Rope.TRIANGLE_STRIP,N.Component.Core.init.call(this,t,e,i,s,n),this.refresh()},N.Rope.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),N.Rope.prototype.constructor=N.Rope,N.Component.Core.install.call(N.Rope.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),N.Rope.prototype.preUpdatePhysics=N.Component.PhysicsBody.preUpdate,N.Rope.prototype.preUpdateLifeSpan=N.Component.LifeSpan.preUpdate,N.Rope.prototype.preUpdateInWorld=N.Component.InWorld.preUpdate,N.Rope.prototype.preUpdateCore=N.Component.Core.preUpdate,N.Rope.TRIANGLE_STRIP=0,N.Rope.TRIANGLES=1,N.Rope.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},N.Rope.prototype.update=function(){this._hasUpdateAnimation&&this.updateAnimation.call(this)},N.Rope.prototype.reset=function(t,e){return N.Component.Reset.prototype.reset.call(this,t,e),this},N.Rope.prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,i=this.indices,s=this.colors;this.count-=.2;for(var n,o,r=t.length,a=0;a<r;a++)e[n=4*a]=o=a/(r-1),e[1+n]=0,e[2+n]=o,e[3+n]=1,s[n=2*a]=1,s[1+n]=1,i[n=2*a]=n,i[1+n]=1+n}},N.Rope.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e=t[0],i={x:0,y:0};this.count-=.2;for(var s,n,o,r,a=this.vertices,h=t.length,l=this.texture.height/2,c=0;c<h;c++)s=t[c],n=4*c,o=c<h-1?t[c+1]:s,i.y=-(o.x-e.x),i.x=o.y-e.y,o=Math.sqrt(i.x*i.x+i.y*i.y),r=l,i.x/=o,i.y/=o,i.x*=r,i.y*=r,a[n]=s.x+i.x,a[1+n]=s.y+i.y,a[2+n]=s.x-i.x,a[3+n]=s.y-i.y,e=s;PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)}},N.Rope.prototype.setTexture=function(t){this.texture=t},N.Rope.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||(t.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(t),t.shaderManager.setShader(t.shaderManager.stripShader),this._renderStrip(t),t.spriteBatch.start())},N.Rope.prototype._initWebGL=function(t){t=t.gl;this._vertexBuffer=t.createBuffer(),this._indexBuffer=t.createBuffer(),this._uvBuffer=t.createBuffer(),this._colorBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colors,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},N.Rope.prototype._renderStrip=function(t){var e=t.gl,i=t.projection,s=t.offset,n=t.shaderManager.stripShader,o=this.drawMode===N.Rope.TRIANGLE_STRIP?e.TRIANGLE_STRIP:e.TRIANGLES;t.blendModeManager.setBlendMode(this.blendMode),e.uniformMatrix3fv(n.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(n.projectionVector,i.x,-i.y),e.uniform2f(n.offsetVector,-s.x,-s.y),e.uniform1f(n.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.STATIC_DRAW),e.vertexAttribPointer(n.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.vertexAttribPointer(n.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)):(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.vertexAttribPointer(n.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.vertexAttribPointer(n.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),e.drawElements(o,this.indices.length,e.UNSIGNED_SHORT,0)},N.Rope.prototype._renderCanvas=function(t){var e,i,s,n;!this.visible||this.alpha<=0||(e=t.context,s=(i=this.worldTransform).tx*t.resolution+t.shakeX,n=i.ty*t.resolution+t.shakeY,t.roundPixels?e.setTransform(i.a,i.b,i.c,i.d,0|s,0|n):e.setTransform(i.a,i.b,i.c,i.d,s,n),this.drawMode===N.Rope.TRIANGLE_STRIP?this._renderCanvasTriangleStrip(e):this._renderCanvasTriangles(e))},N.Rope.prototype._renderCanvasTriangleStrip=function(t){var e=this.vertices,i=this.uvs,s=e.length/2;this.count++;for(var n=0;n<s-2;n++){var o=2*n;this._renderCanvasDrawTriangle(t,e,i,o,2+o,4+o)}},N.Rope.prototype._renderCanvasTriangles=function(t){var e=this.vertices,i=this.uvs,s=this.indices,n=s.length;this.count++;for(var o=0;o<n;o+=3){var r=2*s[o],a=2*s[o+1],h=2*s[o+2];this._renderCanvasDrawTriangle(t,e,i,r,a,h)}},N.Rope.prototype._renderCanvasDrawTriangle=function(t,e,i,s,n,o){var r,a,h,l,c=this.texture.baseTexture.source,u=this.texture.width,d=this.texture.height,p=e[s],f=e[n],g=e[o],m=e[s+1],y=e[n+1],e=e[o+1],v=i[s]*u,x=i[n]*u,u=i[o]*u,s=i[s+1]*d,n=i[n+1]*d,i=i[o+1]*d,b=(0<this.canvasPadding&&(o=this.canvasPadding/this.worldTransform.a,d=this.canvasPadding/this.worldTransform.d,l=m-(r=(m+y+e)/3),p=(b=(p+f+g)/3)+(a=p-b)/(h=Math.sqrt(a*a+l*l))*(h+o),m=r+l/h*(h+d),l=y-r,f=b+(a=f-b)/(h=Math.sqrt(a*a+l*l))*(h+o),y=r+l/h*(h+d),l=e-r,g=b+(a=g-b)/(h=Math.sqrt(a*a+l*l))*(h+o),e=r+l/h*(h+d)),t.save(),t.beginPath(),t.moveTo(p,m),t.lineTo(f,y),t.lineTo(g,e),t.closePath(),t.clip(),v*n+s*u+x*i-n*u-s*x-v*i);t.transform((p*n+s*g+f*i-n*g-s*f-p*i)/b,(m*n+s*e+y*i-n*e-s*y-m*i)/b,(v*f+p*u+x*g-f*u-p*x-v*g)/b,(v*y+m*u+x*e-y*u-m*x-v*e)/b,(v*n*g+s*f*u+p*x*i-p*n*u-s*x*g-v*f*i)/b,(v*n*e+s*y*u+m*x*i-m*n*u-s*x*e-v*y*i)/b),t.drawImage(c,0,0),t.restore()},N.Rope.prototype.renderStripFlat=function(t){var e=this.context,i=t.vertices,s=i.length/2;this.count++,e.beginPath();for(var n=1;n<s-2;n++){var o=2*n,r=i[o],a=i[2+o],h=i[4+o],l=i[1+o],c=i[3+o],o=i[5+o];e.moveTo(r,l),e.lineTo(a,c),e.lineTo(h,o)}e.fillStyle="#FF0000",e.fill(),e.closePath()},N.Rope.prototype.getBounds=function(t){for(var t=t||this.worldTransform,e=t.a,i=t.b,s=t.c,n=t.d,o=t.tx,r=t.ty,a=-1/0,h=-1/0,l=1/0,c=1/0,u=this.vertices,d=0;d<u.length;d+=2)var p=u[d],f=u[d+1],g=e*p+s*f+o,f=n*f+i*p+r,l=g<l?g:l,c=f<c?f:c,a=a<g?g:a,h=h<f?f:h;return l===-1/0||h===1/0?N.EmptyRectangle:((t=this._bounds).x=l,t.width=a-l,t.y=c,t.height=h-c,this._currentBounds=t)},Object.defineProperty(N.Rope.prototype,"updateAnimation",{get:function(){return this._updateAnimation},set:function(t){t&&"function"==typeof t?(this._hasUpdateAnimation=!0,this._updateAnimation=t):(this._hasUpdateAnimation=!1,this._updateAnimation=null)}}),Object.defineProperty(N.Rope.prototype,"segments",{get:function(){for(var t,e,i,s,n=[],o=0;o<this.points.length;o++)s=this.vertices[i=4*o]*this.scale.x,t=this.vertices[1+i]*this.scale.y,e=this.vertices[4+i]*this.scale.x,i=this.vertices[3+i]*this.scale.y,e=N.Math.difference(s,e),i=N.Math.difference(t,i),s+=this.world.x,t+=this.world.y,s=new N.Rectangle(s,t,e,i),n.push(s);return n}}),N.TileSprite=function(t,e,i,s,n,o,r){e=e||0,i=i||0,s=s||256,n=n||256,o=o||null,r=r||null,PIXI.Sprite.call(this,new PIXI.Texture(N.Cache.DEFAULT.baseTexture),s,n),this.type=N.TILESPRITE,this.physicsType=N.SPRITE,this._scroll=new N.Point,this.tileScale=new N.Point(1,1),this.tileScaleOffset=new N.Point(1,1),this.tilePosition=new N.Point,this.textureDebug=!1,this.canvasBuffer=null,this.tilingTexture=null,this.tilePattern=null,this.refreshTexture=!0,this.frameWidth=0,this.frameHeight=0,this._width=s,this._height=n,N.Component.Core.init.call(this,t,e,i,o,r)},N.TileSprite.prototype=Object.create(PIXI.Sprite.prototype),N.TileSprite.prototype.constructor=N.TileSprite,N.Component.Core.install.call(N.TileSprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","Smoothed"]),N.TileSprite.prototype.preUpdatePhysics=N.Component.PhysicsBody.preUpdate,N.TileSprite.prototype.preUpdateLifeSpan=N.Component.LifeSpan.preUpdate,N.TileSprite.prototype.preUpdateInWorld=N.Component.InWorld.preUpdate,N.TileSprite.prototype.preUpdateCore=N.Component.Core.preUpdate,N.TileSprite.prototype.preUpdate=function(){return 0!==this._scroll.x&&(this.tilePosition.x+=.001*this._scroll.x*this.game.time.delta),0!==this._scroll.y&&(this.tilePosition.y+=.001*this._scroll.y*this.game.time.delta),!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},N.TileSprite.prototype.autoScroll=function(t,e){return this._scroll.set(t,e),this},N.TileSprite.prototype.stopScroll=function(){return this._scroll.set(0,0),this},N.TileSprite.prototype.destroy=function(t){N.Component.Destroy.prototype.destroy.call(this,t),PIXI.Sprite.prototype.destroy.call(this),this.canvasBuffer&&(this.canvasBuffer.destroy(),this.canvasBuffer=null),this.tileScale=null,this.tileScaleOffset=null,this.tilePosition=null,this.tilingTexture&&(this.tilingTexture.destroy(!0),this.tilingTexture=null)},N.TileSprite.prototype.reset=function(t,e){return N.Component.Reset.prototype.reset.call(this,t,e),this.tilePosition.x=0,this.tilePosition.y=0,this},N.TileSprite.prototype.setTexture=function(t){return this.texture!==t&&(this.texture=t,this.refreshTexture=!0,this.cachedTint=16777215),this},N.TileSprite.prototype._renderWebGL=function(t){if(this.visible&&this.renderable&&0!==this.alpha){if(this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this.refreshTexture){if(this.generateTilingTexture(!0,t),!this.tilingTexture)return;this.tilingTexture.needsUpdate&&(this.tilingTexture.baseTexture.textureIndex=this.texture.baseTexture.textureIndex,t.renderer.updateTexture(this.tilingTexture.baseTexture),this.tilingTexture.needsUpdate=!1)}t.spriteBatch.renderTilingSprite(this);for(var e=0;e<this.children.length;e++)this.children[e]._renderWebGL(t);var i=!1;this._filters&&(i=!0,t.spriteBatch.stop(),t.filterManager.popFilter()),this._mask&&(i||t.spriteBatch.stop(),t.maskManager.popMask(this._mask,t)),i&&t.spriteBatch.start()}},N.TileSprite.prototype._renderCanvas=function(t){if(this.visible&&this.renderable&&0!==this.alpha){var e=t.context,i=(this._mask&&t.maskManager.pushMask(this._mask,t),e.globalAlpha=this.worldAlpha,this.worldTransform),s=t.resolution,n=i.tx*s+t.shakeX,o=i.ty*s+t.shakeY;if(e.setTransform(i.a*s,i.b*s,i.c*s,i.d*s,n,o),16777215===this.tint||!this.texture.requiresReTint&&this.cachedTint===this.tint||(this.tintedTexture=PIXI.CanvasTinter.getTintedTexture(this,this.tint),this.cachedTint=this.tint,this.texture.requiresReTint=!1,this.refreshTexture=!0),this.refreshTexture){if(this.generateTilingTexture(!1,t),!this.tilingTexture)return;this.tilePattern=e.createPattern(this.tilingTexture.baseTexture.source,"repeat")}var i=t.currentBlendMode,s=(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=PIXI.blendModesCanvas[t.currentBlendMode]),this.tilePosition),r=this.tileScale,a=(s.x%=this.tilingTexture.baseTexture.width,s.y%=this.tilingTexture.baseTexture.height,e.scale(r.x,r.y),e.translate(s.x+this.anchor.x*-this._width,s.y+this.anchor.y*-this._height),e.fillStyle=this.tilePattern,n=-s.x,o=-s.y,this._width/r.x),h=this._height/r.y;t.roundPixels&&(n|=0,o|=0,a|=0,h|=0),e.fillRect(n,o,a,h),e.scale(1/r.x,1/r.y),e.translate(-s.x+this.anchor.x*this._width,-s.y+this.anchor.y*this._height),this._mask&&t.maskManager.popMask(t);for(var l=0;l<this.children.length;l++)this.children[l]._renderCanvas(t);i!==this.blendMode&&(t.currentBlendMode=i,e.globalCompositeOperation=PIXI.blendModesCanvas[i])}},N.TileSprite.prototype.onTextureUpdate=function(){},N.TileSprite.prototype.generateTilingTexture=function(t){var e,i,s,n,o,r,a,h;this.texture.baseTexture.hasLoaded&&(i=(e=this.texture).frame,s=this._frame.sourceSizeW||this._frame.width,n=this._frame.sourceSizeH||this._frame.height,r=o=0,this._frame.trimmed&&(o=this._frame.spriteSourceSizeX,r=this._frame.spriteSourceSizeY),t&&(s=N.Math.getNextPowerOfTwo(s),n=N.Math.getNextPowerOfTwo(n)),this.canvasBuffer?(this.canvasBuffer.resize(s,n),this.tilingTexture.baseTexture.width=s,this.tilingTexture.baseTexture.height=n):(this.canvasBuffer=new PIXI.CanvasBuffer(s,n),this.tilingTexture=PIXI.Texture.fromCanvas(this.canvasBuffer.canvas),this.tilingTexture.isTiling=!0),this.tilingTexture.needsUpdate=!0,this.textureDebug&&(this.canvasBuffer.context.strokeStyle="#00ff00",this.canvasBuffer.context.strokeRect(0,0,s,n)),t=e.crop.width,a=e.crop.height,t===s&&a===n||(t=s,a=n),h=this.tintedTexture||e.baseTexture.source,this.canvasBuffer.context.drawImage(h,e.crop.x,e.crop.y,e.crop.width,e.crop.height,o,r,t,a),this.tileScaleOffset.x=i.width/s,this.tileScaleOffset.y=i.height/n,this.refreshTexture=!1,this.tilingTexture.baseTexture._powerOf2=!0)},N.TileSprite.prototype.getBounds=function(){var t=this._width,e=this._height,i=t*(1-this.anchor.x),t=t*-this.anchor.x,s=e*(1-this.anchor.y),e=e*-this.anchor.y,n=this.worldTransform,o=n.a,r=n.b,a=n.c,h=n.d,l=n.tx,n=n.ty,c=o*t+a*e+l,u=h*e+r*t+n,d=o*i+a*e+l,e=h*e+r*i+n,p=o*i+a*s+l,i=h*s+r*i+n,o=o*t+a*s+l,a=h*s+r*t+n,l=o<(l=p<(l=d<(l=c<1/0?c:1/0)?d:l)?p:l)?o:l,h=a<(h=i<(h=e<(h=u<1/0?u:1/0)?e:h)?i:h)?a:h,s=(s=(s=(s=-1/0<c?c:-1/0)<d?d:s)<p?p:s)<o?o:s,r=(r=(r=(r=-1/0<u?u:-1/0)<e?e:r)<i?i:r)<a?a:r,t=this._bounds;return t.x=l,t.width=s-l,t.y=h,t.height=r-h,this._currentBounds=t},Object.defineProperty(N.TileSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(N.TileSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),N.CanvasPool={create:function(t,e,i){var s=N.CanvasPool.getFirst(),n=(-1===s?(n={parent:t,canvas:document.createElement("canvas")},N.CanvasPool.pool.push(n),n):(N.CanvasPool.pool[s].parent=t,N.CanvasPool.pool[s])).canvas;return void 0!==e&&(n.width=e,n.height=i),n},getFirst:function(){for(var t=N.CanvasPool.pool,e=0;e<t.length;e++)if(!t[e].parent)return e;return-1},remove:function(t){for(var e=N.CanvasPool.pool,i=0;i<e.length;i++)e[i].parent===t&&(e[i].parent=null,e[i].canvas.width=1,e[i].canvas.height=1)},removeByCanvas:function(t){for(var e=N.CanvasPool.pool,i=0;i<e.length;i++)e[i].canvas===t&&(e[i].parent=null,e[i].canvas.width=1,e[i].canvas.height=1)},getTotal:function(){for(var t=N.CanvasPool.pool,e=0,i=0;i<t.length;i++)t[i].parent&&e++;return e},getFree:function(){for(var t=N.CanvasPool.pool,e=0,i=0;i<t.length;i++)t[i].parent||e++;return e},log:function(){console.log("CanvasPool: %s used, %s free, %s total",N.CanvasPool.getTotal(),N.CanvasPool.getFree(),N.CanvasPool.pool.length)},clear:function(){N.CanvasPool.pool.length=0}},N.CanvasPool.pool=[],Object.defineProperty(N.CanvasPool,"length",{get:function(){return this.pool.length}}),N.Device=function(){this.deviceReadyAt=0,this.initialized=!1,this.desktop=!1,this.iOS=!1,this.iOSVersion=0,this.cocoonJS=!1,this.cocoonJSApp=!1,this.cordova=!1,this.node=!1,this.nodeWebkit=!1,this.electron=!1,this.ejecta=!1,this.crosswalk=!1,this.android=!1,this.chromeOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.windowsPhone=!1,this.canvas=!1,this.canvasBitBltShift=null,this.canHandleAlpha=!1,this.canUseMultiply=!1,this.webGL=!1,this.file=!1,this.fileSystem=!1,this.localStorage=!1,this.worker=!1,this.css3D=!1,this.pointerLock=!1,this.typedArray=!1,this.vibration=!1,this.getUserMedia=!0,this.quirksMode=!1,this.touch=!1,this.mspointer=!1,this.wheelEvent=null,this.arora=!1,this.chrome=!1,this.chromeVersion=0,this.epiphany=!1,this.firefox=!1,this.firefoxVersion=0,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.edge=!1,this.mobileSafari=!1,this.midori=!1,this.opera=!1,this.safari=!1,this.safariVersion=0,this.webApp=!1,this.silk=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1,this.dolby=!1,this.oggVideo=!1,this.h264Video=!1,this.mp4Video=!1,this.webmVideo=!1,this.vp9Video=!1,this.hlsVideo=!1,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.pixelRatio=0,this.littleEndian=!1,this.LITTLE_ENDIAN=!1,this.support32bit=!1,this.fullscreen=!1,this.requestFullscreen="",this.cancelFullscreen="",this.fullscreenKeyboard=!1},N.Device=new N.Device,N.Device.onInitialized=new N.Signal,N.Device.whenReady=function(t,e,i){var s=this._readyCheck;this.deviceReadyAt||!s?t.call(e,this):s._monitor||i?(s._queue=s._queue||[],s._queue.push([t,e])):(s._monitor=s.bind(this),s._queue=s._queue||[],s._queue.push([t,e]),i=void 0!==window.cordova,t=navigator.isCocoonJS,"complete"===document.readyState||"interactive"===document.readyState?window.setTimeout(s._monitor,0):i&&!t?document.addEventListener("deviceready",s._monitor,!1):(document.addEventListener("DOMContentLoaded",s._monitor,!1),window.addEventListener("load",s._monitor,!1)))},N.Device._readyCheck=function(){var t,e=this._readyCheck;if(document.body){if(!this.deviceReadyAt){for(this.deviceReadyAt=Date.now(),document.removeEventListener("deviceready",e._monitor),document.removeEventListener("DOMContentLoaded",e._monitor),window.removeEventListener("load",e._monitor),this._initialize(),this.initialized=!0,this.onInitialized.dispatch(this);t=e._queue.shift();)t[0].call(t[1],this);this._readyCheck=null,this._initialize=null,this.onInitialized=null}}else window.setTimeout(e._monitor,20)},N.Device._initialize=function(){var t,e,n=this,i=(t=navigator.userAgent,/Playstation Vita/.test(t)?n.vita=!0:/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?n.kindle=!0:/Android/.test(t)?n.android=!0:/CrOS/.test(t)?n.chromeOS=!0:/iP[ao]d|iPhone/i.test(t)?(n.iOS=!0,navigator.appVersion.match(/OS (\d+)/),n.iOSVersion=parseInt(RegExp.$1,10)):/Linux/.test(t)?n.linux=!0:/Mac OS/.test(t)?n.macOS=!0:/Windows/.test(t)&&(n.windows=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(n.android=!1,n.iOS=!1,n.macOS=!1,n.windows=!0,n.windowsPhone=!0),e=/Silk/.test(t),(n.windows||n.macOS||n.linux&&!e||n.chromeOS)&&(n.desktop=!0),(n.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(n.desktop=!1),navigator.userAgent);if(/Arora/.test(i)?n.arora=!0:/Edge\/\d+/.test(i)?n.edge=!0:/Chrome\/(\d+)/.test(i)&&!n.windowsPhone?(n.chrome=!0,n.chromeVersion=parseInt(RegExp.$1,10)):/Epiphany/.test(i)?n.epiphany=!0:/Firefox\D+(\d+)/.test(i)?(n.firefox=!0,n.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(i)&&n.iOS?n.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(i)?(n.ie=!0,n.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(i)?n.midori=!0:/Opera/.test(i)?n.opera=!0:/Safari\/(\d+)/.test(i)&&!n.windowsPhone?(n.safari=!0,/Version\/(\d+)\./.test(i)&&(n.safariVersion=parseInt(RegExp.$1,10))):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(i)&&(n.ie=!0,n.trident=!0,n.tridentVersion=parseInt(RegExp.$1,10),n.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(i)&&(n.silk=!0),navigator.standalone&&(n.webApp=!0),void 0!==window.cordova&&(n.cordova=!0),"undefined"!=typeof process&&"undefined"!=typeof require&&(n.node=!0),n.node&&"object"==typeof process.versions&&(n.nodeWebkit=!!process.versions["node-webkit"],n.electron=!!process.versions.electron),navigator.isCocoonJS&&(n.cocoonJS=!0),n.cocoonJS)try{n.cocoonJSApp="undefined"!=typeof CocoonJS}catch(i){n.cocoonJSApp=!1}void 0!==window.ejecta&&(n.ejecta=!0),/Crosswalk/.test(i)&&(n.crosswalk=!0),n.audioData=!!window.Audio,n.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var s,o,r=document.createElement("audio");try{r.canPlayType&&(r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(n.ogg=!0),(r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||r.canPlayType("audio/opus;").replace(/^no$/,""))&&(n.opus=!0),r.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(n.mp3=!0),r.canPlayType("audio/wav").replace(/^no$/,"")&&(n.wav=!0),(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/aac;").replace(/^no$/,""))&&(n.m4a=!0),r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(n.webm=!0),""!==r.canPlayType('audio/mp4;codecs="ec-3"'))&&(n.edge||n.safari&&9<=n.safariVersion&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)&&(s=parseInt(RegExp.$1,10),o=parseInt(RegExp.$2,10),10===s&&11<=o||10<s))&&(n.dolby=!0)}catch(r){}var a=document.createElement("video");try{a.canPlayType&&(a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(n.oggVideo=!0),a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(n.h264Video=!0,n.mp4Video=!0),a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(n.webmVideo=!0),a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(n.vp9Video=!0),a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))&&(n.hlsVideo=!0)}catch(a){}var h,l,c=document.createElement("p"),u={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(l in document.body.insertBefore(c,null),u)void 0!==c.style[l]&&(c.style[l]="translate3d(1px,1px,1px)",h=window.getComputedStyle(c).getPropertyValue(u[l]));document.body.removeChild(c),n.css3D=void 0!==h&&0<h.length&&"none"!==h,n.pixelRatio=window.devicePixelRatio||1,n.iPhone=-1!==navigator.userAgent.toLowerCase().indexOf("iphone"),n.iPhone4=2===n.pixelRatio&&n.iPhone,n.iPad=-1!==navigator.userAgent.toLowerCase().indexOf("ipad"),"undefined"!=typeof Int8Array?n.typedArray=!0:n.typedArray=!1,"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(n.littleEndian=(e=new ArrayBuffer(4),t=new Uint8Array(e),o=new Uint32Array(e),t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===o[0]||2712847316!==o[0]&&null),n.LITTLE_ENDIAN=n.littleEndian),n.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==n.littleEndian&&function(){var t;return void 0!==Uint8ClampedArray&&!!(t=N.CanvasPool.create(this,1,1).getContext("2d"))&&(t=t.createImageData(1,1),N.CanvasPool.remove(this),t.data instanceof Uint8ClampedArray)}(),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(n.vibration=!0),n.canvas=!!window.CanvasRenderingContext2D||n.cocoonJS;try{n.localStorage=!!localStorage.getItem}catch(t){n.localStorage=!1}n.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),n.fileSystem=!!window.requestFileSystem,n.webGL=!!window.WebGLRenderingContext,n.worker=!!window.Worker,n.pointerLockElement=("pointerLockElement"in document?"pointerLockElement":"mozPointerLockElement"in document&&"mozPointerLockElement")||"webkitPointerLockElement"in document&&"webkitPointerLockElement",n.pointerlockchange=("onpointerlockchange"in document?"pointerlockchange":"onmozpointerlockchange"in document&&"mozpointerlockchange")||"onwebkitpointerlockchange"in document&&"webkitpointerlockchange",n.pointerlockerror=("onpointerlockerror"in document?"pointerlockerror":"onmozpointerlockerror"in document&&"mozpointerlockerror")||"onwebkitpointerlockerror"in document&&"webkitpointerlockerror",n.pointerLock=!!n.pointerLockElement,n.quirksMode="CSS1Compat"!==document.compatMode,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,n.getUserMedia=n.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,n.firefox&&n.firefoxVersion<21&&(n.getUserMedia=!1),!n.iOS&&(n.ie||n.firefox||n.chrome)&&(n.canvasBitBltShift=!0),(n.safari||n.mobileSafari)&&(n.canvasBitBltShift=!1),function(){var t,e=N.CanvasPool.create(this,6,1),i=e.getContext("2d"),s=(i.fillStyle="rgba(10, 20, 30, 0.5)",i.fillRect(0,0,1,1),i.getImageData(0,0,1,1));s&&(i.putImageData(s,1,0),t=i.getImageData(1,0,1,1),n.canHandleAlpha=t.data[0]===s.data[0]&&t.data[1]===s.data[1]&&t.data[2]===s.data[2]&&t.data[3]===s.data[3]),i.globalCompositeOperation="multiply",n.canUseMultiply="multiply"===i.globalCompositeOperation,N.CanvasPool.removeByCanvas(e),PIXI.CanvasTinter.tintMethod=n.canUseMultiply?PIXI.CanvasTinter.tintWithMultiply:PIXI.CanvasTinter.tintWithPerPixel}();for(var d=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],p=document.createElement("div"),f=0;f<d.length;f++)if(p[d[f]]){n.fullscreen=!0,n.requestFullscreen=d[f];break}var g=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(n.fullscreen)for(f=0;f<g.length;f++)if(document[g[f]]){n.cancelFullscreen=g[f];break}window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(n.fullscreenKeyboard=!0),("ontouchstart"in document.documentElement||window.navigator.maxTouchPoints&&1<=window.navigator.maxTouchPoints)&&(n.touch=!0),(window.PointerEvent||window.MSPointerEvent||window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&(n.mspointer=!0),n.cocoonJS||("onwheel"in window||n.ie&&"WheelEvent"in window?n.wheelEvent="wheel":"onmousewheel"in window?n.wheelEvent="mousewheel":n.firefox&&"MouseScrollEvent"in window&&(n.wheelEvent="DOMMouseScroll"))},N.Device.canPlayAudio=function(t){return!!("mp3"===t&&this.mp3||"ogg"===t&&(this.ogg||this.opus)||"m4a"===t&&this.m4a||"opus"===t&&this.opus||"wav"===t&&this.wav||"webm"===t&&this.webm||"mp4"===t&&this.dolby)},N.Device.canPlayVideo=function(t){return!!("webm"===t&&(this.webmVideo||this.vp9Video)||"mp4"===t&&(this.mp4Video||this.h264Video)||("ogg"===t||"ogv"===t)&&this.oggVideo||"mpeg"===t&&this.hlsVideo)},N.Device.needsTouchUnlock=function(){return!!(!this.cocoonJS&&(this.iOS||this.android)||window.PhaserGlobal&&window.PhaserGlobal.fakeiOSTouchLock)},N.Device.isAndroidStockBrowser=function(){var t=window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);return t&&t[1]<537},N.Canvas={create:function(t,e,i,s,n){e=e||256,i=i||256;n=n?document.createElement("canvas"):N.CanvasPool.create(t,e,i);return"string"==typeof s&&""!==s&&(n.id=s),n.width=e,n.height=i,n.style.display="block",n},setBackgroundColor:function(t,e){return t.style.backgroundColor=e=e||"rgb(0,0,0)",t},setTouchAction:function(t,e){return t.style.msTouchAction=e=e||"none",t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t},setUserSelect:function(t,e){return t.style["-webkit-touch-callout"]=e=e||"none",t.style["-webkit-user-select"]=e,t.style["-khtml-user-select"]=e,t.style["-moz-user-select"]=e,t.style["-ms-user-select"]=e,t.style["user-select"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t},addToDOM:function(t,e,i){var s;return void 0===i&&(i=!0),e&&("string"==typeof e?s=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(s=e)),s=s||document.body,i&&s.style&&(s.style.overflow="hidden"),s.appendChild(t),t},removeFromDOM:function(t){t.parentNode&&t.parentNode.removeChild(t)},setTransform:function(t,e,i,s,n,o,r){return t.setTransform(s,o,r,n,e,i),t},setSmoothingEnabled:function(t,e){var i=N.Canvas.getSmoothingPrefix(t);return i&&(t[i]=e),t},getSmoothingPrefix:function(t){var e,i=["i","webkitI","msI","mozI","oI"];for(e in i){var s=i[e]+"mageSmoothingEnabled";if(s in t)return s}return null},getSmoothingEnabled:function(t){var e=N.Canvas.getSmoothingPrefix(t);if(e)return t[e]},setImageRenderingCrisp:function(t){for(var e=["-webkit-optimize-contrast","-moz-crisp-edges","crisp-edges","pixelated"],i=0;i<e.length;i++)t.style["image-rendering"]=e[i];return t.style.msInterpolationMode="nearest-neighbor",t},setImageRenderingBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}},N.RequestAnimationFrame=function(t,e){this.lastTime=performance.now(),this.lastTime2=this.lastTime,this.lastTime3=this.lastTime2,this.lastTime4=this.lastTime3,this.currentTime22=this.lastTime3,this.elapsed=0,void(this.elapsed2=0)===e&&(e=!1),this.game=t,this.isRunning=!1,this.forceSetTimeOut=e;for(var i=["ms","moz","webkit","o"],s=0;s<i.length&&!window.requestAnimationFrame;s++)window.requestAnimationFrame=window[i[s]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[s]+"CancelAnimationFrame"]||window[i[s]+"CancelRequestAnimationFrame"];this._isSetTimeOut=!1,this._onLoop=null,this._onLoop2=null,this._timeOutID=null,this._timeOutID2=null},N.RequestAnimationFrame.prototype={start:function(){this.isRunning=!0;let t=60,s=(t,Date.now(),this.fpsRate=60,performance.now());var e,n=0;window.Worker?(e=new Blob([`
            self.onmessage = function (e) {
            let start = Date.now();
    
    function testTimeout() {
    let elapsed = Date.now() - start;
                    postMessage({p:performance.now(),e:elapsed,t:Date.now()});
    start = Date.now();
    requestAnimationFrame(testTimeout); // بدلاً من setTimeout
    }
    
    
    
                let start2 = Date.now();
    
                function testTimeout2() {
                    let elapsed = Date.now() - start2;
                    // نقوم بإرسال الوقت المنقضي إلى الصفحة الرئيسية
                    postMessage({p:performance.now(),e:elapsed,t:Date.now()});
                    start = Date.now();
                    setTimeout(testTimeout, 0); // 1 ثانية
                }
     testTimeout2()
                
            };
        `],{type:"application/javascript"}),(e=new Worker(URL.createObjectURL(e))).onmessage=t=>{var e,i=Math.max(0,this.nn),i=(this.nn=performance.now(),this.nn-i);(3e3<this.nn-this.currentTime22||3e3<this.nn-this.currentTime222)&&(e=parseFloat("1000")/parseFloat(this.fpsRate))<=i&&(s+=e,this.nn-s>=500+e&&(s=this.nn),n++,document.title="Pool Live Plus "+".".repeat(n),n%=3,this.update(Date.now(),2))},e.postMessage("start")):console.log("Web Workers غير مدعومة في هذا المتصفح.");var i=performance.now();this._onLoop=t=>{cancelAnimationFrame(this._timeOutID),this._timeOutID=requestAnimationFrame(this._onLoop),this.currentTime22=performance.now(),this.elapsed=this.currentTime22-this.lastTime;var e=this.currentTime22-this.lastTime4,i=Math.max(parseFloat("1000")/parseFloat(this.fpsRate));i<=e&&(this.lastTime4+=i,this.currentTime22-this.lastTime4>=i+500&&(this.lastTime4=this.currentTime22),this.update(Date.now(),1),document.title="Pool Live Plus "),this.lastTime=this.currentTime22},this._onLoop22=()=>{var t=performance.now();this.elapsed=t-i,i=performance.now();this.elapsed,this.update(Date.now()-this.elapsed),this._timeOutID=requestAnimationFrame(this._onLoop)};let o=60;o;this._onLoop2=t=>{clearTimeout(this._timeOutID2),this._timeOutID2=window.setTimeout(this._onLoop2,Math.max(0,this.game.time.timeToCall-10)),this.currentTime222=performance.now(),this.elapsed2=this.currentTime222-this.lastTime2;var e=this.currentTime222-this.lastTime3,i=parseFloat("1000")/parseFloat(this.fpsRate);2500<this.lastTime2-this.lastTime&&i<=e&&(this.lastTime3+=i,this.currentTime22-this.lastTime3>=500+i&&(this.lastTime3=this.currentTime222),this.update(Date.now()-this.elapsed2,2),document.title="Pool Live Plus ~ "),this.lastTime2=this.currentTime222,this._timeOutID2=window.setTimeout(this._onLoop2,0)},this._timeOutID=window.requestAnimationFrame(this._onLoop),this._timeOutID2=window.setTimeout(this._onLoop2,0)},update:function(t,e){this.game.update(Math.floor(t))},updateRAF:function(t){this.isRunning&&(this.game.update(Math.floor(t)),this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateSetTimeout:function(){this.isRunning&&(this.game.update(Math.floor(Date.now())),this._timeOutID=window.setTimeout(this._onLoop,this.game.time.timeToCall))},stop:function(){this._isSetTimeOut?clearTimeout(this._timeOutID2):window.cancelAnimationFrame(this._timeOutID),this.isRunning=!1},isSetTimeOut:function(){return this._isSetTimeOut},isRAF:function(){return!1===this._isSetTimeOut}},N.RequestAnimationFrame.prototype.constructor=N.RequestAnimationFrame,N.Math={PI2:2*Math.PI,HALF_PI:.5*Math.PI,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,degToRad:function(t){return t*N.Math.DEG_TO_RAD},radToDeg:function(t){return t*N.Math.RAD_TO_DEG},getNextPowerOfTwo:function(t){if(0<t&&0==(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},isPowerOfTwo:function(t,e){return 0<t&&0==(t&t-1)&&0<e&&0==(e&e-1)},random:function(t,e){var i;return(t=void 0===t?0:t)===(e=void 0===e?1:e)?t:(e<t&&(i=t,t=e,e=i),Math.random()*(e-t)+t)},between:function(t,e){var i;return(t=void 0===t?0:t)===(e=void 0===e?1:e)?t:(e<t&&(i=t,t=e,e=i),t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t)},fuzzyEqual:function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i},fuzzyLessThan:function(t,e,i){return t<e+(i=void 0===i?1e-4:i)},fuzzyGreaterThan:function(t,e,i){return e-(i=void 0===i?1e-4:i)<t},fuzzyCeil:function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)},fuzzyFloor:function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)},average:function(){for(var t=0,e=arguments.length,i=0;i<e;i++)t+=+arguments[i];return t/e},shear:function(t){return t%1},snapTo:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,i+e*Math.round(t/e))},snapToFloor:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,i+e*Math.floor(t/e))},snapToCeil:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,i+e*Math.ceil(t/e))},roundTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);i=Math.pow(i,-e);return Math.round(t*i)/i},floorTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);i=Math.pow(i,-e);return Math.floor(t*i)/i},ceilTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);i=Math.pow(i,-e);return Math.ceil(t*i)/i},trunc:function(t){return isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t},rotateToAngle:function(t,e,i){return void 0===i&&(i=.05),t!==e&&(Math.abs(e-t)<=i||Math.abs(e-t)>=N.Math.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=N.Math.PI2:e-=N.Math.PI2),t<e?t+=i:e<t&&(t-=i))),t},getShortestAngle:function(t,e){e-=t;return 0==e?0:e-360*Math.floor((e+180)/360)},angleBetween:function(t,e,i,s){return Math.atan2(s-e,i-t)},angleBetweenY:function(t,e,i,s){return Math.atan2(i-t,s-e)},angleBetweenPoints:function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},angleBetweenPointsY:function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},reverseAngle:function(t){return this.normalizeAngle(t+Math.PI,!0)},normalizeAngle:function(t){return 0<=(t%=2*Math.PI)?t:t+2*Math.PI},maxAdd:function(t,e,i){return Math.min(t+e,i)},minSub:function(t,e,i){return Math.max(t-e,i)},wrap:function(t,e,i){i-=e;return i<=0?0:((t=(t-e)%i)<0&&(t+=i),t+e)},wrapValue:function(t,e,i){return((t=Math.abs(t))+(e=Math.abs(e)))%Math.abs(i)},isOdd:function(t){return!!(1&t)},isEven:function(t){return!(1&t)},min:function(){for(var t=1===arguments.length&&"object"==typeof arguments[0]?arguments[0]:arguments,e=1,i=0,s=t.length;e<s;e++)t[e]<t[i]&&(i=e);return t[i]},max:function(){for(var t=1===arguments.length&&"object"==typeof arguments[0]?arguments[0]:arguments,e=1,i=0,s=t.length;e<s;e++)t[e]>t[i]&&(i=e);return t[i]},minProperty:function(t){for(var e=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:arguments.slice(1),i=1,s=0,n=e.length;i<n;i++)e[i][t]<e[s][t]&&(s=i);return e[s][t]},maxProperty:function(t){for(var e=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:arguments.slice(1),i=1,s=0,n=e.length;i<n;i++)e[i][t]>e[s][t]&&(s=i);return e[s][t]},wrapAngle:function(t,e){return e?this.wrap(t,-Math.PI,Math.PI):this.wrap(t,-180,180)},linearInterpolation:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s);return e<0?this.linear(t[0],t[1],s):1<e?this.linear(t[i],t[i-1],i-s):this.linear(t[n],t[i<n+1?i:n+1],s-n)},bezierInterpolation:function(t,e){for(var i=0,s=t.length-1,n=0;n<=s;n++)i+=Math.pow(1-e,s-n)*Math.pow(e,n)*t[n]*this.bernstein(s,n);return i},catmullRomInterpolation:function(t,e){var i=t.length-1,s=i*e,n=Math.floor(s);return t[0]===t[i]?(e<0&&(n=Math.floor(s=i*(1+e))),this.catmullRom(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],s-n)):e<0?t[0]-(this.catmullRom(t[0],t[0],t[1],t[1],-s)-t[0]):1<e?t[i]-(this.catmullRom(t[i],t[i],t[i-1],t[i-1],s-i)-t[i]):this.catmullRom(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],s-n)},linear:function(t,e,i){return(e-t)*i+t},bernstein:function(t,e){return this.factorial(t)/this.factorial(e)/this.factorial(t-e)},factorial:function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e},catmullRom:function(t,e,i,s,n){var t=.5*(i-t),s=.5*(s-e),o=n*n;return n*o*(2*e-2*i+t+s)+(-3*e+3*i-2*t-s)*o+t*n+e},difference:function(t,e){return Math.abs(t-e)},roundAwayFromZero:function(t){return 0<t?Math.ceil(t):Math.floor(t)},sinCosGenerator:function(t,e,i,s){for(var n=e=void 0===e?1:e,o=i=void 0===i?1:i,r=(s=void 0===s?1:s)*Math.PI/t,a=[],h=[],l=0;l<t;l++)n+=(o-=n*r)*r,a[l]=o,h[l]=n;return{sin:h,cos:a,length:t}},hypot:function(t,e){return Math.sqrt(t*t+e*e)},distance:function(t,e,i,s){t-=i,i=e-s;return Math.sqrt(t*t+i*i)},distanceSq:function(t,e,i,s){t-=i,i=e-s;return t*t+i*i},distancePow:function(t,e,i,s,n){return void 0===n&&(n=2),Math.sqrt(Math.pow(i-t,n)+Math.pow(s-e,n))},clamp:function(t,e,i){return t<e?e:i<t?i:t},clampBottom:function(t,e){return t<e?e:t},within:function(t,e,i){return Math.abs(t-e)<=i},mapLinear:function(t,e,i,s,n){return s+(t-e)*(n-s)/(i-e)},smoothstep:function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*(3-2*t)},smootherstep:function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)},sign:function(t){return t<0?-1:0<t?1:0},percent:function(t,e,i){return void 0===i&&(i=0),e<t||e<i?1:t<i?0:(t-i)/e}},N.RandomDataGenerator=function(t){void 0===t&&(t=[]),this.c=1,this.s0=0,this.s1=0,this.s2=0,"string"==typeof t?this.state(t):this.sow(t)},N.RandomDataGenerator.prototype={rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},sow:function(t){if(this.s0=this.hash(" "),this.s1=this.hash(this.s0),this.s2=this.hash(this.s1),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},hash:function(t){var e,i,s=4022871197;for(t=t.toString(),i=0;i<t.length;i++)s=(e=((e=.02519603282416938*(s+=t.charCodeAt(i)))-(s=e>>>0))*s)>>>0,s+=4294967296*(e-=s);return 2.3283064365386963e-10*(s>>>0)},integer:function(){return 4294967296*this.rnd.apply(this)},frac:function(){return this.rnd.apply(this)+11102230246251565e-32*(2097152*this.rnd.apply(this)|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return this.integerInRange(t,e)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){for(var t="",e="",e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick([-1,1])},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")}},N.RandomDataGenerator.prototype.constructor=N.RandomDataGenerator,N.QuadTree=function(t,e,i,s,n,o,r){this.maxObjects=10,this.maxLevels=4,this.level=0,this.bounds={},this.objects=[],this.nodes=[],this._empty=[],this.reset(t,e,i,s,n,o,r)},N.QuadTree.prototype={reset:function(t,e,i,s,n,o,r){this.maxObjects=n||10,this.maxLevels=o||4,this.level=r||0,this.bounds={x:Math.round(t),y:Math.round(e),width:i,height:s,subWidth:Math.floor(i/2),subHeight:Math.floor(s/2),right:Math.round(t)+Math.floor(i/2),bottom:Math.round(e)+Math.floor(s/2)},this.objects.length=0,this.nodes.length=0},populate:function(t){t.forEach(this.populateHandler,this,!0)},populateHandler:function(t){t.body&&t.exists&&this.insert(t.body)},split:function(){this.nodes[0]=new N.QuadTree(this.bounds.right,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[1]=new N.QuadTree(this.bounds.x,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[2]=new N.QuadTree(this.bounds.x,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[3]=new N.QuadTree(this.bounds.right,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1)},insert:function(t){var e,i=0;if(null==this.nodes[0]||-1===(e=this.getIndex(t))){if(this.objects.push(t),this.objects.length>this.maxObjects&&this.level<this.maxLevels)for(null==this.nodes[0]&&this.split();i<this.objects.length;)-1!==(e=this.getIndex(this.objects[i]))?this.nodes[e].insert(this.objects.splice(i,1)[0]):i++}else this.nodes[e].insert(t)},getIndex:function(t){var e=-1;return t.x<this.bounds.right&&t.right<this.bounds.right?t.y<this.bounds.bottom&&t.bottom<this.bounds.bottom?e=1:t.y>this.bounds.bottom&&(e=2):t.x>this.bounds.right&&(t.y<this.bounds.bottom&&t.bottom<this.bounds.bottom?e=0:t.y>this.bounds.bottom&&(e=3)),e},retrieve:function(t){if(t instanceof N.Rectangle)var e=this.objects,i=this.getIndex(t);else{if(!t.body)return this._empty;e=this.objects,i=this.getIndex(t.body)}return e=this.nodes[0]?-1!==i?e.concat(this.nodes[i].retrieve(t)):(e=(e=(e=e.concat(this.nodes[0].retrieve(t))).concat(this.nodes[1].retrieve(t))).concat(this.nodes[2].retrieve(t))).concat(this.nodes[3].retrieve(t)):e},clear:function(){this.objects.length=0;for(var t=this.nodes.length;t--;)this.nodes[t].clear(),this.nodes.splice(t,1);this.nodes.length=0}},N.QuadTree.prototype.constructor=N.QuadTree,N.TweenManager=function(t){this.game=t,this._tweens=[],this._add=[],this.easeMap={Power0:N.Easing.Power0,Power1:N.Easing.Power1,Power2:N.Easing.Power2,Power3:N.Easing.Power3,Power4:N.Easing.Power4,Linear:N.Easing.Linear.None,Quad:N.Easing.Quadratic.Out,Cubic:N.Easing.Cubic.Out,Quart:N.Easing.Quartic.Out,Quint:N.Easing.Quintic.Out,Sine:N.Easing.Sinusoidal.Out,Expo:N.Easing.Exponential.Out,Circ:N.Easing.Circular.Out,Elastic:N.Easing.Elastic.Out,Back:N.Easing.Back.Out,Bounce:N.Easing.Bounce.Out,"Quad.easeIn":N.Easing.Quadratic.In,"Cubic.easeIn":N.Easing.Cubic.In,"Quart.easeIn":N.Easing.Quartic.In,"Quint.easeIn":N.Easing.Quintic.In,"Sine.easeIn":N.Easing.Sinusoidal.In,"Expo.easeIn":N.Easing.Exponential.In,"Circ.easeIn":N.Easing.Circular.In,"Elastic.easeIn":N.Easing.Elastic.In,"Back.easeIn":N.Easing.Back.In,"Bounce.easeIn":N.Easing.Bounce.In,"Quad.easeOut":N.Easing.Quadratic.Out,"Cubic.easeOut":N.Easing.Cubic.Out,"Quart.easeOut":N.Easing.Quartic.Out,"Quint.easeOut":N.Easing.Quintic.Out,"Sine.easeOut":N.Easing.Sinusoidal.Out,"Expo.easeOut":N.Easing.Exponential.Out,"Circ.easeOut":N.Easing.Circular.Out,"Elastic.easeOut":N.Easing.Elastic.Out,"Back.easeOut":N.Easing.Back.Out,"Bounce.easeOut":N.Easing.Bounce.Out,"Quad.easeInOut":N.Easing.Quadratic.InOut,"Cubic.easeInOut":N.Easing.Cubic.InOut,"Quart.easeInOut":N.Easing.Quartic.InOut,"Quint.easeInOut":N.Easing.Quintic.InOut,"Sine.easeInOut":N.Easing.Sinusoidal.InOut,"Expo.easeInOut":N.Easing.Exponential.InOut,"Circ.easeInOut":N.Easing.Circular.InOut,"Elastic.easeInOut":N.Easing.Elastic.InOut,"Back.easeInOut":N.Easing.Back.InOut,"Bounce.easeInOut":N.Easing.Bounce.InOut},this.game.onPause.add(this._pauseAll,this),this.game.onResume.add(this._resumeAll,this)},N.TweenManager.prototype={getAll:function(){return this._tweens},removeAll:function(){for(var t=0;t<this._tweens.length;t++)this._tweens[t].pendingDelete=!0;this._add=[]},removeFrom:function(t,e){if(void 0===e&&(e=!0),Array.isArray(t))for(i=0,s=t.length;i<s;i++)this.removeFrom(t[i]);else if(t.type===N.GROUP&&e)for(var i=0,s=t.children.length;i<s;i++)this.removeFrom(t.children[i]);else{for(i=0,s=this._tweens.length;i<s;i++)t===this._tweens[i].target&&this.remove(this._tweens[i]);for(i=0,s=this._add.length;i<s;i++)t===this._add[i].target&&this.remove(this._add[i])}},add:function(t){(t._manager=this)._add.push(t)},create:function(t){return new N.Tween(t,this.game,this)},remove:function(t){var e=this._tweens.indexOf(t);-1!==e?this._tweens[e].pendingDelete=!0:-1!==(e=this._add.indexOf(t))&&(this._add[e].pendingDelete=!0)},update:function(){var t=this._add.length,e=this._tweens.length;if(0===e&&0===t)return!1;for(var i=0;i<e;)this._tweens[i].update(this.game.time.deltaTotal)?i++:(this._tweens.splice(i,1),e--);return 0<t&&(this._tweens=this._tweens.concat(this._add),this._add.length=0),!0},isTweening:function(e,i){return i=i||!1,this._tweens.some(function(t){return t.target===e&&(!i||t.isRunning&&!t.pendingDelete)})},_pauseAll:function(){for(var t=this._tweens.length-1;0<=t;t--)this._tweens[t]._pause()},_resumeAll:function(){for(var t=this._tweens.length-1;0<=t;t--)this._tweens[t]._resume()},pauseAll:function(){for(var t=this._tweens.length-1;0<=t;t--)this._tweens[t].pause()},resumeAll:function(){for(var t=this._tweens.length-1;0<=t;t--)this._tweens[t].resume(!0)},destroy:function(){this.game.onPause.remove(this._pauseAll,this),this.game.onResume.remove(this._resumeAll,this),this.game=null,this._add=null,this._tweens=null}},N.TweenManager.prototype.constructor=N.TweenManager,N.Tween=function(t,e,i){this.game=e,this.target=t,this.manager=i,this.timeline=[],this.reverse=!1,this.timeScale=1,this.repeatCounter=0,this.pendingDelete=!1,this.onStart=new N.Signal,this.onLoop=new N.Signal,this.onRepeat=new N.Signal,this.onChildComplete=new N.Signal,this.onComplete=new N.Signal,this.isRunning=!1,this.current=0,this.properties={},this.chainedTween=null,this.isPaused=!1,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,this._pausedTime=0,this._codePaused=!1,this._hasStarted=!1},N.Tween.updateColor=function(t){N.Color.updateColor(t.target)},N.Tween.prototype={to:function(t,e,i,s,n,o,r){return(void 0===e||e<=0)&&(e=1e3),void 0===s&&(s=!1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!1),"string"==typeof(i=null==i?N.Easing.Default:i)&&this.manager.easeMap[i]&&(i=this.manager.easeMap[i]),this.isRunning?console.warn("Phaser.Tween.to cannot be called after Tween.start"):(this.timeline.push(new N.TweenData(this).to(t,e,i,n,o,r)),s&&this.start()),this},from:function(t,e,i,s,n,o,r){return void 0===e&&(e=1e3),void 0===s&&(s=!1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=!1),"string"==typeof(i=null==i?N.Easing.Default:i)&&this.manager.easeMap[i]&&(i=this.manager.easeMap[i]),this.isRunning?console.warn("Phaser.Tween.from cannot be called after Tween.start"):(this.timeline.push(new N.TweenData(this).from(t,e,i,n,o,r)),s&&this.start()),this},start:function(t){if(void 0===t&&(t=0),this.pendingDelete)console.warn("Phaser.Tween.start cannot be called after Tween.stop");else if(null!==this.game&&null!==this.target&&0!==this.timeline.length&&!this.isRunning){for(var e=0;e<this.timeline.length;e++)for(var i in this.timeline[e].vEnd)this.properties[i]=this.target[i]||0,Array.isArray(this.properties[i])||(this.properties[i]*=1);for(e=0;e<this.timeline.length;e++)this.timeline[e].loadValues();this.manager.add(this),this.isRunning=!0,(t<0||t>this.timeline.length-1)&&(t=0),this.current=t,this.timeline[this.current].start()}return this},stop:function(t){return void 0===t&&(t=!1),this.isRunning=!1,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,t&&(this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween)&&this.chainedTween.start(),this.manager.remove(this),this},updateTweenData:function(t,e,i){if(0!==this.timeline.length)if(-1===(i=void 0===i?0:i))for(var s=0;s<this.timeline.length;s++)this.timeline[s][t]=e;else this.timeline[i][t]=e;return this},delay:function(t,e){return this.updateTweenData("delay",t,e)},repeat:function(t,e,i){return void 0===e&&(e=0),this.updateTweenData("repeatCounter",t,i),this.updateTweenData("repeatTotal",t,i),this.updateTweenData("repeatDelay",e,i)},repeatDelay:function(t,e){return this.updateTweenData("repeatDelay",t,e)},yoyo:function(t,e,i){return void 0===e&&(e=0),this.updateTweenData("yoyo",t,i),this.updateTweenData("yoyoDelay",e,i)},yoyoDelay:function(t,e){return this.updateTweenData("yoyoDelay",t,e)},easing:function(t,e){return"string"==typeof t&&this.manager.easeMap[t]&&(t=this.manager.easeMap[t]),this.updateTweenData("easingFunction",t,e)},interpolation:function(t,e,i){return void 0===e&&(e=N.Math),this.updateTweenData("interpolationFunction",t,i),this.updateTweenData("interpolationContext",e,i)},repeatAll:function(t){return this.repeatCounter=t=void 0===t?0:t,this},chain:function(){for(var t=arguments.length;t--;)0<t?arguments[t-1].chainedTween=arguments[t]:this.chainedTween=arguments[t];return this},loop:function(t){return this.repeatCounter=(t=void 0===t?!0:t)?-1:0,this},onUpdateCallback:function(t,e){return this._onUpdateCallback=t,this._onUpdateCallbackContext=e,this},pause:function(){this.isPaused=!0,this._codePaused=!0,this._pausedTime=this.game.time.deltaTotal},_pause:function(){this._codePaused||(this.isPaused=!0,this._pausedTime=this.game.time.deltaTotal)},resume:function(){if(this.isPaused){this.isPaused=!1,this._codePaused=!1;for(var t=0;t<this.timeline.length;t++)this.timeline[t].isRunning||(this.timeline[t].startTime+=this.game.time.deltaTotal-this._pausedTime)}},_resume:function(){this._codePaused||this.resume()},update:function(t){return!(this.pendingDelete||!this.target)&&(!!this.isPaused||(t=this.timeline[this.current].update(t))===N.TweenData.PENDING||(t===N.TweenData.RUNNING?(this._hasStarted||(this.onStart.dispatch(this.target,this),this._hasStarted=!0),null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._onUpdateCallbackContext,this,this.timeline[this.current].value,this.timeline[this.current]),this.isRunning):t===N.TweenData.LOOPED?((-1===this.timeline[this.current].repeatCounter?this.onLoop:this.onRepeat).dispatch(this.target,this),!0):t===N.TweenData.COMPLETE?(t=!1,this.reverse?(this.current--,this.current<0&&(this.current=this.timeline.length-1,t=!0)):(this.current++,this.current===this.timeline.length&&(t=!(this.current=0))),t?-1===this.repeatCounter?(this.timeline[this.current].start(),this.onLoop.dispatch(this.target,this),!0):0<this.repeatCounter?(this.repeatCounter--,this.timeline[this.current].start(),this.onRepeat.dispatch(this.target,this),!0):(this.isRunning=!1,this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start(),!1):(this.onChildComplete.dispatch(this.target,this),this.timeline[this.current].start(),!0)):void 0))},generateData:function(t,e){if(null===this.game||null===this.target)return null;void 0===t&&(t=60),void 0===e&&(e=[]);for(var i=0;i<this.timeline.length;i++)for(var s in this.timeline[i].vEnd)this.properties[s]=this.target[s]||0,Array.isArray(this.properties[s])||(this.properties[s]*=1);for(i=0;i<this.timeline.length;i++)this.timeline[i].loadValues();for(i=0;i<this.timeline.length;i++)e=e.concat(this.timeline[i].generateData(t));return e}},Object.defineProperty(N.Tween.prototype,"totalDuration",{get:function(){for(var t=0,e=0;e<this.timeline.length;e++)t+=this.timeline[e].duration;return t}}),N.Tween.prototype.constructor=N.Tween,N.TweenData=function(t){this.parent=t,this.game=t.game,this.vStart={},this.vStartCache={},this.vEnd={},this.vEndCache={},this.duration=1e3,this.percent=0,this.value=0,this.repeatCounter=0,this.repeatDelay=0,this.repeatTotal=0,this.interpolate=!1,this.yoyo=!1,this.yoyoDelay=0,this.inReverse=!1,this.delay=0,this.dt=0,this.startTime=null,this.easingFunction=N.Easing.Default,this.interpolationFunction=N.Math.linearInterpolation,this.interpolationContext=N.Math,this.isRunning=!1,this.isFrom=!1},N.TweenData.PENDING=0,N.TweenData.RUNNING=1,N.TweenData.LOOPED=2,N.TweenData.COMPLETE=3,N.TweenData.prototype={to:function(t,e,i,s,n,o){return this.vEnd=t,this.duration=e,this.easingFunction=i,this.delay=s,this.repeatTotal=n,this.yoyo=o,this.isFrom=!1,this},from:function(t,e,i,s,n,o){return this.vEnd=t,this.duration=e,this.easingFunction=i,this.delay=s,this.repeatTotal=n,this.yoyo=o,this.isFrom=!0,this},start:function(){if(this.startTime=this.game.time.deltaTotal+this.delay,this.parent.reverse?this.dt=this.duration:this.dt=0,0<this.delay?this.isRunning=!1:this.isRunning=!0,this.isFrom)for(var t in this.vStartCache)this.vStart[t]=this.vEndCache[t],this.vEnd[t]=this.vStartCache[t],this.parent.target[t]=this.vStart[t];return this.value=0,this.repeatCounter=this.repeatTotal,this},loadValues:function(){for(var t in this.parent.properties){if(this.vStart[t]=this.parent.properties[t],Array.isArray(this.vEnd[t])){if(0===this.vEnd[t].length)continue;0===this.percent&&(this.vEnd[t]=[this.vStart[t]].concat(this.vEnd[t]))}void 0!==this.vEnd[t]?("string"==typeof this.vEnd[t]&&(this.vEnd[t]=this.vStart[t]+parseFloat(this.vEnd[t])),this.parent.properties[t]=this.vEnd[t]):this.vEnd[t]=this.vStart[t],this.vStartCache[t]=this.vStart[t],this.vEndCache[t]=this.vEnd[t]}return this},update:function(t){if(this.isRunning){if(t<this.startTime)return N.TweenData.RUNNING}else{if(!(t>=this.startTime))return N.TweenData.PENDING;this.isRunning=!0}var e,t=this.game.time.delta;for(e in this.parent.reverse?(this.dt-=t*this.parent.timeScale,this.dt=Math.max(this.dt,0)):(this.dt+=t*this.parent.timeScale,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent),this.vEnd){var i=this.vStart[e],s=this.vEnd[e];Array.isArray(s)?this.parent.target[e]=this.interpolationFunction.call(this.interpolationContext,s,this.value):this.parent.target[e]=i+(s-i)*this.value}return!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent?this.repeat():N.TweenData.RUNNING},generateData:function(t){this.parent.reverse?this.dt=this.duration:this.dt=0;var e=[],i=!1,s=1/t*1e3;do{this.parent.reverse?(this.dt-=s,this.dt=Math.max(this.dt,0)):(this.dt+=s,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent);var n,o={};for(n in this.vEnd){var r=this.vStart[n],a=this.vEnd[n];Array.isArray(a)?o[n]=this.interpolationFunction.call(this.interpolationContext,a,this.value):o[n]=r+(a-r)*this.value}}while(e.push(o),!(i=!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent?!0:i));return this.yoyo&&((t=e.slice()).reverse(),e=e.concat(t)),e},repeat:function(){if(this.yoyo){if(this.inReverse&&0===this.repeatCounter){for(var t in this.vStartCache)this.vStart[t]=this.vStartCache[t],this.vEnd[t]=this.vEndCache[t];return this.inReverse=!1,N.TweenData.COMPLETE}this.inReverse=!this.inReverse}else if(0===this.repeatCounter)return N.TweenData.COMPLETE;if(this.inReverse)for(var t in this.vStartCache)this.vStart[t]=this.vEndCache[t],this.vEnd[t]=this.vStartCache[t];else{for(var t in this.vStartCache)this.vStart[t]=this.vStartCache[t],this.vEnd[t]=this.vEndCache[t];0<this.repeatCounter&&this.repeatCounter--}return this.startTime=this.game.time.deltaTotal,this.yoyo&&this.inReverse?this.startTime+=this.yoyoDelay:this.inReverse||(this.startTime+=this.repeatDelay),this.parent.reverse?this.dt=this.duration:this.dt=0,N.TweenData.LOOPED}},N.TweenData.prototype.constructor=N.TweenData,N.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},Out:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},InOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-1*Math.pow(2,10*--t)*Math.sin(2*Math.PI*(t-.1)/.4)},Out:function(t){return 0===t?0:1===t?1:+Math.pow(2,-10*t)*Math.sin(2*Math.PI*(t-.1)/.4)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?+Math.pow(2,10*--t)*Math.sin(2*Math.PI*(t-.1)/.4)*-.5:+Math.pow(2,-10*--t)*Math.sin(2*Math.PI*(t-.1)/.4)*.5+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-N.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*N.Easing.Bounce.In(2*t):.5*N.Easing.Bounce.Out(2*t-1)+.5}}},N.Easing.Default=N.Easing.Linear.None,N.Easing.Power0=N.Easing.Linear.None,N.Easing.Power1=N.Easing.Quadratic.Out,N.Easing.Power2=N.Easing.Cubic.Out,N.Easing.Power3=N.Easing.Quartic.Out,N.Easing.Power4=N.Easing.Quintic.Out,N.Time=function(t){this.game=t,this.time=0,this.now=0,this.elapsed=0,this.elapsedMS=0,this.delta=0,this.deltaTotal=0,this.deltaMax=200,this.desiredFpsMult=1/60,this._desiredFps=60,this.suggestedFps=this.desiredFps,this.slowMotion=1,this.advancedTiming=!1,this.frames=0,this.updates=0,this.renders=0,this.fps=0,this.ups=0,this.rps=0,this.fpsMin=1e3,this.fpsMax=0,this.msMin=1e3,this.msMax=0,this.pauseDuration=0,this.timeToCall=0,this.timeExpected=0,this.events=new N.Timer(this.game,!1),this._frameCount=0,this._elapsedAccumulator=0,this._started=0,this._timeLastSecond=0,this._pauseStarted=0,this._timers=[]},N.Time.prototype={boot:function(){this._started=Date.now(),this.time=Date.now(),this.events.start(),this.timeExpected=this.time},add:function(t){return this._timers.push(t),t},create:function(t){t=new N.Timer(this.game,t=void 0===t?!0:t);return this._timers.push(t),t},removeAll:function(){for(var t=0;t<this._timers.length;t++)this._timers[t].destroy();this._timers=[],this.events.removeAll()},refresh:function(){var t=this.time;this.time=Date.now(),this.elapsedMS=this.time-t},update:function(t){var e=this.time,i=this.now;this.time=Date.now(),this.elapsedMS=this.time-e,this.now=t,this.elapsed=this.now-i,this.game.raf._isSetTimeOut&&(this.timeToCall=Math.floor(Math.max(0,1e3/this._desiredFps+this.timeExpected-t)),this.timeExpected=t+this.timeToCall),this.advancedTiming&&this.updateAdvancedTiming()},updateTimers:function(){var t=0,e=this._timers.length;if(e)for(;t<e;)this._timers[t].update(this.deltaTotal)?t++:(this._timers.splice(t,1),e--)},updateAdvancedTiming:function(){var t;this._frameCount++,this._elapsedAccumulator+=this.elapsed,this._frameCount>=2*this._desiredFps&&(this.suggestedFps=5*Math.floor(200/(this._elapsedAccumulator/this._frameCount)),this._frameCount=0,this._elapsedAccumulator=0),this.msMin=Math.min(this.msMin,this.elapsed),this.msMax=Math.max(this.msMax,this.elapsed),this.frames++,this.now>this._timeLastSecond+1e3&&(t=this.now-this._timeLastSecond,this.fps=Math.round(1e3*this.frames/t),this.ups=Math.round(1e3*this.updates/t),this.rps=Math.round(1e3*this.renders/t),this.fpsMin=Math.min(this.fpsMin,this.fps),this.fpsMax=Math.max(this.fpsMax,this.fps),this._timeLastSecond=this.now,this.frames=0,this.updates=0,this.renders=0)},preUpdate:function(t){this.delta=t*=1e3,this.deltaTotal+=t,this.game.paused||(this.events.update(this.deltaTotal),this.updateTimers()),this.advancedTiming&&this.updates++},preRender:function(){this.advancedTiming&&this.renders++},gamePaused:function(){this._pauseStarted=Date.now()},gameResumed:function(){this.time=Date.now(),this.pauseDuration=this.time-this._pauseStarted},totalElapsedSeconds:function(){return.001*(this.time-this._started)},elapsedSince:function(t){return this.time-t},elapsedSecondsSince:function(t){return.001*(this.time-t)},reset:function(){this._started=this.time,this.removeAll()}},Object.defineProperty(N.Time.prototype,"desiredFps",{get:function(){return this._desiredFps},set:function(t){this._desiredFps=t,this.desiredFpsMult=1/t}}),Object.defineProperty(N.Time.prototype,"desiredMinFps",{get:function(){return 1e3/this.deltaMax},set:function(t){this.deltaMax=1e3/t}}),N.Time.prototype.constructor=N.Time,N.Timer=function(t,e){void 0===e&&(e=!0),this.game=t,this.running=!1,this.autoDestroy=e,this.expired=!1,this.elapsed=0,this.events=[],this.onComplete=new N.Signal,this.nextTick=0,this.paused=!1,this._codePaused=!1,this._started=0,this._pauseStarted=0,this._pauseTotal=0,this._now=this.game.time?this.game.time.deltaTotal:0,this._len=0,this._marked=0,this._i=0,this._diff=0,this._newTick=0},N.Timer.MINUTE=6e4,N.Timer.SECOND=1e3,N.Timer.HALF=500,N.Timer.QUARTER=250,N.Timer.prototype={create:function(t,e,i,s,n,o){var r=(t=Math.round(t))+this._now,t=new N.TimerEvent(this,t,r,i,e,s,n,o);return this.events.push(t),this.order(),this.expired=!1,t},add:function(t,e,i){return this.create(t,!1,0,e,i,Array.prototype.slice.call(arguments,3))},repeat:function(t,e,i,s){return this.create(t,!1,e,i,s,Array.prototype.slice.call(arguments,4))},loop:function(t,e,i){return this.create(t,!0,0,e,i,Array.prototype.slice.call(arguments,3))},start:function(t){if(!this.running){this._started=this.game.time.deltaTotal+(t||0),this.running=!0;for(var e=0;e<this.events.length;e++)this.events[e].tick=this.events[e].delay+this._started}},stop:function(t){this.running=!1,(t=void 0===t?!0:t)&&(this.events.length=0)},remove:function(t){for(var e=0;e<this.events.length;e++)if(this.events[e]===t)return this.events[e].pendingDelete=!0;return!1},order:function(){0<this.events.length&&(this.events.sort(this.sortHandler),this.nextTick=this.events[0].tick)},sortHandler:function(t,e){return t.tick<e.tick?-1:e.tick<t.tick?1:0},clearPendingEvents:function(){for(this._i=this.events.length;this._i--;)this.events[this._i].pendingDelete&&this.events.splice(this._i,1);this._len=this.events.length,this._i=0},update:function(t){if(this.paused)return!0;if(this.elapsed=t-this._now,this._now=t,this._marked=0,this.clearPendingEvents(),this.running&&this._now>=this.nextTick&&0<this._len){for(;this._i<this._len&&this.running;){var e=this.events[this._i];if(!(this._now>=e.tick)||e.pendingDelete)break;this._newTick=this._now+e.delay-(this._now-e.tick),this._newTick<0&&(this._newTick=this._now+e.delay),!0===e.loop?e.tick=this._newTick:0<e.repeatCount?(e.repeatCount--,e.tick=this._newTick):(this._marked++,e.pendingDelete=!0),e.callback.apply(e.callbackContext,e.args),this._i++}this.events.length>this._marked?this.order():(this.expired=!0,this.onComplete.dispatch(this))}return!this.expired||!this.autoDestroy},pause:function(){this.running&&(this._codePaused=!0,this.paused||(this._pauseStarted=this.game.time.deltaTotal,this.paused=!0))},_pause:function(){!this.paused&&this.running&&(this._pauseStarted=this.game.time.deltaTotal,this.paused=!0)},adjustEvents:function(t){for(var e,i=0;i<this.events.length;i++)this.events[i].pendingDelete||((e=this.events[i].tick-t)<0&&(e=0),this.events[i].tick=this._now+e);var s=this.nextTick-t;this.nextTick=s<0?this._now:this._now+s},resume:function(){var t;this.paused&&(t=this.game.time.deltaTotal,this._pauseTotal+=t-this._now,this._now=t,this.adjustEvents(this._pauseStarted),this.paused=!1,this._codePaused=!1)},_resume:function(){this._codePaused||this.resume()},removeAll:function(){this.onComplete.removeAll(),this.events.length=0,this._len=0,this._i=0},destroy:function(){this.onComplete.removeAll(),this.running=!1,this.expired=!0,this.events=[],this._len=0,this._i=0}},Object.defineProperty(N.Timer.prototype,"next",{get:function(){return this.nextTick}}),Object.defineProperty(N.Timer.prototype,"duration",{get:function(){return this.running&&this.nextTick>this._now?this.nextTick-this._now:0}}),Object.defineProperty(N.Timer.prototype,"length",{get:function(){return this.events.length}}),Object.defineProperty(N.Timer.prototype,"ms",{get:function(){return this.running?this._now-this._started-this._pauseTotal:0}}),Object.defineProperty(N.Timer.prototype,"seconds",{get:function(){return this.running?.001*this.ms:0}}),N.Timer.prototype.constructor=N.Timer,N.TimerEvent=function(t,e,i,s,n,o,r,a){this.timer=t,this.delay=e,this.tick=i,this.repeatCount=s-1,this.loop=n,this.callback=o,this.callbackContext=r,this.args=a,this.pendingDelete=!1},N.TimerEvent.prototype.constructor=N.TimerEvent,N.AnimationManager=function(t){this.sprite=t,this.game=t.game,this.currentFrame=null,this.currentAnim=null,this.updateIfVisible=!0,this.isLoaded=!1,this._frameData=null,this._anims={},this._outputFrames=[]},N.AnimationManager.prototype={loadFrameData:function(t,e){if(void 0===t)return!1;if(this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(t);return this._frameData=t,null==e?this.frame=0:"string"==typeof e?this.frameName=e:this.frame=e,this.isLoaded=!0},copyFrameData:function(t,e){if(this._frameData=t.clone(),this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(this._frameData);return null==e?this.frame=0:"string"==typeof e?this.frameName=e:this.frame=e,this.isLoaded=!0},add:function(t,e,i,s,n){return e=e||[],i=i||60,void 0===s&&(s=!1),void 0===n&&(n=!(!e||"number"!=typeof e[0])),this._outputFrames=[],this._frameData.getFrameIndexes(e,n,this._outputFrames),this._anims[t]=new N.Animation(this.game,this.sprite,t,this._frameData,this._outputFrames,i,s),this.currentAnim=this._anims[t],this.sprite.tilingTexture&&(this.sprite.refreshTexture=!0),this._anims[t]},validateFrames:function(t,e){void 0===e&&(e=!0);for(var i=0;i<t.length;i++)if(!0===e){if(t[i]>this._frameData.total)return!1}else if(!1===this._frameData.checkFrameName(t[i]))return!1;return!0},play:function(t,e,i,s){if(this._anims[t])return this.currentAnim===this._anims[t]?!1===this.currentAnim.isPlaying?(this.currentAnim.paused=!1,this.currentAnim.play(e,i,s)):this.currentAnim:(this.currentAnim&&this.currentAnim.isPlaying&&this.currentAnim.stop(),this.currentAnim=this._anims[t],this.currentAnim.paused=!1,this.currentFrame=this.currentAnim.currentFrame,this.currentAnim.play(e,i,s))},stop:function(t,e){void 0===e&&(e=!1),!this.currentAnim||"string"==typeof t&&t!==this.currentAnim.name||this.currentAnim.stop(e)},update:function(){return!(this.updateIfVisible&&!this.sprite.visible||!this.currentAnim||!this.currentAnim.update()||(this.currentFrame=this.currentAnim.currentFrame,0))},next:function(t){this.currentAnim&&(this.currentAnim.next(t),this.currentFrame=this.currentAnim.currentFrame)},previous:function(t){this.currentAnim&&(this.currentAnim.previous(t),this.currentFrame=this.currentAnim.currentFrame)},getAnimation:function(t){return"string"==typeof t&&this._anims[t]?this._anims[t]:null},refreshFrame:function(){},destroy:function(){var t=null;for(t in this._anims)this._anims.hasOwnProperty(t)&&this._anims[t].destroy();this._anims={},this._outputFrames=[],this._frameData=null,this.currentAnim=null,this.currentFrame=null,this.sprite=null,this.game=null}},N.AnimationManager.prototype.constructor=N.AnimationManager,Object.defineProperty(N.AnimationManager.prototype,"frameData",{get:function(){return this._frameData}}),Object.defineProperty(N.AnimationManager.prototype,"frameTotal",{get:function(){return this._frameData.total}}),Object.defineProperty(N.AnimationManager.prototype,"paused",{get:function(){return this.currentAnim.isPaused},set:function(t){this.currentAnim.paused=t}}),Object.defineProperty(N.AnimationManager.prototype,"name",{get:function(){return this.currentAnim?this.currentAnim.name:void 0}}),Object.defineProperty(N.AnimationManager.prototype,"frame",{get:function(){return this.currentFrame?this.currentFrame.index:void 0},set:function(t){"number"==typeof t&&this._frameData&&(t=this._frameData.getFrame(t))&&(this.currentFrame=t,this.sprite.setFrame(this.currentFrame))}}),Object.defineProperty(N.AnimationManager.prototype,"frameName",{get:function(){return this.currentFrame?this.currentFrame.name:void 0},set:function(t){var e;"string"==typeof t&&this._frameData&&(e=this._frameData.getFrameByName(t))?(this.currentFrame=e,this._frameIndex=this.currentFrame.index,this.sprite.setFrame(this.currentFrame)):console.warn("Cannot set frameName: "+t)}}),N.Animation=function(t,e,i,s,n,o,r){void 0===r&&(r=!1),this.game=t,this._parent=e,this._frameData=s,this.name=i,this._frames=[],this._frames=this._frames.concat(n),this.delay=1e3/o,this.loop=r,this.loopCount=0,this.killOnComplete=!1,this.isFinished=!1,this.isPlaying=!1,this.isPaused=!1,this._pauseStartTime=0,this._frameIndex=0,this._frameDiff=0,this._frameSkip=1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.onStart=new N.Signal,this.onUpdate=null,this.onComplete=new N.Signal,this.onLoop=new N.Signal,this.isReversed=!1,this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},N.Animation.prototype={play:function(t,e,i){return"number"==typeof t&&(this.delay=1e3/t),"boolean"==typeof e&&(this.loop=e),void 0!==i&&(this.killOnComplete=i),this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.deltaTotal,this._timeNextFrame=this.game.time.deltaTotal+this.delay,this._frameIndex=this.isReversed?this._frames.length-1:0,this.updateCurrentFrame(!1,!0),this._parent.events.onAnimationStart$dispatch(this._parent,this),this.onStart.dispatch(this._parent,this),(this._parent.animations.currentAnim=this)._parent.animations.currentFrame=this.currentFrame,this},restart:function(){this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.deltaTotal,this._timeNextFrame=this.game.time.deltaTotal+this.delay,this._frameIndex=0,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this._parent.setFrame(this.currentFrame),(this._parent.animations.currentAnim=this)._parent.animations.currentFrame=this.currentFrame,this.onStart.dispatch(this._parent,this)},reverse:function(){return this.reversed=!this.reversed,this},reverseOnce:function(){return this.onComplete.addOnce(this.reverse,this),this.reverse()},setFrame:function(t,e){var i;if(void 0===e&&(e=!1),"string"==typeof t)for(var s=0;s<this._frames.length;s++)this._frameData.getFrame(this._frames[s]).name===t&&(i=s);else if("number"==typeof t)if(e)i=t;else for(s=0;s<this._frames.length;s++)this._frames[s]===t&&(i=s);i&&(e=this.isReversed?-1:1,this._frameIndex=i-e,this._timeNextFrame=this.game.time.deltaTotal,this.update())},stop:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,t&&(this.currentFrame=this._frameData.getFrame(this._frames[0]),this._parent.setFrame(this.currentFrame)),e&&(this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this))},onPause:function(){this.isPlaying&&(this._frameDiff=this._timeNextFrame-this.game.time.deltaTotal)},onResume:function(){this.isPlaying&&(this._timeNextFrame=this.game.time.deltaTotal+this._frameDiff)},update:function(){var t,e;return!this.isPaused&&(e=(t=this.game.time.deltaTotal)-this._timeNextFrame,!!(this.isPlaying&&0<=e))&&(this._frameSkip=1,this._frameDiff=e,this._timeLastFrame=t,this._frameDiff>this.delay&&(this._frameSkip=Math.floor(this._frameDiff/this.delay),this._frameDiff-=this._frameSkip*this.delay),this._timeNextFrame=t+(this.delay-this._frameDiff),this.isReversed?this._frameIndex-=this._frameSkip:this._frameIndex+=this._frameSkip,!this.isReversed&&this._frameIndex>=this._frames.length||this.isReversed&&this._frameIndex<=-1?this.loop?(this._frameIndex=Math.abs(this._frameIndex)%this._frames.length,this.isReversed&&(this._frameIndex=this._frames.length-1-this._frameIndex),this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&this._parent.setFrame(this.currentFrame),this.loopCount++,this._parent.events.onAnimationLoop$dispatch(this._parent,this),this.onLoop.dispatch(this._parent,this),!this.onUpdate||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)):(this.complete(),!1):this.updateCurrentFrame(!0))},updateCurrentFrame:function(t,e){var i;return void 0===e&&(e=!1),!(!this._frameData||(i=this.currentFrame.index,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&(e||i!==this.currentFrame.index)&&this._parent.setFrame(this.currentFrame),this.onUpdate&&t&&(this.onUpdate.dispatch(this,this.currentFrame),!this._frameData)))},next:function(t){t=this._frameIndex+(t=void 0===t?1:t);t>=this._frames.length&&(this.loop?t%=this._frames.length:t=this._frames.length-1),t!==this._frameIndex&&(this._frameIndex=t,this.updateCurrentFrame(!0))},previous:function(t){t=this._frameIndex-(t=void 0===t?1:t);t<0&&(this.loop?t=this._frames.length+t:t++),t!==this._frameIndex&&(this._frameIndex=t,this.updateCurrentFrame(!0))},updateFrameData:function(t){this._frameData=t,this.currentFrame=this._frameData?this._frameData.getFrame(this._frames[this._frameIndex%this._frames.length]):null},destroy:function(){this._frameData&&(this.game.onPause.remove(this.onPause,this),this.game.onResume.remove(this.onResume,this),this.game=null,this._parent=null,this._frames=null,this._frameData=null,this.currentFrame=null,this.isPlaying=!1,this.onStart.dispose(),this.onLoop.dispose(),this.onComplete.dispose(),this.onUpdate)&&this.onUpdate.dispose()},complete:function(){this._frameIndex=this._frames.length-1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.updateCurrentFrame(!1),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this),this.killOnComplete&&this._parent.kill()}},N.Animation.prototype.constructor=N.Animation,Object.defineProperty(N.Animation.prototype,"paused",{get:function(){return this.isPaused},set:function(t){(this.isPaused=t)?this._pauseStartTime=this.game.time.deltaTotal:this.isPlaying&&(this._timeNextFrame=this.game.time.deltaTotal+this.delay)}}),Object.defineProperty(N.Animation.prototype,"reversed",{get:function(){return this.isReversed},set:function(t){this.isReversed=t}}),Object.defineProperty(N.Animation.prototype,"frameTotal",{get:function(){return this._frames.length}}),Object.defineProperty(N.Animation.prototype,"frame",{get:function(){return null!==this.currentFrame?this.currentFrame.index:this._frameIndex},set:function(t){this.currentFrame=this._frameData.getFrame(this._frames[t]),null!==this.currentFrame&&(this._frameIndex=t,this._parent.setFrame(this.currentFrame),this.onUpdate)&&this.onUpdate.dispatch(this,this.currentFrame)}}),Object.defineProperty(N.Animation.prototype,"speed",{get:function(){return 1e3/this.delay},set:function(t){0<t&&(this.delay=1e3/t)}}),Object.defineProperty(N.Animation.prototype,"enableUpdate",{get:function(){return null!==this.onUpdate},set:function(t){t&&null===this.onUpdate?this.onUpdate=new N.Signal:t||null===this.onUpdate||(this.onUpdate.dispose(),this.onUpdate=null)}}),N.Animation.generateFrameNames=function(t,e,i,s,n){void 0===s&&(s="");var o=[],r="";if(e<i)for(var a=e;a<=i;a++)r=t+(r="number"==typeof n?N.Utils.pad(a.toString(),n,"0",1):a.toString())+s,o.push(r);else for(a=e;i<=a;a--)r=t+(r="number"==typeof n?N.Utils.pad(a.toString(),n,"0",1):a.toString())+s,o.push(r);return o},N.Frame=function(t,e,i,s,n,o){this.index=t,this.x=e,this.y=i,this.width=s,this.height=n,0!==this.width&&0!==this.height||console.warn('Phaser.Frame: Frame "'+o+'" has a width or height of zero'),this.name=o,this.centerX=Math.floor(s/2),this.centerY=Math.floor(n/2),this.distance=N.Math.distance(0,0,s,n),this.rotated=!1,this.trimmed=!1,this.sourceSizeW=s,this.sourceSizeH=n,this.spriteSourceSizeX=0,this.spriteSourceSizeY=0,this.spriteSourceSizeW=0,this.spriteSourceSizeH=0,this.right=this.x+this.width,this.bottom=this.y+this.height},N.Frame.prototype={resize:function(t,e){this.width=t,this.height=e,this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2),this.distance=N.Math.distance(0,0,t,e),this.sourceSizeW=t,this.sourceSizeH=e,this.right=this.x+t,this.bottom=this.y+e},setTrim:function(t,e,i,s,n,o,r){(this.trimmed=t)&&(this.sourceSizeW=e,this.sourceSizeH=i,this.centerX=Math.floor(e/2),this.centerY=Math.floor(i/2),this.spriteSourceSizeX=s,this.spriteSourceSizeY=n,this.spriteSourceSizeW=o,this.spriteSourceSizeH=r)},clone:function(){var t,e=new N.Frame(this.index,this.x,this.y,this.width,this.height,this.name);for(t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},getRect:function(t){return void 0===t?t=new N.Rectangle(this.x,this.y,this.width,this.height):t.setTo(this.x,this.y,this.width,this.height),t}},N.Frame.prototype.constructor=N.Frame,N.FrameData=function(){this._frames=[],this._frameNames=[]},N.FrameData.prototype={addFrame:function(t){return t.index=this._frames.length,this._frames.push(t),""!==t.name&&(this._frameNames[t.name]=t.index),t},getFrame:function(t){return t>=this._frames.length&&(t=0),this._frames[t]},getFrameByName:function(t){return"number"==typeof this._frameNames[t]?this._frames[this._frameNames[t]]:null},checkFrameName:function(t){return null!=this._frameNames[t]},clone:function(){for(var t,e=new N.FrameData,i=0;i<this._frames.length;i++)e._frames.push(this._frames[i].clone());for(t in this._frameNames)this._frameNames.hasOwnProperty(t)&&(e._frameNames[t]=this._frameNames[t]);return e},getFrameRange:function(t,e,i){void 0===i&&(i=[]);for(var s=t;s<=e;s++)i.push(this._frames[s]);return i},getFrames:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=[]),void 0===t||0===t.length)for(var s=0;s<this._frames.length;s++)i.push(this._frames[s]);else for(s=0;s<t.length;s++)e?i.push(this.getFrame(t[s])):i.push(this.getFrameByName(t[s]));return i},getFrameIndexes:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=[]),void 0===t||0===t.length)for(var s=0;s<this._frames.length;s++)i.push(this._frames[s].index);else for(s=0;s<t.length;s++)e&&this._frames[t[s]]?i.push(this._frames[t[s]].index):this.getFrameByName(t[s])&&i.push(this.getFrameByName(t[s]).index);return i},destroy:function(){this._frames=null,this._frameNames=null}},N.FrameData.prototype.constructor=N.FrameData,Object.defineProperty(N.FrameData.prototype,"total",{get:function(){return this._frames.length}}),N.AnimationParser={spriteSheet:function(t,e,i,s,n,o,r,a){void 0===n&&(n=-1),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=0);var h=e;if("string"==typeof e?h=t.cache.getImage(e):e=h.name,null===h)return null;if(i<=0||s<=0)return console.error('Spritesheet "%s": frameWidth (%s) and frameHeight (%s) values must be positive',e,i,s),null;var l=h.width,t=h.height;if(0===l||0===t)return console.error('Spritesheet "%s": Texture width (%s) or height (%s) is zero',e,l,t),null;if(l<i||t<s)return console.error('Spritesheet "%s": Texture width (%s) or height (%s) is less than the given frameWidth (%s) or frameHeight (%s)',e,l,t,i,s),null;var h=Math.floor((l-o)/(i+r)),c=Math.floor((t-o)/(s+r)),u=h*c,d=u,p=u-1,f=0,g=p;if(u<a||a<-u)return console.error('Spritesheet "%s": skipFrames=%s is larger than the frame total %s',e,a,u),null;if(-1<n&&(g=(u=n)-1),h<1&&console.warn('Spritesheet "%s": Texture has width %d, but it should be at least %d (frameWidth=%s, margin=%s, spacing=%s)',e,l,i+o+r,i,o,r),c<1&&console.warn('Spritesheet "%s": Texture has height %d, but it should be at least %d (frameHeight=%s, margin=%s, spacing=%s)',e,t,s+o+r,s,o,r),0===d)return console.error('Spritesheet "%s": zero frames were produced',e),null;if(0<a?g=(f=a)+(u=Math.min(u,d-a))-1:a<0&&(f=(g=p+a)-(u=Math.min(u,d+a))+1),f<0)return console.error('Spritesheet "%s": There is no frame at index %s',e,f),null;if(p<g)return console.warn('Spritesheet "%s": There is no frame at index %s. Last frame found is index %s',e,g,p),null;for(var m=new N.FrameData,y=o,v=o,x=0,b=0;b<d&&!(g<b);b++)f<=b&&m.addFrame(new N.Frame(x++,y,v,i,s,"")),l<(y+=i+r)+i&&(y=o,v+=s+r);return m},JSONData:function(t,e){if(e.frames){for(var i,s=new N.FrameData,n=e.frames,o=0;o<n.length;o++)i=s.addFrame(new N.Frame(o,n[o].frame.x,n[o].frame.y,n[o].frame.w,n[o].frame.h,n[o].filename)),n[o].trimmed&&i.setTrim(n[o].trimmed,n[o].sourceSize.w,n[o].sourceSize.h,n[o].spriteSourceSize.x,n[o].spriteSourceSize.y,n[o].spriteSourceSize.w,n[o].spriteSourceSize.h),n[o].rotated&&(i.rotated=!0);return s}console.warn("Phaser.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array"),console.log(e)},JSONDataPyxel:function(t,e){if(["layers","tilewidth","tileheight","tileswide","tileshigh"].forEach(function(t){e[t]||(console.warn('Phaser.AnimationParser.JSONDataPyxel: Invalid Pyxel Tilemap JSON given, missing "'+t+'" key.'),console.log(e))}),1===e.layers.length){for(var i=new N.FrameData,s=e.tileheight,n=e.tilewidth,o=e.layers[0].tiles,r=0;r<o.length;r++)i.addFrame(new N.Frame(r,o[r].x,o[r].y,n,s,"frame_"+r)).setTrim(!1);return i}console.warn("Phaser.AnimationParser.JSONDataPyxel: Too many layers, this parser only supports flat Tilemaps."),console.log(e)},JSONDataHash:function(t,e){if(e.frames){var i,s,n=new N.FrameData,o=e.frames,r=0;for(s in o)i=n.addFrame(new N.Frame(r,o[s].frame.x,o[s].frame.y,o[s].frame.w,o[s].frame.h,s)),o[s].trimmed&&i.setTrim(o[s].trimmed,o[s].sourceSize.w,o[s].sourceSize.h,o[s].spriteSourceSize.x,o[s].spriteSourceSize.y,o[s].spriteSourceSize.w,o[s].spriteSourceSize.h),o[s].rotated&&(i.rotated=!0),r++;return n}console.warn("Phaser.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object"),console.log(e)},XMLData:function(t,e){if(e.getElementsByTagName("TextureAtlas")){for(var i,s,n,o,r,a,h,l,c,u,d=new N.FrameData,p=e.getElementsByTagName("SubTexture"),f=0;f<p.length;f++)i=(s=p[f].attributes).name.value,n=parseInt(s.x.value,10),o=parseInt(s.y.value,10),r=parseInt(s.width.value,10),a=parseInt(s.height.value,10),l=h=null,s.frameX&&(h=Math.abs(parseInt(s.frameX.value,10)),l=Math.abs(parseInt(s.frameY.value,10)),c=parseInt(s.frameWidth.value,10),u=parseInt(s.frameHeight.value,10)),s=d.addFrame(new N.Frame(f,n,o,r,a,i)),null===h&&null===l||s.setTrim(!0,r,a,h,l,c,u);return d}console.warn("Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag")}},N.Cache=function(t){this.game=t,this.autoResolveURL=!1,this._cache={canvas:{},image:{},texture:{},sound:{},video:{},text:{},json:{},xml:{},physics:{},tilemap:{},binary:{},bitmapData:{},bitmapFont:{},shader:{},renderTexture:{},compressedTexture:{},data:{}},this._urlMap={},this._urlResolver=new Image,this._urlTemp=null,this.onSoundUnlock=new N.Signal,this._cacheMap=[],this._cacheMap[N.Cache.CANVAS]=this._cache.canvas,this._cacheMap[N.Cache.IMAGE]=this._cache.image,this._cacheMap[N.Cache.TEXTURE]=this._cache.texture,this._cacheMap[N.Cache.SOUND]=this._cache.sound,this._cacheMap[N.Cache.TEXT]=this._cache.text,this._cacheMap[N.Cache.PHYSICS]=this._cache.physics,this._cacheMap[N.Cache.TILEMAP]=this._cache.tilemap,this._cacheMap[N.Cache.BINARY]=this._cache.binary,this._cacheMap[N.Cache.BITMAPDATA]=this._cache.bitmapData,this._cacheMap[N.Cache.BITMAPFONT]=this._cache.bitmapFont,this._cacheMap[N.Cache.JSON]=this._cache.json,this._cacheMap[N.Cache.XML]=this._cache.xml,this._cacheMap[N.Cache.VIDEO]=this._cache.video,this._cacheMap[N.Cache.SHADER]=this._cache.shader,this._cacheMap[N.Cache.RENDER_TEXTURE]=this._cache.renderTexture,this._cacheMap[N.Cache.DATA]=this._cache.data,this._pendingCount=0,this.onReady=new N.Signal,this._addImages()},N.Cache.CANVAS=1,N.Cache.IMAGE=2,N.Cache.TEXTURE=3,N.Cache.SOUND=4,N.Cache.TEXT=5,N.Cache.PHYSICS=6,N.Cache.TILEMAP=7,N.Cache.BINARY=8,N.Cache.BITMAPDATA=9,N.Cache.BITMAPFONT=10,N.Cache.JSON=11,N.Cache.XML=12,N.Cache.VIDEO=13,N.Cache.SHADER=14,N.Cache.RENDER_TEXTURE=15,N.Cache.DATA=16,N.Cache.DEFAULT=null,N.Cache.DEFAULT_KEY="__default",N.Cache.DEFAULT_SRC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==",N.Cache.MISSING=null,N.Cache.MISSING_KEY="__missing",N.Cache.MISSING_SRC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==",N.Cache.READY_TIMEOUT=1e3,N.Cache.prototype={addCompressedTextureMetaData:function(t,e,i,s){this.checkImageKey(t)&&this.removeImage(t);s=i in N.LoaderParser?N.LoaderParser[i](s):s,i={key:t,url:e,data:s,base:new PIXI.BaseTexture(s,null,this.game.resolution),frame:new N.Frame(0,0,0,s.width,s.height,t),frameData:new N.FrameData,fileFormat:i};return i.frameData.addFrame(new N.Frame(0,0,0,s.width,s.height,e)),this._cache.image[t]=i,this._resolveURL(e,i),i},addCanvas:function(t,e,i){void 0===i&&(i=e.getContext("2d")),this._cache.canvas[t]={canvas:e,context:i}},addImage:function(t,e,i){this.checkImageKey(t)&&this.removeImage(t),!1===i.complete&&console.warn('Phaser.Cache.addImage: Image "%s" is not complete',t);var s={key:t,url:e,data:i,base:new PIXI.BaseTexture(i,null,this.game.resolution),frame:new N.Frame(0,0,0,i.width,i.height,t),frameData:new N.FrameData};return s.frameData.addFrame(new N.Frame(0,0,0,i.width,i.height,e)),this._cache.image[t]=s,this._resolveURL(e,s),"__default"===t?N.Cache.DEFAULT=new PIXI.Texture(s.base):"__missing"===t&&(N.Cache.MISSING=new PIXI.Texture(s.base)),s},addImageAsync:function(t,e,i){var s=this,n=new Image;n.onload=function(){i.call(this,s.addImage(t,null,n)),s._removePending(),n.onload=null},this._addPending(),n.src=e},addDefaultImage:function(){this.addImageAsync(N.Cache.DEFAULT_KEY,N.Cache.DEFAULT_SRC,function(t){t.base.skipRender=!0,N.Cache.DEFAULT=new PIXI.Texture(t.base)})},addMissingImage:function(){this.addImageAsync(N.Cache.MISSING_KEY,N.Cache.MISSING_SRC,function(t){N.Cache.MISSING=new PIXI.Texture(t.base)})},addSound:function(t,e,i,s,n){var o=(n=void 0===(n=void 0===s?!(s=!0):n)?!(s=!1):n)?!0:!1;this._cache.sound[t]={url:e,data:i,isDecoding:!1,decoded:o,webAudio:s,audioTag:n,locked:this.game.sound.touchLocked},this._resolveURL(e,this._cache.sound[t])},addText:function(t,e,i){this._cache.text[t]={url:e,data:i},this._resolveURL(e,this._cache.text[t])},addPhysicsData:function(t,e,i,s){this._cache.physics[t]={url:e,data:i,format:s},this._resolveURL(e,this._cache.physics[t])},addTilemap:function(t,e,i,s){this._cache.tilemap[t]={url:e,data:i,format:s},this._resolveURL(e,this._cache.tilemap[t])},addBinary:function(t,e){this._cache.binary[t]=e},addBitmapData:function(t,e,i){return e.key=t,void 0===i&&(i=new N.FrameData).addFrame(e.textureFrame),this._cache.bitmapData[t]={data:e,frameData:i},e},addBitmapFont:function(t,e,i,s,n,o,r){i={url:e,data:i,font:null,base:new PIXI.BaseTexture(i,null,this.game.resolution)};void 0===o&&(o=0),void 0===r&&(r=0),i.font="json"===n?N.LoaderParser.jsonBitmapFont(s,i.base,o,r,!1,this.game.resolution):N.LoaderParser.xmlBitmapFont(s,i.base,o,r,!1,this.game.resolution),this._cache.bitmapFont[t]=i,this._resolveURL(e,i)},addBitmapFontFromAtlas:function(t,e,i,s,n,o,r){var a,i=this.getFrameByName(e,i);i&&(e={font:null,base:this.getBaseTexture(e),frame:i},void 0===o&&(o=0),void 0===r&&(r=0),"json"===n?(a=this.getJSON(s),e.font=N.LoaderParser.jsonBitmapFont(a,e.base,o,r,i,this.game.resolution)):(a=this.getXML(s),e.font=N.LoaderParser.xmlBitmapFont(a,e.base,o,r,i,this.game.resolution)),this._cache.bitmapFont[t]=e)},addJSON:function(t,e,i){this._cache.json[t]={url:e,data:i},this._resolveURL(e,this._cache.json[t])},addXML:function(t,e,i){this._cache.xml[t]={url:e,data:i},this._resolveURL(e,this._cache.xml[t])},addVideo:function(t,e,i,s){this._cache.video[t]={url:e,data:i,isBlob:s,locked:!0},this._resolveURL(e,this._cache.video[t])},addShader:function(t,e,i){this._cache.shader[t]={url:e,data:i},this._resolveURL(e,this._cache.shader[t])},addRenderTexture:function(t,e){this._cache.renderTexture[t]={texture:e,frame:new N.Frame(0,0,0,e.width,e.height,"","")}},addSpriteSheet:function(t,e,i,s,n,o,r,a,h){void 0===o&&(o=-1);i={key:t,url:e,data:i,frameWidth:s,frameHeight:n,margin:r=void 0===r?0:r,spacing:a=void 0===a?0:a,base:new PIXI.BaseTexture(i,null,this.game.resolution),frameData:N.AnimationParser.spriteSheet(this.game,i,s,n,o,r,a,h)};this._cache.image[t]=i,this._resolveURL(e,i)},addTextureAtlas:function(t,e,i,s,n){i={key:t,url:e,data:i,base:new PIXI.BaseTexture(i,null,this.game.resolution)};n===N.Loader.TEXTURE_ATLAS_XML_STARLING?i.frameData=N.AnimationParser.XMLData(this.game,s,t):n===N.Loader.TEXTURE_ATLAS_JSON_PYXEL?i.frameData=N.AnimationParser.JSONDataPyxel(this.game,s,t):Array.isArray(s.frames)?i.frameData=N.AnimationParser.JSONData(this.game,s,t):i.frameData=N.AnimationParser.JSONDataHash(this.game,s,t),this._cache.image[t]=i,this._resolveURL(e,i)},addData:function(t,e){this._cache.data[t]=e},reloadSound:function(t){var e=this,i=this.getSound(t);i&&(i.data.src=i.url,i.data.addEventListener("canplaythrough",function(){return e.reloadSoundComplete(t)},!1),i.data.load())},reloadSoundComplete:function(t){var e=this.getSound(t);e&&(e.locked=!1,this.onSoundUnlock.dispatch(t))},updateSound:function(t,e,i){t=this.getSound(t);t&&(t[e]=i)},decodedSound:function(t,e){t=this.getSound(t);t.data=e,t.decoded=!0,t.isDecoding=!1},isSoundDecoded:function(t){t=this.getItem(t,N.Cache.SOUND,"isSoundDecoded");if(t)return t.decoded},isSoundReady:function(t){t=this.getItem(t,N.Cache.SOUND,"isSoundDecoded");if(t)return t.decoded&&!this.game.sound.touchLocked},checkKey:function(t,e){return!!this._cacheMap[t][e]},checkURL:function(t){return!!this._urlMap[this._resolveURL(t)]},checkCanvasKey:function(t){return this.checkKey(N.Cache.CANVAS,t)},checkDataKey:function(t){return this.checkKey(N.Cache.DATA,t)},checkImageKey:function(t){return this.checkKey(N.Cache.IMAGE,t)},checkTextureKey:function(t){return this.checkKey(N.Cache.TEXTURE,t)},checkSoundKey:function(t){return this.checkKey(N.Cache.SOUND,t)},checkTextKey:function(t){return this.checkKey(N.Cache.TEXT,t)},checkPhysicsKey:function(t){return this.checkKey(N.Cache.PHYSICS,t)},checkTilemapKey:function(t){return this.checkKey(N.Cache.TILEMAP,t)},checkBinaryKey:function(t){return this.checkKey(N.Cache.BINARY,t)},checkBitmapDataKey:function(t){return this.checkKey(N.Cache.BITMAPDATA,t)},checkBitmapFontKey:function(t){return this.checkKey(N.Cache.BITMAPFONT,t)},checkJSONKey:function(t){return this.checkKey(N.Cache.JSON,t)},checkXMLKey:function(t){return this.checkKey(N.Cache.XML,t)},checkVideoKey:function(t){return this.checkKey(N.Cache.VIDEO,t)},checkShaderKey:function(t){return this.checkKey(N.Cache.SHADER,t)},checkRenderTextureKey:function(t){return this.checkKey(N.Cache.RENDER_TEXTURE,t)},getItem:function(t,e,i,s){return this.checkKey(e,t)?void 0===s?this._cacheMap[e][t]:this._cacheMap[e][t][s]:(i&&console.warn("Phaser.Cache."+i+': Key "'+t+'" not found in Cache.'),null)},getCanvas:function(t){return this.getItem(t,N.Cache.CANVAS,"getCanvas","canvas")},getImage:function(t,e){void 0===e&&(e=!1);t=this.getItem(t=null==t?"__default":t,N.Cache.IMAGE,"getImage");return null===t&&(t=this.getItem("__missing",N.Cache.IMAGE,"getImage")),e?t:t.data},getTextureFrame:function(t){return this.getItem(t,N.Cache.TEXTURE,"getTextureFrame","frame")},getSound:function(t){return this.getItem(t,N.Cache.SOUND,"getSound")},getSoundData:function(t){return this.getItem(t,N.Cache.SOUND,"getSoundData","data")},getText:function(t){return this.getItem(t,N.Cache.TEXT,"getText","data")},getPhysicsData:function(t,e,i){var s=this.getItem(t,N.Cache.PHYSICS,"getPhysicsData","data");if(null===s||null==e)return s;if(s[e]){var n,o=s[e];if(!o||!i)return o;for(n in o)if((n=o[n]).fixtureKey===i)return n;console.warn('Phaser.Cache.getPhysicsData: Could not find given fixtureKey: "'+i+" in "+t+'"')}else console.warn('Phaser.Cache.getPhysicsData: Invalid key/object: "'+t+" / "+e+'"');return null},getTilemapData:function(t){return this.getItem(t,N.Cache.TILEMAP,"getTilemapData")},getBinary:function(t){return this.getItem(t,N.Cache.BINARY,"getBinary")},getBitmapData:function(t){return this.getItem(t,N.Cache.BITMAPDATA,"getBitmapData","data")},getBitmapFont:function(t){return this.getItem(t,N.Cache.BITMAPFONT,"getBitmapFont")},getJSON:function(t,e){t=this.getItem(t,N.Cache.JSON,"getJSON","data");return t?e?N.Utils.extend(!0,Array.isArray(t)?[]:{},t):t:null},getXML:function(t){return this.getItem(t,N.Cache.XML,"getXML","data")},getVideo:function(t){return this.getItem(t,N.Cache.VIDEO,"getVideo")},getShader:function(t){return this.getItem(t,N.Cache.SHADER,"getShader","data")},getRenderTexture:function(t){return this.getItem(t,N.Cache.RENDER_TEXTURE,"getRenderTexture")},getData:function(t){return this.getItem(t,N.Cache.DATA,"getData")},getBaseTexture:function(t,e){return void 0===e&&(e=N.Cache.IMAGE),this.getItem(t,e,"getBaseTexture","base")},getFrame:function(t,e){return void 0===e&&(e=N.Cache.IMAGE),this.getItem(t,e,"getFrame","frame")},getFrameCount:function(t,e){t=this.getFrameData(t,e);return t?t.total:0},getFrameData:function(t,e){return void 0===e&&(e=N.Cache.IMAGE),this.getItem(t,e,"getFrameData","frameData")},hasFrameData:function(t,e){return void 0===e&&(e=N.Cache.IMAGE),null!==this.getItem(t,e,"","frameData")},updateFrameData:function(t,e,i){void 0===i&&(i=N.Cache.IMAGE),this._cacheMap[i][t]&&(this._cacheMap[i][t].frameData=e)},getFrameByIndex:function(t,e,i){t=this.getFrameData(t,i);return t?t.getFrame(e):null},getFrameByName:function(t,e,i){t=this.getFrameData(t,i);return t?t.getFrameByName(e):null},getURL:function(t){return(t=this._resolveURL(t))?this._urlMap[t]:(console.warn('Phaser.Cache.getUrl: Invalid url: "'+t+'" or Cache.autoResolveURL was false'),null)},getKeys:function(t){void 0===t&&(t=N.Cache.IMAGE);var e=[];if(this._cacheMap[t])for(var i in this._cacheMap[t])"__default"!==i&&"__missing"!==i&&e.push(i);return e},removeCanvas:function(t){delete this._cache.canvas[t]},removeImage:function(t,e){void 0===e&&(e=!0);var i=this.getImage(t,!0);e&&i.base&&i.base.destroy(),delete this._cache.image[t]},removeSound:function(t){delete this._cache.sound[t]},removeText:function(t){delete this._cache.text[t]},removePhysics:function(t){delete this._cache.physics[t]},removeTilemap:function(t){delete this._cache.tilemap[t]},removeBinary:function(t){delete this._cache.binary[t]},removeBitmapData:function(t){delete this._cache.bitmapData[t]},removeBitmapFont:function(t){delete this._cache.bitmapFont[t]},removeJSON:function(t){delete this._cache.json[t]},removeXML:function(t){delete this._cache.xml[t]},removeVideo:function(t){delete this._cache.video[t]},removeShader:function(t){delete this._cache.shader[t]},removeRenderTexture:function(t){delete this._cache.renderTexture[t]},removeSpriteSheet:function(t){delete this._cache.spriteSheet[t]},removeTextureAtlas:function(t){delete this._cache.image[t]},removeData:function(t){delete this._cache.data[t]},clearGLTextures:function(){for(var t in this._cache.image)this._cache.image[t].base._glTextures=[]},_resolveURL:function(t,e){return this.autoResolveURL?(this._urlResolver.src=this.game.load.baseURL+t,this._urlTemp=this._urlResolver.src,this._urlResolver.src="",e&&(this._urlMap[this._urlTemp]=e),this._urlTemp):null},destroy:function(){for(var t=0;t<this._cacheMap.length;t++){var e,i=this._cacheMap[t];for(e in i)"__default"!==e&&"__missing"!==e&&(this.destroyItem(i[e]),delete i[e])}this._urlMap=null,this._urlResolver=null,this._urlTemp=null},destroyItem:function(t){t.destroy?t.destroy():(t.base&&t.base.destroy&&t.base.destroy(),t.data&&t.data.destroy&&t.data.destroy(),t.frameData&&t.frameData.destroy&&t.frameData.destroy(),t.texture&&t.texture.destroy&&t.texture.destroy(!0))},_addImages:function(){this._pendingCount=0,this.addDefaultImage(),this.addMissingImage();var t=this,e=N.Cache.READY_TIMEOUT;0<N.Cache.READY_TIMEOUT?setTimeout(function(){t.isReady||(console.warn("Phaser.Cache: Still waiting for images after %s ms.",e),t._ready())},N.Cache.READY_TIMEOUT):this._ready()},_addPending:function(){this._pendingCount+=1},_removePending:function(){--this._pendingCount,this._checkReady()},_checkReady:function(){this.isReady&&this._ready()},_ready:function(){this._pendingCount=0,this.onReady.dispatch(this)}},N.Cache.prototype.constructor=N.Cache,Object.defineProperty(N.Cache.prototype,"isReady",{get:function(){return this._pendingCount<=0}}),N.Loader=function(t){this.game=t,this.cache=t.cache,this.resetLocked=!1,this.isLoading=!1,this.hasLoaded=!1,this.preloadSprite=null,this.crossOrigin=!1,this.baseURL="",this.path="",this.headers={requestedWith:!1,json:"application/json",xml:"application/xml"},this.onLoadStart=new N.Signal,this.onBeforeLoadComplete=new N.Signal,this.onLoadComplete=new N.Signal,this.onPackComplete=new N.Signal,this.onFileStart=new N.Signal,this.onFileComplete=new N.Signal,this.onFileError=new N.Signal,this.enableParallel=!0,this.maxParallelDownloads=4,this._withSyncPointDepth=0,this._fileList=[],this._flightQueue=[],this._processingHead=0,this._fileLoadStarted=!1,this._totalPackCount=0,this._totalFileCount=0,this._loadedPackCount=0,this._loadedFileCount=0},N.Loader.TEXTURE_ATLAS_JSON_ARRAY=0,N.Loader.TEXTURE_ATLAS_JSON_HASH=1,N.Loader.TEXTURE_ATLAS_XML_STARLING=2,N.Loader.PHYSICS_LIME_CORONA_JSON=3,N.Loader.PHYSICS_PHASER_JSON=4,N.Loader.TEXTURE_ATLAS_JSON_PYXEL=5,N.Loader.mediaTypes={avif:"image/avif",bmp:"image/bmp",cur:"image/x-icon",gif:"image/gif",ico:"image/x-icon",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp"},N.Loader.getMediaType=function(t){t=t.match(/\.(\w+)$/);return t&&N.Loader.mediaTypes[t[1]]||null},N.Loader._getSource=function(t){return"string"==typeof t?{url:t,type:N.Loader.getMediaType(t)}:t},N.Loader.prototype={setPreloadSprite:function(t,e){this.preloadSprite={sprite:t,direction:e=e||0,width:t.width,height:t.height,rect:null},this.preloadSprite.rect=0===e?new N.Rectangle(0,0,1,t.height):new N.Rectangle(0,0,t.width,1),t.crop(this.preloadSprite.rect),t.visible=!0},resize:function(){this.preloadSprite&&this.preloadSprite.height!==this.preloadSprite.sprite.height&&(this.preloadSprite.rect.height=this.preloadSprite.sprite.height)},checkKeyExists:function(t,e){return-1<this.getAssetIndex(t,e)},getAssetIndex:function(t,e){for(var i=-1,s=0;s<this._fileList.length;s++){var n=this._fileList[s];if(n.type===t&&n.key===e&&(i=s,!n.loaded)&&!n.loading)break}return i},getAsset:function(t,e){t=this.getAssetIndex(t,e);return-1<t&&{index:t,file:this._fileList[t]}},reset:function(t,e){void 0===e&&(e=!1),this.resetLocked||(t&&(this.preloadSprite=null),this.isLoading=!1,this._processingHead=0,this._fileList.length=0,this._flightQueue.length=0,this._fileLoadStarted=!1,this._totalFileCount=0,this._totalPackCount=0,this._loadedPackCount=0,this._loadedFileCount=0,e&&(this.onLoadStart.removeAll(),this.onLoadComplete.removeAll(),this.onPackComplete.removeAll(),this.onFileStart.removeAll(),this.onFileComplete.removeAll(),this.onFileError.removeAll()))},addToFileList:function(t,e,i,s,n,o){if(void 0===n&&(n=!1),void 0===e||""===e)console.warn("Phaser.Loader: Invalid or no key given of type "+t);else{if(null==i){if(!o)return console.warn("Phaser.Loader: No URL given for file type: "+t+" key: "+e),this;i=e+o}var r={type:t,key:e,path:this.path,url:i,syncPoint:0<this._withSyncPointDepth,data:null,loading:!1,loaded:!1,error:!1};if(s)for(var a in s)r[a]=s[a];o=this.getAssetIndex(t,e);n&&-1<o?(i=this._fileList[o]).loading||i.loaded?(this._fileList.push(r),this._totalFileCount++):this._fileList[o]=r:-1===o&&(this._fileList.push(r),this._totalFileCount++)}return this},replaceInFileList:function(t,e,i,s){return this.addToFileList(t,e,i,s,!0)},pack:function(t,e,i,s){if(void 0===i&&(i=null),void 0===s&&(s=null),(e=void 0===e?null:e)||i){var n={type:"packfile",key:t,url:e,path:this.path,syncPoint:!0,data:null,loading:!1,loaded:!1,error:!1,callbackContext:s};i&&("string"==typeof i&&(i=JSON.parse(i)),n.data=i||{},n.loaded=!0);for(var o=0;o<this._fileList.length+1;o++){var r=this._fileList[o];if(!r||!r.loaded&&!r.loading&&"packfile"!==r.type){this._fileList.splice(o,0,n),this._totalPackCount++;break}}}else console.warn("Phaser.Loader.pack - Both url and data are null. One must be set.");return this},image:function(t,e,i){return Array.isArray(e)?this.imageset(t,e,i):"object"==typeof e?this.texture(t,e,i):this.addToFileList("image",t,e,void 0,i,".png")},imageset:function(t,e,i){var s=e[e.length-1],s="string"==typeof s?s:s.url;return this.addToFileList("imageset",t,s,{sources:e},i)},imageFromBitmapData:function(t,e,i){return this.image(t,e.canvas.toDataURL("image/png"),i)},imageFromGrid:function(t,e,i,s,n,o){return this.imageFromBitmapData(t,this.game.create.grid(t,e,i,s,n,o,!1))},imageFromTexture:function(t,e,i,s,n){return this.imageFromBitmapData(t,this.game.create.texture(t,e,i,s,n,!1))},texture:function(t,e,i){if(this.game.renderType===N.WEBGL){var s,n=this.game.renderer.extensions.compression;for(s in e)if(s.toUpperCase()in n)return this.addToFileList("texture",t,e[s],void 0,i,".pvr")}return e.truecolor&&this.addToFileList("image",t,e.truecolor,void 0,i,".png"),this},images:function(t,e){if(Array.isArray(e))for(var i=0;i<t.length;i++)this.image(t[i],e[i]);else for(i=0;i<t.length;i++)this.image(t[i]);return this},text:function(t,e,i){return this.addToFileList("text",t,e,void 0,i,".txt")},json:function(t,e,i){return this.addToFileList("json",t,e,void 0,i,".json")},shader:function(t,e,i){return this.addToFileList("shader",t,e,void 0,i,".frag")},xml:function(t,e,i){return this.addToFileList("xml",t,e,void 0,i,".xml")},script:function(t,e,i,s){return this.addToFileList("script",t,e,{syncPoint:!0,callback:i=void 0===i?!1:i,callbackContext:s=!1!==i&&void 0===s?this:s},!1,".js")},binary:function(t,e,i,s){return!1!==(i=void 0===i?!1:i)&&void 0===s&&(s=i),this.addToFileList("binary",t,e,{callback:i,callbackContext:s},!1,".bin")},spritesheet:function(t,e,i,s,n,o,r,a){return this.addToFileList("spritesheet",t,e,{frameWidth:i,frameHeight:s,frameMax:n=void 0===n?-1:n,margin:o=void 0===o?0:o,spacing:r=void 0===r?0:r,skipFrames:a=void 0===a?0:a},!1,".png")},audio:function(t,e,i){return this.game.sound.noAudio?this:this.addToFileList("audio",t,e="string"==typeof e?[e]:e,{buffer:null,autoDecode:i=void 0===i?!0:i})},audioSprite:function(t,e,i,s,n){return this.game.sound.noAudio||(void 0===i&&(i=null),void 0===s&&(s=null),this.audio(t,e,n=void 0===n?!0:n),i?this.json(t+"-audioatlas",i):s?("string"==typeof s&&(s=JSON.parse(s)),this.cache.addJSON(t+"-audioatlas","",s)):console.warn("Phaser.Loader.audiosprite - You must specify either a jsonURL or provide a jsonData object")),this},audiosprite:function(t,e,i,s,n){return this.audioSprite(t,e,i,s,n)},video:function(t,e,i,s){return void 0===i&&(i=this.game.device.firefox?"loadeddata":"canplaythrough"),this.addToFileList("video",t,e="string"==typeof e?[e]:e,{buffer:null,asBlob:s=void 0===s?!1:s,loadEvent:i})},tilemap:function(t,e,i,s){if(void 0===i&&(i=null),void 0===s&&(s=N.Tilemap.CSV),(e=void 0===e?null:e)||i||(e=s===N.Tilemap.CSV?t+".csv":t+".json"),i){switch(s){case N.Tilemap.CSV:break;case N.Tilemap.TILED_JSON:"string"==typeof i&&(i=JSON.parse(i))}this.cache.addTilemap(t,null,i,s)}else this.addToFileList("tilemap",t,e,{format:s});return this},tilemapCSV:function(t,e,i){return this.tilemap(t,e,i,N.Tilemap.CSV)},tilemapTiledJSON:function(t,e,i){return this.tilemap(t,e,i,N.Tilemap.TILED_JSON)},physics:function(t,e,i,s){return void 0===i&&(i=null),void 0===s&&(s=N.Physics.LIME_CORONA_JSON),(e=void 0===e?null:e)||i||(e=t+".json"),i?("string"==typeof i&&(i=JSON.parse(i)),this.cache.addPhysicsData(t,null,i,s)):this.addToFileList("physics",t,e,{format:s}),this},bitmapFont:function(t,e,i,s,n,o){if(null==e&&(e=t+".png"),void 0===s&&(s=null),void 0===n&&(n=0),void 0===o&&(o=0),i=null===(i=void 0===i?null:i)&&null===s?t+".xml":i)this.addToFileList("bitmapfont",t,e,{atlasURL:i,xSpacing:n,ySpacing:o});else if("string"==typeof s){var r,a;try{r=JSON.parse(s)}catch(t){a=this.parseXml(s)}if(!a&&!r)throw new Error("Phaser.Loader. Invalid Bitmap Font atlas given");this.addToFileList("bitmapfont",t,e,{atlasURL:null,atlasData:r||a,atlasType:r?"json":"xml",xSpacing:n,ySpacing:o})}return this},atlasJSONArray:function(t,e,i,s){return this.atlas(t,e,i,s,N.Loader.TEXTURE_ATLAS_JSON_ARRAY)},atlasJSONHash:function(t,e,i,s){return this.atlas(t,e,i,s,N.Loader.TEXTURE_ATLAS_JSON_HASH)},atlasXML:function(t,e,i,s){return void 0===s&&(s=null),this.atlas(t,e,i=(i=void 0===i?null:i)||s?i:t+".xml",s,N.Loader.TEXTURE_ATLAS_XML_STARLING)},atlas:function(t,e,i,s,n){if(null==e&&(e=t+".png"),void 0===s&&(s=null),void 0===n&&(n=N.Loader.TEXTURE_ATLAS_JSON_ARRAY),i=(i=void 0===i?null:i)||s?i:n===N.Loader.TEXTURE_ATLAS_XML_STARLING?t+".xml":t+".json")this.addToFileList("textureatlas",t,e,{atlasURL:i,format:n});else{switch(n){case N.Loader.TEXTURE_ATLAS_JSON_ARRAY:"string"==typeof s&&(s=JSON.parse(s));break;case N.Loader.TEXTURE_ATLAS_XML_STARLING:if("string"==typeof s){var o=this.parseXml(s);if(!o)throw new Error("Phaser.Loader. Invalid Texture Atlas XML given");s=o}}this.addToFileList("textureatlas",t,e,{atlasURL:null,atlasData:s,format:n})}return this},withSyncPoint:function(t,e){this._withSyncPointDepth++;try{t.call(e||this,this)}finally{this._withSyncPointDepth--}return this},addSyncPoint:function(t,e){t=this.getAsset(t,e);return t&&(t.file.syncPoint=!0),this},removeFile:function(t,e){t=this.getAsset(t,e);!t||t.loaded||t.loading||this._fileList.splice(t.index,1)},removeAll:function(){this._fileList.length=0,this._flightQueue.length=0},start:function(){this.isLoading||(this.hasLoaded=!1,this.isLoading=!0,this.updateProgress(),this.processLoadQueue())},processLoadQueue:function(){if(this.game.isBooted)if(this.isLoading){for(var t=0;t<this._flightQueue.length;t++)((e=this._flightQueue[t]).loaded||e.error)&&(this._flightQueue.splice(t,1),t--,e.loading=!1,e.requestUrl=null,e.requestObject=null,e.error&&this.onFileError.dispatch(e.key,e),"packfile"!==e.type?(this._loadedFileCount++,this.onFileComplete.dispatch(this.progress,e.key,!e.error,this._loadedFileCount,this._totalFileCount)):"packfile"===e.type&&e.error&&(this._loadedPackCount++,this.onPackComplete.dispatch(e.key,!e.error,this._loadedPackCount,this._totalPackCount)));for(var e,i,s=!1,n=this.enableParallel?Math.max(1,this.maxParallelDownloads):1,t=this._processingHead;t<this._fileList.length;t++)if("packfile"===(e=this._fileList[t]).type&&!e.error&&e.loaded&&t===this._processingHead&&(this.processPack(e),this._loadedPackCount++,this.onPackComplete.dispatch(e.key,!e.error,this._loadedPackCount,this._totalPackCount)),e.loaded||e.error?t===this._processingHead&&(this._processingHead=t+1):!e.loading&&this._flightQueue.length<n&&("packfile"!==e.type||e.data?s||(this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this._flightQueue.push(e),e.loading=!0,this.onFileStart.dispatch(this.progress,e.key,e.url),this.loadFile(e)):(this._flightQueue.push(e),e.loading=!0,this.loadFile(e))),!e.loaded&&e.syncPoint&&(s=!0),this._flightQueue.length>=n||s&&this._loadedPackCount===this._totalPackCount)break;this.updateProgress(),this._processingHead>=this._fileList.length?this.finishedLoading():this._flightQueue.length||(console.warn("Phaser.Loader - aborting: processing queue empty, loading may have stalled"),i=this,setTimeout(function(){i.finishedLoading(!0)},2e3))}else console.warn("Phaser.Loader - active loading canceled / reset"),this.finishedLoading(!0)},finishedLoading:function(t){!this.hasLoaded&&this.game.state&&(this.hasLoaded=!0,this.isLoading=!1,t||this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this.game.state.loadUpdate(),this.onBeforeLoadComplete.dispatch(),this.reset(),this.onLoadComplete.dispatch(),this.game.state.loadComplete())},asyncComplete:function(t,e){void 0===e&&(e=""),t.loaded=!0,t.error=!!e,e&&(t.errorMessage=e,console.warn("Phaser.Loader - "+t.type+"["+t.key+"]: "+e)),this.processLoadQueue()},processPack:function(t){var e=t.data[t.key];if(e)for(var i=0;i<e.length;i++){var s=e[i];switch(s.type){case"image":this.image(s.key,s.url,s.overwrite);break;case"text":this.text(s.key,s.url,s.overwrite);break;case"json":this.json(s.key,s.url,s.overwrite);break;case"xml":this.xml(s.key,s.url,s.overwrite);break;case"script":this.script(s.key,s.url,s.callback,t.callbackContext||this);break;case"binary":this.binary(s.key,s.url,s.callback,t.callbackContext||this);break;case"spritesheet":this.spritesheet(s.key,s.url,s.frameWidth,s.frameHeight,s.frameMax,s.margin,s.spacing,s.skipFrames);break;case"video":this.video(s.key,s.urls);break;case"audio":this.audio(s.key,s.urls,s.autoDecode);break;case"audiosprite":this.audiosprite(s.key,s.urls,s.jsonURL,s.jsonData,s.autoDecode);break;case"tilemap":this.tilemap(s.key,s.url,s.data,N.Tilemap[s.format]);break;case"physics":this.physics(s.key,s.url,s.data,N.Loader[s.format]);break;case"bitmapFont":this.bitmapFont(s.key,s.textureURL,s.atlasURL,s.atlasData,s.xSpacing,s.ySpacing);break;case"atlasJSONArray":this.atlasJSONArray(s.key,s.textureURL,s.atlasURL,s.atlasData);break;case"atlasJSONHash":this.atlasJSONHash(s.key,s.textureURL,s.atlasURL,s.atlasData);break;case"atlasXML":this.atlasXML(s.key,s.textureURL,s.atlasURL,s.atlasData);break;case"atlas":this.atlas(s.key,s.textureURL,s.atlasURL,s.atlasData,N.Loader[s.format]);break;case"shader":this.shader(s.key,s.url,s.overwrite)}}else console.warn("Phaser.Loader - "+t.key+": pack has data, but not for pack key")},transformUrl:function(t,e){return!!t&&(t.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t:this.baseURL+e.path+t)},loadFile:function(t){switch(t.type){case"packfile":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.fileComplete);break;case"image":case"spritesheet":case"textureatlas":case"bitmapfont":this.loadImageTag(t);break;case"imageset":this.loadPictureTag(t);break;case"audio":t.url=this.getAudioURL(t.url),t.url?this.game.sound.usingWebAudio?this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete):this.game.sound.usingAudioTag&&this.loadAudioTag(t):this.fileError(t,null,"No supported audio URL specified or device does not have audio playback support");break;case"video":t.url=this.getVideoURL(t.url),t.url?t.asBlob?this.xhrLoad(t,this.transformUrl(t.url,t),"blob",this.fileComplete):this.loadVideoTag(t):this.fileError(t,null,"No supported video URL specified or device does not have video playback support");break;case"json":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.jsonLoadComplete);break;case"xml":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.xmlLoadComplete);break;case"tilemap":t.format===N.Tilemap.TILED_JSON?this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.jsonLoadComplete):t.format===N.Tilemap.CSV?this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.csvLoadComplete):this.asyncComplete(t,"invalid Tilemap format: "+t.format);break;case"text":case"script":case"shader":case"physics":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.fileComplete);break;case"texture":"truecolor"===t.key.split("_").pop()?this.loadImageTag(t):this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete);break;case"binary":this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete)}},loadImageTag:function(t){var e=this;t.data=new Image,t.data.name=t.key,this.crossOrigin&&(t.data.crossOrigin=this.crossOrigin),t.data.onload=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,e.fileComplete(t))},t.data.onerror=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,e.fileError(t))},t.data.src=this.transformUrl(t.url,t),t.data.complete&&t.data.width&&t.data.height&&(t.data.onload=null,t.data.onerror=null,this.fileComplete(t))},loadPictureTag:function(t){for(var e=this,i=document.createElement("picture"),s=t.sources,n=N.Loader._getSource(s.pop()),o=0,r=s.length;o<r;o++){var a=N.Loader._getSource(s[o]),h=(a.type&&a.url||console.warn('Skipping an invalid source for image "%s" (url: "%s", type: "%s")',t.key,a.url,a.type),document.createElement("source"));h.setAttribute("type",a.type),h.setAttribute("srcset",this.transformUrl(a.url,t)),i.appendChild(h)}t.data=document.createElement("img"),t.data.name=t.key,this.crossOrigin&&(t.data.crossOrigin=this.crossOrigin),t.data.onload=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,t.url=t.data.currentSrc,e.fileComplete(t))},t.data.onerror=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,t.url=t.data.currentSrc,e.fileError(t))},i.appendChild(t.data),t.data.src=this.transformUrl(n.url,t),t.data.complete&&t.data.width&&t.data.height&&(t.data.onload=null,t.data.onerror=null,this.fileComplete(t))},loadVideoTag:function(t){var e=this,i=(t.data=document.createElement("video"),t.data.name=t.key,t.data.crossOrigin=this.crossOrigin,t.data.controls=!1,t.data.autoplay=!1,t.data.playsInline=!0,function(){t.data.removeEventListener(t.loadEvent,i,!1),t.data.onerror=null,t.data.canplay=!0,e.game.load.fileComplete(t)});t.data.onerror=function(){t.data.removeEventListener(t.loadEvent,i,!1),t.data.onerror=null,t.data.canplay=!1,e.fileError(t)},t.data.addEventListener(t.loadEvent,i,!1),t.data.src=this.transformUrl(t.url,t),t.data.load()},loadAudioTag:function(t){var e,i=this;this.game.sound.touchLocked?(t.data=new Audio,t.data.name=t.key,t.data.preload="auto",t.data.src=this.transformUrl(t.url,t),this.fileComplete(t)):(t.data=new Audio,t.data.name=t.key,e=function(){t.data.removeEventListener("canplaythrough",e,!1),t.data.onerror=null,i.fileComplete(t)},t.data.onerror=function(){t.data.removeEventListener("canplaythrough",e,!1),t.data.onerror=null,i.fileError(t)},t.data.preload="auto",t.data.src=this.transformUrl(t.url,t),t.data.addEventListener("canplaythrough",e,!1),t.data.load())},xhrLoad:function(e,t,i,s,n){var o=new XMLHttpRequest,r=(o.open("GET",t,!0),o.responseType=i,!1!==this.headers.requestedWith&&o.setRequestHeader("X-Requested-With",this.headers.requestedWith),this.headers[e.type]&&o.setRequestHeader("Accept",this.headers[e.type]),n=n||this.fileError,this);o.onload=function(){try{return(4===o.readyState&&400<=o.status&&o.status<=599?n:s).call(r,e,o)}catch(t){r.hasLoaded?console.error(t):r.asyncComplete(e,t.message||"Exception")}},o.onerror=function(){try{return n.call(r,e,o)}catch(t){r.hasLoaded?console.error(t):r.asyncComplete(e,t.message||"Exception")}},e.requestObject=o,e.requestUrl=t,o.send()},getVideoURL:function(t){for(var e=0;e<t.length;e++){var i,s=t[e];if(s.uri){if(i=s.type,s=s.uri,this.game.device.canPlayVideo(i))return s}else{if(0===s.indexOf("blob:")||0===s.indexOf("data:"))return s;if(i=(s=0<=s.indexOf("?")?s.substr(0,s.indexOf("?")):s).substr((Math.max(0,s.lastIndexOf("."))||1/0)+1).toLowerCase(),this.game.device.canPlayVideo(i))return t[e]}}return null},getAudioURL:function(t){if(!this.game.sound.noAudio)for(var e=0;e<t.length;e++){var i,s=t[e];if(s.uri){if(i=s.type,s=s.uri,this.game.device.canPlayAudio(i))return s}else{if(0===s.indexOf("blob:")||0===s.indexOf("data:"))return s;if(i=(s=0<=s.indexOf("?")?s.substr(0,s.indexOf("?")):s).substr((Math.max(0,s.lastIndexOf("."))||1/0)+1).toLowerCase(),this.game.device.canPlayAudio(i))return t[e]}}return null},fileError:function(t,e,i){var s="error loading asset from URL "+(t.requestUrl||this.transformUrl(t.url,t));!i&&e&&(i=e.status),this.asyncComplete(t,s=i?s+" ("+i+")":s)},fileComplete:function(t,e){if(this.game.isBooted){var i=!0;switch(t.type){case"packfile":var s=JSON.parse(e.responseText);t.data=s||{};break;case"texture":var n=/\.([^.]+)$/.exec(t.url.split("?",1)[0])[1].toLowerCase();null!==t.data?this.cache.addCompressedTextureMetaData(t.key,t.url,n,t.data):this.cache.addCompressedTextureMetaData(t.key,t.url,n,e.response);break;case"image":case"imageset":this.cache.addImage(t.key,t.url,t.data);break;case"spritesheet":this.cache.addSpriteSheet(t.key,t.url,t.data,t.frameWidth,t.frameHeight,t.frameMax,t.margin,t.spacing,t.skipFrames);break;case"textureatlas":if(null==t.atlasURL)this.cache.addTextureAtlas(t.key,t.url,t.data,t.atlasData,t.format);else if(i=!1,t.format===N.Loader.TEXTURE_ATLAS_JSON_ARRAY||t.format===N.Loader.TEXTURE_ATLAS_JSON_HASH||t.format===N.Loader.TEXTURE_ATLAS_JSON_PYXEL)this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.jsonLoadComplete);else{if(t.format!==N.Loader.TEXTURE_ATLAS_XML_STARLING)throw new Error("Phaser.Loader. Invalid Texture Atlas format: "+t.format);this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.xmlLoadComplete)}break;case"bitmapfont":t.atlasURL?(i=!1,this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",function(t,e){var i;try{i=JSON.parse(e.responseText)}catch(t){}i?(t.atlasType="json",this.jsonLoadComplete(t,e)):(t.atlasType="xml",this.xmlLoadComplete(t,e))})):this.cache.addBitmapFont(t.key,t.url,t.data,t.atlasData,t.atlasType,t.xSpacing,t.ySpacing);break;case"video":if(t.asBlob)try{t.data=e.response}catch(e){throw new Error("Phaser.Loader. Unable to parse video file as Blob: "+t.key)}this.cache.addVideo(t.key,t.url,t.data,t.asBlob);break;case"audio":this.game.sound.usingWebAudio?(t.data=e.response,this.cache.addSound(t.key,t.url,t.data,!0,!1),t.autoDecode&&this.game.sound.decode(t.key)):this.cache.addSound(t.key,t.url,t.data,!1,!0);break;case"text":t.data=e.responseText,this.cache.addText(t.key,t.url,t.data);break;case"shader":t.data=e.responseText,this.cache.addShader(t.key,t.url,t.data);break;case"physics":s=JSON.parse(e.responseText),this.cache.addPhysicsData(t.key,t.url,s,t.format);break;case"script":t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=e.responseText,document.head.appendChild(t.data),t.callback&&(t.data=t.callback.call(t.callbackContext,t.key,e.responseText));break;case"binary":t.data=t.callback?t.callback.call(t.callbackContext,t.key,e.response):e.response,this.cache.addBinary(t.key,t.data)}i&&this.asyncComplete(t)}},jsonLoadComplete:function(t,e){e=JSON.parse(e.responseText);"tilemap"===t.type?this.cache.addTilemap(t.key,t.url,e,t.format):"bitmapfont"===t.type?this.cache.addBitmapFont(t.key,t.url,t.data,e,t.atlasType,t.xSpacing,t.ySpacing):"json"===t.type?this.cache.addJSON(t.key,t.url,e):this.cache.addTextureAtlas(t.key,t.url,t.data,e,t.format),this.asyncComplete(t)},csvLoadComplete:function(t,e){e=e.responseText;this.cache.addTilemap(t.key,t.url,e,t.format),this.asyncComplete(t)},xmlLoadComplete:function(t,e){var i=e.responseText,i=this.parseXml(i);i?("bitmapfont"===t.type?this.cache.addBitmapFont(t.key,t.url,t.data,i,t.atlasType,t.xSpacing,t.ySpacing):"textureatlas"===t.type?this.cache.addTextureAtlas(t.key,t.url,t.data,i,t.format):"xml"===t.type&&this.cache.addXML(t.key,t.url,i),this.asyncComplete(t)):(i=e.responseType||e.contentType,console.warn("Phaser.Loader - "+t.key+": invalid XML ("+i+")"),this.asyncComplete(t,"invalid XML"))},parseXml:function(t){var e;try{window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(t){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null},updateProgress:function(){this.preloadSprite&&(0===this.preloadSprite.direction?this.preloadSprite.rect.width=Math.floor(this.preloadSprite.width/100*this.progress):this.preloadSprite.rect.height=Math.floor(this.preloadSprite.height/100*this.progress),this.preloadSprite.sprite?this.preloadSprite.sprite.updateCrop():this.preloadSprite=null)},totalLoadedFiles:function(){return this._loadedFileCount},totalQueuedFiles:function(){return this._totalFileCount-this._loadedFileCount},totalLoadedPacks:function(){return this._totalPackCount},totalQueuedPacks:function(){return this._totalPackCount-this._loadedPackCount}},Object.defineProperty(N.Loader.prototype,"progressFloat",{get:function(){var t=this._loadedFileCount/this._totalFileCount*100;return N.Math.clamp(t||0,0,100)}}),Object.defineProperty(N.Loader.prototype,"progress",{get:function(){return Math.round(this.progressFloat)}}),N.Loader.prototype.constructor=N.Loader,N.LoaderParser={bitmapFont:function(t,e,i,s,n,o){return this.xmlBitmapFont(t,e,i,s,n,o)},xmlBitmapFont:function(t,e,i,s,n,o){null==o&&(o=1);var r={},a=t.getElementsByTagName("info")[0],h=t.getElementsByTagName("common")[0];r.font=a.getAttribute("face"),r.size=parseInt(a.getAttribute("size"),10),r.lineHeight=parseInt(h.getAttribute("lineHeight"),10)+s,r.chars={};for(var l=t.getElementsByTagName("char"),c=n?n.x:0,u=n?n.y:0,d=0;d<l.length;d++){var p,f=parseInt(l[d].getAttribute("id"),10),f=r.chars[f]={x:parseInt(l[d].getAttribute("x"),10),y:parseInt(l[d].getAttribute("y"),10),width:parseInt(l[d].getAttribute("width"),10),height:parseInt(l[d].getAttribute("height"),10),xOffset:parseInt(l[d].getAttribute("xoffset"),10)/o,yOffset:parseInt(l[d].getAttribute("yoffset"),10)/o,xAdvance:(parseInt(l[d].getAttribute("xadvance"),10)+i)/o,kerning:{}};n&&n.trimmed&&(f.x+f.width>n.spriteSourceSizeX+n.spriteSourceSizeW&&(f.width-=f.x+f.width-n.spriteSourceSizeX-n.spriteSourceSizeW),n.spriteSourceSizeY+n.spriteSourceSizeH<f.y+f.height&&(f.height-=f.y+f.height-n.spriteSourceSizeY-n.spriteSourceSizeH),f.x<n.spriteSourceSizeX&&(p=n.spriteSourceSizeX-f.x,f.x=0,f.width-=p,f.xOffset+=p),f.y<n.spriteSourceSizeY)&&(p=n.spriteSourceSizeY-f.y,f.y=0,f.height-=p,f.yOffset+=p),f.x+=c,f.y+=u}for(var g=t.getElementsByTagName("kerning"),d=0;d<g.length;d++){var m=parseInt(g[d].getAttribute("first"),10),y=parseInt(g[d].getAttribute("second"),10),v=parseInt(g[d].getAttribute("amount"),10)/o;r.chars[y]&&(r.chars[y].kerning[m]=v)}return this.finalizeBitmapFont(e,r)},jsonBitmapFont:function(t,e,s,i,n,o){null==o&&(o=1);var r={font:t.font.info._face,size:parseInt(t.font.info._size,10),lineHeight:parseInt(t.font.common._lineHeight,10)+i,chars:{}},a=n?n.x:0,h=n?n.y:0;return t.font.chars.char.forEach(function(t){var e,i=parseInt(t._id,10),i=r.chars[i]={x:parseInt(t._x,10),y:parseInt(t._y,10),width:parseInt(t._width,10),height:parseInt(t._height,10),xOffset:parseInt(t._xoffset,10)/o,yOffset:parseInt(t._yoffset,10)/o,xAdvance:(parseInt(t._xadvance,10)+s)/o,kerning:{}};n&&n.trimmed&&(i.x+i.width>n.spriteSourceSizeX+n.spriteSourceSizeW&&(i.width-=i.x+i.width-n.spriteSourceSizeX-n.spriteSourceSizeW),n.spriteSourceSizeY+n.spriteSourceSizeH<i.y+i.height&&(i.height-=i.y+i.height-n.spriteSourceSizeY-n.spriteSourceSizeH),i.x<n.spriteSourceSizeX&&(e=n.spriteSourceSizeX-i.x,i.x=0,i.width-=e,i.xOffset+=e),i.y<n.spriteSourceSizeY)&&(e=n.spriteSourceSizeY-i.y,i.y=0,i.height-=e,i.yOffset+=e),i.x+=a,i.y+=h}),t.font.kernings&&t.font.kernings.kerning&&t.font.kernings.kerning.forEach(function(t){r.chars[t._second]&&(r.chars[t._second].kerning[t._first]=parseInt(t._amount,10)/o)}),this.finalizeBitmapFont(e,r)},finalizeBitmapFont:function(e,i){return Object.keys(i.chars).forEach(function(t){t=i.chars[t];t.texture=new PIXI.Texture(e,new N.Rectangle(t.x,t.y,t.width,t.height))}),i},pvr:function(t){var e,i=new Uint32Array(t.slice(0,52)),t=new Uint8Array(t),s=null,n=i[3]<<32|i[2],o=0;if(55727696===i[0]&&0<=[0,1,2,3,6,7,9,11].indexOf(n)){switch(0<=n&&n<=3?e="PVRTC":7<=n&&n<=11?e="S3TC":6==n&&(e="ETC1"),n){case 0:o=35841;break;case 1:o=35843;break;case 2:o=35840;break;case 3:o=35842;break;case 6:o=36196;break;case 7:o=33777;break;case 9:o=33778;break;case 11:o=33779;break;default:o=-1}s={complete:!0,fileFormat:"PVR",compressionAlgorithm:e,flags:i[1],pixelFormat:n,colorSpace:i[4],channelType:i[5],height:i[6],width:i[7],depth:i[8],numberOfSurfaces:i[9],numberOfFaces:i[10],numberOfMipmaps:i[11],metaDataSize:i[12],textureData:t.subarray(52+i[12],t.byteLength),glExtensionFormat:o}}return s},dds:function(t){var e=new Uint8Array(t),t=new Uint32Array(t),i=null;return 68===e[0]&&68===e[1]&&83===e[2]&&32===e[3]&&("DX10"===(i={complete:!0,fileFormat:"DDS",compressionAlgorithm:"S3TC",size:t[1],flags:t[2],height:t[3],width:t[4],pitch:t[5],depth:t[6],mipmapCount:t[7],formatSize:t[19],formatFlag:t[19],formatFourCC:[String.fromCharCode(e[84]),String.fromCharCode(e[85]),String.fromCharCode(e[86]),String.fromCharCode(e[87])].join(""),formatBitCount:t[21],formatRBitMask:t[22],formatGBitMask:t[23],formatBBitMask:t[24],formatABitMask:t[25],caps1:t[26],caps2:t[27],caps3:t[28],caps4:t[29],reserved2:t[30],DXGIFormat:null,resourceDimension:null,miscFlag:null,arraySize:null,textureData:e.subarray(t[1]+4,e.byteLength)}).formatFourCC?(i.DXGIFormat=t[31],i.resourceDimension=t[32],i.miscFlag=t[33],i.arraySize=t[34],i.miscFlag=t[35]):"DXT5"===i.formatFourCC?i.glExtensionFormat=33779:"DXT3"===i.formatFourCC&&(i.glExtensionFormat=33778)),i},ktx:function(t){var e=new Uint8Array(t),t=new Uint32Array(t),i=null,s=16+t[15]/4|0,n=t[s],o=t[7],r=0;if(171===e[0]&&75===e[1]&&84===e[2]&&88===e[3]&&32===e[4]&&49===e[5]&&49===e[6]&&187===e[7]&&13===e[8]&&10===e[9]&&26===e[10]&&10===e[11]&&0<=[36196,35840,35841,35842,35843,33776,33777,33778,33779].indexOf(o)){switch(o){case 36196:r="ETC1";break;case 35840:case 35841:case 35842:case 35843:r="PVRTC";break;case 33776:case 33777:case 33778:case 33779:r="S3TC"}i={complete:!0,fileFormat:"KTX",compressionAlgorithm:r,endianness:t[3],glType:t[4],glTypeSize:t[5],glFormat:t[6],glInternalFormat:t[7],glBaseInternalFormat:t[8],width:t[9],height:t[10],pixelDepth:t[11],numberOfArrayElements:t[12],numberOfFaces:t[13],numberOfMipmapLevels:t[14],bytesOfKeyValueData:t[15],keyAndValueByteSize:t[16],imageSize:n,textureData:e.subarray(4*(1+s),n+100)}}return i},pkm:function(t){var t=new Uint8Array(t),e=null;return e=80===t[0]&&75===t[1]&&77===t[2]&&32===t[3]?{complete:!0,fileFormat:"PKM",compressionAlgorithm:"ETC1",format:65535&(t[6]<<8|t[7]),width:65535&(t[8]<<8|t[9]),height:65535&(t[10]<<8|t[11]),originalWidth:65535&(t[12]<<8|t[13]),originalHeight:65535&(t[14]<<8|t[15]),textureData:t.subarray(16,t.length)}:e}},N.AudioSprite=function(t,e){for(var i in this.game=t,this.key=e,this.config=this.game.cache.getJSON(e+"-audioatlas"),this.autoplayKey=null,this.autoplay=!1,this.sounds={},this.config.spritemap){var s=this.config.spritemap[i],n=this.game.add.sound(this.key);n.addMarker(i,s.start,s.end-s.start,null,s.loop),this.sounds[i]=n}this.config.autoplay&&(this.autoplayKey=this.config.autoplay,this.play(this.autoplayKey),this.autoplay=this.sounds[this.autoplayKey])},N.AudioSprite.prototype={play:function(t,e){return this.sounds[t].play(t,null,e=void 0===e?1:e)},stop:function(t){if(t)this.sounds[t].stop();else for(var e in this.sounds)this.sounds[e].stop()},get:function(t){return this.sounds[t]}},N.AudioSprite.prototype.constructor=N.AudioSprite,N.Sound=function(t,e,i,s,n){void 0===i&&(i=1),void 0===s&&(s=!1),void 0===n&&(n=t.sound.connectToMaster),this.game=t,this.name=e,this.key=e,this.loop=s,this.markers={},this.context=null,this.autoplay=!1,this.totalDuration=0,this.startTime=0,this.currentTime=0,this.duration=0,this.durationMS=0,this.position=0,this.stopTime=0,this.paused=!1,this.pausedPosition=0,this.pausedTime=0,this.isPlaying=!1,this.currentMarker="",this.fadeTween=null,this.pendingPlayback=!1,this.override=!1,this.allowMultiple=!1,this.playOnce=!1,this.usingWebAudio=this.game.sound.usingWebAudio,this.usingAudioTag=this.game.sound.usingAudioTag,this.externalNode=null,this.masterGainNode=null,this.gainNode=null,this._sound=null,this._globalVolume=1,this._markedToDelete=!1,this._pendingStart=!1,this._removeFromSoundManager=!1,this._sourceId=0,this.usingWebAudio?(this.context=this.game.sound.context,this.masterGainNode=this.game.sound.masterGain,void 0===this.context.createGain?this.gainNode=this.context.createGainNode():this.gainNode=this.context.createGain(),this.gainNode.gain.value=i,n&&this.gainNode.connect(this.masterGainNode)):this.usingAudioTag&&(this.game.cache.getSound(e)&&this.game.cache.isSoundReady(e)?(this._sound=this.game.cache.getSoundData(e),this.totalDuration=0,this._sound.duration&&(this.totalDuration=this._sound.duration)):this.game.cache.onSoundUnlock.add(this.soundHasUnlocked,this)),this.onDecoded=new N.Signal,this.onPlay=new N.Signal,this.onPause=new N.Signal,this.onResume=new N.Signal,this.onLoop=new N.Signal,this.onStop=new N.Signal,this.onMute=new N.Signal,this.onMarkerComplete=new N.Signal,this.onFadeComplete=new N.Signal,this._volume=i,this._buffer=null,this._muted=!1,this._tempMarker=0,this._tempPosition=0,this._tempVolume=0,this._tempPause=0,this._muteVolume=0,this._tempLoop=0,this._paused=!1,this._onDecodedEventDispatched=!1},N.Sound.prototype={soundHasUnlocked:function(t){t===this.key&&(this._sound=this.game.cache.getSoundData(this.key),this.totalDuration=this._sound.duration)},addMarker:function(t,e,i,s,n){this.markers[t]={name:t,start:e,stop:e+(i=null==i?1:i),volume:s=null==s?1:s,duration:i,durationMS:1e3*i,loop:n=void 0===n?!1:n}},removeMarker:function(t){delete this.markers[t]},onEndedHandler:function(){this._sound&&(this._removeOnEndedHandler(),this.isPlaying=!1,this.currentTime=this.durationMS,this.stop(),this.playOnce&&(this._markedToDelete=!0,this._removeFromSoundManager=!0),this._markedToDelete)&&(this._disconnectSource(),this._removeFromSoundManager?this.game.sound.remove(this):(this.markers={},this.context=null,this._buffer=null,this.externalNode=null,this.onDecoded.dispose(),this.onPlay.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.onLoop.dispose(),this.onStop.dispose(),this.onMute.dispose(),this.onMarkerComplete.dispose()))},update:function(){if(this.game.cache.checkSoundKey(this.key)){this.isDecoded&&!this._onDecodedEventDispatched&&(this.onDecoded.dispatch(this),this._onDecodedEventDispatched=!0),this.pendingPlayback&&this.game.cache.isSoundReady(this.key)&&(this.pendingPlayback=!1,this.play(this._tempMarker,this._tempPosition,this._tempVolume,this._tempLoop));var t=this.game.time.time;if(this.isPlaying){if(this._pendingStart){var e=this._sound.currentTime;if(!(e>((this.paused?this._tempPause:0)||this.position||0)))return;this._pendingStart=!1,this.startTime=t-1e3*e,this.stopTime=this.startTime+this.durationMS}this.currentTime=t-this.startTime,this.currentTime>=this.durationMS&&(this.usingWebAudio?this.loop?(this.onLoop.dispatch(this),this.isPlaying=!1,""===this.currentMarker?(this.currentTime=0,this.startTime=t,this.isPlaying=!0):(this.onMarkerComplete.dispatch(this.currentMarker,this),this.play(this.currentMarker,0,this.volume,!0,!0,!1))):""!==this.currentMarker&&this.stop():this.loop?(this.onLoop.dispatch(this),""===this.currentMarker&&(this.currentTime=0,this.startTime=t),this.isPlaying=!1,this.play(this.currentMarker,0,this.volume,!0,!0,!1)):this.stop())}}else this.destroy()},loopFull:function(t){return this.play(null,0,t,!0)},play:function(t,e,i,s,n,o){if(void 0!==t&&!1!==t&&null!==t||(t=""),void 0===n&&(n=!0),void 0===o&&(o=!0),(!this.isPlaying||this.allowMultiple||n||this.override)&&(this._sound&&this.isPlaying&&!this.allowMultiple&&(this.override||n)&&(this.usingWebAudio?this._stopSourceAndDisconnect():this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0),this.isPlaying=!1),!(""===t&&0<Object.keys(this.markers).length))){if(""!==t){if(!this.markers[t])return console.warn("Phaser.Sound.play: audio marker "+t+" doesn't exist"),this;this.currentMarker=t,this.position=this.markers[t].start,this.volume=this.markers[t].volume,this.loop=this.markers[t].loop,this.duration=this.markers[t].duration,this.durationMS=this.markers[t].durationMS,void 0!==i&&(this.volume=i),void 0!==s&&(this.loop=s),this._tempMarker=t,this._tempPosition=this.position,this._tempVolume=this.volume,this._tempLoop=this.loop}else e=e||0,void 0===i&&(i=this._volume),void 0===s&&(s=this.loop),this.position=Math.max(0,e),this.volume=i,this.loop=s,this.duration=0,this.durationMS=0,this._tempMarker=t,this._tempPosition=e,this._tempVolume=i,this._tempLoop=s;this.usingWebAudio?this.game.cache.isSoundDecoded(this.key)?(this._createSourceAndConnect(),this.loop&&""===t&&(this._sound.loop=!0),this.loop||""!==t||this._addOnEndedHandler(),this.totalDuration=this._sound.buffer.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=Math.ceil(1e3*this.totalDuration)),this.loop&&""===t?this._startSource(0,0):this._startSource(0,this.position,this.duration),this.isPlaying=!0,this.paused=!1,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,o&&this.onPlay.dispatch(this)):(this.pendingPlayback=!0,this.game.cache.getSound(this.key)&&!1===this.game.cache.getSound(this.key).isDecoding&&this.game.sound.decode(this.key,this)):this.game.cache.getSound(this.key)&&this.game.cache.getSound(this.key).locked?(this.game.cache.reloadSound(this.key),this.pendingPlayback=!0):this._sound&&(this.game.device.cocoonJS||4===this._sound.readyState)?(this._sound.play(),this._sound.loop=this.loop,this.totalDuration=this._sound.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=1e3*this.totalDuration),this._globalVolume=this.game.sound.volume,this._sound.currentTime=this.position,this._sound.muted=this._muted,this._muted||this.game.sound.mute?this._sound.volume=0:this._sound.volume=this._volume*this._globalVolume,this._pendingStart=!this.currentMarker,this.isPlaying=!0,this.paused=!1,this._tempPause=0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,o&&this.onPlay.dispatch(this)):this.pendingPlayback=!0,this.playOnce&&(this.loop&&console.warn("Phaser.Sound.play: audio clip "+this.name+" cannot be deleted while looping."),this._markedToDelete=!0,this._removeFromSoundManager=!0)}return this},restart:function(t,e,i,s){this.play(t=t||"",e=e||0,i=i||1,s=void 0===s?!1:s,!0)},pause:function(){this.isPlaying&&(this.paused=!0,this.pausedPosition=this.currentTime,this.pausedTime=this.game.time.time,this._tempPause=this._sound.currentTime,this.onPause.dispatch(this),this.stop())},resume:function(){var t,e;this.paused&&(this.usingWebAudio?(t=Math.max(0,this.position+this.pausedPosition/1e3),this._createSourceAndConnect(),""===this.currentMarker&&(this.loop?this._sound.loop=!0:this._addOnEndedHandler()),e=this.duration-this.pausedPosition/1e3,this.loop&&""===this.currentMarker?this._startSource(0,t):this._startSource(0,t,e)):(this._pendingStart=!this.currentMarker,this._sound.currentTime=this._tempPause,this._tempPause=0,this._sound.play()),this.isPlaying=!0,this.paused=!1,this.startTime+=this.game.time.time-this.pausedTime,this.onResume.dispatch(this))},stop:function(){var t;this.isPlaying&&this._sound&&(this.usingWebAudio?this._stopSourceAndDisconnect():this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0)),this.pendingPlayback=!1,this.isPlaying=!1,this.paused||(t=this.currentMarker,""!==this.currentMarker&&this.onMarkerComplete.dispatch(this.currentMarker,this),this.currentMarker="",null!==this.fadeTween&&this.fadeTween.stop(),this.onStop.dispatch(this,t))},fadeIn:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=this.currentMarker),this.paused||(this.play(i,0,0,e),this.fadeTo(t,1))},fadeOut:function(t){this.fadeTo(t,0)},fadeTo:function(t,e){this.isPlaying&&!this.paused&&e!==this.volume&&(void 0===t&&(t=1e3),void 0!==e?(this.fadeTween=this.game.add.tween(this).to({volume:e},t,N.Easing.Linear.None,!0),this.fadeTween.onComplete.add(this.fadeComplete,this)):console.warn("Phaser.Sound.fadeTo: No Volume Specified."))},fadeComplete:function(){this.onFadeComplete.dispatch(this,this.volume),0===this.volume&&this.stop()},updateGlobalVolume:function(t){this.usingAudioTag&&this._sound&&(this._globalVolume=t,this._sound.volume=this._globalVolume*this._volume)},destroy:function(t){void 0===t&&(t=!0),this._markedToDelete=!0,this._removeFromSoundManager=t,this.stop(),t?this.game.sound.remove(this):(this.markers={},this.context=null,this._buffer=null,this.externalNode=null,this.onDecoded.dispose(),this.onPlay.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.onLoop.dispose(),this.onStop.dispose(),this.onMute.dispose(),this.onMarkerComplete.dispose())},_createSourceAndConnect:function(){this._sound=this.context.createBufferSource(),this._sound.connect(this.externalNode||this.gainNode),this._buffer=this.game.cache.getSoundData(this.key),this._sound.buffer=this._buffer,this._sourceId++},_disconnectSource:function(){this._sound.disconnect(this.externalNode||this.gainNode)},_startSource:function(t,e,i){void 0===i?this._sound.start(t||0,e||0):this._sound.start(t||0,e||0,i)},_stopSourceAndDisconnect:function(){this._removeOnEndedHandler();try{this._sound.stop(0)}catch(t){}this._disconnectSource(),this._sound=null},_addOnEndedHandler:function(){this._sound.onended=this.onEndedHandler.bind(this)},_removeOnEndedHandler:function(){this._sound.onended=null}},N.Sound.prototype.constructor=N.Sound,Object.defineProperty(N.Sound.prototype,"isDecoding",{get:function(){return this.game.cache.getSound(this.key).isDecoding}}),Object.defineProperty(N.Sound.prototype,"isDecoded",{get:function(){return this.game.cache.isSoundDecoded(this.key)}}),Object.defineProperty(N.Sound.prototype,"mute",{get:function(){return this._muted||this.game.sound.mute},set:function(t){(t=t||!1)!==this._muted&&(t?(this._muted=!0,this._muteVolume=this._tempVolume,this.usingWebAudio?this.gainNode.gain.value=0:this.usingAudioTag&&this._sound&&(this._sound.volume=0)):(this._muted=!1,this.usingWebAudio?this.gainNode.gain.value=this._muteVolume:this.usingAudioTag&&this._sound&&(this._sound.volume=this._muteVolume)),this.onMute.dispatch(this))}}),Object.defineProperty(N.Sound.prototype,"volume",{get:function(){return this._volume},set:function(t){this.usingAudioTag&&(t=this.game.math.clamp(t,0,1)),this._muted?this._muteVolume=t:(this._tempVolume=t,this._volume=t,this.usingWebAudio?this.gainNode.gain.value=t:this.usingAudioTag&&this._sound&&(this._sound.volume=this._globalVolume*t))}}),Object.defineProperty(N.Sound.prototype,"sourceId",{get:function(){return this._sound?this._sourceId:null}}),N.SoundManager=function(t){this.game=t,this.onSoundDecode=new N.Signal,this.onVolumeChange=new N.Signal,this.onMute=new N.Signal,this.onUnMute=new N.Signal,this.onTouchUnlock=new N.Signal,this.onStateChange=new N.Signal,this.context=null,this.baseLatency=null,this.usingWebAudio=!1,this.usingAudioTag=!1,this.noAudio=!1,this.connectToMaster=!0,this.touchLocked=!1,this.channels=32,this.muteOnPause=!0,this._codeMuted=!1,this._muted=!1,this._unlockSource=null,this._volume=1,this._sounds=[],this._watchList=new N.ArraySet,this._watching=!1,this._watchCallback=null,this._watchContext=null,this._onClick=this._onClick.bind(this),this._onStateChange=this._onStateChange.bind(this)},N.SoundManager.prototype={boot:function(){var t=this.game.device,e=window.PhaserGlobal;if(t.iOS&&!1===t.webAudio&&(this.channels=1),e){if(!0===e.disableAudio)return this.noAudio=!0,void(this.touchLocked=!1);if(!0===e.disableWebAudio)return this.usingAudioTag=!0,void(this.touchLocked=!1)}if(e&&e.audioContext)this.context=e.audioContext;else{e=window.AudioContext||window.webkitAudioContext;if(e)try{this.context=new e}catch(t){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1,console.warn(t)}}if(null===this.context){if(void 0===window.Audio)return void(this.noAudio=!0);this.usingAudioTag=!0}else this.usingWebAudio=!0,this.baseLatency=this.context.baseLatency||256/(this.context.sampleRate||44100),void 0===this.context.createGain?this.masterGain=this.context.createGainNode():this.masterGain=this.context.createGain(),this.masterGain.gain.value=1,this.masterGain.connect(this.context.destination),this.context.onstatechange=this._onStateChange,"suspended"===this.context.state&&this.game.canvas.addEventListener("click",this._onClick);this.noAudio||t.needsTouchUnlock()&&this.setTouchLock(),this.usingWebAudio&&t.chrome&&t.chromeVersion<=65&&console.log('A "GainNode.gain.value setter smoothing is deprecated" notice in Chrome is normal. <https://github.com/photonstorm/phaser-ce/issues/385>')},setTouchLock:function(){this.noAudio||window.PhaserGlobal&&!0===window.PhaserGlobal.disableAudio||(this.game.input.addTouchLockCallback(this.unlock,this,!0),this.touchLocked=!0)},setTouchUnlock:function(){this.touchLocked=!1,this._unlockSource=null,this.onTouchUnlock.dispatch()},webAudioIsSuspended:function(){return this.usingWebAudio&&"suspended"===this.context.state},resumeWebAudio:function(){if(this.usingWebAudio)return this.context.resume()},resumeWebAudioIfSuspended:function(){if(this.webAudioIsSuspended())return this.context.resume()},unlock:function(){var t,e;return!this.noAudio&&this.touchLocked&&null===this._unlockSource&&(this.usingAudioTag?this.setTouchUnlock():this.usingWebAudio&&(t=this.context.createBuffer(1,1,22050),this._unlockSource=this.context.createBufferSource(),this._unlockSource.buffer=t,this._unlockSource.connect(this.context.destination),(e=this)._unlockSource.onended=function(){e.setTouchUnlock(),e.resumeWebAudioIfSuspended()},void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0),this.resumeWebAudioIfSuspended())),!0},stopAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].stop()},pauseAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].pause()},resumeAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].resume()},decode:function(e,i){i=i||null;var t=this.game.cache.getSoundData(e);if(t&&!1===this.game.cache.isSoundDecoded(e)){this.game.cache.updateSound(e,"isDecoding",!0);var s=this;try{this.context.decodeAudioData(t,function(t){s.game.isBooted&&t&&(s.game.cache.decodedSound(e,t),s.onSoundDecode.dispatch(e,i))})}catch(t){}}},setDecodedCallback:function(t,e,i){"string"==typeof t&&(t=[t]),this._watchList.reset();for(var s=0;s<t.length;s++)t[s]instanceof N.Sound?this.game.cache.isSoundDecoded(t[s].key)||this._watchList.add(t[s].key):this.game.cache.isSoundDecoded(t[s])||this._watchList.add(t[s]);0===this._watchList.total?(this._watching=!1,e.call(i)):(this._watching=!0,this._watchCallback=e,this._watchContext=i)},update:function(){if(!this.noAudio){if(!this.webAudioIsSuspended())for(var t=0;t<this._sounds.length;t++)this._sounds[t].update();if(this._watching){for(var e=this._watchList.first;e;)this.game.cache.isSoundDecoded(e)&&this._watchList.remove(e),e=this._watchList.next;0===this._watchList.total&&(this._watching=!1,this._watchCallback.call(this._watchContext))}}},add:function(t,e,i,s){void 0===s&&(s=this.connectToMaster);t=new N.Sound(this.game,t,e=void 0===e?1:e,i=void 0===i?!1:i,s);return this._sounds.push(t),t},addSprite:function(t){return new N.AudioSprite(this.game,t)},remove:function(t){for(var e=this._sounds.length;e--;)if(this._sounds[e]===t)return this._sounds[e].destroy(!1),this._sounds.splice(e,1),!0;return!1},removeAll:function(){this.stopAll();for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].destroy();this._sounds.length=0},removeByKey:function(t){for(var e=this._sounds.length,i=0;e--;)this._sounds[e].key===t&&(this._sounds[e].destroy(!1),this._sounds.splice(e,1),i++);return i},play:function(t,e,i){if(!this.noAudio)return(t=this.add(t,e,i)).play(),t},setMute:function(){if(!this._muted){this._muted=!0,this.usingWebAudio&&(this._muteVolume=this.masterGain.gain.value,this.masterGain.gain.value=0);for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&(this._sounds[t].mute=!0);this.onMute.dispatch()}},unsetMute:function(){if(this._muted&&!this._codeMuted){this._muted=!1,this.usingWebAudio&&(this.masterGain.gain.value=this._muteVolume);for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&(this._sounds[t].mute=!1);this.onUnMute.dispatch()}},gamePaused:function(){this.muteOnPause&&this.setMute()},gameResumed:function(){this.resumeWebAudio(),this.muteOnPause&&this.unsetMute()},destroy:function(){this.removeAll(),this.onMute.dispose(),this.onSoundDecode.dispose(),this.onStateChange.dispose(),this.onTouchUnlock.dispose(),this.onUnMute.dispose(),this.onVolumeChange.dispose(),this.game.canvas.removeEventListener("click",this._onClick),this.context&&(this.context.onstatechange=null,window.PhaserGlobal?window.PhaserGlobal.audioContext=this.context:this.context.close&&this.context.close(),this.context=null)},_onStateChange:function(){this.onStateChange.dispatch(this.context.state)},_onClick:function(){this.resumeWebAudioIfSuspended(),this.game.canvas.removeEventListener("click",this._onClick)}},N.SoundManager.prototype.constructor=N.SoundManager,Object.defineProperty(N.SoundManager.prototype,"mute",{get:function(){return this._muted},set:function(t){(t=t||!1)?this._muted||(this._codeMuted=!0,this.setMute()):this._muted&&(this._codeMuted=!1,this.unsetMute())}}),Object.defineProperty(N.SoundManager.prototype,"volume",{get:function(){return this._volume},set:function(t){if(t<0?t=0:1<t&&(t=1),this._volume!==t){if(this._volume=t,this.usingWebAudio)this.masterGain.gain.value=t;else for(var e=0;e<this._sounds.length;e++)this._sounds[e].usingAudioTag&&this._sounds[e].updateGlobalVolume(t);this.onVolumeChange.dispatch(t)}}}),N.ScaleManager=function(t,e,i){this.game=t,this.dom=N.DOM,this.grid=null,this.width=0,this.height=0,this.minWidth=null,this.maxWidth=null,this.minHeight=null,this.maxHeight=null,this.offset=new N.Point,this.forceLandscape=!1,this.forcePortrait=!1,this.incorrectOrientation=!1,this._pageAlignHorizontally=!1,this._pageAlignVertically=!1,this.onOrientationChange=new N.Signal,this.enterIncorrectOrientation=new N.Signal,this.leaveIncorrectOrientation=new N.Signal,this.hasPhaserSetFullScreen=!1,this.fullScreenTarget=null,this._createdFullScreenTarget=null,this.onFullScreenInit=new N.Signal,this.onFullScreenChange=new N.Signal,this.onFullScreenError=new N.Signal,this.screenOrientation=this.dom.getScreenOrientation(),this.scaleFactor=new N.Point(1,1),this.scaleFactorInversed=new N.Point(1,1),this.margin={left:0,top:0,right:0,bottom:0,x:0,y:0},this.bounds=new N.Rectangle,this.aspectRatio=0,this.sourceAspectRatio=0,this.event=null,this.windowConstraints={right:"layout",bottom:""},this.compatibility={supportsFullScreen:!1,orientationFallback:null,noMargins:!1,scrollTo:null,forceMinimumDocumentHeight:!1,canExpandParent:!0,clickTrampoline:""},this._scaleMode=N.ScaleManager.NO_SCALE,this._fullScreenScaleMode=N.ScaleManager.NO_SCALE,this.parentIsWindow=!1,this.parentNode=null,this.parentScaleFactor=new N.Point(1,1),this.trackParentInterval=2e3,this.onSizeChange=new N.Signal,this.onResize=null,this.onResizeContext=null,this._pendingScaleMode=null,this._fullScreenRestore=null,this._gameSize=new N.Rectangle,this._userScaleFactor=new N.Point(1,1),this._userScaleTrim=new N.Point(0,0),this._lastUpdate=0,this._updateThrottle=0,this._updateThrottleReset=100,this._parentBounds=new N.Rectangle,this._tempBounds=new N.Rectangle,this._lastReportedCanvasSize=new N.Rectangle,this._lastReportedGameSize=new N.Rectangle,this._booted=!1,t.config&&this.parseConfig(t.config),this.setupScale(e,i)},N.ScaleManager.EXACT_FIT=0,N.ScaleManager.NO_SCALE=1,N.ScaleManager.SHOW_ALL=2,N.ScaleManager.RESIZE=3,N.ScaleManager.USER_SCALE=4,N.ScaleManager.MODES=["EXACT_FIT","NO_SCALE","SHOW_ALL","RESIZE","USER_SCALE"],N.ScaleManager.prototype={boot:function(){var t=this.compatibility,e=(t.supportsFullScreen=this.game.device.fullscreen&&!this.game.device.cocoonJS,this.game.device.iPad||this.game.device.webApp||this.game.device.desktop||(this.game.device.android&&!this.game.device.chrome?t.scrollTo=new N.Point(0,1):t.scrollTo=new N.Point(0,0)),this.game.device.desktop?(t.orientationFallback="screen",t.clickTrampoline="when-not-mouse"):(t.orientationFallback="",t.clickTrampoline=""),this);this._orientationChange=function(t){return e.orientationChange(t)},this._windowResize=function(t){return e.windowResize(t)},window.addEventListener("orientationchange",this._orientationChange,!1),window.addEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(this._fullScreenChange=function(t){return e.fullScreenChange(t)},this._fullScreenError=function(t){return e.fullScreenError(t)},document.addEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.addEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.addEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.addEventListener("fullscreenchange",this._fullScreenChange,!1),document.addEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.addEventListener("mozfullscreenerror",this._fullScreenError,!1),document.addEventListener("MSFullscreenError",this._fullScreenError,!1),document.addEventListener("fullscreenerror",this._fullScreenError,!1)),this.game.onResume.add(this._gameResumed,this),this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.setGameSize(this.game.width,this.game.height),this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),N.FlexGrid&&(this.grid=new N.FlexGrid(this,this.width,this.height)),this._booted=!0,null!==this._pendingScaleMode&&(this.scaleMode=this._pendingScaleMode,this._pendingScaleMode=null)},parseConfig:function(t){void 0!==t.scaleMode&&(this._booted?this.scaleMode=t.scaleMode:this._pendingScaleMode=t.scaleMode),void 0!==t.fullScreenScaleMode&&(this.fullScreenScaleMode=t.fullScreenScaleMode),t.fullScreenTarget&&(this.fullScreenTarget=t.fullScreenTarget),this.pageAlignHorizontally=t.alignH||!1,this.pageAlignVertically=t.alignV||!1,t.scaleH&&t.scaleV&&this.setUserScale(t.scaleH,t.scaleV,t.trimH,t.trimV)},setupScale:function(t,e){var i=new N.Rectangle,s=(""!==this.game.parent&&("string"==typeof this.game.parent?s=document.getElementById(this.game.parent):this.game.parent&&1===this.game.parent.nodeType&&(s=this.game.parent)),s?(this.parentNode=s,this.parentIsWindow=!1,this.getParentBounds(this._parentBounds,this.parentNode),i.width=this._parentBounds.width,i.height=this._parentBounds.height,this.offset.set(this._parentBounds.x,this._parentBounds.y)):(this.parentNode=null,this.parentIsWindow=!0,i.width=this.dom.visualBounds.width,i.height=this.dom.visualBounds.height,this.offset.set(0,0)),"number"==typeof t?t:(this.parentScaleFactor.x=parseInt(t,10)/100,i.width*this.parentScaleFactor.x)),t="number"==typeof e?e:(this.parentScaleFactor.y=parseInt(e,10)/100,i.height*this.parentScaleFactor.y);s=Math.floor(s),t=Math.floor(t),this._gameSize.setTo(0,0,s,t),this.updateDimensions(s,t,!1)},_gameResumed:function(){this.queueUpdate(!0)},setGameSize:function(t,e){this._gameSize.setTo(0,0,t,e),this.currentScaleMode!==N.ScaleManager.RESIZE&&this.updateDimensions(t,e,!0),this.queueUpdate(!0)},setUserScale:function(t,e,i,s,n,o){this._userScaleFactor.setTo(t,e),this._userScaleTrim.setTo(0|i,0|s),void 0===o&&(o=!0),(n=void 0===n?!0:n)&&this.queueUpdate(o)},setResizeCallback:function(t,e){this.onResize=t,this.onResizeContext=e},signalSizeChange:function(){var t,e;N.Rectangle.sameDimensions(this,this._lastReportedCanvasSize)&&N.Rectangle.sameDimensions(this.game,this._lastReportedGameSize)||(t=this.width,e=this.height,this._lastReportedCanvasSize.setTo(0,0,t,e),this._lastReportedGameSize.setTo(0,0,this.game.width,this.game.height),this.grid&&this.grid.onResize(t,e),this.onSizeChange.dispatch(this,t,e),this.currentScaleMode===N.ScaleManager.RESIZE&&(this.game.state.resize(t,e),this.game.load.resize(t,e)))},setMinMax:function(t,e,i,s){this.minWidth=t,this.minHeight=e,void 0!==i&&(this.maxWidth=i),void 0!==s&&(this.maxHeight=s)},preUpdate:function(){var t,e,i,s;this.game.time.time<this._lastUpdate+this._updateThrottle||(t=this._updateThrottle,this._updateThrottleReset=400<=t?0:100,this.dom.getOffset(this.game.canvas,this.offset),s=this._parentBounds.width,i=this._parentBounds.height,s=(e=this.getParentBounds(this._parentBounds)).width!==s||e.height!==i,i=this.updateOrientationState(),(s||i)&&(this.onResize&&this.onResize.call(this.onResizeContext,this,e),this.updateLayout(),this.signalSizeChange()),s=2*this._updateThrottle,this._updateThrottle<t&&(s=Math.min(t,this._updateThrottleReset)),this._updateThrottle=N.Math.clamp(s,25,this.trackParentInterval),this._lastUpdate=this.game.time.time)},pauseUpdate:function(){this.preUpdate(),this._updateThrottle=this.trackParentInterval},updateDimensions:function(t,e,i){this.width=t*this.parentScaleFactor.x,this.height=e*this.parentScaleFactor.y,this.game.width=this.width,this.game.height=this.height,this.sourceAspectRatio=this.width/this.height,this.updateScalingAndBounds(),i&&(this.game.renderer.resize(this.width,this.height),this.game.camera.setSize(this.width,this.height),this.game.world.resize(this.width,this.height))},updateScalingAndBounds:function(){this.scaleFactor.x=this.game.width/this.width,this.scaleFactor.y=this.game.height/this.height,this.scaleFactorInversed.x=this.width/this.game.width,this.scaleFactorInversed.y=this.height/this.game.height,this.aspectRatio=this.width/this.height,this.game.canvas&&this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.game.input&&this.game.input.scale&&this.game.input.scale.setTo(this.scaleFactor.x,this.scaleFactor.y)},forceOrientation:function(t,e){void 0===e&&(e=!1),!0!==t||!0!==e?(this.forceLandscape=t,this.forcePortrait=e,this.queueUpdate(!0)):console.warn("Phaser.ScaleManager: forceLandscape and forcePortrait cannot both be true.")},classifyOrientation:function(t){return"portrait-primary"===t||"portrait-secondary"===t?"portrait":"landscape-primary"===t||"landscape-secondary"===t?"landscape":null},updateOrientationState:function(){var t=this.screenOrientation,e=this.incorrectOrientation,i=(this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),this.incorrectOrientation=this.forceLandscape&&!this.isLandscape||this.forcePortrait&&!this.isPortrait,t!==this.screenOrientation),s=e!==this.incorrectOrientation;return s&&(this.incorrectOrientation?this.enterIncorrectOrientation:this.leaveIncorrectOrientation).dispatch(),(i||s)&&this.onOrientationChange.dispatch(this,t,e),i||s},orientationChange:function(t){this.event=t,this.queueUpdate(!0)},windowResize:function(t){this.event=t,this.queueUpdate(!0)},scrollTop:function(){var t=this.compatibility.scrollTo;t&&window.scrollTo(t.x,t.y)},refresh:function(){this.scrollTop(),this.queueUpdate(!0)},updateLayout:function(){var t=this.currentScaleMode;t!==N.ScaleManager.RESIZE?(this.scrollTop(),this.compatibility.forceMinimumDocumentHeight&&(document.documentElement.style.minHeight=window.innerHeight+"px"),this.incorrectOrientation?this.setMaximum():t===N.ScaleManager.EXACT_FIT?this.setExactFit():t===N.ScaleManager.SHOW_ALL?(!this.isFullScreen&&this.boundingParent&&this.compatibility.canExpandParent&&(this.setShowAll(!0),this.resetCanvas()),this.setShowAll()):t===N.ScaleManager.NO_SCALE?(this.width=this.game.width,this.height=this.game.height):t===N.ScaleManager.USER_SCALE&&(this.width=this.game.width*this._userScaleFactor.x-this._userScaleTrim.x,this.height=this.game.height*this._userScaleFactor.y-this._userScaleTrim.y),this.compatibility.canExpandParent||t!==N.ScaleManager.SHOW_ALL&&t!==N.ScaleManager.USER_SCALE||(t=this.getParentBounds(this._tempBounds),this.width=Math.min(this.width,t.width),this.height=Math.min(this.height,t.height)),this.width=0|this.width,this.height=0|this.height,this.reflowCanvas()):this.reflowGame()},getParentBounds:function(t,e){var i,s,t=t||new N.Rectangle,e=e||this.boundingParent,n=this.dom.visualBounds,o=this.dom.layoutBounds;return e?(i=e.getBoundingClientRect(),e=(e.offsetParent||e).getBoundingClientRect(),t.setTo(i.left-e.left,i.top-e.top,i.width,i.height),(e=this.windowConstraints).right&&(s="layout"===e.right?o:n,t.right=Math.min(t.right,s.width)),e.bottom&&(s="layout"===e.bottom?o:n,t.bottom=Math.min(t.bottom,s.height))):t.setTo(0,0,n.width,n.height),t.setTo(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),t},align:function(t,e){null!=t&&(this.pageAlignHorizontally=t),null!=e&&(this.pageAlignVertically=e)},alignCanvas:function(t,e){var i,s,n,o,r=this.getParentBounds(this._tempBounds),a=this.game.canvas,h=this.margin;t&&(h.left=h.right=0,i=a.getBoundingClientRect(),this.width<r.width&&!this.incorrectOrientation&&(s=i.left-r.x,n=r.width/2-this.width/2,o=(n=Math.max(n,0))-s,h.left=Math.round(o)),a.style.marginLeft=h.left+"px",0!==h.left)&&(h.right=-(r.width-i.width-h.left),a.style.marginRight=h.right+"px"),e&&(h.top=h.bottom=0,i=a.getBoundingClientRect(),this.height<r.height&&!this.incorrectOrientation&&(s=i.top-r.y,n=r.height/2-this.height/2,o=(n=Math.max(n,0))-s,h.top=Math.round(o)),a.style.marginTop=h.top+"px",0!==h.top)&&(h.bottom=-(r.height-i.height-h.top),a.style.marginBottom=h.bottom+"px"),h.x=h.left,h.y=h.top},reflowGame:function(){this.resetCanvas("","");var t=this.getParentBounds(this._tempBounds);this.updateDimensions(t.width,t.height,!0)},reflowCanvas:function(){this.incorrectOrientation||(this.width=N.Math.clamp(this.width,this.minWidth||0,this.maxWidth||this.width),this.height=N.Math.clamp(this.height,this.minHeight||0,this.maxHeight||this.height)),this.resetCanvas(),this.compatibility.noMargins||(this.isFullScreen&&this._createdFullScreenTarget?this.alignCanvas(!0,!0):this.alignCanvas(this.pageAlignHorizontally,this.pageAlignVertically)),this.updateScalingAndBounds()},resetCanvas:function(t,e){void 0===t&&(t=this.width+"px"),void 0===e&&(e=this.height+"px");var i=this.game.canvas;this.compatibility.noMargins||(i.style.marginLeft="",i.style.marginTop="",i.style.marginRight="",i.style.marginBottom=""),i.style.width=t,i.style.height=e},queueUpdate:function(t){t&&(this._parentBounds.width=0,this._parentBounds.height=0),this._updateThrottle=this._updateThrottleReset},reset:function(t){t&&this.grid&&this.grid.reset()},setMaximum:function(){this.width=this.dom.visualBounds.width,this.height=this.dom.visualBounds.height},setShowAll:function(t){var e=this.getParentBounds(this._tempBounds),i=e.width,e=e.height,t=t?Math.max(e/this.game.height,i/this.game.width):Math.min(e/this.game.height,i/this.game.width);this.width=Math.round(this.game.width*t),this.height=Math.round(this.game.height*t)},setExactFit:function(){var t=this.getParentBounds(this._tempBounds);this.width=t.width,this.height=t.height,this.isFullScreen||(this.maxWidth&&(this.width=Math.min(this.width,this.maxWidth)),this.maxHeight&&(this.height=Math.min(this.height,this.maxHeight)))},createFullScreenTarget:function(){var t=document.createElement("div");return t.style.margin="0",t.style.padding="0",t.style.background="#000",t},startFullScreen:function(t,e,i){if(this.isFullScreen)return!1;if(this.compatibility.supportsFullScreen){if("when-not-mouse"===this.compatibility.clickTrampoline){var s=this.game.input;if(s.activePointer&&s.activePointer!==s.mousePointer&&(e||!1!==e))return void s.activePointer.addClickTrampoline("startFullScreen",this.startFullScreen,this,[t,!1])}void 0!==t&&this.game.renderType===N.CANVAS&&(this.game.stage.smoothed=t);e=this.fullScreenTarget,s=(e||(this.cleanupCreatedTarget(),this._createdFullScreenTarget=this.createFullScreenTarget(),e=this._createdFullScreenTarget),{targetElement:e});return this.hasPhaserSetFullScreen=!0,this.onFullScreenInit.dispatch(this,s),this._createdFullScreenTarget&&((t=this.game.canvas).parentNode.insertBefore(e,t),e.appendChild(t)),void 0===i&&(i={navigationUI:"hide"}),this.game.device.fullscreenKeyboard?e[this.game.device.requestFullscreen](Element.ALLOW_KEYBOARD_INPUT):e[this.game.device.requestFullscreen](i),!0}var n=this;setTimeout(function(){n.fullScreenError()},10)},stopFullScreen:function(){return!(!this.isFullScreen||!this.compatibility.supportsFullScreen||(this.hasPhaserSetFullScreen=!1,document[this.game.device.cancelFullscreen](),0))},cleanupCreatedTarget:function(){var t,e=this._createdFullScreenTarget;e&&e.parentNode&&((t=e.parentNode).insertBefore(this.game.canvas,e),t.removeChild(e)),this._createdFullScreenTarget=null},prepScreenMode:function(t){var e=!!this._createdFullScreenTarget,i=this._createdFullScreenTarget||this.fullScreenTarget;t?!e&&this.fullScreenScaleMode!==N.ScaleManager.EXACT_FIT||i===this.game.canvas||(this._fullScreenRestore={targetWidth:i.style.width,targetHeight:i.style.height},i.style.width="100%",i.style.height="100%"):(this._fullScreenRestore&&(i.style.width=this._fullScreenRestore.targetWidth,i.style.height=this._fullScreenRestore.targetHeight,this._fullScreenRestore=null),this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.resetCanvas())},fullScreenChange:function(t){this.event=t,this.isFullScreen?this.prepScreenMode(!0):(this.prepScreenMode(!1),this.cleanupCreatedTarget()),this.updateLayout(),this.queueUpdate(!0),this.onFullScreenChange.dispatch(this,this.width,this.height)},fullScreenError:function(t){this.event=t,this.cleanupCreatedTarget(),console.warn("Phaser.ScaleManager: requestFullscreen failed or device does not support the Fullscreen API"),this.onFullScreenError.dispatch(this)},scaleSprite:function(t,e,i,s){var n,o,r;return void 0===e&&(e=this.width),void 0===i&&(i=this.height),void 0===s&&(s=!1),t&&t.scale&&(t.scale.x=1,t.scale.y=1,t.width<=0||t.height<=0||e<=0||i<=0||(n=e,o=t.height*e/t.width,r=i,(e<(e=t.width*i/t.height)?s:!s)?(t.width=Math.floor(n),t.height=Math.floor(o)):(t.width=Math.floor(e),t.height=Math.floor(r)))),t},destroy:function(){this.game.onResume.remove(this._gameResumed,this),window.removeEventListener("orientationchange",this._orientationChange,!1),window.removeEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(document.removeEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.removeEventListener("fullscreenchange",this._fullScreenChange,!1),document.removeEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.removeEventListener("mozfullscreenerror",this._fullScreenError,!1),document.removeEventListener("MSFullscreenError",this._fullScreenError,!1),document.removeEventListener("fullscreenerror",this._fullScreenError,!1))}},N.ScaleManager.prototype.constructor=N.ScaleManager,Object.defineProperty(N.ScaleManager.prototype,"boundingParent",{get:function(){return!(this.parentIsWindow||this.isFullScreen&&this.hasPhaserSetFullScreen&&!this._createdFullScreenTarget)&&this.game.canvas&&this.game.canvas.parentNode||null}}),Object.defineProperty(N.ScaleManager.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){return t!==this._scaleMode&&(this.isFullScreen||(this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.queueUpdate(!0)),this._scaleMode=t),this._scaleMode}}),Object.defineProperty(N.ScaleManager.prototype,"fullScreenScaleMode",{get:function(){return this._fullScreenScaleMode},set:function(t){return t!==this._fullScreenScaleMode&&(this.isFullScreen?(this.prepScreenMode(!1),this._fullScreenScaleMode=t,this.prepScreenMode(!0),this.queueUpdate(!0)):this._fullScreenScaleMode=t),this._fullScreenScaleMode}}),Object.defineProperty(N.ScaleManager.prototype,"currentScaleMode",{get:function(){return this.isFullScreen?this._fullScreenScaleMode:this._scaleMode}}),Object.defineProperty(N.ScaleManager.prototype,"pageAlignHorizontally",{get:function(){return this._pageAlignHorizontally},set:function(t){t!==this._pageAlignHorizontally&&(this._pageAlignHorizontally=t,this.queueUpdate(!0))}}),Object.defineProperty(N.ScaleManager.prototype,"pageAlignVertically",{get:function(){return this._pageAlignVertically},set:function(t){t!==this._pageAlignVertically&&(this._pageAlignVertically=t,this.queueUpdate(!0))}}),Object.defineProperty(N.ScaleManager.prototype,"isFullScreen",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),Object.defineProperty(N.ScaleManager.prototype,"isPortrait",{get:function(){return"portrait"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(N.ScaleManager.prototype,"isLandscape",{get:function(){return"landscape"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(N.ScaleManager.prototype,"isGamePortrait",{get:function(){return this.height>this.width}}),Object.defineProperty(N.ScaleManager.prototype,"isGameLandscape",{get:function(){return this.width>this.height}}),N.Utils.Debug=function(t){this.game=t,this.sprite=null,this.bmd=null,this.canvas=null,this.context=null,this.font="14px monospace",this.columnWidth=100,this.lineHeight=16,this.lineWidth=1,this.renderShadow=!0,this.currentColor=null,this.currentX=0,this.currentY=0,this.currentAlpha=1,this.dirty=!1,this.isDisabled=!1,this._line=null,this._rect=null},N.Utils.Debug.GEOM_AUTO=0,N.Utils.Debug.GEOM_RECTANGLE=1,N.Utils.Debug.GEOM_CIRCLE=2,N.Utils.Debug.GEOM_POINT=3,N.Utils.Debug.GEOM_LINE=4,N.Utils.Debug.GEOM_ELLIPSE=5,N.Utils.Debug.prototype={boot:function(){this.game.renderType===N.CANVAS?this.context=this.game.context:(this.bmd=new N.BitmapData(this.game,"__DEBUG",this.game.width,this.game.height,!0),this.sprite=this.game.make.image(0,0,this.bmd),this.sprite.anchor.set(0,0),this.game.stage.addChild(this.sprite),this.game.scale.onSizeChange.add(this.resize,this),this.canvas=N.CanvasPool.create(this,this.game.width,this.game.height),this.context=this.canvas.getContext("2d")),this._line=new N.Line,this._rect=new N.Rectangle},resize:function(){this.bmd.resize(this.game.width,this.game.height),this.canvas.width=this.game.width,this.canvas.height=this.game.height},preUpdate:function(){this.dirty&&this.sprite&&(this.bmd.clear(),this.bmd.draw(this.canvas,0,0),this.context.clearRect(0,0,this.game.width,this.game.height),this.dirty=!1)},reset:function(){this.context&&this.context.clearRect(0,0,this.game.width,this.game.height),this.sprite&&this.bmd.clear()},start:function(t,e,i,s){"number"!=typeof e&&(e=0),i=i||"rgb(255,255,255)",void 0===s&&(s=0),this.currentX=t="number"!=typeof t?0:t,this.currentY=e,this.currentColor=i,this.columnWidth=s,this.dirty=!0,this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.strokeStyle=i,this.context.fillStyle=i,this.context.font=this.font,this.context.globalAlpha=this.currentAlpha},stop:function(){this.context.restore()},line:function(){for(var t=this.currentX,e=0;e<arguments.length;e++)this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(arguments[e],t+1,this.currentY+1),this.context.fillStyle=this.currentColor),this.context.fillText(arguments[e],t,this.currentY),t+=this.columnWidth;this.currentY+=this.lineHeight},gameInfo:function(t,e,i){var s=this.game;this.start(t,e,i),this.line("Game ID "+s.id),this.line({1:"Canvas",2:"WebGL",3:"Headless",4:"WebGL Multitexture"}[s.renderType]+" ("+s.width+" x "+s.height+")"),this.line("Paused: "+s.paused),this.line("Stepping: "+s.stepping+" ("+s.stepCount+")"),this.stop()},state:function(t,e,i){var s=this.game.state,n=Object.keys(s.states);this.start(t,e,i);for(var o=0;o<n.length;o++){var r=n[o];r===s.current?this.line((s._created?"* ":"> ")+r):r===s._pendingState?this.line("+ "+r):this.line("  "+r)}this.stop()},sound:function(t,e,i){var s=this.game.sound;this.start(t,e,i),s.noAudio?this.line("Audio is disabled"):(this.line("Volume: "+s.volume.toFixed(2)+(s.mute?" (Mute)":"")),this.line("Mute on pause: "+s.muteOnPause),this.line("Using: "+(s.usingWebAudio?"Web Audio - "+s.context.state:"Audio Tag")),this.line("Touch locked: "+s.touchLocked),this.line("Sounds: "+s._sounds.length)),this.stop()},soundInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sound: "+t.key+"  Touch locked: "+t.game.sound.touchLocked),this.line("Is Ready?: "+this.game.cache.isSoundReady(t.key)+"  Pending Playback: "+t.pendingPlayback),this.line("Decoded: "+t.isDecoded+"  Decoding: "+t.isDecoding),this.line("Playing: "+t.isPlaying+"  Loop: "+t.loop),this.line("Time: "+(t.currentTime/1e3).toFixed(3)+"s  Total: "+t.totalDuration.toFixed(3)+"s"),this.line("Volume: "+t.volume.toFixed(2)+(t.mute?" (Mute)":"")),this.line("Using: "+(t.usingWebAudio?"Web Audio":"Audio Tag")),t.usingWebAudio&&this.line("  Source: "+(t.sourceId||"none")),t.usingAudioTag&&t._sound&&(this.line("  currentSrc: "+(e=t._sound).currentSrc),this.line("  currentTime: "+e.currentTime),this.line("  duration: "+e.duration),this.line("  ended: "+e.ended),this.line("  loop: "+e.loop),this.line("  muted: "+e.muted),this.line("  paused: "+e.paused)),""!==t.currentMarker&&(this.line("Marker: "+t.currentMarker+"  Duration: "+t.duration.toFixed(3)+"s ("+t.durationMS+"ms)"),this.line("Start: "+t.markers[t.currentMarker].start.toFixed(3)+"  Stop: "+t.markers[t.currentMarker].stop.toFixed(3)),this.line("Position: "+t.position.toFixed(3))),this.stop()},camera:function(t,e,i){var s=t.deadzone,n=t.target,t=t.view;s&&(this._rect.setTo(t.x+s.x,t.y+s.y,s.width,s.height),this.rectangle(this._rect,e,i)),n&&(this._line.setTo(t.centerX,t.centerY,n.x,n.y),this.geom(this._line,e,i),this.geom(n,e,!1,3))},cameraInfo:function(t,e,i,s){var n=t.bounds,o=t.deadzone,r=t.target,a=t.view;this.start(e,i,s),this.line("Camera ("+t.width+" x "+t.height+")"),this.line("x: "+t.x+" y: "+t.y),this.line("Bounds: "+(n?"x: "+n.x+" y: "+n.y+" w: "+n.width+" h: "+n.height:"none")),this.line("View: x: "+a.x+" y: "+a.y+" w: "+a.width+" h: "+a.height),this.line("Center: x: "+t.centerX+" y: "+t.centerY),this.line("Deadzone: "+(o&&"x: "+o.x+" y: "+o.y+" w: "+o.width+" h: "+o.height)),this.line("Total in view: "+t.totalInView),this.line("At limit: x: "+t.atLimit.x+" y: "+t.atLimit.y),this.line("Target: "+(r?r.name||r:"none")),this.stop()},timer:function(t,e,i,s){this.start(e,i,s),this.line("Timer (running: "+t.running+" expired: "+t.expired+")"),this.line("Next Tick: "+t.next+" Duration: "+t.duration),this.line("Paused: "+t.paused+" Length: "+t.length),this.stop()},pointer:function(t,e,i,s,n,o){null!=t&&(i=i||"rgba(0,255,0,0.5)",s=s||"rgba(255,255,0,0.5)",o=o||"rgba(255,0,0,0.5)",!0!==(e=void 0===e?!1:e)||!0!==t.isUp)&&(this.start(t.x,t.y-150,n),this.context.beginPath(),this.context.arc(t.x,t.y,t.circle.radius,0,2*Math.PI),t.active?this.context.fillStyle=t.isDown?i:s:this.context.fillStyle=o,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(t.positionDown.x,t.positionDown.y),this.context.lineTo(t.position.x,t.position.y),this.context.lineWidth=2,this.context.stroke(),this.context.closePath(),e=t.movementX,n=t.movementY,(e||n)&&(this.context.beginPath(),this.context.moveTo(e+t.position.x,n+t.position.y),this.context.lineTo(t.position.x,t.position.y),this.context.lineWidth=2,this.context.stroke(),this.context.closePath()),this.line("ID: "+t.id+" Active: "+t.active),this.line("World X: "+t.worldX.toFixed(1)+" World Y: "+t.worldY.toFixed(1)),this.line("Screen X: "+t.x.toFixed(1)+" Screen Y: "+t.y.toFixed(1)+" In: "+t.withinGame),this.line("Movement: X: "+e+" Y: "+n),this.line("Duration: "+t.duration+" ms"),this.line("is Down: "+t.isDown+" is Up: "+t.isUp),this.line("Identifier: "+t.identifier+" Pointer ID: "+t.pointerId),t.isMouse&&this.line("Buttons: "+this._pointerButtonIcon(t.leftButton)+" "+this._pointerButtonIcon(t.middleButton)+" "+this._pointerButtonIcon(t.rightButton)),this.stop())},_pointerButtonIcon:function(t){return t.isDown?"x":t.isUp?"o":"-"},spriteInputInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sprite Input: ("+t.width+" x "+t.height+")"),this.line("x: "+t.input.pointerX().toFixed(1)+" y: "+t.input.pointerY().toFixed(1)),this.line("over: "+t.input.pointerOver()+" duration: "+t.input.overDuration().toFixed(0)),this.line("down: "+t.input.pointerDown()+" duration: "+t.input.downDuration().toFixed(0)),this.line("just over: "+t.input.justOver()+" just out: "+t.input.justOut()),this.stop()},key:function(t,e,i,s){this.start(e,i,s,150),this.line("Key:",t.keyCode,"isDown:",t.isDown),this.line("justDown:",t.justDown,"justUp:",t.justUp),this.line("Time Down:",t.timeDown.toFixed(0),"duration:",t.duration.toFixed(0)),this.stop()},inputInfo:function(t,e,i,s){var n=this.game.input;if(void 0===s&&(s=!0),this.start(t,e,i),this.line("Input"),this.line("X: "+n.x+" Y: "+n.y),this.line("World X: "+n.worldX+" World Y: "+n.worldY),this.line("Scale X: "+n.scale.x.toFixed(2)+" Scale Y: "+n.scale.x.toFixed(2)),this.line("Screen X: "+n.activePointer.screenX.toFixed(1)+" Screen Y: "+n.activePointer.screenY.toFixed(1)),s){this.line("Sources:"),this.line("  "+this._inputHandler(n.mouse,"mouse")),this.line("  "+this._inputHandler(n.mspointer,"mspointer")),this.line("  "+this._inputHandler(n.touch,"touch"));var o=n.pointers,t=n.mousePointer,r=N.PointerModes,a=0,h=0;this.line("Pointers:"),this.line("  "+(t.isDown?"x":"o")+" "+r[t.pointerMode]+" "+t.identifier);for(var l=0;l<o.length;l++){var c=o[l];this.line("  "+(c.active?"+":"-")+" "+r[c.pointerMode]+" "+c.identifier),c.active?a+=1:h+=1}this.line("  Active: "+a+" Free: "+h+" Max: "+n.maxPointers)}this.stop()},inputHandler:function(t,e,i,s,n){this.start(i,s,n),this.line(e||"?"),this.line("active: "+t.active),t.active&&(this.line("enabled: "+t.enabled),"capture"in t&&this.line("capture: "+t.capture),"preventDefault"in t&&this.line("preventDefault: "+t.preventDefault),"event"in t)&&this.line("event: "+(t.event&&t.event.type)),this.stop()},_inputHandler:function(t,e){return this._inputHandlerStatusIcon(t)+" "+e+" "+this._inputHandlerCaptureIcon(t)},_inputHandlerStatusIcon:function(t){return t.active?t.enabled?"+":"-":" "},_inputHandlerCaptureIcon:function(t){return t.active&&(t.capture||t.preventDefault)?"*":" "},spriteBounds:function(t,e,i){t=t.getBounds();t.x+=this.game.camera.x,t.y+=this.game.camera.y,this.rectangle(t,e,i)},ropeSegments:function(t,e,i){var t=t.segments,s=this;t.forEach(function(t){s.rectangle(t,e,i)},this)},spriteInfo:function(t,e,i,s){this.start(e,i,s),this.line("Sprite: "+(t.name||"")+" ("+t.width+" x "+t.height+") anchor: "+t.anchor.x+" x "+t.anchor.y),this.line("x: "+t.x.toFixed(1)+" y: "+t.y.toFixed(1)),this.line("angle: "+t.angle.toFixed(1)+" rotation: "+t.rotation.toFixed(1)),this.line("visible: "+t.visible+" in camera: "+t.inCamera),this.line("bounds x: "+t._bounds.x.toFixed(1)+" y: "+t._bounds.y.toFixed(1)+" w: "+t._bounds.width.toFixed(1)+" h: "+t._bounds.height.toFixed(1)),this.line("parent: "+(t.parent?t.parent.name||"(DisplayObject)":"(none)")),this.stop()},spriteCoords:function(t,e,i,s){this.start(e,i,s,100),t.name&&this.line(t.name),this.line("x:",t.x.toFixed(2),"y:",t.y.toFixed(2)),this.line("pos x:",t.position.x.toFixed(2),"pos y:",t.position.y.toFixed(2)),this.line("world x:",t.world.x.toFixed(2),"world y:",t.world.y.toFixed(2)),this.stop()},lineInfo:function(t,e,i,s){this.start(e,i,s,80),this.line("start.x:",t.start.x.toFixed(2),"start.y:",t.start.y.toFixed(2)),this.line("end.x:",t.end.x.toFixed(2),"end.y:",t.end.y.toFixed(2)),this.line("length:",t.length.toFixed(2),"angle:",t.angle),this.stop()},pixel:function(t,e,i,s){s=s||2,this.start(),this.context.fillStyle=i,this.context.fillRect(t,e,s,s),this.stop()},geom:function(t,e,i,s){void 0===i&&(i=!0),void 0===s&&(s=0),e=e||"rgba(0,255,0,0.4)",this.start(),this.context.fillStyle=e,this.context.strokeStyle=e,this.context.lineWidth=this.lineWidth;e=N.Utils.Debug;s===e.GEOM_RECTANGLE||t instanceof N.Rectangle?i?this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height):this.context.strokeRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height):s===e.GEOM_CIRCLE||t instanceof N.Circle?(this.context.beginPath(),this.context.arc(t.x-this.game.camera.x,t.y-this.game.camera.y,t.radius,0,2*Math.PI,!1),this.context.closePath(),i?this.context.fill():this.context.stroke()):s===e.GEOM_POINT||t instanceof N.Point?this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,4,4):s===e.GEOM_LINE||t instanceof N.Line?(this.context.beginPath(),this.context.moveTo(t.start.x+.5-this.game.camera.x,t.start.y+.5-this.game.camera.y),this.context.lineTo(t.end.x+.5-this.game.camera.x,t.end.y+.5-this.game.camera.y),this.context.closePath(),this.context.stroke()):(s===e.GEOM_ELLIPSE||t instanceof N.Ellipse)&&(this.context.beginPath(),this.context.ellipse(t.centerX-this.game.camera.x,t.centerY-this.game.camera.y,t.width/2,t.height/2,0,2*Math.PI,!1),this.context.closePath(),i?this.context.fill():this.context.stroke()),this.stop()},rectangle:function(t,e,i){void 0===i&&(i=!0),e=e||"rgba(0, 255, 0, 0.4)",this.start(),i?(this.context.fillStyle=e,this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height)):(this.context.lineWidth=this.lineWidth,this.context.strokeStyle=e,this.context.strokeRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height)),this.stop()},text:function(t,e,i,s,n){s=s||"rgb(255,255,255)",n=n||this.font,this.start(),this.context.font=n,this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(t,e+1,i+1)),this.context.fillStyle=s,this.context.fillText(t,e,i),this.stop()},quadTree:function(t,e){e=e||"rgba(255,0,0,0.3)",this.start();var i=t.bounds;if(0===t.nodes.length){this.context.strokeStyle=e,this.context.strokeRect(i.x,i.y,i.width,i.height),this.text("size: "+t.objects.length,i.x+4,i.y+16,"rgb(0,200,0)","12px Courier"),this.context.strokeStyle="rgb(0,255,0)";for(var s=0;s<t.objects.length;s++)this.context.strokeRect(t.objects[s].x,t.objects[s].y,t.objects[s].width,t.objects[s].height)}else for(s=0;s<t.nodes.length;s++)this.quadTree(t.nodes[s]);this.stop()},body:function(t,e,i){t.body&&(this.start(),t.body.type===N.Physics.ARCADE?N.Physics.Arcade.Body.render(this.context,t.body,e,i,this.lineWidth):t.body.type===N.Physics.NINJA?N.Physics.Ninja.Body.render(this.context,t.body,e,i):t.body.type===N.Physics.BOX2D&&N.Physics.Box2D.renderBody(this.context,t.body,e),this.stop())},bodyInfo:function(t,e,i,s){t.body&&(this.start(e,i,s,210),t.body.type===N.Physics.ARCADE?N.Physics.Arcade.Body.renderBodyInfo(this,t.body):t.body.type===N.Physics.BOX2D&&this.game.physics.box2d.renderBodyInfo(this,t.body),this.stop())},box2dWorld:function(){this.start(),this.context.translate(-this.game.camera.view.x,-this.game.camera.view.y,0),this.game.physics.box2d.renderDebugDraw(this.context),this.stop()},box2dBody:function(t,e){this.start(),N.Physics.Box2D.renderBody(this.context,t,e),this.stop()},displayList:function(t){if((t=void 0===t?this.game.world:t).hasOwnProperty("renderOrderID")?console.log("["+t.renderOrderID+"]",t):console.log("[]",t),t.children&&0<t.children.length)for(var e=0;e<t.children.length;e++)this.game.debug.displayList(t.children[e])},renderer:function(t,e,i){var s=this.game.renderer,n=s.renderSession;if(this.start(t,e,i),this.line((s.gl?"WebGL":"Canvas")+" Renderer ("+s.width+" x "+s.height+")"),this.line("autoResize: "+s.autoResize),this.line("clearBeforeRender: "+s.clearBeforeRender),this.line("resolution: "+s.resolution),this.line("transparent: "+s.transparent),this.line("renderSession:"),s.gl){this.line("  currentBatchedTextures: ("+s.currentBatchedTextures.length+")");for(var o=0;o<s.currentBatchedTextures.length;o++)this.line("    "+s.currentBatchedTextures[o]);this.line("  drawCount: "+n.drawCount),this.line("  maxTextures: "+s.maxTextures),this.line("  maxTextureSize: "+s.maxTextureSize),this.line("  maxTextureAvailableSpace: "+n.maxTextureAvailableSpace),this.line("  roundPixels: "+n.roundPixels)}else this.line("  roundPixels: "+n.roundPixels),this.line("  scaleMode: "+(0===n.scaleMode?"LINEAR":1===n.scaleMode?"NEAREST":n.scaleMode));this.stop()},canvasPool:function(t,e,i,s){var n=N.CanvasPool;this.start(t,e,i,s||100),this.line("Canvas Pool"),this.line("Used:",n.getTotal()),this.line("Free:",n.getFree()),this.line("Total:",n.length),this.stop()},physicsGroup:function(t,e,i,s){t.forEach(this.body,this,s,e,i)},phaser:function(t,e,i){this.text("Phaser v"+N.VERSION+" "+(this.game.renderType===N.WEBGL?"WebGL":"Canvas")+" "+(this.game.device.webAudio?"WebAudio":"HTML Audio"),t,e,i,this.font)},scale:function(t,e,i){this.start(t,e,i);var e=this.game.scale,i=e.scaleFactorInversed,s=e._parentBounds;this.line("Game: "+this.game.width+(t=" x ")+this.game.height),this.line("Canvas: "+e.width+t+e.height+" ("+i.x.toFixed(2)+t+i.y.toFixed(2)+") ["+e.aspectRatio.toFixed(2)+"]"),this.line("Mode: "+N.ScaleManager.MODES[e.currentScaleMode]+(e.currentScaleMode===N.ScaleManager.USER_SCALE?" ("+e._userScaleFactor.x+t+e._userScaleFactor.y+")":"")),this.line("Parent: "+(e.parentIsWindow?"window":e.parentNode)+(s.empty?"":" ("+s.width+t+s.height+")")),this.line("Screen: "+e.classifyOrientation(e.screenOrientation)+(e.incorrectOrientation?" (incorrect)":"")),this.stop()},loader:function(t,e,i,s){var n=N.Utils.pad;this.start(e,i,s),t.hasLoaded?this.line("Complete"+(t.resetLocked?" [locked]":"")):t.isLoading?this.line("Loading"):this.line("Not started"),t.hasLoaded&&!t.resetLocked||(this.line("Progress: "+n(t.progress,3)+"%"),this.line("Files: "+t._loadedFileCount+" of "+t._totalFileCount),this.line("Packs: "+t._loadedPackCount+" of "+t._loadedPackCount)),this.stop()},device:function(t,e,i){var s=this.game.device;this.start(t,e,i),this.line("Device"),this.line("Pointer Events: "+s.mspointer),this.line("Touch: "+s.touch),this.line("Web Audio: "+s.webAudio),this.line("WebGL: "+s.webGL),this.stop()},destroy:function(){N.CanvasPool.remove(this)}},N.Utils.Debug.prototype.constructor=N.Utils.Debug,N.DOM={getOffset:function(t,e){e=e||new N.Point;var t=t.getBoundingClientRect(),i=N.DOM.scrollY,s=N.DOM.scrollX,n=document.documentElement.clientTop,o=document.documentElement.clientLeft;return e.x=t.left+s-o,e.y=t.top+i-n,e},getBounds:function(t,e){return void 0===e&&(e=0),!(!(t=t&&!t.nodeType?t[0]:t)||1!==t.nodeType)&&this.calibrate(t.getBoundingClientRect(),e)},calibrate:function(t,e){var i={width:0,height:0,left:0,right:0,top:0,bottom:0};return i.width=(i.right=t.right+(e=+e||0))-(i.left=t.left-e),i.height=(i.bottom=t.bottom+e)-(i.top=t.top-e),i},getAspectRatio:function(t){var e=(t=null==t?this.visualBounds:1===t.nodeType?this.getBounds(t):t).width,i=t.height;return(e="function"==typeof e?e.call(t):e)/(i="function"==typeof i?i.call(t):i)},inLayoutViewport:function(t,e){t=this.getBounds(t,e);return!!t&&0<=t.bottom&&0<=t.right&&t.top<=this.layoutBounds.width&&t.left<=this.layoutBounds.height},getScreenOrientation:function(t){var e=window.screen,i=e.orientation||e.mozOrientation||e.msOrientation;if(i&&"string"==typeof i.type)return i.type;if("string"==typeof i)return i;var i="portrait-primary",s="landscape-primary";if("screen"===t)return e.width<e.height?i:s;if("viewport"!==t){if("window.orientation"===t&&"number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?i:s;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return i;if(window.matchMedia("(orientation: landscape)").matches)return s}}return this.visualBounds.height>this.visualBounds.width?i:s},visualBounds:new N.Rectangle,layoutBounds:new N.Rectangle,documentBounds:new N.Rectangle},N.Device.whenReady(function(t){var e=window&&"pageXOffset"in window?function(){return window.pageXOffset}:function(){return document.documentElement.scrollLeft},i=window&&"pageYOffset"in window?function(){return window.pageYOffset}:function(){return document.documentElement.scrollTop};Object.defineProperty(N.DOM,"scrollX",{get:e}),Object.defineProperty(N.DOM,"scrollY",{get:i}),Object.defineProperty(N.DOM.visualBounds,"x",{get:e}),Object.defineProperty(N.DOM.visualBounds,"y",{get:i}),Object.defineProperty(N.DOM.layoutBounds,"x",{value:0}),Object.defineProperty(N.DOM.layoutBounds,"y",{value:0}),t.desktop&&document.documentElement.clientWidth<=window.innerWidth&&document.documentElement.clientHeight<=window.innerHeight?(e=function(){return Math.max(window.innerWidth,document.documentElement.clientWidth)},i=function(){return Math.max(window.innerHeight,document.documentElement.clientHeight)},Object.defineProperty(N.DOM.visualBounds,"width",{get:e}),Object.defineProperty(N.DOM.visualBounds,"height",{get:i}),Object.defineProperty(N.DOM.layoutBounds,"width",{get:e}),Object.defineProperty(N.DOM.layoutBounds,"height",{get:i})):(Object.defineProperty(N.DOM.visualBounds,"width",{get:function(){return window.innerWidth}}),Object.defineProperty(N.DOM.visualBounds,"height",{get:function(){return window.innerHeight}}),Object.defineProperty(N.DOM.layoutBounds,"width",{get:function(){var t=document.documentElement.clientWidth,e=window.innerWidth;return t<e?e:t}}),Object.defineProperty(N.DOM.layoutBounds,"height",{get:function(){var t=document.documentElement.clientHeight,e=window.innerHeight;return t<e?e:t}})),Object.defineProperty(N.DOM.documentBounds,"x",{value:0}),Object.defineProperty(N.DOM.documentBounds,"y",{value:0}),Object.defineProperty(N.DOM.documentBounds,"width",{get:function(){var t=document.documentElement;return Math.max(t.clientWidth,t.offsetWidth,t.scrollWidth)}}),Object.defineProperty(N.DOM.documentBounds,"height",{get:function(){var t=document.documentElement;return Math.max(t.clientHeight,t.offsetHeight,t.scrollHeight)}})},null,!0),N.ArraySet=function(t){this.position=0,this.list=t||[]},N.ArraySet.prototype={add:function(t){return this.exists(t)||this.list.push(t),t},getIndex:function(t){return this.list.indexOf(t)},getByKey:function(t,e){for(var i=this.list.length;i--;)if(this.list[i][t]===e)return this.list[i];return null},exists:function(t){return-1<this.list.indexOf(t)},reset:function(){this.list.length=0},remove:function(t){var e=this.list.indexOf(t);if(-1<e)return this.list.splice(e,1),t},setAll:function(t,e){for(var i=this.list.length;i--;)this.list[i]&&(this.list[i][t]=e)},callAll:function(t){for(var e=Array.prototype.slice.call(arguments,1),i=this.list.length;i--;)this.list[i]&&this.list[i][t]&&this.list[i][t].apply(this.list[i],e)},removeAll:function(t){void 0===t&&(t=!1);for(var e,i=this.list.length;i--;)this.list[i]&&(e=this.remove(this.list[i]),t)&&e.destroy();this.position=0,this.list=[]}},Object.defineProperty(N.ArraySet.prototype,"total",{get:function(){return this.list.length}}),Object.defineProperty(N.ArraySet.prototype,"first",{get:function(){return(this.position=0)<this.list.length?this.list[0]:null}}),Object.defineProperty(N.ArraySet.prototype,"next",{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}}),N.ArraySet.prototype.constructor=N.ArraySet,N.ArrayUtils={getRandomItem:function(t,e,i){if(null===t)return null;void 0===i&&(i=t.length);e=(e=void 0===e?0:e)+Math.floor(Math.random()*i);return void 0===t[e]?null:t[e]},removeRandomItem:function(t,e,i){if(null==t)return null;void 0===i&&(i=t.length);e=(e=void 0===e?0:e)+Math.floor(Math.random()*i);return!(e<t.length)||void 0===(i=t.splice(e,1))[0]?null:i[0]},remove:function(t,e,i){var s=t.length;if(!(s<=e||0===i)){for(var n=s-(i=null==i?1:i),o=e;o<n;++o)t[o]=t[o+i];t.length=n}},shuffle:function(t){for(var e=t.length-1;0<e;e--){var i=Math.floor(Math.random()*(e+1)),s=t[e];t[e]=t[i],t[i]=s}return t},transposeMatrix:function(t){for(var e=t.length,i=t[0].length,s=new Array(i),n=0;n<i;n++){s[n]=new Array(e);for(var o=e-1;-1<o;o--)s[n][o]=t[o][n]}return s},rotateMatrix:function(t,e){if(90===(e="string"!=typeof e?(e%360+360)%360:e)||-270===e||"rotateLeft"===e)t=(t=N.ArrayUtils.transposeMatrix(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t=t.reverse(),t=N.ArrayUtils.transposeMatrix(t);else if(180===Math.abs(e)||"rotate180"===e){for(var i=0;i<t.length;i++)t[i].reverse();t=t.reverse()}return t},findClosest:function(t,e){if(!e.length)return NaN;if(1===e.length||t<e[0])return e[0];for(var i=1;e[i]<t;)i++;var s=e[i-1],n=i<e.length?e[i]:Number.POSITIVE_INFINITY;return n-t<=t-s?n:s},rotateRight:function(t){var e=t.pop();return t.unshift(e),e},rotateLeft:function(t){var e=t.shift();return t.push(e),e},numberArray:function(t,e){null==e&&(e=t,t=0);for(var i=[],s=t;s<=e;s++)i.push(s);return i},numberArrayStep:function(t,e,i){null==t&&(t=0),null==e&&(e=t,t=0),void 0===i&&(i=1);for(var s=[],n=Math.max(N.Math.roundAwayFromZero((e-t)/(i||1)),0),o=0;o<n;o++)s.push(t),t+=i;return s}},N.LinkedList=function(){this.next=null,this.prev=null,this.first=null,this.last=null,this.total=0},N.LinkedList.prototype={add:function(t){return 0===this.total&&null===this.first&&null===this.last?(this.first=t,this.last=t,((this.next=t).prev=this).total++):((this.last.next=t).prev=this.last,this.last=t,this.total++),t},reset:function(){this.first=null,this.last=null,this.next=null,this.prev=null,this.total=0},remove:function(t){1===this.total?(this.reset(),t.next=t.prev=null):(t===this.first?this.first=this.first.next:t===this.last&&(this.last=this.last.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),(t.next=t.prev=null)===this.first&&(this.last=null),this.total--)},callAll:function(t){if(this.first&&this.last)for(var e=this.first;e&&e[t]&&e[t].call(e),(e=e.next)!==this.last.next;);}},N.LinkedList.prototype.constructor=N.LinkedList,N.Create=function(t){this.game=t,this.bmd=null,this.canvas=null,this.ctx=null,this.palettes=[{0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"},{0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"},{0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}]},N.Create.PALETTE_ARNE=0,N.Create.PALETTE_JMP=1,N.Create.PALETTE_CGA=2,N.Create.PALETTE_C64=3,N.Create.PALETTE_JAPANESE_MACHINE=4,N.Create.prototype={texture:function(t,e,i,s,n,o,r,a){void 0===i&&(i=8),void 0===s&&(s=i),void 0===n&&(n=0),void 0===o&&(o=!0);var h=e[0].length*i,l=e.length*s;null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(h,l),this.bmd.clear();for(var c=0;c<e.length;c++)for(var u=e[c],d=0;d<u.length;d++){var p=u[d];"."!==p&&" "!==p&&(this.ctx.fillStyle=this.palettes[n][p],this.ctx.fillRect(d*i,c*s,i,s))}return o?this.bmd.generateTexture(t,r,a):this.copy()},grid:function(t,e,i,s,n,o,r,a,h){void 0===r&&(r=!0),null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(e,i),this.ctx.fillStyle=o;for(var l=0;l<i;l+=n)this.ctx.fillRect(0,l,e,1);for(var c=0;c<e;c+=s)this.ctx.fillRect(c,0,1,i);return r?this.bmd.generateTexture(t,a,h):this.copy()},copy:function(t,e,i,s,n,o,r){return(t=null==t?this.game.make.bitmapData():t).resize(this.bmd.width,this.bmd.height),t.draw(this.bmd,e,i,s,n,o,r)}},N.Create.prototype.constructor=N.Create,N.FlexGrid=function(t,e,i){this.game=t.game,this.manager=t,this.width=e,this.height=i,this.boundsCustom=new N.Rectangle(0,0,e,i),this.boundsFluid=new N.Rectangle(0,0,e,i),this.boundsFull=new N.Rectangle(0,0,e,i),this.boundsNone=new N.Rectangle(0,0,e,i),this.positionCustom=new N.Point(0,0),this.positionFluid=new N.Point(0,0),this.positionFull=new N.Point(0,0),this.positionNone=new N.Point(0,0),this.scaleCustom=new N.Point(1,1),this.scaleFluid=new N.Point(1,1),this.scaleFluidInversed=new N.Point(1,1),this.scaleFull=new N.Point(1,1),this.scaleNone=new N.Point(1,1),this.customWidth=0,this.customHeight=0,this.customOffsetX=0,this.customOffsetY=0,this.ratioH=e/i,this.ratioV=i/e,this.multiplier=0,this.layers=[]},N.FlexGrid.prototype={setSize:function(t,e){this.width=t,this.height=e,this.ratioH=t/e,this.ratioV=e/t,this.scaleNone=new N.Point(1,1),this.boundsNone.width=this.width,this.boundsNone.height=this.height,this.refresh()},createCustomLayer:function(t,e,i,s){void 0===s&&(s=!0),this.customWidth=t,this.customHeight=e,this.boundsCustom.width=t,this.boundsCustom.height=e;t=new N.FlexLayer(this,this.positionCustom,this.boundsCustom,this.scaleCustom);return s&&this.game.world.add(t),this.layers.push(t),i&&t.addMultiple(i),t},createFluidLayer:function(t,e){void 0===e&&(e=!0);var i=new N.FlexLayer(this,this.positionFluid,this.boundsFluid,this.scaleFluid);return e&&this.game.world.add(i),this.layers.push(i),t&&i.addMultiple(t),i},createFullLayer:function(t){var e=new N.FlexLayer(this,this.positionFull,this.boundsFull,this.scaleFluid);return this.game.world.add(e),this.layers.push(e),void 0!==t&&e.addMultiple(t),e},createFixedLayer:function(t){var e=new N.FlexLayer(this,this.positionNone,this.boundsNone,this.scaleNone);return this.game.world.add(e),this.layers.push(e),void 0!==t&&e.addMultiple(t),e},reset:function(){for(var t=this.layers.length;t--;)this.layers[t].persist||(this.layers[t].position=null,this.layers[t].scale=null,this.layers.slice(t,1))},onResize:function(t,e){this.ratioH=t/e,this.ratioV=e/t,this.refresh(t,e)},refresh:function(){this.multiplier=Math.min(this.manager.height/this.height,this.manager.width/this.width),this.boundsFluid.width=Math.round(this.width*this.multiplier),this.boundsFluid.height=Math.round(this.height*this.multiplier),this.scaleFluid.set(this.boundsFluid.width/this.width,this.boundsFluid.height/this.height),this.scaleFluidInversed.set(this.width/this.boundsFluid.width,this.height/this.boundsFluid.height),this.scaleFull.set(this.boundsFull.width/this.width,this.boundsFull.height/this.height),this.boundsFull.width=Math.round(this.manager.width*this.scaleFluidInversed.x),this.boundsFull.height=Math.round(this.manager.height*this.scaleFluidInversed.y),this.boundsFluid.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.boundsNone.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.positionFluid.set(this.boundsFluid.x,this.boundsFluid.y),this.positionNone.set(this.boundsNone.x,this.boundsNone.y)},fitSprite:function(t){this.manager.scaleSprite(t),t.x=this.manager.bounds.centerX,t.y=this.manager.bounds.centerY},debug:function(){this.game.debug.text(this.boundsFluid.width+" x "+this.boundsFluid.height,this.boundsFluid.x+4,this.boundsFluid.y+16),this.game.debug.geom(this.boundsFluid,"rgba(255,0,0,0.9",!1)}},N.FlexGrid.prototype.constructor=N.FlexGrid,N.FlexLayer=function(t,e,i,s){N.Group.call(this,t.game,null,"__flexLayer"+t.game.rnd.uuid(),!1),this.manager=t.manager,this.grid=t,this.persist=!1,this.position=e,this.bounds=i,this.scale=s,this.topLeft=i.topLeft,this.topMiddle=new N.Point(i.halfWidth,0),this.topRight=i.topRight,this.bottomLeft=i.bottomLeft,this.bottomMiddle=new N.Point(i.halfWidth,i.bottom),this.bottomRight=i.bottomRight},N.FlexLayer.prototype=Object.create(N.Group.prototype),N.FlexLayer.prototype.constructor=N.FlexLayer,N.FlexLayer.prototype.resize=function(){},N.FlexLayer.prototype.debug=function(){this.game.debug.text(this.bounds.width+" x "+this.bounds.height,this.bounds.x+4,this.bounds.y+16),this.game.debug.geom(this.bounds,"rgba(0,0,255,0.9",!1),this.game.debug.geom(this.topLeft,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topMiddle,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topRight,"rgba(255,255,255,0.9")},N.Color={RED:16711680,ORANGE:16750848,YELLOW:16776960,GREEN:65280,AQUA:65535,BLUE:255,VIOLET:16711935,WHITE:16777215,BLACK:0,GRAY:6710886,packPixel:function(t,e,i,s){return N.Device.LITTLE_ENDIAN?(s<<24|i<<16|e<<8|t)>>>0:(t<<24|e<<16|i<<8|s)>>>0},unpackPixel:function(t,e,i,s){return null==e&&(e=N.Color.createColor()),null==i&&(i=!1),null==s&&(s=!1),N.Device.LITTLE_ENDIAN?(e.a=(4278190080&t)>>>24,e.b=(16711680&t)>>>16,e.g=(65280&t)>>>8,e.r=255&t):(e.r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t),e.color=t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a/255+")",i&&N.Color.RGBtoHSL(e.r,e.g,e.b,e),s&&N.Color.RGBtoHSV(e.r,e.g,e.b,e),e},fromRGBA:function(t,e){return(e=e||N.Color.createColor()).r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a+")",e},toRGBA:function(t,e,i,s){return t<<24|e<<16|i<<8|s},toABGR:function(t,e,i,s){return(s<<24|i<<16|e<<8|t)>>>0},hexToRGBArray:function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},RGBArrayToHex:function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},RGBtoHSL:function(t,e,i,s){s=s||N.Color.createColor(t,e,i,1),t/=255,e/=255,i/=255;var n,o=Math.min(t,e,i),r=Math.max(t,e,i);return s.h=0,s.s=0,s.l=(r+o)/2,r!==o&&(n=r-o,s.s=.5<s.l?n/(2-r-o):n/(r+o),r===t?s.h=(e-i)/n+(e<i?6:0):r===e?s.h=(i-t)/n+2:r===i&&(s.h=(t-e)/n+4),s.h/=6),s},HSLtoRGB:function(t,e,i,s){return s?(s.r=i,s.g=i,s.b=i):s=N.Color.createColor(i,i,i),0!==e&&(s.r=N.Color.hueToColor(e=2*i-(i=i<.5?i*(1+e):i+e-i*e),i,t+1/3),s.g=N.Color.hueToColor(e,i,t),s.b=N.Color.hueToColor(e,i,t-1/3)),s.r=Math.floor(255*s.r|0),s.g=Math.floor(255*s.g|0),s.b=Math.floor(255*s.b|0),N.Color.updateColor(s),s},RGBtoHSV:function(t,e,i,s){s=s||N.Color.createColor(t,e,i,255),t/=255,e/=255,i/=255;var n=Math.min(t,e,i),o=Math.max(t,e,i),r=o-n;return s.h=0,s.s=0===o?0:r/o,(s.v=o)!==n&&(o===t?s.h=(e-i)/r+(e<i?6:0):o===e?s.h=(i-t)/r+2:o===i&&(s.h=(t-e)/r+4),s.h/=6),s},HSVtoRGB:function(t,e,i,s){void 0===s&&(s=N.Color.createColor(0,0,0,1,t,e,0,i));var n,o,r,a=Math.floor(6*t),t=6*t-a,h=i*(1-e),l=i*(1-t*e),c=i*(1-(1-t)*e);switch(a%6){case 0:n=i,o=c,r=h;break;case 1:n=l,o=i,r=h;break;case 2:n=h,o=i,r=c;break;case 3:n=h,o=l,r=i;break;case 4:n=c,o=h,r=i;break;case 5:n=i,o=h,r=l}return s.r=Math.floor(255*n),s.g=Math.floor(255*o),s.b=Math.floor(255*r),N.Color.updateColor(s),s},hueToColor:function(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},createColor:function(t,e,i,s,n,o,r,a){return N.Color.updateColor({r:t||0,g:e||0,b:i||0,a:s||1,h:n||0,s:o||0,l:r||0,v:a||0,color:0,color32:0,rgba:""})},updateColor:function(t){return t.rgba="rgba("+t.r.toFixed()+","+t.g.toFixed()+","+t.b.toFixed()+","+t.a.toString()+")",t.color=N.Color.getColor(t.r,t.g,t.b),t.color32=N.Color.getColor32(255*t.a,t.r,t.g,t.b),t},getColor32:function(t,e,i,s){return t<<24|e<<16|i<<8|s},getColor:function(t,e,i){return t<<16|e<<8|i},RGBtoString:function(t,e,i,s,n){return void 0===s&&(s=255),"#"===(n=void 0===n?"#":n)?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1):"0x"+N.Color.componentToHex(s)+N.Color.componentToHex(t)+N.Color.componentToHex(e)+N.Color.componentToHex(i)},hexToRGB:function(t){t=N.Color.hexToColor(t);if(t)return N.Color.getColor32(t.a,t.r,t.g,t.b)},hexToColor:function(t,e){t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,s){return e+e+i+i+s+s});var i,s,t=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return t&&(i=parseInt(t[1],16),s=parseInt(t[2],16),t=parseInt(t[3],16),e?(e.r=i,e.g=s,e.b=t):e=N.Color.createColor(i,s,t)),e},webToColor:function(t,e){e=e||N.Color.createColor();t=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t);return t&&(e.r=~~Number(t[1]),e.g=~~Number(t[2]),e.b=~~Number(t[3]),e.a=void 0!==t[4]?Number(t[4]):1,N.Color.updateColor(e)),e},valueToColor:function(t,e){return e=e||N.Color.createColor(),"string"==typeof t?0===t.indexOf("rgb")?N.Color.webToColor(t,e):(e.a=1,N.Color.hexToColor(t,e)):("number"==typeof t&&(t=N.Color.getRGB(t),e.r=t.r,e.g=t.g,e.b=t.b,e.a=t.a/255),e)},componentToHex:function(t){t=t.toString(16);return 1===t.length?"0"+t:t},HSVColorWheel:function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var i=[],s=0;s<=359;s++)i.push(N.Color.HSVtoRGB(s/359,t,e));return i},HSLColorWheel:function(t,e){void 0===t&&(t=.5),void 0===e&&(e=.5);for(var i=[],s=0;s<=359;s++)i.push(N.Color.HSLtoRGB(s/359,t,e));return i},interpolateColor:function(t,e,i,s,n,o){void 0===n&&(n=255),void 0===o&&(o=0);var r,a,h,l,c,u,t=N.Color.getRGB(t),e=N.Color.getRGB(e);return 0===o&&(l=(e.red-t.red)*s/i+t.red,c=(e.green-t.green)*s/i+t.green,u=(e.blue-t.blue)*s/i+t.blue),1===o&&(o=N.Color.RGBtoHSV(t.r,t.g,t.b),e=(t=N.Color.RGBtoHSV(e.r,e.g,e.b)).h-o.h,o.h>t.h&&(a=t.h,t.h=o.h,o.h=a,e=-e,s=i-s),.5<e&&(o.h=o.h+1,r=((t.h-o.h)*s/i+o.h)%1),e<=.5&&(r=(t.h-o.h)*s/i+o.h),a=(t.s-o.s)*s/i+o.s,e=(t.v-o.v)*s/i+o.v,l=(h=N.Color.HSVtoRGB(r,a,e,h)).r,c=h.g,u=h.b),N.Color.getColor32(n,l,c,u)},interpolateColorWithRGB:function(t,e,i,s,n,o){t=N.Color.getRGB(t),e=(e-t.red)*o/n+t.red;return N.Color.getColor(e,(i-t.green)*o/n+t.green,(s-t.blue)*o/n+t.blue)},interpolateRGB:function(t,e,i,s,n,o,r,a){return N.Color.getColor((s-t)*a/r+t,(n-e)*a/r+e,(o-i)*a/r+i)},linear:function(t,e,i){return this.interpolateColor(t,e,1,i)},linearInterpolation:function(t,e){var e=N.Math.linear(0,t.length-1,e),i=t[Math.floor(e)],t=t[Math.ceil(e)];return this.linear(i,t,e%1)},getRandomColor:function(t,e,i){var s,n;return void 0===t&&(t=0),void 0===i&&(i=255),255<(e=void 0===e?255:e)||e<t?N.Color.getColor(255,255,255):(s=t+Math.round(Math.random()*(e-t)),n=t+Math.round(Math.random()*(e-t)),e=t+Math.round(Math.random()*(e-t)),N.Color.getColor32(i,s,n,e))},getRGB:function(t){return 16777215<t?{alpha:t>>>24,red:t>>16&255,green:t>>8&255,blue:255&t,a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{alpha:255,red:t>>16&255,green:t>>8&255,blue:255&t,a:255,r:t>>16&255,g:t>>8&255,b:255&t}},getWebRGB:function(t){return"object"==typeof t?"rgba("+t.r.toString()+","+t.g.toString()+","+t.b.toString()+","+(t.a/255).toString()+")":"rgba("+(t=N.Color.getRGB(t)).r.toString()+","+t.g.toString()+","+t.b.toString()+","+(t.a/255).toString()+")"},getAlpha:function(t){return t>>>24},getAlphaFloat:function(t){return(t>>>24)/255},getRed:function(t){return t>>16&255},getGreen:function(t){return t>>8&255},getBlue:function(t){return 255&t},blendNormal:function(t){return t},blendLighten:function(t,e){return t<e?e:t},blendDarken:function(t,e){return t<e?t:e},blendMultiply:function(t,e){return t*e/255},blendAverage:function(t,e){return(t+e)/2},blendAdd:function(t,e){return Math.min(255,t+e)},blendSubtract:function(t,e){return Math.max(0,t+e-255)},blendDifference:function(t,e){return Math.abs(t-e)},blendNegation:function(t,e){return 255-Math.abs(255-t-e)},blendScreen:function(t,e){return 255-((255-t)*(255-e)>>8)},blendExclusion:function(t,e){return t+e-2*t*e/255},blendOverlay:function(t,e){return e<128?2*t*e/255:255-2*(255-t)*(255-e)/255},blendSoftLight:function(t,e){return e<128?2*(64+(t>>1))*(e/255):255-2*(255-(64+(t>>1)))*(255-e)/255},blendHardLight:function(t,e){return N.Color.blendOverlay(e,t)},blendColorDodge:function(t,e){return 255===e?e:Math.min(255,(t<<8)/(255-e))},blendColorBurn:function(t,e){return 0===e?e:Math.max(0,255-(255-t<<8)/e)},blendLinearDodge:function(t,e){return N.Color.blendAdd(t,e)},blendLinearBurn:function(t,e){return N.Color.blendSubtract(t,e)},blendLinearLight:function(t,e){return e<128?N.Color.blendLinearBurn(t,2*e):N.Color.blendLinearDodge(t,2*(e-128))},blendVividLight:function(t,e){return e<128?N.Color.blendColorBurn(t,2*e):N.Color.blendColorDodge(t,2*(e-128))},blendPinLight:function(t,e){return e<128?N.Color.blendDarken(t,2*e):N.Color.blendLighten(t,2*(e-128))},blendHardMix:function(t,e){return N.Color.blendVividLight(t,e)<128?0:255},blendReflect:function(t,e){return 255===e?e:Math.min(255,t*t/(255-e))},blendGlow:function(t,e){return N.Color.blendReflect(e,t)},blendPhoenix:function(t,e){return Math.min(t,e)-Math.max(t,e)+255}},N.Physics=function(t,e){e=e||{},this.game=t,this.config=e,this.arcade=null,this.p2=null,this.ninja=null,this.box2d=null,this.chipmunk=null,this.matter=null,this.parseConfig()},N.Physics.ARCADE=0,N.Physics.P2JS=1,N.Physics.NINJA=2,N.Physics.BOX2D=3,N.Physics.CHIPMUNK=4,N.Physics.MATTERJS=5,N.Physics.prototype={parseConfig:function(){this.config.hasOwnProperty("arcade")&&!0!==this.config.arcade||!N.Physics.hasOwnProperty("Arcade")||(this.arcade=new N.Physics.Arcade(this.game)),this.config.hasOwnProperty("ninja")&&!0===this.config.ninja&&N.Physics.hasOwnProperty("Ninja")&&(this.ninja=new N.Physics.Ninja(this.game)),this.config.hasOwnProperty("p2")&&!0===this.config.p2&&N.Physics.hasOwnProperty("P2")&&(this.p2=new N.Physics.P2(this.game,this.config)),this.config.hasOwnProperty("box2d")&&!0===this.config.box2d&&N.Physics.hasOwnProperty("BOX2D")&&(this.box2d=new N.Physics.Box2D(this.game,this.config)),this.config.hasOwnProperty("matter")&&!0===this.config.matter&&N.Physics.hasOwnProperty("Matter")&&(this.matter=new N.Physics.Matter(this.game,this.config))},startSystem:function(t){t===N.Physics.ARCADE?this.arcade=new N.Physics.Arcade(this.game):t===N.Physics.P2JS?null===this.p2?this.p2=new N.Physics.P2(this.game,this.config):this.p2.reset():t===N.Physics.NINJA?this.ninja=new N.Physics.Ninja(this.game):t===N.Physics.BOX2D?null===this.box2d?this.box2d=new N.Physics.Box2D(this.game,this.config):this.box2d.reset():t===N.Physics.MATTERJS&&(null===this.matter?this.matter=new N.Physics.Matter(this.game,this.config):this.matter.reset())},enable:function(t,e,i){void 0===i&&(i=!1),(e=void 0===e?N.Physics.ARCADE:e)===N.Physics.ARCADE?this.arcade.enable(t):e===N.Physics.P2JS&&this.p2?this.p2.enable(t,i):e===N.Physics.NINJA&&this.ninja?this.ninja.enableAABB(t):e===N.Physics.BOX2D&&this.box2d?this.box2d.enable(t):e===N.Physics.MATTERJS&&this.matter?this.matter.enable(t):console.warn(t.key+" is attempting to enable a physics body using an unknown physics system.")},preUpdate:function(){this.p2&&this.p2.preUpdate(),this.box2d&&this.box2d.preUpdate(),this.matter&&this.matter.preUpdate()},update:function(){this.p2&&this.p2.update(),this.box2d&&this.box2d.update(),this.matter&&this.matter.update()},setBoundsToWorld:function(){this.arcade&&this.arcade.setBoundsToWorld(),this.ninja&&this.ninja.setBoundsToWorld(),this.p2&&this.p2.setBoundsToWorld(),this.box2d&&this.box2d.setBoundsToWorld(),this.matter&&this.matter.setBoundsToWorld()},clear:function(){this.p2&&this.p2.clear(),this.box2d&&this.box2d.clear(),this.matter&&this.matter.clear()},reset:function(){this.p2&&this.p2.reset(),this.box2d&&this.box2d.reset(),this.matter&&this.matter.reset()},destroy:function(){this.p2&&this.p2.destroy(),this.box2d&&this.box2d.destroy(),this.matter&&this.matter.destroy(),this.arcade=null,this.ninja=null,this.p2=null,this.box2d=null,this.matter=null}},N.Physics.prototype.constructor=N.Physics,N.Physics.Arcade=function(t){this.game=t,this.gravity=new N.Point,this.bounds=new N.Rectangle(0,0,t.world.width,t.world.height),this.checkCollision={up:!0,down:!0,left:!0,right:!0},this.maxObjects=10,this.maxLevels=4,this.OVERLAP_BIAS=4,this.forceX=!1,this.sortDirection=N.Physics.Arcade.LEFT_RIGHT,this.skipQuadTree=!0,this.isPaused=!1,this.quadTree=new N.QuadTree(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this._total=0,this.setBoundsToWorld()},N.Physics.Arcade.prototype.constructor=N.Physics.Arcade,N.Physics.Arcade.SORT_NONE=0,N.Physics.Arcade.LEFT_RIGHT=1,N.Physics.Arcade.RIGHT_LEFT=2,N.Physics.Arcade.TOP_BOTTOM=3,N.Physics.Arcade.BOTTOM_TOP=4,N.Physics.Arcade.prototype={setBounds:function(t,e,i,s){this.bounds.setTo(t,e,i,s)},setBoundsToWorld:function(){this.bounds.copyFrom(this.game.world.bounds)},enable:function(t,e){void 0===e&&(e=!0);var i=1;if(Array.isArray(t))for(i=t.length;i--;)t[i]instanceof N.Group?this.enable(t[i].children,e):(this.enableBody(t[i]),e&&t[i].hasOwnProperty("children")&&0<t[i].children.length&&this.enable(t[i],!0));else t instanceof N.Group?this.enable(t.children,e):(this.enableBody(t),e&&t.hasOwnProperty("children")&&0<t.children.length&&this.enable(t.children,!0))},enableBody:function(t){t.hasOwnProperty("body")&&null===t.body&&(t.body=new N.Physics.Arcade.Body(t),t.parent)&&t.parent instanceof N.Group&&t.parent.addToHash(t)},updateMotion:function(t){var e;t.allowRotation&&(e=this.computeVelocity(0,t,t.angularVelocity,t.angularAcceleration,t.angularDrag,t.maxAngular)-t.angularVelocity,t.angularVelocity+=e,t.rotation+=.001*t.angularVelocity*this.game.time.delta),t.velocity.x=this.computeVelocity(1,t,t.velocity.x,t.acceleration.x,t.drag.x,t.maxVelocity.x),t.velocity.y=this.computeVelocity(2,t,t.velocity.y,t.acceleration.y,t.drag.y,t.maxVelocity.y)},computeVelocity:function(t,e,i,s,n,o){return 1===t&&e.allowGravity?i+=.001*(this.gravity.x+e.gravity.x)*this.game.time.delta:2===t&&e.allowGravity&&(i+=.001*(this.gravity.y+e.gravity.y)*this.game.time.delta),s?i+=.001*s*this.game.time.delta:n&&e.allowDrag&&(0<i-(n*=.001*this.game.time.delta)?i-=n:i+n<0?i+=n:i=0),(o=void 0===o?1e4:o)<i?i=o:i<-o&&(i=-o),i},overlap:function(t,e,i,s,n){return i=i||null,s=s||null,n=n||i,this._total=0,this.collideObjects(t,e,i,s,n,!0),0<this._total},collide:function(t,e,i,s,n){return i=i||null,s=s||null,n=n||i,this._total=0,this.collideObjects(t,e,i,s,n,!1),0<this._total},sortLeftRight:function(t,e){return t.body&&e.body?t.body.x-e.body.x:0},sortRightLeft:function(t,e){return t.body&&e.body?e.body.x-t.body.x:0},sortTopBottom:function(t,e){return t.body&&e.body?t.body.y-e.body.y:0},sortBottomTop:function(t,e){return t.body&&e.body?e.body.y-t.body.y:0},sort:function(t,e){null!==t.physicsSortDirection?e=t.physicsSortDirection:void 0===e&&(e=this.sortDirection),e===N.Physics.Arcade.LEFT_RIGHT?t.hash.sort(this.sortLeftRight):e===N.Physics.Arcade.RIGHT_LEFT?t.hash.sort(this.sortRightLeft):e===N.Physics.Arcade.TOP_BOTTOM?t.hash.sort(this.sortTopBottom):e===N.Physics.Arcade.BOTTOM_TOP&&t.hash.sort(this.sortBottomTop)},collideObjects:function(t,e,i,s,n,o){if(!Array.isArray(t)&&Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&this.collideHandler(t,e[r],i,s,n,o);else if(Array.isArray(t)&&!Array.isArray(e))for(r=0;r<t.length;r++)t[r]&&this.collideHandler(t[r],e,i,s,n,o);else if(Array.isArray(t)&&Array.isArray(e)){for(r=0;r<t.length;r++)if(t[r])for(var a=0;a<e.length;a++)e[a]&&this.collideHandler(t[r],e[a],i,s,n,o)}else this.collideHandler(t,e,i,s,n,o)},collideHandler:function(t,e,i,s,n,o){void 0===e&&t.physicsType===N.GROUP?(this.sort(t),this.collideGroupVsSelf(t,i,s,n,o)):t&&e&&t.exists&&e.exists&&(this.sortDirection!==N.Physics.Arcade.SORT_NONE&&(t.physicsType===N.GROUP&&this.sort(t),e.physicsType===N.GROUP)&&this.sort(e),t.physicsType===N.SPRITE?e.physicsType===N.SPRITE?this.collideSpriteVsSprite(t,e,i,s,n,o):e.physicsType===N.GROUP?this.collideSpriteVsGroup(t,e,i,s,n,o):e.physicsType===N.TILEMAPLAYER&&this.collideSpriteVsTilemapLayer(t,e,i,s,n,o):t.physicsType===N.GROUP?e.physicsType===N.SPRITE?this.collideSpriteVsGroup(e,t,i,s,n,o):e.physicsType===N.GROUP?this.collideGroupVsGroup(t,e,i,s,n,o):e.physicsType===N.TILEMAPLAYER&&this.collideGroupVsTilemapLayer(t,e,i,s,n,o):t.physicsType===N.TILEMAPLAYER&&(e.physicsType===N.SPRITE?this.collideSpriteVsTilemapLayer(e,t,i,s,n,o):e.physicsType===N.GROUP&&this.collideGroupVsTilemapLayer(e,t,i,s,n,o)))},collideSpriteVsSprite:function(t,e,i,s,n,o){return!(!t.body||!e.body||(this.separate(t.body,e.body,s,n,o)&&(i&&i.call(n,t,e),this._total++),0))},collideSpriteVsGroup:function(t,e,i,s,n,o){if(0!==e.length&&t.body)if(this.skipQuadTree||t.body.skipQuadTree)for(var r={},a=0;a<e.hash.length;a++){var h=e.hash[a];if(h&&h.exists&&h.body){if(r=h.body.getBounds(r),this.sortDirection===N.Physics.Arcade.LEFT_RIGHT){if(t.body.right<r.x)break;if(r.right<t.body.x)continue}else if(this.sortDirection===N.Physics.Arcade.RIGHT_LEFT){if(t.body.x>r.right)break;if(r.x>t.body.right)continue}else if(this.sortDirection===N.Physics.Arcade.TOP_BOTTOM){if(t.body.bottom<r.y)break;if(r.bottom<t.body.y)continue}else if(this.sortDirection===N.Physics.Arcade.BOTTOM_TOP){if(t.body.y>r.bottom)break;if(r.y>t.body.bottom)continue}this.collideSpriteVsSprite(t,h,i,s,n,o)}}else{this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(e);for(var l=this.quadTree.retrieve(t),a=0;a<l.length;a++)this.separate(t.body,l[a],s,n,o)&&(i&&i.call(n,t,l[a].sprite),this._total++)}},collideGroupVsSelf:function(t,e,i,s,n){if(0!==t.length)for(var o=0;o<t.hash.length;o++){var r={},a=t.hash[o];if(a&&a.exists&&a.body)for(var r=a.body.getBounds(r),h=o+1;h<t.hash.length;h++){var l={},c=t.hash[h];if(c&&c.exists&&c.body){if(l=c.body.getBounds(l),this.sortDirection===N.Physics.Arcade.LEFT_RIGHT){if(r.right<l.x)break;if(l.right<r.x)continue}else if(this.sortDirection===N.Physics.Arcade.RIGHT_LEFT){if(r.x>l.right)continue;if(l.x>r.right)break}else if(this.sortDirection===N.Physics.Arcade.TOP_BOTTOM){if(r.bottom<l.y)continue;if(l.bottom<r.y)break}else if(this.sortDirection===N.Physics.Arcade.BOTTOM_TOP){if(r.y>l.bottom)continue;if(l.y>a.body.bottom)break}this.collideSpriteVsSprite(a,c,e,i,s,n)}}}},collideGroupVsGroup:function(t,e,i,s,n,o){if(0!==t.length&&0!==e.length)for(var r=0;r<t.children.length;r++)t.children[r].exists&&(t.children[r].physicsType===N.GROUP?this.collideGroupVsGroup(t.children[r],e,i,s,n,o):this.collideSpriteVsGroup(t.children[r],e,i,s,n,o))},separate:function(t,e,i,s,n){if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(s,t.sprite,e.sprite))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,n);if(t.isCircle!==e.isCircle){i=t.isCircle?e:t,s=(t.isCircle?t:e).center;if((s.y<i.y||i.bottom<s.y)&&(s.x<i.x||i.right<s.x))return this.separateCircle(t,e,n)}i=!1,s=!1,this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(i=this.separateX(t,e,n),this.intersects(t,e)&&(s=this.separateY(t,e,n))):(s=this.separateY(t,e,n),this.intersects(t,e)&&(i=this.separateX(t,e,n))),i=i||s;return i&&(n?(t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite),e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite)):(t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite))),i},intersects:function(t,e){return t!==e&&(t.isCircle?e.isCircle?N.Math.distance(t.center.x,t.center.y,e.center.x,e.center.y)<=t.halfWidth+e.halfWidth:this.circleBodyIntersects(t,e):e.isCircle?this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))},circleBodyIntersects:function(t,e){var i=N.Math.clamp(t.center.x,e.left,e.right),e=N.Math.clamp(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-e)*(t.center.y-e)<=t.halfWidth*t.halfWidth},separateCircle:function(t,e,i){this.getOverlapX(t,e),this.getOverlapY(t,e);var s,n,o,r,a=e.center.x-t.center.x,h=e.center.y-t.center.y,h=Math.atan2(h,a),a=0;return t.isCircle!==e.isCircle?(r={x:(e.isCircle?t:e).position.x,y:(e.isCircle?t:e).position.y,right:(e.isCircle?t:e).right,bottom:(e.isCircle?t:e).bottom},(s={x:(t.isCircle?t:e).center.x,y:(t.isCircle?t:e).center.y,radius:(t.isCircle?t:e).halfWidth}).y<r.y?s.x<r.x?a=N.Math.distance(s.x,s.y,r.x,r.y)-s.radius:r.right<s.x&&(a=N.Math.distance(s.x,s.y,r.right,r.y)-s.radius):r.bottom<s.y&&(s.x<r.x?a=N.Math.distance(s.x,s.y,r.x,r.bottom)-s.radius:r.right<s.x&&(a=N.Math.distance(s.x,s.y,r.right,r.bottom)-s.radius)),a*=-1):a=t.halfWidth+e.halfWidth-N.Math.distance(t.center.x,t.center.y,e.center.x,e.center.y),i||0===a||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX?(0!==a&&(t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite),e.onOverlap)&&e.onOverlap.dispatch(e.sprite,t.sprite),0!==a):(r=t.velocity.x*Math.cos(h)+t.velocity.y*Math.sin(h),s=-t.velocity.x*Math.sin(h)+t.velocity.y*Math.cos(h),i=e.velocity.x*Math.cos(h)+e.velocity.y*Math.sin(h),n=-e.velocity.x*Math.sin(h)+e.velocity.y*Math.cos(h),o=((t.mass-e.mass)*r+2*e.mass*i)/(t.mass+e.mass),r=(2*t.mass*r+(e.mass-t.mass)*i)/(t.mass+e.mass),t.immovable||(t.velocity.x=(o*Math.cos(h)-s*Math.sin(h))*t.bounce.x,t.velocity.y=(s*Math.cos(h)+o*Math.sin(h))*t.bounce.y),e.immovable||(e.velocity.x=(r*Math.cos(h)-n*Math.sin(h))*e.bounce.x,e.velocity.y=(n*Math.cos(h)+r*Math.sin(h))*e.bounce.y),Math.abs(h)<Math.PI/2?0<t.velocity.x&&!t.immovable&&e.velocity.x>t.velocity.x?t.velocity.x*=-1:e.velocity.x<0&&!e.immovable&&t.velocity.x<e.velocity.x?e.velocity.x*=-1:0<t.velocity.y&&!t.immovable&&e.velocity.y>t.velocity.y?t.velocity.y*=-1:e.velocity.y<0&&!e.immovable&&t.velocity.y<e.velocity.y&&(e.velocity.y*=-1):Math.abs(h)>Math.PI/2&&(t.velocity.x<0&&!t.immovable&&e.velocity.x<t.velocity.x?t.velocity.x*=-1:0<e.velocity.x&&!e.immovable&&t.velocity.x>e.velocity.x?e.velocity.x*=-1:t.velocity.y<0&&!t.immovable&&e.velocity.y<t.velocity.y?t.velocity.y*=-1:0<e.velocity.y&&!e.immovable&&t.velocity.x>e.velocity.y&&(e.velocity.y*=-1)),t.immovable||(t.x+=.001*t.velocity.x*this.game.time.delta-a*Math.cos(h),t.y+=.001*t.velocity.y*this.game.time.delta-a*Math.sin(h)),e.immovable||(e.x+=.001*e.velocity.x*this.game.time.delta+a*Math.cos(h),e.y+=.001*e.velocity.y*this.game.time.delta+a*Math.sin(h)),t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite),!0)},getOverlapX:function(t,e,i){var s=0,n=t.deltaAbsX()+e.deltaAbsX()+this.OVERLAP_BIAS;return 0===t.deltaX()&&0===e.deltaX()?(t.embedded=!0,e.embedded=!0):t.deltaX()>e.deltaX()?n<(s=t.right-e.x)&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?s=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0):t.deltaX()<e.deltaX()&&(n<-(s=t.x-e.width-e.x)&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?s=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0)),t.overlapX=s,e.overlapX=s},getOverlapY:function(t,e,i){var s=0,n=t.deltaAbsY()+e.deltaAbsY()+this.OVERLAP_BIAS;return 0===t.deltaY()&&0===e.deltaY()?(t.embedded=!0,e.embedded=!0):t.deltaY()>e.deltaY()?n<(s=t.bottom-e.y)&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?s=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0):t.deltaY()<e.deltaY()&&(n<-(s=t.y-e.bottom)&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?s=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0)),t.overlapY=s,e.overlapY=s},separateX:function(t,e,i){var s,n=this.getOverlapX(t,e,i);return i||0===n||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX?0!==n||t.embedded&&e.embedded:(i=t.velocity.x,s=e.velocity.x,t.immovable||e.immovable?t.immovable?(e.x+=n,e.velocity.x=i-s*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(t.x-=n,t.velocity.x=s-i*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y)):(t.x-=n*=.5,e.x+=n,n=Math.sqrt(s*s*e.mass/t.mass)*(0<s?1:-1),s=Math.sqrt(i*i*t.mass/e.mass)*(0<i?1:-1),s-=i=.5*(n+s),t.velocity.x=i+(n-=i)*t.bounce.x,e.velocity.x=i+s*e.bounce.x),!0)},separateY:function(t,e,i){var s,n=this.getOverlapY(t,e,i);return i||0===n||t.immovable&&e.immovable||t.customSeparateY||e.customSeparateY?0!==n||t.embedded&&e.embedded:(i=t.velocity.y,s=e.velocity.y,t.immovable||e.immovable?t.immovable?(e.y+=n,e.velocity.y=i-s*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(t.y-=n,t.velocity.y=s-i*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x)):(t.y-=n*=.5,e.y+=n,n=Math.sqrt(s*s*e.mass/t.mass)*(0<s?1:-1),s=Math.sqrt(i*i*t.mass/e.mass)*(0<i?1:-1),s-=i=.5*(n+s),t.velocity.y=i+(n-=i)*t.bounce.y,e.velocity.y=i+s*e.bounce.y),!0)},getObjectsUnderPointer:function(t,e,i,s){if(0!==e.length&&t.exists)return this.getObjectsAtLocation(t.x,t.y,e,i,s,t)},getObjectsAtLocation:function(t,e,i,s,n,o){this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(i);for(var i=new N.Rectangle(t,e,1,1),r=[],a=this.quadTree.retrieve(i),h=0;h<a.length;h++)a[h].hitTest(t,e)&&(s&&s.call(n,o,a[h].sprite),r.push(a[h].sprite));return r},moveToObject:function(t,e,i,s){void 0===i&&(i=60),void 0===s&&(s=0);var n=N.Point.angle(e,t);return 0<s&&(i=this.distanceBetween(t,e)/(s/1e3)),t.body.velocity.setToPolar(n,i),n},moveToPointer:function(t,e,i,s){void 0===e&&(e=60),i=i||this.game.input.activePointer,void 0===s&&(s=0);var n=this.angleToPointer(t,i);return 0<s&&(e=this.distanceToPointer(t,i)/(s/1e3)),t.body.velocity.setToPolar(n,e),n},moveToXY:function(t,e,i,s,n){void 0===s&&(s=60),void 0===n&&(n=0);var o=Math.atan2(i-t.y,e-t.x);return 0<n&&(s=this.distanceToXY(t,e,i)/(n/1e3)),t.body.velocity.setToPolar(o,s),o},velocityFromAngle:function(t,e,i){return void 0===e&&(e=60),(i=i||new N.Point).setToPolar(t,e,!0)},velocityFromRotation:function(t,e,i){return void 0===e&&(e=60),(i=i||new N.Point).setToPolar(t,e)},accelerationFromRotation:function(t,e,i){return void 0===e&&(e=60),(i=i||new N.Point).setToPolar(t,e)},accelerateToObject:function(t,e,i,s,n){void 0===i&&(i=60),void 0===s&&(s=1e3),void 0===n&&(n=1e3);e=this.angleBetween(t,e);return t.body.acceleration.setToPolar(e,i),t.body.maxVelocity.setTo(s,n),e},accelerateToPointer:function(t,e,i,s,n){void 0===i&&(i=60),void 0===e&&(e=this.game.input.activePointer),void 0===s&&(s=1e3),void 0===n&&(n=1e3);e=this.angleToPointer(t,e);return t.body.acceleration.setToPolar(e,i),t.body.maxVelocity.setTo(s,n),e},accelerateToXY:function(t,e,i,s,n,o){void 0===s&&(s=60),void 0===n&&(n=1e3),void 0===o&&(o=1e3);e=this.angleToXY(t,e,i);return t.body.acceleration.setTo(e,s),t.body.maxVelocity.setTo(n,o),e},distanceBetween:function(t,e,i,s){var n;return void 0===i&&(i=!1),s=s?(n=t.centerX-e.centerX,t.centerY-e.centerY):i?(n=t.world.x-e.world.x,t.world.y-e.world.y):(n=t.x-e.x,t.y-e.y),Math.sqrt(n*n+s*s)},distanceToXY:function(t,e,i,s){e=(s=void 0===s?!1:s)?t.world.x-e:t.x-e,s=s?t.world.y-i:t.y-i;return Math.sqrt(e*e+s*s)},distanceToPointer:function(t,e,i){void 0===e&&(e=this.game.input.activePointer);var s=(i=void 0===i?!1:i)?t.world.x-e.worldX:t.x-e.worldX,i=i?t.world.y-e.worldY:t.y-e.worldY;return Math.sqrt(s*s+i*i)},closest:function(t,e,i,s){for(var n=1/0,o=null,r=0,a=e.length;r<a;r++){var h=e[r],l=this.distanceBetween(t,h,i,s);l<n&&(o=h,n=l)}return o},farthest:function(t,e,i,s){for(var n=-1,o=null,r=0,a=e.length;r<a;r++){var h=e[r],l=this.distanceBetween(t,h,i,s);n<l&&(o=h,n=l)}return o},angleBetween:function(t,e,i){return(i=void 0===i?!1:i)?N.Point.angle(e.world,t.world):N.Point.angle(e,t)},angleBetweenCenters:function(t,e){var i=e.centerX-t.centerX;return Math.atan2(e.centerY-t.centerY,i)},angleToXY:function(t,e,i,s){return(s=void 0===s?!1:s)?Math.atan2(i-t.world.y,e-t.world.x):Math.atan2(i-t.y,e-t.x)},angleToPointer:function(t,e,i){return void 0===e&&(e=this.game.input.activePointer),(i=void 0===i?!1:i)?Math.atan2(e.worldY-t.world.y,e.worldX-t.world.x):Math.atan2(e.worldY-t.y,e.worldX-t.x)},worldAngleToPointer:function(t,e){return this.angleToPointer(t,e,!0)}},N.Physics.Arcade.Body=function(t){this.sprite=t,this.game=t.game,this.type=N.Physics.ARCADE,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new N.Point,this.position=new N.Point(t.x,t.y),this.prev=new N.Point(this.position.x,this.position.y),this.allowRotation=!0,this.rotation=t.angle,this.preRotation=t.angle,this.width=t.width,this.height=t.height,this.sourceWidth=t.width,this.sourceHeight=t.height,t.texture&&(this.sourceWidth=t.texture.frame.width,this.sourceHeight=t.texture.frame.height),this.halfWidth=Math.abs(t.width/2),this.halfHeight=Math.abs(t.height/2),this.center=new N.Point(t.x+this.halfWidth,t.y+this.halfHeight),this.velocity=new N.Point,this.newVelocity=new N.Point,this.deltaMax=new N.Point,this.acceleration=new N.Point,this.allowDrag=!0,this.drag=new N.Point,this.allowGravity=!0,this.gravity=new N.Point,this.bounce=new N.Point,this.worldBounce=null,this.onWorldBounds=null,this.onCollide=null,this.onOverlap=null,this.maxVelocity=new N.Point(1e4,1e4),this.friction=new N.Point(1,0),this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=N.NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={none:!0,up:!1,down:!1,left:!1,right:!1},this.tilePadding=new N.Point,this.dirty=!1,this.skipQuadTree=!1,this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.moveTimer=0,this.moveDistance=0,this.moveDuration=0,this.moveTarget=null,this.moveEnd=null,this.onMoveComplete=new N.Signal,this.movementCallback=null,this.movementCallbackContext=null,this._reset=!0,this._sx=t.scale.x,this._sy=t.scale.y,this._dx=0,this._dy=0},N.Physics.Arcade.Body.prototype={updateBounds:function(){var t,e;this.syncBounds?((t=this.sprite.getBounds()).ceilAll(),t.width===this.width&&t.height===this.height||(this.width=t.width,this.height=t.height,this._reset=!0)):(t=Math.abs(this.sprite.scale.x),e=Math.abs(this.sprite.scale.y),t===this._sx&&e===this._sy||(this.width=this.sourceWidth*t,this.height=this.sourceHeight*e,this._sx=t,this._sy=e,this._reset=!0)),this._reset&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},preUpdate:function(){this.enable&&!this.game.physics.arcade.isPaused&&(this.dirty=!0,this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.none=!0,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1,this.updateBounds(),this.position.x=this.sprite.world.x-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=this.sprite.world.y-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.updateCenter(),this.rotation=this.sprite.angle,this.preRotation=this.rotation,(this._reset||this.sprite.fresh)&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves&&(this.game.physics.arcade.updateMotion(this),this.newVelocity.set(.001*this.velocity.x*this.game.time.delta,.001*this.velocity.y*this.game.time.delta),this.position.x+=this.newVelocity.x,this.position.y+=this.newVelocity.y,this.updateCenter(),this.position.x===this.prev.x&&this.position.y===this.prev.y||(this.angle=this.velocity.atan()),this.speed=Math.sqrt(this.velocity.x*this.velocity.x+this.velocity.y*this.velocity.y),this.collideWorldBounds)&&this.checkWorldBounds()&&this.onWorldBounds&&this.onWorldBounds.dispatch(this.sprite,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right),this._dx=this.deltaX(),this._dy=this.deltaY(),this._reset=!1)},updateMovement:function(){var t,e=0!==this.overlapX||0!==this.overlapY,i=0<this.moveDuration?(this.moveTimer+=this.game.time.delta,this.moveTimer/this.moveDuration):(this.moveTarget.end.set(this.position.x,this.position.y),this.moveTarget.length/this.moveDistance);return this.movementCallback&&(t=this.movementCallback.call(this.movementCallbackContext,this,this.velocity,i)),!(e||1<=i||void 0!==t&&!0!==t)||(this.stopMovement(1<=i||this.stopVelocityOnCollide&&e),!1)},stopMovement:function(t){this.isMoving&&(this.isMoving=!1,t&&this.velocity.set(0),this.onMoveComplete.dispatch(this.sprite,0!==this.overlapX||0!==this.overlapY))},postUpdate:function(){this.enable&&this.dirty&&(this.isMoving&&this.updateMovement(),this.dirty=!1,this.deltaX()<0?this.facing=N.LEFT:0<this.deltaX()&&(this.facing=N.RIGHT),this.deltaY()<0?this.facing=N.UP:0<this.deltaY()&&(this.facing=N.DOWN),this.moves&&(this._dx=this.deltaX(),this._dy=this.deltaY(),0!==this.deltaMax.x&&0!==this._dx&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:0<this._dx&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),0!==this.deltaMax.y&&0!==this._dy&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:0<this._dy&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.sprite.position.x+=this._dx,this.sprite.position.y+=this._dy,this._reset=!0),this.updateCenter(),this.allowRotation&&(this.sprite.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y)},checkWorldBounds:function(){var t=this.position,e=this.game.physics.arcade.bounds,i=this.game.physics.arcade.checkCollision,s=this.worldBounce?-this.worldBounce.x:-this.bounce.x,n=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return t.x<e.x&&i.left?(t.x=e.x,this.velocity.x*=s,this.blocked.left=!0,this.blocked.none=!1):this.right>e.right&&i.right&&(t.x=e.right-this.width,this.velocity.x*=s,this.blocked.right=!0,this.blocked.none=!1),t.y<e.y&&i.up?(t.y=e.y,this.velocity.y*=n,this.blocked.up=!0,this.blocked.none=!1):this.bottom>e.bottom&&i.down&&(t.y=e.bottom-this.height,this.velocity.y*=n,this.blocked.down=!0,this.blocked.none=!1),!this.blocked.none},moveFrom:function(t,e,i){return 0!==(e=void 0===e?this.speed:e)&&(void 0===i?(s=this.angle,i=this.game.math.radToDeg(s)):s=this.game.math.degToRad(i),this.moveTimer=0,this.moveDuration=t,0===i||180===i?this.velocity.set(Math.cos(s)*e,0):90===i||270===i?this.velocity.set(0,Math.sin(s)*e):this.velocity.setToPolar(s,e),this.isMoving=!0);var s},moveTo:function(t,e,i){var s,t=e/(t/1e3);return 0!=t&&(void 0===i?(s=this.angle,i=this.game.math.radToDeg(s)):s=this.game.math.degToRad(i),e=Math.abs(e),this.moveDuration=0,this.moveDistance=e,null===this.moveTarget&&(this.moveTarget=new N.Line,this.moveEnd=new N.Point),this.moveTarget.fromAngle(this.x,this.y,s,e),this.moveEnd.set(this.moveTarget.end.x,this.moveTarget.end.y),this.moveTarget.setTo(this.x,this.y,this.x,this.y),0===i||180===i?this.velocity.set(Math.cos(s)*t,0):90===i||270===i?this.velocity.set(0,Math.sin(s)*t):this.velocity.setToPolar(s,t),this.isMoving=!0)},setSize:function(t,e,i,s){void 0===i&&(i=this.offset.x),void 0===s&&(s=this.offset.y),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(i,s),this.updateCenter(),this.isCircle=!1,this.radius=0},setCircle:function(t,e,i){void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),0<t?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(e,i),this.updateCenter()):this.isCircle=!1},reset:function(t,e){this.stop(),this.position.x=t-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=e-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.prev.x=this.position.x,this.prev.y=this.position.y,this.rotation=this.sprite.angle,this.preRotation=this.rotation,this.updateBounds(),this.updateCenter()},stop:function(){this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0},getBounds:function(t){return t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom,t},hitTest:function(t,e){return(this.isCircle?N.Circle:N.Rectangle).contains(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return 0<this.deltaX()?this.deltaX():-this.deltaX()},deltaAbsY:function(){return 0<this.deltaY()?this.deltaY():-this.deltaY()},deltaX:function(){return this.position.x-this.prev.x},deltaY:function(){return this.position.y-this.prev.y},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.sprite.parent&&this.sprite.parent instanceof N.Group&&this.sprite.parent.removeFromHash(this.sprite),this.sprite.body=null,this.sprite=null}},Object.defineProperty(N.Physics.Arcade.Body.prototype,"left",{get:function(){return this.position.x}}),Object.defineProperty(N.Physics.Arcade.Body.prototype,"right",{get:function(){return this.position.x+this.width}}),Object.defineProperty(N.Physics.Arcade.Body.prototype,"top",{get:function(){return this.position.y}}),Object.defineProperty(N.Physics.Arcade.Body.prototype,"bottom",{get:function(){return this.position.y+this.height}}),Object.defineProperty(N.Physics.Arcade.Body.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(N.Physics.Arcade.Body.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),N.Physics.Arcade.Body.render=function(t,e,i,s,n){void 0===s&&(s=!0),t.fillStyle=i=i||"rgba(0,255,0,0.4)",t.strokeStyle=i,t.lineWidth=n||1,e.isCircle?(t.beginPath(),t.arc(e.center.x-e.game.camera.x,e.center.y-e.game.camera.y,e.halfWidth,0,2*Math.PI),s?t.fill():t.stroke()):s?t.fillRect(e.position.x-e.game.camera.x,e.position.y-e.game.camera.y,e.width,e.height):t.strokeRect(e.position.x-e.game.camera.x,e.position.y-e.game.camera.y,e.width,e.height)},N.Physics.Arcade.Body.renderBodyInfo=function(t,e){t.line("x: "+e.x.toFixed(2),"y: "+e.y.toFixed(2),"width: "+e.width,"height: "+e.height),t.line("velocity x: "+e.velocity.x.toFixed(2),"y: "+e.velocity.y.toFixed(2),"deltaX: "+e._dx.toFixed(2),"deltaY: "+e._dy.toFixed(2)),t.line("acceleration x: "+e.acceleration.x.toFixed(2),"y: "+e.acceleration.y.toFixed(2),"speed: "+e.speed.toFixed(2),"angle: "+e.angle.toFixed(2)),t.line("gravity x: "+e.gravity.x,"y: "+e.gravity.y,"bounce x: "+e.bounce.x.toFixed(2),"y: "+e.bounce.y.toFixed(2)),t.line("touching left: "+e.touching.left,"right: "+e.touching.right,"up: "+e.touching.up,"down: "+e.touching.down),t.line("blocked left: "+e.blocked.left,"right: "+e.blocked.right,"up: "+e.blocked.up,"down: "+e.blocked.down)},N.Physics.Arcade.Body.prototype.constructor=N.Physics.Arcade.Body,N.Physics.Arcade.TilemapCollision=function(){},N.Physics.Arcade.TilemapCollision.prototype={TILE_BIAS:16,collideSpriteVsTilemapLayer:function(t,e,i,s,n,o){if(t.body){var r=e.getTiles(t.body.position.x-t.body.tilePadding.x-e.getTileOffsetX(),t.body.position.y-t.body.tilePadding.y-e.getTileOffsetY(),t.body.width+t.body.tilePadding.x,t.body.height+t.body.tilePadding.y,!1,!1);if(0!==r.length)for(var a=0;a<r.length;a++)s?s.call(n,t,r[a])&&this.separateTile(a,t.body,r[a],e,o)&&(this._total++,i)&&i.call(n,t,r[a]):this.separateTile(a,t.body,r[a],e,o)&&(this._total++,i)&&i.call(n,t,r[a])}},collideGroupVsTilemapLayer:function(t,e,i,s,n,o){if(0!==t.length)for(var r=0;r<t.children.length;r++)t.children[r].exists&&this.collideSpriteVsTilemapLayer(t.children[r],e,i,s,n,o)},separateTile:function(t,e,i,s,n){if(!e.enable)return!1;var o=s.getTileOffsetX(),r=s.getTileOffsetY();if(!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!1;if(n)return!0;if(i.collisionCallback&&!i.collisionCallback.call(i.collisionCallbackContext,e.sprite,i))return!1;if(void 0!==i.layer.callbacks&&i.layer.callbacks[i.index]&&!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,e.sprite,i))return!1;if(!(i.faceLeft||i.faceRight||i.faceTop||i.faceBottom))return!1;var n=0,a=0,h=0,l=1;if(e.deltaAbsX()>e.deltaAbsY()?h=-1:e.deltaAbsX()<e.deltaAbsY()&&(l=-1),0!==e.deltaX()&&0!==e.deltaY()&&(i.faceLeft||i.faceRight)&&(i.faceTop||i.faceBottom)&&(h=Math.min(Math.abs(e.position.x-o-i.right),Math.abs(e.right-o-i.left)),l=Math.min(Math.abs(e.position.y-r-i.bottom),Math.abs(e.bottom-r-i.top))),h<l){if((i.faceLeft||i.faceRight)&&0!==(n=this.tileCheckX(e,i,s))&&!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!0;(i.faceTop||i.faceBottom)&&(a=this.tileCheckY(e,i,s))}else{if((i.faceTop||i.faceBottom)&&0!==(a=this.tileCheckY(e,i,s))&&!i.intersects(e.position.x-o,e.position.y-r,e.right-o,e.bottom-r))return!0;(i.faceLeft||i.faceRight)&&(n=this.tileCheckX(e,i,s))}return 0!==n||0!==a},tileCheckX:function(t,e,i){var s=0,i=i.getTileOffsetX();return t.deltaX()<0&&!t.blocked.left&&e.collideRight&&t.checkCollision.left?e.faceRight&&t.x-i<e.right&&(s=t.x-i-e.right)<-this.TILE_BIAS&&(s=0):0<t.deltaX()&&!t.blocked.right&&e.collideLeft&&t.checkCollision.right&&e.faceLeft&&t.right-i>e.left&&(s=t.right-i-e.left)>this.TILE_BIAS&&(s=0),0!==s&&(t.customSeparateX?t.overlapX=s:this.processTileSeparationX(t,s)),s},tileCheckY:function(t,e,i){var s=0,i=i.getTileOffsetY();return t.deltaY()<0&&!t.blocked.up&&e.collideDown&&t.checkCollision.up?e.faceBottom&&t.y-i<e.bottom&&(s=t.y-i-e.bottom)<-this.TILE_BIAS&&(s=0):0<t.deltaY()&&!t.blocked.down&&e.collideUp&&t.checkCollision.down&&e.faceTop&&t.bottom-i>e.top&&(s=t.bottom-i-e.top)>this.TILE_BIAS&&(s=0),0!==s&&(t.customSeparateY?t.overlapY=s:this.processTileSeparationY(t,s)),s},processTileSeparationX:function(t,e){e<0?(t.blocked.left=!0,t.blocked.none=!1):0<e&&(t.blocked.right=!0,t.blocked.none=!1),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x},processTileSeparationY:function(t,e){e<0?(t.blocked.up=!0,t.blocked.none=!1):0<e&&(t.blocked.down=!0,t.blocked.none=!1),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},N.Utils.mixinPrototype(N.Physics.Arcade.prototype,N.Physics.Arcade.TilemapCollision.prototype),p2.Body.prototype.parent=null,p2.Spring.prototype.parent=null,N.Physics.P2=function(t,e){this.game=t,void 0===e?e={gravity:[0,0],broadphase:new p2.SAPBroadphase}:(e.hasOwnProperty("gravity")||(e.gravity=[0,0]),e.hasOwnProperty("broadphase")||(e.broadphase=new p2.SAPBroadphase)),this.config=e,this.world=new p2.World(this.config),this.frameRate=1/60,this.useElapsedTime=!1,this.paused=!1,this.materials=[],this.gravity=new N.Physics.P2.InversePointProxy(this,this.world.gravity),this.walls={left:null,right:null,top:null,bottom:null},this.onBodyAdded=new N.Signal,this.onBodyRemoved=new N.Signal,this.onSpringAdded=new N.Signal,this.onSpringRemoved=new N.Signal,this.onConstraintAdded=new N.Signal,this.onConstraintRemoved=new N.Signal,this.onContactMaterialAdded=new N.Signal,this.onContactMaterialRemoved=new N.Signal,this.postBroadphaseCallback=null,this.callbackContext=null,this.onBeginContact=new N.Signal,this.onEndContact=new N.Signal,e.hasOwnProperty("mpx")&&e.hasOwnProperty("pxm")&&e.hasOwnProperty("mpxi")&&e.hasOwnProperty("pxmi")&&(this.mpx=e.mpx,this.mpxi=e.mpxi,this.pxm=e.pxm,this.pxmi=e.pxmi),this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.collisionGroups=[],this.nothingCollisionGroup=new N.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new N.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new N.Physics.P2.CollisionGroup(2147483648),this.boundsCollidesWith=[],this._toRemove=[],this._collisionGroupID=2,this._boundsLeft=!0,this._boundsRight=!0,this._boundsTop=!0,this._boundsBottom=!0,this._boundsOwnGroup=!1,this.setBoundsToWorld(!0,!0,!0,!0,!1)},N.Physics.P2.prototype={removeBodyNextStep:function(t){this._toRemove.push(t)},preUpdate:function(){for(var t=this._toRemove.length;t--;)this.removeBody(this._toRemove[t]);this._toRemove.length=0},enable:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!0);var s=1;if(Array.isArray(t))for(s=t.length;s--;)t[s]instanceof N.Group?this.enable(t[s].children,e,i):(this.enableBody(t[s],e),i&&t[s].hasOwnProperty("children")&&0<t[s].children.length&&this.enable(t[s],e,!0));else t instanceof N.Group?this.enable(t.children,e,i):(this.enableBody(t,e),i&&t.hasOwnProperty("children")&&0<t.children.length&&this.enable(t.children,e,!0))},enableBody:function(t,e){t.hasOwnProperty("body")&&null===t.body&&(t.body=new N.Physics.P2.Body(this.game,t,t.x,t.y,1),t.body.debug=e,void 0!==t.anchor)&&t.anchor.set(.5)},setImpactEvents:function(t){t?this.world.on("impact",this.impactHandler,this):this.world.off("impact",this.impactHandler,this)},setPostBroadphaseCallback:function(t,e){this.postBroadphaseCallback=t,this.callbackContext=e,null!==t?this.world.on("postBroadphase",this.postBroadphaseHandler,this):this.world.off("postBroadphase",this.postBroadphaseHandler,this)},postBroadphaseHandler:function(t){if(this.postBroadphaseCallback&&0!==t.pairs.length)for(var e=t.pairs.length-2;0<=e;e-=2)t.pairs[e].parent&&t.pairs[e+1].parent&&!this.postBroadphaseCallback.call(this.callbackContext,t.pairs[e].parent,t.pairs[e+1].parent)&&t.pairs.splice(e,2)},impactHandler:function(t){var e,i;t.bodyA.parent&&t.bodyB.parent&&(e=t.bodyA.parent,i=t.bodyB.parent,e._bodyCallbacks[t.bodyB.id]&&e._bodyCallbacks[t.bodyB.id].call(e._bodyCallbackContext[t.bodyB.id],e,i,t.shapeA,t.shapeB),i._bodyCallbacks[t.bodyA.id]&&i._bodyCallbacks[t.bodyA.id].call(i._bodyCallbackContext[t.bodyA.id],i,e,t.shapeB,t.shapeA),e._groupCallbacks[t.shapeB.collisionGroup]&&e._groupCallbacks[t.shapeB.collisionGroup].call(e._groupCallbackContext[t.shapeB.collisionGroup],e,i,t.shapeA,t.shapeB),i._groupCallbacks[t.shapeA.collisionGroup])&&i._groupCallbacks[t.shapeA.collisionGroup].call(i._groupCallbackContext[t.shapeA.collisionGroup],i,e,t.shapeB,t.shapeA)},beginContactHandler:function(t){t.bodyA&&t.bodyB&&(this.onBeginContact.dispatch(t.bodyA,t.bodyB,t.shapeA,t.shapeB,t.contactEquations),t.bodyA.parent&&t.bodyA.parent.onBeginContact.dispatch(t.bodyB.parent,t.bodyB,t.shapeA,t.shapeB,t.contactEquations),t.bodyB.parent)&&t.bodyB.parent.onBeginContact.dispatch(t.bodyA.parent,t.bodyA,t.shapeB,t.shapeA,t.contactEquations)},endContactHandler:function(t){t.bodyA&&t.bodyB&&(this.onEndContact.dispatch(t.bodyA,t.bodyB,t.shapeA,t.shapeB),t.bodyA.parent&&t.bodyA.parent.onEndContact.dispatch(t.bodyB.parent,t.bodyB,t.shapeA,t.shapeB),t.bodyB.parent)&&t.bodyB.parent.onEndContact.dispatch(t.bodyA.parent,t.bodyA,t.shapeB,t.shapeA)},setBoundsToWorld:function(t,e,i,s,n){this.setBounds(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,t,e,i,s,n)},setWorldMaterial:function(t,e,i,s,n){void 0===i&&(i=!0),void 0===s&&(s=!0),void 0===n&&(n=!0),(e=void 0===e?!0:e)&&this.walls.left&&(this.walls.left.shapes[0].material=t),i&&this.walls.right&&(this.walls.right.shapes[0].material=t),s&&this.walls.top&&(this.walls.top.shapes[0].material=t),n&&this.walls.bottom&&(this.walls.bottom.shapes[0].material=t)},updateBoundsCollisionGroup:function(t){var e=((t=void 0===t?!0:t)?this.boundsCollisionGroup:this.everythingCollisionGroup).mask;this.walls.left&&(this.walls.left.shapes[0].collisionGroup=e),this.walls.right&&(this.walls.right.shapes[0].collisionGroup=e),this.walls.top&&(this.walls.top.shapes[0].collisionGroup=e),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionGroup=e),this._boundsOwnGroup=t},setBounds:function(t,e,i,s,n,o,r,a,h){void 0===n&&(n=this._boundsLeft),void 0===o&&(o=this._boundsRight),void 0===r&&(r=this._boundsTop),void 0===a&&(a=this._boundsBottom),void 0===h&&(h=this._boundsOwnGroup),this.setupWall(n,"left",t,e,1.5707963267948966,h),this.setupWall(o,"right",t+i,e,-1.5707963267948966,h),this.setupWall(r,"top",t,e,-3.141592653589793,h),this.setupWall(a,"bottom",t,e+s,0,h),this._boundsLeft=n,this._boundsRight=o,this._boundsTop=r,this._boundsBottom=a,this._boundsOwnGroup=h},setupWall:function(t,e,i,s,n,o){t?(this.walls[e]?this.walls[e].position=[this.pxmi(i),this.pxmi(s)]:(this.walls[e]=new p2.Body({mass:0,position:[this.pxmi(i),this.pxmi(s)],angle:n}),this.walls[e].addShape(new p2.Plane),this.world.addBody(this.walls[e])),o&&(this.walls[e].shapes[0].collisionGroup=this.boundsCollisionGroup.mask)):this.walls[e]&&(this.world.removeBody(this.walls[e]),this.walls[e]=null)},pause:function(){this.paused=!0},resume:function(){this.paused=!1},update:function(){this.paused||(this.useElapsedTime?this.world.step(.001*this.game.time.delta):this.world.step(this.frameRate))},reset:function(){this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.nothingCollisionGroup=new N.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new N.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new N.Physics.P2.CollisionGroup(2147483648),this._collisionGroupID=2,this.setBoundsToWorld(!0,!0,!0,!0,!1)},clear:function(){this.world.time=0,this.world.fixedStepTime=0,this.world.solver&&this.world.solver.equations.length&&this.world.solver.removeAllEquations();for(var t=this.world.constraints,e=t.length-1;0<=e;e--)this.world.removeConstraint(t[e]);for(var i=this.world.bodies,e=i.length-1;0<=e;e--)this.world.removeBody(i[e]);var s=this.world.springs;for(e=s.length-1;0<=e;e--)this.world.removeSpring(s[e]);var n=this.world.contactMaterials;for(e=n.length-1;0<=e;e--)this.world.removeContactMaterial(n[e]);this.world.off("beginContact",this.beginContactHandler,this),this.world.off("endContact",this.endContactHandler,this),this.postBroadphaseCallback=null,this.callbackContext=null,this.impactCallback=null,this.collisionGroups=[],this._toRemove=[],this.boundsCollidesWith=[],this.walls={left:null,right:null,top:null,bottom:null}},destroy:function(){this.clear(),this.game=null},addBody:function(t){return!t.data.world&&(this.world.addBody(t.data),this.onBodyAdded.dispatch(t),!0)},removeBody:function(t){return t.data.world===this.world&&(this.world.removeBody(t.data),this.onBodyRemoved.dispatch(t)),t},addSpring:function(t){return t instanceof N.Physics.P2.Spring||t instanceof N.Physics.P2.RotationalSpring?this.world.addSpring(t.data):this.world.addSpring(t),this.onSpringAdded.dispatch(t),t},removeSpring:function(t){return t instanceof N.Physics.P2.Spring||t instanceof N.Physics.P2.RotationalSpring?this.world.removeSpring(t.data):this.world.removeSpring(t),this.onSpringRemoved.dispatch(t),t},createDistanceConstraint:function(t,e,i,s,n,o){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new N.Physics.P2.DistanceConstraint(this,t,e,i,s,n,o));console.warn("Cannot create Constraint, invalid body objects given")},createGearConstraint:function(t,e,i,s){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new N.Physics.P2.GearConstraint(this,t,e,i,s));console.warn("Cannot create Constraint, invalid body objects given")},createRevoluteConstraint:function(t,e,i,s,n,o){if(t=this.getBody(t),i=this.getBody(i),t&&i)return this.addConstraint(new N.Physics.P2.RevoluteConstraint(this,t,e,i,s,n,o));console.warn("Cannot create Constraint, invalid body objects given")},createLockConstraint:function(t,e,i,s,n){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new N.Physics.P2.LockConstraint(this,t,e,i,s,n));console.warn("Cannot create Constraint, invalid body objects given")},createPrismaticConstraint:function(t,e,i,s,n,o,r){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new N.Physics.P2.PrismaticConstraint(this,t,e,i,s,n,o,r));console.warn("Cannot create Constraint, invalid body objects given")},addConstraint:function(t){return this.world.addConstraint(t),this.onConstraintAdded.dispatch(t),t},removeConstraint:function(t){return this.world.removeConstraint(t),this.onConstraintRemoved.dispatch(t),t},addContactMaterial:function(t){return this.world.addContactMaterial(t),this.onContactMaterialAdded.dispatch(t),t},removeContactMaterial:function(t){return this.world.removeContactMaterial(t),this.onContactMaterialRemoved.dispatch(t),t},getContactMaterial:function(t,e){return this.world.getContactMaterial(t,e)},setMaterial:function(t,e){for(var i=e.length;i--;)e[i].setMaterial(t)},createMaterial:function(t,e){t=new N.Physics.P2.Material(t=t||"");return this.materials.push(t),void 0!==e&&e.setMaterial(t),t},createContactMaterial:function(t,e,i){void 0===t&&(t=this.createMaterial()),void 0===e&&(e=this.createMaterial());t=new N.Physics.P2.ContactMaterial(t,e,i);return this.addContactMaterial(t)},getBodies:function(){for(var t=[],e=this.world.bodies.length;e--;)t.push(this.world.bodies[e].parent);return t},getBody:function(t){return t instanceof p2.Body?t:t instanceof N.Physics.P2.Body?t.data:t.body&&t.body.type===N.Physics.P2JS?t.body.data:null},getSprings:function(){for(var t=[],e=this.world.springs.length;e--;)t.push(this.world.springs[e].parent);return t},getConstraints:function(){for(var t=[],e=this.world.constraints.length;e--;)t.push(this.world.constraints[e]);return t},hitTest:function(t,e,i,s){void 0===e&&(e=this.world.bodies),void 0===i&&(i=5),void 0===s&&(s=!1);for(var t=[this.pxmi(t.x),this.pxmi(t.y)],n=[],o=e.length;o--;)e[o]instanceof N.Physics.P2.Body&&(!s||e[o].data.type!==p2.Body.STATIC)?n.push(e[o].data):e[o]instanceof p2.Body&&e[o].parent&&(!s||e[o].type!==p2.Body.STATIC)?n.push(e[o]):e[o]instanceof N.Sprite&&e[o].hasOwnProperty("body")&&(!s||e[o].body.data.type!==p2.Body.STATIC)&&n.push(e[o].body.data);return this.world.hitTest(t,n,i)},toJSON:function(){return this.world.toJSON()},createCollisionGroup:function(t){var e=Math.pow(2,this._collisionGroupID),e=(this.walls.left&&(this.walls.left.shapes[0].collisionMask=this.walls.left.shapes[0].collisionMask|e),this.walls.right&&(this.walls.right.shapes[0].collisionMask=this.walls.right.shapes[0].collisionMask|e),this.walls.top&&(this.walls.top.shapes[0].collisionMask=this.walls.top.shapes[0].collisionMask|e),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionMask=this.walls.bottom.shapes[0].collisionMask|e),this._collisionGroupID++,new N.Physics.P2.CollisionGroup(e));return this.collisionGroups.push(e),t&&this.setCollisionGroup(t,e),e},setCollisionGroup:function(t,e){if(t instanceof N.Group)for(var i=0;i<t.total;i++)t.children[i].body&&t.children[i].body.type===N.Physics.P2JS&&t.children[i].body.setCollisionGroup(e);else t.body.setCollisionGroup(e)},createSpring:function(t,e,i,s,n,o,r,a,h){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addSpring(new N.Physics.P2.Spring(this,t,e,i,s,n,o,r,a,h));console.warn("Cannot create Spring, invalid body objects given")},createRotationalSpring:function(t,e,i,s,n){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addSpring(new N.Physics.P2.RotationalSpring(this,t,e,i,s,n));console.warn("Cannot create Rotational Spring, invalid body objects given")},createBody:function(t,e,i,s,n,o){void 0===s&&(s=!1);t=new N.Physics.P2.Body(this.game,null,t,e,i);return!(o&&!t.addPolygon(n,o))&&(s&&this.world.addBody(t.data),t)},createParticle:function(t,e,i,s,n,o){void 0===s&&(s=!1);t=new N.Physics.P2.Body(this.game,null,t,e,i);return!(o&&!t.addPolygon(n,o))&&(s&&this.world.addBody(t.data),t)},convertCollisionObjects:function(t,e,i){void 0===i&&(i=!0);for(var s=[],n=0,o=t.collision[e].length;n<o;n++){var r,a=t.collision[e][n],h=a.polyline||a.polygon;h?r=this.createBody(a.x,a.y,0,i,{},h):a.rectangle&&(r=this.createBody(a.x,a.y,0,i)).addRectangle(a.width,a.height,a.width/2,a.height/2),r&&s.push(r)}return s},clearTilemapLayerBodies:function(t,e){e=t.getLayer(e);for(var i=t.layers[e].bodies.length;i--;)t.layers[e].bodies[i].destroy();t.layers[e].bodies.length=0},convertTilemap:function(t,e,i,s){e=t.getLayer(e),void 0===i&&(i=!0),void 0===s&&(s=!0),this.clearTilemapLayerBodies(t,e);for(var n=0,o=0,r=0,a=0,h=t.layers[e].height;a<h;a++)for(var l=n=0,c=t.layers[e].width;l<c;l++){var u,d,p=t.layers[e].data[a][l];p&&-1<p.index&&p.collides&&(s?(u=t.getTileRight(e,l,a),0===n&&(o=p.x*p.width,r=p.y*p.height,n=p.width),u&&u.collides?n+=p.width:((d=this.createBody(o,r,0,!1)).addRectangle(n,p.height,n/2,p.height/2,0),i&&this.addBody(d),t.layers[e].bodies.push(d),n=0)):((d=this.createBody(p.x*p.width,p.y*p.height,0,!1)).addRectangle(p.width,p.height,p.width/2,p.height/2,0),i&&this.addBody(d),t.layers[e].bodies.push(d)))}return t.layers[e].bodies},mpx:function(t){return 20*t},pxm:function(t){return.05*t},mpxi:function(t){return-20*t},pxmi:function(t){return-.05*t}},Object.defineProperty(N.Physics.P2.prototype,"friction",{get:function(){return this.world.defaultContactMaterial.friction},set:function(t){this.world.defaultContactMaterial.friction=t}}),Object.defineProperty(N.Physics.P2.prototype,"restitution",{get:function(){return this.world.defaultContactMaterial.restitution},set:function(t){this.world.defaultContactMaterial.restitution=t}}),Object.defineProperty(N.Physics.P2.prototype,"contactMaterial",{get:function(){return this.world.defaultContactMaterial},set:function(t){this.world.defaultContactMaterial=t}}),Object.defineProperty(N.Physics.P2.prototype,"applySpringForces",{get:function(){return this.world.applySpringForces},set:function(t){this.world.applySpringForces=t}}),Object.defineProperty(N.Physics.P2.prototype,"applyDamping",{get:function(){return this.world.applyDamping},set:function(t){this.world.applyDamping=t}}),Object.defineProperty(N.Physics.P2.prototype,"applyGravity",{get:function(){return this.world.applyGravity},set:function(t){this.world.applyGravity=t}}),Object.defineProperty(N.Physics.P2.prototype,"solveConstraints",{get:function(){return this.world.solveConstraints},set:function(t){this.world.solveConstraints=t}}),Object.defineProperty(N.Physics.P2.prototype,"time",{get:function(){return this.world.time}}),Object.defineProperty(N.Physics.P2.prototype,"emitImpactEvent",{get:function(){return this.world.emitImpactEvent},set:function(t){this.world.emitImpactEvent=t}}),Object.defineProperty(N.Physics.P2.prototype,"sleepMode",{get:function(){return this.world.sleepMode},set:function(t){this.world.sleepMode=t}}),Object.defineProperty(N.Physics.P2.prototype,"total",{get:function(){return this.world.bodies.length}}),N.Physics.P2.FixtureList=function(t){Array.isArray(t)||(t=[t]),this.rawList=t,this.init(),this.parse(this.rawList)},N.Physics.P2.FixtureList.prototype={init:function(){this.namedFixtures={},this.groupedFixtures=[],this.allFixtures=[]},setCategory:function(e,t){this.getFixtures(t).forEach(function(t){t.collisionGroup=e})},setMask:function(e,t){this.getFixtures(t).forEach(function(t){t.collisionMask=e})},setSensor:function(e,t){this.getFixtures(t).forEach(function(t){t.sensor=e})},setMaterial:function(e,t){this.getFixtures(t).forEach(function(t){t.material=e})},getFixtures:function(t){var e,i=[];return t?(t instanceof Array||(t=[t]),e=this,t.forEach(function(t){e.namedFixtures[t]&&i.push(e.namedFixtures[t])}),this.flatten(i)):this.allFixtures},getFixtureByKey:function(t){return this.namedFixtures[t]},getGroup:function(t){return this.groupedFixtures[t]},parse:function(){var t,e,i,s=[];for(t in i=this.rawList)e=i[t],isNaN(+t)?this.namedFixtures[t]=this.flatten(e):(this.groupedFixtures[t]=this.groupedFixtures[t]||[],this.groupedFixtures[t]=this.groupedFixtures[t].concat(e)),s.push(this.allFixtures=this.flatten(this.groupedFixtures))},flatten:function(t){var e=[],i=arguments.callee;return t.forEach(function(t){return Array.prototype.push.apply(e,Array.isArray(t)?i(t):[t])}),e}},N.Physics.P2.PointProxy=function(t,e){this.world=t,this.destination=e},N.Physics.P2.PointProxy.prototype.constructor=N.Physics.P2.PointProxy,Object.defineProperty(N.Physics.P2.PointProxy.prototype,"x",{get:function(){return this.world.mpx(this.destination[0])},set:function(t){this.destination[0]=this.world.pxm(t)}}),Object.defineProperty(N.Physics.P2.PointProxy.prototype,"y",{get:function(){return this.world.mpx(this.destination[1])},set:function(t){this.destination[1]=this.world.pxm(t)}}),Object.defineProperty(N.Physics.P2.PointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(t){this.destination[0]=t}}),Object.defineProperty(N.Physics.P2.PointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(t){this.destination[1]=t}}),N.Physics.P2.InversePointProxy=function(t,e){this.world=t,this.destination=e},N.Physics.P2.InversePointProxy.prototype.constructor=N.Physics.P2.InversePointProxy,Object.defineProperty(N.Physics.P2.InversePointProxy.prototype,"x",{get:function(){return this.world.mpxi(this.destination[0])},set:function(t){this.destination[0]=this.world.pxmi(t)}}),Object.defineProperty(N.Physics.P2.InversePointProxy.prototype,"y",{get:function(){return this.world.mpxi(this.destination[1])},set:function(t){this.destination[1]=this.world.pxmi(t)}}),Object.defineProperty(N.Physics.P2.InversePointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(t){this.destination[0]=-t}}),Object.defineProperty(N.Physics.P2.InversePointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(t){this.destination[1]=-t}}),N.Physics.P2.Body=function(t,e,i,s,n){e=e||null,i=i||0,s=s||0,void 0===n&&(n=1),this.game=t,this.world=t.physics.p2,this.sprite=e,this.type=N.Physics.P2JS,this.offset=new N.Point,this.data=new p2.Body({position:[this.world.pxmi(i),this.world.pxmi(s)],mass:n}),(this.data.parent=this).velocity=new N.Physics.P2.InversePointProxy(this.world,this.data.velocity),this.force=new N.Physics.P2.InversePointProxy(this.world,this.data.force),this.gravity=new N.Point,this.onBeginContact=new N.Signal,this.onEndContact=new N.Signal,this.collidesWith=[],this.removeNextStep=!1,this.debugBody=null,this.dirty=!1,this._collideWorldBounds=!0,this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this._reset=!1,e&&(this.setRectangleFromSprite(e),e.exists)&&this.game.physics.p2.addBody(this)},N.Physics.P2.Body.prototype={createBodyCallback:function(t,e,i){var s=-1;t.id?s=t.id:t.body&&(s=t.body.id),-1<s&&(null===e?(delete this._bodyCallbacks[s],delete this._bodyCallbackContext[s]):(this._bodyCallbacks[s]=e,this._bodyCallbackContext[s]=i))},createGroupCallback:function(t,e,i){null===e?(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]):(this._groupCallbacks[t.mask]=e,this._groupCallbackContext[t.mask]=i)},getCollisionMask:function(){var t=0;this._collideWorldBounds&&(t=this.game.physics.p2.boundsCollisionGroup.mask);for(var e=0;e<this.collidesWith.length;e++)t|=this.collidesWith[e].mask;return t},updateCollisionMask:function(t){var e=this.getCollisionMask();if(void 0===t)for(var i=this.data.shapes.length-1;0<=i;i--)this.data.shapes[i].collisionMask=e;else t.collisionMask=e},setCollisionGroup:function(t,e){var i=this.getCollisionMask();if(void 0===e)for(var s=this.data.shapes.length-1;0<=s;s--)this.data.shapes[s].collisionGroup=t.mask,this.data.shapes[s].collisionMask=i;else e.collisionGroup=t.mask,e.collisionMask=i},clearCollision:function(t,e,i){if(void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i)for(var s=this.data.shapes.length-1;0<=s;s--)t&&(this.data.shapes[s].collisionGroup=null),e&&(this.data.shapes[s].collisionMask=null);else t&&(i.collisionGroup=null),e&&(i.collisionMask=null);t&&(this.collidesWith.length=0)},removeCollisionGroup:function(t,e,i){var s;if(void 0===e&&(e=!0),Array.isArray(t))for(var n=0;n<t.length;n++)-1<(s=this.collidesWith.indexOf(t[n]))&&(this.collidesWith.splice(s,1),e)&&(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]);else-1<(s=this.collidesWith.indexOf(t))&&(this.collidesWith.splice(s,1),e)&&(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]);var o=this.getCollisionMask();if(void 0===i)for(n=this.data.shapes.length-1;0<=n;n--)this.data.shapes[n].collisionMask=o;else i.collisionMask=o},collides:function(t,e,i,s){if(Array.isArray(t))for(var n=0;n<t.length;n++)-1===this.collidesWith.indexOf(t[n])&&(this.collidesWith.push(t[n]),e)&&this.createGroupCallback(t[n],e,i);else-1===this.collidesWith.indexOf(t)&&(this.collidesWith.push(t),e)&&this.createGroupCallback(t,e,i);var o=this.getCollisionMask();if(void 0===s)for(n=this.data.shapes.length-1;0<=n;n--)this.data.shapes[n].collisionMask=o;else s.collisionMask=o},adjustCenterOfMass:function(){this.data.adjustCenterOfMass(),this.shapeChanged()},getVelocityAtPoint:function(t,e){return this.data.getVelocityAtPoint(t,e)},applyDamping:function(t){this.data.applyDamping(t)},applyImpulse:function(t,e,i){this.data.applyImpulse(t,[this.world.pxmi(e),this.world.pxmi(i)])},applyImpulseLocal:function(t,e,i){this.data.applyImpulseLocal(t,[this.world.pxmi(e),this.world.pxmi(i)])},applyForce:function(t,e,i){this.data.applyForce(t,[this.world.pxmi(e),this.world.pxmi(i)])},setZeroForce:function(){this.data.setZeroForce()},setZeroRotation:function(){this.data.angularVelocity=0},setZeroVelocity:function(){this.data.velocity[0]=0,this.data.velocity[1]=0},setZeroDamping:function(){this.data.damping=0,this.data.angularDamping=0},toLocalFrame:function(t,e){return this.data.toLocalFrame(t,e)},toWorldFrame:function(t,e){return this.data.toWorldFrame(t,e)},rotateLeft:function(t){this.data.angularVelocity=this.world.pxm(-t)},rotateRight:function(t){this.data.angularVelocity=this.world.pxm(t)},moveForward:function(t){var t=this.world.pxmi(-t),e=this.data.angle+Math.PI/2;this.data.velocity[0]=t*Math.cos(e),this.data.velocity[1]=t*Math.sin(e)},moveBackward:function(t){var t=this.world.pxmi(-t),e=this.data.angle+Math.PI/2;this.data.velocity[0]=-t*Math.cos(e),this.data.velocity[1]=-t*Math.sin(e)},thrust:function(t){var t=this.world.pxmi(-t),e=this.data.angle+Math.PI/2;this.data.force[0]+=t*Math.cos(e),this.data.force[1]+=t*Math.sin(e)},thrustLeft:function(t){var t=this.world.pxmi(-t),e=this.data.angle;this.data.force[0]+=t*Math.cos(e),this.data.force[1]+=t*Math.sin(e)},thrustRight:function(t){var t=this.world.pxmi(-t),e=this.data.angle;this.data.force[0]-=t*Math.cos(e),this.data.force[1]-=t*Math.sin(e)},reverse:function(t){var t=this.world.pxmi(-t),e=this.data.angle+Math.PI/2;this.data.force[0]-=t*Math.cos(e),this.data.force[1]-=t*Math.sin(e)},moveLeft:function(t){this.data.velocity[0]=this.world.pxmi(-t)},moveRight:function(t){this.data.velocity[0]=this.world.pxmi(t)},moveUp:function(t){this.data.velocity[1]=this.world.pxmi(-t)},moveDown:function(t){this.data.velocity[1]=this.world.pxmi(t)},preUpdate:function(){this.dirty=!0,this.removeNextStep&&(this.removeFromWorld(),this.removeNextStep=!1)},postUpdate:function(){this.sprite.x=this.world.mpxi(this.data.position[0])+this.offset.x,this.sprite.y=this.world.mpxi(this.data.position[1])+this.offset.y,this.fixedRotation||(this.sprite.rotation=this.data.angle),this.debugBody&&this.debugBody.updateSpriteTransform(),this.dirty=!1},reset:function(t,e,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1),this.setZeroForce(),this.setZeroVelocity(),this.setZeroRotation(),i&&this.setZeroDamping(),s&&(this.mass=1),this.x=t,this.y=e},addToWorld:function(){if(this.game.physics.p2._toRemove)for(var t=0;t<this.game.physics.p2._toRemove.length;t++)this.game.physics.p2._toRemove[t]===this&&this.game.physics.p2._toRemove.splice(t,1);this.data.world!==this.game.physics.p2.world&&this.game.physics.p2.addBody(this)},removeFromWorld:function(){this.data.world===this.game.physics.p2.world&&this.game.physics.p2.removeBodyNextStep(this)},destroy:function(){this.removeFromWorld(),this.clearShapes(),this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this.debugBody&&this.debugBody.destroy(!0,!0),this.debugBody=null,this.sprite&&(this.sprite.body=null,this.sprite=null)},clearShapes:function(){for(var t=this.data.shapes.length;t--;)this.data.removeShape(this.data.shapes[t]);this.shapeChanged()},addShape:function(t,e,i,s){return void 0===i&&(i=0),void 0===s&&(s=0),this.data.addShape(t,[this.world.pxmi(e=void 0===e?0:e),this.world.pxmi(i)],s),this.shapeChanged(),t},addCircle:function(t,e,i,s){t=new p2.Circle({radius:this.world.pxm(t)});return this.addShape(t,e,i,s)},addRectangle:function(t,e,i,s,n){t=new p2.Box({width:this.world.pxm(t),height:this.world.pxm(e)});return this.addShape(t,i,s,n)},addPlane:function(t,e,i){var s=new p2.Plane;return this.addShape(s,t,e,i)},addParticle:function(t,e,i){var s=new p2.Particle;return this.addShape(s,t,e,i)},addLine:function(t,e,i,s){t=new p2.Line({length:this.world.pxm(t)});return this.addShape(t,e,i,s)},addCapsule:function(t,e,i,s,n){t=new p2.Capsule({length:this.world.pxm(t),radius:this.world.pxm(e)});return this.addShape(t,i,s,n)},addPolygon:function(t,e){t=t||{};var i=[];if(1===(e=Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).length&&Array.isArray(e[0]))i=e[0].slice(0);else if(Array.isArray(e[0]))i=e.slice();else if("number"==typeof e[0])for(var s=0,n=e.length;s<n;s+=2)i.push([e[s],e[s+1]]);var o=i.length-1;i[o][0]===i[0][0]&&i[o][1]===i[0][1]&&i.pop();for(var r=0;r<i.length;r++)i[r][0]=this.world.pxmi(i[r][0]),i[r][1]=this.world.pxmi(i[r][1]);o=this.data.fromPolygon(i,t);return this.shapeChanged(),o},removeShape:function(t){t=this.data.removeShape(t);return this.shapeChanged(),t},setCircle:function(t,e,i,s){return this.clearShapes(),this.addCircle(t,e,i,s)},setRectangle:function(t,e,i,s,n){return void 0===t&&(t=16),void 0===e&&(e=16),this.clearShapes(),this.addRectangle(t,e,i,s,n)},setRectangleFromSprite:function(t){return void 0===t&&(t=this.sprite),this.clearShapes(),this.addRectangle(t.width,t.height,0,0,t.rotation)},setMaterial:function(t,e){if(void 0===e)for(var i=this.data.shapes.length-1;0<=i;i--)this.data.shapes[i].material=t;else e.material=t},shapeChanged:function(){this.debugBody&&this.debugBody.draw()},addPhaserPolygon:function(t,e){for(var i=this.game.cache.getPhysicsData(t,e),s=[],n=0;n<i.length;n++){var o=i[n],r=this.addFixture(o);s[o.filter.group]=s[o.filter.group]||[],s[o.filter.group]=s[o.filter.group].concat(r),o.fixtureKey&&(s[o.fixtureKey]=r)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),s},addFixture:function(t){var e=[];if(t.circle){(l=new p2.Circle({radius:this.world.pxm(t.circle.radius)})).collisionGroup=t.filter.categoryBits,l.collisionMask=t.filter.maskBits,l.sensor=t.isSensor;var i=p2.vec2.create();i[0]=this.world.pxmi(t.circle.position[0]-this.sprite.width/2),i[1]=this.world.pxmi(t.circle.position[1]-this.sprite.height/2),this.data.addShape(l,i),e.push(l)}else for(var s=t.polygons,n=p2.vec2.create(),o=0;o<s.length;o++){for(var r=s[o],a=[],h=0;h<r.length;h+=2)a.push([this.world.pxmi(r[h]),this.world.pxmi(r[h+1])]);for(var l=new p2.Convex({vertices:a}),c=0;c!==l.vertices.length;c++){var u=l.vertices[c];p2.vec2.sub(u,u,l.centerOfMass)}p2.vec2.scale(n,l.centerOfMass,1),n[0]-=this.world.pxmi(this.sprite.width/2),n[1]-=this.world.pxmi(this.sprite.height/2),l.updateTriangles(),l.updateCenterOfMass(),l.updateBoundingRadius(),l.collisionGroup=t.filter.categoryBits,l.collisionMask=t.filter.maskBits,l.sensor=t.isSensor,this.data.addShape(l,n),e.push(l)}return e},loadPolygon:function(t,e,i){var s=null===t?e:this.game.cache.getPhysicsData(t,e);"number"!=typeof i&&(i=1);for(var n=p2.vec2.create(),o=0;o<s.length;o++){for(var r=[],a=0;a<s[o].shape.length;a+=2)r.push([this.world.pxmi(s[o].shape[a]*i),this.world.pxmi(s[o].shape[a+1]*i)]);for(var h=new p2.Convex({vertices:r}),l=0;l!==h.vertices.length;l++){var c=h.vertices[l];p2.vec2.sub(c,c,h.centerOfMass)}p2.vec2.scale(n,h.centerOfMass,1),n[0]-=this.world.pxmi(this.sprite.width/2),n[1]-=this.world.pxmi(this.sprite.height/2),h.updateTriangles(),h.updateCenterOfMass(),h.updateBoundingRadius(),this.data.addShape(h,n)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),!0}},N.Physics.P2.Body.prototype.constructor=N.Physics.P2.Body,N.Physics.P2.Body.DYNAMIC=1,N.Physics.P2.Body.STATIC=2,N.Physics.P2.Body.KINEMATIC=4,Object.defineProperty(N.Physics.P2.Body.prototype,"static",{get:function(){return this.data.type===N.Physics.P2.Body.STATIC},set:function(t){t&&this.data.type!==N.Physics.P2.Body.STATIC?(this.data.type=N.Physics.P2.Body.STATIC,this.mass=0):t||this.data.type!==N.Physics.P2.Body.STATIC||(this.data.type=N.Physics.P2.Body.DYNAMIC,this.mass=1)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"dynamic",{get:function(){return this.data.type===N.Physics.P2.Body.DYNAMIC},set:function(t){t&&this.data.type!==N.Physics.P2.Body.DYNAMIC?(this.data.type=N.Physics.P2.Body.DYNAMIC,this.mass=1):t||this.data.type!==N.Physics.P2.Body.DYNAMIC||(this.data.type=N.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"kinematic",{get:function(){return this.data.type===N.Physics.P2.Body.KINEMATIC},set:function(t){t&&this.data.type!==N.Physics.P2.Body.KINEMATIC?(this.data.type=N.Physics.P2.Body.KINEMATIC,this.mass=4):t||this.data.type!==N.Physics.P2.Body.KINEMATIC||(this.data.type=N.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"allowSleep",{get:function(){return this.data.allowSleep},set:function(t){t!==this.data.allowSleep&&(this.data.allowSleep=t)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"angle",{get:function(){return N.Math.wrapAngle(N.Math.radToDeg(this.data.angle))},set:function(t){this.data.angle=N.Math.degToRad(N.Math.wrapAngle(t))}}),Object.defineProperty(N.Physics.P2.Body.prototype,"angularDamping",{get:function(){return this.data.angularDamping},set:function(t){this.data.angularDamping=t}}),Object.defineProperty(N.Physics.P2.Body.prototype,"angularForce",{get:function(){return this.data.angularForce},set:function(t){this.data.angularForce=t}}),Object.defineProperty(N.Physics.P2.Body.prototype,"angularVelocity",{get:function(){return this.data.angularVelocity},set:function(t){this.data.angularVelocity=t}}),Object.defineProperty(N.Physics.P2.Body.prototype,"damping",{get:function(){return this.data.damping},set:function(t){this.data.damping=t}}),Object.defineProperty(N.Physics.P2.Body.prototype,"fixedRotation",{get:function(){return this.data.fixedRotation},set:function(t){t!==this.data.fixedRotation&&(this.data.fixedRotation=t)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"inertia",{get:function(){return this.data.inertia},set:function(t){this.data.inertia=t}}),Object.defineProperty(N.Physics.P2.Body.prototype,"mass",{get:function(){return this.data.mass},set:function(t){t!==this.data.mass&&(this.data.mass=t,this.data.updateMassProperties())}}),Object.defineProperty(N.Physics.P2.Body.prototype,"motionState",{get:function(){return this.data.type},set:function(t){t!==this.data.type&&(this.data.type=t)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"rotation",{get:function(){return this.data.angle},set:function(t){this.data.angle=t}}),Object.defineProperty(N.Physics.P2.Body.prototype,"sleepSpeedLimit",{get:function(){return this.data.sleepSpeedLimit},set:function(t){this.data.sleepSpeedLimit=t}}),Object.defineProperty(N.Physics.P2.Body.prototype,"x",{get:function(){return this.world.mpxi(this.data.position[0])},set:function(t){this.data.position[0]=this.world.pxmi(t)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"y",{get:function(){return this.world.mpxi(this.data.position[1])},set:function(t){this.data.position[1]=this.world.pxmi(t)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"id",{get:function(){return this.data.id}}),Object.defineProperty(N.Physics.P2.Body.prototype,"debug",{get:function(){return null!==this.debugBody},set:function(t){t&&!this.debugBody?this.debugBody=new N.Physics.P2.BodyDebug(this.game,this.data):!t&&this.debugBody&&(this.debugBody.destroy(),this.debugBody=null)}}),Object.defineProperty(N.Physics.P2.Body.prototype,"collideWorldBounds",{get:function(){return this._collideWorldBounds},set:function(t){t&&!this._collideWorldBounds?(this._collideWorldBounds=!0,this.updateCollisionMask()):!t&&this._collideWorldBounds&&(this._collideWorldBounds=!1,this.updateCollisionMask())}}),N.Physics.P2.BodyDebug=function(t,e,i){N.Group.call(this,t);var s={pixelsPerLengthUnit:t.physics.p2.mpx(1),debugPolygons:!1,lineWidth:1,alpha:.5};this.settings=Object.assign(s,i),this.ppu=this.settings.pixelsPerLengthUnit,this.ppu=-1*this.ppu,this.body=e,this.canvas=new N.Graphics(t),this.canvas.alpha=this.settings.alpha,this.add(this.canvas),this.draw(),this.updateSpriteTransform()},N.Physics.P2.BodyDebug.prototype=Object.create(N.Group.prototype),N.Physics.P2.BodyDebug.prototype.constructor=N.Physics.P2.BodyDebug,Object.assign(N.Physics.P2.BodyDebug.prototype,{updateSpriteTransform:function(){this.position.x=this.body.position[0]*this.ppu,this.position.y=this.body.position[1]*this.ppu,this.rotation=this.body.angle},draw:function(){var t,e,i,s,n,o,r,a,h,l,c,u,d,p=this.body;if((a=this.canvas).clear(),i=parseInt(this.randomPastelHex(),16),n=16711680,o=this.lineWidth,p instanceof p2.Body&&p.shapes.length)for(var f=p.shapes.length,g=0;g!==f;){if(r=(e=p.shapes[g]).position||0,t=e.angle||0,e instanceof p2.Circle)this.drawCircle(a,r[0]*this.ppu,r[1]*this.ppu,t,e.radius*this.ppu,i,o);else if(e instanceof p2.Capsule)this.drawCapsule(a,r[0]*this.ppu,r[1]*this.ppu,t,e.length*this.ppu,e.radius*this.ppu,n,i,o);else if(e instanceof p2.Plane)this.drawPlane(a,r[0]*this.ppu,-r[1]*this.ppu,i,n,5*o,10*o,10*o,100*this.ppu,t);else if(e instanceof p2.Line)this.drawLine(a,e.length*this.ppu,n,o);else if(e instanceof p2.Box)this.drawRectangle(a,r[0]*this.ppu,r[1]*this.ppu,t,e.width*this.ppu,e.height*this.ppu,n,i,o);else if(e instanceof p2.Convex){for(l=[],c=p2.vec2.create(),s=u=0,d=e.vertices.length;0<=d?u<d:d<u;s=0<=d?++u:--u)h=e.vertices[s],p2.vec2.rotate(c,h,t),l.push([(c[0]+r[0])*this.ppu,-(c[1]+r[1])*this.ppu]);this.drawConvex(a,l,e.triangles,n,i,o,this.settings.debugPolygons,[r[0]*this.ppu,-r[1]*this.ppu])}g++}},drawRectangle:function(t,e,i,s,n,o,r,a,h){t.lineStyle(h=void 0===h?1:h,r=void 0===r?0:r,1),t.beginFill(a),t.drawRect(e-n/2,i-o/2,n,o)},drawCircle:function(t,e,i,s,n,o,r){void 0===o&&(o=16777215),t.lineStyle(r=void 0===r?1:r,0,1),t.beginFill(o,1),t.drawCircle(e,i,2*-n),t.endFill(),t.moveTo(e,i),t.lineTo(e+n*Math.cos(-s),i+n*Math.sin(-s))},drawLine:function(t,e,i,s){t.lineStyle(5*(s=void 0===s?1:s),i=void 0===i?0:i,1),t.moveTo(-e/2,0),t.lineTo(e/2,0)},drawConvex:function(t,e,i,s,n,o,r,a){var h,l,c,u,d,p,f,g;if(void 0===o&&(o=1),void 0===s&&(s=0),r){for(h=[16711680,65280,255],l=0;l!==e.length+1;)u=(f=e[l%e.length])[0],f=f[1],d=(g=e[(l+1)%e.length])[0],g=g[1],t.lineStyle(o,h[l%h.length],1),t.moveTo(u,-f),t.lineTo(d,-g),t.drawCircle(u,-f,2*o),l++;return t.lineStyle(o,0,1),t.drawCircle(a[0],a[1],2*o)}for(t.lineStyle(o,s,1),t.beginFill(n),l=0;l!==e.length;)c=(p=e[l])[0],p=p[1],0===l?t.moveTo(c,-p):t.lineTo(c,-p),l++;if(t.endFill(),2<e.length)return t.moveTo(e[e.length-1][0],-e[e.length-1][1]),t.lineTo(e[0][0],-e[0][1])},drawPath:function(t,e,i,s,n){var o,r,a,h,l,c,u,d;for(t.lineStyle(n=void 0===n?1:n,i=void 0===i?0:i,1),"number"==typeof s&&t.beginFill(s),a=r=null,o=0;o<e.length;)u=(d=e[o])[0],d=d[1],u===r&&d===a||(0===o?t.moveTo(u,d):(h=r,l=a,c=e[(o+1)%e.length][0],0!=(u-h)*(e[(o+1)%e.length][1]-l)-(c-h)*(d-l)&&t.lineTo(u,d)),r=u,a=d),o++;"number"==typeof s&&t.endFill(),2<e.length&&"number"==typeof s&&(t.moveTo(e[e.length-1][0],e[e.length-1][1]),t.lineTo(e[0][0],e[0][1]))},drawPlane:function(t,e,i,s,n,o,r,a,h,l){void 0===s&&(s=16777215),t.lineStyle(o=void 0===o?1:o,n,11),t.beginFill(s),t.moveTo(e,-i),o=e+Math.cos(l)*this.game.width,n=i+Math.sin(l)*this.game.height,t.lineTo(o,-n),t.moveTo(e,-i),o=e+Math.cos(l)*-this.game.width,n=i+Math.sin(l)*-this.game.height,t.lineTo(o,-n)},drawCapsule:function(t,e,i,s,n,o,r,a,h){t.lineStyle(h=void 0===h?1:h,r=void 0===r?0:r,1);var l=Math.cos(s),s=Math.sin(s);t.beginFill(a,1),t.drawCircle(-n/2*l+e,-n/2*s+i,2*-o),t.drawCircle(n/2*l+e,n/2*s+i,2*-o),t.endFill(),t.lineStyle(h,r,0),t.beginFill(a,1),t.moveTo(-n/2*l+o*s+e,-n/2*s+o*l+i),t.lineTo(n/2*l+o*s+e,n/2*s+o*l+i),t.lineTo(n/2*l-o*s+e,n/2*s-o*l+i),t.lineTo(-n/2*l-o*s+e,-n/2*s-o*l+i),t.endFill(),t.lineStyle(h,r,1),t.moveTo(-n/2*l+o*s+e,-n/2*s+o*l+i),t.lineTo(n/2*l+o*s+e,n/2*s+o*l+i),t.moveTo(-n/2*l-o*s+e,-n/2*s-o*l+i),t.lineTo(n/2*l-o*s+e,n/2*s-o*l+i)},randomPastelHex:function(){var t=[255,255,255],e=Math.floor(256*Math.random()),i=Math.floor(256*Math.random()),s=Math.floor(256*Math.random());return e=Math.floor((e+3*t[0])/4),i=Math.floor((i+3*t[1])/4),s=Math.floor((s+3*t[2])/4),this.rgbToHex(e,i,s)},rgbToHex:function(t,e,i){return this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(i)},componentToHex:function(t){return 2===(t=t.toString(16)).length?t:t+"0"}}),N.Physics.P2.Spring=function(t,e,i,s,n,o,r,a,h,l){this.game=t.game,void 0===s&&(s=1),void 0===n&&(n=100),void 0===o&&(o=1);s={restLength:s=(this.world=t).pxm(s),stiffness:n,damping:o};null!=r&&(s.worldAnchorA=[t.pxm(r[0]),t.pxm(r[1])]),null!=a&&(s.worldAnchorB=[t.pxm(a[0]),t.pxm(a[1])]),null!=h&&(s.localAnchorA=[t.pxm(h[0]),t.pxm(h[1])]),null!=l&&(s.localAnchorB=[t.pxm(l[0]),t.pxm(l[1])]),this.data=new p2.LinearSpring(e,i,s),this.data.parent=this},N.Physics.P2.Spring.prototype.constructor=N.Physics.P2.Spring,N.Physics.P2.RotationalSpring=function(t,e,i,s,n,o){this.game=t.game,this.world=t,void 0===n&&(n=100),void 0===o&&(o=1),s=(s=void 0===s?null:s)&&t.pxm(s),this.data=new p2.RotationalSpring(e,i,{restAngle:s,stiffness:n,damping:o}),this.data.parent=this},N.Physics.P2.Spring.prototype.constructor=N.Physics.P2.Spring,N.Physics.P2.Material=function(t){this.name=t,p2.Material.call(this)},N.Physics.P2.Material.prototype=Object.create(p2.Material.prototype),N.Physics.P2.Material.prototype.constructor=N.Physics.P2.Material,N.Physics.P2.ContactMaterial=function(t,e,i){p2.ContactMaterial.call(this,t,e,i)},N.Physics.P2.ContactMaterial.prototype=Object.create(p2.ContactMaterial.prototype),N.Physics.P2.ContactMaterial.prototype.constructor=N.Physics.P2.ContactMaterial,N.Physics.P2.CollisionGroup=function(t){this.mask=t},N.Physics.P2.DistanceConstraint=function(t,e,i,s,n,o,r){void 0===s&&(s=100),void 0===n&&(n=[0,0]),void 0===o&&(o=[0,0]),void 0===r&&(r=Number.MAX_VALUE),this.game=t.game;s={distance:s=(this.world=t).pxm(s),localAnchorA:n=[t.pxmi(n[0]),t.pxmi(n[1])],localAnchorB:o=[t.pxmi(o[0]),t.pxmi(o[1])],maxForce:r};p2.DistanceConstraint.call(this,e,i,s)},N.Physics.P2.DistanceConstraint.prototype=Object.create(p2.DistanceConstraint.prototype),N.Physics.P2.DistanceConstraint.prototype.constructor=N.Physics.P2.DistanceConstraint,N.Physics.P2.GearConstraint=function(t,e,i,s,n){void 0===s&&(s=0),void 0===n&&(n=1),this.game=t.game,this.world=t,p2.GearConstraint.call(this,e,i,{angle:s,ratio:n})},N.Physics.P2.GearConstraint.prototype=Object.create(p2.GearConstraint.prototype),N.Physics.P2.GearConstraint.prototype.constructor=N.Physics.P2.GearConstraint,N.Physics.P2.LockConstraint=function(t,e,i,s,n,o){void 0===s&&(s=[0,0]),void 0===n&&(n=0),void 0===o&&(o=Number.MAX_VALUE),this.game=t.game;t={localOffsetB:s=[(this.world=t).pxm(s[0]),t.pxm(s[1])],localAngleB:n,maxForce:o};p2.LockConstraint.call(this,e,i,t)},N.Physics.P2.LockConstraint.prototype=Object.create(p2.LockConstraint.prototype),N.Physics.P2.LockConstraint.prototype.constructor=N.Physics.P2.LockConstraint,N.Physics.P2.PrismaticConstraint=function(t,e,i,s,n,o,r,a){void 0===s&&(s=!0),void 0===n&&(n=[0,0]),void 0===o&&(o=[0,0]),void 0===r&&(r=[0,0]),void 0===a&&(a=Number.MAX_VALUE),this.game=t.game;n={localAnchorA:n=[(this.world=t).pxmi(n[0]),t.pxmi(n[1])],localAnchorB:o=[t.pxmi(o[0]),t.pxmi(o[1])],localAxisA:r,maxForce:a,disableRotationalLock:!s};p2.PrismaticConstraint.call(this,e,i,n)},N.Physics.P2.PrismaticConstraint.prototype=Object.create(p2.PrismaticConstraint.prototype),N.Physics.P2.PrismaticConstraint.prototype.constructor=N.Physics.P2.PrismaticConstraint,N.Physics.P2.RevoluteConstraint=function(t,e,i,s,n,o,r){void 0===o&&(o=Number.MAX_VALUE),void 0===r&&(r=null),this.game=t.game,i=[(this.world=t).pxmi(i[0]),t.pxmi(i[1])],n=[t.pxmi(n[0]),t.pxmi(n[1])],r=r&&[t.pxmi(r[0]),t.pxmi(r[1])],p2.RevoluteConstraint.call(this,e,s,{worldPivot:r,localPivotA:i,localPivotB:n,maxForce:o})},N.Physics.P2.RevoluteConstraint.prototype=Object.create(p2.RevoluteConstraint.prototype),N.Physics.P2.RevoluteConstraint.prototype.constructor=N.Physics.P2.RevoluteConstraint,N.ImageCollection=function(t,e,i,s,n,o,r){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===o&&(o=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|s,this.imageMargin=0|n,this.imageSpacing=0|o,this.properties=r||{},this.images=[],this.total=0},N.ImageCollection.prototype={containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){this.images.push({gid:t,image:e}),this.total++}},N.ImageCollection.prototype.constructor=N.ImageCollection,N.Tile=function(t,e,i,s,n,o){this.layer=t,this.index=e,this.x=i,this.y=s,this.rotation=0,this.flipped=!1,this.worldX=i*n,this.worldY=s*o,this.width=n,this.height=o,this.centerX=Math.abs(n/2),this.centerY=Math.abs(o/2),this.alpha=1,this.properties={},this.scanned=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.collisionCallback=null,(this.collisionCallbackContext=this).debug=!1},N.Tile.prototype={containsPoint:function(t,e){return!(t<this.worldX||e<this.worldY||t>this.right||e>this.bottom)},intersects:function(t,e,i,s){return!(i<=this.worldX||s<=this.worldY||t>=this.worldX+this.width||e>=this.worldY+this.height)},setCollisionCallback:function(t,e){this.collisionCallback=t,this.collisionCallbackContext=e},destroy:function(){this.collisionCallback=null,this.collisionCallbackContext=null,this.properties=null},setCollision:function(t,e,i,s){this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=s,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=s},resetCollision:function(){this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1},isInteresting:function(t,e){return t&&e?this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.faceTop||this.faceBottom||this.faceLeft||this.faceRight||this.collisionCallback:t?this.collideLeft||this.collideRight||this.collideUp||this.collideDown:!!e&&(this.faceTop||this.faceBottom||this.faceLeft||this.faceRight)},copy:function(t){this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext}},N.Tile.prototype.constructor=N.Tile,Object.defineProperty(N.Tile.prototype,"collides",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}}),Object.defineProperty(N.Tile.prototype,"canCollide",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}}),Object.defineProperty(N.Tile.prototype,"left",{get:function(){return this.worldX}}),Object.defineProperty(N.Tile.prototype,"right",{get:function(){return this.worldX+this.width}}),Object.defineProperty(N.Tile.prototype,"top",{get:function(){return this.worldY}}),Object.defineProperty(N.Tile.prototype,"bottom",{get:function(){return this.worldY+this.height}}),N.Tilemap=function(t,e,i,s,n,o){this.game=t,this.key=e;t=N.TilemapParser.parse(this.game,e,i,s,n,o);null!==t&&(this.width=t.width,this.height=t.height,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.orientation=t.orientation,this.format=t.format,this.version=t.version,this.properties=t.properties,this.widthInPixels=t.widthInPixels,this.heightInPixels=t.heightInPixels,this.layers=t.layers,this.tilesets=t.tilesets,this.imagecollections=t.imagecollections,this.tiles=t.tiles,this.objects=t.objects,this.objectsMap=t.objectsMap,this.collideIndexes=[],this.collision=t.collision,this.images=t.images,this.enableDebug=!1,this.currentLayer=0,this.debugMap=[],this._results=[],this._tempA=0,this._tempB=0)},N.Tilemap.CSV=0,N.Tilemap.TILED_JSON=1,N.Tilemap.NORTH=0,N.Tilemap.EAST=1,N.Tilemap.SOUTH=2,N.Tilemap.WEST=3,N.Tilemap.prototype={create:function(t,e,i,s,n,o){return void 0===o&&(o=this.game.world),this.width=e,this.height=i,this.setTileSize(s,n),this.layers.length=0,this.createBlankLayer(t,e,i,s,n,o)},setTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e},addTilesetImage:function(t,e,i,s,n,o,r){if(void 0===t)return null;void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),0===(i=void 0===i?this.tileWidth:i)&&(i=32),0===(s=void 0===s?this.tileHeight:s)&&(s=32);var a=null;if(null==e&&(e=t),N.BitmapData&&e instanceof N.BitmapData)a=e.canvas;else{if(!this.game.cache.checkImageKey(e))return console.warn('Phaser.Tilemap.addTilesetImage: Invalid image key given: "'+e+'"'),null;a=this.game.cache.getImage(e)}e=this.getTilesetIndex(t);if(null===e&&this.format===N.Tilemap.TILED_JSON)return console.warn('Phaser.Tilemap.addTilesetImage: No data found in the JSON matching the tileset name: "'+t+'"'),console.log("Tilesets: ",this.tilesets),null;if(this.tilesets[e])return this.tilesets[e].setImage(a),this.tilesets[e];var h=new N.Tileset(t,r,i,s,n,o,{});h.setImage(a),this.tilesets.push(h);for(var l=this.tilesets.length-1,c=n,u=n,d=0,p=0,f=0,g=r;g<r+h.total&&(this.tiles[g]=[c,u,l],c+=i+o,++d!==h.total)&&(++p!==h.columns||(c=n,u+=s+o,p=0,++f!==h.rows));g++);return h},createFromObjects:function(t,e,i,s,n,o,r,a,h,l){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=this.game.world),void 0===a&&(a=N.Sprite),void 0===h&&(h=!0),void 0===l&&(l=!0);var c=this.objects[t];if(c){var u=[],d=[],p=typeof e;"number"==p?this.getObjects(t,"gid",e,u):"string"==p?this.getObjects(t,"name",e,u):Array.isArray(e)?this.getObjects(t,e[0],e[1],u):null===e&&(u=c);for(var f=0;f<u.length;f++){var g,m=u[f],y=new a(this.game,parseFloat(m.x),parseFloat(m.y),i,s),v=(y.name=m.name,y.autoCull=o,y.exists=n,y.visible=m.visible,l&&(m.width&&(y.width=m.width),m.height)&&(y.height=m.height),m.rotation&&(y.angle=m.rotation),h&&m.gid&&(y.y-=y.height),null!==r&&r.add(y),m.properties);for(g in v)N.Utils.setProperty(y,g,v[g]);d.push(y)}return d}console.warn("Tilemap.createFromObjects: Invalid object layer name given: "+t),console.log("Object layers: ",this.objects)},createFromTiles:function(t,e,i,s,n,o){"number"==typeof t&&(t=[t]),null==e?e=[]:"number"==typeof e&&(e=[e]),s=this.getLayer(s),void 0===n&&(n=this.game.world),void 0===(o=void 0===o?{}:o).customClass&&(o.customClass=N.Sprite),void 0===o.adjustY&&(o.adjustY=!0);var r=this.layers[s].width,a=this.layers[s].height;if(this.copy(0,0,r,a,s),this._results.length<2)return 0;for(var h,l=0,c=1,u=this._results.length;c<u;c++)if(-1!==t.indexOf(this._results[c].index)){for(var d in h=new o.customClass(this.game,this._results[c].worldX,this._results[c].worldY,i),o)h[d]=o[d];n.add(h),l++}if(1===e.length)for(c=0;c<t.length;c++)this.replace(t[c],e[0],0,0,r,a,s);else if(1<e.length)for(c=0;c<t.length;c++)this.replace(t[c],e[c],0,0,r,a,s);return l},createLayer:function(t,e,i,s){void 0===e&&(e=this.game.width),void 0===i&&(i=this.game.height),void 0===s&&(s=this.game.world);var n=t;if(!(null===(n="string"==typeof t?this.getLayerIndex(t):n)||n>this.layers.length))return void 0===e||e<=0?e=Math.min(this.game.width,this.layers[n].widthInPixels):e>this.game.width&&(e=this.game.width),void 0===i||i<=0?i=Math.min(this.game.height,this.layers[n].heightInPixels):i>this.game.height&&(i=this.game.height),this.enableDebug&&(console.group("Tilemap.createLayer"),console.log("Name:",this.layers[n].name),console.log("Size:",e,"x",i),console.log("Tileset:",this.tilesets[0].name,"index:",n)),s=s.add(new N.TilemapLayer(this.game,this,n,e,i)),this.enableDebug&&console.groupEnd(),s;console.warn('Tilemap.createLayer: Invalid layer ID given: "'+t+'"'),console.log("Layers: ",this.layers)},createBlankLayer:function(t,e,i,s,n,o){if(void 0===o&&(o=this.game.world),null===this.getLayerIndex(t)){for(var r={name:t,x:0,y:0,width:e,height:i,widthInPixels:e*s,heightInPixels:i*n,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:null},a=[],h=0;h<i;h++){for(var l=[],c=0;c<e;c++)l.push(new N.Tile(r,-1,c,h,s,n));a.push(l)}r.data=a,this.layers.push(r),this.currentLayer=this.layers.length-1;var u=r.widthInPixels,d=r.heightInPixels;return u>this.game.width&&(u=this.game.width),d>this.game.height&&(d=this.game.height),(a=new N.TilemapLayer(this.game,this,this.layers.length-1,u,d)).name=t,o.add(a)}console.warn("Tilemap.createBlankLayer: Layer with matching name already exists: "+t)},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayerIndex:function(t){return this.getIndex(this.layers,t)},getObject:function(t){return this.objectsMap[t]||null},getObjects:function(t,e,i,s){var n=this.objects[t],o=n.length;void 0===s&&(s=[]);for(var r=0;r<o;r++){var a=n[r];a[e]===i&&s.push(a)}return s},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},getImageIndex:function(t){return this.getIndex(this.images,t)},setTileIndexCallback:function(t,e,i,s){if(s=this.getLayer(s),"number"==typeof t)null===e?delete this.layers[s].callbacks[t]:this.layers[s].callbacks[t]={callback:e,callbackContext:i};else for(var n=0,o=t.length;n<o;n++)null===e?delete this.layers[s].callbacks[t[n]]:this.layers[s].callbacks[t[n]]={callback:e,callbackContext:i}},setTileLocationCallback:function(t,e,i,s,n,o,r){if(r=this.getLayer(r),this.copy(t,e,i,s,r),!(this._results.length<2))for(var a=1;a<this._results.length;a++)this._results[a].setCollisionCallback(n,o)},setCollision:function(t,e,i,s){if(void 0===e&&(e=!0),void 0===s&&(s=!0),i=this.getLayer(i),"number"==typeof t)return this.setCollisionByIndex(t,e,i,!0);if(Array.isArray(t)){for(var n=0;n<t.length;n++)this.setCollisionByIndex(t[n],e,i,!1);s&&this.calculateFaces(i)}},setCollisionBetween:function(t,e,i,s,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),s=this.getLayer(s),!(e<t)){for(var o=t;o<=e;o++)this.setCollisionByIndex(o,i,s,!1);n&&this.calculateFaces(s)}},setCollisionByExclusion:function(t,e,i,s){void 0===e&&(e=!0),void 0===s&&(s=!0),i=this.getLayer(i);for(var n=0,o=this.tiles.length;n<o;n++)-1===t.indexOf(n)&&this.setCollisionByIndex(n,e,i,!1);s&&this.calculateFaces(i)},setCollisionByIndex:function(t,e,i,s){var n;void 0===i&&(i=this.currentLayer),void 0===s&&(s=!0),(e=void 0===e||e)?this.collideIndexes.push(t):-1<(n=this.collideIndexes.indexOf(t))&&this.collideIndexes.splice(n,1);for(var o=0;o<this.layers[i].height;o++)for(var r=0;r<this.layers[i].width;r++){var a=this.layers[i].data[o][r];a&&a.index===t&&(e?a.setCollision(!0,!0,!0,!0):a.resetCollision(),a.faceTop=e,a.faceBottom=e,a.faceLeft=e,a.faceRight=e)}return s&&this.calculateFaces(i),i},getLayer:function(t){var e;return void 0===t?t=this.currentLayer:"string"==typeof t?(e=t,null===(t=this.getLayerIndex(t))&&console.warn("No such layer name: "+e)):t instanceof N.TilemapLayer&&(t=t.index),t},setPreventRecalculate:function(t){if(!0===t&&!0!==this.preventingRecalculate&&(this.preventingRecalculate=!0,this.needToRecalculate={}),!1===t&&!0===this.preventingRecalculate){for(var e in this.preventingRecalculate=!1,this.needToRecalculate)this.calculateFaces(e);this.needToRecalculate=!1}},calculateFaces:function(t){if(this.preventingRecalculate)this.needToRecalculate[t]=!0;else for(var e,i,s,n,o=0,r=this.layers[t].height;o<r;o++)for(var a=0,h=this.layers[t].width;a<h;a++){var l=this.layers[t].data[o][a];l&&(e=this.getTileAbove(t,a,o),i=this.getTileBelow(t,a,o),s=this.getTileLeft(t,a,o),n=this.getTileRight(t,a,o),l.collides&&(l.faceTop=!0,l.faceBottom=!0,l.faceLeft=!0,l.faceRight=!0),e&&e.collides&&(l.faceTop=!1),i&&i.collides&&(l.faceBottom=!1),s&&s.collides&&(l.faceLeft=!1),n)&&n.collides&&(l.faceRight=!1)}},getTileAbove:function(t,e,i){return 0<i?this.layers[t].data[i-1][e]:null},getTileBelow:function(t,e,i){return i<this.layers[t].height-1?this.layers[t].data[i+1][e]:null},getTileLeft:function(t,e,i){return 0<e?this.layers[t].data[i][e-1]:null},getTileRight:function(t,e,i){return e<this.layers[t].width-1?this.layers[t].data[i][e+1]:null},setLayer:function(t){t=this.getLayer(t),this.layers[t]&&(this.currentLayer=t)},hasTile:function(t,e,i){return i=this.getLayer(i),void 0!==this.layers[i].data[e]&&void 0!==this.layers[i].data[e][t]&&-1<this.layers[i].data[e][t].index},removeTile:function(t,e,i){var s;if(i=this.getLayer(i),0<=t&&t<this.layers[i].width&&0<=e&&e<this.layers[i].height&&this.hasTile(t,e,i))return s=this.layers[i].data[e][t],this.layers[i].data[e][t]=new N.Tile(this.layers[i],-1,t,e,this.tileWidth,this.tileHeight),this.layers[i].dirty=!0,this.calculateFaces(i),s},removeTileWorldXY:function(t,e,i,s,n){return n=this.getLayer(n),t=this.game.math.snapToFloor(t,i)/i,e=this.game.math.snapToFloor(e,s)/s,this.removeTile(t,e,n)},putTile:function(t,e,i,s){return null===t?this.removeTile(e,i,s):(s=this.getLayer(s),0<=e&&e<this.layers[s].width&&0<=i&&i<this.layers[s].height?(t instanceof N.Tile?(n=t.index,this.hasTile(e,i,s)?this.layers[s].data[i][e].copy(t):this.layers[s].data[i][e]=new N.Tile(s,n,e,i,t.width,t.height)):(n=t,this.hasTile(e,i,s)?this.layers[s].data[i][e].index=n:this.layers[s].data[i][e]=new N.Tile(this.layers[s],n,e,i,this.tileWidth,this.tileHeight)),-1<this.collideIndexes.indexOf(n)?this.layers[s].data[i][e].setCollision(!0,!0,!0,!0):this.layers[s].data[i][e].resetCollision(),this.layers[s].dirty=!0,this.calculateFaces(s),this.layers[s].data[i][e]):null);var n},putTileWorldXY:function(t,e,i,s,n,o){return o=this.getLayer(o),e=this.game.math.snapToFloor(e,s)/s,i=this.game.math.snapToFloor(i,n)/n,this.putTile(t,e,i,o)},searchTileIndex:function(t,e,i,s,n){void 0===e&&(e=0),void 0===i&&(i=!1),s=this.getLayer(s);var o,r,a=0,h=this.layers[s].height,l=this.layers[s].width,c=this.layers[s].data;if(n&&(r=[]),i){for(var u=h-1;0<=u;u--)for(var d=c[u],p=l-1;0<=p;p--)if((o=d[p]).index===t)if(e<=a){if(!n)return o;r.push(o)}else a++}else for(u=0;u<h;u++)for(d=c[u],p=0;p<l;p++)if((o=d[p]).index===t)if(e<=a){if(!n)return o;r.push(o)}else a++;return n?r:null},getTile:function(t,e,i,s){return void 0===s&&(s=!1),i=this.getLayer(i),0<=t&&t<this.layers[i].width&&0<=e&&e<this.layers[i].height&&(-1!==this.layers[i].data[e][t].index||s)?this.layers[i].data[e][t]:null},getTileWorldXY:function(t,e,i,s,n,o){return void 0===i&&(i=this.tileWidth),void 0===s&&(s=this.tileHeight),n=this.getLayer(n),t=this.game.math.snapToFloor(t,i)/i,e=this.game.math.snapToFloor(e,s)/s,this.getTile(t,e,n,o)},copy:function(t,e,i,s,n){if(n=this.getLayer(n),this.layers[n]){void 0===i&&(i=this.layers[n].width),void 0===s&&(s=this.layers[n].height),(t=void 0===t?0:t)<0&&(t=0),(e=void 0===e?0:e)<0&&(e=0),i>this.layers[n].width&&(i=this.layers[n].width),s>this.layers[n].height&&(s=this.layers[n].height),this._results.length=0,this._results.push({x:t,y:e,width:i,height:s,layer:n});for(var o=e;o<e+s;o++)for(var r=t;r<t+i;r++)this._results.push(this.layers[n].data[o][r]);return this._results}this._results.length=0},paste:function(t,e,i,s){if(void 0===t&&(t=0),void 0===e&&(e=0),s=this.getLayer(s),i&&!(i.length<2)){for(var n=t-i[1].x,o=e-i[1].y,r=1;r<i.length;r++)this.layers[s].data[o+i[r].y][n+i[r].x].copy(i[r]);this.layers[s].dirty=!0,this.calculateFaces(s)}},swap:function(t,e,i,s,n,o,r){r=this.getLayer(r),this.copy(i,s,n,o,r),this._results.length<2||(this._tempA=t,this._tempB=e,this._results.forEach(this.swapHandler,this),this.paste(i,s,this._results,r))},swapHandler:function(t){t.index===this._tempA?t.index=this._tempB:t.index===this._tempB&&(t.index=this._tempA)},forEach:function(t,e,i,s,n,o,r){r=this.getLayer(r),this.copy(i,s,n,o,r),this._results.length<2||(this._results.forEach(t,e),this.paste(i,s,this._results,r))},replace:function(t,e,i,s,n,o,r){if(r=this.getLayer(r),this.copy(i,s,n,o,r),!(this._results.length<2)){for(var a=1;a<this._results.length;a++)this._results[a].index===t&&(this._results[a].index=e);this.paste(i,s,this._results,r)}},random:function(t,e,i,s,n){if(n=this.getLayer(n),this.copy(t,e,i,s,n),!(this._results.length<2)){for(var o,r=[],a=1;a<this._results.length;a++)this._results[a].index&&(o=this._results[a].index,-1===r.indexOf(o))&&r.push(o);for(var h=1;h<this._results.length;h++)this._results[h].index=this.game.rnd.pick(r);this.paste(t,e,this._results,n)}},shuffle:function(t,e,i,s,n){if(n=this.getLayer(n),this.copy(t,e,i,s,n),!(this._results.length<2)){for(var o=[],r=1;r<this._results.length;r++)this._results[r].index&&o.push(this._results[r].index);N.ArrayUtils.shuffle(o);for(var a=1;a<this._results.length;a++)this._results[a].index=o[a-1];this.paste(t,e,this._results,n)}},fill:function(t,e,i,s,n,o){if(o=this.getLayer(o),this.copy(e,i,s,n,o),!(this._results.length<2)){for(var r=1;r<this._results.length;r++)this._results[r].index=t;this.paste(e,i,this._results,o)}},removeAllLayers:function(){this.layers.length=0,this.currentLayer=0},dump:function(){for(var t="",e=[""],i=0;i<this.layers[this.currentLayer].height;i++){for(var s=0;s<this.layers[this.currentLayer].width;s++)t+="%c  ",1<this.layers[this.currentLayer].data[i][s]?this.debugMap[this.layers[this.currentLayer].data[i][s]]?e.push("background: "+this.debugMap[this.layers[this.currentLayer].data[i][s]]):e.push("background: #ffffff"):e.push("background: rgb(0, 0, 0)");t+="\n"}e[0]=t,console.log.apply(console,e)},destroy:function(){this.removeAllLayers(),this.data=[],this.game=null}},N.Tilemap.prototype.constructor=N.Tilemap,Object.defineProperty(N.Tilemap.prototype,"layer",{get:function(){return this.layers[this.currentLayer]},set:function(t){t!==this.currentLayer&&this.setLayer(t)}}),N.TilemapLayer=function(t,e,i,s,n){s|=0,n|=0,N.Sprite.call(this,t,0,0),this.map=e,this.index=i,this.layer=e.layers[i],this.canvas=N.CanvasPool.create(this,s,n),this.context=this.canvas.getContext("2d"),this.setTexture(new PIXI.Texture(new PIXI.BaseTexture(this.canvas,null,this.game.resolution))),this.type=N.TILEMAPLAYER,this.physicsType=N.TILEMAPLAYER,this.renderSettings={enableScrollDelta:!0,overdrawRatio:.2,copyCanvas:null},this.debug=!1,this.exists=!0,this.debugSettings={missingImageFill:"rgb(255,255,255)",debuggedTileOverfill:"rgba(0,255,0,0.4)",forceFullRedraw:!0,debugAlpha:.5,facingEdgeStroke:"rgba(0,255,0,1)",collidingTileOverfill:"rgba(0,255,0,0.2)"},this.scrollFactorX=1,this.scrollFactorY=1,this.dirty=!0,this.rayStepRate=4,this._wrap=!1,this._mc={scrollX:0,scrollY:0,renderWidth:0,renderHeight:0,tileWidth:e.tileWidth,tileHeight:e.tileHeight,cw:e.tileWidth,ch:e.tileHeight,tilesets:[]},this._scrollX=0,this._scrollY=0,this.tileOffset=new N.Point(this.layer.offsetX||0,this.layer.offsetY||0),this._results=[],t.device.canvasBitBltShift||(this.renderSettings.copyCanvas=N.TilemapLayer.ensureSharedCopyCanvas()),this.fixedToCamera=!0},N.TilemapLayer.prototype=Object.create(N.Sprite.prototype),N.TilemapLayer.prototype.constructor=N.TilemapLayer,N.TilemapLayer.prototype.preUpdateCore=N.Component.Core.preUpdate,N.TilemapLayer.sharedCopyCanvas=null,N.TilemapLayer.ensureSharedCopyCanvas=function(){return this.sharedCopyCanvas||(this.sharedCopyCanvas=N.CanvasPool.create(this,2,2)),this.sharedCopyCanvas},N.TilemapLayer.prototype.preUpdate=function(){return this.preUpdateCore()},N.TilemapLayer.prototype.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y},N.TilemapLayer.prototype._renderCanvas=function(t){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderCanvas.call(this,t)},N.TilemapLayer.prototype._renderWebGL=function(t){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=(this.game.camera.view.x-this.tileOffset.x)*this.scrollFactorX/this.scale.x,this._scrollY=(this.game.camera.view.y-this.tileOffset.y)*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderWebGL.call(this,t)},N.TilemapLayer.prototype.destroy=function(){N.CanvasPool.remove(this),N.Component.Destroy.prototype.destroy.call(this)},N.TilemapLayer.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e,this.texture.frame.resize(t,e),this.texture.width=t,this.texture.height=e,this.texture.crop.width=t,this.texture.crop.height=e,this.texture.baseTexture.width=t,this.texture.baseTexture.height=e,this.texture.baseTexture.dirty(),this.texture.requiresUpdate=!0,this.texture._updateUvs(),this.dirty=!0},N.TilemapLayer.prototype.resizeWorld=function(){this.game.world.setBounds(0,0,this.layer.widthInPixels*this.scale.x,this.layer.heightInPixels*this.scale.y)},N.TilemapLayer.prototype.getTileOffsetX=function(){return this.tileOffset.x||(this.fixedToCamera?0:this.position.x)},N.TilemapLayer.prototype.getTileOffsetY=function(){return this.tileOffset.y||(this.fixedToCamera?0:this.position.y)},N.TilemapLayer.prototype._fixX=function(t){return 1===this.scrollFactorX||0===this.scrollFactorX&&0===this.position.x?t:0===this.scrollFactorX&&0!==this.position.x?t-this.position.x:this._scrollX+(t-this._scrollX/this.scrollFactorX)},N.TilemapLayer.prototype._unfixX=function(t){return 1===this.scrollFactorX?t:this._scrollX/this.scrollFactorX+(t-this._scrollX)},N.TilemapLayer.prototype._fixY=function(t){return 1===this.scrollFactorY||0===this.scrollFactorY&&0===this.position.y?t:0===this.scrollFactorY&&0!==this.position.y?t-this.position.y:this._scrollY+(t-this._scrollY/this.scrollFactorY)},N.TilemapLayer.prototype._unfixY=function(t){return 1===this.scrollFactorY?t:this._scrollY/this.scrollFactorY+(t-this._scrollY)},N.TilemapLayer.prototype.getTileX=function(t){return Math.floor(this._fixX(t)/this._mc.tileWidth)},N.TilemapLayer.prototype.getTileY=function(t){return Math.floor(this._fixY(t)/this._mc.tileHeight)},N.TilemapLayer.prototype.getTileXY=function(t,e,i){return i.x=this.getTileX(t),i.y=this.getTileY(e),i},N.TilemapLayer.prototype.getRayCastTiles=function(t,e,i,s){e=e||this.rayStepRate,void 0===s&&(s=!1);for(var n=!((i=void 0===i?!1:i)||s),o=t.coordinatesOnLine(e),r=[],a=new N.Point,t=this.map.layers[this.map.getLayer(this)],h=t.data,l=t.width,c=t.height,u=0;u<o.length;u++){var d=o[u],d=(this.getTileXY(d[0],d[1],a),a.x),p=a.y;d<0||l<=d||p<0||c<=p||(p=h[p][d],-1===r.indexOf(p)&&(n||p.isInteresting(i,s))&&r.push(p))}return r},N.TilemapLayer.prototype.getTiles=function(t,e,i,s,n,o){void 0===o&&(o=!1);var r=!((n=void 0===n?!1:n)||o);t=this._fixX(t),e=this._fixY(e);for(var a=Math.floor(t/(this._mc.cw*this.scale.x)),h=Math.floor(e/(this._mc.ch*this.scale.y)),l=Math.ceil((t+i)/(this._mc.cw*this.scale.x))-a,c=Math.ceil((e+s)/(this._mc.ch*this.scale.y))-h;this._results.length;)this._results.pop();for(var u=h;u<h+c;u++)for(var d=a;d<a+l;d++){var p=this.layer.data[u];p&&p[d]&&(r||p[d].isInteresting(n,o))&&this._results.push(p[d])}return this._results.slice()},N.TilemapLayer.prototype.resolveTileset=function(t){var e=this._mc.tilesets;if(t<2e3)for(;e.length<t;)e.push(void 0);var i=this.map.tiles[t]&&this.map.tiles[t][2];if(null!==i){i=this.map.tilesets[i];if(i&&i.containsTileIndex(t))return e[t]=i}return e[t]=null},N.TilemapLayer.prototype.resetTilesetCache=function(){for(var t=this._mc.tilesets;t.length;)t.pop()},N.TilemapLayer.prototype.setScale=function(t,e){t=t||1,e=e||t;for(var i=0;i<this.layer.data.length;i++)for(var s=this.layer.data[i],n=0;n<s.length;n++){var o=s[n];o.width=this.map.tileWidth*t,o.height=this.map.tileHeight*e,o.worldX=o.x*o.width,o.worldY=o.y*o.height}this.scale.setTo(t,e)},N.TilemapLayer.prototype.shiftCanvas=function(t,e,i){var s=t.canvas,n=s.width-Math.abs(e),o=s.height-Math.abs(i),r=0,a=0,h=e,l=i,e=(e<0&&(r=-e,h=0),i<0&&(a=-i,l=0),this.renderSettings.copyCanvas);e?((e.width<n||e.height<o)&&(e.width=n,e.height=o),(i=e.getContext("2d")).clearRect(0,0,n,o),i.drawImage(s,r,a,n,o,0,0,n,o),t.clearRect(h,l,n,o),t.drawImage(e,0,0,n,o,h,l,n,o)):(t.save(),t.globalCompositeOperation="copy",t.drawImage(s,r,a,n,o,h,l,n,o),t.restore())},N.TilemapLayer.prototype.renderRegion=function(t,e,i,s,n,o){var r=this.context,a=this.layer.width,h=this.layer.height,l=this._mc.tileWidth,c=this._mc.tileHeight,u=this._mc.tilesets,d=NaN;this._wrap||(i<=n&&(i=Math.max(0,i),n=Math.min(a-1,n)),s<=o&&(s=Math.max(0,s),o=Math.min(h-1,o)));for(var p=i*l-t,f=(i+(1<<20)*a)%a,g=(s+(1<<20)*h)%h,m=o-s,y=s*c-e;0<=m;g++,m--,y+=c){h<=g&&(g-=h);for(var v=this.layer.data[g],x=f,b=n-i,_=p;0<=b;x++,b--,_+=l){a<=x&&(x-=a);var w,T,P=v[x];!P||P.index<0||(void 0===(T=u[w=P.index])&&(T=this.resolveTileset(w)),P.alpha===d||this.debug||(r.globalAlpha=P.alpha,d=P.alpha),T?P.rotation||P.flipped?(r.save(),r.translate(_+P.centerX,y+P.centerY),r.rotate(P.rotation),P.flipped&&r.scale(-1,1),T.draw(r,-P.centerX,-P.centerY,w),r.restore()):T.draw(r,_,y,w):this.debugSettings.missingImageFill&&(r.fillStyle=this.debugSettings.missingImageFill,r.fillRect(_,y,l,c)),P.debug&&this.debugSettings.debuggedTileOverfill&&(r.fillStyle=this.debugSettings.debuggedTileOverfill,r.fillRect(_,y,l,c)))}}},N.TilemapLayer.prototype.renderDeltaScroll=function(t,e){var i=this._mc.scrollX,s=this._mc.scrollY,n=this.canvas.width,o=this.canvas.height,r=this._mc.tileWidth,a=this._mc.tileHeight,h=0,l=-r,c=0,u=-a;t<0?(h=n+t,l=n-1):0<t&&(l=t),e<0?(c=o+e,u=o-1):0<e&&(u=e),this.shiftCanvas(this.context,t,e),h=Math.floor((h+i)/r),l=Math.floor((l+i)/r),c=Math.floor((c+s)/a),u=Math.floor((u+s)/a),h<=l&&(this.context.clearRect(h*r-i,0,(l-h+1)*r,o),t=Math.floor((0+s)/a),e=Math.floor((o-1+s)/a),this.renderRegion(i,s,h,t,l,e)),c<=u&&(this.context.clearRect(0,c*a-s,n,(u-c+1)*a),o=Math.floor((0+i)/r),h=Math.floor((n-1+i)/r),this.renderRegion(i,s,o,c,h,u))},N.TilemapLayer.prototype.renderFull=function(){var t=this._mc.scrollX,e=this._mc.scrollY,i=this.canvas.width,s=this.canvas.height,n=this._mc.tileWidth,o=this._mc.tileHeight,r=Math.floor(t/n),n=Math.floor((i-1+t)/n),a=Math.floor(e/o),o=Math.floor((s-1+e)/o);this.context.clearRect(0,0,i,s),this.renderRegion(t,e,r,a,n,o)},N.TilemapLayer.prototype.render=function(){var t=!1;if(this.visible){(this.dirty||this.layer.dirty)&&(t=!(this.layer.dirty=!1));var e=this.canvas.width,i=this.canvas.height,s=0|this._scrollX,n=0|this._scrollY,o=this._mc,r=o.scrollX-s,a=o.scrollY-n;if(t||0!=r||0!=a||o.renderWidth!==e||o.renderHeight!==i)return this.context.save(),o.scrollX=s,o.scrollY=n,o.renderWidth===e&&o.renderHeight===i||(o.renderWidth=e,o.renderHeight=i),!(t=this.debug&&(this.context.globalAlpha=this.debugSettings.debugAlpha,this.debugSettings.forceFullRedraw)?!0:t)&&this.renderSettings.enableScrollDelta&&Math.abs(r)+Math.abs(a)<Math.min(e,i)?this.renderDeltaScroll(r,a):this.renderFull(),this.debug&&(this.context.globalAlpha=1,this.renderDebug()),this.texture.baseTexture.dirty(),this.dirty=!1,this.context.restore(),!0}},N.TilemapLayer.prototype.renderDebug=function(){var t,e,i,s=this._mc.scrollX,n=this._mc.scrollY,o=this.context,r=this.canvas.width,a=this.canvas.height,h=this.layer.width,l=this.layer.height,c=this._mc.tileWidth,u=this._mc.tileHeight,d=Math.floor(s/c),p=Math.floor((r-1+s)/c),r=Math.floor(n/u),a=Math.floor((a-1+n)/u),f=d*c-s,s=r*u-n,g=(d+(1<<20)*h)%h,n=(r+(1<<20)*l)%l;for(o.strokeStyle=this.debugSettings.facingEdgeStroke,e=n,i=a-r,t=s;0<=i;e++,i--,t+=u){l<=e&&(e-=l);for(var m=this.layer.data[e],y=g,v=p-d,x=f;0<=v;y++,v--,x+=c){h<=y&&(y-=h);var b=m[y];!b||b.index<0||!b.collides||(this.debugSettings.collidingTileOverfill&&(o.fillStyle=this.debugSettings.collidingTileOverfill,o.fillRect(x,t,this._mc.cw,this._mc.ch)),this.debugSettings.facingEdgeStroke&&(o.beginPath(),b.faceTop&&(o.moveTo(x,t),o.lineTo(x+this._mc.cw,t)),b.faceBottom&&(o.moveTo(x,t+this._mc.ch),o.lineTo(x+this._mc.cw,t+this._mc.ch)),b.faceLeft&&(o.moveTo(x,t),o.lineTo(x,t+this._mc.ch)),b.faceRight&&(o.moveTo(x+this._mc.cw,t),o.lineTo(x+this._mc.cw,t+this._mc.ch)),o.closePath(),o.stroke()))}}},Object.defineProperty(N.TilemapLayer.prototype,"wrap",{get:function(){return this._wrap},set:function(t){this._wrap=t,this.dirty=!0}}),Object.defineProperty(N.TilemapLayer.prototype,"scrollX",{get:function(){return this._scrollX},set:function(t){this._scrollX=t}}),Object.defineProperty(N.TilemapLayer.prototype,"scrollY",{get:function(){return this._scrollY},set:function(t){this._scrollY=t}}),Object.defineProperty(N.TilemapLayer.prototype,"collisionWidth",{get:function(){return this._mc.cw},set:function(t){this._mc.cw=0|t,this.dirty=!0}}),Object.defineProperty(N.TilemapLayer.prototype,"collisionHeight",{get:function(){return this._mc.ch},set:function(t){this._mc.ch=0|t,this.dirty=!0}}),N.TilemapParser={INSERT_NULL:!1,parse:function(t,e,i,s,n,o){return void 0===i&&(i=32),void 0===s&&(s=32),void 0===n&&(n=10),void 0===o&&(o=10),void 0===e?this.getEmptyData():null===e?this.getEmptyData(i,s,n,o):(n=t.cache.getTilemapData(e))?n.format===N.Tilemap.CSV?this.parseCSV(e,n.data,i,s):n.format&&n.format!==N.Tilemap.TILED_JSON?void 0:this.parseTiledJSON(n.data):void console.warn('No map data found for key "%s"',e)},parseCSV:function(t,e,i,s){for(var n=this.getEmptyData(),o=[],r=(e=e.trim()).split("\n"),e=r.length,a=0,h=0;h<r.length;h++){o[h]=[];for(var l=r[h].split(","),c=0;c<l.length;c++)o[h][c]=new N.Tile(n.layers[0],parseInt(l[c],10),c,h,i,s);0===a&&(a=l.length)}return n.format=N.Tilemap.CSV,n.name=t,n.width=a,n.height=e,n.tileWidth=i,n.tileHeight=s,n.widthInPixels=a*i,n.heightInPixels=e*s,n.layers[0].width=a,n.layers[0].height=e,n.layers[0].widthInPixels=n.widthInPixels,n.layers[0].heightInPixels=n.heightInPixels,n.layers[0].data=o,n},getEmptyData:function(t,e,i,s){return{width:null!=i?i:0,height:null!=s?s:0,tileWidth:null!=t?t:0,tileHeight:null!=e?e:0,orientation:"orthogonal",version:"1",properties:{},widthInPixels:0,heightInPixels:0,layers:[{name:"layer",x:0,y:0,width:0,height:0,widthInPixels:0,heightInPixels:0,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:[]}],images:[],objects:{},collision:{},tilesets:[],tiles:[]}},getEmptyObject:function(){return{id:void 0,x:void 0,y:void 0,width:void 0,height:void 0,rotation:void 0,visible:void 0,name:void 0,type:void 0,ellipse:!1,gid:null,point:!1,polygon:null,polyline:null,properties:null,rectangle:!1,template:null,text:null}},createObject:function(t){var t=Object.assign(this.getEmptyObject(),t),e=(t.rectangle=!(t.ellipse||t.gid||t.point||t.polygon||t.polyline||t.template||t.text),t.properties);if(e&&Array.isArray(e)){for(var i={},s=0,n=e.length;s<n;s++){var o=e[s];i[o.name]=o.value}t.properties=i}return t},parseObjectGroup:function(t,e,i,s,n,o){n=n||{x:0,y:0},(s=s||t.name)||console.warn("No name found for objectGroup",t),void 0!==n.x&&void 0!==n.y||console.warn("Malformed xy properties in relativePosition",n),e[s]=e[s]||[],i[s]=i[s]||[];for(var r=0,a=t.objects.length;r<a;r++){var h=t.objects[r],l=this.createObject(h);if(l.x+=n.x,l.y+=n.y,e[s].push(l),l.id&&(o[l.id]=l),h.polyline){l.polyline=[];for(var c=0;c<h.polyline.length;c++)l.polyline.push([h.polyline[c].x,h.polyline[c].y]);i[s].push(l)}else if(h.polygon){for(l.polygon=[],c=0;c<h.polygon.length;c++)l.polygon.push([h.polygon[c].x,h.polygon[c].y]);i[s].push(l)}else(h.ellipse||h.rectangle)&&i[s].push(l)}return{objectsCollection:e,collisionCollection:i}},parseTiledJSON:function(t){if("orthogonal"!==t.orientation)return console.warn('Phaser CE supports only orthogonal maps. This map\'s orientation is "%s".',t.orientation),null;for(var e={width:t.width,height:t.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,orientation:t.orientation,format:N.Tilemap.TILED_JSON,version:t.version,properties:t.properties,widthInPixels:t.width*t.tilewidth,heightInPixels:t.height*t.tileheight},i=[],s=0;s<t.layers.length;s++)if("tilelayer"===t.layers[s].type){var n=t.layers[s];if(!n.compression&&n.encoding&&"base64"===n.encoding){for(var o=window.atob(n.data),r=o.length,a=new Array(r),h=0;h<r;h+=4)a[h/4]=(o.charCodeAt(h)|o.charCodeAt(h+1)<<8|o.charCodeAt(h+2)<<16|o.charCodeAt(h+3)<<24)>>>0;n.data=a,delete n.encoding}else if(n.compression){console.warn('Layer compression is unsupported, skipping layer "%s".',n.name);continue}var l={name:n.name,x:n.x,y:n.y,width:n.width,height:n.height,widthInPixels:n.width*t.tilewidth,heightInPixels:n.height*t.tileheight,alpha:n.opacity,offsetX:n.offsetx,offsetY:n.offsety,visible:n.visible,properties:{},indexes:[],callbacks:[],bodies:[]};n.properties&&(l.properties=n.properties);for(var c,u,d,p=0,f=[],g=[],m=0,r=n.data.length;m<r;m++){if(u=!1,d=c=0,536870912<(S=n.data[m]))switch(2147483648<S&&(S-=2147483648,d+=4),1073741824<S&&(S-=1073741824,d+=2),536870912<S&&(S-=536870912,d+=1),d){case 5:c=Math.PI/2;break;case 6:c=Math.PI;break;case 3:c=3*Math.PI/2;break;case 4:u=!(c=0);break;case 7:c=Math.PI/2,u=!0;break;case 2:c=Math.PI,u=!0;break;case 1:c=3*Math.PI/2,u=!0}0<S?((E=new N.Tile(l,S,p,g.length,t.tilewidth,t.tileheight)).rotation=c,E.flipped=u,0!==d&&(E.flippedVal=d),f.push(E)):N.TilemapParser.INSERT_NULL?f.push(null):f.push(new N.Tile(l,-1,p,g.length,t.tilewidth,t.tileheight)),++p===n.width&&(g.push(f),p=0,f=[])}l.data=g,i.push(l)}e.layers=i;for(var y,v=[],s=0;s<t.layers.length;s++)"imagelayer"===t.layers[s].type&&(C={name:(y=t.layers[s]).name,image:y.image,x:y.x,y:y.y,alpha:y.opacity,visible:y.visible,properties:{}},y.properties&&(C.properties=y.properties),v.push(C));e.images=v;var x=[],b={},_=[],w=null;for(s=0;s<t.tilesets.length;s++){if((O=t.tilesets[s]).source)console.warn("Phaser CE can't load external tilesets (%s). Embed the tileset and then export the map again. https://github.com/photonstorm/phaser-ce/issues/273",O.source);else if(O.image){var T=new N.Tileset(O.name,O.firstgid,O.tilewidth,O.tileheight,O.margin,O.spacing,O.properties);O.tileproperties&&(T.tileProperties=O.tileproperties),T.updateTileData(O.imagewidth,O.imageheight),x.push(T)}else{if(!O.tiles)throw new Error("Tileset "+O.name+" has no `image` or `tiles` property.");var P=new N.ImageCollection(O.name,O.firstgid,O.tilewidth,O.tileheight,O.margin,O.spacing,O.properties);for(A in O.tiles){var C=O.tiles[A].image,S=O.firstgid+parseInt(A,10);P.addImage(S,C)}_.push(P)}for(var A in O.tiles)(R=O.tiles[A].objectgroup)&&(b[parseInt(A,10)+O.firstgid]=R);w&&(w.lastgid=O.firstgid-1),w=O}if(0===x.length&&0===_.length)throw new Error("This tilemap has no tilesets.");e.tilesets=x,e.imagecollections=_;var E,M,R,L={},B={},I={};for(s=0;s<t.layers.length;s++)"objectgroup"===t.layers[s].type&&(R=t.layers[s],this.parseObjectGroup(R,L,B,void 0,void 0,I));for(e.objects=L,e.collision=B,e.objectsMap=I,e.tiles=[],s=0;s<e.tilesets.length;s++)for(var O,p=(O=e.tilesets[s]).tileMargin,F=O.tileMargin,D=0,U=0,G=0,m=O.firstgid;m<O.firstgid+O.total&&(e.tiles[m]=[p,F,s],p+=O.tileWidth+O.tileSpacing,++D!==O.total)&&(++U!==O.columns||(p=O.tileMargin,F+=O.tileHeight+O.tileSpacing,U=0,++G!==O.rows));m++);for(s=0;s<e.layers.length;s++)for(B[(l=e.layers[s]).name]=[],O=null,h=0;h<l.data.length;h++)for(var f=l.data[h],k=0;k<f.length;k++)null===(E=f[k])||E.index<0||(M=e.tiles[E.index][2],(O=e.tilesets[M]).tileProperties&&O.tileProperties[E.index-O.firstgid]&&(E.properties=N.Utils.mixin(O.tileProperties[E.index-O.firstgid],E.properties)),(R=b[E.index])&&this.parseObjectGroup(R,e.objects,e.collision,E.layer.name,{x:E.worldX+R.x,y:E.worldY+R.y},I));return e}},N.Tileset=function(t,e,i,s,n,o,r){(void 0===i||i<=0)&&(i=32),(void 0===s||s<=0)&&(s=32),void 0===n&&(n=0),void 0===o&&(o=0),this.name=t,this.firstgid=0|e,this.tileWidth=0|i,this.tileHeight=0|s,this.tileMargin=0|n,this.tileSpacing=0|o,this.properties=r||{},this.image=null,this.rows=0,this.columns=0,this.total=0,this.drawCoords=[]},N.Tileset.prototype={draw:function(t,e,i,s){s=s-this.firstgid<<1;0<=s&&1+s<this.drawCoords.length&&t.drawImage(this.image,this.drawCoords[s],this.drawCoords[1+s],this.tileWidth,this.tileHeight,e,i,this.tileWidth,this.tileHeight)},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},setImage:function(t){this.image=t,this.updateTileData(t.width,t.height)},setSpacing:function(t,e){this.tileMargin=0|t,this.tileSpacing=0|e,this.image&&this.updateTileData(this.image.width,this.image.height)},updateTileData:function(t,e){var i=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),s=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing);i%1==0&&s%1==0||console.warn("Phaser.Tileset - '%s' image tile area (%s x %s) is not a whole multiple of tile size (%s x %s + %s + %s)",this.name,t,e,this.tileWidth,this.tileHeight,this.tileMargin,this.tileSpacing),i=Math.floor(i),s=Math.floor(s),(this.rows&&this.rows!==i||this.columns&&this.columns!==s)&&console.warn("Phaser.Tileset - Tile layout from image '%s' (%s rows by %s columns) differs from tileset '%s' (%s rows by %s columns)",this.image.name,s,i,this.name,this.columns,this.rows),this.rows=i,this.columns=s,this.total=i*s,this.drawCoords.length=0;for(var n=this.tileMargin,o=this.tileMargin,r=0;r<this.rows;r++){for(var a=0;a<this.columns;a++)this.drawCoords.push(n),this.drawCoords.push(o),n+=this.tileWidth+this.tileSpacing;n=this.tileMargin,o+=this.tileHeight+this.tileSpacing}}},N.Tileset.prototype.constructor=N.Tileset,N.Particle=function(t,e,i,s,n){N.Sprite.call(this,t,e,i,s,n),this.autoScale=!1,this.autoScaleFps=0,this.scaleData=null,this._s=0,this.autoAlpha=!1,this.autoAlphaFps=0,this.alphaData=null,this._a=0},N.Particle.prototype=Object.create(N.Sprite.prototype),N.Particle.prototype.constructor=N.Particle,N.Particle.prototype.update=function(){var t;this.autoScale&&(this._s-=.001*this.game.time.delta*this.autoScaleFps,0<(t=Math.round(this._s))?this.scale.set(this.scaleData[t].x,this.scaleData[t].y):this.autoScale=!1),this.autoAlpha&&(this._a-=.001*this.game.time.delta*this.autoAlphaFps,0<(t=Math.round(this._a))?this.alpha=this.alphaData[t].v:this.autoAlpha=!1)},N.Particle.prototype.onEmit=function(){},N.Particle.prototype.setAlphaData=function(t,e){this.alphaData=t,this._a=t.length-1,this.alpha=this.alphaData[this._a].v,this.autoAlpha=!0,this.autoAlphaFps=e},N.Particle.prototype.setScaleData=function(t,e){this.scaleData=t,this._s=t.length-1,this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y),this.autoScale=!0,this.autoScaleFps=e},N.Particle.prototype.reset=function(t,e,i){return N.Component.Reset.prototype.reset.call(this,t,e,i),this.alpha=1,this.scale.set(1),this.autoScale=!1,this.autoAlpha=!1,this},N.Particles=function(t){this.game=t,this.emitters={},this.ID=0},N.Particles.prototype={add:function(t){return this.emitters[t.id]=t},remove:function(t){delete this.emitters[t.id]}},N.Particles.prototype.constructor=N.Particles,N.Particles.Arcade={},N.Particles.Arcade.Emitter=function(t,e,i,s){this.maxParticles=s||50,N.Group.call(this,t),this._id=this.game.particles.ID++,this.name="emitter"+this.id,this.type=N.EMITTER,this.physicsType=N.GROUP,this.area=new N.Rectangle(e,i,1,1),this.minAngle=null,this.maxAngle=null,this.minSpeed=0,this.maxSpeed=100,this.minParticleSpeed=new N.Point(-100,-100),this.maxParticleSpeed=new N.Point(100,100),this.minParticleScale=1,this.maxParticleScale=1,this.scaleData=null,this.minRotation=-360,this.maxRotation=360,this.minParticleAlpha=1,this.maxParticleAlpha=1,this.alphaData=null,this.particleClass=N.Particle,this.particleDrag=new N.Point,this.angularDrag=0,this.frequency=100,this.lifespan=2e3,this.bounce=new N.Point,this.on=!1,this.particleAnchor=new N.Point(.5,.5),this.blendMode=N.blendModes.NORMAL,this.emitX=e,this.emitY=i,this.autoScale=!1,this.autoScaleFps=this.game.time.desiredFps,this.autoAlpha=!1,this.autoAlphaFps=this.game.time.desiredFps,this.particleBringToTop=!1,this.particleSendToBack=!1,this.counts={emitted:0,failed:0,totalEmitted:0,totalFailed:0},this._gravity=new N.Point(0,100),this._minParticleScale=new N.Point(1,1),this._maxParticleScale=new N.Point(1,1),this._total=0,this._timer=0,this._counter=0,this._flowQuantity=0,this._flowTotal=0,this._explode=!0,this._frames=null},N.Particles.Arcade.Emitter.prototype=Object.create(N.Group.prototype),N.Particles.Arcade.Emitter.prototype.constructor=N.Particles.Arcade.Emitter,N.Particles.Arcade.Emitter.prototype.update=function(){if(this.counts.emitted=0,this.counts.failed=0,this.on&&this.game.time.deltaTotal>=this._timer)if(this._timer=this.game.time.deltaTotal+this.frequency,0!==this._flowTotal)if(0<this._flowQuantity){for(var t=0;t<this._flowQuantity;t++)if(this.emitParticle()&&(this._counter++,-1!==this._flowTotal)&&this._counter>=this._flowTotal){this.on=!1;break}}else this.emitParticle()&&(this._counter++,-1!==this._flowTotal)&&this._counter>=this._flowTotal&&(this.on=!1);else this.emitParticle()&&(this._counter++,0<this._total)&&this._counter>=this._total&&(this.on=!1);for(t=this.children.length;t--;)this.children[t].exists&&this.children[t].update()},N.Particles.Arcade.Emitter.prototype.makeParticles=function(t,e,i,s,n,o){void 0===i&&(i=this.maxParticles),void 0===s&&(s=!1),void 0===n&&(n=!1),void 0===o&&(o=null);var r,a=0,h=t,l=e=void 0===e?0:e;for(this._frames=e,i>this.maxParticles&&(this.maxParticles=i);a<i;)Array.isArray(t)&&(h=this.game.rnd.pick(t)),Array.isArray(e)&&(l=this.game.rnd.pick(e)),r=new this.particleClass(this.game,0,0,h,l,o),this.game.physics.arcade.enable(r,!1),r.body.checkCollision.none=!s,r.body.collideWorldBounds=n,r.body.skipQuadTree=!0,r.exists=!1,r.visible=!1,r.anchor.copyFrom(this.particleAnchor),this.add(r),a++;return this},N.Particles.Arcade.Emitter.prototype.kill=function(){return this.on=!1,this.alive=!1,this.exists=!1,this},N.Particles.Arcade.Emitter.prototype.revive=function(){return this.alive=!0,this.exists=!0,this},N.Particles.Arcade.Emitter.prototype.explode=function(t,e){return void 0===e&&(e=this.maxParticles),this._flowTotal=0,this.start(!0,t,0,e,!1),this},N.Particles.Arcade.Emitter.prototype.flow=function(t,e,i,s,n){return null==e&&(e=250),void 0===s&&(s=-1),void 0===n&&(n=!0),(i=void 0!==i&&0!==i?i:1)>this.maxParticles&&(i=this.maxParticles),this._counter=0,this._flowQuantity=i,this._flowTotal=s,n?(this.start(!0,t,e,i),this._counter+=i,this.on=!0,this._timer=this.game.time.deltaTotal+e):this.start(!1,t,e,i),this},N.Particles.Arcade.Emitter.prototype.start=function(t,e,i,s,n){if(void 0===t&&(t=!0),void 0===e&&(e=0),null==i&&(i=250),void 0===n&&(n=!1),(s=void 0===s?0:s)>this.maxParticles&&(s=this.maxParticles),this.revive(),this.visible=!0,this.lifespan=e,this.frequency=i,t||n)for(var o=0;o<s;o++)this.emitParticle();else this.on=!0,this._total=s,this._counter=0,this._timer=this.game.time.deltaTotal+i;return this},N.Particles.Arcade.Emitter.prototype.emitParticle=function(t,e,i,s){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.getNextParticle();if(null===n)return this.counts.failed++,this.counts.totalFailed++,!1;this.counts.emitted++,this.counts.totalEmitted++;var o=this.game.rnd,s=(void 0!==i&&void 0!==s?n.loadTexture(i,s):void 0!==i&&(n.loadTexture(i),n.frame=Array.isArray(this._frames)?o.pick(this._frames):this._frames),this.emitX),i=this.emitY;return null!==t?s=t:1<this.width&&(s=o.between(this.left,this.right)),null!==e?i=e:1<this.height&&(i=o.between(this.top,this.bottom)),this.resetParticle(n,s,i),!0},N.Particles.Arcade.Emitter.prototype.getNextParticle=function(){for(var t=this.length;t--;){var e=this.next();if(!e.exists)return e}return null},N.Particles.Arcade.Emitter.prototype.resetParticle=function(t,e,i){var s=this.game.rnd,e=(t.reset(e,i),t.angle=0,t.lifespan=this.lifespan,this.particleBringToTop?this.bringToTop(t):this.particleSendToBack&&this.sendToBack(t),this.autoScale?t.setScaleData(this.scaleData,this.autoScaleFps):1!==this.minParticleScale||1!==this.maxParticleScale?t.scale.set(s.realInRange(this.minParticleScale,this.maxParticleScale)):this._minParticleScale.x!==this._maxParticleScale.x||this._minParticleScale.y!==this._maxParticleScale.y?t.scale.set(s.realInRange(this._minParticleScale.x,this._maxParticleScale.x),s.realInRange(this._minParticleScale.y,this._maxParticleScale.y)):t.scale.set(this._minParticleScale.x,this._minParticleScale.y),this.autoAlpha?t.setAlphaData(this.alphaData,this.autoAlphaFps):t.alpha=s.realInRange(this.minParticleAlpha,this.maxParticleAlpha),t.blendMode=this.blendMode,t.body);e.updateBounds(),e.bounce.copyFrom(this.bounce),e.drag.copyFrom(this.particleDrag),null!=this.minAngle&&null!=this.maxAngle?this.game.physics.arcade.velocityFromAngle(this.minAngle===this.maxAngle?this.minAngle:s.between(this.minAngle,this.maxAngle),this.minSpeed===this.maxSpeed?this.minSpeed:s.between(this.minSpeed,this.maxSpeed),e.velocity):(e.velocity.x=s.between(this.minParticleSpeed.x,this.maxParticleSpeed.x),e.velocity.y=s.between(this.minParticleSpeed.y,this.maxParticleSpeed.y)),e.angularVelocity=s.between(this.minRotation,this.maxRotation),e.gravity.copyFrom(this.gravity),e.angularDrag=this.angularDrag,t.onEmit()},N.Particles.Arcade.Emitter.prototype.destroy=function(){this.game.particles.remove(this),N.Group.prototype.destroy.call(this,!0,!1)},N.Particles.Arcade.Emitter.prototype.setSize=function(t,e){return this.area.width=t,this.area.height=e,this},N.Particles.Arcade.Emitter.prototype.setSpeed=function(t,e,i,s){return this.setXSpeed(t,e),this.setYSpeed(i,s),this},N.Particles.Arcade.Emitter.prototype.setXSpeed=function(t,e){return e=e||0,this.minParticleSpeed.x=t=t||0,this.maxParticleSpeed.x=e,this},N.Particles.Arcade.Emitter.prototype.setYSpeed=function(t,e){return e=e||0,this.minParticleSpeed.y=t=t||0,this.maxParticleSpeed.y=e,this},N.Particles.Arcade.Emitter.prototype.setRotation=function(t,e){return e=e||0,this.minRotation=t=t||0,this.maxRotation=e,this},N.Particles.Arcade.Emitter.prototype.setAlpha=function(t,e,i,s,n){return void 0===e&&(e=1),void 0===i&&(i=0),void 0===s&&(s=N.Easing.Linear.None),void 0===n&&(n=!1),this.minParticleAlpha=t=void 0===t?1:t,this.maxParticleAlpha=e,this.autoAlpha=!1,0<i&&t!==e&&((t=this.game.make.tween({v:t}).to({v:e},i,s)).yoyo(n),this.alphaData=t.generateData(this.game.time.desiredFps),this.autoAlphaFps=this.game.time.desiredFps,this.alphaData.reverse(),this.autoAlpha=!0),this},N.Particles.Arcade.Emitter.prototype.setScale=function(t,e,i,s,n,o,r){return void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),void 0===s&&(s=1),void 0===n&&(n=0),void 0===o&&(o=N.Easing.Linear.None),void 0===r&&(r=!1),this.minParticleScale=1,this.maxParticleScale=1,this._minParticleScale.set(t,i),this._maxParticleScale.set(e,s),this.autoScale=!1,0<n&&(t!==e||i!==s)&&((t=this.game.make.tween({x:t,y:i}).to({x:e,y:s},n,o)).yoyo(r),this.scaleData=t.generateData(this.game.time.desiredFps),this.autoScaleFps=this.game.time.desiredFps,this.scaleData.reverse(),this.autoScale=!0),this},N.Particles.Arcade.Emitter.prototype.setAngle=function(t,e,i,s){return this.minAngle=t,this.maxAngle=e,null!=i&&(this.minSpeed=i),null!=s&&(this.maxSpeed=s),this},N.Particles.Arcade.Emitter.prototype.setGravity=function(t,e){return this._gravity.set(t=t||0,e=e||0),this},N.Particles.Arcade.Emitter.prototype.at=function(t){return t.center?(this.emitX=t.center.x,this.emitY=t.center.y):(this.emitX=t.world.x+t.anchor.x*t.width,this.emitY=t.world.y+t.anchor.y*t.height),this},Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"gravity",{get:function(){return this._gravity},set:function(t){"number"==typeof t?this._gravity.y=t:this._gravity=t}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"id",{get:function(){return this._id}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"width",{get:function(){return this.area.width},set:function(t){this.area.width=t}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"height",{get:function(){return this.area.height},set:function(t){this.area.height=t}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"x",{get:function(){return this.emitX},set:function(t){this.emitX=t}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"y",{get:function(){return this.emitY},set:function(t){this.emitY=t}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"left",{get:function(){return Math.floor(this.x-this.area.width/2)}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"right",{get:function(){return Math.floor(this.x+this.area.width/2)}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"top",{get:function(){return Math.floor(this.y-this.area.height/2)}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"bottom",{get:function(){return Math.floor(this.y+this.area.height/2)}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"output",{get:function(){return 1e3*this._flowQuantity/this.frequency}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"lifespanOutput",{get:function(){return(0===this.lifespan?1/0:this.lifespan)*this._flowQuantity/this.frequency}}),Object.defineProperty(N.Particles.Arcade.Emitter.prototype,"remainder",{get:function(){return this.maxParticles-this.lifespanOutput}}),N.Weapon=function(t,e){N.Plugin.call(this,t,e),this.bullets=null,this.autoExpandBulletsGroup=!1,this.autofire=!1,this.shots=0,this.fireLimit=0,this.fireRate=100,this.fireRateVariance=0,this.fireFrom=new N.Rectangle(0,0,1,1),this.fireAngle=N.ANGLE_UP,this.bulletInheritSpriteSpeed=!1,this.bulletAnimation="",this.bulletFrameRandom=!1,this.bulletFrameCycle=!1,this.bulletWorldWrap=!1,this.bulletWorldWrapPadding=0,this.bulletAngleOffset=0,this.bulletAngleVariance=0,this.bulletSpeed=200,this.bulletSpeedVariance=0,this.bulletLifespan=0,this.bulletKillDistance=0,this.bulletGravity=new N.Point(0,0),this.bulletRotateToVelocity=!1,this.bulletKey="",this.bulletFrame="",this._bulletClass=N.Bullet,this._bulletCollideWorldBounds=!1,this._bulletKillType=N.Weapon.KILL_WORLD_BOUNDS,this._data={customBody:!1,width:0,height:0,offsetX:0,offsetY:0},this.bounds=new N.Rectangle,this.bulletBounds=t.world.bounds,this.bulletFrames=[],this.bulletFrameIndex=0,this.anims={},this.onFire=new N.Signal,this.onKill=new N.Signal,this.onFireLimit=new N.Signal,this.trackedSprite=null,this.trackedPointer=null,this.multiFire=!1,this._hasFired=!1,this.trackRotation=!1,this.trackOffset=new N.Point,this._nextFire=0,this._tempNextFire=0,this._rotatedPoint=new N.Point},N.Weapon.prototype=Object.create(N.Plugin.prototype),N.Weapon.prototype.constructor=N.Weapon,N.Weapon.KILL_NEVER=0,N.Weapon.KILL_LIFESPAN=1,N.Weapon.KILL_DISTANCE=2,N.Weapon.KILL_WEAPON_BOUNDS=3,N.Weapon.KILL_CAMERA_BOUNDS=4,N.Weapon.KILL_WORLD_BOUNDS=5,N.Weapon.KILL_STATIC_BOUNDS=6,N.Weapon.prototype.createBullets=function(t,e,i,s){return void 0===t&&(t=1),void 0===s&&(s=this.game.world),this.bullets&&!this.bullets.game&&(this.bullets=null),this.bullets||(this.bullets=this.game.add.physicsGroup(N.Physics.ARCADE,s),this.bullets.classType=this._bulletClass),0!==t&&(-1===t&&(this.autoExpandBulletsGroup=!0,t=1),this.bullets.createMultiple(t,e,i),this.bullets.setAll("data.bulletManager",this),this.bulletKey=e,this.bulletFrame=i),this},N.Weapon.prototype.forEach=function(t,e){return this.bullets.forEachExists(t,e,arguments),this},N.Weapon.prototype.pauseAll=function(){return this.bullets.setAll("body.enable",!1),this},N.Weapon.prototype.resumeAll=function(){return this.bullets.setAll("body.enable",!0),this},N.Weapon.prototype.killAll=function(){return this.bullets.callAllExists("kill",!0),this.bullets.setAll("body.enable",!0),this},N.Weapon.prototype.resetShots=function(t){return void(this.shots=0)!==t&&(this.fireLimit=t),this},N.Weapon.prototype.destroy=function(){this.parent.remove(this,!1),this.bullets.destroy(),this.game=null,this.parent=null,this.active=!1,this.visible=!1},N.Weapon.prototype.update=function(){this._bulletKillType===N.Weapon.KILL_WEAPON_BOUNDS&&(this.trackedSprite?(this.trackedSprite.updateTransform(),this.bounds.centerOn(this.trackedSprite.worldPosition.x,this.trackedSprite.worldPosition.y)):this.trackedPointer&&this.bounds.centerOn(this.trackedPointer.worldX,this.trackedPointer.worldY)),this.autofire&&this.fire()},N.Weapon.prototype.postRender=function(){this.multiFire&&this._hasFired&&(this._hasFired=!1,this._nextFire=this._tempNextFire)},N.Weapon.prototype.trackSprite=function(t,e,i,s){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=!1),this.trackedPointer=null,this.trackedSprite=t,this.trackRotation=s,this.trackOffset.set(e,i),this},N.Weapon.prototype.trackPointer=function(t,e,i){return void 0===t&&(t=this.game.input.activePointer),void 0===e&&(e=0),void 0===i&&(i=0),this.trackedPointer=t,this.trackedSprite=null,this.trackRotation=!1,this.trackOffset.set(e,i),this},N.Weapon.prototype.fireMany=function(t,e){this.multiFire=!0;var i=[],s=this;return e||this.trackedSprite||this.trackedPointer?t.forEach(function(t){i.push(s.fire(e,null,null,t.x,t.y))}):t.forEach(function(t){i.push(s.fire(t))}),i},N.Weapon.prototype.fireOffset=function(t,e){return this.fire(null,null,null,t=void 0===t?0:t,e=void 0===e?0:e)},N.Weapon.prototype.fire=function(t,e,i,s,n){var o,r;return void 0===e&&(e=null),void 0===i&&(i=null),this.game.time.deltaTotal<this._nextFire||0<this.fireLimit&&this.shots===this.fireLimit?null:(o=this.bulletSpeed,0!==this.bulletSpeedVariance&&(o+=N.Math.between(-this.bulletSpeedVariance,this.bulletSpeedVariance)),t?1<this.fireFrom.width?this.fireFrom.centerOn(t.x,t.y):(this.fireFrom.x=t.x,this.fireFrom.y=t.y):this.trackedSprite?(this.trackRotation?(this._rotatedPoint.set(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y),this._rotatedPoint.rotate(this.trackedSprite.world.x,this.trackedSprite.world.y,this.trackedSprite.worldRotation),1<this.fireFrom.width?this.fireFrom.centerOn(this._rotatedPoint.x,this._rotatedPoint.y):(this.fireFrom.x=this._rotatedPoint.x,this.fireFrom.y=this._rotatedPoint.y)):1<this.fireFrom.width?this.fireFrom.centerOn(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedSprite.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedSprite.world.y+this.trackOffset.y),this.bulletInheritSpriteSpeed&&(o+=this.trackedSprite.body.speed)):this.trackedPointer&&(1<this.fireFrom.width?this.fireFrom.centerOn(this.trackedPointer.world.x+this.trackOffset.x,this.trackedPointer.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedPointer.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedPointer.world.y+this.trackOffset.y)),void 0!==s&&(this.fireFrom.x+=s),void 0!==n&&(this.fireFrom.y+=n),t=1<this.fireFrom.width?this.fireFrom.randomX:this.fireFrom.x,s=1<this.fireFrom.height?this.fireFrom.randomY:this.fireFrom.y,n=this.trackRotation?this.trackedSprite.angle:this.fireAngle,null!==e&&null!==i&&(n=this.game.math.radToDeg(Math.atan2(i-s,e-t))),0!==this.bulletAngleVariance&&(n+=N.Math.between(-this.bulletAngleVariance,this.bulletAngleVariance)),(e=i=0)===n||180===n?i=Math.cos(this.game.math.degToRad(n))*o:(90!==n&&270!==n&&(i=Math.cos(this.game.math.degToRad(n))*o),e=Math.sin(this.game.math.degToRad(n))*o),r=null,this.autoExpandBulletsGroup?(r=this.bullets.getFirstExists(!1,!0,t,s,this.bulletKey,this.bulletFrame)).data.bulletManager=this:r=this.bullets.getFirstExists(!1),r&&(r.reset(t,s),r.data.fromX=t,r.data.fromY=s,r.data.killType=this.bulletKillType,r.data.killDistance=this.bulletKillDistance,r.data.rotateToVelocity=this.bulletRotateToVelocity,this.bulletKillType===N.Weapon.KILL_LIFESPAN&&(r.lifespan=this.bulletLifespan),r.angle=n+this.bulletAngleOffset,""!==this.bulletAnimation?(null===r.animations.getAnimation(this.bulletAnimation)&&(t=this.anims[this.bulletAnimation],r.animations.add(t.name,t.frames,t.frameRate,t.loop,t.useNumericIndex)),r.animations.play(this.bulletAnimation)):this.bulletFrameCycle?(r.frame=this.bulletFrames[this.bulletFrameIndex],this.bulletFrameIndex++,this.bulletFrameIndex>=this.bulletFrames.length&&(this.bulletFrameIndex=0)):this.bulletFrameRandom&&(r.frame=this.bulletFrames[Math.floor(Math.random()*this.bulletFrames.length)]),r.data.bodyDirty&&(this._data.customBody&&r.body.setSize(this._data.width,this._data.height,this._data.offsetX,this._data.offsetY),r.body.collideWorldBounds=this.bulletCollideWorldBounds,r.data.bodyDirty=!1),r.body.velocity.set(i,e),r.body.gravity.set(this.bulletGravity.x,this.bulletGravity.y),s=(s=0)!==this.bulletSpeedVariance?(n=this.fireRate,(n+=N.Math.between(-this.fireRateVariance,this.fireRateVariance))<0&&(n=0),this.game.time.deltaTotal+n):this.game.time.deltaTotal+this.fireRate,this.multiFire?this._hasFired||(this._hasFired=!0,this._tempNextFire=s,this.shots++):(this._nextFire=s,this.shots++),this.onFire.dispatch(r,this,o),0<this.fireLimit)&&this.shots===this.fireLimit&&this.onFireLimit.dispatch(this,this.fireLimit),r)},N.Weapon.prototype.fireAtPointer=function(t){return void 0===t&&(t=this.game.input.activePointer),this.fire(null,t.worldX,t.worldY)},N.Weapon.prototype.fireAtSprite=function(t){return this.fire(null,t.world.x,t.world.y)},N.Weapon.prototype.fireAtXY=function(t,e){return this.fire(null,t,e)},N.Weapon.prototype.setBulletBodyOffset=function(t,e,i,s){return void 0===i&&(i=0),void 0===s&&(s=0),this._data.customBody=!0,this._data.width=t,this._data.height=e,this._data.offsetX=i,this._data.offsetY=s,this.bullets.callAll("body.setSize","body",t,e,i,s),this.bullets.setAll("data.bodyDirty",!1),this},N.Weapon.prototype.setBulletFrames=function(t,e,i,s){return void 0===i&&(i=!0),void 0===s&&(s=!1),this.bulletFrames=N.ArrayUtils.numberArray(t,e),this.bulletFrameIndex=0,this.bulletFrameCycle=i,this.bulletFrameRandom=s,this},N.Weapon.prototype.addBulletAnimation=function(t,e,i,s,n){return this.anims[t]={name:t,frames:e,frameRate:i,loop:s,useNumericIndex:n},this.bullets.callAll("animations.add","animations",t,e,i,s,n),this.bulletAnimation=t,this},N.Weapon.prototype.debug=function(t,e,i){void 0===i&&(i=!1),this.game.debug.text("Weapon Plugin",t=void 0===t?16:t,e=void 0===e?32:e),this.game.debug.text("Bullets Alive: "+this.bullets.total+" - Total: "+this.bullets.length,t,e+24),i&&this.bullets.forEachExists(this.game.debug.body,this.game.debug,"rgba(255, 0, 255, 0.8)")},Object.defineProperty(N.Weapon.prototype,"bulletClass",{get:function(){return this._bulletClass},set:function(t){this._bulletClass=t,this.bullets&&(this.bullets.classType=this._bulletClass)}}),Object.defineProperty(N.Weapon.prototype,"bulletKillType",{get:function(){return this._bulletKillType},set:function(t){switch(t){case N.Weapon.KILL_STATIC_BOUNDS:case N.Weapon.KILL_WEAPON_BOUNDS:this.bulletBounds=this.bounds;break;case N.Weapon.KILL_CAMERA_BOUNDS:this.bulletBounds=this.game.camera.view;break;case N.Weapon.KILL_WORLD_BOUNDS:this.bulletBounds=this.game.world.bounds}this._bulletKillType=t}}),Object.defineProperty(N.Weapon.prototype,"bulletCollideWorldBounds",{get:function(){return this._bulletCollideWorldBounds},set:function(t){this._bulletCollideWorldBounds=t,this.bullets.setAll("body.collideWorldBounds",t),this.bullets.setAll("data.bodyDirty",!1)}}),Object.defineProperty(N.Weapon.prototype,"x",{get:function(){return this.fireFrom.x},set:function(t){this.fireFrom.x=t}}),Object.defineProperty(N.Weapon.prototype,"y",{get:function(){return this.fireFrom.y},set:function(t){this.fireFrom.y=t}}),N.Bullet=function(t,e,i,s,n){N.Sprite.call(this,t,e,i,s,n),this.anchor.set(.5),this.data={bulletManager:null,fromX:0,fromY:0,bodyDirty:!0,rotateToVelocity:!1,killType:0,killDistance:0}},N.Bullet.prototype=Object.create(N.Sprite.prototype),N.Bullet.prototype.constructor=N.Bullet,N.Bullet.prototype.kill=function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.data.bulletManager.onKill.dispatch(this),this},N.Bullet.prototype.update=function(){this.exists&&(this.data.killType>N.Weapon.KILL_LIFESPAN&&(this.data.killType===N.Weapon.KILL_DISTANCE?this.game.physics.arcade.distanceToXY(this,this.data.fromX,this.data.fromY,!0)>this.data.killDistance&&this.kill():this.data.bulletManager.bulletBounds.intersects(this)||this.kill()),this.data.rotateToVelocity&&(this.rotation=this.body.velocity.atan()),this.data.bulletManager.bulletWorldWrap)&&this.game.world.wrap(this,this.data.bulletManager.bulletWorldWrapPadding)},N.Video=function(t,e,i){var s;void 0===e&&(e=null),void 0===i&&(i=null),this.game=t,this.key=e,this.width=0,this.height=0,this.type=N.VIDEO,this.disableTextureUpload=!1,this.touchLocked=!1,this.onPlay=new N.Signal,this.onChangeSource=new N.Signal,this.onComplete=new N.Signal,this.onAccess=new N.Signal,this.onError=new N.Signal,this.onTimeout=new N.Signal,this.onTouchUnlock=new N.Signal,this.playWhenUnlocked=!0,this.timeout=15e3,this._timeOutID=null,this.video=null,this.videoStream=null,this.isStreaming=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._codeMuted=!1,this._muted=!1,this._codePaused=!1,this._paused=!1,this._pending=!1,this._pendingChangeSource=!1,this._autoplay=!1,this._endCallback=null,this._playCallback=null,e&&this.game.cache.checkVideoKey(e)?((s=this.game.cache.getVideo(e)).isBlob?this.createVideoFromBlob(s.data):this.video=s.data,this.width=this.video.videoWidth,this.height=this.video.videoHeight):i&&this.createVideoFromURL(i,!1),this.video&&!i?this.baseTexture=new PIXI.BaseTexture(this.video,null,this.game.resolution):this.baseTexture=new PIXI.BaseTexture(N.Cache.DEFAULT.baseTexture.source,null,this.game.resolution),this.baseTexture.forceLoaded(this.width,this.height),this.texture=new PIXI.Texture(this.baseTexture),this.textureFrame=new N.Frame(0,0,0,this.width,this.height,"video"),this.texture.setFrame(this.textureFrame),this.texture.valid=!1,null!==e&&this.video&&(this.texture.valid=this.video.canplay),this.snapshot=null,N.BitmapData&&(this.snapshot=new N.BitmapData(this.game,"",this.width,this.height)),this.game.device.needsTouchUnlock()?this.setTouchLock():s&&(s.locked=!1)},N.Video.prototype={connectToMediaStream:function(t,e){return t&&e&&(this.video=t,this.videoStream=e,this.isStreaming=!0,this.baseTexture.source=this.video,this.updateTexture(null,this.video.videoWidth,this.video.videoHeight),this.onAccess.dispatch(this)),this},startMediaStream:function(t,e,i,s){if(void 0===t&&(t=!1),void 0===e&&(e=null),void 0===i&&(i=null),void 0===s&&(s=!0),!this.game.device.getUserMedia)return this.onError.dispatch(this,"No getUserMedia"),!1;if(null!==this.videoStream&&(this.videoStream.active?this.videoStream.active=!1:this.videoStream.stop()),this.removeVideoElement(),this.video=document.createElement("video"),this.video.setAttribute("autoplay","autoplay"),this.video.setAttribute("playsinline","playsinline"),null!==e&&(this.video.width=e),null!==i&&(this.video.height=i),this._timeOutID=window.setTimeout(this.getUserMediaTimeout.bind(this),this.timeout),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia({audio:t,video:s}).then(this.getUserMediaSuccess.bind(this)).catch(this.getUserMediaError.bind(this));else try{navigator.getUserMedia({audio:t,video:s},this.getUserMediaSuccess.bind(this),this.getUserMediaError.bind(this))}catch(t){this.getUserMediaError(t)}return this},getUserMediaTimeout:function(){clearTimeout(this._timeOutID),this.onTimeout.dispatch(this)},getUserMediaError:function(t){clearTimeout(this._timeOutID),this.onError.dispatch(this,t)},getUserMediaSuccess:function(t){clearTimeout(this._timeOutID),this.videoStream=t,void 0!==this.video.mozSrcObject?this.video.mozSrcObject=t:void 0!==this.video.srcObject?this.video.srcObject=t:this.video.src=window.URL&&window.URL.createObjectURL(t)||t;var n=this;this.video.onloadeddata=function(){var s=10;!function t(){var e,i;0<s?0<n.video.videoWidth?(e=n.video.videoWidth,i=n.video.videoHeight,isNaN(n.video.videoHeight)&&(i=e/(4/3)),n.video.play(),n.isStreaming=!0,n.baseTexture.source=n.video,n.updateTexture(null,e,i),n.onAccess.dispatch(n)):window.setTimeout(t,500):console.warn("Unable to connect to video stream. Webcam error?"),s--}()}},createVideoFromBlob:function(t){var e=this;return this.video=document.createElement("video"),this.video.controls=!1,this.video.setAttribute("autoplay","autoplay"),this.video.setAttribute("playsinline","playsinline"),this.video.addEventListener("loadeddata",function(t){e.updateTexture(t)},!0),this.video.src=window.URL.createObjectURL(t),this.video.canplay=!0,this},createVideoFromURL:function(t,e,i){return void 0===e&&(e=!1),this.texture&&(this.texture.valid=!1),this.video=document.createElement("video"),this.video.controls=!1,e&&this.video.setAttribute("autoplay","autoplay"),void 0!==i&&(this.video.crossOrigin=i),this.video.setAttribute("playsinline","playsinline"),this.video.src=t,this.video.canplay=!0,this.video.load(),this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.key=t,this},updateTexture:function(t,e,i){var s=!1;null==e&&(e=this.video.videoWidth,s=!0),null==i&&(i=this.video.videoHeight),this.width=e,this.height=i,this.baseTexture.source!==this.video&&(this.baseTexture.source=this.video),this.baseTexture.forceLoaded(e,i),this.texture.frame.resize(e,i),this.texture.width=e,this.texture.height=i,this.texture.valid=!0,this.snapshot&&this.snapshot.resize(e,i),s&&null!==this.key&&(this.onChangeSource.dispatch(this,e,i),this._autoplay)&&(this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate))},complete:function(){this.onComplete.dispatch(this)},play:function(t,e){return this._pendingChangeSource||(void 0===t&&(t=!1),void 0===e&&(e=1),this.game.sound.onMute&&(this.game.sound.onMute.add(this.setMute,this),this.game.sound.onUnMute.add(this.unsetMute,this),this.game.sound.mute)&&this.setMute(),this.game.onPause.add(this.setPause,this),this.game.onResume.add(this.setResume,this),this._endCallback=this.complete.bind(this),this.video.addEventListener("ended",this._endCallback,!0),this.video.addEventListener("webkitendfullscreen",this._endCallback,!0),this.video.loop=!!t,this.video.playbackRate=e,this.touchLocked?this._pending=!0:(this._pending=!1,null!==this.key&&(4!==this.video.readyState?(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval)):(this._playCallback=this.playHandler.bind(this),this.video.addEventListener("playing",this._playCallback,!0))),this.video.play(),this.onPlay.dispatch(this,t,e))),this},playHandler:function(){this.video.removeEventListener("playing",this._playCallback,!0),this.updateTexture()},stop:function(){return this.game.sound.onMute&&(this.game.sound.onMute.remove(this.setMute,this),this.game.sound.onUnMute.remove(this.unsetMute,this)),this.game.onPause.remove(this.setPause,this),this.game.onResume.remove(this.setResume,this),this.isStreaming?(this.video.mozSrcObject?(this.video.mozSrcObject.stop(),this.video.src=null):this.video.srcObject?(this.video.srcObject.stop(),this.video.src=null):(this.video.src="",this.videoStream.active?this.videoStream.active=!1:this.videoStream.getTracks?this.videoStream.getTracks().forEach(function(t){t.stop()}):this.videoStream.stop()),this.videoStream=null,this.isStreaming=!1):(this.video.removeEventListener("ended",this._endCallback,!0),this.video.removeEventListener("webkitendfullscreen",this._endCallback,!0),this.video.removeEventListener("playing",this._playCallback,!0),this.touchLocked?this._pending=!1:this.video.pause()),this},add:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e].loadTexture&&t[e].loadTexture(this);else t.loadTexture(this);return this},addToWorld:function(t,e,i,s,n,o){n=n||1,o=o||1;t=this.game.add.image(t,e,this);return t.anchor.set(i,s),t.scale.set(n,o),t},render:function(){!this.disableTextureUpload&&this.playing&&this.baseTexture.dirty()},setMute:function(){this._muted||(this._muted=!0,this.video.muted=!0)},unsetMute:function(){this._muted&&!this._codeMuted&&(this._muted=!1,this.video.muted=!1)},setPause:function(){this._paused||this.touchLocked||(this._paused=!0,this.video.pause())},setResume:function(){!this._paused||this._codePaused||this.touchLocked||(this._paused=!1,this.video.ended)||this.video.play()},changeSource:function(t,e){return void 0===e&&(e=!0),this.texture.valid=!1,this.video.pause(),this._pendingChangeSource=!0,this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.video.src=t,this.video.load(),(this._autoplay=e)||(this.paused=!0),this},checkVideoProgress:function(){4===this.video.readyState?(this._pendingChangeSource=!1,this.updateTexture()):(this.retry--,0<this.retry?this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval):console.warn("Phaser.Video: Unable to start downloading video in time",this.isStreaming))},setTouchLock:function(){this.game.input.addTouchLockCallback(this.unlock,this,!0),this.touchLocked=!0},unlock:function(){var t;return this.touchLocked=!1,this.playWhenUnlocked&&(this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate)),this.key&&(t=this.game.cache.getVideo(this.key))&&!t.isBlob&&(t.locked=!1),this.onTouchUnlock.dispatch(this),!0},grab:function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=1),void 0===i&&(i=null),null!==this.snapshot)return t&&this.snapshot.cls(),this.snapshot.copy(this.video,0,0,this.width,this.height,0,0,this.width,this.height,0,0,0,1,1,e,i),this.snapshot;console.warn("Video.grab cannot run because Phaser.BitmapData is unavailable")},removeVideoElement:function(){if(this.video){for(this.video.parentNode&&this.video.parentNode.removeChild(this.video);this.video.hasChildNodes();)this.video.removeChild(this.video.firstChild);this.video.removeAttribute("autoplay"),this.video.removeAttribute("src"),this.video=null}},destroy:function(){this.stop(),this.removeVideoElement(),this.touchLocked&&this.game.input.removeTouchLockCallback(this.unlock,this),this._retryID&&window.clearTimeout(this._retryID)}},Object.defineProperty(N.Video.prototype,"currentTime",{get:function(){return this.video?this.video.currentTime:0},set:function(t){this.video.currentTime=t}}),Object.defineProperty(N.Video.prototype,"duration",{get:function(){return this.video?this.video.duration:0}}),Object.defineProperty(N.Video.prototype,"progress",{get:function(){return this.video?this.video.currentTime/this.video.duration:0}}),Object.defineProperty(N.Video.prototype,"mute",{get:function(){return this._muted},set:function(t){(t=t||null)?this._muted||(this._codeMuted=!0,this.setMute()):this._muted&&(this._codeMuted=!1,this.unsetMute())}}),Object.defineProperty(N.Video.prototype,"paused",{get:function(){return this._paused},set:function(t){t=t||null,this.touchLocked||(t?this._paused||(this._codePaused=!0,this.setPause()):this._paused&&(this._codePaused=!1,this.setResume()))}}),Object.defineProperty(N.Video.prototype,"volume",{get:function(){return this.video?this.video.volume:1},set:function(t){t<0?t=0:1<t&&(t=1),this.video&&(this.video.volume=t)}}),Object.defineProperty(N.Video.prototype,"playbackRate",{get:function(){return this.video?this.video.playbackRate:1},set:function(t){this.video&&(this.video.playbackRate=t)}}),Object.defineProperty(N.Video.prototype,"loop",{get:function(){return!!this.video&&this.video.loop},set:function(t){t&&this.video?this.video.loop=!0:this.video&&(this.video.loop=!1)}}),Object.defineProperty(N.Video.prototype,"playing",{get:function(){return!(!this.video||this.video.paused&&this.video.ended)}}),N.Video.prototype.constructor=N.Video,void 0===PIXI.blendModes&&(PIXI.blendModes=N.blendModes),void 0===PIXI.scaleModes&&(PIXI.scaleModes=N.scaleModes),void 0===PIXI.Texture.emptyTexture&&(PIXI.Texture.emptyTexture=new PIXI.Texture(new PIXI.BaseTexture)),void 0===PIXI.DisplayObject._tempMatrix&&(PIXI.DisplayObject._tempMatrix=new N.Matrix),PIXI.TextureSilentFail=!0,PIXI.canUseNewCanvasBlendModes=function(){return N.Device.canUseMultiply},"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=N:exports).Phaser=N:"undefined"!=typeof define&&define.amd?define("Phaser",this.Phaser=N):this.Phaser=N,N}.call(this),window.Phaser.Loader.prototype.loadImageTag=function(e){var t,i=this;e.data=new Image,e.data.name=e.key,this.crossOrigin&&(e.data.crossOrigin=this.crossOrigin),e.data.onload=function(){e.data.onload&&(e.data.onload=null,e.data.onerror=null,i.fileComplete(e))},e.data.onerror=function(){e.data.onload&&(e.data.onload=null,e.data.onerror=null,i.fileError(e))},t=this.transformUrl(e.url,e),fetch(t).then(t=>t.blob()).then(s=>new Promise((t,e)=>{let i=new FileReader;i.onloadend=()=>t(i.result),i.onerror=e,i.readAsDataURL(s)})).then(t=>{e.data.src=t}),!this.game.device.firefox&&e.data.complete&&e.data.width&&e.data.height&&(e.data.onload=null,e.data.onerror=null,this.fileComplete(e))};var Phaser=window.Phaser;delete window.Phaser; 
 !function(){var u="undefined"!=typeof window&&void 0!==window.document?window.document:{},e="undefined"!=typeof module&&module.exports,c=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],l=0,r=n.length,t={};l<r;l++)if((e=n[l])&&e[1]in u){for(l=0;l<e.length;l++)t[n[0][l]]=e[l];return t}return!1}(),l={change:c.fullscreenchange,error:c.fullscreenerror},n={request:function(t){return new Promise(function(e,n){var l=function(){this.off("change",l),e()}.bind(this),r=(this.on("change",l),(t=t||u.documentElement)[c.requestFullscreen]());r instanceof Promise&&r.then(l).catch(n)}.bind(this))},exit:function(){return new Promise(function(e,n){var l,r;this.isFullscreen?(l=function(){this.off("change",l),e()}.bind(this),this.on("change",l),(r=u[c.exitFullscreen]())instanceof Promise&&r.then(l).catch(n)):e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){e=l[e];e&&u.addEventListener(e,n,!1)},off:function(e,n){e=l[e];e&&u.removeEventListener(e,n,!1)},raw:c};c?(Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(u[c.fullscreenElement])}},element:{enumerable:!0,get:function(){return u[c.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(u[c.fullscreenEnabled])}}}),e?module.exports=n:window.screenfull=n):e?module.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}(); 
 function getCountry(){var a={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua and Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AQ:"Antarctica",AR:"Argentina",AS:"American Samoa",AT:"Austria",AU:"Australia",AW:"Aruba",AX:"Åland Islands",AZ:"Azerbaijan",BA:"Bosnia and Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"Saint Barthélemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BV:"Bouvet Island",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CC:"Cocos Islands",CD:"Democratic Republic of the Congo",CF:"Central African Republic",CG:"Republic of the Congo",CH:"Switzerland",CI:"Ivory Coast",CK:"Cook Islands",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cabo Verde",CW:"Curaçao",CX:"Christmas Island",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",EH:"Western Sahara",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GG:"Guernsey",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GS:"South Georgia and the South Sandwich Islands",GT:"Guatemala",GU:"Guam",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HM:"Heard Island and McDonald Islands",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IM:"Isle of Man",IN:"India",IO:"British Indian Ocean Territory",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JE:"Jersey",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KI:"Kiribati",KM:"Comoros",KN:"Saint Kitts and Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"Saint Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"Saint Martin",MG:"Madagascar",MH:"Marshall Islands",MK:"North Macedonia",ML:"Mali",MM:"Myanmar",MN:"Mongolia",MO:"Macao",MP:"Northern Mariana Islands",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NR:"Nauru",NU:"Niue",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PM:"Saint Pierre and Miquelon",PN:"Pitcairn",PR:"Puerto Rico",PS:"Palestine",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"Réunion",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"Saint Helena, Ascension and Tristan da Cunha",SI:"Slovenia",SJ:"Svalbard and Jan Mayen",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",SS:"South Sudan",ST:"Sao Tome and Principe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks and Caicos Islands",TD:"Chad",TF:"French Southern Territories",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TK:"Tokelau",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"Turkey",TT:"Trinidad and Tobago",TV:"Tuvalu",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",UM:"United States Minor Outlying Islands",US:"United States of America",UY:"Uruguay",UZ:"Uzbekistan",VA:"Holy See",VC:"Saint Vincent and the Grenadines",VE:"Venezuela",VG:"Virgin Islands (UK)",VI:"Virgin Islands (US)",VN:"Vietnam",VU:"Vanuatu",WF:"Wallis and Futuna",WS:"Samoa",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe"},i={"Africa/Abidjan":{u:0,c:["CI","BF","GH","GM","GN","ML","MR","SH","SL","SN","TG"]},"Africa/Accra":{a:"Africa/Abidjan",c:["GH"],r:1},"Africa/Addis_Ababa":{a:"Africa/Nairobi",c:["ET"],r:1},"Africa/Algiers":{u:60,c:["DZ"]},"Africa/Asmara":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Asmera":{a:"Africa/Nairobi",c:["ER"],r:1},"Africa/Bamako":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Bangui":{a:"Africa/Lagos",c:["CF"],r:1},"Africa/Banjul":{a:"Africa/Abidjan",c:["GM"],r:1},"Africa/Bissau":{u:0,c:["GW"]},"Africa/Blantyre":{a:"Africa/Maputo",c:["MW"],r:1},"Africa/Brazzaville":{a:"Africa/Lagos",c:["CG"],r:1},"Africa/Bujumbura":{a:"Africa/Maputo",c:["BI"],r:1},"Africa/Cairo":{u:120,c:["EG"]},"Africa/Casablanca":{u:60,d:0,c:["MA"]},"Africa/Ceuta":{u:60,d:120,c:["ES"]},"Africa/Conakry":{a:"Africa/Abidjan",c:["GN"],r:1},"Africa/Dakar":{a:"Africa/Abidjan",c:["SN"],r:1},"Africa/Dar_es_Salaam":{a:"Africa/Nairobi",c:["TZ"],r:1},"Africa/Djibouti":{a:"Africa/Nairobi",c:["DJ"],r:1},"Africa/Douala":{a:"Africa/Lagos",c:["CM"],r:1},"Africa/El_Aaiun":{u:60,d:0,c:["EH"]},"Africa/Freetown":{a:"Africa/Abidjan",c:["SL"],r:1},"Africa/Gaborone":{a:"Africa/Maputo",c:["BW"],r:1},"Africa/Harare":{a:"Africa/Maputo",c:["ZW"],r:1},"Africa/Johannesburg":{u:120,c:["ZA","LS","SZ"]},"Africa/Juba":{u:120,c:["SS"]},"Africa/Kampala":{a:"Africa/Nairobi",c:["UG"],r:1},"Africa/Khartoum":{u:120,c:["SD"]},"Africa/Kigali":{a:"Africa/Maputo",c:["RW"],r:1},"Africa/Kinshasa":{a:"Africa/Lagos",c:["CD"],r:1},"Africa/Lagos":{u:60,c:["NG","AO","BJ","CD","CF","CG","CM","GA","GQ","NE"]},"Africa/Libreville":{a:"Africa/Lagos",c:["GA"],r:1},"Africa/Lome":{a:"Africa/Abidjan",c:["TG"],r:1},"Africa/Luanda":{a:"Africa/Lagos",c:["AO"],r:1},"Africa/Lubumbashi":{a:"Africa/Maputo",c:["CD"],r:1},"Africa/Lusaka":{a:"Africa/Maputo",c:["ZM"],r:1},"Africa/Malabo":{a:"Africa/Lagos",c:["GQ"],r:1},"Africa/Maputo":{u:120,c:["MZ","BI","BW","CD","MW","RW","ZM","ZW"]},"Africa/Maseru":{a:"Africa/Johannesburg",c:["LS"],r:1},"Africa/Mbabane":{a:"Africa/Johannesburg",c:["SZ"],r:1},"Africa/Mogadishu":{a:"Africa/Nairobi",c:["SO"],r:1},"Africa/Monrovia":{u:0,c:["LR"]},"Africa/Nairobi":{u:180,c:["KE","DJ","ER","ET","KM","MG","SO","TZ","UG","YT"]},"Africa/Ndjamena":{u:60,c:["TD"]},"Africa/Niamey":{a:"Africa/Lagos",c:["NE"],r:1},"Africa/Nouakchott":{a:"Africa/Abidjan",c:["MR"],r:1},"Africa/Ouagadougou":{a:"Africa/Abidjan",c:["BF"],r:1},"Africa/Porto-Novo":{a:"Africa/Lagos",c:["BJ"],r:1},"Africa/Sao_Tome":{u:0,c:["ST"]},"Africa/Timbuktu":{a:"Africa/Abidjan",c:["ML"],r:1},"Africa/Tripoli":{u:120,c:["LY"]},"Africa/Tunis":{u:60,c:["TN"]},"Africa/Windhoek":{u:120,c:["NA"]},"America/Adak":{u:-600,d:-540,c:["US"]},"America/Anchorage":{u:-540,d:-480,c:["US"]},"America/Anguilla":{a:"America/Puerto_Rico",c:["AI"],r:1},"America/Antigua":{a:"America/Puerto_Rico",c:["AG"],r:1},"America/Araguaina":{u:-180,c:["BR"]},"America/Argentina/Buenos_Aires":{u:-180,c:["AR"]},"America/Argentina/Catamarca":{u:-180,c:["AR"]},"America/Argentina/ComodRivadavia":{a:"America/Argentina/Catamarca",r:1},"America/Argentina/Cordoba":{u:-180,c:["AR"]},"America/Argentina/Jujuy":{u:-180,c:["AR"]},"America/Argentina/La_Rioja":{u:-180,c:["AR"]},"America/Argentina/Mendoza":{u:-180,c:["AR"]},"America/Argentina/Rio_Gallegos":{u:-180,c:["AR"]},"America/Argentina/Salta":{u:-180,c:["AR"]},"America/Argentina/San_Juan":{u:-180,c:["AR"]},"America/Argentina/San_Luis":{u:-180,c:["AR"]},"America/Argentina/Tucuman":{u:-180,c:["AR"]},"America/Argentina/Ushuaia":{u:-180,c:["AR"]},"America/Aruba":{a:"America/Puerto_Rico",c:["AW"],r:1},"America/Asuncion":{u:-240,d:-180,c:["PY"]},"America/Atikokan":{a:"America/Panama",c:["CA"],r:1},"America/Atka":{a:"America/Adak",r:1},"America/Bahia":{u:-180,c:["BR"]},"America/Bahia_Banderas":{u:-360,d:-300,c:["MX"]},"America/Barbados":{u:-240,c:["BB"]},"America/Belem":{u:-180,c:["BR"]},"America/Belize":{u:-360,c:["BZ"]},"America/Blanc-Sablon":{a:"America/Puerto_Rico",c:["CA"],r:1},"America/Boa_Vista":{u:-240,c:["BR"]},"America/Bogota":{u:-300,c:["CO"]},"America/Boise":{u:-420,d:-360,c:["US"]},"America/Buenos_Aires":{a:"America/Argentina/Buenos_Aires",r:1},"America/Cambridge_Bay":{u:-420,d:-360,c:["CA"]},"America/Campo_Grande":{u:-240,c:["BR"]},"America/Cancun":{u:-300,c:["MX"]},"America/Caracas":{u:-240,c:["VE"]},"America/Catamarca":{a:"America/Argentina/Catamarca",r:1},"America/Cayenne":{u:-180,c:["GF"]},"America/Cayman":{a:"America/Panama",c:["KY"],r:1},"America/Chicago":{u:-360,d:-300,c:["US"]},"America/Chihuahua":{u:-420,d:-360,c:["MX"]},"America/Coral_Harbour":{a:"America/Panama",c:["CA"],r:1},"America/Cordoba":{a:"America/Argentina/Cordoba",r:1},"America/Costa_Rica":{u:-360,c:["CR"]},"America/Creston":{a:"America/Phoenix",c:["CA"],r:1},"America/Cuiaba":{u:-240,c:["BR"]},"America/Curacao":{a:"America/Puerto_Rico",c:["CW"],r:1},"America/Danmarkshavn":{u:0,c:["GL"]},"America/Dawson":{u:-420,c:["CA"]},"America/Dawson_Creek":{u:-420,c:["CA"]},"America/Denver":{u:-420,d:-360,c:["US"]},"America/Detroit":{u:-300,d:-240,c:["US"]},"America/Dominica":{a:"America/Puerto_Rico",c:["DM"],r:1},"America/Edmonton":{u:-420,d:-360,c:["CA"]},"America/Eirunepe":{u:-300,c:["BR"]},"America/El_Salvador":{u:-360,c:["SV"]},"America/Ensenada":{a:"America/Tijuana",r:1},"America/Fort_Nelson":{u:-420,c:["CA"]},"America/Fort_Wayne":{a:"America/Indiana/Indianapolis",r:1},"America/Fortaleza":{u:-180,c:["BR"]},"America/Glace_Bay":{u:-240,d:-180,c:["CA"]},"America/Godthab":{a:"America/Nuuk",r:1},"America/Goose_Bay":{u:-240,d:-180,c:["CA"]},"America/Grand_Turk":{u:-300,d:-240,c:["TC"]},"America/Grenada":{a:"America/Puerto_Rico",c:["GD"],r:1},"America/Guadeloupe":{a:"America/Puerto_Rico",c:["GP"],r:1},"America/Guatemala":{u:-360,c:["GT"]},"America/Guayaquil":{u:-300,c:["EC"]},"America/Guyana":{u:-240,c:["GY"]},"America/Halifax":{u:-240,d:-180,c:["CA"]},"America/Havana":{u:-300,d:-240,c:["CU"]},"America/Hermosillo":{u:-420,c:["MX"]},"America/Indiana/Indianapolis":{u:-300,d:-240,c:["US"]},"America/Indiana/Knox":{u:-360,d:-300,c:["US"]},"America/Indiana/Marengo":{u:-300,d:-240,c:["US"]},"America/Indiana/Petersburg":{u:-300,d:-240,c:["US"]},"America/Indiana/Tell_City":{u:-360,d:-300,c:["US"]},"America/Indiana/Vevay":{u:-300,d:-240,c:["US"]},"America/Indiana/Vincennes":{u:-300,d:-240,c:["US"]},"America/Indiana/Winamac":{u:-300,d:-240,c:["US"]},"America/Indianapolis":{a:"America/Indiana/Indianapolis",r:1},"America/Inuvik":{u:-420,d:-360,c:["CA"]},"America/Iqaluit":{u:-300,d:-240,c:["CA"]},"America/Jamaica":{u:-300,c:["JM"]},"America/Jujuy":{a:"America/Argentina/Jujuy",r:1},"America/Juneau":{u:-540,d:-480,c:["US"]},"America/Kentucky/Louisville":{u:-300,d:-240,c:["US"]},"America/Kentucky/Monticello":{u:-300,d:-240,c:["US"]},"America/Knox_IN":{a:"America/Indiana/Knox",r:1},"America/Kralendijk":{a:"America/Puerto_Rico",c:["BQ"],r:1},"America/La_Paz":{u:-240,c:["BO"]},"America/Lima":{u:-300,c:["PE"]},"America/Los_Angeles":{u:-480,d:-420,c:["US"]},"America/Louisville":{a:"America/Kentucky/Louisville",r:1},"America/Lower_Princes":{a:"America/Puerto_Rico",c:["SX"],r:1},"America/Maceio":{u:-180,c:["BR"]},"America/Managua":{u:-360,c:["NI"]},"America/Manaus":{u:-240,c:["BR"]},"America/Marigot":{a:"America/Puerto_Rico",c:["MF"],r:1},"America/Martinique":{u:-240,c:["MQ"]},"America/Matamoros":{u:-360,d:-300,c:["MX"]},"America/Mazatlan":{u:-420,d:-360,c:["MX"]},"America/Mendoza":{a:"America/Argentina/Mendoza",r:1},"America/Menominee":{u:-360,d:-300,c:["US"]},"America/Merida":{u:-360,d:-300,c:["MX"]},"America/Metlakatla":{u:-540,d:-480,c:["US"]},"America/Mexico_City":{u:-360,d:-300,c:["MX"]},"America/Miquelon":{u:-180,d:-120,c:["PM"]},"America/Moncton":{u:-240,d:-180,c:["CA"]},"America/Monterrey":{u:-360,d:-300,c:["MX"]},"America/Montevideo":{u:-180,c:["UY"]},"America/Montreal":{a:"America/Toronto",c:["CA"],r:1},"America/Montserrat":{a:"America/Puerto_Rico",c:["MS"],r:1},"America/Nassau":{a:"America/Toronto",c:["BS"],r:1},"America/New_York":{u:-300,d:-240,c:["US"]},"America/Nipigon":{u:-300,d:-240,c:["CA"]},"America/Nome":{u:-540,d:-480,c:["US"]},"America/Noronha":{u:-120,c:["BR"]},"America/North_Dakota/Beulah":{u:-360,d:-300,c:["US"]},"America/North_Dakota/Center":{u:-360,d:-300,c:["US"]},"America/North_Dakota/New_Salem":{u:-360,d:-300,c:["US"]},"America/Nuuk":{u:-180,d:-120,c:["GL"]},"America/Ojinaga":{u:-420,d:-360,c:["MX"]},"America/Panama":{u:-300,c:["PA","CA","KY"]},"America/Pangnirtung":{u:-300,d:-240,c:["CA"]},"America/Paramaribo":{u:-180,c:["SR"]},"America/Phoenix":{u:-420,c:["US","CA"]},"America/Port-au-Prince":{u:-300,d:-240,c:["HT"]},"America/Port_of_Spain":{a:"America/Puerto_Rico",c:["TT"],r:1},"America/Porto_Acre":{a:"America/Rio_Branco",r:1},"America/Porto_Velho":{u:-240,c:["BR"]},"America/Puerto_Rico":{u:-240,c:["PR","AG","CA","AI","AW","BL","BQ","CW","DM","GD","GP","KN","LC","MF","MS","SX","TT","VC","VG","VI"]},"America/Punta_Arenas":{u:-180,c:["CL"]},"America/Rainy_River":{u:-360,d:-300,c:["CA"]},"America/Rankin_Inlet":{u:-360,d:-300,c:["CA"]},"America/Recife":{u:-180,c:["BR"]},"America/Regina":{u:-360,c:["CA"]},"America/Resolute":{u:-360,d:-300,c:["CA"]},"America/Rio_Branco":{u:-300,c:["BR"]},"America/Rosario":{a:"America/Argentina/Cordoba",r:1},"America/Santa_Isabel":{a:"America/Tijuana",r:1},"America/Santarem":{u:-180,c:["BR"]},"America/Santiago":{u:-240,d:-180,c:["CL"]},"America/Santo_Domingo":{u:-240,c:["DO"]},"America/Sao_Paulo":{u:-180,c:["BR"]},"America/Scoresbysund":{u:-60,d:0,c:["GL"]},"America/Shiprock":{a:"America/Denver",r:1},"America/Sitka":{u:-540,d:-480,c:["US"]},"America/St_Barthelemy":{a:"America/Puerto_Rico",c:["BL"],r:1},"America/St_Johns":{u:-150,d:-90,c:["CA"]},"America/St_Kitts":{a:"America/Puerto_Rico",c:["KN"],r:1},"America/St_Lucia":{a:"America/Puerto_Rico",c:["LC"],r:1},"America/St_Thomas":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/St_Vincent":{a:"America/Puerto_Rico",c:["VC"],r:1},"America/Swift_Current":{u:-360,c:["CA"]},"America/Tegucigalpa":{u:-360,c:["HN"]},"America/Thule":{u:-240,d:-180,c:["GL"]},"America/Thunder_Bay":{u:-300,d:-240,c:["CA"]},"America/Tijuana":{u:-480,d:-420,c:["MX"]},"America/Toronto":{u:-300,d:-240,c:["CA","BS"]},"America/Tortola":{a:"America/Puerto_Rico",c:["VG"],r:1},"America/Vancouver":{u:-480,d:-420,c:["CA"]},"America/Virgin":{a:"America/Puerto_Rico",c:["VI"],r:1},"America/Whitehorse":{u:-420,c:["CA"]},"America/Winnipeg":{u:-360,d:-300,c:["CA"]},"America/Yakutat":{u:-540,d:-480,c:["US"]},"America/Yellowknife":{u:-420,d:-360,c:["CA"]},"Antarctica/Casey":{u:660,c:["AQ"]},"Antarctica/Davis":{u:420,c:["AQ"]},"Antarctica/DumontDUrville":{a:"Pacific/Port_Moresby",c:["AQ"],r:1},"Antarctica/Macquarie":{u:600,d:660,c:["AU"]},"Antarctica/Mawson":{u:300,c:["AQ"]},"Antarctica/McMurdo":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Palmer":{u:-180,c:["AQ"]},"Antarctica/Rothera":{u:-180,c:["AQ"]},"Antarctica/South_Pole":{a:"Pacific/Auckland",c:["AQ"],r:1},"Antarctica/Syowa":{a:"Asia/Riyadh",c:["AQ"],r:1},"Antarctica/Troll":{u:0,d:120,c:["AQ"]},"Antarctica/Vostok":{u:360,c:["AQ"]},"Arctic/Longyearbyen":{a:"Europe/Oslo",c:["SJ"],r:1},"Asia/Aden":{a:"Asia/Riyadh",c:["YE"],r:1},"Asia/Almaty":{u:360,c:["KZ"]},"Asia/Amman":{u:120,d:180,c:["JO"]},"Asia/Anadyr":{u:720,c:["RU"]},"Asia/Aqtau":{u:300,c:["KZ"]},"Asia/Aqtobe":{u:300,c:["KZ"]},"Asia/Ashgabat":{u:300,c:["TM"]},"Asia/Ashkhabad":{a:"Asia/Ashgabat",r:1},"Asia/Atyrau":{u:300,c:["KZ"]},"Asia/Baghdad":{u:180,c:["IQ"]},"Asia/Bahrain":{a:"Asia/Qatar",c:["BH"],r:1},"Asia/Baku":{u:240,c:["AZ"]},"Asia/Bangkok":{u:420,c:["TH","KH","LA","VN"]},"Asia/Barnaul":{u:420,c:["RU"]},"Asia/Beirut":{u:120,d:180,c:["LB"]},"Asia/Bishkek":{u:360,c:["KG"]},"Asia/Brunei":{u:480,c:["BN"]},"Asia/Calcutta":{a:"Asia/Kolkata",r:1},"Asia/Chita":{u:540,c:["RU"]},"Asia/Choibalsan":{u:480,c:["MN"]},"Asia/Chongqing":{a:"Asia/Shanghai",r:1},"Asia/Chungking":{a:"Asia/Shanghai",r:1},"Asia/Colombo":{u:330,c:["LK"]},"Asia/Dacca":{a:"Asia/Dhaka",r:1},"Asia/Damascus":{u:120,d:180,c:["SY"]},"Asia/Dhaka":{u:360,c:["BD"]},"Asia/Dili":{u:540,c:["TL"]},"Asia/Dubai":{u:240,c:["AE","OM"]},"Asia/Dushanbe":{u:300,c:["TJ"]},"Asia/Famagusta":{u:120,d:180,c:["CY"]},"Asia/Gaza":{u:120,d:180,c:["PS"]},"Asia/Harbin":{a:"Asia/Shanghai",r:1},"Asia/Hebron":{u:120,d:180,c:["PS"]},"Asia/Ho_Chi_Minh":{u:420,c:["VN"]},"Asia/Hong_Kong":{u:480,c:["HK"]},"Asia/Hovd":{u:420,c:["MN"]},"Asia/Irkutsk":{u:480,c:["RU"]},"Asia/Istanbul":{a:"Europe/Istanbul",r:1},"Asia/Jakarta":{u:420,c:["ID"]},"Asia/Jayapura":{u:540,c:["ID"]},"Asia/Jerusalem":{u:120,d:180,c:["IL"]},"Asia/Kabul":{u:270,c:["AF"]},"Asia/Kamchatka":{u:720,c:["RU"]},"Asia/Karachi":{u:300,c:["PK"]},"Asia/Kashgar":{a:"Asia/Urumqi",r:1},"Asia/Kathmandu":{u:345,c:["NP"]},"Asia/Katmandu":{a:"Asia/Kathmandu",r:1},"Asia/Khandyga":{u:540,c:["RU"]},"Asia/Kolkata":{u:330,c:["IN"]},"Asia/Krasnoyarsk":{u:420,c:["RU"]},"Asia/Kuala_Lumpur":{u:480,c:["MY"]},"Asia/Kuching":{u:480,c:["MY"]},"Asia/Kuwait":{a:"Asia/Riyadh",c:["KW"],r:1},"Asia/Macao":{a:"Asia/Macau",r:1},"Asia/Macau":{u:480,c:["MO"]},"Asia/Magadan":{u:660,c:["RU"]},"Asia/Makassar":{u:480,c:["ID"]},"Asia/Manila":{u:480,c:["PH"]},"Asia/Muscat":{a:"Asia/Dubai",c:["OM"],r:1},"Asia/Nicosia":{u:120,d:180,c:["CY"]},"Asia/Novokuznetsk":{u:420,c:["RU"]},"Asia/Novosibirsk":{u:420,c:["RU"]},"Asia/Omsk":{u:360,c:["RU"]},"Asia/Oral":{u:300,c:["KZ"]},"Asia/Phnom_Penh":{a:"Asia/Bangkok",c:["KH"],r:1},"Asia/Pontianak":{u:420,c:["ID"]},"Asia/Pyongyang":{u:540,c:["KP"]},"Asia/Qatar":{u:180,c:["QA","BH"]},"Asia/Qostanay":{u:360,c:["KZ"]},"Asia/Qyzylorda":{u:300,c:["KZ"]},"Asia/Rangoon":{a:"Asia/Yangon",r:1},"Asia/Riyadh":{u:180,c:["SA","AQ","KW","YE"]},"Asia/Saigon":{a:"Asia/Ho_Chi_Minh",r:1},"Asia/Sakhalin":{u:660,c:["RU"]},"Asia/Samarkand":{u:300,c:["UZ"]},"Asia/Seoul":{u:540,c:["KR"]},"Asia/Shanghai":{u:480,c:["CN"]},"Asia/Singapore":{u:480,c:["SG","MY"]},"Asia/Srednekolymsk":{u:660,c:["RU"]},"Asia/Taipei":{u:480,c:["TW"]},"Asia/Tashkent":{u:300,c:["UZ"]},"Asia/Tbilisi":{u:240,c:["GE"]},"Asia/Tehran":{u:210,d:270,c:["IR"]},"Asia/Tel_Aviv":{a:"Asia/Jerusalem",r:1},"Asia/Thimbu":{a:"Asia/Thimphu",r:1},"Asia/Thimphu":{u:360,c:["BT"]},"Asia/Tokyo":{u:540,c:["JP"]},"Asia/Tomsk":{u:420,c:["RU"]},"Asia/Ujung_Pandang":{a:"Asia/Makassar",r:1},"Asia/Ulaanbaatar":{u:480,c:["MN"]},"Asia/Ulan_Bator":{a:"Asia/Ulaanbaatar",r:1},"Asia/Urumqi":{u:360,c:["CN"]},"Asia/Ust-Nera":{u:600,c:["RU"]},"Asia/Vientiane":{a:"Asia/Bangkok",c:["LA"],r:1},"Asia/Vladivostok":{u:600,c:["RU"]},"Asia/Yakutsk":{u:540,c:["RU"]},"Asia/Yangon":{u:390,c:["MM"]},"Asia/Yekaterinburg":{u:300,c:["RU"]},"Asia/Yerevan":{u:240,c:["AM"]},"Atlantic/Azores":{u:-60,d:0,c:["PT"]},"Atlantic/Bermuda":{u:-240,d:-180,c:["BM"]},"Atlantic/Canary":{u:0,d:60,c:["ES"]},"Atlantic/Cape_Verde":{u:-60,c:["CV"]},"Atlantic/Faeroe":{a:"Atlantic/Faroe",r:1},"Atlantic/Faroe":{u:0,d:60,c:["FO"]},"Atlantic/Jan_Mayen":{a:"Europe/Oslo",c:["SJ"],r:1},"Atlantic/Madeira":{u:0,d:60,c:["PT"]},"Atlantic/Reykjavik":{u:0,c:["IS"]},"Atlantic/South_Georgia":{u:-120,c:["GS"]},"Atlantic/St_Helena":{a:"Africa/Abidjan",c:["SH"],r:1},"Atlantic/Stanley":{u:-180,c:["FK"]},"Australia/ACT":{a:"Australia/Sydney",r:1},"Australia/Adelaide":{u:570,d:630,c:["AU"]},"Australia/Brisbane":{u:600,c:["AU"]},"Australia/Broken_Hill":{u:570,d:630,c:["AU"]},"Australia/Canberra":{a:"Australia/Sydney",r:1},"Australia/Currie":{a:"Australia/Hobart",r:1},"Australia/Darwin":{u:570,c:["AU"]},"Australia/Eucla":{u:525,c:["AU"]},"Australia/Hobart":{u:600,d:660,c:["AU"]},"Australia/LHI":{a:"Australia/Lord_Howe",r:1},"Australia/Lindeman":{u:600,c:["AU"]},"Australia/Lord_Howe":{u:630,d:660,c:["AU"]},"Australia/Melbourne":{u:600,d:660,c:["AU"]},"Australia/NSW":{a:"Australia/Sydney",r:1},"Australia/North":{a:"Australia/Darwin",r:1},"Australia/Perth":{u:480,c:["AU"]},"Australia/Queensland":{a:"Australia/Brisbane",r:1},"Australia/South":{a:"Australia/Adelaide",r:1},"Australia/Sydney":{u:600,d:660,c:["AU"]},"Australia/Tasmania":{a:"Australia/Hobart",r:1},"Australia/Victoria":{a:"Australia/Melbourne",r:1},"Australia/West":{a:"Australia/Perth",r:1},"Australia/Yancowinna":{a:"Australia/Broken_Hill",r:1},"Brazil/Acre":{a:"America/Rio_Branco",r:1},"Brazil/DeNoronha":{a:"America/Noronha",r:1},"Brazil/East":{a:"America/Sao_Paulo",r:1},"Brazil/West":{a:"America/Manaus",r:1},CET:{u:60,d:120},CST6CDT:{u:-360,d:-300},"Canada/Atlantic":{a:"America/Halifax",r:1},"Canada/Central":{a:"America/Winnipeg",r:1},"Canada/Eastern":{a:"America/Toronto",c:["CA"],r:1},"Canada/Mountain":{a:"America/Edmonton",r:1},"Canada/Newfoundland":{a:"America/St_Johns",r:1},"Canada/Pacific":{a:"America/Vancouver",r:1},"Canada/Saskatchewan":{a:"America/Regina",r:1},"Canada/Yukon":{a:"America/Whitehorse",r:1},"Chile/Continental":{a:"America/Santiago",r:1},"Chile/EasterIsland":{a:"Pacific/Easter",r:1},Cuba:{a:"America/Havana",r:1},EET:{u:120,d:180},EST:{u:-300},EST5EDT:{u:-300,d:-240},Egypt:{a:"Africa/Cairo",r:1},Eire:{a:"Europe/Dublin",r:1},"Etc/GMT":{u:0},"Etc/GMT+0":{a:"Etc/GMT",r:1},"Etc/GMT+1":{u:-60},"Etc/GMT+10":{u:-600},"Etc/GMT+11":{u:-660},"Etc/GMT+12":{u:-720},"Etc/GMT+2":{u:-120},"Etc/GMT+3":{u:-180},"Etc/GMT+4":{u:-240},"Etc/GMT+5":{u:-300},"Etc/GMT+6":{u:-360},"Etc/GMT+7":{u:-420},"Etc/GMT+8":{u:-480},"Etc/GMT+9":{u:-540},"Etc/GMT-0":{a:"Etc/GMT",r:1},"Etc/GMT-1":{u:60},"Etc/GMT-10":{u:600},"Etc/GMT-11":{u:660},"Etc/GMT-12":{u:720},"Etc/GMT-13":{u:780},"Etc/GMT-14":{u:840},"Etc/GMT-2":{u:120},"Etc/GMT-3":{u:180},"Etc/GMT-4":{u:240},"Etc/GMT-5":{u:300},"Etc/GMT-6":{u:360},"Etc/GMT-7":{u:420},"Etc/GMT-8":{u:480},"Etc/GMT-9":{u:540},"Etc/GMT0":{a:"Etc/GMT",r:1},"Etc/Greenwich":{a:"Etc/GMT",r:1},"Etc/UCT":{a:"Etc/UTC",r:1},"Etc/UTC":{u:0},"Etc/Universal":{a:"Etc/UTC",r:1},"Etc/Zulu":{a:"Etc/UTC",r:1},"Europe/Amsterdam":{u:60,d:120,c:["NL"]},"Europe/Andorra":{u:60,d:120,c:["AD"]},"Europe/Astrakhan":{u:240,c:["RU"]},"Europe/Athens":{u:120,d:180,c:["GR"]},"Europe/Belfast":{a:"Europe/London",c:["GB"],r:1},"Europe/Belgrade":{u:60,d:120,c:["RS","BA","HR","ME","MK","SI"]},"Europe/Berlin":{u:60,d:120,c:["DE"]},"Europe/Bratislava":{a:"Europe/Prague",c:["SK"],r:1},"Europe/Brussels":{u:60,d:120,c:["BE"]},"Europe/Bucharest":{u:120,d:180,c:["RO"]},"Europe/Budapest":{u:60,d:120,c:["HU"]},"Europe/Busingen":{a:"Europe/Zurich",c:["DE"],r:1},"Europe/Chisinau":{u:120,d:180,c:["MD"]},"Europe/Copenhagen":{u:60,d:120,c:["DK"]},"Europe/Dublin":{u:60,d:0,c:["IE"]},"Europe/Gibraltar":{u:60,d:120,c:["GI"]},"Europe/Guernsey":{a:"Europe/London",c:["GG"],r:1},"Europe/Helsinki":{u:120,d:180,c:["FI","AX"]},"Europe/Isle_of_Man":{a:"Europe/London",c:["IM"],r:1},"Europe/Istanbul":{u:180,c:["TR"]},"Europe/Jersey":{a:"Europe/London",c:["JE"],r:1},"Europe/Kaliningrad":{u:120,c:["RU"]},"Europe/Kiev":{u:120,d:180,c:["UA"]},"Europe/Kirov":{u:180,c:["RU"]},"Europe/Lisbon":{u:0,d:60,c:["PT"]},"Europe/Ljubljana":{a:"Europe/Belgrade",c:["SI"],r:1},"Europe/London":{u:0,d:60,c:["GB","GG","IM","JE"]},"Europe/Luxembourg":{u:60,d:120,c:["LU"]},"Europe/Madrid":{u:60,d:120,c:["ES"]},"Europe/Malta":{u:60,d:120,c:["MT"]},"Europe/Mariehamn":{a:"Europe/Helsinki",c:["AX"],r:1},"Europe/Minsk":{u:180,c:["BY"]},"Europe/Monaco":{u:60,d:120,c:["MC"]},"Europe/Moscow":{u:180,c:["RU"]},"Europe/Nicosia":{a:"Asia/Nicosia",r:1},"Europe/Oslo":{u:60,d:120,c:["NO","SJ","BV"]},"Europe/Paris":{u:60,d:120,c:["FR"]},"Europe/Podgorica":{a:"Europe/Belgrade",c:["ME"],r:1},"Europe/Prague":{u:60,d:120,c:["CZ","SK"]},"Europe/Riga":{u:120,d:180,c:["LV"]},"Europe/Rome":{u:60,d:120,c:["IT","SM","VA"]},"Europe/Samara":{u:240,c:["RU"]},"Europe/San_Marino":{a:"Europe/Rome",c:["SM"],r:1},"Europe/Sarajevo":{a:"Europe/Belgrade",c:["BA"],r:1},"Europe/Saratov":{u:240,c:["RU"]},"Europe/Simferopol":{u:180,c:["RU","UA"]},"Europe/Skopje":{a:"Europe/Belgrade",c:["MK"],r:1},"Europe/Sofia":{u:120,d:180,c:["BG"]},"Europe/Stockholm":{u:60,d:120,c:["SE"]},"Europe/Tallinn":{u:120,d:180,c:["EE"]},"Europe/Tirane":{u:60,d:120,c:["AL"]},"Europe/Tiraspol":{a:"Europe/Chisinau",r:1},"Europe/Ulyanovsk":{u:240,c:["RU"]},"Europe/Uzhgorod":{u:120,d:180,c:["UA"]},"Europe/Vaduz":{a:"Europe/Zurich",c:["LI"],r:1},"Europe/Vatican":{a:"Europe/Rome",c:["VA"],r:1},"Europe/Vienna":{u:60,d:120,c:["AT"]},"Europe/Vilnius":{u:120,d:180,c:["LT"]},"Europe/Volgograd":{u:180,c:["RU"]},"Europe/Warsaw":{u:60,d:120,c:["PL"]},"Europe/Zagreb":{a:"Europe/Belgrade",c:["HR"],r:1},"Europe/Zaporozhye":{u:120,d:180,c:["UA"]},"Europe/Zurich":{u:60,d:120,c:["CH","DE","LI"]},Factory:{u:0},GB:{a:"Europe/London",c:["GB"],r:1},"GB-Eire":{a:"Europe/London",c:["GB"],r:1},GMT:{a:"Etc/GMT",r:1},"GMT+0":{a:"Etc/GMT",r:1},"GMT-0":{a:"Etc/GMT",r:1},GMT0:{a:"Etc/GMT",r:1},Greenwich:{a:"Etc/GMT",r:1},HST:{u:-600},Hongkong:{a:"Asia/Hong_Kong",r:1},Iceland:{a:"Atlantic/Reykjavik",r:1},"Indian/Antananarivo":{a:"Africa/Nairobi",c:["MG"],r:1},"Indian/Chagos":{u:360,c:["IO"]},"Indian/Christmas":{u:420,c:["CX"]},"Indian/Cocos":{u:390,c:["CC"]},"Indian/Comoro":{a:"Africa/Nairobi",c:["KM"],r:1},"Indian/Kerguelen":{u:300,c:["TF","HM"]},"Indian/Mahe":{u:240,c:["SC"]},"Indian/Maldives":{u:300,c:["MV"]},"Indian/Mauritius":{u:240,c:["MU"]},"Indian/Mayotte":{a:"Africa/Nairobi",c:["YT"],r:1},"Indian/Reunion":{u:240,c:["RE","TF"]},Iran:{a:"Asia/Tehran",r:1},Israel:{a:"Asia/Jerusalem",r:1},Jamaica:{a:"America/Jamaica",r:1},Japan:{a:"Asia/Tokyo",r:1},Kwajalein:{a:"Pacific/Kwajalein",r:1},Libya:{a:"Africa/Tripoli",r:1},MET:{u:60,d:120},MST:{u:-420},MST7MDT:{u:-420,d:-360},"Mexico/BajaNorte":{a:"America/Tijuana",r:1},"Mexico/BajaSur":{a:"America/Mazatlan",r:1},"Mexico/General":{a:"America/Mexico_City",r:1},NZ:{a:"Pacific/Auckland",c:["NZ"],r:1},"NZ-CHAT":{a:"Pacific/Chatham",r:1},Navajo:{a:"America/Denver",r:1},PRC:{a:"Asia/Shanghai",r:1},PST8PDT:{u:-480,d:-420},"Pacific/Apia":{u:780,c:["WS"]},"Pacific/Auckland":{u:720,d:780,c:["NZ","AQ"]},"Pacific/Bougainville":{u:660,c:["PG"]},"Pacific/Chatham":{u:765,d:825,c:["NZ"]},"Pacific/Chuuk":{u:600,c:["FM"]},"Pacific/Easter":{u:-360,d:-300,c:["CL"]},"Pacific/Efate":{u:660,c:["VU"]},"Pacific/Enderbury":{a:"Pacific/Kanton",r:1},"Pacific/Fakaofo":{u:780,c:["TK"]},"Pacific/Fiji":{u:720,d:780,c:["FJ"]},"Pacific/Funafuti":{u:720,c:["TV"]},"Pacific/Galapagos":{u:-360,c:["EC"]},"Pacific/Gambier":{u:-540,c:["PF"]},"Pacific/Guadalcanal":{u:660,c:["SB"]},"Pacific/Guam":{u:600,c:["GU","MP"]},"Pacific/Honolulu":{u:-600,c:["US","UM"]},"Pacific/Johnston":{a:"Pacific/Honolulu",c:["UM"],r:1},"Pacific/Kanton":{u:780,c:["KI"]},"Pacific/Kiritimati":{u:840,c:["KI"]},"Pacific/Kosrae":{u:660,c:["FM"]},"Pacific/Kwajalein":{u:720,c:["MH"]},"Pacific/Majuro":{u:720,c:["MH"]},"Pacific/Marquesas":{u:-510,c:["PF"]},"Pacific/Midway":{a:"Pacific/Pago_Pago",c:["UM"],r:1},"Pacific/Nauru":{u:720,c:["NR"]},"Pacific/Niue":{u:-660,c:["NU"]},"Pacific/Norfolk":{u:660,d:720,c:["NF"]},"Pacific/Noumea":{u:660,c:["NC"]},"Pacific/Pago_Pago":{u:-660,c:["AS","UM"]},"Pacific/Palau":{u:540,c:["PW"]},"Pacific/Pitcairn":{u:-480,c:["PN"]},"Pacific/Pohnpei":{u:660,c:["FM"]},"Pacific/Ponape":{a:"Pacific/Pohnpei",r:1},"Pacific/Port_Moresby":{u:600,c:["PG","AQ"]},"Pacific/Rarotonga":{u:-600,c:["CK"]},"Pacific/Saipan":{a:"Pacific/Guam",c:["MP"],r:1},"Pacific/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},"Pacific/Tahiti":{u:-600,c:["PF"]},"Pacific/Tarawa":{u:720,c:["KI"]},"Pacific/Tongatapu":{u:780,c:["TO"]},"Pacific/Truk":{a:"Pacific/Chuuk",r:1},"Pacific/Wake":{u:720,c:["UM"]},"Pacific/Wallis":{u:720,c:["WF"]},"Pacific/Yap":{a:"Pacific/Chuuk",r:1},Poland:{a:"Europe/Warsaw",r:1},Portugal:{a:"Europe/Lisbon",r:1},ROC:{a:"Asia/Taipei",r:1},ROK:{a:"Asia/Seoul",r:1},Singapore:{a:"Asia/Singapore",c:["SG"],r:1},Turkey:{a:"Europe/Istanbul",r:1},UCT:{a:"Etc/UTC",r:1},"US/Alaska":{a:"America/Anchorage",r:1},"US/Aleutian":{a:"America/Adak",r:1},"US/Arizona":{a:"America/Phoenix",c:["US"],r:1},"US/Central":{a:"America/Chicago",r:1},"US/East-Indiana":{a:"America/Indiana/Indianapolis",r:1},"US/Eastern":{a:"America/New_York",r:1},"US/Hawaii":{a:"Pacific/Honolulu",c:["US"],r:1},"US/Indiana-Starke":{a:"America/Indiana/Knox",r:1},"US/Michigan":{a:"America/Detroit",r:1},"US/Mountain":{a:"America/Denver",r:1},"US/Pacific":{a:"America/Los_Angeles",r:1},"US/Samoa":{a:"Pacific/Pago_Pago",c:["WS"],r:1},UTC:{a:"Etc/UTC",r:1},Universal:{a:"Etc/UTC",r:1},"W-SU":{a:"Europe/Moscow",r:1},WET:{u:0,d:60},Zulu:{a:"Etc/UTC",r:1}},r=Intl.DateTimeFormat().resolvedOptions().timeZone;if(""===r||!r)return null;var c=!1;try{var e=i[r];if(!(e&&e.c&&e.c.length))return"unknown";c=i[r].c[0]}catch(a){return"unknown"}return!1!==c&&a[c]?a[c]:"unknown"}function getCountryMin(a=getCountry()){return a&&3<=a.length&&(a=(a=a.slice(0,3)).toLocaleUpperCase())&&3<=a.length&&"unknown"!==a?a:"unknown"}function getState(){var a=Intl.DateTimeFormat().resolvedOptions().timeZone;return""!==a&&a?a.split("/")[1].replace("_"," "):null} 
 !function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).firebase=e()}(this,function(){function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function M(t){return t="string"!=typeof t?String(t):t}function F(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Q&&(t[Symbol.iterator]=function(){return t}),t}function U(e){this.map={},e instanceof U?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function j(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function V(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function q(t){var e=new FileReader,n=V(e);return e.readAsArrayBuffer(t),n}function B(t){var e;return t.slice?t.slice(0):((e=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),e.buffer)}function W(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t)if("string"==typeof t)this._bodyText=t;else if(Y&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(X&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(z&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(J&&Y&&Z(t))this._bodyArrayBuffer=B(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!J||!ArrayBuffer.prototype.isPrototypeOf(t)&&!tt(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=B(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):z&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Y&&(this.blob=function(){var t=j(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?j(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(q)}),this.text=function(){var t,e,n=j(this);if(n)return n;if(this._bodyBlob)return n=this._bodyBlob,e=V(t=new FileReader),t.readAsText(n),e;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},X&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}function G(t,e){var n,r=(e=e||{}).body;if(t instanceof G){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new U(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new U(e.headers)),this.method=(n=(t=e.method||this.method||"GET").toUpperCase(),-1<et.indexOf(n)?n:t),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function H(t){var n=new FormData;return t.trim().split("&").forEach(function(t){var e;t&&(e=(t=t.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function K(t,e){e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new U(e.headers),this.url=e.url||"",this._initBody(t)}(t="undefined"!=typeof self?self:void 0).fetch||(z="URLSearchParams"in t,Q="Symbol"in t&&"iterator"in Symbol,Y="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),X="FormData"in t,(J="ArrayBuffer"in t)&&($=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Z=function(t){return t&&DataView.prototype.isPrototypeOf(t)},tt=ArrayBuffer.isView||function(t){return t&&-1<$.indexOf(Object.prototype.toString.call(t))}),U.prototype.append=function(t,e){t=a(t),e=M(e);var n=this.map[t];this.map[t]=n?n+","+e:e},U.prototype.delete=function(t){delete this.map[a(t)]},U.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},U.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},U.prototype.set=function(t,e){this.map[a(t)]=M(e)},U.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},U.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),F(n)},U.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),F(e)},U.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),F(n)},Q&&(U.prototype[Symbol.iterator]=U.prototype.entries),et=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],G.prototype.clone=function(){return new G(this,{body:this._bodyInit})},W.call(G.prototype),W.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new U(this.headers),url:this.url})},K.error=function(){var t=new K(null,{status:0,statusText:""});return t.type="error",t},nt=[301,302,303,307,308],K.redirect=function(t,e){if(-1===nt.indexOf(e))throw new RangeError("Invalid status code");return new K(null,{status:e,headers:{location:t}})},t.Headers=U,t.Request=G,t.Response=K,t.fetch=function(n,o){return new Promise(function(r,t){var e=new G(n,o),i=new XMLHttpRequest;i.onload=function(){var n,t={status:i.status,statusText:i.statusText,headers:(t=i.getAllResponseHeaders()||"",n=new U,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var t=t.split(":"),e=t.shift().trim();e&&(t=t.join(":").trim(),n.append(e,t))}),n)},e=(t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL"),"response"in i?i.response:i.responseText);r(new K(e,t))},i.onerror=function(){t(new TypeError("Network request failed"))},i.ontimeout=function(){t(new TypeError("Network request failed"))},i.open(e.method,e.url,!0),"include"===e.credentials?i.withCredentials=!0:"omit"===e.credentials&&(i.withCredentials=!1),"responseType"in i&&Y&&(i.responseType="blob"),e.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===e._bodyInit?null:e._bodyInit)})},t.fetch.polyfill=!0);var z,Q,Y,X,J,$,Z,tt,et,nt,t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function rt(t,e){return t(e={exports:{}},e.exports),e.exports}function it(t){return t&&t.Math==Math&&t}function ot(t){try{return!!t()}catch(t){return!0}}function st(t){return"object"==typeof t?null!==t:"function"==typeof t}function at(t){return vt?dt.createElement(t):{}}function p(t){if(st(t))return t;throw TypeError(String(t)+" is not an object")}function ut(t,e){if(!st(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!st(r=n.call(t))||"function"==typeof(n=t.valueOf)&&!st(r=n.call(t))||!e&&"function"==typeof(n=t.toString)&&!st(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}function ct(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function ht(e,n){try{bt(y,e,n)}catch(t){y[e]=n}return n}function u(t,e){return Et.call(t,e)}function lt(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++It+Tt).toString(36)}function ft(t){return u(Nt,t)||(St&&u(At,t)?Nt[t]=At[t]:Nt[t]=kt("Symbol."+t)),Nt[t]}var y=it("object"==typeof globalThis&&globalThis)||it("object"==typeof window&&window)||it("object"==typeof self&&self)||it("object"==typeof t&&t)||Function("return this")(),t=!1,pt=!ot(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),dt=y.document,vt=st(dt)&&st(dt.createElement),yt=!pt&&!ot(function(){return 7!=Object.defineProperty(at("div"),"a",{get:function(){return 7}}).a}),gt=Object.defineProperty,mt={f:pt?gt:function(t,e,n){if(p(t),e=ut(e,!0),p(n),yt)try{return gt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},bt=pt?function(t,e,n){return mt.f(t,e,ct(1,n))}:function(t,e,n){return t[e]=n,t},_t="__core-js_shared__",wt=y[_t]||ht(_t,{}),_t=rt(function(t){(t.exports=function(t,e){return wt[t]||(wt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),Et={}.hasOwnProperty,It=0,Tt=Math.random(),St=!!Object.getOwnPropertySymbols&&!ot(function(){return!String(Symbol())}),Ct=St&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Nt=_t("wks"),At=y.Symbol,kt=Ct?At:At&&At.withoutSetter||lt,Ot={},Ot=(Ot[ft("toStringTag")]="z","[object z]"===String(Ot)),Rt=Function.toString;function Pt(t){return qt[t]||(qt[t]=lt(t))}"function"!=typeof wt.inspectSource&&(wt.inspectSource=function(t){return Rt.call(t)});var Dt,xt,Lt,Mt,Ft,Ut,jt,Vt=wt.inspectSource,e=y.WeakMap,e="function"==typeof e&&/native code/.test(Vt(e)),qt=_t("keys"),Bt={},n=y.WeakMap;function Wt(t){return zt.call(t).slice(8,-1)}var Gt=e?(Dt=new n,xt=Dt.get,Lt=Dt.has,Mt=Dt.set,Ft=function(t,e){return Mt.call(Dt,t,e),e},Ut=function(t){return xt.call(Dt,t)||{}},function(t){return Lt.call(Dt,t)}):(jt=Pt("state"),Bt[jt]=!0,Ft=function(t,e){return bt(t,jt,e),e},Ut=function(t){return u(t,jt)?t[jt]:{}},function(t){return u(t,jt)}),Ht={set:Ft,get:Ut,has:Gt,enforce:function(t){return Gt(t)?Ut(t):Ft(t,{})},getterFor:function(e){return function(t){if(st(t)&&(t=Ut(t)).type===e)return t;throw TypeError("Incompatible receiver, "+e+" required")}}},Kt=rt(function(t){var e=Ht.get,s=Ht.enforce,a=String(String).split("String");(t.exports=function(t,e,n,r){var i=!!r&&!!r.unsafe,o=!!r&&!!r.enumerable,r=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||u(n,"name")||bt(n,"name",e),s(n).source=a.join("string"==typeof e?e:"")),t!==y?(i?!r&&t[e]&&(o=!0):delete t[e],o?t[e]=n:bt(t,e,n)):o?t[e]=n:ht(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||Vt(this)})}),zt={}.toString,Qt=ft("toStringTag"),Yt="Arguments"==Wt(function(){return arguments}()),Xt=Ot?Wt:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),Qt))?e:Yt?Wt(t):"Object"==(e=Wt(t))&&"function"==typeof t.callee?"Arguments":e};function Jt(t){return isNaN(t=+t)?0:(0<t?he:ce)(t)}function $t(t){if(null==t)throw TypeError("Can't call method on "+t);return t}function Zt(i){return function(t,e){var n,t=String($t(t)),e=Jt(e),r=t.length;return e<0||r<=e?i?"":void 0:(n=t.charCodeAt(e))<55296||56319<n||e+1===r||(r=t.charCodeAt(e+1))<56320||57343<r?i?t.charAt(e):n:i?t.slice(e,e+2):r-56320+(n-55296<<10)+65536}}function te(t){return de($t(t))}function ee(t){return"function"==typeof t?t:void 0}function ne(t,e){return arguments.length<2?ee(ge[t])||ee(y[t]):ge[t]&&ge[t][e]||y[t]&&y[t][e]}function re(t){return 0<t?me(Jt(t),9007199254740991):0}function ie(a){return function(t,e,n){var r,i=te(t),o=re(i.length),s=(t=o,(n=Jt(n))<0?be(n+t,0):_e(n,t));if(a&&e!=e){for(;s<o;)if((r=i[s++])!=r)return!0}else for(;s<o;s++)if((a||s in i)&&i[s]===e)return a||s||0;return!a&&-1}}function oe(t,e){var n,r=te(t),i=0,o=[];for(n in r)!u(Bt,n)&&u(r,n)&&o.push(n);for(;e.length>i;)!u(r,n=e[i++])||~we(o,n)||o.push(n);return o}function se(t,e){for(var n=Ce(e),r=mt.f,i=ye.f,o=0;o<n.length;o++){var s=n[o];u(t,s)||r(t,s,i(e,s))}}function ae(t,e){t=ke[Ae(t)];return t==Re||t!=Oe&&("function"==typeof e?ot(e):!!e)}function g(t,e){var n,r,i,o=t.target,s=t.global,a=t.stat,u=s?y:a?y[o]||ht(o,{}):(y[o]||{}).prototype;if(u)for(n in e){if(r=e[n],i=t.noTargetGet?(i=De(u,n))&&i.value:u[n],!Pe(s?n:o+(a?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;se(r,i)}(t.sham||i&&i.sham)&&bt(r,"sham",!0),Kt(u,n,r,t)}}function ue(t){return Object($t(t))}Ot||Kt(Object.prototype,"toString",Ot?{}.toString:function(){return"[object "+Xt(this)+"]"},{unsafe:!0});var ce=Math.ceil,he=Math.floor,e={codeAt:Zt(!1),charAt:Zt(!0)},n={}.propertyIsEnumerable,le=Object.getOwnPropertyDescriptor,fe={f:le&&!n.call({1:2},1)?function(t){t=le(this,t);return!!t&&t.enumerable}:n},pe="".split,de=ot(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Wt(t)?pe.call(t,""):Object(t)}:Object,ve=Object.getOwnPropertyDescriptor,ye={f:pt?ve:function(t,e){if(t=te(t),e=ut(e,!0),yt)try{return ve(t,e)}catch(t){}if(u(t,e))return ct(!fe.f.call(t,e),t[e])}},ge=y,me=Math.min,be=Math.max,_e=Math.min,we=(ie(!0),ie(!1)),Ee=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ie=Ee.concat("length","prototype"),Te={f:Object.getOwnPropertyNames||function(t){return oe(t,Ie)}},Se={f:Object.getOwnPropertySymbols},Ce=ne("Reflect","ownKeys")||function(t){var e=Te.f(p(t)),n=Se.f;return n?e.concat(n(t)):e},Ne=/#|\.prototype\./,Ae=ae.normalize=function(t){return String(t).replace(Ne,".").toLowerCase()},ke=ae.data={},Oe=ae.NATIVE="N",Re=ae.POLYFILL="P",Pe=ae,De=ye.f,Ot=!ot(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),xe=Pt("IE_PROTO"),Le=Object.prototype,Me=Ot?Object.getPrototypeOf:function(t){return u(t=ue(t),xe)?t[xe]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Le:null},n=ft("iterator"),Ot=!1;function Fe(){}function Ue(t){return"<script>"+t+"</"+Ge+">"}[].keys&&("next"in(r=[].keys())?(r=Me(Me(r)))!==Object.prototype&&(Jn=r):Ot=!0),u(Jn=null==Jn?{}:Jn,n)||bt(Jn,n,function(){return this});var je,r={IteratorPrototype:Jn,BUGGY_SAFARI_ITERATORS:Ot},Ve=Object.keys||function(t){return oe(t,Ee)},qe=pt?Object.defineProperties:function(t,e){p(t);for(var n,r=Ve(e),i=r.length,o=0;o<i;)mt.f(t,n=r[o++],e[n]);return t},Be=ne("document","documentElement"),We="prototype",Ge="script",He=Pt("IE_PROTO"),Ke=function(){try{je=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e,n;Ke=je?((e=je).write(Ue("")),e.close(),n=e.parentWindow.Object,e=null,n):((e=at("iframe")).style.display="none",Be.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Ue("document.F=Object")),t.close(),t.F);for(var r=Ee.length;r--;)delete Ke[We][Ee[r]];return Ke()};function ze(t,e,n){t&&!u(t=n?t:t.prototype,Ze)&&$e(t,Ze,{configurable:!0,value:e})}function Qe(){return this}function Ye(){return this}function Xe(t,e,n,r,i,o,s){function a(t){if(t===i&&d)return d;if(!on&&t in f)return f[t];switch(t){case"keys":case an:case un:return function(){return new n(this,t)}}return function(){return new n(this)}}u=e+" Iterator",(v=n).prototype=Je(en,{next:ct(1,r)}),ze(v,u,!1),tn[u]=Qe;var u,c,h,r=e+" Iterator",l=!1,f=t.prototype,p=f[sn]||f["@@iterator"]||i&&f[i],d=!on&&p||a(i),v="Array"==e&&f.entries||p;if(v&&(u=Me(v.call(new t)),rn!==Object.prototype)&&u.next&&(Me(u)!==rn&&(nn?nn(u,rn):"function"!=typeof u[sn]&&bt(u,sn,Ye)),ze(u,r,!0)),i==an&&p&&p.name!==an&&(l=!0,d=function(){return p.call(this)}),f[sn]!==d&&bt(f,sn,d),tn[e]=d,i)if(c={values:a(an),keys:o?d:a("keys"),entries:a(un)},s)for(h in c)!on&&!l&&h in f||Kt(f,h,c[h]);else g({target:e,proto:!0,forced:on||l},c);return c}Bt[He]=!0;var Je=Object.create||function(t,e){var n;return null!==t?(Fe[We]=p(t),n=new Fe,Fe[We]=null,n[He]=t):n=Ke(),void 0===e?n:qe(n,e)},$e=mt.f,Ze=ft("toStringTag"),tn={},en=r.IteratorPrototype,nn=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(t){}return function(t,e){if(p(t),st(e)||null===e)return r?n.call(t,e):t.__proto__=e,t;throw TypeError("Can't set "+String(e)+" as a prototype")}}():void 0),rn=r.IteratorPrototype,on=r.BUGGY_SAFARI_ITERATORS,sn=ft("iterator"),an="values",un="entries",cn=e.charAt,hn="String Iterator",ln=Ht.set,fn=Ht.getterFor(hn),pn=(Xe(String,"String",function(t){ln(this,{type:hn,string:String(t),index:0})},function(){var t=fn(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(e=cn(e,n),t.index+=e.length,{value:e,done:!1})}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),dn=ft("unscopables"),vn=Array.prototype;function yn(t){vn[dn][t]=!0}null==vn[dn]&&mt.f(vn,dn,{configurable:!0,value:Je(null)});var gn="Array Iterator",mn=Ht.set,bn=Ht.getterFor(gn),_n=Xe(Array,"Array",function(t,e){mn(this,{type:gn,target:te(t),index:0,kind:e})},function(){var t=bn(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");tn.Arguments=tn.Array,yn("keys"),yn("values"),yn("entries");var wn,En=ft("iterator"),In=ft("toStringTag"),Tn=_n.values;for(wn in pn){var Sn=y[wn],Cn=Sn&&Sn.prototype;if(Cn){if(Cn[En]!==Tn)try{bt(Cn,En,Tn)}catch(Ta){Cn[En]=Tn}if(Cn[In]||bt(Cn,In,wn),pn[wn])for(var Nn in _n)if(Cn[Nn]!==_n[Nn])try{bt(Cn,Nn,_n[Nn])}catch(Ta){Cn[Nn]=_n[Nn]}}}function An(t,e,n){for(var r in e)Kt(t,r,e[r],n);return t}function kn(t){var t=ne(t),e=mt.f;pt&&t&&!t[Mn]&&e(t,Mn,{configurable:!0,get:function(){return this}})}function l(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}function On(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}function Rn(t){return void 0!==t&&(tn.Array===t||Un[Fn]===t)}function Pn(r,i,t){if(l(r),void 0===i)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}function Dn(t){if(null!=t)return t[jn]||t["@@iterator"]||tn[Xt(t)]}function xn(t,e,n,r){try{return r?e(p(n)[0],n[1]):e(n)}catch(e){r=t.return;throw void 0!==r&&p(r.call(t)),e}}var Ln=y.Promise,Mn=ft("species"),Fn=ft("iterator"),Un=Array.prototype,jn=ft("iterator"),m=rt(function(t){function f(t,e){this.stopped=t,this.result=e}(t.exports=function(t,e,n,r,i){var o,s,a,u,c,h,l=Pn(e,n,r?2:1);if(i)o=t;else{if("function"!=typeof(e=Dn(t)))throw TypeError("Target is not iterable");if(Rn(e)){for(s=0,a=re(t.length);s<a;s++)if((u=r?l(p(h=t[s])[0],h[1]):l(t[s]))&&u instanceof f)return u;return new f(!1)}o=e.call(t)}for(c=o.next;!(h=c.call(o)).done;)if("object"==typeof(u=xn(o,l,h.value,r))&&u&&u instanceof f)return u;return new f(!1)}).stop=function(t){return new f(!0,t)}}),Vn=ft("iterator"),qn=!1;try{var Bn=0,i={next:function(){return{done:!!Bn++}},return:function(){qn=!0}};i[Vn]=function(){return this},Array.from(i,function(){throw 2})}catch(Ta){}function Wn(t,e){if(!e&&!qn)return!1;var n=!1;try{var r={};r[Vn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}function Gn(t,e){var t=p(t).constructor;return void 0===t||null==(t=p(t)[Xn])?e:l(t)}function Hn(t){var e;nr.hasOwnProperty(t)&&(e=nr[t],delete nr[t],e())}function Kn(t){return function(){Hn(t)}}function zn(t){Hn(t.data)}function Qn(t){y.postMessage(t+"",$n.protocol+"//"+$n.host)}var Yn,Xn=ft("species"),n=ne("navigator","userAgent")||"",Jn=/(iphone|ipod|ipad).*applewebkit/i.test(n),$n=y.location,Ot=y.setImmediate,r=y.clearImmediate,Zn=y.process,e=y.MessageChannel,tr=y.Dispatch,er=0,nr={},rr="onreadystatechange";Ot&&r||(Ot=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return nr[++er]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Yn(er),er},r=function(t){delete nr[t]},"process"==Wt(Zn)?Yn=function(t){Zn.nextTick(Kn(t))}:tr&&tr.now?Yn=function(t){tr.now(Kn(t))}:e&&!Jn?(e=(i=new e).port2,i.port1.onmessage=zn,Yn=Pn(e.postMessage,e,1)):!y.addEventListener||"function"!=typeof postMessage||y.importScripts||ot(Qn)||"file:"===$n.protocol?Yn=rr in at("script")?function(t){Be.appendChild(at("script"))[rr]=function(){Be.removeChild(this),Hn(t)}}:function(t){setTimeout(Kn(t),0)}:(Yn=Qn,y.addEventListener("message",zn,!1)));var ir,or,sr,ar,ur,cr,hr,lr,i={set:Ot,clear:r},e=ye.f,fr=i.set,Ot=y.MutationObserver||y.WebKitMutationObserver,pr=y.process,r=y.Promise,dr="process"==Wt(pr),e=e(y,"queueMicrotask"),e=e&&e.value;function vr(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=l(n),this.reject=l(r)}function yr(t,e){return p(t),st(e)&&e.constructor===t?e:((0,(t=br.f(t)).resolve)(e),t.promise)}function gr(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}e||(ir=function(){var t,e;for(dr&&(t=pr.domain)&&t.exit();or;){e=or.fn,or=or.next;try{e()}catch(t){throw or?ar():sr=void 0,t}}sr=void 0,t&&t.enter()},ar=dr?function(){pr.nextTick(ir)}:Ot&&!Jn?(ur=!0,cr=document.createTextNode(""),new Ot(ir).observe(cr,{characterData:!0}),function(){cr.data=ur=!ur}):r&&r.resolve?(hr=r.resolve(void 0),lr=hr.then,function(){lr.call(hr,ir)}):function(){fr.call(y,ir)});var mr=e||function(t){t={fn:t,next:void 0};sr&&(sr.next=t),or||(or=t,ar()),sr=t},br={f:function(t){return new vr(t)}},Jn=y.process,Ot=Jn&&Jn.versions,r=Ot&&Ot.v8;function _r(t){var e;return!(!st(t)||"function"!=typeof(e=t.then))&&e}function wr(l,f,p){var d;f.notified||(f.notified=!0,d=f.reactions,mr(function(){for(var t=f.value,e=1==f.state,n=0;d.length>n;){var r,i,o,s=d[n++],a=e?s.ok:s.fail,u=s.resolve,c=s.reject,h=s.domain;try{a?(e||(2===f.rejection&&Cr(l,f),f.rejection=1),!0===a?r=t:(h&&h.enter(),r=a(t),h&&(h.exit(),o=!0)),r===s.promise?c(Vr("Promise-chain cycle")):(i=_r(r))?i.call(r,u,c):u(r)):c(t)}catch(t){h&&!o&&h.exit(),c(t)}}f.reactions=[],f.notified=!1,p&&!f.rejection&&Sr(l,f)}))}function Er(t,e,n){var r;zr?((r=qr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),y.dispatchEvent(r)):r={promise:e,reason:n},(e=y["on"+t])?e(r):t===Qr&&function(t,e){var n=y.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)}function Ir(e,n,r,i){return function(t){e(n,r,t,i)}}function Tr(t,e,n,r){e.done||(e.done=!0,(e=r?r:e).value=n,e.state=2,wr(t,e,!0))}r?vi=(li=r.split("."))[0]+li[1]:n&&(!(li=n.match(/Edge\/(\d+)/))||74<=li[1])&&(li=n.match(/Chrome\/(\d+)/))&&(vi=li[1]);function Sr(n,r){Dr.call(y,function(){var t,e=r.value;if(Yr(r)&&(t=gr(function(){Kr?Br.emit("unhandledRejection",e,n):Er(Qr,n,e)}),r.rejection=Kr||Yr(r)?2:1,t.error))throw t.value})}function Cr(t,e){Dr.call(y,function(){Kr?Br.emit("rejectionHandled",t):Er("rejectionhandled",t,e.value)})}function Nr(t,e){var n=this;if(!(n instanceof Nr))return new Nr(t,e);nn&&(n=nn(new Error(e),Me(n)));var r=[];return m(t,r.push,r),pt?Jr(n,{errors:r,type:"AggregateError"}):n.errors=r,void 0!==e&&bt(n,"message",String(e)),n}var Ar,kr,Or,Rr,Pr=vi&&+vi,Dr=i.set,xr=ft("species"),Lr="Promise",Mr=Ht.get,Fr=Ht.set,Ur=Ht.getterFor(Lr),jr=Ln,Vr=y.TypeError,qr=y.document,Br=y.process,Wr=ne("fetch"),Gr=br.f,Hr=Gr,Kr="process"==Wt(Br),zr=!!(qr&&qr.createEvent&&y.dispatchEvent),Qr="unhandledrejection",e=Pe(Lr,function(){if(Vt(jr)===String(jr)){if(66===Pr)return!0;if(!Kr&&"function"!=typeof PromiseRejectionEvent)return!0}var t;return!(51<=Pr&&/native code/.test(jr)||(((t=jr.resolve(1)).constructor={})[xr]=e,t.then(function(){})instanceof e));function e(t){t(function(){},function(){})}}),Jn=e||!Wn(function(t){jr.all(t).catch(function(){})}),Yr=function(t){return 1!==t.rejection&&!t.parent},Xr=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw Vr("Promise can't be resolved itself");var i=_r(t);i?mr(function(){var e={done:!1};try{i.call(t,Ir(Xr,n,e,r),Ir(Tr,n,e,r))}catch(t){Tr(n,e,t,r)}}):(r.value=t,r.state=1,wr(n,r,!1))}catch(t){Tr(n,{done:!1},t,r)}}},Ot=(e&&(jr=function(t){On(this,jr,Lr),l(t),Ar.call(this);var e=Mr(this);try{t(Ir(Xr,this,e),Ir(Tr,this,e))}catch(t){Tr(this,e,t)}},(Ar=function(){Fr(this,{type:Lr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=An(jr.prototype,{then:function(t,e){var n=Ur(this),r=Gr(Gn(this,jr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=Kr?Br.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&wr(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),kr=function(){var t=new Ar,e=Mr(t);this.promise=t,this.resolve=Ir(Xr,t,e),this.reject=Ir(Tr,t,e)},br.f=Gr=function(t){return t===jr||t===Or?new kr:Hr(t)},"function"==typeof Ln)&&(Rr=Ln.prototype.then,Kt(Ln.prototype,"then",function(t,e){var n=this;return new jr(function(t,e){Rr.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Wr)&&g({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return yr(jr,Wr.apply(y,arguments))}}),g({global:!0,wrap:!0,forced:e},{Promise:jr}),ze(jr,Lr,!1),kn(Lr),Or=ne(Lr),g({target:Lr,stat:!0,forced:e},{reject:function(t){var e=Gr(this);return e.reject.call(void 0,t),e.promise}}),g({target:Lr,stat:!0,forced:e},{resolve:function(t){return yr(this,t)}}),g({target:Lr,stat:!0,forced:Jn},{all:function(t){var a=this,e=Gr(a),u=e.resolve,c=e.reject,n=gr(function(){var r=l(a.resolve),i=[],o=0,s=1;m(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]=t,--s)||u(i)},c)}),--s||u(i)});return n.error&&c(n.value),e.promise},race:function(t){var n=this,r=Gr(n),i=r.reject,e=gr(function(){var e=l(n.resolve);m(t,function(t){e.call(n,t).then(r.resolve,i)})});return e.error&&i(e.value),r.promise}}),g({target:"Promise",stat:!0},{allSettled:function(t){var a=this,e=br.f(a),u=e.resolve,n=e.reject,r=gr(function(){var r=l(a.resolve),i=[],o=0,s=1;m(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(a,t).then(function(t){n||(n=!0,i[e]={status:"fulfilled",value:t},--s)||u(i)},function(t){n||(n=!0,i[e]={status:"rejected",reason:t},--s)||u(i)})}),--s||u(i)});return r.error&&n(r.value),e.promise}}),!!Ln&&ot(function(){Ln.prototype.finally.call({then:function(){}},function(){})})),Jr=(g({target:"Promise",proto:!0,real:!0,forced:Ot},{finally:function(e){var n=Gn(this,ne("Promise")),t="function"==typeof e;return this.then(t?function(t){return yr(n,e()).then(function(){return t})}:e,t?function(t){return yr(n,e()).then(function(){throw t})}:e)}}),"function"!=typeof Ln||Ln.prototype.finally||Kt(Ln.prototype,"finally",ne("Promise").prototype.finally),ge.Promise,Ht.set),$r=Ht.getterFor("AggregateError"),Zr=(Nr.prototype=Je(Error.prototype,{constructor:ct(5,Nr),message:ct(5,""),name:ct(5,"AggregateError")}),pt&&mt.f(Nr.prototype,"errors",{get:function(){return $r(this).errors},configurable:!0}),g({global:!0},{AggregateError:Nr}),g({target:"Promise",stat:!0},{try:function(t){var e=br.f(this),t=gr(t);return(t.error?e.reject:e.resolve)(t.value),e.promise}}),"No one promise resolved");function ti(t,e){var n;return new(void 0===(n=ii(t)&&("function"==typeof(n=t.constructor)&&(n===Array||ii(n.prototype))||st(n)&&null===(n=n[oi]))?void 0:n)?Array:n)(0===e?0:e)}function ei(f){var p=1==f,d=2==f,v=3==f,y=4==f,g=6==f,m=5==f||g;return function(t,e,n,r){for(var i,o,s=ue(t),a=de(s),u=Pn(e,n,3),c=re(a.length),h=0,e=r||ti,l=p?e(t,c):d?e(t,0):void 0;h<c;h++)if((m||h in a)&&(o=u(i=a[h],h,s),f))if(p)l[h]=o;else if(o)switch(f){case 3:return!0;case 5:return i;case 6:return h;case 2:si.call(l,i)}else if(y)return!1;return g?-1:v||y?y:l}}function ni(t){throw t}function ri(t,e){var n,r,i,o;return u(ui,t)?ui[t]:(n=[][t],r=!!u(e=e||{},"ACCESSORS")&&e.ACCESSORS,i=u(e,0)?e[0]:ni,o=u(e,1)?e[1]:void 0,ui[t]=!!n&&!ot(function(){if(r&&!pt)return 1;var t={length:-1};r?ai(t,1,{enumerable:!0,get:ni}):t[1]=1,n.call(t,i,o)}))}g({target:"Promise",stat:!0},{any:function(t){var u=this,e=br.f(u),c=e.resolve,h=e.reject,n=gr(function(){var r=l(u.resolve),i=[],o=0,s=1,a=!1;m(t,function(t){var e=o++,n=!1;i.push(void 0),s++,r.call(u,t).then(function(t){n||a||(a=!0,c(t))},function(t){n||a||(n=!0,i[e]=t,--s)||h(new(ne("AggregateError"))(i,Zr))})}),--s||h(new(ne("AggregateError"))(i,Zr))});return n.error&&h(n.value),e.promise}});var ii=Array.isArray||function(t){return"Array"==Wt(t)},oi=ft("species"),si=[].push,r={forEach:ei(0),map:ei(1),filter:ei(2),some:ei(3),every:ei(4),find:ei(5),findIndex:ei(6)},ai=Object.defineProperty,ui={},ci=r.find,n="find",hi=!0,li=ri(n);function fi(t,e,n){Pn(pi,y[t].prototype[e],n)}n in[]&&Array(1)[n](function(){hi=!1}),g({target:"Array",proto:!0,forced:hi||!li},{find:function(t,e){return ci(this,t,1<arguments.length?e:void 0)}}),yn(n);var pi=Function.call,di=(fi("Array","find"),r.findIndex),vi="findIndex",yi=!0,i=ri(vi);function gi(t,e,n){e=ut(e);e in t?mt.f(t,e,ct(0,n)):t[e]=n}vi in[]&&Array(1)[vi](function(){yi=!1}),g({target:"Array",proto:!0,forced:yi||!i},{findIndex:function(t,e){return di(this,t,1<arguments.length?e:void 0)}}),yn(vi),fi("Array","findIndex"),g({target:"Array",stat:!0,forced:!Wn(function(t){Array.from(t)})},{from:function(t,e,n){var r,i,o,s,a,u=ue(t),t="function"==typeof this?this:Array,c=arguments.length,h=1<c?e:void 0,l=void 0!==h,e=Dn(u),f=0;if(l&&(h=Pn(h,2<c?n:void 0,2)),null==e||t==Array&&Rn(e))for(i=new t(r=re(u.length));f<r;f++)gi(i,f,l?h(u[f],f):u[f]);else for(a=(s=e.call(u)).next,i=new t;!(o=a.call(s)).done;f++)gi(i,f,l?xn(s,h,[o.value,f],!0):o.value);return i.length=f,i}}),ge.Array.from;var mi,bi=r.some,e=!!(mi=[].some)&&ot(function(){mi.call(null,function(){throw 1},1)}),Jn=ri("some");g({target:"Array",proto:!0,forced:!e||!Jn},{some:function(t,e){return bi(this,t,1<arguments.length?e:void 0)}}),fi("Array","some");var _i,Ot="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,li=mt.f,n=y.Int8Array,wi=n&&n.prototype,i=y.Uint8ClampedArray,vi=i&&i.prototype,Ei=n&&Me(n),Ii=wi&&Me(wi),e=Object.prototype,Jn=(e.isPrototypeOf,ft("toStringTag")),Ti=lt("TYPED_ARRAY_TAG"),Si=Ot&&!!nn&&"Opera"!==Xt(y.opera),Ci={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(_i in Ci)y[_i]||(Si=!1);if((!Si||"function"!=typeof Ei||Ei===Function.prototype)&&(Ei=function(){throw TypeError("Incorrect invocation")},Si))for(_i in Ci)y[_i]&&nn(y[_i],Ei);if((!Si||!Ii||Ii===e)&&(Ii=Ei.prototype,Si))for(_i in Ci)y[_i]&&nn(y[_i].prototype,Ii);if(Si&&Me(vi)!==Ii&&nn(vi,Ii),pt&&!u(Ii,Jn))for(_i in li(Ii,Jn,{get:function(){return st(this)?this[Ti]:void 0}}),Ci)y[_i]&&bt(y[_i],Ti,_i);function Ni(){return Ai.call(Ri(this))}var i=ft("iterator"),n=y.Uint8Array,Ai=_n.values,ki=_n.keys,Oi=_n.entries,Ri=function(t){if(st(e=t)&&u(Ci,Xt(e)))return t;var e;throw TypeError("Target is not a typed array")},Ot=function(t,e,n){if(pt){if(n)for(var r in Ci){r=y[r];r&&u(r.prototype,t)&&delete r.prototype[t]}Ii[t]&&!n||Kt(Ii,t,!n&&Si&&wi[t]||e)}},e=n&&n.prototype[i],vi=!!e&&("values"==e.name||null==e.name),Pi=(Ot("entries",function(){return Oi.call(Ri(this))}),Ot("keys",function(){return ki.call(Ri(this))}),Ot("values",Ni,!vi),Ot(i,Ni,!vi),Object.assign),Di=Object.defineProperty,li=!Pi||ot(function(){var t,e,n,r;return pt&&1!==Pi({b:1},Pi(Di({},"a",{enumerable:!0,get:function(){Di(this,"b",{value:3,enumerable:!1})}}),{b:2})).b||(e={},r="abcdefghijklmnopqrst",(t={})[n=Symbol()]=7,r.split("").forEach(function(t){e[t]=t}),7!=Pi({},t)[n])||Ve(Pi({},e)).join("")!=r})?function(t,e){for(var n=ue(t),r=arguments.length,i=1,o=Se.f,s=fe.f;i<r;)for(var a,u=de(arguments[i++]),c=o?Ve(u).concat(o(u)):Ve(u),h=c.length,l=0;l<h;)a=c[l++],pt&&!s.call(u,a)||(n[a]=u[a]);return n}:Pi;function xi(a){return function(t){for(var e,n=te(t),r=Ve(n),i=r.length,o=0,s=[];o<i;)e=r[o++],pt&&!Li.call(n,e)||s.push(a?[e,n[e]]:n[e]);return s}}g({target:"Object",stat:!0,forced:Object.assign!==li},{assign:li}),ge.Object.assign;var Li=fe.f,Jn={entries:xi(!0),values:xi(!1)},Mi=Jn.entries,Fi=(g({target:"Object",stat:!0},{entries:function(t){return Mi(t)}}),ge.Object.entries,Jn.values);function Ui(t){if(st(e=t)&&(void 0!==(n=e[Vi])?n:"RegExp"==Wt(e)))throw TypeError("The method doesn't accept regular expressions");var e,n;return t}function ji(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[qi]=!1,"/./"[e](n)}catch(t){}}return!1}g({target:"Object",stat:!0},{values:function(t){return Fi(t)}}),ge.Object.values;var Vi=ft("match"),qi=ft("match");g({target:"String",proto:!0,forced:!ji("includes")},{includes:function(t,e){return!!~String($t(this)).indexOf(Ui(t),1<arguments.length?e:void 0)}}),fi("String","includes");var n=ye.f,Bi="".startsWith,Wi=Math.min,e=ji("startsWith");g({target:"String",proto:!0,forced:!!(e||!(Ot=n(String.prototype,"startsWith"))||Ot.writable)&&!e},{startsWith:function(t,e){var n=String($t(this)),e=(Ui(t),re(Wi(1<arguments.length?e:void 0,n.length))),t=String(t);return Bi?Bi.call(n,t,e):n.slice(e,e+t.length)===t}}),fi("String","startsWith"),g({target:"String",proto:!0},{repeat:"".repeat||function(t){var e=String($t(this)),n="",r=Jt(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}),fi("String","repeat");var Gi=ft("species"),Hi=ft("isConcatSpreadable"),Ki=9007199254740991,zi="Maximum allowed index exceeded",i=51<=Pr||!ot(function(){var t=[];return t[Hi]=!1,t.concat()[0]!==t}),vi=51<=Pr||!ot(function(){var t=[];return(t.constructor={})[Gi]=function(){return{foo:1}},1!==t.concat(Boolean).foo});function Qi(t){var e=ge.Symbol||(ge.Symbol={});u(e,t)||so(e,t,{value:oo.f(t)})}function Yi(t,e){var n=wo[t]=Je(vo[ho]);return lo(n,{type:co,tag:t,description:e}),pt||(n.description=e),n}function Xi(e,t){p(e);var n=te(t),t=Ve(n).concat(eo(n));return ao(t,function(t){pt&&!to.call(n,t)||Zi(e,t,n[t])}),e}function Ji(t,e){var n,t=te(t),e=ut(e,!0);if(t!==po||!u(wo,e)||u(Eo,e))return!(n=go(t,e))||!u(wo,e)||u(t,uo)&&t[uo][e]||(n.enumerable=!0),n}function $i(t){var t=bo(te(t)),e=[];return ao(t,function(t){u(wo,t)||u(Bt,t)||e.push(t)}),e}g({target:"Array",proto:!0,forced:!i||!vi},{concat:function(t){for(var e,n,r,i=ue(this),o=ti(i,0),s=0,a=-1,u=arguments.length;a<u;a++)if(function(t){var e;if(st(t))return void 0!==(e=t[Hi])?e:ii(t)}(r=-1===a?i:arguments[a])){if(n=re(r.length),Ki<s+n)throw TypeError(zi);for(e=0;e<n;e++,s++)e in r&&gi(o,s,r[e])}else{if(Ki<=s)throw TypeError(zi);gi(o,s++,r)}return o.length=s,o}});function Zi(t,e,n){return t===po&&Zi(Eo,e,n),p(t),e=ut(e,!0),p(n),(u(wo,e)?(n.enumerable?(u(t,uo)&&t[uo][e]&&(t[uo][e]=!1),n=Je(n,{enumerable:ct(0,!1)})):(u(t,uo)||mo(t,uo,ct(1,{})),t[uo][e]=!0),Co):mo)(t,e,n)}function to(t){var t=ut(t,!0),e=_o.call(this,t);return!(this===po&&u(wo,t)&&!u(Eo,t))&&(!(e||!u(this,t)||!u(wo,t)||u(this,uo)&&this[uo][t])||e)}function eo(t){var e=t===po,t=bo(e?Eo:te(t)),n=[];return ao(t,function(t){!u(wo,t)||e&&!u(po,t)||n.push(wo[t])}),n}var no=Te.f,ro={}.toString,io="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],li={f:function(t){if(!io||"[object Window]"!=ro.call(t))return no(te(t));var e=t;try{return no(e)}catch(e){return io.slice()}}},oo={f:ft},so=mt.f,ao=r.forEach,uo=Pt("hidden"),co="Symbol",ho="prototype",Jn=ft("toPrimitive"),lo=Ht.set,fo=Ht.getterFor(co),po=Object[ho],vo=y.Symbol,yo=ne("JSON","stringify"),go=ye.f,mo=mt.f,bo=li.f,_o=fe.f,wo=_t("symbols"),Eo=_t("op-symbols"),Io=_t("string-to-symbol-registry"),To=_t("symbol-to-string-registry"),n=_t("wks"),Ot=y.QObject,So=!Ot||!Ot[ho]||!Ot[ho].findChild,Co=pt&&ot(function(){return 7!=Je(mo({},"a",{get:function(){return mo(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=go(po,e);r&&delete po[e],mo(t,e,n),r&&t!==po&&mo(po,e,r)}:mo,No=Ct?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof vo};St||(Kt((vo=function(t){if(this instanceof vo)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==t?String(t):void 0,e=lt(t),n=function(t){this===po&&n.call(Eo,t),u(this,uo)&&u(this[uo],e)&&(this[uo][e]=!1),Co(this,e,ct(1,t))};return pt&&So&&Co(po,e,{configurable:!0,set:n}),Yi(e,t)})[ho],"toString",function(){return fo(this).tag}),Kt(vo,"withoutSetter",function(t){return Yi(lt(t),t)}),fe.f=to,mt.f=Zi,ye.f=Ji,Te.f=li.f=$i,Se.f=eo,oo.f=function(t){return Yi(ft(t),t)},pt&&(mo(vo[ho],"description",{configurable:!0,get:function(){return fo(this).description}}),Kt(po,"propertyIsEnumerable",to,{unsafe:!0}))),g({global:!0,wrap:!0,forced:!St,sham:!St},{Symbol:vo}),ao(Ve(n),function(t){Qi(t)}),g({target:co,stat:!0,forced:!St},{for:function(t){var e,t=String(t);return u(Io,t)?Io[t]:(e=vo(t),Io[t]=e,To[e]=t,e)},keyFor:function(t){if(!No(t))throw TypeError(t+" is not a symbol");if(u(To,t))return To[t]},useSetter:function(){So=!0},useSimple:function(){So=!1}}),g({target:"Object",stat:!0,forced:!St,sham:!pt},{create:function(t,e){return void 0===e?Je(t):Xi(Je(t),e)},defineProperty:Zi,defineProperties:Xi,getOwnPropertyDescriptor:Ji}),g({target:"Object",stat:!0,forced:!St},{getOwnPropertyNames:$i,getOwnPropertySymbols:eo}),g({target:"Object",stat:!0,forced:ot(function(){Se.f(1)})},{getOwnPropertySymbols:function(t){return Se.f(ue(t))}}),yo&&g({target:"JSON",stat:!0,forced:!St||ot(function(){var t=vo();return"[null]"!=yo([t])||"{}"!=yo({a:t})||"{}"!=yo(Object(t))})},{stringify:function(t,e,n){for(var r,i=[t],o=1;o<arguments.length;)i.push(arguments[o++]);if((st(r=e)||void 0!==t)&&!No(t))return ii(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!No(e))return e}),i[1]=e,yo.apply(null,i)}}),vo[ho][Jn]||bt(vo[ho],Jn,vo[ho].valueOf),ze(vo,co),Bt[uo]=!0,Qi("asyncIterator");var Ao,ko,Oo,Ro,Po,e=mt.f,Do=y.Symbol;function xo(i,t,e){function n(t){var n=p[t];Kt(p,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(h&&!st(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return h&&!st(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(h&&!st(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})}var r,o,s,a,u,c=-1!==i.indexOf("Map"),h=-1!==i.indexOf("Weak"),l=c?"set":"add",f=y[i],p=f&&f.prototype,d=f,v={};Pe(i,"function"!=typeof f||!(h||p.forEach&&!ot(function(){(new f).entries().next()})))?(d=e.getConstructor(t,i,c,l),Fo.REQUIRED=!0):Pe(i,!0)&&(o=(r=new d)[l](h?{}:-0,1)!=r,s=ot(function(){r.has(1)}),a=Wn(function(t){new f(t)}),u=!h&&ot(function(){for(var t=new f,e=5;e--;)t[l](e,e);return!t.has(-0)}),a||(((d=t(function(t,e){On(t,d,i);n=new f,r=d,nn&&"function"==typeof(t=t.constructor)&&t!==r&&st(t=t.prototype)&&t!==r.prototype&&nn(n,t);var n,r=n;return null!=e&&m(e,r[l],r,c),r})).prototype=p).constructor=d),(s||u)&&(n("delete"),n("has"),c)&&n("get"),(u||o)&&n(l),h)&&p.clear&&delete p.clear,g({global:!0,forced:(v[i]=d)!=f},v),ze(d,i),h||e.setStrong(d,i,c)}function Lo(t,e,n){var r,i,o,s,a=arguments.length,e=1<a?e:void 0;return l(this),(r=void 0!==e)&&l(e),null==t?new this:(i=[],r?(o=0,s=Pn(e,2<a?n:void 0,2),m(t,function(t){i.push(s(t,o++))})):m(t,i.push,i),new this(i))}!pt||"function"!=typeof Do||"description"in Do.prototype&&void 0===Do().description||(Ao={},se(ko=function(t){var t=arguments.length<1||void 0===t?void 0:String(t),e=this instanceof ko?new Do(t):void 0===t?Do():Do(t);return""===t&&(Ao[e]=!0),e},Do),(i=ko.prototype=Do.prototype).constructor=ko,Oo=i.toString,Ro="Symbol(test)"==String(Do("test")),Po=/^Symbol\((.*)\)[^)]+$/,e(i,"description",{configurable:!0,get:function(){var t=st(this)?this.valueOf():this,e=Oo.call(t);return u(Ao,t)?"":""===(t=Ro?e.slice(7,-1):e.replace(Po,"$1"))?void 0:t}}),g({global:!0,forced:!0},{Symbol:ko})),Qi("hasInstance"),Qi("isConcatSpreadable"),Qi("iterator"),Qi("match"),Qi("matchAll"),Qi("replace"),Qi("search"),Qi("species"),Qi("split"),Qi("toPrimitive"),Qi("toStringTag"),Qi("unscopables"),ze(Math,"Math",!0),ze(y.JSON,"JSON",!0),ge.Symbol,Qi("asyncDispose"),Qi("dispose"),Qi("observable"),Qi("patternMatch"),Qi("replaceAll"),oo.f("iterator");var Mo=!ot(function(){return Object.isExtensible(Object.preventExtensions({}))}),Fo=rt(function(t){function n(t){e(t,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var e=mt.f,r=lt("meta"),i=0,o=Object.isExtensible||function(){return!0},s=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!st(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,r)){if(!o(t))return"F";if(!e)return"E";n(t)}return t[r].objectID},getWeakData:function(t,e){if(!u(t,r)){if(!o(t))return!0;if(!e)return!1;n(t)}return t[r].weakData},onFreeze:function(t){return Mo&&s.REQUIRED&&o(t)&&!u(t,r)&&n(t),t}};Bt[r]=!0}),Uo=(Fo.REQUIRED,mt.f),jo=Fo.fastKey,Vo=Ht.set,qo=Ht.getterFor,vi={getConstructor:function(t,n,r,i){function o(t,e,n){var r,i=u(t),o=s(t,e);return o?o.value=n:(i.last=o={index:r=jo(e,!0),key:e,value:n,previous:e=i.last,next:void 0,removed:!1},i.first||(i.first=o),e&&(e.next=o),pt?i.size++:t.size++,"F"!==r&&(i.index[r]=o)),t}function s(t,e){var n,t=u(t),r=jo(e);if("F"!==r)return t.index[r];for(n=t.first;n;n=n.next)if(n.key==e)return n}var a=t(function(t,e){On(t,a,n),Vo(t,{type:n,index:Je(null),first:void 0,last:void 0,size:0}),pt||(t.size=0),null!=e&&m(e,t[i],t,r)}),u=qo(n);return An(a.prototype,{clear:function(){for(var t=u(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,pt?t.size=0:this.size=0},delete:function(t){var e,n,r=u(this),t=s(this,t);return t&&(e=t.next,n=t.previous,delete r.index[t.index],t.removed=!0,n&&(n.next=e),e&&(e.previous=n),r.first==t&&(r.first=e),r.last==t&&(r.last=n),pt?r.size--:this.size--),!!t},forEach:function(t,e){for(var n,r=u(this),i=Pn(t,1<arguments.length?e:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!s(this,t)}}),An(a.prototype,r?{get:function(t){t=s(this,t);return t&&t.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),pt&&Uo(a.prototype,"size",{get:function(){return u(this).size}}),a},setStrong:function(t,e,n){var r=e+" Iterator",i=qo(e),o=qo(r);Xe(t,e,function(t,e){Vo(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),kn(e)}};function Bo(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}function Wo(){for(var t,e=p(this),n=l(e.delete),r=!0,i=0,o=arguments.length;i<o;i++)t=n.call(e,arguments[i]),r=r&&t;return!!r}function Go(t){return Map.prototype.entries.call(t)}function Ho(t,e,n){var r,i=p(this),n=2<arguments.length?n:void 0;if("function"!=typeof e&&"function"!=typeof n)throw TypeError("At least one callback required");return i.has(t)?(r=i.get(t),"function"==typeof e&&(r=e(r),i.set(t,r))):"function"==typeof n&&(r=n(),i.set(t,r)),r}function Ko(t){return Set.prototype.values.call(t)}xo("Map",function(e){return function(t){return e(this,arguments.length?t:void 0)}},vi),ge.Map,g({target:"Map",stat:!0},{from:Lo}),g({target:"Map",stat:!0},{of:Bo}),g({target:"Map",proto:!0,real:!0,forced:t},{deleteAll:function(){return Wo.apply(this,arguments)}}),g({target:"Map",proto:!0,real:!0,forced:t},{every:function(t,e){var n=p(this),r=Go(n),i=Pn(t,1<arguments.length?e:void 0,3);return!m(r,function(t,e){if(!i(e,t,n))return m.stop()},void 0,!0,!0).stopped}}),g({target:"Map",proto:!0,real:!0,forced:t},{filter:function(t,e){var n=p(this),r=Go(n),i=Pn(t,1<arguments.length?e:void 0,3),o=new(Gn(n,ne("Map"))),s=l(o.set);return m(r,function(t,e){i(e,t,n)&&s.call(o,t,e)},void 0,!0,!0),o}}),g({target:"Map",proto:!0,real:!0,forced:t},{find:function(t,e){var n=p(this),r=Go(n),i=Pn(t,1<arguments.length?e:void 0,3);return m(r,function(t,e){if(i(e,t,n))return m.stop(e)},void 0,!0,!0).result}}),g({target:"Map",proto:!0,real:!0,forced:t},{findKey:function(t,e){var n=p(this),r=Go(n),i=Pn(t,1<arguments.length?e:void 0,3);return m(r,function(t,e){if(i(e,t,n))return m.stop(t)},void 0,!0,!0).result}}),g({target:"Map",stat:!0},{groupBy:function(t,n){var r=new this,i=(l(n),l(r.has)),o=l(r.get),s=l(r.set);return m(t,function(t){var e=n(t);i.call(r,e)?o.call(r,e).push(t):s.call(r,e,[t])}),r}}),g({target:"Map",proto:!0,real:!0,forced:t},{includes:function(n){return m(Go(p(this)),function(t,e){if(e===n||e!=e&&n!=n)return m.stop()},void 0,!0,!0).stopped}}),g({target:"Map",stat:!0},{keyBy:function(t,e){var n=new this,r=(l(e),l(n.set));return m(t,function(t){r.call(n,e(t),t)}),n}}),g({target:"Map",proto:!0,real:!0,forced:t},{keyOf:function(n){return m(Go(p(this)),function(t,e){if(e===n)return m.stop(t)},void 0,!0,!0).result}}),g({target:"Map",proto:!0,real:!0,forced:t},{mapKeys:function(t,e){var n=p(this),r=Go(n),i=Pn(t,1<arguments.length?e:void 0,3),o=new(Gn(n,ne("Map"))),s=l(o.set);return m(r,function(t,e){s.call(o,i(e,t,n),e)},void 0,!0,!0),o}}),g({target:"Map",proto:!0,real:!0,forced:t},{mapValues:function(t,e){var n=p(this),r=Go(n),i=Pn(t,1<arguments.length?e:void 0,3),o=new(Gn(n,ne("Map"))),s=l(o.set);return m(r,function(t,e){s.call(o,t,i(e,t,n))},void 0,!0,!0),o}}),g({target:"Map",proto:!0,real:!0,forced:t},{merge:function(t){for(var e=p(this),n=l(e.set),r=0;r<arguments.length;)m(arguments[r++],n,e,!0);return e}}),g({target:"Map",proto:!0,real:!0,forced:t},{reduce:function(n,t){var r=p(this),e=Go(r),i=arguments.length<2,o=i?void 0:t;if(l(n),m(e,function(t,e){o=i?(i=!1,e):n(o,e,t,r)},void 0,!0,!0),i)throw TypeError("Reduce of empty map with no initial value");return o}}),g({target:"Map",proto:!0,real:!0,forced:t},{some:function(t,e){var n=p(this),r=Go(n),i=Pn(t,1<arguments.length?e:void 0,3);return m(r,function(t,e){if(i(e,t,n))return m.stop()},void 0,!0,!0).stopped}}),g({target:"Map",proto:!0,real:!0,forced:t},{update:function(t,e,n){var r=p(this),i=arguments.length,o=(l(e),r.has(t));if(!o&&i<3)throw TypeError("Updating absent value");o=o?r.get(t):l(2<i?n:void 0)(t,r);return r.set(t,e(o,t,r)),r}}),g({target:"Map",proto:!0,real:!0,forced:t},{upsert:Ho}),g({target:"Map",proto:!0,real:!0,forced:t},{updateOrInsert:Ho}),xo("Set",function(e){return function(t){return e(this,arguments.length?t:void 0)}},vi),ge.Set,g({target:"Set",stat:!0},{from:Lo}),g({target:"Set",stat:!0},{of:Bo}),g({target:"Set",proto:!0,real:!0,forced:t},{addAll:function(){return function(){for(var t=p(this),e=l(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t}.apply(this,arguments)}}),g({target:"Set",proto:!0,real:!0,forced:t},{deleteAll:function(){return Wo.apply(this,arguments)}}),g({target:"Set",proto:!0,real:!0,forced:t},{every:function(t,e){var n=p(this),r=Ko(n),i=Pn(t,1<arguments.length?e:void 0,3);return!m(r,function(t){if(!i(t,t,n))return m.stop()},void 0,!1,!0).stopped}}),g({target:"Set",proto:!0,real:!0,forced:t},{difference:function(t){var e=p(this),n=new(Gn(e,ne("Set")))(e),r=l(n.delete);return m(t,function(t){r.call(n,t)}),n}}),g({target:"Set",proto:!0,real:!0,forced:t},{filter:function(t,e){var n=p(this),r=Ko(n),i=Pn(t,1<arguments.length?e:void 0,3),o=new(Gn(n,ne("Set"))),s=l(o.add);return m(r,function(t){i(t,t,n)&&s.call(o,t)},void 0,!1,!0),o}}),g({target:"Set",proto:!0,real:!0,forced:t},{find:function(t,e){var n=p(this),r=Ko(n),i=Pn(t,1<arguments.length?e:void 0,3);return m(r,function(t){if(i(t,t,n))return m.stop(t)},void 0,!1,!0).result}}),g({target:"Set",proto:!0,real:!0,forced:t},{intersection:function(t){var e=p(this),n=new(Gn(e,ne("Set"))),r=l(e.has),i=l(n.add);return m(t,function(t){r.call(e,t)&&i.call(n,t)}),n}}),g({target:"Set",proto:!0,real:!0,forced:t},{isDisjointFrom:function(t){var e=p(this),n=l(e.has);return!m(t,function(t){if(!0===n.call(e,t))return m.stop()}).stopped}}),g({target:"Set",proto:!0,real:!0,forced:t},{isSubsetOf:function(t){var e=function(t){var e=Dn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return p(e.call(t))}(this),n=p(t),r=n.has;return"function"!=typeof r&&(n=new(ne("Set"))(t),r=l(n.has)),!m(e,function(t){if(!1===r.call(n,t))return m.stop()},void 0,!1,!0).stopped}}),g({target:"Set",proto:!0,real:!0,forced:t},{isSupersetOf:function(t){var e=p(this),n=l(e.has);return!m(t,function(t){if(!1===n.call(e,t))return m.stop()}).stopped}}),g({target:"Set",proto:!0,real:!0,forced:t},{join:function(t){var e=Ko(p(this)),t=void 0===t?",":String(t),n=[];return m(e,n.push,n,!1,!0),n.join(t)}}),g({target:"Set",proto:!0,real:!0,forced:t},{map:function(t,e){var n=p(this),r=Ko(n),i=Pn(t,1<arguments.length?e:void 0,3),o=new(Gn(n,ne("Set"))),s=l(o.add);return m(r,function(t){s.call(o,i(t,t,n))},void 0,!1,!0),o}}),g({target:"Set",proto:!0,real:!0,forced:t},{reduce:function(e,t){var n=p(this),r=Ko(n),i=arguments.length<2,o=i?void 0:t;if(l(e),m(r,function(t){o=i?(i=!1,t):e(o,t,t,n)},void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return o}}),g({target:"Set",proto:!0,real:!0,forced:t},{some:function(t,e){var n=p(this),r=Ko(n),i=Pn(t,1<arguments.length?e:void 0,3);return m(r,function(t){if(i(t,t,n))return m.stop()},void 0,!1,!0).stopped}}),g({target:"Set",proto:!0,real:!0,forced:t},{symmetricDifference:function(t){var e=p(this),n=new(Gn(e,ne("Set")))(e),r=l(n.delete),i=l(n.add);return m(t,function(t){r.call(n,t)||i.call(n,t)}),n}}),g({target:"Set",proto:!0,real:!0,forced:t},{union:function(t){var e=p(this),e=new(Gn(e,ne("Set")))(e);return m(t,l(e.add),e),e}});var zo=Math.floor,Qo=(g({target:"Number",stat:!0},{isInteger:function(t){return!st(t)&&isFinite(t)&&zo(t)===t}}),ge.Number.isInteger,g({target:"Number",stat:!0},{isNaN:function(t){return t!=t}}),ge.Number.isNaN,function(t,e){return(Qo=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}))(t,e)});function o(t,e){function n(){this.constructor=t}Qo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Yo=function(){return(Yo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function b(t,s,a,u){return new(a=a||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(r,i)}o((u=u.apply(t,s||[])).next())})}function _(r,i){var o,s,a,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(n){return function(t){var e=[n,t];if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,s&&(a=2&e[0]?s.return:e[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,e[1])).done)return a;switch(s=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,s=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(a=0<(a=u.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3]))u.label=e[1];else if(6===e[0]&&u.label<a[1])u.label=a[1],a=e;else{if(!(a&&u.label<a[2])){a[2]&&u.ops.pop(),u.trys.pop();continue}u.label=a[2],u.ops.push(e)}}e=i.call(r,u)}catch(t){e=[6,t],s=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}}function Xo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jo(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function $o(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Jo(arguments[e]));return t}function Zo(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function ts(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}function es(t){try{return is.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}function ns(t){return new Error("Firebase Database ("+rs.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}var rs={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},d=function(t,e){if(!t)throw ns(e)},is={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=(15&a)<<2|c>>6,c=63&c;u||(c=64,s)||(h=64),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[c])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ts(t),e)},decodeString:function(t,e){if(this.HAS_NATIVE_SUPPORT&&!e)return atob(t);for(var n=this.decodeStringToByteArray(t,e),r=[],i=0,o=0;i<n.length;){var s,a,u,c=n[i++];c<128?r[o++]=String.fromCharCode(c):191<c&&c<224?(a=n[i++],r[o++]=String.fromCharCode((31&c)<<6|63&a)):239<c&&c<365?(s=((7&c)<<18|(63&(a=n[i++]))<<12|(63&(u=n[i++]))<<6|63&n[i++])-65536,r[o++]=String.fromCharCode(55296+(s>>10)),r[o++]=String.fromCharCode(56320+(1023&s))):(a=n[i++],u=n[i++],r[o++]=String.fromCharCode((15&c)<<12|(63&a)<<6|63&u))}return r.join("")},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u)&&r.push(a<<6&192|u)}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function os(t){return ss(void 0,t)}function ss(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=ss(t[n],e[n]));return t}us.prototype.wrapCallback=function(n){var r=this;return function(t,e){t?r.reject(t):r.resolve(e),"function"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(t):n(t,e))}};var as=us;function us(){var n=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}function cs(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function hs(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cs())}function ls(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function fs(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ps(){return!0===rs.NODE_ADMIN}function ds(){return"indexedDB"in self&&null!=indexedDB}function vs(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null==(t=i.error)?void 0:t.message)||"")}}catch(t){e(t)}})}function ys(){return navigator&&navigator.cookieEnabled}o(bs,gs=Error);var gs,ms=bs;function bs(t,e){e=gs.call(this,e)||this;return e.code=t,e.name="FirebaseError",Object.setPrototypeOf(e,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,_s.prototype.create),e}ws.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r,i=e[0]||{},o=this.service+"/"+t,t=this.errors[t],t=t?(r=i,t.replace(Es,function(t,e){var n=r[e];return null!=n?String(n):"<"+e+"?>"})):"Error",t=this.serviceName+": "+t+" ("+o+").",s=new ms(o,t),a=0,u=Object.keys(i);a<u.length;a++){var c=u[a];"_"!==c.slice(-1)&&(c in s&&console.warn('Overwriting FirebaseError base field "'+c+'" can cause unexpected behavior.'),s[c]=i[c])}return s};var _s=ws;function ws(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var Es=/\{\$([^}]+)}/g;function Is(t){return JSON.parse(t)}function Ts(t){return JSON.stringify(t)}function Ss(t){var e={},n={},r={},i="";try{var o=t.split("."),e=Is(es(o[0])||""),n=Is(es(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}}function Cs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ns(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function As(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ks(t,e,n){var r,i={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}Rs.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Rs.prototype.compress_=function(t,e){e=e||0;var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],h=this.chain_[3],l=this.chain_[4],r=0;r<80;r++)s=r<40?r<20?(o=h^u&(c^h),1518500249):(o=u^c^h,1859775393):r<60?(o=u&c|h&(u|c),2400959708):(o=u^c^h,3395469782),i=(a<<5|a>>>27)+o+l+s+n[r]&4294967295,l=h,h=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},Rs.prototype.update=function(t,e){if(null!=t){for(var n=(e=void 0===e?t.length:e)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},Rs.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;0<=i;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t};var Os=Rs;function Rs(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}function Ps(t,e){t=new Ds(t,e);return t.subscribe.bind(t)}xs.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},xs.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},xs.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},xs.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t){if("object"==typeof t&&null!==t)for(var e=0,n=["next","error","complete"];e<n.length;e++){var r=n[e];if(r in t&&"function"==typeof t[r])return 1}}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=Ls),void 0===r.error&&(r.error=Ls),void 0===r.complete&&(r.complete=Ls);t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),t},xs.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],--this.observerCount,0===this.observerCount)&&void 0!==this.onNoObservers&&this.onNoObservers(this)},xs.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},xs.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},xs.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))};var Ds=xs;function xs(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}function Ls(){}function c(t,e,n,r){var i;if(r<e?i="at least "+e:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function Ms(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+(r+" argument ")}function Fs(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Ms(t,e,r)+"must be a valid function.")}function Us(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Ms(t,e,r)+"must be a valid context object.")}function js(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:55296<=r&&r<=56319?(e+=4,n++):e+=3}return e}var Vs=1e3,qs=2,Bs=144e5,Ws=.5;function Gs(t,e,n){void 0===n&&(n=qs);e=(e=void 0===e?Vs:e)*Math.pow(n,t),n=Math.round(Ws*e*(Math.random()-.5)*2);return Math.min(Bs,e+n)}Ks.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},Ks.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},Ks.prototype.setServiceProps=function(t){return this.serviceProps=t,this};var Hs=Ks;function Ks(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}var zs="[DEFAULT]",Qs=(Ys.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t=void 0===t?zs:t);if(!this.instancesDeferred.has(e)){var n=new as;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},Ys.prototype.getImmediate=function(t){var e=Yo({identifier:zs,optional:!1},t),n=e.identifier,e=e.optional,n=this.normalizeInstanceIdentifier(n);try{var r=this.getOrInitializeService(n);if(r)return r;if(e)return null;throw Error("Service "+this.name+" is not available")}catch(t){if(e)return null;throw t}},Ys.prototype.getComponent=function(){return this.component},Ys.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if("EAGER"===(this.component=t).instantiationMode)try{this.getOrInitializeService(zs)}catch(t){}try{for(var r=Xo(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=Jo(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},Ys.prototype.clearInstance=function(t){this.instancesDeferred.delete(t=void 0===t?zs:t),this.instances.delete(t)},Ys.prototype.delete=function(){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all($o(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),e.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return t.sent(),[2]}})})},Ys.prototype.isComponentSet=function(){return null!=this.component},Ys.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,t===zs?void 0:t),this.instances.set(t,e)),e||null},Ys.prototype.normalizeInstanceIdentifier=function(t){return!this.component||this.component.multipleInstances?t:zs},Ys);function Ys(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}Js.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},Js.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},Js.prototype.getProvider=function(t){var e;return this.providers.has(t)?this.providers.get(t):(e=new Qs(t,this),this.providers.set(t,e),e)},Js.prototype.getProviders=function(){return Array.from(this.providers.values())};var Xs=Js;function Js(t){this.name=t,this.providers=new Map}function $s(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var v,Zs=[];function ta(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=ra[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,$s(["["+i+"]  "+t.name+":"],n))}}(r=v=v||{})[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";var ea={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},na=v.INFO,ra=((_t={})[v.DEBUG]="log",_t[v.VERBOSE]="log",_t[v.INFO]="info",_t[v.WARN]="warn",_t[v.ERROR]="error",_t),ia=(Object.defineProperty(oa.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in v))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),oa.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?ea[t]:t},Object.defineProperty(oa.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(oa.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),oa.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,$s([this,v.DEBUG],t)),this._logHandler.apply(this,$s([this,v.DEBUG],t))},oa.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,$s([this,v.VERBOSE],t)),this._logHandler.apply(this,$s([this,v.VERBOSE],t))},oa.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,$s([this,v.INFO],t)),this._logHandler.apply(this,$s([this,v.INFO],t))},oa.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,$s([this,v.WARN],t)),this._logHandler.apply(this,$s([this,v.WARN],t))},oa.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,$s([this,v.ERROR],t)),this._logHandler.apply(this,$s([this,v.ERROR],t))},oa);function oa(t){this.name=t,this._logLevel=na,this._logHandler=ta,this._userLogHandler=null,Zs.push(this)}function sa(e){Zs.forEach(function(t){t.setLogLevel(e)})}var aa=new _s("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."}),Ot="@firebase/app",ua="[DEFAULT]",ca=((Ct={})[Ot]="fire-core",Ct["@firebase/analytics"]="fire-analytics",Ct["@firebase/auth"]="fire-auth",Ct["@firebase/database"]="fire-rtdb",Ct["@firebase/functions"]="fire-fn",Ct["@firebase/installations"]="fire-iid",Ct["@firebase/messaging"]="fire-fcm",Ct["@firebase/performance"]="fire-perf",Ct["@firebase/remote-config"]="fire-rc",Ct["@firebase/storage"]="fire-gcs",Ct["@firebase/firestore"]="fire-fst",Ct["fire-js"]="fire-js",Ct["firebase-wrapper"]="fire-js-all",Ct),ha=new ia("@firebase/app"),la=(Object.defineProperty(fa.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(fa.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(fa.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),fa.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(t){return t.delete()}))}).then(function(){e.isDeleted_=!0})},fa.prototype._getService=function(t,e){return void 0===e&&(e=ua),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},fa.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=ua),this.container.getProvider(t).clearInstance(e)},fa.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){ha.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},fa.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},fa.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw aa.create("app-deleted",{appName:this.name_})},fa);function fa(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=os(t),this.container=new Xs(e.name),this._addComponent(new Hs("app",function(){return o},"PUBLIC"));try{for(var s=Xo(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}la.prototype.name&&la.prototype.options||la.prototype.delete||console.log("dc");function pa(u){var c={},h=new Map,l={__esModule:!0,initializeApp:function(t,e){var e=e="object"==typeof(e=void 0===e?{}:e)&&null!==e?e:{name:e},n=(void 0===e.name&&(e.name=ua),e.name);if("string"!=typeof n||!n)throw aa.create("bad-app-name",{appName:String(n)});if(Cs(c,n))throw aa.create("duplicate-app",{appName:n});t=new u(t,e,l);return c[n]=t},app:f,registerVersion:function(t,e,n){var r=null!=(i=ca[t])?i:t,i=(n&&(r+="-"+n),r.match(/\s|\//)),t=e.match(/\s|\//);i||t?(n=['Unable to register library "'+r+'" with version "'+e+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&t&&n.push("and"),t&&n.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),ha.warn(n.join(" "))):o(new Hs(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:sa,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw aa.create("invalid-log-argument",{appName:name});for(var s=t,n=e,r=0,i=Zs;r<i.length;r++)!function(t){var o=null;n&&n.level&&(o=ea[n.level]),t.userLogHandler=null===s?null:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");e>=(null!=o?o:t.logLevel)&&s({level:v[e].toLowerCase(),message:i,args:n,type:t.name})}}(i[r])},apps:null,SDK_VERSION:"7.22.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete c[t]},components:h,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function f(t){if(Cs(c,t=t||ua))return c[t];throw aa.create("no-app",{appName:t})}function o(n){var t,e,r,i=n.name;if(h.has(i))ha.debug("There were multiple attempts to register component "+i+".");else{h.set(i,n),"PUBLIC"===n.type&&(r=function(t){if("function"!=typeof(t=void 0===t?f():t)[i])throw aa.create("invalid-app-argument",{appName:i});return t[i]()},void 0!==n.serviceProps&&ss(r,n.serviceProps),l[i]=r,u.prototype[i]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,i).apply(this,n.multipleInstances?t:[])});try{for(var o=Xo(Object.keys(c)),s=o.next();!s.done;s=o.next()){var a=s.value;c[a]._addComponent(n)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}}return"PUBLIC"===n.type?l[i]:null}return l.default=l,Object.defineProperty(l,"apps",{get:function(){return Object.keys(c).map(function(t){return c[t]})}}),f.App=u,l}var li=function t(){var e=pa(la);return e.INTERNAL=Yo(Yo({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){ss(e,t)},createSubscribe:Ps,ErrorFactory:_s,deepExtend:ss}),e}(),da=(va.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){var e;return"VERSION"!==(null==(e=t.getComponent())?void 0:e.type)?null:(e=t.getImmediate()).library+"/"+e.version}).filter(function(t){return t}).join(" ")},va);function va(t){this.container=t}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(ha.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),n=self.firebase.SDK_VERSION)&&0<=n.indexOf("LITE")&&ha.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ");var ya=li.initializeApp;li.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){}}()&&ha.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),ya.apply(void 0,t)};var Fl=li,ga=((Jn=Fl).INTERNAL.registerComponent(new Hs("platform-logger",function(t){return new da(t)},"PRIVATE")),Jn.registerVersion(Ot,"0.6.11",void 0),Jn.registerVersion("fire-js",""),Fl.registerVersion("firebase","7.22.0","app"),!function(){var t,M="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},F=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function U(t){var e,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return r?r.call(t):{next:(e=t,n=0,function(){return n<e.length?{done:!1,value:e[n++]}:{done:!0}})}}var j="Promise",e=function(t){function s(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function e(){this.a=null}function a(e){return e instanceof s?e:new s(function(t){t(e)})}if(t)return t;e.prototype.b=function(t){var e;null==this.a&&(this.a=[],(e=this).c(function(){e.g()})),this.a.push(t)};var n=F.setTimeout,i=(e.prototype.c=function(t){n(t,0)},e.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},e.prototype.f=function(t){this.c(function(){throw t})},s.prototype.f=function(){function t(e){return function(t){r||(r=!0,e.call(n,t))}}var n=this,r=!1;return{resolve:t(this.m),reject:t(this.g)}},s.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof s)this.s(t);else{switch(typeof t){case"object":var e=null!=t;break;case"function":e=!0;break;default:e=!1}e?this.u(t):this.h(t)}},s.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},s.prototype.g=function(t){this.i(2,t)},s.prototype.h=function(t){this.i(1,t)},s.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},s.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)i.b(this.a[t]);this.a=null}},new e);return s.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},s.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},s.prototype.then=function(t,e){function n(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(t){i(t)}}:t}var r,i,o=new s(function(t,e){r=t,i=e});return this.Oa(n(t,r),n(e,i)),o},s.prototype.catch=function(t){return this.then(void 0,t)},s.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?i.b(n):this.a.push(n)},s.resolve=a,s.reject=function(n){return new s(function(t,e){e(n)})},s.race=function(i){return new s(function(t,e){for(var n=U(i),r=n.next();!r.done;r=n.next())a(r.value).Oa(t,e)})},s.all=function(t){var e=U(t),o=e.next();return o.done?a([]):new s(function(n,t){for(var r=[],i=0;r.push(void 0),i++,a(o.value).Oa(function(e){return function(t){r[e]=t,0==--i&&n(r)}}(r.length-1),t),!(o=e.next()).done;);})},s},V=F;j=j.split(".");for(var q=0;q<j.length-1;q++){var B=j[q];B in V||(V[B]={}),V=V[B]}(e=e(q=V[j=j[j.length-1]]))!=q&&null!=e&&M(V,j,{configurable:!0,writable:!0,value:e});var W=W||{},g=this||self,G=/^[\w+/_-]+[=]{0,2}$/,H=null;function K(){}function z(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function Q(t){var e=z(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Y(t){return"function"==z(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var X="closure_uid_"+(1e9*Math.random()>>>0),J=0;function $(t,e,n){return t.call.apply(t.bind,arguments)}function Z(e,n,t){var r;if(e)return 2<arguments.length?(r=Array.prototype.slice.call(arguments,2),function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}):function(){return e.apply(n,arguments)};throw Error()}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$:Z).apply(null,arguments)}function tt(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var et=Date.now||function(){return+new Date};function n(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function b(t,e,n){this.code=it+t,this.message=e||ot[t]||"",this.a=n||null}function nt(t){var e=t&&t.code;return e?new b(e.substring(it.length),t.message,t.serverResponse):null}n(b,Error),b.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},b.prototype.toJSON=function(){return this.v()};var rt,it="auth/",ot={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},st={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function at(t){for(var e in st)if(st[e].id===t)return{firebaseEndpoint:(t=st[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function ut(t){if(t)try{return t.$goog_Thenable}catch(t){}}function o(t){var e;Error.captureStackTrace?Error.captureStackTrace(this,o):(e=Error().stack)&&(this.stack=e),t&&(this.message=String(t))}function ct(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");o.call(this,n+t[r])}function ht(t){throw new ct("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function lt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function ft(t,e){t.f(e),t.b<100&&(t.b++,e.next=t.a,t.a=e)}function pt(){this.b=this.a=null}rt=at("__EID__")?"__EID__":void 0,n(o,Error),o.prototype.name="CustomError",n(ct,o),ct.prototype.name="AssertionError",lt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var dt=new lt(function(){return new vt},function(t){t.reset()});function vt(){this.next=this.b=this.a=null}pt.prototype.add=function(t,e){var n=dt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},vt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},vt.prototype.reset=function(){this.next=this.b=this.a=null};var yt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},gt=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n,r=t.length,i=[],o=0,s="string"==typeof t?t.split(""):t,a=0;a<r;a++)a in s&&(n=s[a],e.call(void 0,n,a,t))&&(i[o++]=n);return i},mt=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},bt=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function _t(t,e){return 0<=yt(t,e)}function wt(t,e){var n;return(n=0<=(e=yt(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Et(n,r){for(var t=n,e=function(t,e){r.call(void 0,t,e,n)&&Array.prototype.splice.call(n,e,1).length},i="string"==typeof t?t.split(""):t,o=t.length-1;0<=o;--o)o in i&&e.call(void 0,i[o],o,t)}function It(){return Array.prototype.concat.apply([],arguments)}function Tt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var St,Ct=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Nt=/&/g,At=/</g,kt=/>/g,Ot=/"/g,Rt=/'/g,Pt=/\x00/g,Dt=/[\x00&<>"']/;function u(t,e){return-1!=t.indexOf(e)}function xt(t,e){return t<e?-1:e<t?1:0}t:{var Lt=g.navigator;if(Lt){Lt=Lt.userAgent;if(Lt){St=Lt;break t}}St=""}function a(t){return u(St,t)}function Mt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Ft(t){for(var e in t)return;return 1}function Ut(t){var e,n={};for(e in t)n[e]=t[e];return n}var jt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<jt.length;i++)e=jt[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function Vt(t,e){t:{try{var n,r=t&&t.ownerDocument;if((n=r&&(r.defaultView||r.parentWindow)||g).Element&&n.Location){var i=n;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(f(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;ht("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function qt(t,e){this.a=t===Gt&&e||"",this.b=Wt}function Bt(t){return t instanceof qt&&t.constructor===qt&&t.b===Wt?t.a:(ht("expected object of type Const, got '"+t+"'"),"type_error:Const")}qt.prototype.ra=!0,qt.prototype.qa=function(){return this.a},qt.prototype.toString=function(){return"Const{"+this.a+"}"};var Wt={},Gt={},Ht=new qt(Gt,"");function Kt(t,e){this.a=t===$t&&e||"",this.b=Jt}function zt(t){return t instanceof Kt&&t.constructor===Kt&&t.b===Jt?t.a:(ht("expected object of type TrustedResourceUrl, got '"+t+"' of type "+z(t)),"type_error:TrustedResourceUrl")}function Qt(t,n){var r=Bt(t);if(Xt.test(r))return t=r.replace(Yt,function(t,e){if(Object.prototype.hasOwnProperty.call(n,e))return(t=n[e])instanceof qt?Bt(t):encodeURIComponent(String(t));throw Error('Found marker, "'+e+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(n))}),new Kt($t,t);throw Error("Invalid TrustedResourceUrl format: "+r)}Kt.prototype.ra=!0,Kt.prototype.qa=function(){return this.a.toString()},Kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Yt=/%{(\w+)}/g,Xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Jt={},$t={};function Zt(t,e){this.a=t===ie&&e||"",this.b=re}function te(t){return t instanceof Zt&&t.constructor===Zt&&t.b===re?t.a:(ht("expected object of type SafeUrl, got '"+t+"' of type "+z(t)),"type_error:SafeUrl")}Zt.prototype.ra=!0,Zt.prototype.qa=function(){return this.a.toString()},Zt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var ee=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ne(t){return t instanceof Zt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),ee.test(t)||(t="about:invalid#zClosurez"),new Zt(ie,t))}var re={},ie={};function oe(){this.a="",this.b=ae}function se(t){return t instanceof oe&&t.constructor===oe&&t.b===ae?t.a:(ht("expected object of type SafeHtml, got '"+t+"' of type "+z(t)),"type_error:SafeHtml")}oe.prototype.ra=!0,oe.prototype.qa=function(){return this.a.toString()},oe.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ae={};function ue(t){var e=new oe;return e.a=t,e}ue("<!DOCTYPE html>");var ce=ue("");function he(t){for(var e=t.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<e.length;)n+=e.shift()+r.shift();return n+e.join("%s")}function le(t){return t=Dt.test(t)&&-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=(t=-1!=t.indexOf("&")?t.replace(Nt,"&amp;"):t).indexOf("<")?t.replace(At,"&lt;"):t).indexOf(">")?t.replace(kt,"&gt;"):t).indexOf('"')?t.replace(Ot,"&quot;"):t).indexOf("'")?t.replace(Rt,"&#39;"):t).indexOf("\0")?t.replace(Pt,"&#0;"):t}function fe(t){return fe[" "](t),t}ue("<br>"),fe[" "]=K;var pe,de=a("Opera"),ve=a("Trident")||a("MSIE"),ye=a("Edge"),ge=ye||ve,me=a("Gecko")&&!(u(St.toLowerCase(),"webkit")&&!a("Edge"))&&!(a("Trident")||a("MSIE"))&&!a("Edge"),be=u(St.toLowerCase(),"webkit")&&!a("Edge");function _e(){var t=g.document;return t?t.documentMode:void 0}t:{var we="",r=(r=St,me?/rv:([^\);]+)(\)|;)/.exec(r):ye?/Edge\/([\d\.]+)/.exec(r):ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):be?/WebKit\/(\S+)/.exec(r):de?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(r&&(we=r?r[1]:""),ve){r=_e();if(null!=r&&r>parseFloat(we)){pe=String(r);break t}}pe=we}var Ee,Ie={};function Te(a){return t=a,e=function(){for(var t=0,e=Ct(String(pe)).split("."),n=Ct(String(a)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++)for(var o=e[i]||"",s=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=o[0].length||0!=s[0].length)&&(t=xt(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||xt(0==o[2].length,0==s[2].length)||xt(o[2],s[2]),o=o[3],s=s[3],0==t););return 0<=t},n=Ie,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e();var t,e,n}Ee=g.document&&ve?_e():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(t){}var Se=!ve||9<=Number(Ee);function Ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function Ne(n,t){Mt(t,function(t,e){t&&"object"==typeof t&&t.ra&&(t=t.qa()),"style"==e?n.style.cssText=t:"class"==e?n.className=t:"for"==e?n.htmlFor=t:Oe.hasOwnProperty(e)?n.setAttribute(Oe[e],t):0==e.lastIndexOf("aria-",0)||0==e.lastIndexOf("data-",0)?n.setAttribute(e,t):n[e]=t})}var Ae,ke,Oe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Re(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function Pe(t){g.setTimeout(function(){throw t},0)}function De(t,e){var n;ke=ke||(g.Promise&&g.Promise.resolve?(n=g.Promise.resolve(void 0),function(){n.then(Me)}):function(){var e,n,r,t,i=Me;!Y(g.setImmediate)||g.Window&&g.Window.prototype&&!a("Edge")&&g.Window.prototype.setImmediate==g.setImmediate?(Ae=Ae||(void 0===(t=void 0===(t=g.MessageChannel)&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!a("Presto")?function(){(o=Re(document,"IFRAME")).style.display="none",t=o,e=new Kt($t,Bt(Ht)),Vt(t,"HTMLIFrameElement"),t.src=zt(e).toString(),document.documentElement.appendChild(o);var t,e,n=o.contentWindow,r=((o=n.document).open(),o.write(se(ce)),o.close(),"callImmediate"+Math.random()),i="file:"==n.location.protocol?"*":n.location.protocol+"//"+n.location.host,o=m(function(t){"*"!=i&&t.origin!=i||t.data!=r||this.port1.onmessage()},this);n.addEventListener("message",o,!1),this.port1={},this.port2={postMessage:function(){n.postMessage(r,i)}}}:t)||a("Trident")||a("MSIE")?function(t){g.setTimeout(t,0)}:(e=new t,r=n={},e.port1.onmessage=function(){var t;void 0!==n.next&&(t=(n=n.next).Db,n.Db=null,t())},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)})))(i):g.setImmediate(i)}),xe||(ke(),xe=!0),Le.add(t,e)}var xe=!1,Le=new pt;function Me(){for(var t,e,n;e=void 0,n=null,(e=Le).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){Pe(t)}ft(dt,t)}xe=!1}function y(t,e){if(this.a=Fe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=K)try{var n=this;t.call(e,function(t){ze(n,Ue,t)},function(t){if(!(t instanceof tn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}ze(n,je,t)})}catch(t){ze(this,je,t)}}var Fe=0,Ue=2,je=3;function Ve(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ve.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var qe=new lt(function(){return new Ve},function(t){t.reset()});function Be(t,e,n){var r=qe.get();return r.g=t,r.b=e,r.f=n,r}function c(t){var e;return t instanceof y?t:(ze(e=new y(K),Ue,t),e)}function w(n){return new y(function(t,e){e(n)})}function We(t,e,n){Qe(t,e,n,null)||De(tt(e,t))}function Ge(n){return new y(function(r){var i=n.length,o=[];if(i)for(var t=function(t,e,n){i--,o[t]=e?{Mb:!0,value:n}:{Mb:!1,reason:n},0==i&&r(o)},e=0;e<n.length;e++)We(n[e],tt(t,e,!0),tt(t,e,!1));else r(o)})}function He(t,e){t.b||t.a!=Ue&&t.a!=je||Ye(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ke(t,i,o,s){var e=Be(null,null,null);return e.a=new y(function(n,r){e.g=i?function(t){try{var e=i.call(s,t);n(e)}catch(t){r(t)}}:n,e.b=o?function(t){try{var e=o.call(s,t);void 0===e&&t instanceof tn?r(t):n(e)}catch(t){r(t)}}:r}),He(e.a.c=t,e),e.a}function ze(t,e,n){var r,i;t.a==Fe&&(t===n&&(e=je,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Qe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Ye(t),e!=je)||n instanceof tn||(i=n,(r=t).g=!0,De(function(){r.g&&Ze.call(null,i)})))}function Qe(t,e,n,r){if(t instanceof y)return He(t,Be(e||K,n||null,r)),1;if(ut(t))return t.then(e,n,r),1;if(f(t))try{var i=t.then;if(Y(i)){var o=t,s=i,a=e,u=n,c=r;function h(t){l||(l=!0,u.call(c,t))}var l=!1;try{s.call(o,function(t){l||(l=!0,a.call(c,t))},h)}catch(o){h(o)}return 1}}catch(t){return n.call(r,t),1}}function Ye(t){t.h||(t.h=!0,De(t.ec,t))}function Xe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Je(t,e,n,r){if(n==je&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,$e(e,n,r);else try{e.c?e.g.call(e.f):$e(e,n,r)}catch(t){Ze.call(null,t)}ft(qe,e)}function $e(t,e,n){e==Ue?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}y.prototype.then=function(t,e,n){return Ke(this,Y(t)?t:null,Y(e)?e:null,n)},y.prototype.$goog_Thenable=!0,(t=y.prototype).ma=function(t,e){return(t=Be(t,t,e)).c=!0,He(this,t),this},t.o=function(t,e){return Ke(this,null,t,e)},t.cancel=function(t){var e;this.a==Fe&&(e=new tn(t),De(function(){!function t(e,n){if(e.a==Fe)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,!((o=a.a==e?a:o)&&1<i)));a=a.next)o||(s=a);o&&(r.a==Fe&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Xe(r),Je(r,o,je,n)))}e.c=null}else ze(e,je,n)}(this,e)},this))},t.Yc=function(t){this.a=Fe,ze(this,Ue,t)},t.Zc=function(t){this.a=Fe,ze(this,je,t)},t.ec=function(){for(var t;t=Xe(this);)Je(this,t,this.a,this.i);this.h=!1};var Ze=Pe;function tn(t){o.call(this,t)}function en(){this.wa=this.wa,this.na=this.na}n(tn,o);var nn=0;function rn(t){t.wa||(t.wa=!0,t.Ba(),0==nn)||(t=t,Object.prototype.hasOwnProperty.call(t,X)&&t[X]||(t[X]=++J))}en.prototype.wa=!(tn.prototype.name="cancel"),en.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var M=Object.freeze||function(t){return t},on=!ve||9<=Number(Ee),sn=ve&&!Te("9"),an=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{g.addEventListener("test",K,e),g.removeEventListener("test",K,e)}catch(t){}return t}();function h(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function un(t,e){if(h.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(me){t:{try{fe(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cn[t.pointerType]||"",(this.a=t).defaultPrevented&&this.preventDefault()}}h.prototype.preventDefault=function(){this.defaultPrevented=!0},n(un,h);var cn=M({2:"touch",3:"pen",4:"mouse"}),hn=(un.prototype.preventDefault=function(){un.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,sn)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},un.prototype.f=function(){return this.a},"closure_listenable_"+(1e6*Math.random()|0)),ln=0;function fn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++ln,this.ua=this.Na=!1}function pn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function dn(t){this.src=t,this.a={},this.b=0}function vn(t,e){var n=e.type;n in t.a&&wt(t.a[n],e)&&(pn(e),0==t.a[n].length)&&(delete t.a[n],t.b--)}function yn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}dn.prototype.add=function(t,e,n,r,i){var o=t.toString(),s=((t=this.a[o])||(t=this.a[o]=[],this.b++),yn(t,e,r,i));return-1<s?(e=t[s],n||(e.Na=!1)):((e=new fn(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var gn="closure_lm_"+(1e6*Math.random()|0),mn={};function bn(t,e,n,r,i){if(r&&r.once)wn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)bn(t,e[o],n,r,i);else n=kn(n),t&&t[hn]?On(t,e,n,f(r)?!!r.capture:!!r,i):_n(t,e,n,!1,r,i)}function _n(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s,a,u=f(i)?!!i.capture:!!i,c=Nn(t);if(c||(t[gn]=c=new dn(t)),!(n=c.add(e,n,r,u,o)).proxy)if(s=Cn,r=a=on?function(t){return s.call(a.src,a.listener,t)}:function(t){if(!(t=s.call(a.src,a.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)void 0===(i=an?i:u)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(In(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function wn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)wn(t,e[o],n,r,i);else n=kn(n),t&&t[hn]?Rn(t,e,n,f(r)?!!r.capture:!!r,i):_n(t,e,n,!0,r,i)}function s(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)s(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=kn(n),t&&t[hn]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=yn(o=t.a[e],n,r,i))&&(pn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length)&&(delete t.a[e],t.b--)):(t=t&&Nn(t))&&(e=t.a[e.toString()],n=(t=-1)<(t=e?yn(e,n,r,i):t)?e[t]:null)&&En(n)}function En(t){var e,n,r;"number"!=typeof t&&t&&!t.ua&&((e=t.src)&&e[hn]?vn(e.u,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(In(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nn(e))?(vn(n,t),0==n.b&&(e[gn]=n.src=null)):pn(t)))}function In(t){return t in mn?mn[t]:mn[t]="on"+t}function Tn(t,e,n,r){var i=!0;if((t=Nn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=Sn(o,r),i=i&&!1!==o)}return i}function Sn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&En(t),n.call(r,e)}function Cn(t,e){if(t.ua)return!0;if(on)return Sn(t,new un(e,this));if(!e)t:{e=["window","event"];for(var n=g,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new un(r=e,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Tn(r[i],t,!0,e),n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Tn(r[i],t,!1,e),n=n&&o}return n}function Nn(t){return(t=t[gn])instanceof dn?t:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function kn(e){return Y(e)?e:(e[An]||(e[An]=function(t){return e.handleEvent(t)}),e[An])}function p(){en.call(this),this.u=new dn(this),(this.Yb=this).eb=null}function On(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function Rn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Pn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.ua&&u.capture==n&&(s=u.listener,a=u.Ta||u.src,u.Na&&vn(t.u,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}function Dn(t,e,n){if(Y(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:g.setTimeout(t,e||0)}function xn(n){var r=null;return new y(function(t,e){-1==(r=Dn(function(){t(void 0)},n))&&e(Error("Failed to schedule timer."))}).o(function(t){throw g.clearTimeout(r),t})}function Ln(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(Q(t))for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);else for(r in e=[],n=0,t)e[n++]=t[r];return e}function Mn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(Q(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n)}else for(var r in e=[],n=0,t)e[n++]=r;return e}}function Fn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Un(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];jn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)jn(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n(p,en),p.prototype[hn]=!0,p.prototype.addEventListener=function(t,e,n,r){bn(this,t,e,n,r)},p.prototype.removeEventListener=function(t,e,n,r){s(this,t,e,n,r)},p.prototype.dispatchEvent=function(t){var e;if(n=this.eb)for(e=[];n;n=n.eb)e.push(n);var n=this.Yb,r=t.type||t;if("string"==typeof t?t=new h(t,n):t instanceof h?t.target=t.target||n:(s=t,l(t=new h(r,n),s)),s=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.b=e[i],s=Pn(o,r,!0,t)&&s;if(s=Pn(o=t.b=n,r,!0,t)&&s,s=Pn(o,r,!1,t)&&s,e)for(i=0;i<e.length;i++)s=Pn(o=t.b=e[i],r,!1,t)&&s;return s},p.prototype.Ba=function(){if(p.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)pn(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=Fn.prototype).V=function(){Un(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Un(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return jn(this.b,t)?this.b[t]:e},t.set=function(t,e){jn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Vn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qn(t,e){this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof qn?(this.h=void 0!==e?e:t.h,Bn(this,t.f),this.i=t.i,this.b=t.b,Wn(this,t.l),this.c=t.c,Gn(this,ur(t.a)),this.g=t.g):t&&(t=String(t).match(Vn))?(this.h=!!e,Bn(this,t[1]||"",!0),this.i=Qn(t[2]||""),this.b=Qn(t[3]||"",!0),Wn(this,t[4]),this.c=Qn(t[5]||"",!0),Gn(this,t[6]||"",!0),this.g=Qn(t[7]||"")):(this.h=!!e,this.a=new nr(null,this.h))}function Bn(t,e,n){t.f=n?Qn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Wn(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Gn(t,e,n){var r,i;e instanceof nr?(t.a=e,r=t.a,(i=t.h)&&!r.f&&(rr(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(or(this,e),ar(this,n,t))},r)),r.f=i):(n||(e=Yn(e,tr)),t.a=new nr(e,t.h))}function v(t,e,n){t.a.set(e,n)}function Hn(t,e){return t.a.get(e)}function Kn(t){return t instanceof qn?new qn(t):new qn(t,void 0)}function zn(t,e){var n=new qn(null,void 0);return Bn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Xn),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function Xn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qn.prototype.toString=function(){var t=[],e=this.f,n=(e&&t.push(Yn(e,Jn,!0),":"),this.b);return!n&&"file"!=e||(t.push("//"),(e=this.i)&&t.push(Yn(e,Jn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Yn(n,"/"==n.charAt(0)?Zn:$n,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Yn(n,er)),t.join("")},qn.prototype.resolve=function(t){var e=new qn(this),n=!!t.f;n?Bn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Wn(e,t.l);else if(n=!!t.c)if("/"!=r.charAt(0)&&(this.b&&!this.c?r="/"+r:-1!=(i=e.c.lastIndexOf("/"))&&(r=e.c.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(u(i,"./")||u(i,"/.")){for(var r=0==i.lastIndexOf("/",0),i=i.split("/"),o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i;return n?e.c=r:n=""!==t.a.toString(),n?Gn(e,ur(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Jn=/[#\/\?@]/g,$n=/[#\?:]/g,Zn=/[#\?]/g,tr=/[#\?@]/g,er=/#/g;function nr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function rr(t){if(!t.a&&(t.a=new Fn,t.b=0,t.c)){var e=t.c;if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],i=r,o=o?decodeURIComponent(o.replace(/\+/g," ")):"",t.add(decodeURIComponent(i.replace(/\+/g," ")),o)}}}}function ir(t){var e=Mn(t);if(void 0===e)throw Error("Keys are undefined");var n=new nr(null,void 0);t=Ln(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?ar(n,i,o):n.add(i,o)}return n}function or(t,e){rr(t),e=cr(t,e),jn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,jn((t=t.a).b,e))&&(delete t.b[e],t.c--,t.a.length>2*t.c)&&Un(t)}function sr(t,e){return rr(t),e=cr(t,e),jn(t.a.b,e)}function ar(t,e,n){or(t,e),0<n.length&&(t.c=null,t.a.set(cr(t,e),Tt(n)),t.b+=n.length)}function ur(t){var e=new nr;return e.c=t.c,t.a&&(e.a=new Fn(t.a),e.b=t.b),e}function cr(t,e){return e=String(e),e=t.f?e.toLowerCase():e}function hr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),dr(i,r),r.push(":"),t(e,s,r),o=",");return r.push("}")}n=n.valueOf()}switch(typeof n){case"string":dr(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new lr,t,e),e.join("")}function lr(){}(t=nr.prototype).add=function(t,e){rr(this),this.c=null,t=cr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(n,r){rr(this),this.a.forEach(function(t,e){_(t,function(t){n.call(r,t,e,this)},this)},this)},t.X=function(){rr(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){rr(this);var e=[];if("string"==typeof t)sr(this,t)&&(e=It(e,this.a.get(cr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=It(e,t[n])}return e},t.set=function(t,e){return rr(this),this.c=null,sr(this,t=cr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.V(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};var fr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},pr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function dr(t,e){e.push('"',t.replace(pr,function(t){var e=fr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),fr[t]=e),e}),'"')}function vr(){var t=E();return ve&&Ee&&11==Ee||/Edge\/\d+/.test(t)}function yr(){return g.window&&g.window.location.href||self&&self.location&&self.location.href||""}function gr(t,e){e=e||g.window;var n="about:blank";t&&(n=te(ne(t))),e.location.href=n}function mr(t){return!!((t=(t||E()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function br(t){t=t||g.window;try{t.close()}catch(t){}}function _r(t,e,n){var r=Math.floor(1e9*Math.random()).toString(),i=(e=e||500,n=n||600,(window.screen.availHeight-n)/2),o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=E().toLowerCase(),r&&(e.target=r,u(n,"crios/"))&&(e.target="_blank"),Rr(E())==kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",t=(t=e)||{},r=window,e=n instanceof Zt?n:ne(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((a("iPhone")&&!a("iPod")&&!a("iPad")||a("iPad")||a("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(Vt(s=Re(document,"A"),"HTMLAnchorElement"),e instanceof Zt||(e="object"==typeof e&&e.ra?e.qa():String(e),ee.test(e)||(e="about:invalid#zClosurez"),e=new Zt(ie,e)),s.href=te(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=te(e),s&&(ge&&u(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=ue('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+le(t)+'">'),r=s.document)&&(r.write(se(t)),r.close())):(s=r.open(te(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Er=/^[^@]+@[^@]+$/;function Ir(){var e=null;return new y(function(t){"complete"==g.document.readyState?t():(e=function(){t()},wn(window,"load",e))}).o(function(t){throw s(window,"load",e),t})}function Tr(t){return t=t||E(),!("file:"!==Fr()&&"ionic:"!==Fr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){var t=g.window;try{return t&&t!=t.top}catch(t){}}function Cr(){return void 0!==g.WorkerGlobalScope&&"function"==typeof g.importScripts}function Nr(){return Fl.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Fl.INTERNAL.hasOwnProperty("node")?"Node":Cr()?"Worker":"Browser"}function Ar(){var t=Nr();return"ReactNative"===t||"Node"===t}var kr="Firefox",Or="Chrome";function Rr(t){var e=t.toLowerCase();return u(e,"opera/")||u(e,"opr/")||u(e,"opios/")?"Opera":u(e,"iemobile")?"IEMobile":u(e,"msie")||u(e,"trident/")?"IE":u(e,"edge/")?"Edge":u(e,"firefox/")?kr:u(e,"silk/")?"Silk":u(e,"blackberry")?"Blackberry":u(e,"webos")?"Webos":!u(e,"safari/")||u(e,"chrome/")||u(e,"crios/")||u(e,"android")?!u(e,"chrome/")&&!u(e,"crios/")||u(e,"edge/")?u(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Or:"Safari"}var Pr={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Dr(t,e){e=e||[];var n,r=[],i={};for(n in Pr)i[Pr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Nr())?r=Rr(i=E()):"Worker"===r&&(r=Rr(i=E())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function E(){return g.navigator&&g.navigator.userAgent||""}function I(t,e){t=t.split("."),e=e||g;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return e=n!=t.length?void 0:e}function xr(){try{var t=g.localStorage,e=Br();if(t)return t.setItem(e,"1"),t.removeItem(e),!vr()||!!g.indexedDB}catch(t){return Cr()&&!!g.indexedDB}return!1}function Lr(){return(Mr()||"chrome-extension:"===Fr()||Tr())&&!Ar()&&xr()&&!Cr()}function Mr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return g.location&&g.location.protocol||null}function Ur(t){return!mr(t=t||E())&&Rr(t)!=kr}function jr(t){return void 0===t?null:hr(t)}function Vr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function qr(t){if(null!==t)return JSON.parse(t)}function Br(t){return t||Math.floor(1e9*Math.random()).toString()}function Wr(t){return"Safari"!=Rr(t=t||E())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Gr(){var t=g.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Hr(t,e){if(e<t)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=E(),e=Nr(),this.b=mr(t)||"ReactNative"===e}function Kr(){var t=g.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Qr(){return I("fireauth.oauthhelper",g)||I("fireauth.iframe",g)}Hr.prototype.get=function(){var t=g.navigator;return!t||"boolean"!=typeof t.onLine||!Mr()&&"chrome-extension:"!==Fr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,Xr={};function Jr(t){Xr[t]||(Xr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==$r.abcd}catch(t){Yr=!1}function d(t,e,n){Yr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function T(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&d(t,n,e[n])}function Zr(t){var e={};return T(e,t),e}function ti(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)d(e,n,ti(t[n]));return e}function ei(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[oi]))throw new b("internal-error","Internal assert: invalid MultiFactorInfo object");d(this,"uid",t[oi]),d(this,"displayName",t[ri]||null);var n=null;d(this,"enrollmentTime",n=t[ii]?new Date(t[ii]).toUTCString():n),d(this,"factorId",e)}function ni(t){try{var e=new ai(t)}catch(t){e=null}return e}ei.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ri="displayName",ii="enrolledAt",oi="mfaEnrollmentId",si="phoneInfo";function ai(t){ei.call(this,t),d(this,"phoneNumber",t[si])}function ui(t){var e={},n=t[fi],r=t[di],i=t[vi];if(t=ni(t[pi]),!i||i!=hi&&i!=li&&!n||i==li&&!r||i==ci&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[gi]=n||null,e[bi]=n||null,e[yi]=r):(e[gi]=r||null,e[bi]=r||null,e[yi]=n||null),e[mi]=t||null,d(this,wi,i),d(this,_i,ti(e))}n(ai,ei),ai.prototype.v=function(){var t=ai.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ci="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",fi="email",pi="mfaInfo",di="newEmail",vi="requestType",yi="email",gi="fromEmail",mi="multiFactorInfo",bi="previousEmail",_i="data",wi="operation";function Ei(t){var e=Hn(t=Kn(t),Ii)||null,n=Hn(t,Ti)||null,r=(r=Hn(t,Ni)||null)&&ki[r]||null;if(!e||!n||!r)throw new b("argument-error",Ii+", "+Ti+"and "+Ni+" are required in a valid action code URL.");T(this,{apiKey:e,operation:r,code:n,continueUrl:Hn(t,Si)||null,languageCode:Hn(t,Ci)||null,tenantId:Hn(t,Ai)||null})}var Ii="apiKey",Ti="oobCode",Si="continueUrl",Ci="languageCode",Ni="mode",Ai="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:hi,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Oi(t){try{return new Ei(t)}catch(t){return null}}function Ri(t){if(void 0===(e=t[Mi]))throw new b("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new b("invalid-continue-uri");if(this.h=e,this.b=this.a=null,this.g=!1,(r=t[Pi])&&"object"==typeof r){var e=r[ji],n=r[Fi],r=r[Ui];if("string"==typeof e&&e.length){if(this.a=e,void 0!==n&&"boolean"!=typeof n)throw new b("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new b("argument-error",Ui+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==e)throw new b("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new b("missing-android-pkg-name")}}else if(void 0!==r)throw new b("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(e=t[Li])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new b("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new b("argument-error",Li+" property must be a non null object when specified.");if(void 0!==(e=t[xi])&&"boolean"!=typeof e)throw new b("argument-error",xi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new b("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var Pi="android",Di="dynamicLinkDomain",xi="handleCodeInApp",Li="iOS",Mi="url",Fi="installApp",Ui="minimumVersion",ji="packageName",Vi="bundleId";function qi(t){var e,n={};for(e in n.continueUrl=t.h,n.canHandleCodeInApp=t.c,(n.androidPackageName=t.a)&&(n.androidMinimumVersion=t.b,n.androidInstallApp=t.g),n.iOSBundleId=t.f,n.dynamicLinkDomain=t.i,n)null===n[e]&&delete n[e];return n}var Bi=null;function Wi(t){function e(t){n+=String.fromCharCode(t)}var n="",r=t;function i(t){for(;l<r.length;){var e=r.charAt(l++),n=Bi[e];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(e))throw Error("Unknown base64 encoding at char: "+e)}return t}if(!Bi){Bi={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],a=0;a<5;a++)for(var u=o.concat(s[a].split("")),c=0;c<u.length;c++){var h=u[c];void 0===Bi[h]&&(Bi[h]=c)}}for(var l=0;;){var f=i(-1),p=i(0),d=i(64),v=i(64);if(64===v&&-1===f)break;e(f<<2|p>>4),64!=d&&(e(p<<4&240|d>>2),64!=v)&&e(d<<6&192|v)}return n}function Gi(t){var e=Ki(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Hi(t){try{return new Gi(t)}catch(t){return null}}function Ki(t){if(t&&3==(t=t.split(".")).length){for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Wi(t))}catch(t){}}return null}Gi.prototype.S=function(){return this.f},Gi.prototype.i=function(){return this.b},Gi.prototype.toString=function(){return this.g};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Yi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Qi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Qi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Qi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:zi},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Xi(t){for(var e in Yi)if(Yi[e].ea==t)return Yi[e];return null}function Ji(t){var e={},n=(e["facebook.com"]=no,e["google.com"]=io,e["github.com"]=ro,e["twitter.com"]=oo,t&&t[Zi]);try{if(n)return new(e[n]||eo)(t);if(void 0!==t[$i])return new to(t)}catch(t){}return null}var $i="idToken",Zi="providerId";function to(t){var e,n=t[Zi];if(!(n=!n&&t[$i]&&(e=Hi(t[$i]))&&e.a?e.a:n))throw Error("Invalid additional user info!");e=!1,void 0!==t.isNewUser?e=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(e=!0),d(this,"providerId",n="anonymous"!=n&&"custom"!=n?n:null),d(this,"isNewUser",e)}function eo(t){to.call(this,t),d(this,"profile",ti((t=qr(t.rawUserInfo||"{}"))||{}))}function no(t){if(eo.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(eo.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");d(this,"username",this.profile&&this.profile.login||null)}function io(t){if(eo.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function oo(t){if(eo.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");d(this,"username",t.screenName||null)}function so(t){var e=Hn(r=Kn(t),"link"),n=Hn(Kn(e),"link"),r=Hn(r,"deep_link_id");return Hn(Kn(r),"link")||r||n||e||t}function ao(t,e){if(!t&&!e)throw new b("internal-error","Internal assert: no raw session string available");if(t&&e)throw new b("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?uo:co}n(eo,to),n(no,eo),n(ro,eo),n(io,eo),n(oo,eo);var uo="enroll",co="signin";function ho(){}function lo(t,n){return t.then(function(t){if(t[$s]){var e=Hi(t[$s]);if(e&&n==e.h)return t}throw new b("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==it+"user-not-found"?new b("user-mismatch"):t})}function fo(t,e){if(!e)throw new b("internal-error","failed to construct a credential");this.a=e,d(this,"providerId",t),d(this,"signInMethod",t)}function po(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function vo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new fo(t.providerId,t.pendingToken)}catch(t){}return null}function yo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&d(this,"idToken",e.idToken),e.accessToken&&d(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&d(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new b("internal-error","failed to construct a credential");d(this,"accessToken",e.oauthToken),d(this,"secret",e.oauthTokenSecret)}d(this,"providerId",t),d(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:ir(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new yo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function bo(t,e){this.Oc=e||[],T(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Xi(t)||{}).Ha||null,this.kb=null}function _o(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new b("argument-error",'SAML provider IDs must be prefixed with "saml."');bo.call(this,t,[])}function S(t){bo.call(this,t,Qi),this.a=[]}function wo(){S.call(this,"facebook.com")}function Eo(t){var e;if(t)return f(e=t)&&(e=t.accessToken),(new wo).credential({accessToken:e});throw new b("argument-error","credential failed: expected 1 argument (the OAuth access token).")}function Io(){S.call(this,"github.com")}function To(t){var e;if(t)return f(e=t)&&(e=t.accessToken),(new Io).credential({accessToken:e});throw new b("argument-error","credential failed: expected 1 argument (the OAuth access token).")}function So(){S.call(this,"google.com"),this.Aa("profile")}function Co(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function No(){bo.call(this,"twitter.com",zi)}function Ao(t,e){var n=t;if((n=f(n)?n:{oauthToken:t,oauthTokenSecret:e}).oauthToken&&n.oauthTokenSecret)return new yo("twitter.com",n,"twitter.com");throw new b("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).")}function ko(t,e,n){this.a=t,this.f=e,d(this,"providerId","password"),d(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Oo(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function Ro(){T(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(e=Do(e))return new ko(t,e.code,Ro.EMAIL_LINK_SIGN_IN_METHOD);throw new b("argument-error","Invalid email link!")}function Do(t){return(t=Oi(t=so(t)))&&t.operation===hi?t:null}function xo(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new b("internal-error");this.a=t,d(this,"providerId","phone"),this.ea="phone",d(this,"signInMethod","phone")}function Lo(e){var n;return e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)?(n={},_(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(t){e[t]&&(n[t]=e[t])}),new xo(n)):null}function Mo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Fo(t){try{this.a=t||Fl.auth()}catch(t){throw new b("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}T(this,{providerId:"phone",isOAuthProvider:!1})}function Uo(t,e){if(!t)throw new b("missing-verification-id");if(e)return new xo({bb:t,ab:e});throw new b("missing-verification-code")}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new xo({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Co(o,n);case"facebook.com":return Eo(n);case"github.com":return To(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new fo(e,s):new yo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new S(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Vo(t){if(!t.isOAuthProvider)throw new b("invalid-oauth-provider")}function qo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new b("invalid-auth-event");if(this.g&&this.a)throw new b("invalid-auth-event");if(this.g&&!this.f)throw new b("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&nt(t.error),t.postBody,t.tenantId):null}function Wo(){this.b=null,this.a=[]}ao.prototype.Fa=function(){return this.a?c(this.a):c(this.b)},ao.prototype.v=function(){return this.type==uo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ia=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.v=function(){},fo.prototype.ia=function(t){return ya(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,ga(t,n)},fo.prototype.c=function(t,e){return lo(ma(t,po(this)),e)},fo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},yo.prototype.ia=function(t){return ya(t,go(this))},yo.prototype.b=function(t,e){var n=go(this);return n.idToken=e,ga(t,n)},yo.prototype.c=function(t,e){return lo(ma(t,go(this)),e)},yo.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},bo.prototype.Ia=function(t){return this.Fb=Ut(t),this},n(_o,bo),n(S,bo),S.prototype.Aa=function(t){return _t(this.a,t)||this.a.push(t),this},S.prototype.Nb=function(){return Tt(this.a)},S.prototype.credential=function(t,e){t=f(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null};if(t.idToken||t.accessToken)return new yo(this.providerId,t,this.providerId);throw new b("argument-error","credential failed: must provide the ID token and/or the access token.")},n(wo,S),d(wo,"PROVIDER_ID","facebook.com"),d(wo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),n(Io,S),d(Io,"PROVIDER_ID","github.com"),d(Io,"GITHUB_SIGN_IN_METHOD","github.com"),n(So,S),d(So,"PROVIDER_ID","google.com"),d(So,"GOOGLE_SIGN_IN_METHOD","google.com"),n(No,bo),d(No,"PROVIDER_ID","twitter.com"),d(No,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ia=function(t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?C(t,Ca,{email:this.a,oobCode:this.f}):C(t,Qa,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?C(t,Na,{idToken:e,email:this.a,oobCode:this.f}):C(t,Va,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return lo(this.ia(t),e)},ko.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},T(Ro,{PROVIDER_ID:"password"}),T(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),T(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),xo.prototype.ia=function(t){return t.cb(Mo(this))},xo.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,C(t,Xa,n)},xo.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",lo(t=C(t,Ja,n),e)},xo.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Fo.prototype.cb=function(r,i){var o=this.a.b;return c(i.verify()).then(function(e){if("string"!=typeof e)throw new b("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==i.type)throw new b("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var t=f(r)?r.session:null,n=f(r)?r.phoneNumber:r;return(t&&t.type==uo?t.Fa().then(function(t){return C(o,Ba,{idToken:t,phoneEnrollmentInfo:{phoneNumber:n,recaptchaToken:e}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):t&&t.type==co?t.Fa().then(function(t){return t={mfaPendingCredential:t,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:e}},C(o,Wa,t).then(function(t){return t.phoneResponseInfo.sessionInfo})}):C(o,Ua,{phoneNumber:n,recaptchaToken:e})).then(function(t){return"function"==typeof i.reset&&i.reset(),t},function(t){throw"function"==typeof i.reset&&i.reset(),t})})},T(Fo,{PROVIDER_ID:"phone"}),T(Fo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.S=function(){return this.h},qo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Go,Ho=null;function Ko(t){var e="unauthorized-domain",n=void 0,r=Kn(t);t=r.b,"chrome-extension"==(r=r.f)?n=he("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=he("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",b.call(this,e,n)}function zo(t,e,n){b.call(this,t,n),(t=e||{}).Gb&&d(this,"email",t.Gb),t.da&&d(this,"phoneNumber",t.da),t.credential&&d(this,"credential",t.credential),t.Wb&&d(this,"tenantId",t.Wb)}function Qo(t){if(t.code){var e=t.code||"",n=(0==e.indexOf(it)&&(e=e.substring(it.length)),{credential:jo(t),Wb:t.tenantId});if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new b(e,t.message||void 0);return new zo(e,n,t.message)}return null}function Yo(){}function Xo(t){return t.c||(t.c=t.b())}function Jo(){}function $o(t){if(t.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return t.f;for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Zo(){}function ts(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.oc,this),this.a.onerror=m(this.Pb,this),this.a.onprogress=m(this.pc,this),this.a.ontimeout=m(this.tc,this)}function es(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ns(t,e,n){this.reset(t,e,n,void 0,void 0)}function rs(t){this.f=t,this.b=this.c=this.a=null}function is(t,e){this.name=t,this.value=e}n(Ko,b),n(zo,b),zo.prototype.v=function(){var t={code:this.code,message:this.message},e=(this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId),this.credential&&this.credential.v());return e&&l(t,e),t},zo.prototype.toJSON=function(){return this.v()},Yo.prototype.c=null,n(Jo,Yo),Jo.prototype.a=function(){var t=$o(this);return t?new ActiveXObject(t):new XMLHttpRequest},Jo.prototype.b=function(){var t={};return $o(this)&&(t[0]=!0,t[1]=!0),t},Go=new Jo,n(Zo,Yo),Zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new ts;throw Error("Unsupported browser")},Zo.prototype.b=function(){return{}},(t=ts.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,es(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",es(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,es(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ns.prototype.a=null,ns.prototype.reset=function(t,e,n,r,i){delete this.a},is.prototype.toString=function(){return this.name};var os=new is("SEVERE",1e3),ss=new is("WARNING",900),as=new is("CONFIG",700),us=new is("FINE",500);rs.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c||(e.a?t(e.a):(ht("Root logger has no level set."),null))}(this).value)for(Y(e)&&(e=e()),t=new ns(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs,hs={},ls=null;function fs(t){var e,n,r;return ls||(ls=new rs(""),(hs[""]=ls).c=as),(e=hs[t])||(e=new rs(t),r=t.lastIndexOf("."),n=t.substr(r+1),(r=fs(t.substr(0,r))).b||(r.b={}),(r.b[n]=e).a=r,hs[t]=e),e}function ps(t,e){t&&t.log(us,e,void 0)}function ds(t){this.f=t}function vs(t){p.call(this),this.s=t,this.readyState=ys,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=fs("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}n(ds,Yo),ds.prototype.a=function(){return new vs(this.f)},ds.prototype.b=(cs={},function(){return cs}),n(vs,p);var ys=0;function gs(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ms(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,bs(t)}function bs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function _s(t){p.call(this),this.headers=new Fn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ws,this.w=this.R=!1}(t=vs.prototype).open=function(t,e){if(this.readyState!=ys)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,bs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this,!1)),this.readyState=ys},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,bs(this)),this.a)&&(this.readyState=3,bs(this),this.a)&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==g.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,gs(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))},t.nc=function(t){var e;this.a&&((e=this.l.decode(t.value||new Uint8Array(0),{stream:!t.done}))&&(this.response=this.responseText+=e),t.done?ms(this,!0):bs(this),3==this.readyState)&&gs(this)},t.rc=function(t){this.a&&(this.response=this.responseText=t,ms(this,!0))},t.qc=function(t){this.a&&(this.response=t,ms(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(ss,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ms(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(ss,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b)return(t=this.h)&&t.log(ss,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},n(_s,p);var ws="",Es=(_s.prototype.b=fs("goog.net.XhrIo"),/^https?$/i),Is=["POST","PUT"];function Ts(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Cs(t),As(t)}function Cs(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ns(t){if(t.c&&void 0!==W)if(t.B[1]&&4==Os(t)&&2==Rs(t))ps(t.b,Ps(t,"Local request error detected and ignored"));else if(t.i&&4==Os(t))Dn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Os(t)){ps(t.b,Ps(t,"Request complete")),t.c=!1;try{var e,n,r,i,o=Rs(t);switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break;default:s=!1}if((e=s)||((n=0===o)&&(!(i=String(t.l).match(Vn)[1]||null)&&g.self&&g.self.location&&(i=(r=g.self.location.protocol).substr(0,r.length-1)),n=!Es.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var a=2<Os(t)?t.a.statusText:""}catch(e){ps(t.b,"Can not get status: "+e.message),a=""}t.h=a+" ["+Rs(t)+"]",Cs(t)}}finally{As(t)}}}function As(t,e){if(t.a){ks(t);var n=t.a,r=t.B[0]?K:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(os,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function ks(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(g.clearTimeout(t.s),t.s=null)}function Os(t){return t.a?t.a.readyState:0}function Rs(t){try{return 2<Os(t)?t.a.status:-1}catch(t){return-1}}function Ps(t,e){return e+" ["+t.P+" "+t.l+" "+Rs(t)+"]"}function Ds(t){var e=Gs;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function xs(t,e,n){t.a=!0,t.c=n,t.f=!e,Us(t)}function Ls(t){if(t.a){if(!t.u)throw new js;t.u=!1}}function Ms(t,e,n,r){t.g.push([e,n,r]),t.a&&Us(t)}function Fs(t){return bt(t.g,function(t){return Y(t[1])})}function Us(t){var e;t.h&&t.a&&Fs(t)&&((e=Bs[n=t.h])&&(g.clearTimeout(e.a),delete Bs[n]),t.h=0),t.b&&(t.b.l--,delete t.b);for(var n=t.c,r=e=!1;t.g.length&&!t.i;){var i=(s=t.g.shift())[0],o=s[1],s=s[2];if(i=t.f?o:i)try{var a=i.call(s||t.s,n);void 0!==a&&(t.f=t.f&&(a==n||a instanceof Error),t.c=n=a),(ut(n)||"function"==typeof g.Promise&&n instanceof g.Promise)&&(r=!0,t.i=!0)}catch(r){n=r,t.f=!0,Fs(t)||(e=!0)}}t.c=n,r&&(a=m(t.m,t,!0),r=m(t.m,t,!1),n instanceof Ds?(Ms(n,a,r),n.B=!0):n.then(a,r)),e&&(n=new qs(n),Bs[n.a]=n,t.h=n.a)}function js(){o.call(this)}function Vs(){o.call(this)}function qs(t){this.a=g.setTimeout(m(this.c,this),0),this.b=t}(t=_s.prototype).Ka=function(){void 0!==W&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ps(this.b,Ps(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ps(this.b,Ps(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),As(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),As(this,!0)),_s.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?Ns(this):this.Hc())},t.Hc=function(){Ns(this)},t.getResponse=function(){try{if(this.a){if("response"in this.a)return this.a.response;switch(this.m){case ws:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;t&&t.log(os,"Response type "+this.m+" is not supported on this browser",void 0)}return null}catch(t){return ps(this.b,"Can not get response: "+t.message),null}},Ds.prototype.cancel=function(t){var e;this.a?this.c instanceof Ds&&this.c.cancel():(this.b&&(e=this.b,delete this.b,t?e.cancel(t):(e.l--,e.l<=0&&e.cancel())),this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Vs,Ls(this),xs(this,!1,t)))},Ds.prototype.m=function(t,e){this.i=!1,xs(this,t,e)},Ds.prototype.then=function(t,e,n){var r,i,o=new y(function(t,e){r=t,i=e});return Ms(this,r,function(t){t instanceof Vs?o.cancel():i(t)}),o.then(t,e,n)},Ds.prototype.$goog_Thenable=!0,n(js,o),js.prototype.message="Deferred has already fired",js.prototype.name="AlreadyCalledError",n(Vs,o),Vs.prototype.message="Deferred was canceled",Vs.prototype.name="CanceledError",qs.prototype.c=function(){throw delete Bs[this.a],this.b};var Bs={};function Ws(t){var e=document,n=zt(t).toString(),r=Re(document,"SCRIPT"),i={Tb:r,Ka:void 0},o=new Ds(i),s=window.setTimeout(function(){Hs(r,!0);var t=new Qs(zs,"Timeout reached for loading script "+n);Ls(o),xs(o,!1,t)},5e3);return i.Ka=s,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Hs(r,!1,s),Ls(o),xs(o,!0,null))},r.onerror=function(){Hs(r,!0,s);var t=new Qs(Ks,"Error while loading script "+n);Ls(o),xs(o,!1,t)},l(i={},{type:"text/javascript",charset:"UTF-8"}),Ne(r,i),i=t,Vt(t=r,"HTMLScriptElement"),t.src=zt(i),(i=H=null===H?(i=(i=(i=g.document).querySelector&&i.querySelector("script[nonce]"))&&(i.nonce||i.getAttribute("nonce")))&&G.test(i)?i:"":H)&&t.setAttribute("nonce",i),((i=((t=e)||document).getElementsByTagName("HEAD"))&&0!=i.length?i[0]:t.documentElement).appendChild(r),o}function Gs(){var t;this&&this.Tb&&(t=this.Tb)&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ka)}function Hs(t,e,n){null!=n&&g.clearTimeout(n),t.onload=K,t.onerror=K,t.onreadystatechange=K,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ks=0,zs=1;function Qs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),o.call(this,n),this.code=t}function Ys(t){this.f=t}function Xs(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Zs,this.g=Ut(t.secureTokenHeaders||ta),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||ea,this.a=Ut(t.firebaseHeaders||na),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Nr(),!(n=g.XMLHttpRequest||n&&Fl.INTERNAL.node&&Fl.INTERNAL.node.XMLHttpRequest)&&!Cr())throw new b("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Cr()?this.f=new ds(self):Ar()?this.f=new Ys(n):this.f=new Zo,this.b=null}n(Qs,o),n(Ys,Yo),Ys.prototype.a=function(){return new this.f},Ys.prototype.b=function(){return{}};var Js,$s="idToken",Zs=new Hr(3e4,6e4),ta={"Content-Type":"application/x-www-form-urlencoded"},ea=new Hr(3e4,6e4),na={"Content-Type":"application/json"};function ra(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){var a;(t=((a=Rr(a=E())==Or&&(a=a.match(/\sChrome\/(\d+)/i))&&2==a.length?parseInt(a[1],10):null)&&a<30||ve&&Ee&&!(9<Ee))&&!Cr()?(Js=Js||new y(function(t,e){var n,r;n=t,r=e,((window.gapi||{}).client||{}).request?n():(g[aa]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},Ms(Ws(Qt(sa,{onload:aa})),null,function(){r(Error("CORS_UNSUPPORTED"))},void 0))}),m(t.s,t)):m(t.w,t))(e,n,r,i,o,s)}Xs.prototype.S=function(){return this.b},Xs.prototype.w=function(t,n,e,r,i,o){if(Cr()&&(void 0===g.fetch||void 0===g.Headers||void 0===g.Request))throw new b("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,a=new _s(this.f),o=(o&&(a.g=Math.max(0,o),s=setTimeout(function(){a.dispatchEvent("timeout")},o)),On(a,"complete",function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ps(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}n&&n(e)}),Rn(a,"ready",function(){s&&clearTimeout(s),rn(this)}),Rn(a,"timeout",function(){s&&clearTimeout(s),rn(this),n&&n(null)}),a),u=t,t=e,e=r,r=i;if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);t=t?t.toUpperCase():"GET",o.l=u,o.h="",o.P=t,o.N=!1,o.c=!0,o.a=(o.D||Go).a(),o.B=Xo(o.D||Go),o.a.onreadystatechange=m(o.Sb,o);try{ps(o.b,Ps(o,"Opening Xhr")),o.O=!0,o.a.open(t,String(u),!0),o.O=!1}catch(u){return void(ps(o.b,Ps(o,"Error opening Xhr: "+u.message)),Ss(o,u))}u=e||"";var c,h=new Fn(o.headers);if(r){var l=r,f=function(t,e){h.set(e,t)};if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(Q(l)||"string"==typeof l)_(l,f,void 0);else for(var p=Mn(l),d=Ln(l),v=d.length,y=0;y<v;y++)f.call(void 0,d[y],p&&p[y],l)}r=function(t){t:{for(var e=Ts,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(h.X()),e=g.FormData&&u instanceof g.FormData,!_t(Is,t)||r||e||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(t,e){this.a.setRequestHeader(e,t)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.R&&(o.a.withCredentials=o.R);try{ks(o),0<o.g&&(o.w=(c=o.a,ve&&Te(9)&&"number"==typeof c.timeout&&void 0!==c.ontimeout),ps(o.b,Ps(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.w)),o.w?(o.a.timeout=o.g,o.a.ontimeout=m(o.Ka,o)):o.s=Dn(o.Ka,o.g,o)),ps(o.b,Ps(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(u){ps(o.b,Ps(o,"Send error: "+u.message)),Ss(o,u)}};var sa=new qt(Gt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!Er.test(t))throw new b("invalid-email")}function ca(t){"email"in t&&ua(t)}function i(t){if(!t[$s]){if(t.mfaPendingCredential)throw new b("multi-factor-auth-required",null,Ut(t));throw new b("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new b("internal-error")}else{if(!t.sessionInfo)throw new b("missing-verification-id");if(!t.code)throw new b("missing-verification-code")}}Xs.prototype.s=function(t,n,r,i,o){var s=this;Js.then(function(){window.gapi.client.setApiKey(s.c);var e=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:r,body:i,headers:o,authType:"none",callback:function(t){window.gapi.auth.setToken(e),n&&n(t)}})}).o(function(t){n&&n({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Xs.prototype.vb=function(){return C(this,qa,{})},Xs.prototype.xb=function(t,e){return C(this,ja,{idToken:t,email:e})},Xs.prototype.yb=function(t,e){return C(this,Va,{idToken:t,password:e})};var la={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new b("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new b("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new b("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new b("internal-error")}function da(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&sr(t=new nr(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function va(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Qo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Qo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Qo(t)):t.errorMessage&&(e=Za(t.errorMessage)),e)throw e;i(t)}function ya(t,e){return e.returnIdpCredential=!0,C(t,Ga,e)}function ga(t,e){return e.returnIdpCredential=!0,C(t,Ka,e)}function ma(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,C(t,Ha,e)}function ba(t){if(!t.oobCode)throw new b("invalid-action-code")}(t=Xs.prototype).zb=function(t,r){var i={idToken:t},o=[];return Mt(la,function(t,e){var n=r[e];null===n?o.push(t):e in r&&(i[e]=n)}),o.length&&(i.deleteAttribute=o),C(this,ja,i)},t.rb=function(t,e){return l(t={requestType:"PASSWORD_RESET",email:t},e),C(this,xa,t)},t.sb=function(t,e){return l(t={requestType:"EMAIL_SIGNIN",email:t},e),C(this,Ra,t)},t.qb=function(t,e){return l(t={requestType:"VERIFY_EMAIL",idToken:t},e),C(this,Pa,t)},t.Ab=function(t,e,n){return l(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),C(this,Da,t)},t.cb=function(t){return C(this,Ya,t)},t.jb=function(t,e){return C(this,Fa,{oobCode:t,newPassword:e})},t.Pa=function(t){return C(this,wa,{oobCode:t})},t.fb=function(t){return C(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:ba,Y:"email",C:!0},wa={endpoint:"resetPassword",A:ba,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new b("internal-error")},C:!0},Ea={endpoint:"signupNewUser",A:function(t){if(ua(t),!t.password)throw new b("weak-password")},G:i,U:!0,C:!0},Ia={endpoint:"createAuthUri",C:!0},Ta={endpoint:"deleteAccount",M:["idToken"]},Sa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=z(t.deleteProvider))throw new b("internal-error")}},Ca={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ua,G:i,U:!0,C:!0},Na={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ua,G:i,U:!0},Aa={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:fa,G:i,C:!0,La:!0},ka={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:i,C:!0,La:!0},Oa={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new b("internal-error");ua(t)},Y:"email",C:!0},Pa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new b("internal-error")},Y:"email",C:!0},Da={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new b("internal-error")},Y:"email",C:!0},xa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new b("internal-error");ua(t)},Y:"email",C:!0},La={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ma={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new b("internal-error")}},Fa={endpoint:"resetPassword",A:ba,Y:"email",C:!0},Ua={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},ja={endpoint:"setAccountInfo",M:["idToken"],A:ca,U:!0},Va={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ca(t),!t.password)throw new b("weak-password")},G:i,U:!0},qa={endpoint:"signupNewUser",G:i,U:!0,C:!0},Ba={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new b("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new b("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new b("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new b("internal-error")},C:!0,La:!0},Wa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new b("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new b("internal-error")},C:!0,La:!0},Ga={endpoint:"verifyAssertion",A:pa,Wa:da,G:va,U:!0,C:!0},Ha={endpoint:"verifyAssertion",A:pa,Wa:da,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new b("user-not-found");if(t.errorMessage)throw Za(t.errorMessage);i(t)},U:!0,C:!0},Ka={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new b("internal-error")},Wa:da,G:va,U:!0},za={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new b("invalid-custom-token")},G:i,U:!0,C:!0},Qa={endpoint:"verifyPassword",A:function(t){if(ua(t),!t.password)throw new b("wrong-password")},G:i,U:!0,C:!0},Ya={endpoint:"verifyPhoneNumber",A:ha,G:i,C:!0},Xa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new b("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Qo(t);i(t)}},Ja={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:i,C:!0},$a={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[$s]^!!t.refreshToken)throw new b("internal-error")},C:!0,La:!0};function C(h,l,f){var e,p,d;return function(t,e){if(!e||!e.length)return 1;if(t){for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return}return 1}}(f,l.M)?(p=!!l.La,d=l.Rb||"POST",c(f).then(l.A).then(function(){l.U&&(f.returnSecureToken=!0),l.C&&h.b&&void 0===f.tenantId&&(f.tenantId=h.b);var t=h,e=p?h.l:h.h,n=l.endpoint,r=d,i=f,o=l.Eb,s=l.hb||!1,a=Kn(e+n),u=(v(a,"key",t.c),s&&v(a,"cb",et().toString()),"GET"==r);if(u)for(var c in i)i.hasOwnProperty(c)&&v(a,c,i[c]);return new y(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(tu(t,o||{})):e(t):n(new b("network-request-failed"))},r,u?void 0:hr(Vr(i)),t.a,t.i.get())})}).then(function(t){return e=t,l.Wa?l.Wa(f,e):e}).then(l.G).then(function(){if(!l.Y)return e;if(l.Y in e)return e[l.Y];throw new b("internal-error")})):w(new b("internal-error"))}function Za(t){return tu({error:{errors:[{message:t}],code:400,message:t}})}function tu(t,e){var n,r=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new b(i[r]):null)return r;for(n in r=t.error&&t.error.message||"",l(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===r.indexOf(n))return new b(i[n],e);return new b("internal-error",e=!e&&t?jr(t):e)}function eu(t){var o;this.b=t,this.a=null,this.nb=(o=this,(ou=ou||new y(function(t,e){function n(){Gr(),I("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Gr(),e(Error("Network Error"))},timeout:ru.get()})}var r;I("gapi.iframes.Iframe")?t():I("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),g[r]=function(){I("gapi.load")?n():e(Error("Network Error"))},c(Ws(Qt(nu,{onload:r}))).o(function(){e(Error("Network Error"))}))}).o(function(t){throw ou=null,t})).then(function(){return new y(function(r,i){I("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:I("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(t){function e(){clearTimeout(n),r()}o.a=t,o.a.restyle({setHideOnLeave:!1});var n=setTimeout(function(){i(Error("Network Error"))},iu.get());t.ping(e).then(e,function(){i(Error("Network Error"))})})})}))}var nu=new qt(Gt,"https://apis.google.com/js/api.js?onload=%{onload}"),ru=new Hr(3e4,6e4),iu=new Hr(5e3,15e3),ou=null;function su(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=zn(this.i,"/__/auth/iframe"),v(this.a,"apiKey",this.g),v(this.a,"appName",this.h),this.b=null,this.c=[]}function au(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uu(t){try{return Fl.app(t).auth().Ea()}catch(t){return[]}}function cu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function hu(t){var a=yr();return C(t,La,{}).then(function(t){return t.authorizedDomains||[]}).then(function(t){t:{for(var e=(n=Kn(a)).f,n=n.b,r=0;r<t.length;r++){var i=t[r],o=n,s=e;if(0==i.indexOf("chrome-extension://")?Kn(i).b==o&&"chrome-extension"==s:("http"==s||"https"==s)&&(wr.test(i)?o==i:(i=i.split(".").join("\\."),new RegExp("^(.+\\."+i+"|"+i+")$","i").test(o)))){t=!0;break t}}t=!1}if(!t)throw new Ko(yr())})}function lu(a){return a.l||(a.l=Ir().then(function(){a.s||(t=a.c,e=a.h,n=uu(a.b),(r=new su(a.u,a.f,a.b)).f=t,r.b=e,r.c=Tt(n||[]),a.s=r.toString()),a.i=new eu(a.s);var t,e,n,r,i,o,s=a;if(!s.i)throw Error("IfcHandler must be initialized!");o=function(t){var e={};if(t&&t.authEvent){var n=!1;for(t=Bo(t.authEvent),e=0;e<s.g.length;e++)n=s.g[e](t)||n;(e={}).status=n?"ACK":"ERROR"}else e.status="ERROR";return c(e)},(i=s.i).nb.then(function(){i.a.register("authEvent",o,I("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})),a.l}function fu(t){return t.m||(t.w=t.c?Dr(t.c,uu(t.b)):null,t.m=new Xs(t.f,at(t.h),t.w)),t.m}function pu(t,e,n,r,i,o,s,a,u,c,h){return(t=new au(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=Ut(u||null),t.f=c,t.ub(h).toString()}function du(t){if(this.a=t||Fl.INTERNAL.reactNative&&Fl.INTERNAL.reactNative.AsyncStorage,!this.a)throw new b("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=m(this.c,this)}su.prototype.toString=function(){return this.f?v(this.a,"v",this.f):or(this.a.a,"v"),this.b?v(this.a,"eid",this.b):or(this.a.a,"eid"),this.c.length?v(this.a,"fw",this.c.join(",")):or(this.a.a,"fw"),this.a.toString()},au.prototype.ub=function(t){return this.h=t,this},au.prototype.toString=function(){var t=zn(this.s,"/__/auth/handler");if(v(t,"apiKey",this.m),v(t,"appName",this.c),v(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Fl.app(this.c).auth().ja()}catch(t){n=null}for(r in e.kb=n,v(t,"providerId",this.a.providerId),n=Vr((e=this.a).Fb))n[r]=n[r].toString();for(var r=e.Oc,n=Ut(n),i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),Ft(n)||v(t,"customParameters",jr(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&v(t,"scopes",e.join(",")),this.l?v(t,"redirectUrl",this.l):or(t.a,"redirectUrl"),this.g?v(t,"eventId",this.g):or(t.a,"eventId"),this.i?v(t,"v",this.i):or(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Hn(t,s)&&v(t,s,this.b[s]);return this.h?v(t,"tid",this.h):or(t.a,"tid"),this.f?v(t,"eid",this.f):or(t.a,"eid"),(s=uu(this.c)).length&&v(t,"fw",s.join(",")),t.toString()},(t=cu.prototype).Lb=function(e,n,t){var r=new b("popup-closed-by-user"),i=new b("web-storage-unsupported"),o=this,s=!1;return this.ka().then(function(){var t,r={type:"webStorageSupport"};lu(t=o).then(function(){return e=t.i,n=r,e.nb.then(function(){return new y(function(t){e.a.send(n.type,n,t,I("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})});var e,n}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}).then(function(t){t||(e&&br(e),n(i),s=!0)})}).o(function(){}).then(function(){if(!s)return n=e,new y(function(e){return function t(){xn(2e3).then(function(){return n&&!n.closed?t():void e()})}()});var n}).then(function(){if(!s)return xn(t).then(function(){n(r)})})},t.Ub=function(){var t=E();return!Ur(t)&&!Wr(t)},t.Qb=function(){return!1},t.Jb=function(e,t,n,r,i,o,s,a){if(!e)return w(new b("popup-blocked"));if(s&&!Ur())return this.ka().o(function(t){br(e),i(t)}),r(),c();this.a||(this.a=hu(fu(this)));var u=this;return this.a.then(function(){var t=u.ka().o(function(t){throw br(e),i(t),t});return r(),t}).then(function(){Vo(n),s||gr(pu(u.u,u.f,u.b,t,n,null,o,u.c,void 0,u.h,a),e)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Kb=function(t,e,n,r){this.a||(this.a=hu(fu(this)));var i=this;return this.a.then(function(){Vo(e),gr(pu(i.u,i.f,i.b,t,e,yr(),n,i.c,void 0,i.h,r))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ka=function(){var t=this;return lu(this).then(function(){return t.i.nb}).o(function(){throw t.a=null,new b("network-request-failed")})},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(e){Et(this.g,function(t){return t==e})},(t=du.prototype).get=function(t){return c(this.a.getItem(t)).then(function(t){return t&&qr(t)})},t.set=function(t,e){return c(this.a.setItem(t,jr(e)))},t.T=function(t){return c(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var yu,gu=[];function mu(t,e,n){Ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bu(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function wu(r,t,e,n){var i,o,s,a,u,c,h=e||{},l=null;return r.b?w(Error("connection_unavailable")):(u=n?800:50,c="undefined"!=typeof MessageChannel?new MessageChannel:null,new y(function(e,n){c?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),c.port1.start(),s=setTimeout(function(){n(Error("unsupported_event"))},u),l={messageChannel:c,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){n(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?e(t.data.response):n(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),n(Error("invalid_response"))))}},r.a.push(l),c.port1.addEventListener("message",o),r.c.postMessage({eventType:t,eventId:i,data:h},[c.port2])):n(Error("connection_unavailable"))}).then(function(t){return Eu(r,l),t}).o(function(t){throw Eu(r,l),t}))}function Eu(t,e){var n;e&&((n=e.messageChannel)&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Et(t.a,function(t){return t==e}))}function Iu(){if(!Su())throw new b("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=g.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t,e,n,r=this;Cr()&&self?(this.l=(n=Cr()?self:null,_(gu,function(t){t.b==n&&(e=t)}),e||(e=new vu(n),gu.push(e)),e),mu(this.l,"keyChanged",function(t,n){return Ou(r).then(function(e){return 0<e.length&&_(r.a,function(t){t(e)}),{keyProcessed:_t(e,n.key)}})}),mu(this.l,"ping",function(){return c(["keyChanged"])})):((t=g.navigator)&&t.serviceWorker?c().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):c(null)).then(function(t){(r.h=t)&&(r.g=new _u(new bu(t)),wu(r.g,"ping",null,!0).then(function(t){t[0].fulfilled&&_t(t[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}function Tu(t){return t.m||(t.m=function i(o){return new y(function(e,n){var t=o.u.open("firebaseLocalStorageDb",1);t.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},t.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},t.onsuccess=function(t){var r;(t=t.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(t):(r=o,new y(function(t,e){var n=r.u.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){t()},n.onerror=function(t){e(Error(t.target.error))}}).then(function(){return i(o)}).then(function(t){e(t)}).o(function(t){n(t)}))}})}(t)),t.m}function Su(){try{return g.indexedDB}catch(t){}}function Cu(t){return t.objectStore("firebaseLocalStorage")}function Nu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Au(t){return new y(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function ku(t,e){return t.g&&t.h&&((n=g.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===t.h?wu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):c();var n}function Ou(r){return Tu(r).then(function(t){var i=Cu(Nu(t,!1));return i.getAll?Au(i.getAll()):new y(function(e,n){var r=[],t=i.openCursor();t.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},t.onerror=function(t){n(t.target.error)}})}).then(function(t){var e={},n=[];if(0==r.b){for(n=0;n<t.length;n++)e[t[n].fbase_key]=t[n].value;n=function t(e,n){var r,i=[];for(r in e)r in n&&typeof e[r]==typeof n[r]?"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(r.c,e),r.c=e}return n})}function Ru(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var r=this,i=null;this.a=[],this.type="indexedDB",this.c=t,this.b=c().then(function(){var e,n;return Su()?(e=Br(),n="__sak"+e,yu=yu||new Iu,(i=yu).set(n,e).then(function(){return i.get(n)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return i.T(n)}).then(function(){return i}).o(function(){return r.c})):r.c}).then(function(t){return r.type=t.type,t.ba(function(e){_(r.a,function(t){t(e)})}),t})}function Du(){this.a={},this.type="inMemory"}function xu(){if(!function(){var t="Node"==Nr();if(t=Lu()||t&&Fl.INTERNAL.node&&Fl.INTERNAL.node.localStorage)try{return t.setItem("__sak","1"),t.removeItem("__sak"),1}catch(t){}}()){if("Node"==Nr())throw new b("internal-error","The LocalStorage compatibility library was not found.");throw new b("web-storage-unsupported")}this.a=Lu()||Fl.INTERNAL.node.localStorage,this.type="localStorage"}function Lu(){try{var t=g.localStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){this.type="nullStorage"}function Fu(){if(!function(){var t="Node"==Nr();if(t=Uu()||t&&Fl.INTERNAL.node&&Fl.INTERNAL.node.sessionStorage)try{return t.setItem("__sak","1"),t.removeItem("__sak"),1}catch(t){}}()){if("Node"==Nr())throw new b("internal-error","The SessionStorage compatibility library was not found.");throw new b("web-storage-unsupported")}this.a=Uu()||Fl.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Uu(){try{var t=g.sessionStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function ju(){var t={};t.Browser=Bu,t.Node=Wu,t.ReactNative=Gu,t.Worker=Hu,this.a=t[Nr()]}vu.prototype.c=function(n){var e,r=n.data.eventType,i=n.data.eventId,t=this.a[r];t&&0<t.length&&(n.ports[0].postMessage({status:"ack",eventId:i,eventType:r,response:null}),e=[],_(t,function(t){e.push(c().then(function(){return t(n.origin,n.data.data)}))}),Ge(e).then(function(t){var e=[];_(t,function(t){e.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})}),_(e,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:e})}))},bu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)Eu(this,this.a[0]);this.b=!0},(t=Iu.prototype).set=function(n,r){var i,o=!1,s=this;return Tu(this).then(function(t){return Au((t=Cu(Nu(i=t,!0))).get(n))}).then(function(t){var e=Cu(Nu(i,!0));return t?(t.value=r,Au(e.put(t))):(s.b++,o=!0,(t={}).fbase_key=n,t.value=r,Au(e.add(t)))}).then(function(){return s.c[n]=r,ku(s,n)}).ma(function(){o&&s.b--})},t.get=function(e){return Tu(this).then(function(t){return Au(Cu(Nu(t,!1)).get(e))}).then(function(t){return t&&t.value})},t.T=function(e){var n=!1,r=this;return Tu(this).then(function(t){return n=!0,r.b++,Au(Cu(Nu(t,!0)).delete(e))}).then(function(){return delete r.c[e],ku(r,e)}).ma(function(){n&&r.b--})},t.ba=function(t){var n;0==this.a.length&&(Ru(n=this),function e(){n.f=setTimeout(function(){n.i=Ou(n).then(function(e){0<e.length&&_(n.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(t)},t.ha=function(e){Et(this.a,function(t){return t==e}),0==this.a.length&&Ru(this)},(t=Pu.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},t.set=function(e,n){return this.b.then(function(t){return t.set(e,n)})},t.T=function(e){return this.b.then(function(t){return t.T(e)})},t.ba=function(t){this.a.push(t)},t.ha=function(e){Et(this.a,function(t){return t==e})},(t=Du.prototype).get=function(t){return c(this.a[t])},t.set=function(t,e){return this.a[t]=e,c()},t.T=function(t){return delete this.a[t],c()},t.ba=function(){},t.ha=function(){},(t=xu.prototype).get=function(t){var e=this;return c().then(function(){return qr(e.a.getItem(t))})},t.set=function(e,n){var r=this;return c().then(function(){var t=jr(n);null===t?r.T(e):r.a.setItem(e,t)})},t.T=function(t){var e=this;return c().then(function(){e.a.removeItem(t)})},t.ba=function(t){g.window&&bn(g.window,"storage",t)},t.ha=function(t){g.window&&s(g.window,"storage",t)},(t=Mu.prototype).get=function(){return c(null)},t.set=function(){return c()},t.T=function(){return c()},t.ba=function(){},t.ha=function(){},(t=Fu.prototype).get=function(t){var e=this;return c().then(function(){return qr(e.a.getItem(t))})},t.set=function(e,n){var r=this;return c().then(function(){var t=jr(n);null===t?r.T(e):r.a.setItem(e,t)})},t.T=function(t){var e=this;return c().then(function(){e.a.removeItem(t)})},t.ba=function(){},t.ha=function(){};var Vu,qu,Bu={F:xu,$a:Fu},Wu={F:xu,$a:Fu},Gu={F:du,$a:Mu},Hu={F:xu,$a:Mu},Ku={od:"local",NONE:"none",qd:"session"};function zu(){var t=!(Wr(E())||!Sr()),e=Ur(),n=xr();this.m=t,this.h=e,this.l=n,this.a={},t=Vu=Vu||new ju;try{this.g=!vr()&&Qr()||!g.indexedDB?new t.a.F:new Pu(new(Cr()?Du:t.a.F))}catch(t){this.g=new Du,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Du}this.u=new Du,this.f=m(this.Vb,this),this.b={}}function Qu(){return qu=qu||new zu}function Yu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Xu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ju(t,e,n){return n=Xu(e,n),"local"==e.F&&(t.b[n]=null),Yu(t,e.F).T(n)}function $u(t){t.c&&(clearInterval(t.c),t.c=null)}function Zu(t){this.a=t,this.b=Qu()}(t=zu.prototype).get=function(t,e){return Yu(this,t.F).get(Xu(t,e))},t.set=function(e,t,n){var r=Xu(e,n),i=this,o=Yu(this,e.F);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.F&&(i.b[r]=t)})},t.addListener=function(t,e,n){var r;t=Xu(t,e),this.l&&(this.b[t]=g.localStorage.getItem(t)),Ft(this.a)&&(Yu(this,"local").ba(this.f),this.h||(vr()||!Qr())&&g.indexedDB||!this.l||($u(r=this),r.c=setInterval(function(){for(var t in r.a){var e=g.localStorage.getItem(t),n=r.b[t];e!=n&&(r.b[t]=e,e=new un({type:"storage",key:t,target:window,oldValue:n,newValue:e,a:!0}),r.Vb(e))}},1e3))),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Xu(t,e),this.a[t]&&(Et(this.a[t],function(t){return t==n}),0==this.a[t].length)&&delete this.a[t],Ft(this.a)&&(Yu(this,"local").ha(this.f),$u(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n],i=(void 0===r&&(r=null),g.localStorage.getItem(n));i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Yu(this,"local").ha(this.f):$u(this),this.m)if(n=g.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?g.localStorage.setItem(e,r):g.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this,n=function(){void 0===t.a.a&&o.b[e]===g.localStorage.getItem(e)||(o.b[e]=g.localStorage.getItem(e),o.ib(e))};ve&&Ee&&10==Ee&&g.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else _(t,m(this.ib,this))},t.ib=function(t){this.a[t]&&_(this.a[t],function(t){t()})};var tc,ec={name:"authEvent",F:"local"};function nc(){this.a=Qu()}function rc(t,e){this.b=ic,this.f=g.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=g.Int32Array?new Int32Array(64):Array(64),void 0===tc&&(tc=g.Int32Array?new Int32Array(lc):lc),this.reset()}n(rc,function(){this.b=-1});for(var ic=64,oc=ic-1,sc=[],ac=0;ac<oc;ac++)sc[ac]=0;var uc=It(128,sc);function cc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;e<64;e++){var i=0|n[e-15],r=0|n[e-2],o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],h=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;e<64;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0,s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&h^~c&l)+(0|tc[e])|0)+(0|n[e])|0)|0,o=l,l=h,h=c,c=u+s|0,u=a,a=i;i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+h|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function hc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(cc(t),i=0);else{if(!Q(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(cc(t),i=0)}}t.c=i,t.g+=n}rc.prototype.reset=function(){this.g=this.c=0,this.a=g.Int32Array?new Int32Array(this.h):Tt(this.h)};var lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fc(){rc.call(this,8,pc)}n(fc,rc);var pc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function dc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new nc,this.g=new Zu(this.h),this.f=null,this.b=[],this.a=this.c=null}function vc(t){return new b("invalid-cordova-configuration",t)}function yc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function gc(c){return c.f||(c.f=c.ka().then(function(){return new y(function(n){function e(r){t=!0,s&&s.cancel(),mc(i).then(function(t){var e,n=o;t&&r&&r.url&&(e=null,n=(e=-1!=(n=so(r.url)).indexOf("/__/auth/callback")?(e="object"==typeof(e=qr(Hn(e=Kn(n),"firebaseError")||null))?nt(e):null)?new qo(t.c,t.b,null,null,e,null,t.S()):new qo(t.c,t.b,n,t.f,null,null,t.S()):e)||o),yc(i,n)})}var i,o,t,s,r,a,u;c.Ca(function t(e){return n(e),c.Qa(t),!1}),i=c,o=new qo("unknown",null,null,null,new b("no-auth-event")),t=!1,s=xn(500).then(function(){return mc(i).then(function(){t||yc(i,o)})}),r=g.handleOpenURL,g.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(I("BuildInfo.packageName",g).toLowerCase()+"://")&&e({url:t}),"function"==typeof r)try{r(t)}catch(t){console.error(t)}},Ho=Ho||new Wo,a=e,(u=Ho).a.push(a),u.b||(u.b=function(t){for(var e=0;e<u.a.length;e++)u.a[e](t)},"function"==typeof(a=I("universalLinks.subscribe",g))&&a(null,u.b))})})),c.f}function mc(e){var t,n=null;return(t=e.g).b.get(ec,t.a).then(Bo).then(function(t){return n=t,Ju((t=e.g).b,ec,t.a)}).then(function(){return n})}function bc(t){this.a=t,this.b=Qu()}(t=dc.prototype).ka=function(){return this.Ga||(this.Ga=(Tr(void 0)?Ir().then(function(){return new y(function(t,e){var n=g.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):w(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof I("universalLinks.subscribe",g))throw vc("cordova-universal-links-plugin-fix is not installed");if(void 0===I("BuildInfo.packageName",g))throw vc("cordova-plugin-buildinfo is not installed");if("function"!=typeof I("cordova.plugins.browsertab.openUrl",g))throw vc("cordova-plugin-browsertab is not installed");if("function"!=typeof I("cordova.InAppBrowser.open",g))throw vc("cordova-plugin-inappbrowser is not installed")},function(){throw new b("cordova-not-ready")}))},t.Lb=function(t,e){return e(new b("operation-not-supported-in-this-environment")),c()},t.Jb=function(){return w(new b("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(l,f,p,d){var v,n,r,i,o,s;return this.c?w(new b("redirect-operation-pending")):(n=g.document,s=o=i=r=null,(v=this).c=c().then(function(){return Vo(f),gc(v)}).then(function(){var n=v,t=l,e=f,r=p,i=d,o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new qo(t,r,null,o,new b("no-auth-event"),null,i),a=I("BuildInfo.packageName",g);if("string"!=typeof a)throw new b("invalid-cordova-configuration");var u=I("BuildInfo.displayName",g),c={};if(E().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=a;else{if(!E().toLowerCase().match(/android/))return w(new b("operation-not-supported-in-this-environment"));c.apn=a}u&&(c.appDisplayName=u),o=function(t){var e=new fc,n=(hc(e,t),t=[],8*e.g);hc(e,uc,e.c<56?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(cc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return mt(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(o),c.sessionId=o;var h=pu(n.u,n.i,n.l,t,e,null,r,n.m,c,n.s,i);return n.ka().then(function(){var t=n.h;return n.w.a.set(ec,s.v(),t)}).then(function(){var t=I("cordova.plugins.browsertab.isAvailable",g);if("function"!=typeof t)throw new b("invalid-cordova-configuration");var e=null;t(function(t){if(t){if("function"!=typeof(e=I("cordova.plugins.browsertab.openUrl",g)))throw new b("invalid-cordova-configuration");e(h)}else{if("function"!=typeof(e=I("cordova.InAppBrowser.open",g)))throw new b("invalid-cordova-configuration");t=E(),n.a=e(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}).then(function(){return new y(function(e,t){i=function(){var t=I("cordova.plugins.browsertab.close",g);return e(),"function"==typeof t&&t(),v.a&&"function"==typeof v.a.close&&(v.a.close(),v.a=null),!1},v.Ca(i),o=function(){r=r||xn(2e3).then(function(){t(new b("redirect-cancelled-by-user"))})},s=function(){Kr()&&o()},n.addEventListener("resume",o,!1),E().toLowerCase().match(/android/)||n.addEventListener("visibilitychange",s,!1)}).o(function(t){return mc(v).then(function(){throw t})})}).ma(function(){o&&n.removeEventListener("resume",o,!1),s&&n.removeEventListener("visibilitychange",s,!1),r&&r.cancel(),i&&v.Qa(i),v.c=null}))},t.Ca=function(e){this.b.push(e),gc(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new qo("unknown",null,null,null,new b("no-auth-event")),e(t))})},t.Qa=function(e){Et(this.b,function(t){return t==e})};var _c={name:"pendingRedirect",F:"session"};function wc(t){return Ju(t.b,_c,t.a)}function Ec(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=m(this.s,this),this.b=new Mc,this.B=new qc,this.g=new bc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Ic(this.D,this.u,this.m,rt)}function Ic(t,e,n,r){var i=Fl.SDK_VERSION||null;return new(Tr()?dc:cu)(t,e,n,i,r)}function Tc(e){e.f||(e.f=!0,e.a.Ca(e.l));var n=e.a;return e.a.ka().o(function(t){throw e.a==n&&e.reset(),t})}function Sc(n){n.a.Ub()&&Tc(n).o(function(t){var e=new qo("unknown",null,null,null,new b("operation-not-supported-in-this-environment"));Rc(t)&&n.s(e)}),n.a.Qb()||Fc(n.b)}function Cc(n,t){_t(n.h,t)||n.h.push(t),n.f||(t=n.g).b.get(_c,t.a).then(function(t){return"pending"==t}).then(function(t){t?wc(n.g).then(function(){Tc(n).o(function(t){var e=new qo("unknown",null,null,null,new b("operation-not-supported-in-this-environment"));Rc(t)&&n.s(e)})}):Sc(n)}).o(function(){Sc(n)})}function Nc(t,e){Et(t.h,function(t){return t==e})}Ec.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Ic(this.D,this.u,this.m),this.i={}},Ec.prototype.s=function(t){if(!t)throw new b("invalid-auth-event");if(6e5<=et()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t)&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=et()),e=!0;break}}return Fc(this.b),e};var Ac=new Hr(2e3,1e4),kc=new Hr(3e4,6e4);function Oc(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,function(){t.f||(t.f=!0,t.a.Ca(t.l))},function(){t.reset()},i,o,s)}function Rc(t){return t&&"auth/cordova-not-ready"==t.code}function Pc(e,t,n,r,i){var o,s;return(s=e.g).b.set(_c,"pending",s.a).then(function(){return e.a.Kb(t,n,r,i).o(function(t){if(Rc(t))throw new b("operation-not-supported-in-this-environment");return o=t,wc(e.g).then(function(){throw o})}).then(function(){return e.a.Xb()?new y(function(){}):wc(e.g).then(function(){return e.pa()}).then(function(){}).o(function(){})})})}function Dc(t,e,n,r,i){return t.a.Lb(r,function(t){e.la(n,null,t,i)},Ac.get())}Ec.prototype.pa=function(){return this.b.pa()};var xc={};function Lc(t,e,n){var r=e+":"+n;return xc[r]||(xc[r]=new Ec(t,e,n)),xc[r]}function Mc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Fc(t){t.g||(t.g=!0,Vc(t,!1,null,null))}function Uc(t){t.g&&!t.i&&Vc(t,!1,null,null)}function jc(t,e){if(t.b=function(){return c(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Vc(t,e,n,r){if(e)if(r){var i=t,o=r;if(i.b=function(){return w(o)},i.c.length)for(var s=0;s<i.c.length;s++)i.c[s](o)}else jc(t,n);else jc(t,{user:null});t.f=[],t.c=[]}function qc(){}function Bc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Wc(t,e){this.a=e,d(this,"verificationId",t)}function Gc(t,e,n,r){return new Fo(t).cb(e,n).then(function(t){return new Wc(t,r)})}function Hc(t){var e=Ki(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new b("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");T(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Kc(t,e,n){var r=e&&e[Qc];if(!r)throw new b("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=Ut(e),this.g=n,this.c=new ao(null,r),this.b=[];var i=this;_(e[zc]||[],function(t){(t=ni(t))&&i.b.push(t)}),d(this,"auth",this.a),d(this,"session",this.c),d(this,"hints",this.b)}Mc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Mc.prototype.h=function(t,e){var n,r,i,o,s,a;t?(this.reset(),this.g=!0,o=t.c,s=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,i=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code,this.i=!(!r&&!i),"unknown"!=o||r||i?t.a?(Vc(this,!0,null,t.a),c()):e.Da(o,s)?(n=this,r=t,i=(i=e).Da(r.c,r.b),o=r.g,s=r.f,t=r.i,e=r.S(),a=!!r.c.match(/Redirect$/),i(o,s,e,t).then(function(t){Vc(n,a,t,null)}).o(function(t){Vc(n,a,null,t)})):w(new b("invalid-auth-event")):(Vc(this,!1,null,null),c())):w(new b("invalid-auth-event"))},Mc.prototype.pa=function(){var i=this;return new y(function(t,e){var n,r;i.b?i.b().then(t,e):(i.f.push(t),i.c.push(e),n=i,r=new b("timeout"),n.a&&n.a.cancel(),n.a=xn(kc.get()).then(function(){n.b||(n.g=!0,Vc(n,!0,null,r))}))})},qc.prototype.h=function(t,e){var n,r,i,o,s;t?(r=t.c,n=t.b,t.a?(e.la(t.c,null,t.a,t.b),c()):e.Da(r,n)?(i=e,o=(r=t).b,s=r.c,i.Da(s,o)(r.g,r.f,r.S(),r.i).then(function(t){i.la(s,t,null,o)}).o(function(t){i.la(s,null,t,o)})):w(new b("invalid-auth-event"))):w(new b("invalid-auth-event"))},Wc.prototype.confirm=function(t){return t=Uo(this.verificationId,t),this.a(t)};var zc="mfaInfo",Qc="mfaPendingCredential";function Yc(t,e,n,r){b.call(this,"multi-factor-auth-required",r,e),this.b=new Kc(t,e,n),d(this,"resolver",this.b)}function Xc(t,e,n){if(t&&f(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Yc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Jc(){}function $c(t){d(this,"factorId",t.ea),this.a=t}function Zc(t){if($c.call(this,t),this.a.ea!=Fo.PROVIDER_ID)throw new b("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function th(t,e){for(var n in h.call(this,t),e)this[n]=e[n]}function eh(t,e){this.a=t,this.b=[],this.c=m(this.wc,this),bn(this.a,"userReloaded",this.c);var r=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&_(e.multiFactor.enrolledFactors,function(t){var e=null,n={};if(t){t.uid&&(n[oi]=t.uid),t.displayName&&(n[ri]=t.displayName),t.enrollmentTime&&(n[ii]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(n[si]=t.phoneNumber);try{e=new ai(n)}catch(t){}t=e}else t=null;t&&r.push(t)}),nh(this,r)}function nh(t,e){t.b=e,d(t,"enrolledFactors",e)}function rh(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ih(t){this.c=t,this.b=this.a=null}function oh(t){return t.b&&1e3*t.b.c||0}function sh(t,e){var n=e.refreshToken;t.b=Hi(e[$s]||""),t.a=n}function ah(t,e){this.a=t||null,this.b=e||null,T(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function uh(t,e,n,r,i,o){T(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function N(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Fl.SDK_VERSION?Dr(Fl.SDK_VERSION):null,this.a=new Xs(this.l,at(rt),t),this.b=new ih(this.a),vh(this,e[$s]),sh(this.b,e),d(this,"refreshToken",this.b.a),mh(this,n||{}),p.call(this),this.P=!1,this.s&&Lr()&&(this.i=Lc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=(r=this,new rh(function(){return r.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var t=oh(r.b)-et()-3e5;return 0<t?t:0})),this.Z=m(this.Ma,this);var r,i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){hh(i,t.c)},this.$=null,this.O=new eh(this,n),d(this,"multiFactor",this.O)}function ch(t,e){t.aa&&s(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&bn(e,"languageCodeChanged",t.za)}function hh(t,e){t.W=e,ia(t.a,Fl.SDK_VERSION?Dr(Fl.SDK_VERSION,t.W):null)}function lh(t,e){t.$&&s(t.$,"frameworkChanged",t.ya),(t.$=e)&&bn(e,"frameworkChanged",t.ya)}function fh(e){try{return Fl.app(e.m).auth()}catch(t){throw new b("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function ph(t){t.D||t.B.b||(t.B.start(),s(t,"tokenChanged",t.Z),bn(t,"tokenChanged",t.Z))}function dh(t){s(t,"tokenChanged",t.Z),t.B.stop()}function vh(t,e){t.xa=e,d(t,"_lat",e)}function yh(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return Ge(e).then(function(){return t})}function gh(t){t.i&&!t.P&&(t.P=!0,Cc(t.i,t))}function mh(t,e){T(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ah(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function bh(){}function _h(t){return c().then(function(){if(t.D)throw new b("app-deleted")})}function wh(t){return mt(t.providerData,function(t){return t.providerId})}function Eh(t,e){e&&(Ih(t,e.providerId),t.providerData.push(e))}function Ih(t,e){Et(t.providerData,function(t){return t.providerId==e})}function Th(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&d(t,e,n)}function Sh(e,t){var n,r;e!=t&&(T(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),d(e,"metadata",t.metadata?new ah((r=t.metadata).a,r.b):new ah),_(t.providerData,function(t){Eh(e,t)}),r=e.b,n=t.b,r.b=n.b,r.a=n.a,d(e,"refreshToken",e.b.a),nh(e.O,t.O.b))}function Ch(r){return r.I().then(function(t){var e,n=r.isAnonymous;return C((e=r).a,Oa,{idToken:t}).then(m(e.Ic,e)).then(function(){return n||Th(r,"isAnonymous",!1),t})})}function Nh(t,e){e[$s]&&t.xa!=e[$s]&&(sh(t.b,e),t.dispatchEvent(new th("tokenChanged")),vh(t,e[$s]),Th(t,"refreshToken",t.b.a))}function Ah(t,e){return Ch(t).then(function(){if(_t(wh(t),e))return yh(t).then(function(){throw new b("provider-already-linked")})})}function kh(t,e,n){return Zr({user:t,credential:jo(e),additionalUserInfo:e=Ji(e),operationType:n})}function Oh(t,e){return Nh(t,e),t.reload().then(function(){return t})}function Rh(n,r,t,e,i){var o,s,a,u;return Lr()?n.h&&!i?w(n.h):(o=Xi(t.providerId),s=Br(n.uid+":::"),a=null,u=_r(a=(!Ur()||Sr())&&n.s&&t.isOAuthProvider?pu(n.s,n.l,n.m,r,t,null,s,Fl.SDK_VERSION||null,null,null,n.tenantId):a,o&&o.ta,o&&o.sa),e=e().then(function(){if(Dh(n),!i)return n.I().then(function(){})}).then(function(){return Oc(n.i,u,r,t,s,!!a,n.tenantId)}).then(function(){return new y(function(t,e){n.la(r,null,new b("cancelled-popup-request"),n.g||null),n.f=t,n.w=e,n.g=s,n.c=Dc(n.i,n,r,u,s)})}).then(function(t){return u&&br(u),t?Zr(t):null}).o(function(t){throw u&&br(u),t}),A(n,e,i)):w(new b("operation-not-supported-in-this-environment"))}function Ph(e,t,n,r,i){var o,s;return Lr()?e.h&&!i?w(e.h):(o=null,s=Br(e.uid+":::"),r=r().then(function(){if(Dh(e),!i)return e.I().then(function(){})}).then(function(){return e.fa=s,yh(e)}).then(function(t){return t=e.ga?(t=e.ga).b.set(Mh,e.v(),t.a):t}).then(function(){return Pc(e.i,t,n,s,e.tenantId)}).o(function(t){if(o=t,e.ga)return Fh(e.ga);throw o}).then(function(){if(o)throw o}),A(e,r,i)):w(new b("operation-not-supported-in-this-environment"))}function Dh(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new b("internal-error");throw new b("auth-domain-config-required")}}function A(n,t,e){t=t;var r,i=(r=n).h&&!e?(t.cancel(),w(r.h)):t.o(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(r.h||r.dispatchEvent(new th("userInvalidated")),r.h=t),t});return n.N.push(i),i.ma(function(){wt(n.N,i)}),i.o(function(t){var e=null;throw(e=t&&"auth/multi-factor-auth-required"===t.code?Xc(t.v(),fh(n),m(n.hc,n)):e)||t})}function xh(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[$s]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new N(e,n,t);return t.providerData&&_(t.providerData,function(t){t&&Eh(r,Zr(t))}),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Lh(t){this.a=t,this.b=Qu()}Kc.prototype.Pc=function(t){var n=this;return t.ob(this.a.b,this.c).then(function(t){var e=Ut(n.f);return delete e[zc],delete e[Qc],l(e,t),n.g(e)})},n(Yc,b),Jc.prototype.ob=function(t,e,n){return e.type==uo?(o=this,s=t,a=n,e.Fa().then(function(t){return t={idToken:t},void 0!==a&&(t.displayName=a),l(t,{phoneVerificationInfo:Mo(o.a)}),C(s,Aa,t)})):(r=this,i=t,e.Fa().then(function(t){return l(t={mfaPendingCredential:t},{phoneVerificationInfo:Mo(r.a)}),C(i,ka,t)}));var r,i,o,s,a},n($c,Jc),n(Zc,$c),n(th,h),(t=eh.prototype).wc=function(t){var e;nh(this,(t=t.ed,e=[],_(t.mfaInfo||[],function(t){(t=ni(t))&&e.push(t)}),e))},t.Ob=function(){return this.a.I().then(function(t){return new ao(t,null)})},t.dc=function(e,n){var r=this,i=this.a.a;return this.Ob().then(function(t){return e.ob(i,t,n)}).then(function(t){return Nh(r.a,t),r.a.reload()})},t.$c=function(t){var n=this,r="string"==typeof t?t:t.uid,e=this.a.a;return this.a.I().then(function(t){return C(e,$a,{idToken:t,mfaEnrollmentId:r})}).then(function(t){var e=gt(n.b,function(t){return t.uid!=r});return nh(n,e),Nh(n.a,t),n.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.v=function(){return{multiFactor:{enrolledFactors:mt(this.b,function(t){return t.v()})}}},rh.prototype.start=function(){this.a=this.c,function e(n,t){var r;n.stop(),n.b=xn((r=n,(t=t)?(r.a=r.c,r.g()):(t=r.a,r.a*=2,r.f<r.a&&(r.a=r.f),t))).then(function(){return e=g.document,n=null,Kr()||!e?c():new y(function(t){n=function(){Kr()&&(e.removeEventListener("visibilitychange",n,!1),t())},e.addEventListener("visibilitychange",n,!1)}).o(function(t){throw e.removeEventListener("visibilitychange",n,!1),t});var e,n}).then(function(){return n.h()}).then(function(){e(n,!0)}).o(function(t){n.i(t)&&e(n,!1)})}(this,!0)},rh.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ih.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:oh(this)}},ih.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?w(new b("user-token-expired")):t||!this.b||et()>oh(this)-3e4?this.a?(t={grant_type:"refresh_token",refresh_token:(e=this).a},r=e.c,i=t,new y(function(e,n){"refresh_token"==i.grant_type&&i.refresh_token||"authorization_code"==i.grant_type&&i.code?oa(r,r.u+"?key="+encodeURIComponent(r.c),function(t){t?t.error?n(tu(t)):t.access_token&&t.refresh_token?e(t):n(new b("internal-error")):n(new b("network-request-failed"))},"POST",ir(i).toString(),r.g,r.m.get()):n(new b("internal-error"))}).then(function(t){return e.b=Hi(t.access_token),e.a=t.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}}).o(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})):c(null):c({accessToken:this.b.toString(),refreshToken:this.a});var e,r,i},ah.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},n(N,p),N.prototype.va=function(t){this.oa=t,ra(this.a,t)},N.prototype.ja=function(){return this.oa},N.prototype.Ea=function(){return Tt(this.W)},N.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},d(N.prototype,"providerId","firebase"),(t=N.prototype).reload=function(){var t=this;return A(this,_h(this).then(function(){return Ch(t).then(function(){return yh(t)}).then(bh)}))},t.mc=function(t){return this.I(t).then(function(t){return new Hc(t)})},t.I=function(t){var e=this;return A(this,_h(this).then(function(){return e.b.getToken(t)}).then(function(t){if(t)return t.accessToken!=e.xa&&(vh(e,t.accessToken),e.dispatchEvent(new th("tokenChanged"))),Th(e,"refreshToken",t.refreshToken),t.accessToken;throw new b("internal-error")}))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new b("internal-error");mh(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e,n=(e=t.providerUserInfo)&&e.length?mt(e,function(t){return new uh(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[],r=0;r<n.length;r++)Eh(this,n[r]);Th(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new th("userReloaded",{ed:t}))},t.Jc=function(t){return Jr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return A(this,t.c(this.a,this.uid).then(function(t){return Nh(e,t),n=kh(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Ac=function(t){return Jr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(e){var n=this,r=null;return A(this,Ah(this,e.providerId).then(function(){return n.I()}).then(function(t){return e.b(n.a,t)}).then(function(t){return r=kh(n,t,"link"),Oh(n,t)}).then(function(){return r}))},t.Bc=function(t,e){var n=this;return A(this,Ah(this,"phone").then(function(){return Gc(fh(n),t,e,m(n.mb,n))}))},t.Kc=function(t,e){var n=this;return A(this,c().then(function(){return Gc(fh(n),t,e,m(n.pb,n))}),!0)},t.xb=function(e){var n=this;return A(this,this.I().then(function(t){return n.a.xb(t,e)}).then(function(t){return Nh(n,t),n.reload()}))},t.cd=function(e){var n=this;return A(this,this.I().then(function(t){return e.b(n.a,t)}).then(function(t){return Nh(n,t),n.reload()}))},t.yb=function(e){var n=this;return A(this,this.I().then(function(t){return n.a.yb(t,e)}).then(function(t){return Nh(n,t),n.reload()}))},t.zb=function(e){var n;return void 0===e.displayName&&void 0===e.photoURL?_h(this):A(n=this,this.I().then(function(t){return n.a.zb(t,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(t){return Nh(n,t),Th(n,"displayName",t.displayName||null),Th(n,"photoURL",t.photoUrl||null),_(n.providerData,function(t){"password"===t.providerId&&(d(t,"displayName",n.displayName),d(t,"photoURL",n.photoURL))}),yh(n)}).then(bh))},t.ad=function(e){var n=this;return A(this,Ch(this).then(function(t){return _t(wh(n),e)?C(n.a,Sa,{idToken:t,deleteProvider:[e]}).then(function(t){var e={};return _(t.providerUserInfo||[],function(t){e[t.providerId]=!0}),_(wh(n),function(t){e[t]||Ih(n,t)}),e[Fo.PROVIDER_ID]||d(n,"phoneNumber",null),yh(n)}):yh(n).then(function(){throw new b("no-such-provider")})}))},t.delete=function(){var e=this;return A(this,this.I().then(function(t){return C(e.a,Ta,{idToken:t})}).then(function(){e.dispatchEvent(new th("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");ch(e,null),lh(e,null),e.N=[],e.D=!0,dh(e),d(e,"refreshToken",null),e.i&&Nc(e.i,e)})},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?m(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?m(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?m(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?m(this.Ib,this):null},t.Cc=function(t){var e=this;return Rh(this,"linkViaPopup",t,function(){return Ah(e,t.providerId).then(function(){return yh(e)})},!1)},t.Lc=function(t){return Rh(this,"reauthViaPopup",t,function(){return c()},!0)},t.Dc=function(t){var e=this;return Ph(this,"linkViaRedirect",t,function(){return Ah(e,t.providerId)},!1)},t.Mc=function(t){return Ph(this,"reauthViaRedirect",t,function(){return c()},!0)},t.Hb=function(e,n,t,r){var i=this,o=(this.c&&(this.c.cancel(),this.c=null),null);return t=this.I().then(function(t){return ga(i.a,{requestUri:e,postBody:r,sessionId:n,idToken:t})}).then(function(t){return o=kh(i,t,"link"),Oh(i,t)}).then(function(){return o}),A(this,t)},t.Ib=function(t,e,n,r){var i=this,o=(this.c&&(this.c.cancel(),this.c=null),null);return A(this,c().then(function(){return lo(ma(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=kh(i,t,"reauthenticate"),Nh(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.qb=function(e){var n=this,r=null;return A(this,this.I().then(function(t){return r=t,void 0===e||Ft(e)?{}:qi(new Ri(e))}).then(function(t){return n.a.qb(r,t)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.Ab=function(e,n){var r=this,i=null;return A(this,this.I().then(function(t){return i=t,void 0===n||Ft(n)?{}:qi(new Ri(n))}).then(function(t){return r.a.Ab(i,e,t)}).then(function(t){if(r.email!=t)return r.reload()}).then(function(){}))},t.hc=function(t){var e=null,n=this;return A(this,t=lo(c(t),n.uid).then(function(t){return e=kh(n,t,"reauthenticate"),Nh(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.v()},t.v=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&l(e,this.metadata.v()),_(this.providerData,function(t){e.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(t))}),l(e,this.O.v()),e};var Mh={name:"redirectUser",F:"session"};function Fh(t){return Ju(t.b,Mh,t.a)}function Uh(t){var e,n,r,i,o,s,a,u,c;this.a=t,this.b=Qu(),this.c=null,this.f=(n=qh("local"),r=qh("session"),i=qh("none"),o=(e=this).b,s=n,a=e.a,u=Xu(s,a),c=Yu(o,s.F),o.get(s,a).then(function(t){var e=null;try{e=qr(g.localStorage.getItem(u))}catch(t){}if(e&&!t)return g.localStorage.removeItem(u),o.set(s,e,a);e&&t&&"localStorage"!=c.type&&g.localStorage.removeItem(u)}).then(function(){return e.b.get(r,e.a)}).then(function(t){return t?r:e.b.get(i,e.a).then(function(t){return t?i:e.b.get(n,e.a).then(function(t){return t?n:e.b.get(Vh,e.a).then(function(t){return t?qh(t):n})})})}).then(function(t){return e.c=t,jh(e,t.F)}).o(function(){e.c||(e.c=n)})),this.b.addListener(qh("local"),this.a,m(this.g,this))}function jh(t,e){var n,a,r=[];for(n in Ku)Ku[n]!==e&&r.push(Ju(t.b,qh(Ku[n]),t.a));return r.push(Ju(t.b,Vh,t.a)),a=r,new y(function(n,e){var r=a.length,i=[];if(r)for(var t=function(t,e){r--,i[t]=e,0==r&&n(i)},o=function(t){e(t)},s=0;s<a.length;s++)We(a[s],tt(t,s),o);else n(i)})}Uh.prototype.g=function(){var e=this,n=qh("local");Hh(this,function(){return c().then(function(){return e.c&&"local"!=e.c.F?e.b.get(n,e.a):null}).then(function(t){if(t)return jh(e,"local").then(function(){e.c=n})})})};var Vh={name:"persistence",F:"session"};function qh(t){return{name:"authUser",F:t}}function Bh(t,e){return Hh(t,function(){return t.b.set(t.c,e.v(),t.a)})}function Wh(t){return Hh(t,function(){return Ju(t.b,t.c,t.a)})}function Gh(t,e){return Hh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),xh(t||{})})})}function Hh(t,e){return t.f=t.f.then(e,e),t.f}function Kh(t){if(this.l=!1,d(this,"settings",new Bc),d(this,"app",t),!this.app.options||!this.app.options.apiKey)throw new b("invalid-api-key");var n,e,r,i,o,s,a,u;t=Fl.SDK_VERSION?Dr(Fl.SDK_VERSION):null,this.b=new Xs(this.app.options&&this.app.options.apiKey,at(rt),t),this.P=[],this.m=[],this.O=[],this.$b=Fl.INTERNAL.createSubscribe(m(this.xc,this)),this.W=void 0,this.ac=Fl.INTERNAL.createSubscribe(m(this.yc,this)),Jh(this,null),this.i=new Uh(this.app.options.apiKey+":"+this.app.name),this.B=new Lh(this.app.options.apiKey+":"+this.app.name),this.Z=O(this,(e=(n=this).app.options.authDomain,t=(a=n).B,u=a.app.options.authDomain,t=t.b.get(Mh,t.a).then(function(t){return t&&u&&(t.authDomain=u),xh(t||{})}).then(function(t){return(a.D=t)&&(t.ga=a.B),Fh(a.B)}),t=O(a,t).then(function(){return Gh(n.i,e)}).then(function(e){return e?(e.ga=n.B,n.D&&(n.D.fa||null)==(e.fa||null)?e:e.reload().then(function(){return Bh(n.i,e).then(function(){return e})}).o(function(t){return"auth/network-request-failed"==t.code?e:Wh(n.i)})):null}).then(function(t){Jh(n,t||null)}),O(n,t))),this.h=O(this,(r=this).Z.then(function(){return Xh(r)}).o(function(){}).then(function(){if(!r.l)return r.oa()}).o(function(){}).then(function(){var t;r.l||(r.aa=!0,(t=r.i).b.addListener(qh("local"),t.a,r.oa))})),this.aa=!1,this.oa=m(this.Xc,this),this.Ma=m(this.ca,this),this.xa=m(this.jc,this),this.ya=m(this.uc,this),this.za=m(this.vc,this),this.a=null,o=(i=this).app.options.authDomain,s=i.app.options.apiKey,o&&Lr()&&(i.Zb=i.Z.then(function(){var t;if(!i.l)return i.a=Lc(o,s,i.app.name),Cc(i.a,i),k(i)&&gh(k(i)),i.D&&(gh(i.D),(t=i.D).va(i.ja()),ch(t,i),hh(t=i.D,i.N),lh(t,i),i.D=null),i.a})),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Ec,this),this.s=0,p.call(this),Object.defineProperty(this,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),this.$=null,Object.defineProperty(this,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),this.R=null,this.N=[]}function zh(t){h.call(this,"languageCodeChanged"),this.g=t}function Qh(t){h.call(this,"frameworkChanged"),this.c=t}function Yh(t){return t.Zb||w(new b("auth-domain-config-required"))}function Xh(t){var e;return Lr()?(e=Yh(t).then(function(){return t.a.pa()}).then(function(t){return t?Zr(t):null}),O(t,e)):w(new b("operation-not-supported-in-this-environment"))}function Jh(t,e){var n,r;k(t)&&(n=k(t),r=t.Ma,Et(n.R,function(t){return t==r}),s(k(t),"tokenChanged",t.xa),s(k(t),"userDeleted",t.ya),s(k(t),"userInvalidated",t.za),dh(k(t))),e&&(e.R.push(t.Ma),bn(e,"tokenChanged",t.xa),bn(e,"userDeleted",t.ya),bn(e,"userInvalidated",t.za),0<t.s)&&ph(e),d(t,"currentUser",e),e&&(e.va(t.ja()),ch(e,t),hh(e,t.N),lh(e,t))}function $h(n,t){var e=null,r=null;return O(n,t.then(function(t){return e=jo(t),r=Ji(t),o=n,s=t,(a={}).apiKey=o.app.options.apiKey,a.authDomain=o.app.options.authDomain,a.appName=o.app.name,o.Z.then(function(){return t=a,e=s,n=o.B,r=o.Ea(),i=new N(t,e),n&&(i.ga=n),r&&hh(i,r),i.reload().then(function(){return i});var t,e,n,r,i}).then(function(t){return k(o)&&t.uid==k(o).uid?Sh(k(o),t):(Jh(o,t),gh(t)),o.ca(t)}).then(function(){tl(o)});var o,s,a},function(t){var e=null;throw(e=t&&"auth/multi-factor-auth-required"===t.code?Xc(t.v(),n,m(n.ic,n)):e)||t}).then(function(){return Zr({user:k(n),credential:e,additionalUserInfo:r,operationType:"signIn"})}))}function k(t){return t.currentUser}function Zh(t){return k(t)&&k(t)._lat||null}function tl(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Zh(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Zh(t))}}function O(t,e){return t.P.push(e),e.ma(function(){wt(t.P,e)}),e}function el(){}function nl(){this.a={},this.b=1e12}Uh.prototype.tb=function(e){var n=null,r=this,t=e,i=new b("invalid-persistence-type"),o=new b("unsupported-persistence-type");t:{for(s in Ku)if(Ku[s]==t){var s=!0;break t}s=!1}if(!s||"string"!=typeof t)throw i;switch(Nr()){case"ReactNative":if("session"===t)throw o;break;case"Node":if("none"!==t)throw o;break;case"Worker":if("session"===t||!Su()&&"none"!==t)throw o;break;default:if(!xr()&&"none"!==t)throw o}return Hh(this,function(){return e!=r.c.F?r.b.get(r.c,r.a).then(function(t){return n=t,jh(r,e)}).then(function(){if(r.c=qh(e),n)return r.b.set(r.c,n,r.a)}):c()})},n(Kh,p),n(zh,h),n(Qh,h),(t=Kh.prototype).tb=function(t){return t=this.i.tb(t),O(this,t)},t.va=function(t){this.$===t||this.l||(this.$=t,ra(this.b,this.$),this.dispatchEvent(new zh(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=g.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),ia(this.b,Fl.SDK_VERSION?Dr(Fl.SDK_VERSION,this.N):null),this.dispatchEvent(new Qh(this.N))},t.Ea=function(){return Tt(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:k(this)&&k(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?m(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then(function(){return $h(i,ya(i.b,o))})},t.Vc=function(e){var n,t,r,i,o;return Lr()?(n=this,t=Xi(e.providerId),r=Br(),i=null,o=_r(i=(!Ur()||Sr())&&this.app.options.authDomain&&e.isOAuthProvider?pu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,r,Fl.SDK_VERSION||null,null,null,this.S()):i,t&&t.ta,t&&t.sa),O(this,t=Yh(this).then(function(t){return Oc(t,o,"signInViaPopup",e,r,!!i,n.S())}).then(function(){return new y(function(t,e){n.la("signInViaPopup",null,new b("cancelled-popup-request"),n.g),n.f=t,n.w=e,n.g=r,n.c=Dc(n.a,n,"signInViaPopup",o,r)})}).then(function(t){return o&&br(o),t?Zr(t):null}).o(function(t){throw o&&br(o),t}))):w(new b("operation-not-supported-in-this-environment"))},t.Wc=function(t){var e;return Lr()?O(e=this,Yh(this).then(function(){return Hh(t=e.i,function(){return t.b.set(Vh,t.c.F,t.a)});var t}).then(function(){return Pc(e.a,"signInViaRedirect",t,void 0,e.S())})):w(new b("operation-not-supported-in-this-environment"))},t.pa=function(){var e=this;return Xh(this).then(function(t){return e.a&&Uc(e.a.b),t}).o(function(t){throw e.a&&Uc(e.a.b),t})},t.bd=function(t){if(!t)return w(new b("null-user"));if(this.R!=t.tenantId)return w(new b("tenant-id-mismatch"));var e=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;r=t,n=n,i=e.B,o=e.Ea(),(a={})[$s]=(s=r.b).b&&s.b.toString(),a.refreshToken=s.a,n=new N(n||{apiKey:r.l,authDomain:r.s,appName:r.m},a),i&&(n.ga=i),o&&hh(n,o),Sh(n,r);var r,i,o,s,a,u=n;return O(this,this.h.then(function(){if(e.app.options.apiKey!=t.l)return u.reload()}).then(function(){return k(e)&&t.uid==k(e).uid?(Sh(k(e),t),e.ca(t)):(Jh(e,u),gh(u),e.ca(u))}).then(function(){tl(e)}))},t.wb=function(){var t=this,e=this.h.then(function(){return t.a&&Uc(t.a.b),k(t)?(Jh(t,null),Wh(t.i).then(function(){tl(t)})):c()});return O(this,e)},t.Xc=function(){var r=this;return Gh(this.i,this.app.options.authDomain).then(function(t){if(!r.l){var e,n;if((n=k(r)&&t)&&(n=k(r).uid,e=t.uid,n=null!=n&&""!==n&&null!=e&&""!==e&&n==e),n)return Sh(k(r),t),k(r).I();(k(r)||t)&&(Jh(r,t),t&&(gh(t),t.ga=r.B),r.a&&Cc(r.a,r),tl(r))}})},t.ca=function(t){return Bh(this.i,t)},t.jc=function(){tl(this),this.ca(k(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then(function(){return $h(e,c(t))})},t.xc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(k(e))})},t.yc=function(t){var e,n=this,r=function(){t.next(k(n))};(e=this).O.push(r),O(e,e.h.then(function(){!e.l&&_t(e.O,r)&&e.W!==e.getUid()&&(e.W=e.getUid(),r(Zh(e)))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then(function(){"function"==typeof t?t(k(r)):"function"==typeof t.next&&t.next(k(r))}),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(k(r)):"function"==typeof t.next&&t.next(k(r))}),this.ac(t,e,n)},t.kc=function(t){var e=this,n=this.h.then(function(){return k(e)?k(e).I(t).then(function(t){return{accessToken:t}}):null});return O(this,n)},t.Rc=function(t){var n=this;return this.h.then(function(){return $h(n,C(n.b,za,{token:t}))}).then(function(t){var e=t.user;return Th(e,"isAnonymous",!1),n.ca(e),t})},t.Sc=function(t,e){var n=this;return this.h.then(function(){return $h(n,C(n.b,Qa,{email:t,password:e}))})},t.cc=function(t,e){var n=this;return this.h.then(function(){return $h(n,C(n.b,Ea,{email:t,password:e}))})},t.Ya=function(t){var e=this;return this.h.then(function(){return $h(e,t.ia(e.b))})},t.Qc=function(t){return Jr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var n=this;return this.h.then(function(){var t,e=k(n);return e&&e.isAnonymous?(t=Zr({providerId:null,isNewUser:!1}),Zr({user:e,credential:null,additionalUserInfo:t,operationType:"signIn"})):$h(n,n.b.vb()).then(function(t){var e=t.user;return Th(e,"isAnonymous",!0),n.ca(e),t})})},t.getUid=function(){return k(this)&&k(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&k(this)&&ph(k(this))},t.Nc=function(e){var n=this;_(this.m,function(t){t==e&&n.s--}),this.s<0&&(this.s=0),0==this.s&&k(this)&&dh(k(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),O(this,this.h.then(function(){e.l||_t(e.m,t)&&t(Zh(e))}))},t.removeAuthTokenListener=function(e){Et(this.m,function(t){return t==e})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(qh("local"),t.a,this.oa),this.a&&(Nc(this.a,this),Uc(this.a.b)),Promise.resolve()},t.fc=function(t){return O(this,C(this.b,Ia,{identifier:t,continueUri:Mr()?yr():"http://localhost"}).then(function(t){return t.signinMethods||[]}))},t.zc=function(t){return!!Do(t)},t.sb=function(e,n){var r=this;return O(this,c().then(function(){var t=new Ri(n);if(t.c)return qi(t);throw new b("argument-error",xi+" must be true when sending sign in link to email")}).then(function(t){return r.b.sb(e,t)}).then(function(){}))},t.fd=function(t){return this.Pa(t).then(function(t){return t.data.email})},t.jb=function(t,e){return O(this,this.b.jb(t,e).then(function(){}))},t.Pa=function(t){return O(this,this.b.Pa(t).then(function(t){return new ui(t)}))},t.fb=function(t){return O(this,this.b.fb(t).then(function(){}))},t.rb=function(e,t){var n=this;return O(this,c().then(function(){return void 0===t||Ft(t)?{}:qi(new Ri(t))}).then(function(t){return n.b.rb(e,t)}).then(function(){}))},t.Uc=function(t,e){return O(this,Gc(this,t,e,m(this.Ya,this)))},t.Tc=function(n,r){var i=this;return O(this,c().then(function(){var t=r||yr(),e=Po(n,t);if(!(t=Do(t)))throw new b("argument-error","Invalid email link!");if(t.tenantId!==i.S())throw new b("tenant-id-mismatch");return i.Ya(e)}))},el.prototype.render=function(){},el.prototype.reset=function(){},el.prototype.getResponse=function(){},el.prototype.execute=function(){};var rl=null;function il(t,e){return(e=ol(e))&&t.a[e]||null}function ol(t){return(t=void 0===t?1e12:t)?t.toString():null}function sl(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():bn(this.f,"click",this.i)}function al(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ul(){}function cl(){}nl.prototype.render=function(t,e){return this.a[this.b.toString()]=new sl(t,e),this.b++},nl.prototype.reset=function(t){var e=il(this,t);t=ol(t),e&&t&&(e.delete(),delete this.a[t])},nl.prototype.getResponse=function(t){return(t=il(this,t))?t.getResponse():null},nl.prototype.execute=function(t){(t=il(this,t))&&t.execute()},sl.prototype.getResponse=function(){return al(this),this.b},sl.prototype.execute=function(){al(this);var n=this;this.a||(this.a=setTimeout(function(){n.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var t=n.c.callback,e=n.c["expired-callback"];if(t)try{t(n.b)}catch(t){}n.a=setTimeout(function(){if(n.a=null,n.b=null,e)try{e()}catch(t){}n.h&&n.execute()},6e4)},500))},sl.prototype.delete=function(){al(this),this.g=!0,clearTimeout(this.a),this.a=null,s(this.f,"click",this.i)},d(ul,"FACTOR_ID","phone"),cl.prototype.g=function(){return c(rl=rl||new nl)},cl.prototype.c=function(){};var hl=null;function ll(){this.b=g.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var fl=new qt(Gt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),pl=new Hr(3e4,6e4),dl=(ll.prototype.g=function(i){var o=this;return new y(function(t,e){var r=setTimeout(function(){e(new b("network-request-failed"))},pl.get());!g.grecaptcha||i!==o.f&&!o.b?(g[o.a]=function(){var n;g.grecaptcha?(o.f=i,n=g.grecaptcha.render,g.grecaptcha.render=function(t,e){return t=n(t,e),o.b++,t},clearTimeout(r),t(g.grecaptcha)):(clearTimeout(r),e(new b("internal-error"))),delete g[o.a]},c(Ws(Qt(fl,{onload:o.a,hl:i||""}))).o(function(){clearTimeout(r),e(new b("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(r),t(g.grecaptcha))})},ll.prototype.c=function(){this.b--},null);function vl(t,e,n,r,i,o,s){if(d(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s=s?hl=hl||new cl:dl=dl||new ll,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[ml])throw new b("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[bl],!g.document)throw new b("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ce(e)||!this.i&&Ce(e).hasChildNodes())throw new b("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xs(t,o||null,i||null),this.w=r||function(){return null};var a=this,u=(this.l=[],this.a[yl]),c=(this.a[yl]=function(t){var e;_l(a,t),"function"==typeof u?u(t):"string"==typeof u&&"function"==typeof(e=I(u,g))&&e(t)},this.a[gl]);this.a[gl]=function(){var t;_l(a,null),"function"==typeof c?c():"string"==typeof c&&"function"==typeof(t=I(c,g))&&t()}}var yl="callback",gl="expired-callback",ml="sitekey",bl="size";function _l(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function wl(t,e){return t.h.push(e),e.ma(function(){wt(t.h,e)}),e}function El(t){if(t.D)throw new b("internal-error","RecaptchaVerifier instance has been destroyed.")}function Il(t,e,n){var r=!1;try{this.b=n||Fl.app()}catch(t){throw new b("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new b("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Fl.SDK_VERSION?Dr(Fl.SDK_VERSION,o):null,vl.call(this,n,t,e,function(){try{var e=i.b.auth().ja()}catch(t){e=null}return e},o,at(rt),r)}function Tl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new b("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],i<0||i>=Sl.length)throw new b("internal-error","Argument validator received an unsupported number of arguments.");n=Sl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new b("argument-error",t+" failed: "+r)}(t=vl.prototype).Ga=function(){var e=this;return this.f||(this.f=wl(this,c().then(function(){if(Mr()&&!Cr())return Ir();throw new b("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.w())}).then(function(t){return e.g=t,C(e.s,Ma,{})}).then(function(t){e.a[ml]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t})))},t.render=function(){El(this);var n=this;return wl(this,this.Ga().then(function(){var t,e;return null===n.c&&(e=n.u,n.i||(t=Ce(e),e=function(){var t,e=arguments,n=document,r=String(e[0]),i=e[1];if(!Se&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',le(i.name),'"'),i.type&&(r.push(' type="',le(i.type),'"'),l(t={},i),delete t.type,i=t),r.push(">"),r=r.join("")),r=Re(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):Ne(r,i)),2<e.length){var o=n,s=r,a=e;function u(t){t&&s.appendChild("string"==typeof t?o.createTextNode(t):t)}for(var c=2;c<a.length;c++){var h=a[c];!Q(h)||f(h)&&0<h.nodeType?u(h):_(function(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(Y(t))return"function"==typeof t.item}}(h)?Tt(h):h,u)}}return r}("DIV"),t.appendChild(e)),n.c=n.g.render(e,n.a)),n.c}))},t.verify=function(){El(this);var i=this;return wl(this,this.render().then(function(e){return new y(function(n){var r,t=i.g.getResponse(e);t?n(t):(i.l.push(r=function(t){var e;t&&(e=r,Et(i.l,function(t){return t==e}),n(t))}),i.i&&i.g.execute(i.c))})}))},t.reset=function(){El(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){El(this),this.D=!0,this.m.c();for(var t,e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(e=Ce(this.u);t=e.firstChild;)e.removeChild(t)},n(Il,vl);var Sl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function R(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Cl(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function P(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:f}}function Nl(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Al(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function kl(n){return{name:n?n+"Credential":"credential",J:n?"a valid "+n+" credential":"a valid credential",optional:!1,K:function(t){var e;return!(!t||(e=!n||t.providerId===n,!t.ia)||!e)}}}function Ol(){return{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}}function Rl(){return{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Pl(t,e){return f(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function Dl(t){return f(t)&&"string"==typeof t.uid}function xl(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}}function D(e,n,t,r){return{name:t||"",J:e.J+" or "+n.J,optional:!!r,K:function(t){return e.K(t)||n.K(t)}}}function x(t,e){for(var n in e){var r=e[n].name;t[r]=Ml(r,t[n],e[n].j)}}function Ll(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:tt(function(t){return this[t]},n),set:tt(function(t,e,n,r){Tl(t,[n],[r],!0),this[e]=r},r,n,e[n].gb),enumerable:!0})}}function L(t,e,n,r){t[e]=Ml(e,n,r)}function Ml(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Tl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=(t=(t=t).split("."))[t.length-1];for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}if(x(Kh.prototype,{fb:{name:"applyActionCode",j:[R("code")]},Pa:{name:"checkActionCode",j:[R("code")]},jb:{name:"confirmPasswordReset",j:[R("code"),R("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[R("email"),R("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[R("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[R("emailLink")]},Fc:{name:"onAuthStateChanged",j:[D(P(),Nl(),"nextOrObserver"),Nl("opt_error",!0),Nl("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[D(P(),Nl(),"nextOrObserver"),Nl("opt_error",!0),Nl("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[R("email"),D(P("opt_actionCodeSettings",!0),Al(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[R("email"),P("actionCodeSettings")]},tb:{name:"setPersistence",j:[R("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[kl()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[kl()]},Rc:{name:"signInWithCustomToken",j:[R("token")]},Sc:{name:"signInWithEmailAndPassword",j:[R("email"),R("password")]},Tc:{name:"signInWithEmailLink",j:[R("email"),R("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[R("phoneNumber"),xl()]},Vc:{name:"signInWithPopup",j:[Rl()]},Wc:{name:"signInWithRedirect",j:[Rl()]},bd:{name:"updateCurrentUser",j:[D({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof N)}},Al(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[R(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[R("code")]}}),Ll(Kh.prototype,{lc:{name:"languageCode",gb:D(R(),Al(),"languageCode")},ti:{name:"tenantId",gb:D(R(),Al(),"tenantId")}}),(Kh.Persistence=Ku).LOCAL="local",Kh.Persistence.SESSION="session",Kh.Persistence.NONE="none",x(N.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Cl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Cl("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[kl()]},mb:{name:"linkWithCredential",j:[kl()]},Bc:{name:"linkWithPhoneNumber",j:[R("phoneNumber"),xl()]},Cc:{name:"linkWithPopup",j:[Rl()]},Dc:{name:"linkWithRedirect",j:[Rl()]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[kl()]},pb:{name:"reauthenticateWithCredential",j:[kl()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[R("phoneNumber"),xl()]},Lc:{name:"reauthenticateWithPopup",j:[Rl()]},Mc:{name:"reauthenticateWithRedirect",j:[Rl()]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[D(P("opt_actionCodeSettings",!0),Al(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[R(null,!0)]},ad:{name:"unlink",j:[R("provider")]},xb:{name:"updateEmail",j:[R("email")]},yb:{name:"updatePassword",j:[R("password")]},cd:{name:"updatePhoneNumber",j:[kl("phone")]},zb:{name:"updateProfile",j:[P("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[R("email"),D(P("opt_actionCodeSettings",!0),Al(null,!0),"opt_actionCodeSettings",!0)]}}),x(nl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),x(el.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),x(y.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Ll(Bc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Cl("appVerificationDisabledForTesting")}}),x(Wc.prototype,{confirm:{name:"confirm",j:[R("verificationCode")]}}),L(ho,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,Oo,Lo,vo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[D(R(),P(),"json")]),L(Ro,"credential",function(t,e){return new ko(t,e)},[R("email"),R("password")]),x(ko.prototype,{v:{name:"toJSON",j:[R(null,!0)]}}),x(wo.prototype,{Aa:{name:"addScope",j:[R("scope")]},Ia:{name:"setCustomParameters",j:[P("customOAuthParameters")]}}),L(wo,"credential",Eo,[D(R(),P(),"token")]),L(Ro,"credentialWithLink",Po,[R("email"),R("emailLink")]),x(Io.prototype,{Aa:{name:"addScope",j:[R("scope")]},Ia:{name:"setCustomParameters",j:[P("customOAuthParameters")]}}),L(Io,"credential",To,[D(R(),P(),"token")]),x(So.prototype,{Aa:{name:"addScope",j:[R("scope")]},Ia:{name:"setCustomParameters",j:[P("customOAuthParameters")]}}),L(So,"credential",Co,[D(R(),D(P(),Al()),"idToken"),D(R(),Al(),"accessToken",!0)]),x(No.prototype,{Ia:{name:"setCustomParameters",j:[P("customOAuthParameters")]}}),L(No,"credential",Ao,[D(R(),P(),"token"),R("secret",!0)]),x(S.prototype,{Aa:{name:"addScope",j:[R("scope")]},credential:{name:"credential",j:[D(R(),D(P(),Al()),"optionsOrIdToken"),D(R(),Al(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[P("customOAuthParameters")]}}),x(yo.prototype,{v:{name:"toJSON",j:[R(null,!0)]}}),x(fo.prototype,{v:{name:"toJSON",j:[R(null,!0)]}}),L(Fo,"credential",Uo,[R("verificationId"),R("verificationCode")]),x(Fo.prototype,{cb:{name:"verifyPhoneNumber",j:[D(R(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Pl(t.session,uo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Pl(t.session,co)&&Dl(t.multiFactorHint):t.session&&t.multiFactorUid?Pl(t.session,co)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),xl()]}}),x(xo.prototype,{v:{name:"toJSON",j:[R(null,!0)]}}),x(b.prototype,{toJSON:{name:"toJSON",j:[R(null,!0)]}}),x(zo.prototype,{toJSON:{name:"toJSON",j:[R(null,!0)]}}),x(Ko.prototype,{toJSON:{name:"toJSON",j:[R(null,!0)]}}),x(Yc.prototype,{toJSON:{name:"toJSON",j:[R(null,!0)]}}),x(Kc.prototype,{Pc:{name:"resolveSignIn",j:[Ol()]}}),x(eh.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[Ol(),R("displayName",!0)]},$c:{name:"unenroll",j:[D({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Dl},R(),"multiFactorInfoIdentifier")]}}),x(Il.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),L(Ei,"parseLink",Oi,[R("link")]),L(ul,"assertion",function(t){return new Zc(t)},[kl("phone")]),void 0===Fl||!Fl.INTERNAL||!Fl.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Kh,AuthCredential:ho,Error:b};L(e,"EmailAuthProvider",Ro,[]),L(e,"FacebookAuthProvider",wo,[]),L(e,"GithubAuthProvider",Io,[]),L(e,"GoogleAuthProvider",So,[]),L(e,"TwitterAuthProvider",No,[]),L(e,"OAuthProvider",S,[R("providerId")]),L(e,"SAMLAuthProvider",_o,[R("providerId")]),L(e,"PhoneAuthProvider",Fo,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Kh)}}]),L(e,"RecaptchaVerifier",Il,[D(R(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),P("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Fl.app.App)}}]),L(e,"ActionCodeURL",Ei,[]),L(e,"PhoneMultiFactorGenerator",ul,[]),Fl.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Kh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),Fl.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.kc,t),addAuthTokenListener:m(t.bc,t),removeAuthTokenListener:m(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Fl.registerVersion("@firebase/auth","0.14.9"),Fl.INTERNAL.extendNamespace({User:N})}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),ma.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ts(e))},ma.prototype.get=function(t){t=this.domStorage_.getItem(this.prefixedName_(t));return null==t?null:Is(t)},ma.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},ma.prototype.prefixedName_=function(t){return this.prefix_+t},ma.prototype.toString=function(){return this.domStorage_.toString()},ma);function ma(t){this.domStorage_=t,this.prefix_="firebase:"}_a.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},_a.prototype.get=function(t){return Cs(this.cache_,t)?this.cache_[t]:null},_a.prototype.remove=function(t){delete this.cache_[t]};var ba=_a;function _a(){this.cache_={},this.isInMemoryStorage=!0}function wa(t){try{var e;if("undefined"!=typeof window&&void 0!==window[t])return(e=window[t]).setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ga(e)}catch(t){}return new ba}function Ea(t){var t=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i,o=t.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,d(++r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(t.charCodeAt(r)-56320)),o<128?e[n++]=o:(o<2048?e[n++]=o>>6|192:(o<65536?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}return e}(t),e=new Os,t=(e.update(t),e.digest());return is.encodeByteArray(t)}function Ia(t,e){d(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Ma.logLevel=v.VERBOSE,Ua=Ma.log.bind(Ma),e&&La.set("logging_enabled",!0)):"function"==typeof t?Ua=t:(Ua=null,La.remove("logging_enabled"))}function Ta(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Fa.apply(void 0,$o(t));Ma.error(n)}function Sa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Fa.apply(void 0,$o(t));throw Ma.error(n),new Error(n)}function Ca(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Fa.apply(void 0,$o(t));Ma.warn(n)}function Na(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)}function Aa(t,e){return t===e?0:t<e?-1:1}function ka(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ts(e))}function Oa(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(n<i+e?t.substring(i,n):t.substring(i,i+e));return r}function Ra(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Va.apply(void 0,$o([n],t))}}function Pa(t){if("object"!=typeof t||null===t)return Ts(t);var e,n=[];for(e in t)n.push(e);n.sort();for(var r="{",i=0;i<n.length;i++)0!==i&&(r+=","),r=(r=r+Ts(n[i])+":")+Pa(t[n[i]]);return r+"}"}var Da,xa=wa("localStorage"),La=wa("sessionStorage"),Ma=new ia("@firebase/database"),Fa=(Da=1,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Fa.apply(null,i):n+="object"==typeof i?Ts(i):i,n+=" "}return n}),Ua=null,ja=!0,Va=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!0===ja&&(ja=!1,null===Ua)&&!0===La.get("logging_enabled")&&Ia(!0),Ua&&(t=Fa.apply(null,e),Ua(t))},qa="[MIN_NAME]",Ba="[MAX_NAME]",Wa=function(t,e){var n,r;return t===e?0:t===qa||e===Ba?-1:e===qa||t===Ba?1:(n=Qa(t),r=Qa(e),null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null===r&&t<e?-1:1)};function Ga(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function Ha(t){var e,n,r,i;d(!Na(t),"Invalid JSON number"),0===t?e=1/t==-1/(r=n=0)?1:0:(e=t<0,r=(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(t/Math.pow(2,-1074))));for(var o=[],s=52;s;--s)o.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;--s)o.push(n%2?1:0),n=Math.floor(n/2);o.push(e?1:0),o.reverse();for(var a=o.join(""),u="",s=0;s<64;s+=8){var c=parseInt(a.substr(s,8),2).toString(16);u+=c=1===c.length?"0"+c:c}return u.toLowerCase()}function Ka(t){try{t()}catch(t){setTimeout(function(){throw Ca("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function za(t,e){t=setTimeout(t,e);return"object"==typeof t&&t.unref&&t.unref(),t}function Qa(t){if(Ya.test(t)){t=Number(t);if(-2147483648<=t&&t<=2147483647)return t}return null}var Ya=new RegExp("^-?(0*)\\d{1,10}$"),w=(Object.defineProperty(Xa,"Empty",{get:function(){return new Xa("")},enumerable:!1,configurable:!0}),Xa.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},Xa.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},Xa.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new Xa(this.pieces_,t)},Xa.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},Xa.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},Xa.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},Xa.prototype.slice=function(t){return this.pieces_.slice(this.pieceNum_+(t=void 0===t?0:t))},Xa.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],e=this.pieceNum_;e<this.pieces_.length-1;e++)t.push(this.pieces_[e]);return new Xa(t,0)},Xa.prototype.child=function(t){for(var e=[],n=this.pieceNum_;n<this.pieces_.length;n++)e.push(this.pieces_[n]);if(t instanceof Xa)for(n=t.pieceNum_;n<t.pieces_.length;n++)e.push(t.pieces_[n]);else for(var r=t.split("/"),n=0;n<r.length;n++)0<r[n].length&&e.push(r[n]);return new Xa(e,0)},Xa.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},Xa.relativePath=function(t,e){var n=t.getFront(),r=e.getFront();if(null===n)return e;if(n===r)return Xa.relativePath(t.popFront(),e.popFront());throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")},Xa.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=Wa(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},Xa.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},Xa.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},Xa);function Xa(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}Object.defineProperty($a,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty($a,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),$a.prototype.push=function(t){0<this.parts_.length&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=js(t),this.checkValid_()},$a.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=js(t),0<this.parts_.length&&--this.byteLength_},$a.prototype.checkValid_=function(){if(this.byteLength_>$a.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+$a.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>$a.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$a.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},$a.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"};var Ja=$a;function $a(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=js(this.parts_[n]);this.checkValid_()}var Za="firebaseio.com",tu="websocket",eu="long_polling",nu=(ru.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},ru.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},ru.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},ru.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},ru.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost())&&xa.set("host:"+this.host,this.internalHost)},ru.prototype.connectionURL=function(t,e){var n;if(d("string"==typeof t,"typeof type must == string"),d("object"==typeof e,"typeof params must == object"),t===tu)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==eu)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return Ga(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},ru.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},ru.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},ru);function ru(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=xa.get("host:"+t)||this.host}function iu(t,e){h=!(c=u=a=r=n=""),l="https",f=443,"string"==typeof(i=t)&&(0<=(t=i.indexOf("//"))&&(l=i.substring(0,t-1),i=i.substring(t+2)),-1===(o=i.indexOf("/"))&&(o=i.length),-1===(s=i.indexOf("?"))&&(s=i.length),n=i.substring(0,Math.min(o,s)),o<s&&(u=function(){for(var t="",e=i.substring(o,s).split("/"),n=0;n<e.length;n++)if(0<e[n].length){var r=e[n];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(t){}t+="/"+r}return t}()),p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Xo(t.split("&")),o=i.next();!o.done;o=i.next()){var s,a=o.value;0!==a.length&&(2===(s=a.split("=")).length?r[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ca("Invalid query segment '"+a+"' in query '"+t+"'"))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(i.substring(Math.min(i.length,s))),0<=(t=n.indexOf(":"))?(h="https"===l||"wss"===l,f=parseInt(n.substring(t+1),10)):t=n.length,"localhost"===(t=n.slice(0,t)).toLowerCase()?r="localhost":t.split(".").length<=2?r=t:(t=n.indexOf("."),a=n.substring(0,t).toLowerCase(),r=n.substring(t+1),c=a),"ns"in p)&&(c=p.ns);var i,o,s,n,r,a,u,c,h,l,f,t={host:n,port:f,domain:r,subdomain:a,secure:h,scheme:l,pathString:u,namespace:c},p=t.namespace;return"firebase.com"===t.domain&&Sa(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),p&&"undefined"!==p||"localhost"===t.domain||Sa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ca("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new nu(t.host,t.secure,p,e,"ws"===t.scheme||"wss"===t.scheme,"",p!==t.subdomain),path:new w(t.pathString)}}function ou(t){return"string"==typeof t&&0!==t.length&&!yu.test(t)}function su(t){return"string"==typeof t&&0!==t.length&&!gu.test(t)}function au(t){return null===t||"string"==typeof t||"number"==typeof t&&!Na(t)||t&&"object"==typeof t&&Cs(t,".sv")}function uu(t,e,n,r,i){i&&void 0===n||bu(Ms(t,e,i),n,r)}function cu(t,e,n,r,i){if(!i||void 0!==n){var o=Ms(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");for(var s,a=[],u=(Ga(n,function(t,e){t=new w(t);if(bu(o,e,r.child(t)),".priority"===t.getBack()&&!au(e))throw new Error(o+"contains an invalid value for '"+t.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(t)}),o),c=a,h=0;h<c.length;h++)for(var l=(s=c[h]).slice(),f=0;f<l.length;f++)if((".priority"!==l[f]||f!==l.length-1)&&!ou(l[f]))throw new Error(u+"contains an invalid key ("+l[f]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.sort(w.comparePaths);for(var p=null,h=0;h<c.length;h++){if(s=c[h],null!==p&&p.contains(s))throw new Error(u+"contains a path "+p.toString()+" that is ancestor of another path "+s.toString());p=s}}}function hu(t,e,n,r){if(!r||void 0!==n){if(Na(n))throw new Error(Ms(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!au(n))throw new Error(Ms(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function lu(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ms(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function fu(t,e,n,r){if(!(r&&void 0===n||ou(n)))throw new Error(Ms(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function pu(t,e,n,r){if(!(r&&void 0===n||su(n)))throw new Error(Ms(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function du(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")}function vu(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ou(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!su(n=(n=r)&&n.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(Ms(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')}var yu=/[\[\].#$\/\u0000-\u001F\u007F]/,gu=/[\[\].#$\u0000-\u001F\u007F]/,mu=10485760,bu=function(n,t,e){var r=e instanceof w?new Ja(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(n+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(Na(t))throw new Error(n+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>mu/3&&js(t)>mu)throw new Error(n+"contains a string greater than "+mu+" utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var i=!1,o=!1;if(Ga(t,function(t,e){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!ou(t)))throw new Error(n+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),bu(n,e,r),r.pop()}),i&&o)throw new Error(n+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},_u=(wu.prototype.cancel=function(t){c("OnDisconnect.cancel",0,1,arguments.length),Fs("OnDisconnect.cancel",1,t,!0);var e=new as;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},wu.prototype.remove=function(t){c("OnDisconnect.remove",0,1,arguments.length),du("OnDisconnect.remove",this.path_),Fs("OnDisconnect.remove",1,t,!0);var e=new as;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},wu.prototype.set=function(t,e){c("OnDisconnect.set",1,2,arguments.length),du("OnDisconnect.set",this.path_),uu("OnDisconnect.set",1,t,this.path_,!1),Fs("OnDisconnect.set",2,e,!0);var n=new as;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},wu.prototype.setWithPriority=function(t,e,n){c("OnDisconnect.setWithPriority",2,3,arguments.length),du("OnDisconnect.setWithPriority",this.path_),uu("OnDisconnect.setWithPriority",1,t,this.path_,!1),hu("OnDisconnect.setWithPriority",2,e,!1),Fs("OnDisconnect.setWithPriority",3,n,!0);var r=new as;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},wu.prototype.update=function(t,e){if(c("OnDisconnect.update",1,2,arguments.length),du("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Ca("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cu("OnDisconnect.update",1,t,this.path_,!1),Fs("OnDisconnect.update",2,e,!0);var i=new as;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},wu);function wu(t,e){this.repo_=t,this.path_=e}Iu.prototype.toJSON=function(){return c("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}};var Eu=Iu;function Iu(t,e){this.committed=t,this.snapshot=e}Tu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Su=0,Cu=[];Nu.Wrap=function(t,e){return new Nu(t,e)};var Tu,Su,Cu,E=Nu;function Nu(t,e){this.name=t,this.node=e}ku.prototype.getCompare=function(){return this.compare.bind(this)},ku.prototype.indexedValueChanged=function(t,e){t=new E(qa,t),e=new E(qa,e);return 0!==this.compare(t,e)},ku.prototype.minPost=function(){return E.MIN};var Au,e=ku;function ku(){}o(Ru,Ou=e),Object.defineProperty(Ru,"__EMPTY_NODE",{get:function(){return Au},set:function(t){Au=t},enumerable:!1,configurable:!0}),Ru.prototype.compare=function(t,e){return Wa(t.name,e.name)},Ru.prototype.isDefinedOn=function(t){throw ns("KeyIndex.isDefinedOn not expected to be called.")},Ru.prototype.indexedValueChanged=function(t,e){return!1},Ru.prototype.minPost=function(){return E.MIN},Ru.prototype.maxPost=function(){return new E(Ba,Au)},Ru.prototype.makePost=function(t,e){return d("string"==typeof t,"KeyIndex indexValue must always be a string."),new E(t,Au)},Ru.prototype.toString=function(){return".key"};var Ou,i=Ru;function Ru(){return null!==Ou&&Ou.apply(this,arguments)||this}var Pu=new i;function Du(t){return"number"==typeof t?"number:"+Ha(t):"string:"+t}function xu(t){var e;t.isLeafNode()?(e=t.val(),d("string"==typeof e||"number"==typeof e||"object"==typeof e&&Cs(e,".sv"),"Priority must be a string or number.")):d(t===hc||t.isEmpty(),"priority of unexpected type."),d(t===hc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")}Object.defineProperty(Uu,"__childrenNodeConstructor",{get:function(){return Lu},set:function(t){Lu=t},enumerable:!1,configurable:!0}),Uu.prototype.isLeafNode=function(){return!0},Uu.prototype.getPriority=function(){return this.priorityNode_},Uu.prototype.updatePriority=function(t){return new Uu(this.value_,t)},Uu.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:Uu.__childrenNodeConstructor.EMPTY_NODE},Uu.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:Uu.__childrenNodeConstructor.EMPTY_NODE},Uu.prototype.hasChild=function(){return!1},Uu.prototype.getPredecessorChildName=function(t,e){return null},Uu.prototype.updateImmediateChild=function(t,e){return".priority"===t?this.updatePriority(e):e.isEmpty()&&".priority"!==t?this:Uu.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)},Uu.prototype.updateChild=function(t,e){var n=t.getFront();return null===n?e:e.isEmpty()&&".priority"!==n?this:(d(".priority"!==n||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(n,Uu.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),e)))},Uu.prototype.isEmpty=function(){return!1},Uu.prototype.numChildren=function(){return 0},Uu.prototype.forEachChild=function(t,e){return!1},Uu.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Uu.prototype.hash=function(){var t,e;return null===this.lazyHash_&&(t="",this.priorityNode_.isEmpty()||(t+="priority:"+Du(this.priorityNode_.val())+":"),t=(t+=(e=typeof this.value_)+":")+("number"==e?Ha(this.value_):this.value_),this.lazyHash_=Ea(t)),this.lazyHash_},Uu.prototype.getValue=function(){return this.value_},Uu.prototype.compareTo=function(t){return t===Uu.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Uu.__childrenNodeConstructor?-1:(d(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},Uu.prototype.compareToLeafNode_=function(t){var e=typeof t.value_,n=typeof this.value_,r=Uu.VALUE_TYPE_ORDER.indexOf(e),i=Uu.VALUE_TYPE_ORDER.indexOf(n);return d(0<=r,"Unknown leaf type: "+e),d(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:i-r},Uu.prototype.withIndex=function(){return this},Uu.prototype.isIndexed=function(){return!0},Uu.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},Uu.VALUE_TYPE_ORDER=["object","boolean","number","string"];var Lu,Mu,Fu=Uu;function Uu(t,e){void 0===e&&(e=Uu.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=e,this.lazyHash_=null,d(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),xu(this.priorityNode_)}function ju(){return null!==Mu&&Mu.apply(this,arguments)||this}o(ju,Mu=e),ju.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),n=n.compareTo(r);return 0===n?Wa(t.name,e.name):n},ju.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},ju.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},ju.prototype.minPost=function(){return E.MIN},ju.prototype.maxPost=function(){return new E(Ba,new Fu("[PRIORITY-POST]",lc))},ju.prototype.makePost=function(t,e){t=yc(t);return new E(e,new Fu("[PRIORITY-POST]",t))},ju.prototype.toString=function(){return".priority"};var Vu=new ju,qu=(Bu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_.pop(),e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value};if(this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},Bu.prototype.hasNext=function(){return 0<this.nodeStack_.length},Bu.prototype.peek=function(){var t;return 0===this.nodeStack_.length?null:(t=this.nodeStack_[this.nodeStack_.length-1],this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value})},Bu);function Bu(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}Gu.prototype.copy=function(t,e,n,r,i){return new Gu(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Gu.prototype.count=function(){return this.left.count()+1+this.right.count()},Gu.prototype.isEmpty=function(){return!1},Gu.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},Gu.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Gu.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Gu.prototype.minKey=function(){return this.min_().key},Gu.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Gu.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},Gu.prototype.removeMin_=function(){var t;return this.left.isEmpty()?Ku.EMPTY_NODE:(t=(t=(t=this).left.isRed_()||t.left.left.isRed_()?t:t.moveRedLeft_()).copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},Gu.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()?r:r.moveRedLeft_()).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=(r=r.left.isRed_()?r.rotateRight_():r).right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()?r:r.moveRedRight_()).key)){if(r.right.isEmpty())return Ku.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp_()},Gu.prototype.isRed_=function(){return this.color},Gu.prototype.fixUp_=function(){var t=this;return t=(t=(t=t.right.isRed_()&&!t.left.isRed_()?t.rotateLeft_():t).left.isRed_()&&t.left.left.isRed_()?t.rotateRight_():t).left.isRed_()&&t.right.isRed_()?t.colorFlip_():t},Gu.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t=t.right.left.isRed_()?(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_():t},Gu.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t=t.left.left.isRed_()?(t=t.rotateRight_()).colorFlip_():t},Gu.prototype.rotateLeft_=function(){var t=this.copy(null,null,Gu.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Gu.prototype.rotateRight_=function(){var t=this.copy(null,null,Gu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Gu.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Gu.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},Gu.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},Gu.RED=!0,Gu.BLACK=!1;var Wu=Gu;function Gu(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Gu.RED,this.left=null!=r?r:Ku.EMPTY_NODE,this.right=null!=i?i:Ku.EMPTY_NODE}Hu.prototype.copy=function(t,e,n,r,i){return this},Hu.prototype.insert=function(t,e,n){return new Wu(t,e,null)},Hu.prototype.remove=function(t,e){return this},Hu.prototype.count=function(){return 0},Hu.prototype.isEmpty=function(){return!0},Hu.prototype.inorderTraversal=function(t){return!1},Hu.prototype.reverseTraversal=function(t){return!1},Hu.prototype.minKey=function(){return null},Hu.prototype.maxKey=function(){return null},Hu.prototype.check_=function(){return 0},Hu.prototype.isRed_=function(){return!1};vi=Hu;function Hu(){}zu.prototype.insert=function(t,e){return new zu(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Wu.BLACK,null,null))},zu.prototype.remove=function(t){return new zu(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Wu.BLACK,null,null))},zu.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},zu.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:0<e&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},zu.prototype.isEmpty=function(){return this.root_.isEmpty()},zu.prototype.count=function(){return this.root_.count()},zu.prototype.minKey=function(){return this.root_.minKey()},zu.prototype.maxKey=function(){return this.root_.maxKey()},zu.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},zu.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},zu.prototype.getIterator=function(t){return new qu(this.root_,null,this.comparator_,!1,t)},zu.prototype.getIteratorFrom=function(t,e){return new qu(this.root_,t,this.comparator_,!1,e)},zu.prototype.getReverseIteratorFrom=function(t,e){return new qu(this.root_,t,this.comparator_,!0,e)},zu.prototype.getReverseIterator=function(t){return new qu(this.root_,null,this.comparator_,!0,t)},zu.EMPTY_NODE=new vi;var Ku=zu;function zu(t,e){void 0===e&&(e=zu.EMPTY_NODE),this.comparator_=t,this.root_=e}var Qu=Math.log(2),Yu=(Xu.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},Xu);function Xu(t){this.count=parseInt(Math.log(t+1)/Qu,10),this.current_=this.count-1;e=this.count;var e=parseInt(Array(e+1).join("1"),2);this.bits_=t+1&e}function Ju(c,t,h,e){c.sort(t);var l=function(t,e){var n,r,i=e-t;return 0==i?null:1==i?(n=c[t],r=h?h(n):n,new Wu(r,n.node,Wu.BLACK,null,null)):(i=parseInt(i/2,10)+t,t=l(t,i),e=l(i+1,e),n=c[i],r=h?h(n):n,new Wu(r,n.node,Wu.BLACK,t,e))},n=function(t){for(var e=null,n=null,i=c.length,r=function(t,e){var n=i-t,r=i,t=(i-=t,l(1+n,r)),r=c[n],n=h?h(r):r;o(new Wu(n,r.node,e,null,t))},o=function(t){e=e?e.left=t:n=t},s=0;s<t.count;++s){var a=t.nextBitIsOne(),u=Math.pow(2,t.count-(s+1));a?r(u,Wu.BLACK):(r(u,Wu.BLACK),r(u,Wu.RED))}return n}(new Yu(c.length));return new Ku(e||t,n)}var $u,Zu,tc={},ec=(Object.defineProperty(nc,"Default",{get:function(){return d(Vu,"ChildrenNode.ts has not been loaded"),$u=$u||new nc({".priority":tc},{".priority":Vu})},enumerable:!1,configurable:!0}),nc.prototype.get=function(t){var e=Ns(this.indexes_,t);if(e)return e instanceof Ku?e:null;throw new Error("No index defined for "+t)},nc.prototype.hasIndex=function(t){return Cs(this.indexSet_,t.toString())},nc.prototype.addIndex=function(t,e){d(t!==Pu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],r=!1,i=e.getIterator(E.Wrap),o=i.getNext();o;)r=r||t.isDefinedOn(o.node),n.push(o),o=i.getNext();var e=r?Ju(n,t.getCompare()):tc,s=t.toString(),a=Yo({},this.indexSet_),u=(a[s]=t,Yo({},this.indexes_));return u[s]=e,new nc(u,a)},nc.prototype.addToIndexes=function(s,a){var u=this;return new nc(ks(this.indexes_,function(t,e){var n=Ns(u.indexSet_,e);if(d(n,"Missing index implementation for "+e),t===tc){if(n.isDefinedOn(s.node)){for(var r=[],i=a.getIterator(E.Wrap),o=i.getNext();o;)o.name!==s.name&&r.push(o),o=i.getNext();return r.push(s),Ju(r,n.getCompare())}return tc}e=a.get(s.name),n=t;return(n=e?t.remove(new E(s.name,e)):n).insert(s,s.node)}),this.indexSet_)},nc.prototype.removeFromIndexes=function(n,r){return new nc(ks(this.indexes_,function(t){var e;return t!==tc&&(e=r.get(n.name))?t.remove(new E(n.name,e)):t}),this.indexSet_)},nc);function nc(t,e){this.indexes_=t,this.indexSet_=e}function rc(t,e){return Wa(t.name,e.name)}function ic(t,e){return Wa(t,e)}Object.defineProperty(sc,"EMPTY_NODE",{get:function(){return Zu=Zu||new sc(new Ku(ic),null,ec.Default)},enumerable:!1,configurable:!0}),sc.prototype.isLeafNode=function(){return!1},sc.prototype.getPriority=function(){return this.priorityNode_||Zu},sc.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new sc(this.children_,t,this.indexMap_)},sc.prototype.getImmediateChild=function(t){return".priority"===t?this.getPriority():null===(t=this.children_.get(t))?Zu:t},sc.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},sc.prototype.hasChild=function(t){return null!==this.children_.get(t)},sc.prototype.updateImmediateChild=function(t,e){var n,r,i;return d(e,"We should always be passing snapshot nodes"),".priority"===t?this.updatePriority(e):(n=new E(t,e),i=r=void 0,i=e.isEmpty()?(r=this.children_.remove(t),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(t,e),this.indexMap_.addToIndexes(n,this.children_)),t=r.isEmpty()?Zu:this.priorityNode_,new sc(r,t,i))},sc.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;d(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");t=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,t)},sc.prototype.isEmpty=function(){return this.children_.isEmpty()},sc.prototype.numChildren=function(){return this.children_.count()},sc.prototype.val=function(n){if(this.isEmpty())return null;var r={},i=0,o=0,s=!0;if(this.forEachChild(Vu,function(t,e){r[t]=e.val(n),i++,s&&sc.INTEGER_REGEXP_.test(t)?o=Math.max(o,Number(t)):s=!1}),!n&&s&&o<2*i){var t,e=[];for(t in r)e[t]=r[t];return e}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r},sc.prototype.hash=function(){var n;return null===this.lazyHash_&&(n="",this.getPriority().isEmpty()||(n+="priority:"+Du(this.getPriority().val())+":"),this.forEachChild(Vu,function(t,e){e=e.hash();""!==e&&(n+=":"+t+":"+e)}),this.lazyHash_=""===n?"":Ea(n)),this.lazyHash_},sc.prototype.getPredecessorChildName=function(t,e,n){var n=this.resolveIndex_(n);return n?(n=n.getPredecessorKey(new E(t,e)))?n.name:null:this.children_.getPredecessorKey(t)},sc.prototype.getFirstChildName=function(t){var t=this.resolveIndex_(t);return t?(t=t.minKey())&&t.name:this.children_.minKey()},sc.prototype.getFirstChild=function(t){t=this.getFirstChildName(t);return t?new E(t,this.children_.get(t)):null},sc.prototype.getLastChildName=function(t){var t=this.resolveIndex_(t);return t?(t=t.maxKey())&&t.name:this.children_.maxKey()},sc.prototype.getLastChild=function(t){t=this.getLastChildName(t);return t?new E(t,this.children_.get(t)):null},sc.prototype.forEachChild=function(t,e){t=this.resolveIndex_(t);return t?t.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},sc.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},sc.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,E.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},sc.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},sc.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,E.Wrap),i=r.peek();null!=i&&0<e.compare(i,t);)r.getNext(),i=r.peek();return r},sc.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===cc?-1:0},sc.prototype.withIndex=function(t){return t===Pu||this.indexMap_.hasIndex(t)?this:(t=this.indexMap_.addIndex(t,this.children_),new sc(this.children_,this.priorityNode_,t))},sc.prototype.isIndexed=function(t){return t===Pu||this.indexMap_.hasIndex(t)},sc.prototype.equals=function(t){if(t===this)return!0;if(!t.isLeafNode())if(this.getPriority().equals(t.getPriority())){if(this.children_.count()!==t.children_.count())return!1;for(var e=this.getIterator(Vu),n=t.getIterator(Vu),r=e.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1},sc.prototype.resolveIndex_=function(t){return t===Pu?null:this.indexMap_.get(t.toString())},sc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var oc,I=sc;function sc(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&xu(this.priorityNode_),this.children_.isEmpty()&&d(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function ac(){return oc.call(this,new Ku(ic),I.EMPTY_NODE,ec.Default)||this}o(ac,oc=I),ac.prototype.compareTo=function(t){return t===this?0:1},ac.prototype.equals=function(t){return t===this},ac.prototype.getPriority=function(){return this},ac.prototype.getImmediateChild=function(t){return I.EMPTY_NODE},ac.prototype.isEmpty=function(){return!1};var uc,cc=new ac,hc=(Object.defineProperties(E,{MIN:{value:new E(qa,I.EMPTY_NODE)},MAX:{value:new E(Ba,cc)}}),i.__EMPTY_NODE=I.EMPTY_NODE,Fu.__childrenNodeConstructor=I,cc),lc=cc,fc=!0;function pc(n,t){var r,i,o,e,s;return void 0===t&&(t=null),null===n?I.EMPTY_NODE:("object"==typeof n&&".priority"in n&&(t=n[".priority"]),d(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"!=typeof(n="object"==typeof n&&".value"in n&&null!==n[".value"]?n[".value"]:n)||".sv"in n?new Fu(n,pc(t)):n instanceof Array||!fc?(r=I.EMPTY_NODE,Ga(n,function(t,e){!Cs(n,t)||"."===t.substring(0,1)||!(e=pc(e)).isLeafNode()&&e.isEmpty()||(r=r.updateImmediateChild(t,e))}),r.updatePriority(pc(t))):(o=!(i=[]),Ga(n,function(t,e){"."===t.substring(0,1)||(e=pc(e)).isEmpty()||(o=o||!e.getPriority().isEmpty(),i.push(new E(t,e)))}),0===i.length?I.EMPTY_NODE:(e=Ju(i,rc,function(t){return t.name},ic),o?(s=Ju(i,Vu.getCompare()),new I(e,pc(t),new ec({".priority":s},{".priority":Vu}))):new I(e,pc(t),ec.Default))))}function dc(){return null!==uc&&uc.apply(this,arguments)||this}var vc,yc=pc,gc=(o(dc,uc=e),dc.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Wa(t.name,e.name):n},dc.prototype.isDefinedOn=function(t){return!0},dc.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},dc.prototype.minPost=function(){return E.MIN},dc.prototype.maxPost=function(){return E.MAX},dc.prototype.makePost=function(t,e){t=pc(t);return new E(e,t)},dc.prototype.toString=function(){return".value"},new dc),mc=(o(bc,vc=e),bc.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},bc.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},bc.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),n=n.compareTo(r);return 0===n?Wa(t.name,e.name):n},bc.prototype.makePost=function(t,e){t=pc(t),t=I.EMPTY_NODE.updateChild(this.indexPath_,t);return new E(e,t)},bc.prototype.maxPost=function(){var t=I.EMPTY_NODE.updateChild(this.indexPath_,cc);return new E(Ba,t)},bc.prototype.toString=function(){return this.indexPath_.slice().join("/")},bc);function bc(t){var e=vc.call(this)||this;return e.indexPath_=t,d(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),e}wc.prototype.val=function(){return c("DataSnapshot.val",0,0,arguments.length),this.node_.val()},wc.prototype.exportVal=function(){return c("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},wc.prototype.toJSON=function(){return c("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},wc.prototype.exists=function(){return c("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},wc.prototype.child=function(t){c("DataSnapshot.child",0,1,arguments.length),pu("DataSnapshot.child",1,t=String(t),!1);var t=new w(t),e=this.ref_.child(t);return new wc(this.node_.getChild(t),e,Vu)},wc.prototype.hasChild=function(t){c("DataSnapshot.hasChild",1,1,arguments.length),pu("DataSnapshot.hasChild",1,t,!1);t=new w(t);return!this.node_.getChild(t).isEmpty()},wc.prototype.getPriority=function(){return c("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},wc.prototype.forEach=function(n){var r=this;return c("DataSnapshot.forEach",1,1,arguments.length),Fs("DataSnapshot.forEach",1,n,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(t,e){return n(new wc(e,r.ref_.child(t),Vu))})},wc.prototype.hasChildren=function(){return c("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(wc.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),wc.prototype.numChildren=function(){return c("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},wc.prototype.getRef=function(){return c("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(wc.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0});var _c=wc;function wc(t,e,n){this.node_=t,this.ref_=e,this.index_=n}Ic.prototype.getPath=function(){var t=this.snapshot.getRef();return("value"===this.eventType?t:t.getParent()).path},Ic.prototype.getEventType=function(){return this.eventType},Ic.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Ic.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Ts(this.snapshot.exportVal())};var Ec=Ic;function Ic(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}Sc.prototype.getPath=function(){return this.path},Sc.prototype.getEventType=function(){return"cancel"},Sc.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Sc.prototype.toString=function(){return this.path.toString()+":cancel"};var Tc=Sc;function Sc(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}Nc.prototype.respondsTo=function(t){return"value"===t},Nc.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ec("value",this,new _c(t.snapshotNode,e.getRef(),n))},Nc.prototype.getEventRunner=function(t){var e,n,r=this.context_;return"cancel"===t.getEventType()?(d(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback"),e=this.cancelCallback_,function(){e.call(r,t.error)}):(n=this.callback_,function(){n.call(r,t.snapshot)})},Nc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Tc(this,t,e):null},Nc.prototype.matches=function(t){return t instanceof Nc&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},Nc.prototype.hasAnyCallback=function(){return null!==this.callback_};var Cc=Nc;function Nc(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}Oc.prototype.respondsTo=function(t){t="children_removed"===(t="children_added"===t?"child_added":t)?"child_removed":t;return Cs(this.callbacks_,t)},Oc.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Tc(this,t,e):null},Oc.prototype.createEvent=function(t,e){d(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),e=e.getQueryParams().getIndex();return new Ec(t.type,this,new _c(t.snapshotNode,n,e),t.prevName)},Oc.prototype.getEventRunner=function(t){var e,n,r=this.context_;return"cancel"===t.getEventType()?(d(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback"),e=this.cancelCallback_,function(){e.call(r,t.error)}):(n=this.callbacks_[t.eventType],function(){n.call(r,t.snapshot,t.prevName)})},Oc.prototype.matches=function(e){var n=this;if(e instanceof Oc){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var t=Object.keys(e.callbacks_),r=Object.keys(this.callbacks_),i=t.length;if(i===r.length)return 1!==i?r.every(function(t){return e.callbacks_[t]===n.callbacks_[t]}):(i=t[0],!((t=r[0])!==i||e.callbacks_[i]&&this.callbacks_[t]&&e.callbacks_[i]!==this.callbacks_[t]))}}return!1},Oc.prototype.hasAnyCallback=function(){return null!==this.callbacks_};var Ac,kc=Oc;function Oc(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}Object.defineProperty(h,"__referenceConstructor",{get:function(){return d(Ac,"Reference.ts has not been loaded"),Ac},set:function(t){Ac=t},enumerable:!1,configurable:!0}),h.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Pu){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==qa)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Ba)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Vu){if(null!=e&&!au(e)||null!=n&&!au(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(d(t.getIndex()instanceof mc||t.getIndex()===gc,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},h.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},h.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},h.prototype.getQueryParams=function(){return this.queryParams_},h.prototype.getRef=function(){return c("Query.ref",0,0,arguments.length),new h.__referenceConstructor(this.repo,this.path)},h.prototype.on=function(t,e,n,r){c("Query.on",2,4,arguments.length),lu("Query.on",1,t,!1),Fs("Query.on",2,e,!1);n=h.getCancelAndContextArgs_("Query.on",n,r);return"value"===t?this.onValueEvent(e,n.cancel,n.context):((r={})[t]=e,this.onChildEvent(r,n.cancel,n.context)),e},h.prototype.onValueEvent=function(t,e,n){t=new Cc(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,t)},h.prototype.onChildEvent=function(t,e,n){t=new kc(t,e,n);this.repo.addEventCallbackForQuery(this,t)},h.prototype.off=function(t,e,n){c("Query.off",0,3,arguments.length),lu("Query.off",1,t,!0),Fs("Query.off",2,e,!0),Us("Query.off",3,n,!0);var r=null,i=null;"value"===t?r=new Cc(e||null,null,n||null):t&&(e&&((i={})[t]=e),r=new kc(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},h.prototype.once=function(e,n,t,r){var i=this,o=(c("Query.once",1,4,arguments.length),lu("Query.once",1,e,!1),Fs("Query.once",2,n,!0),h.getCancelAndContextArgs_("Query.once",t,r)),s=!0,a=new as,u=(a.promise.catch(function(){}),function(t){s&&(s=!1,i.off(e,u),n&&n.bind(o.context)(t),a.resolve(t))});return this.on(e,u,function(t){i.off(e,u),o.cancel&&o.cancel.bind(o.context)(t),a.reject(t)}),a.promise},h.prototype.limitToFirst=function(t){if(c("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new h(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},h.prototype.limitToLast=function(t){if(c("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new h(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},h.prototype.orderByChild=function(t){if(c("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');pu("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");t=new w(t);if(t.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");t=new mc(t),t=this.queryParams_.orderBy(t);return h.validateQueryEndpoints_(t),new h(this.repo,this.path,t,!0)},h.prototype.orderByKey=function(){c("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Pu);return h.validateQueryEndpoints_(t),new h(this.repo,this.path,t,!0)},h.prototype.orderByPriority=function(){c("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Vu);return h.validateQueryEndpoints_(t),new h(this.repo,this.path,t,!0)},h.prototype.orderByValue=function(){c("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(gc);return h.validateQueryEndpoints_(t),new h(this.repo,this.path,t,!0)},h.prototype.startAt=function(t,e){void 0===t&&(t=null),c("Query.startAt",0,2,arguments.length),uu("Query.startAt",1,t,this.path,!0),fu("Query.startAt",2,e,!0);var n=this.queryParams_.startAt(t,e);if(h.validateLimit_(n),h.validateQueryEndpoints_(n),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(e=t=null),new h(this.repo,this.path,n,this.orderByCalled_)},h.prototype.endAt=function(t,e){void 0===t&&(t=null),c("Query.endAt",0,2,arguments.length),uu("Query.endAt",1,t,this.path,!0),fu("Query.endAt",2,e,!0);t=this.queryParams_.endAt(t,e);if(h.validateLimit_(t),h.validateQueryEndpoints_(t),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new h(this.repo,this.path,t,this.orderByCalled_)},h.prototype.equalTo=function(t,e){if(c("Query.equalTo",1,2,arguments.length),uu("Query.equalTo",1,t,this.path,!1),fu("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},h.prototype.toString=function(){return c("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},h.prototype.toJSON=function(){return c("Query.toJSON",0,1,arguments.length),this.toString()},h.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},h.prototype.queryIdentifier=function(){var t=this.queryObject(),t=Pa(t);return"{}"===t?"default":t},h.prototype.isEqual=function(t){var e,n;if(c("Query.isEqual",1,1,arguments.length),t instanceof h)return e=this.repo===t.repo,n=this.path.equals(t.path),t=this.queryIdentifier()===t.queryIdentifier(),e&&n&&t;throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")},h.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Fs(t,3,r.cancel,!0),r.context=n,Us(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Ms(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(h.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0});t=h;function h(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}Pc.prototype.getImmediateChild=function(t){return new Pc(this.node_.getImmediateChild(t))},Pc.prototype.node=function(){return this.node_};var Rc=Pc;function Pc(t){this.node_=t}xc.prototype.getImmediateChild=function(t){t=this.path_.child(t);return new xc(this.syncTree_,t)},xc.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)};var Dc=xc;function xc(t,e){this.syncTree_=t,this.path_=e}function Lc(t,e,n,r){return Vc(e,new Dc(n,t),r)}function Mc(t,e,n){return Vc(t,new Rc(e),n)}var Fc=function(t,e,n){return t&&"object"==typeof t?(d(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Uc(t[".sv"],e,n):"object"==typeof t[".sv"]?jc(t[".sv"],e):void d(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Uc=function(t,e,n){if("timestamp"===t)return n.timestamp;d(!1,"Unexpected server value: "+t)},jc=function(t,e,n){t.hasOwnProperty("increment")||d(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var t=t.increment,e=("number"!=typeof t&&d(!1,"Unexpected increment value: "+t),e.node());return d(null!=e,"Expected ChildrenNode.EMPTY_NODE for nulls"),!e.isLeafNode()||"number"!=typeof(e=e.getValue())?t:e+t};function Vc(t,r,i){var e,n,o,s=t.getPriority().val(),s=Fc(s,r.getImmediateChild(".priority"),i);return t.isLeafNode()?(e=Fc((n=t).getValue(),r,i))!==n.getValue()||s!==n.getPriority().val()?new Fu(e,pc(s)):t:(s!==(o=n=t).getPriority().val()&&(o=o.updatePriority(new Fu(s))),n.forEachChild(Vu,function(t,e){var n=Vc(e,r.getImmediateChild(t),i);n!==e&&(o=o.updateImmediateChild(t,n))}),o)}Wc.prototype.find=function(t){var e;return null!=this.value?this.value.getChild(t):!t.isEmpty()&&0<this.children.size&&(e=t.getFront(),t=t.popFront(),this.children.has(e))?this.children.get(e).find(t):null},Wc.prototype.remember=function(t,e){var n;t.isEmpty()?(this.value=e,this.children.clear()):null!==this.value?this.value=this.value.updateChild(t,e):(n=t.getFront(),this.children.has(n)||this.children.set(n,new Wc),n=this.children.get(n),t=t.popFront(),n.remember(t,e))},Wc.prototype.forget=function(t){var n,e;return t.isEmpty()?(this.value=null,this.children.clear(),!0):null!==this.value?!this.value.isLeafNode()&&(e=this.value,this.value=null,n=this,e.forEachChild(Vu,function(t,e){n.remember(new w(t),e)}),this.forget(t)):!(0<this.children.size)||(e=t.getFront(),t=t.popFront(),this.children.has(e)&&this.children.get(e).forget(t)&&this.children.delete(e),0===this.children.size)},Wc.prototype.forEachTree=function(n,r){null!==this.value?r(n,this.value):this.forEachChild(function(t,e){t=new w(n.toString()+"/"+t);e.forEachTree(t,r)})},Wc.prototype.forEachChild=function(n){this.children.forEach(function(t,e){n(e,t)})};var qc,Bc=Wc;function Wc(){this.value=null,this.children=new Map}qc={OVERWRITE:0,0:"OVERWRITE",MERGE:1,1:"MERGE",ACK_USER_WRITE:2,2:"ACK_USER_WRITE",LISTEN_COMPLETE:3,3:"LISTEN_COMPLETE"};Hc.User=new Hc(!0,!1,null,!1),Hc.Server=new Hc(!1,!0,null,!1),Hc.forServerTaggedQuery=function(t){return new Hc(!1,!0,t,!0)};var Gc=Hc;function Hc(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,d(!r||e,"Tagged queries must be from server.")}Qc.prototype.operationForChild=function(t){var e;return this.path.isEmpty()?null!=this.affectedTree.value?(d(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this):(e=this.affectedTree.subtree(new w(t)),new Qc(w.Empty,e,this.revert)):(d(this.path.getFront()===t,"operationForChild called for unrelated child."),new Qc(this.path.popFront(),this.affectedTree,this.revert))};var Kc,zc=Qc;function Qc(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=qc.ACK_USER_WRITE,this.source=Gc.User}Xc.fromObject=function(t){var n=Xc.Empty;return Ga(t,function(t,e){n=n.set(new w(t),e)}),n},Xc.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},Xc.prototype.findRootMostMatchingPathAndValue=function(t,e){var n,r;return null!=this.value&&e(this.value)?{path:w.Empty,value:this.value}:t.isEmpty()||(n=t.getFront(),null===(r=this.children.get(n)))||null==(r=r.findRootMostMatchingPathAndValue(t.popFront(),e))?null:{path:new w(n).child(r.path),value:r.value}},Xc.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},Xc.prototype.subtree=function(t){var e;return t.isEmpty()?this:(e=t.getFront(),null!==(e=this.children.get(e))?e.subtree(t.popFront()):Xc.Empty)},Xc.prototype.set=function(t,e){var n;return t.isEmpty()?new Xc(e,this.children):(n=t.getFront(),t=(this.children.get(n)||Xc.Empty).set(t.popFront(),e),e=this.children.insert(n,t),new Xc(this.value,e))},Xc.prototype.remove=function(t){var e,n,r;return t.isEmpty()?this.children.isEmpty()?Xc.Empty:new Xc(null,this.children):(e=t.getFront(),(n=this.children.get(e))?(r=void 0,r=(n=n.remove(t.popFront())).isEmpty()?this.children.remove(e):this.children.insert(e,n),null===this.value&&r.isEmpty()?Xc.Empty:new Xc(this.value,r)):this)},Xc.prototype.get=function(t){var e;return t.isEmpty()?this.value:(e=t.getFront(),(e=this.children.get(e))?e.get(t.popFront()):null)},Xc.prototype.setTree=function(t,e){var n,r;return t.isEmpty()?e:(n=t.getFront(),r=void 0,r=(t=(this.children.get(n)||Xc.Empty).setTree(t.popFront(),e)).isEmpty()?this.children.remove(n):this.children.insert(n,t),new Xc(this.value,r))},Xc.prototype.fold=function(t){return this.fold_(w.Empty,t)},Xc.prototype.fold_=function(n,r){var i={};return this.children.inorderTraversal(function(t,e){i[t]=e.fold_(n.child(t),r)}),r(n,this.value,i)},Xc.prototype.findOnPath=function(t,e){return this.findOnPath_(t,w.Empty,e)},Xc.prototype.findOnPath_=function(t,e,n){var r,i=!!this.value&&n(e,this.value);return i||(!t.isEmpty()&&(i=t.getFront(),r=this.children.get(i))?r.findOnPath_(t.popFront(),e.child(i),n):null)},Xc.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,w.Empty,e)},Xc.prototype.foreachOnPath_=function(t,e,n){if(t.isEmpty())return this;this.value&&n(e,this.value);var r=t.getFront(),i=this.children.get(r);return i?i.foreachOnPath_(t.popFront(),e.child(r),n):Xc.Empty},Xc.prototype.foreach=function(t){this.foreach_(w.Empty,t)},Xc.prototype.foreach_=function(n,r){this.children.inorderTraversal(function(t,e){e.foreach_(n.child(t),r)}),this.value&&r(n,this.value)},Xc.prototype.foreachChild=function(n){this.children.inorderTraversal(function(t,e){e.value&&n(t,e.value)})},Xc.Empty=new Xc(null);var Yc=Xc;function Xc(t,e){void 0===e&&(e=Kc=Kc||new Ku(Aa)),this.value=t,this.children=e}$c.prototype.operationForChild=function(t){return this.path.isEmpty()?new $c(this.source,w.Empty):new $c(this.source,this.path.popFront())};var Jc=$c;function $c(t,e){this.source=t,this.path=e,this.type=qc.LISTEN_COMPLETE}th.prototype.operationForChild=function(t){return this.path.isEmpty()?new th(this.source,w.Empty,this.snap.getImmediateChild(t)):new th(this.source,this.path.popFront(),this.snap)};var Zc=th;function th(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=qc.OVERWRITE}nh.prototype.operationForChild=function(t){var e;return this.path.isEmpty()?(e=this.children.subtree(new w(t))).isEmpty()?null:e.value?new Zc(this.source,w.Empty,e.value):new nh(this.source,w.Empty,e):(d(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new nh(this.source,this.path.popFront(),this.children))},nh.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};var eh=nh;function nh(t,e,n){this.source=t,this.path=e,this.children=n,this.type=qc.MERGE}ih.prototype.isFullyInitialized=function(){return this.fullyInitialized_},ih.prototype.isFiltered=function(){return this.filtered_},ih.prototype.isCompleteForPath=function(t){return t.isEmpty()?this.isFullyInitialized()&&!this.filtered_:(t=t.getFront(),this.isCompleteForChild(t))},ih.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},ih.prototype.getNode=function(){return this.node_};var rh=ih;function ih(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}sh.prototype.updateEventSnap=function(t,e,n){return new sh(new rh(t,e,n),this.serverCache_)},sh.prototype.updateServerSnap=function(t,e,n){return new sh(this.eventCache_,new rh(t,e,n))},sh.prototype.getEventCache=function(){return this.eventCache_},sh.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},sh.prototype.getServerCache=function(){return this.serverCache_},sh.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},sh.Empty=new sh(new rh(I.EMPTY_NODE,!1,!1),new rh(I.EMPTY_NODE,!1,!1));var oh=sh;function sh(t,e){this.eventCache_=t,this.serverCache_=e}ah.valueChange=function(t){return new ah(ah.VALUE,t)},ah.childAddedChange=function(t,e){return new ah(ah.CHILD_ADDED,e,t)},ah.childRemovedChange=function(t,e){return new ah(ah.CHILD_REMOVED,e,t)},ah.childChangedChange=function(t,e,n){return new ah(ah.CHILD_CHANGED,e,t,n)},ah.childMovedChange=function(t,e){return new ah(ah.CHILD_MOVED,e,t)},ah.CHILD_ADDED="child_added",ah.CHILD_REMOVED="child_removed",ah.CHILD_CHANGED="child_changed",ah.CHILD_MOVED="child_moved",ah.VALUE="value";var T=ah;function ah(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}ch.prototype.updateChild=function(t,e,n,r,i,o){d(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()||(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(T.childRemovedChange(e,s)):d(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(T.childAddedChange(e,n)):o.trackChildChange(T.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty())?t:t.updateImmediateChild(e,n).withIndex(this.index_)},ch.prototype.updateFullNode=function(r,n,i){return null!=i&&(r.isLeafNode()||r.forEachChild(Vu,function(t,e){n.hasChild(t)||i.trackChildChange(T.childRemovedChange(t,e))}),n.isLeafNode()||n.forEachChild(Vu,function(t,e){var n;r.hasChild(t)?(n=r.getImmediateChild(t)).equals(e)||i.trackChildChange(T.childChangedChange(t,e,n)):i.trackChildChange(T.childAddedChange(t,e))})),n.withIndex(this.index_)},ch.prototype.updatePriority=function(t,e){return t.isEmpty()?I.EMPTY_NODE:t.updatePriority(e)},ch.prototype.filtersNodes=function(){return!1},ch.prototype.getIndexedFilter=function(){return this},ch.prototype.getIndex=function(){return this.index_};var uh=ch;function ch(t){this.index_=t}lh.prototype.trackChildChange=function(t){var e=t.type,n=t.childName,r=(d(e===T.CHILD_ADDED||e===T.CHILD_CHANGED||e===T.CHILD_REMOVED,"Only child changes supported for tracking"),d(".priority"!==n,"Only non-priority child changes can be tracked."),this.changeMap.get(n));if(r){var i=r.type;if(e===T.CHILD_ADDED&&i===T.CHILD_REMOVED)this.changeMap.set(n,T.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===T.CHILD_REMOVED&&i===T.CHILD_ADDED)this.changeMap.delete(n);else if(e===T.CHILD_REMOVED&&i===T.CHILD_CHANGED)this.changeMap.set(n,T.childRemovedChange(n,r.oldSnap));else if(e===T.CHILD_CHANGED&&i===T.CHILD_ADDED)this.changeMap.set(n,T.childAddedChange(n,t.snapshotNode));else{if(e!==T.CHILD_CHANGED||i!==T.CHILD_CHANGED)throw ns("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,T.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},lh.prototype.getChanges=function(){return Array.from(this.changeMap.values())};var hh=lh;function lh(){this.changeMap=new Map}function fh(){}fh.prototype.getCompleteChild=function(t){return null},fh.prototype.getChildAfterChild=function(t,e,n){return null};var ph=new fh,dh=(vh.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();return e.isCompleteForChild(t)?e.getNode().getImmediateChild(t):(e=null!=this.optCompleteServerCache_?new rh(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache(),this.writes_.calcCompleteChild(t,e))},vh.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===r.length?null:r[0]},vh);function vh(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}function yh(t,e){this.viewCache=t,this.changes=e}mh.prototype.assertIndexed=function(t){d(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),d(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},mh.prototype.applyOperation=function(t,e,n,r){var i=new hh;if(e.type===qc.OVERWRITE)var o=e,o=o.source.fromUser?this.applyUserOverwrite_(t,o.path,o.snap,n,r,i):(d(o.source.fromServer,"Unknown source."),a=o.source.tagged||t.getServerCache().isFiltered()&&!o.path.isEmpty(),this.applyServerOverwrite_(t,o.path,o.snap,n,r,a,i));else if(e.type===qc.MERGE)var s=e,o=s.source.fromUser?this.applyUserMerge_(t,s.path,s.children,n,r,i):(d(s.source.fromServer,"Unknown source."),a=s.source.tagged||t.getServerCache().isFiltered(),this.applyServerMerge_(t,s.path,s.children,n,r,a,i));else if(e.type===qc.ACK_USER_WRITE){s=e;o=s.revert?this.revertUserWrite_(t,s.path,n,r,i):this.ackUserWrite_(t,s.path,s.affectedTree,n,r,i)}else{if(e.type!==qc.LISTEN_COMPLETE)throw ns("Unknown operation type: "+e.type);o=this.listenComplete_(t,e.path,n,i)}var a=i.getChanges();return mh.maybeAddValueEvent_(t,o,a),new yh(o,a)},mh.maybeAddValueEvent_=function(t,e,n){var r,i,o=e.getEventCache();o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=t.getCompleteEventSnap(),0<n.length||!t.getEventCache().isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(T.valueChange(e.getCompleteEventSnap()))},mh.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o,s,a,u,c,h=t.getEventCache();return null!=n.shadowingWrite(e)?t:(u=c=void 0,c=e.isEmpty()?(d(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()?(o=(o=t.getCompleteServerSnap())instanceof I?o:I.EMPTY_NODE,o=n.calcCompleteEventChildren(o),this.filter_.updateFullNode(t.getEventCache().getNode(),o,i)):(o=n.calcCompleteEventCache(t.getCompleteServerSnap()),this.filter_.updateFullNode(t.getEventCache().getNode(),o,i))):".priority"===(o=e.getFront())?(d(1===e.getLength(),"Can't have a priority with additional path components"),s=h.getNode(),u=t.getServerCache().getNode(),null!=(a=n.calcEventCacheAfterServerOverwrite(e,s,u))?this.filter_.updatePriority(s,a):h.getNode()):(s=e.popFront(),null!=(u=h.isCompleteForChild(o)?(u=t.getServerCache().getNode(),null!=(a=n.calcEventCacheAfterServerOverwrite(e,h.getNode(),u))?h.getNode().getImmediateChild(o).updateChild(s,a):h.getNode().getImmediateChild(o)):n.calcCompleteChild(o,t.getServerCache()))?this.filter_.updateChild(h.getNode(),o,u,s,r,i):h.getNode()),t.updateEventSnap(c,h.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes()))},mh.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a=t.getServerCache(),o=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())c=o.updateFullNode(a.getNode(),n,null);else if(o.filtersNodes()&&!a.isFiltered())var u=a.getNode().updateChild(e,n),c=o.updateFullNode(a.getNode(),u,null);else{u=e.getFront();if(!a.isCompleteForPath(e)&&1<e.getLength())return t;var h=e.popFront(),n=a.getNode().getImmediateChild(u).updateChild(h,n),c=".priority"===u?o.updatePriority(a.getNode(),n):o.updateChild(a.getNode(),u,n,h,ph,null)}u=t.updateServerSnap(c,a.isFullyInitialized()||e.isEmpty(),o.filtersNodes()),n=new dh(r,u,i);return this.generateEventCacheAfterServerEvent_(u,e,r,n,s)},mh.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),r=new dh(r,t,i);return e.isEmpty()?(s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),t.updateEventSnap(s,!0,this.filter_.filtersNodes())):".priority"===(i=e.getFront())?(s=this.filter_.updatePriority(t.getEventCache().getNode(),n),t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered())):(s=e.popFront(),e=u.getNode().getImmediateChild(i),a=s.isEmpty()?n:null!=(a=r.getCompleteChild(i))?".priority"===s.getBack()&&a.getChild(s.parent()).isEmpty()?a:a.updateChild(s,n):I.EMPTY_NODE,e.equals(a)?t:(n=this.filter_.updateChild(u.getNode(),i,a,s,r,o),t.updateEventSnap(n,u.isFullyInitialized(),this.filter_.filtersNodes())))},mh.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},mh.prototype.applyUserMerge_=function(n,r,t,i,o,s){var a=this,u=n;return t.foreach(function(t,e){t=r.child(t);mh.cacheHasChild_(n,t.getFront())&&(u=a.applyUserOverwrite_(u,t,e,i,o,s))}),t.foreach(function(t,e){t=r.child(t);mh.cacheHasChild_(n,t.getFront())||(u=a.applyUserOverwrite_(u,t,e,i,o,s))}),u},mh.prototype.applyMerge_=function(n,t){return t.foreach(function(t,e){n=n.updateChild(t,e)}),n},mh.prototype.applyServerMerge_=function(r,t,e,i,o,s,a){var u,c,h=this;return r.getServerCache().getNode().isEmpty()&&!r.getServerCache().isFullyInitialized()?r:(u=r,t=t.isEmpty()?e:Yc.Empty.setTree(t,e),c=r.getServerCache().getNode(),t.children.inorderTraversal(function(t,e){var n;c.hasChild(t)&&(n=r.getServerCache().getNode().getImmediateChild(t),n=h.applyMerge_(n,e),u=h.applyServerOverwrite_(u,new w(t),n,i,o,s,a))}),t.children.inorderTraversal(function(t,e){var n=!r.getServerCache().isCompleteForChild(t)&&null==e.value;c.hasChild(t)||n||(n=r.getServerCache().getNode().getImmediateChild(t),n=h.applyMerge_(n,e),u=h.applyServerOverwrite_(u,new w(t),n,i,o,s,a))}),u)},mh.prototype.ackUserWrite_=function(t,r,e,n,i,o){var s,a,u,c;return null!=n.shadowingWrite(r)?t:(s=t.getServerCache().isFiltered(),a=t.getServerCache(),null!=e.value?r.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(r)?this.applyServerOverwrite_(t,r,a.getNode().getChild(r),n,i,s,o):r.isEmpty()?(u=Yc.Empty,a.getNode().forEachChild(Pu,function(t,e){u=u.set(new w(t),e)}),this.applyServerMerge_(t,r,u,n,i,s,o)):t:(c=Yc.Empty,e.foreach(function(t,e){var n=r.child(t);a.isCompleteForPath(n)&&(c=c.set(t,a.getNode().getChild(n)))}),this.applyServerMerge_(t,r,c,n,i,s,o)))},mh.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),t=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(t,e,n,ph,r)},mh.prototype.revertUserWrite_=function(t,e,n,r,i){var o,s,a,u,c;return null!=n.shadowingWrite(e)?t:(r=new dh(n,t,r),u=t.getEventCache().getNode(),c=void 0,e.isEmpty()||".priority"===e.getFront()?(s=t.getServerCache().isFullyInitialized()?n.calcCompleteEventCache(t.getCompleteServerSnap()):(s=t.getServerCache().getNode(),d(s instanceof I,"serverChildren would be complete if leaf node"),n.calcCompleteEventChildren(s)),c=this.filter_.updateFullNode(u,s,i)):(s=e.getFront(),(c=null!=(a=null==(a=n.calcCompleteChild(s,t.getServerCache()))&&t.getServerCache().isCompleteForChild(s)?u.getImmediateChild(s):a)?this.filter_.updateChild(u,s,a,e.popFront(),r,i):t.getEventCache().getNode().hasChild(s)?this.filter_.updateChild(u,s,I.EMPTY_NODE,e.popFront(),r,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))),o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(w.Empty),t.updateEventSnap(c,o,this.filter_.filtersNodes()))};var gh=mh;function mh(t){this.filter_=t}_h.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===T.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(T.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,T.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,T.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,T.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,T.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,T.VALUE,t,n,e),i},_h.prototype.generateEventsForType_=function(r,e,t,i,o){var s=this,t=t.filter(function(t){return t.type===e});t.sort(this.compareChanges_.bind(this)),t.forEach(function(e){var n=s.materializeSingleChange_(e,o);i.forEach(function(t){t.respondsTo(e.type)&&r.push(t.createEvent(n,s.query_))})})},_h.prototype.materializeSingleChange_=function(t,e){return"value"!==t.type&&"child_removed"!==t.type&&(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},_h.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw ns("Should only compare child_ events.");t=new E(t.childName,t.snapshotNode),e=new E(e.childName,e.snapshotNode);return this.index_.compare(t,e)};var bh=_h;function _h(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}Ih.prototype.getQuery=function(){return this.query_},Ih.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},Ih.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},Ih.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},Ih.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},Ih.prototype.removeEventRegistration=function(t,e){var n,r=[];if(e&&(d(null==t,"A cancel should cancel all event registrations."),n=this.query_.path,this.eventRegistrations_.forEach(function(t){t=t.createCancelEvent(e,n);t&&r.push(t)})),t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return r},Ih.prototype.applyOperation=function(t,e,n){t.type===qc.MERGE&&null!==t.source.queryId&&(d(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),d(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,t=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(t.viewCache),d(t.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=t.viewCache,this.generateEventsForChanges_(t.changes,t.viewCache.getEventCache().getNode(),null)},Ih.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Vu,function(t,e){n.push(T.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(T.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},Ih.prototype.generateEventsForChanges_=function(t,e,n){n=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,n)};var wh,Eh=Ih;function Ih(t,e){this.query_=t,this.eventRegistrations_=[];var t=this.query_.getQueryParams(),n=new uh(t.getIndex()),t=t.getNodeFilter(),r=(this.processor_=new gh(t),e.getServerCache()),e=e.getEventCache(),i=n.updateFullNode(I.EMPTY_NODE,r.getNode(),null),o=t.updateFullNode(I.EMPTY_NODE,e.getNode(),null),i=new rh(i,r.isFullyInitialized(),n.filtersNodes()),r=new rh(o,e.isFullyInitialized(),t.filtersNodes());this.viewCache_=new oh(r,i),this.eventGenerator_=new bh(this.query_)}Object.defineProperty(Sh,"__referenceConstructor",{get:function(){return d(wh,"Reference.ts has not been loaded"),wh},set:function(t){d(!wh,"__referenceConstructor has already been defined"),wh=t},enumerable:!1,configurable:!0}),Sh.prototype.isEmpty=function(){return 0===this.views.size},Sh.prototype.applyOperation=function(t,e,n){var r,i,o,s=t.source.queryId;if(null!==s)return o=this.views.get(s),d(null!=o,"SyncTree gave us an op for an invalid query."),o.applyOperation(t,e,n);var a=[];try{for(var u=Xo(this.views.values()),c=u.next();!c.done;c=u.next())o=c.value,a=a.concat(o.applyOperation(t,e,n))}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a},Sh.prototype.addEventRegistration=function(t,e,n,r,i){var o,s=t.queryIdentifier(),a=this.views.get(s);return a||(n=!!(o=n.calcCompleteEventCache(i?r:null))||(o=r instanceof I?n.calcCompleteEventChildren(r):I.EMPTY_NODE,!1),o=new oh(new rh(o,n,!1),new rh(r,i,!1)),a=new Eh(t,o),this.views.set(s,a)),a.addEventRegistration(e),a.getInitialEvents(e)},Sh.prototype.removeEventRegistration=function(t,e,n){var r,i,o=t.queryIdentifier(),s=[],a=[],u=this.hasCompleteView();if("default"===o)try{for(var c=Xo(this.views.entries()),h=c.next();!h.done;h=c.next()){var l=Jo(h.value,2),f=l[0],p=l[1],a=a.concat(p.removeEventRegistration(e,n));p.isEmpty()&&(this.views.delete(f),p.getQuery().getQueryParams().loadsAllData()||s.push(p.getQuery()))}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}else(p=this.views.get(o))&&(a=a.concat(p.removeEventRegistration(e,n)),p.isEmpty())&&(this.views.delete(o),p.getQuery().getQueryParams().loadsAllData()||s.push(p.getQuery()));return u&&!this.hasCompleteView()&&s.push(new Sh.__referenceConstructor(t.repo,t.path)),{removed:s,events:a}},Sh.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Xo(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},Sh.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=Xo(this.views.values()),o=i.next();!o.done;o=i.next())var s=o.value,r=r||s.getCompleteServerCache(t)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},Sh.prototype.viewForQuery=function(t){return t.getQueryParams().loadsAllData()?this.getCompleteView():(t=t.queryIdentifier(),this.views.get(t))},Sh.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},Sh.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},Sh.prototype.getCompleteView=function(){var t,e;try{for(var n=Xo(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null};var Th=Sh;function Sh(){this.views=new Map}Nh.prototype.addWrite=function(t,e){var n,r,i;return t.isEmpty()?new Nh(new Yc(e)):null!=(r=this.writeTree_.findRootMostValueAndPath(t))?(n=r.path,r=r.value,i=w.relativePath(n,t),r=r.updateChild(i,e),new Nh(this.writeTree_.set(n,r))):(i=new Yc(e),new Nh(this.writeTree_.setTree(t,i)))},Nh.prototype.addWrites=function(n,t){var r=this;return Ga(t,function(t,e){r=r.addWrite(n.child(t),e)}),r},Nh.prototype.removeWrite=function(t){return t.isEmpty()?Nh.Empty:new Nh(this.writeTree_.setTree(t,Yc.Empty))},Nh.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},Nh.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(w.relativePath(e.path,t)):null},Nh.prototype.getCompleteChildren=function(){var n=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Vu,function(t,e){n.push(new E(t,e))}):this.writeTree_.children.inorderTraversal(function(t,e){null!=e.value&&n.push(new E(t,e.value))}),n},Nh.prototype.childCompoundWrite=function(t){var e;return t.isEmpty()?this:new Nh(null!=(e=this.getCompleteNode(t))?new Yc(e):this.writeTree_.subtree(t))},Nh.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},Nh.prototype.apply=function(t){return function n(r,t,i){var o;return null!=t.value?i.updateChild(r,t.value):(o=null,t.children.inorderTraversal(function(t,e){".priority"===t?(d(null!==e.value,"Priority writes must always be leaf nodes"),o=e.value):i=n(r.child(t),e,i)}),i=i.getChild(r).isEmpty()||null===o?i:i.updateChild(r.child(".priority"),o))}(w.Empty,this.writeTree_,t)},Nh.Empty=new Nh(new Yc(null));var Ch=Nh;function Nh(t){this.writeTree_=t}kh.prototype.childWrites=function(t){return new Oh(t,this)},kh.prototype.addOverwrite=function(t,e,n,r){d(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r=void 0===r?!0:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},kh.prototype.addMerge=function(t,e,n){d(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},kh.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},kh.prototype.removeWrite=function(e){var n=this,t=this.allWrites_.findIndex(function(t){return t.writeId===e}),r=(d(0<=t,"removeWrite called with nonexistent writeId."),this.allWrites_[t]);this.allWrites_.splice(t,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&0<=s;){var a=this.allWrites_[s];a.visible&&(t<=s&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(o=!0)),s--}return!!i&&(o?this.resetTree_():r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):Ga(r.children,function(t){n.visibleWrites_=n.visibleWrites_.removeWrite(r.path.child(t))}),!0)},kh.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},kh.prototype.calcCompleteEventCache=function(e,t,n,r){var i,o;return n||r?(i=this.visibleWrites_.childCompoundWrite(e),!r&&i.isEmpty()?t:r||null!=t||i.hasCompleteWrite(w.Empty)?(i=kh.layerTree_(this.allWrites_,function(t){return(t.visible||r)&&(!n||!~n.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e),o=t||I.EMPTY_NODE,i.apply(o)):null):null!=(i=this.visibleWrites_.getCompleteNode(e))?i:(i=this.visibleWrites_.childCompoundWrite(e)).isEmpty()?t:null!=t||i.hasCompleteWrite(w.Empty)?(o=t||I.EMPTY_NODE,i.apply(o)):null},kh.prototype.calcCompleteEventChildren=function(t,e){var n,r=I.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);return i?i.isLeafNode()||i.forEachChild(Vu,function(t,e){r=r.updateImmediateChild(t,e)}):e?(n=this.visibleWrites_.childCompoundWrite(t),e.forEachChild(Vu,function(t,e){e=n.childCompoundWrite(new w(t)).apply(e);r=r.updateImmediateChild(t,e)}),n.getCompleteChildren().forEach(function(t){r=r.updateImmediateChild(t.name,t.node)})):this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r},kh.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){d(n||r,"Either existingEventSnap or existingServerSnap must exist");n=t.child(e);return this.visibleWrites_.hasCompleteWrite(n)?null:(t=this.visibleWrites_.childCompoundWrite(n)).isEmpty()?r.getChild(e):t.apply(r.getChild(e))},kh.prototype.calcCompleteChild=function(t,e,n){var t=t.child(e),r=this.visibleWrites_.getCompleteNode(t);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(t).apply(n.getNode().getImmediateChild(e)):null},kh.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},kh.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,t=this.visibleWrites_.childCompoundWrite(t),a=t.getCompleteNode(w.Empty);if(null!=a)s=a;else{if(null==e)return[];s=t.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),l=h.getNext();l&&u.length<r;)0!==c(l,n)&&u.push(l),l=h.getNext();return u},kh.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},kh.prototype.resetTree_=function(){this.visibleWrites_=kh.layerTree_(this.allWrites_,kh.DefaultFilter_,w.Empty),0<this.allWrites_.length?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},kh.DefaultFilter_=function(t){return t.visible},kh.layerTree_=function(t,e,n){for(var r=Ch.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=w.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=w.relativePath(s,n),r=r.addWrite(w.Empty,o.snap.getChild(a)));else{if(!o.children)throw ns("WriteRecord should have .snap or .children");n.contains(s)?(a=w.relativePath(n,s),r=r.addWrites(a,o.children)):s.contains(n)&&((a=w.relativePath(s,n)).isEmpty()?r=r.addWrites(w.Empty,o.children):(s=Ns(o.children,a.getFront()))&&(o=s.getChild(a.popFront()),r=r.addWrite(w.Empty,o)))}}}return r};var Ah=kh;function kh(){this.visibleWrites_=Ch.Empty,this.allWrites_=[],this.lastWriteId_=-1}Rh.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},Rh.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},Rh.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},Rh.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},Rh.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},Rh.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},Rh.prototype.child=function(t){return new Rh(this.treePath_.child(t),this.writeTree_)};var Oh=Rh;function Rh(t,e){this.treePath_=t,this.writeTree_=e}f.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Zc(Gc.User,t,e)):[]},f.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);n=Yc.fromObject(e);return this.applyOperationToSyncPoints_(new eh(Gc.User,t,n))},f.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n,r=this.pendingWriteTree_.getWrite(t);return this.pendingWriteTree_.removeWrite(t)?(n=Yc.Empty,null!=r.snap?n=n.set(w.Empty,!0):Ga(r.children,function(t,e){n=n.set(new w(t),e)}),this.applyOperationToSyncPoints_(new zc(r.path,n,e))):[]},f.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Zc(Gc.Server,t,e))},f.prototype.applyServerMerge=function(t,e){e=Yc.fromObject(e);return this.applyOperationToSyncPoints_(new eh(Gc.Server,t,e))},f.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Jc(Gc.Server,t))},f.prototype.applyTaggedQueryOverwrite=function(t,e,n){var r,n=this.queryKeyForTag_(n);return null==n?[]:(r=(n=f.parseQueryKey_(n)).path,n=n.queryId,t=w.relativePath(r,t),n=new Zc(Gc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,n))},f.prototype.applyTaggedQueryMerge=function(t,e,n){var r,n=this.queryKeyForTag_(n);return n?(r=(n=f.parseQueryKey_(n)).path,n=n.queryId,t=w.relativePath(r,t),e=Yc.fromObject(e),n=new eh(Gc.forServerTaggedQuery(n),t,e),this.applyTaggedOperation_(r,n)):[]},f.prototype.applyTaggedListenComplete=function(t,e){var n,e=this.queryKeyForTag_(e);return e?(n=(e=f.parseQueryKey_(e)).path,e=e.queryId,t=w.relativePath(n,t),e=new Jc(Gc.forServerTaggedQuery(e),t),this.applyTaggedOperation_(n,e)):[]},f.prototype.addEventRegistration=function(t,e){var n=t.path,r=null,i=!1;this.syncPointTree_.foreachOnPath(n,function(t,e){t=w.relativePath(t,n);r=r||e.getCompleteServerCache(t),i=i||e.hasCompleteView()});var o,s=this.syncPointTree_.get(n);s?(i=i||s.hasCompleteView(),r=r||s.getCompleteServerCache(w.Empty)):(s=new Th,this.syncPointTree_=this.syncPointTree_.set(n,s)),null!=r?o=!0:(o=!1,r=I.EMPTY_NODE,this.syncPointTree_.subtree(n).foreachChild(function(t,e){e=e.getCompleteServerCache(w.Empty);e&&(r=r.updateImmediateChild(t,e))}));var a=s.viewExistsForQuery(t);a||t.getQueryParams().loadsAllData()||(c=f.makeQueryKey_(t),d(!this.queryToTagMap.has(c),"View does not exist, but we have a tag"),u=f.getNextQueryTag_(),this.queryToTagMap.set(c,u),this.tagToQueryMap.set(u,c));var u=this.pendingWriteTree_.childWrites(n),c=s.addEventRegistration(t,e,u,r,o);return a||i||(e=s.viewForQuery(t),c=c.concat(this.setupListener_(t,e))),c},f.prototype.removeEventRegistration=function(t,e,n){var r=this,i=t.path,o=this.syncPointTree_.get(i),s=[];if(o&&("default"===t.queryIdentifier()||o.viewExistsForQuery(t))){var e=o.removeEventRegistration(t,e,n),o=(o.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(i)),e.removed),s=e.events,e=-1!==o.findIndex(function(t){return t.getQueryParams().loadsAllData()}),a=this.syncPointTree_.findOnPath(i,function(t,e){return e.hasCompleteView()});if(e&&!a){i=this.syncPointTree_.subtree(i);if(!i.isEmpty())for(var u=this.collectDistinctViewsForSubTree_(i),c=0;c<u.length;++c){var h=u[c],l=h.getQuery(),h=this.createListenerForView_(h);this.listenProvider_.startListening(f.queryForListening_(l),this.tagForQuery_(l),h.hashFn,h.onComplete)}}!a&&0<o.length&&!n&&(e?this.listenProvider_.stopListening(f.queryForListening_(t),null):o.forEach(function(t){var e=r.queryToTagMap.get(f.makeQueryKey_(t));r.listenProvider_.stopListening(f.queryForListening_(t),e)})),this.removeTags_(o)}return s},f.prototype.calcCompleteEventCache=function(n,t){var e=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(n,function(t,e){t=w.relativePath(t,n),e=e.getCompleteServerCache(t);if(e)return e});return e.calcCompleteEventCache(n,r,t,!0)},f.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){var r;return e&&e.hasCompleteView()?[e.getCompleteView()]:(r=[],e&&(r=e.getQueryViews()),Ga(n,function(t,e){r=r.concat(e)}),r)})},f.prototype.removeTags_=function(t){for(var e=0;e<t.length;++e){var n,r=t[e];r.getQueryParams().loadsAllData()||(r=f.makeQueryKey_(r),n=this.queryToTagMap.get(r),this.queryToTagMap.delete(r),this.tagToQueryMap.delete(n))}},f.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},f.prototype.setupListener_=function(t,e){var n=t.path,r=this.tagForQuery_(t),e=this.createListenerForView_(e),t=this.listenProvider_.startListening(f.queryForListening_(t),r,e.hashFn,e.onComplete),e=this.syncPointTree_.subtree(n);if(r)d(!e.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var i=e.fold(function(t,e,n){var r;return!t.isEmpty()&&e&&e.hasCompleteView()?[e.getCompleteView().getQuery()]:(r=[],e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),Ga(n,function(t,e){r=r.concat(e)}),r)}),o=0;o<i.length;++o){var s=i[o];this.listenProvider_.stopListening(f.queryForListening_(s),this.tagForQuery_(s))}return t},f.prototype.createListenerForView_=function(t){var n=this,r=t.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){return(t.getServerCache()||I.EMPTY_NODE).hash()},onComplete:function(t){var e;return"ok"===t?i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path):(e="Unknown Error","too_big"===(t=t)?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable"),(e=new Error(t+" at "+r.path.toString()+": "+e)).code=t.toUpperCase(),t=e,n.removeEventRegistration(r,null,t))}}},f.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},f.parseQueryKey_=function(t){var e=t.indexOf("$");return d(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new w(t.substr(0,e))}},f.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},f.prototype.tagForQuery_=function(t){t=f.makeQueryKey_(t);return this.queryToTagMap.get(t)},f.getNextQueryTag_=function(){return f.nextQueryTag_++},f.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t),t=(d(n,"Missing sync point for query tag that we're tracking"),this.pendingWriteTree_.childWrites(t));return n.applyOperation(e,t,null)},f.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(w.Empty))},f.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(w.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(w.Empty));var o,s=[],a=t.path.getFront(),u=t.operationForChild(a),e=e.children.get(a);return e&&u&&(o=n?n.getImmediateChild(a):null,a=r.child(a),s=s.concat(this.applyOperationHelper_(u,e,o,a))),s=i?s.concat(i.applyOperation(t,r,n)):s},f.prototype.applyOperationDescendantsHelper_=function(i,t,o,s){var a=this,e=t.get(w.Empty),u=(null==o&&null!=e&&(o=e.getCompleteServerCache(w.Empty)),[]);return t.children.inorderTraversal(function(t,e){var n=o?o.getImmediateChild(t):null,r=s.child(t),t=i.operationForChild(t);t&&(u=u.concat(a.applyOperationDescendantsHelper_(t,e,n,r)))}),u=e?u.concat(e.applyOperation(i,s,o)):u},f.nextQueryTag_=1;var Ph=f;function f(t){this.listenProvider_=t,this.syncPointTree_=Yc.Empty,this.pendingWriteTree_=new Ah,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}xh.prototype.getNode=function(t){return this.rootNode_.getChild(t)},xh.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)};var Dh=xh;function xh(){this.rootNode_=I.EMPTY_NODE}Mh.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Cs(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},Mh.prototype.get=function(){return os(this.counters_)};var Lh=Mh;function Mh(){this.counters_={}}Uh.getCollection=function(t){t=t.toString();return this.collections_[t]||(this.collections_[t]=new Lh),this.collections_[t]},Uh.getOrCreateReporter=function(t,e){t=t.toString();return this.reporters_[t]||(this.reporters_[t]=e()),this.reporters_[t]},Uh.collections_={},Uh.reporters_={};var Fh=Uh;function Uh(){}Vh.prototype.get=function(){var t=this.collection_.get(),n=Yo({},t);return this.last_&&Ga(this.last_,function(t,e){n[t]=n[t]-e}),this.last_=t,n};var jh=Vh;function Vh(t){this.collection_=t,this.last_=null}Bh.prototype.includeStat=function(t){this.statsToReport_[t]=!0},Bh.prototype.reportStats_=function(){var n=this,t=this.statsListener_.get(),r={},i=!1;Ga(t,function(t,e){0<e&&Cs(n.statsToReport_,t)&&(r[t]=e,i=!0)}),i&&this.server_.reportStats(r),za(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))};var qh=Bh;function Bh(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new jh(t);e=1e4+2e4*Math.random();za(this.reportStats_.bind(this),Math.floor(e))}Gh.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),(e=null===e?new Hh(i):e).add(r)}e&&this.eventLists_.push(e)},Gh.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},Gh.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},Gh.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--};var Wh=Gh;function Gh(){this.eventLists_=[],this.recursionDepth_=0}Kh.prototype.add=function(t){this.events_.push(t)},Kh.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e,n=this.events_[t];null!==n&&(this.events_[t]=null,e=n.getEventRunner(),Ua&&Va("event: "+n.toString()),Ka(e))}},Kh.prototype.getPath=function(){return this.path_};var Hh=Kh;function Kh(t){this.path_=t,this.events_=[]}zh.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=$o(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},zh.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});t=this.getInitialEvent(t);t&&e.apply(n,t)},zh.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},zh.prototype.validateEventType_=function(e){d(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)};r=zh;function zh(t){this.allowedEvents_=t,this.listeners_={},d(Array.isArray(t)&&0<t.length,"Requires a non-empty array")}o(Xh,Qh=r),Xh.getInstance=function(){return new Xh},Xh.prototype.getInitialEvent=function(t){return d("visible"===t,"Unknown event type: "+t),[this.visible_]};var Qh,Yh=Xh;function Xh(){var e,t,n=Qh.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),n.visible_=!0,t&&document.addEventListener(t,function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))},!1),n}o(Zh,Jh=r),Zh.getInstance=function(){return new Zh},Zh.prototype.getInitialEvent=function(t){return d("online"===t,"Unknown event type: "+t),[this.online_]},Zh.prototype.currentlyOnline=function(){return this.online_};var Jh,$h=Zh;function Zh(){var t=Jh.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||hs()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}el.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},el.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&Ka(function(){n.onMessage_(e[t])})}(t);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););};var tl=el;function el(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}rl.prototype.open=function(t,e){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tl(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null},Math.floor(3e4)),n=function(){var t;o.isClosed_||(o.scriptTagHolder=new il(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Jo(t,5),r=n[0],i=n[1],n=n[2];if(o.incrementIncomingBytes_(t),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=n;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,function(){o.onClosed_()})):o.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Jo(t,2),r=n[0],n=n[1];o.incrementIncomingBytes_(t),o.myPacketOrderer.handleResponse(r,n)},function(){o.onClosed_()},o.urlFn),(t={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=o.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",o.transportSessionId&&(t.s=o.transportSessionId),o.lastSessionId&&(t.ls=o.lastSessionId),o.applicationId&&(t.p=o.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Za)&&(t.r="f"),t=o.urlFn(t),o.log_("Connecting via long-poll to "+t),o.scriptTagHolder.addTag(t,function(){}))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&i()}),window.attachEvent("onload",i)))},rl.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},rl.forceAllow=function(){rl.forceAllow_=!0},rl.forceDisallow=function(){rl.forceDisallow_=!0},rl.isAvailable=function(){return!!rl.forceAllow_||!(rl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},rl.prototype.markConnectionHealthy=function(){},rl.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},rl.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},rl.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},rl.prototype.send=function(t){t=Ts(t);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var t=ts(t),e=Oa(is.encodeByteArray(t,!0),1840),n=0;n<e.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,e.length,e[n]),this.curSegmentNum++},rl.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},rl.prototype.incrementIncomingBytes_=function(t){t=Ts(t).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)};var nl=rl;function rl(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ra(t),this.stats_=Fh.getCollection(e),this.urlFn=function(t){return e.connectionURL(eu,t)}}ol.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Va("No IE domain setting required")}catch(t){var n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},ol.prototype.close=function(){var t=this,e=(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0))),this.onDisconnect);e&&(this.onDisconnect=null,e())},ol.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},ol.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var t=this.urlFn(t),e="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+e.length<=1870;){var r=this.pendingSegs.shift(),e=e+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d;n++}return this.addLongPollTag_(t+=e,this.currentSerial),!0}return!1},ol.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},ol.prototype.addLongPollTag_=function(t,e){var n=this;function r(){n.outstandingRequests.delete(e),n.newRequest_()}this.outstandingRequests.add(e);var i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},ol.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{var e;r.sendNewPolls&&((e=r.myIFrame.doc.createElement("script")).type="text/javascript",e.async=!0,e.src=t,e.onload=e.onreadystatechange=function(){var t=e.readyState;t&&"loaded"!==t&&"complete"!==t||(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),n())},e.onerror=function(){Va("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(e))}catch(t){}},Math.floor(1))};var il=ol;function ol(t,e,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Da++,window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ol.createIFrame_();n="",r="<html><body>"+(n=this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)?'<script>document.domain="'+document.domain+'";<\/script>':n)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(t){Va("frame writing exception"),t.stack&&Va(t.stack),Va(t)}}var sl="";function al(t){sl=t}var ul=null,cl=("undefined"!=typeof MozWebSocket?ul=MozWebSocket:"undefined"!=typeof WebSocket&&(ul=WebSocket),hl.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(Za)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(tu,r)},hl.prototype.open=function(t,e){var n,r=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xa.set("previous_websocket_failure",!0);try{ps()||(n={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new ul(this.connURL,[],n))}catch(t){this.log_("Error instantiating WebSocket.");e=t.message||t.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");t=t.message||t.data;t&&r.log_(t),r.onClosed_()}},hl.prototype.start=function(){},hl.forceDisallow=function(){hl.forceDisallow_=!0},hl.isAvailable=function(){var t,e=!1;return!(e="undefined"!=typeof navigator&&navigator.userAgent&&(t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<t.length&&parseFloat(t[1])<4.4?!0:e)&&null!==ul&&!hl.forceDisallow_},hl.previouslyFailed=function(){return xa.isInMemoryStorage||!0===xa.get("previous_websocket_failure")},hl.prototype.markConnectionHealthy=function(){xa.remove("previous_websocket_failure")},hl.prototype.appendFrame_=function(t){this.frames.push(t),this.frames.length===this.totalFrames&&(t=this.frames.join(""),this.frames=null,t=Is(t),this.onMessage(t))},hl.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},hl.prototype.extractFrameCount_=function(t){if(d(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},hl.prototype.handleIncomingFrame=function(t){null!==this.mySock&&(t=t.data,this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames?this.appendFrame_(t):null!==(t=this.extractFrameCount_(t))&&this.appendFrame_(t))},hl.prototype.send=function(t){this.resetKeepAlive();var t=Ts(t),e=(this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length),Oa(t,16384));1<e.length&&this.sendString_(String(e.length));for(var n=0;n<e.length;n++)this.sendString_(e[n])},hl.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},hl.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},hl.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},hl.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},hl.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},hl.responsesRequiredToBeHealthy=2,hl.healthyTimeout=3e4,hl);function hl(t,e,n,r,i){this.connId=t,this.applicationId=n,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ra(this.connId),this.stats_=Fh.getCollection(e),this.connURL=hl.connectionURL_(e,r,i),this.nodeAdmin=e.nodeAdmin}Object.defineProperty(fl,"ALL_TRANSPORTS",{get:function(){return[nl,cl]},enumerable:!1,configurable:!0}),fl.prototype.initTransports_=function(t){var e,n,r=cl&&cl.isAvailable(),i=r&&!cl.previouslyFailed();if(t.webSocketOnly&&(r||Ca("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[cl];else{var o=this.transports_=[];try{for(var s=Xo(fl.ALL_TRANSPORTS),a=s.next();!a.done;a=s.next()){var u=a.value;u&&u.isAvailable()&&o.push(u)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}},fl.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},fl.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null};var ll=fl;function fl(t){this.initTransports_(t)}dl.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport(),n=(this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0,this.connReceiver_(this.conn_)),r=this.disconnReceiver_(this.conn_),e=(this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0)),e.healthyTimeout||0);0<e&&(this.healthyTimeout_=za(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&102400<t.conn_.bytesReceived?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&10240<t.conn_.bytesSent?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))},dl.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},dl.prototype.disconnReceiver_=function(e){var n=this;return function(t){e===n.conn_?n.onConnectionLost_(t):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},dl.prototype.connReceiver_=function(e){var n=this;return function(t){2!==n.state_&&(e===n.rx_?n.onPrimaryMessageReceived_(t):e===n.secondaryConn_?n.onSecondaryMessageReceived_(t):n.log_("message on old connection"))}},dl.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},dl.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},dl.prototype.onSecondaryControl_=function(t){"t"in t&&("a"===(t=t.t)?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},dl.prototype.onSecondaryMessageReceived_=function(t){var e=ka("t",t),t=ka("d",t);if("c"===e)this.onSecondaryControl_(t);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(t)}},dl.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},dl.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},dl.prototype.onPrimaryMessageReceived_=function(t){var e=ka("t",t),t=ka("d",t);"c"===e?this.onControl_(t):"d"===e&&this.onDataMessage_(t)},dl.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},dl.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},dl.prototype.onControl_=function(t){var e=ka("t",t);if("d"in t){t=t.d;if("h"===e)this.onHandshake_(t);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(t):"r"===e?this.onReset_(t):"e"===e?Ta("Server Error: "+t):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ta("Unknown control packet command: "+e)}},dl.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Ca("Protocol version mismatch detected"),this.tryStartUpgrade_())},dl.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},dl.prototype.startUpgrade_=function(t){var e=this,t=(this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0,this.connReceiver_(this.secondaryConn_)),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),za(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},dl.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},dl.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):za(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},dl.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},dl.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},dl.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},dl.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},dl.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},dl.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_)&&(this.onDisconnect_(),this.onDisconnect_=null)},dl.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)};var pl=dl;function dl(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ra("c:"+this.id+":"),this.transportManager_=new ll(e),this.log_("Connection created"),this.start_()}vl.prototype.put=function(t,e,n,r){},vl.prototype.merge=function(t,e,n,r){},vl.prototype.refreshAuthToken=function(t){},vl.prototype.onDisconnectPut=function(t,e,n){},vl.prototype.onDisconnectMerge=function(t,e,n){},vl.prototype.onDisconnectCancel=function(t,e){},vl.prototype.reportStats=function(t){};_t=vl;function vl(){}o(S,yl=_t),S.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,t={r:r,a:t,b:e};this.log_(Ts(t)),d(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),n&&(this.requestCBHash_[r]=n)},S.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString(),r=(this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),d(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),d(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),{onComplete:r,hashFn:e,query:t,tag:n});this.listens.get(o).set(i,r),this.connected_&&this.sendListen_(r)},S.prototype.sendListen_=function(r){var i=this,o=r.query,s=o.path.toString(),a=o.queryIdentifier(),t=(this.log_("Listen on "+s+" for "+a),{p:s});r.tag&&(t.q=o.queryObject(),t.t=r.tag),t.h=r.hashFn(),this.sendRequest("q",t,function(t){var e=t.d,n=t.s;S.warnOnListenWarnings_(e,o),(i.listens.get(s)&&i.listens.get(s).get(a))===r&&(i.log_("listen response",t),"ok"!==n&&i.removeListen_(s,a),r.onComplete)&&r.onComplete(n,e)})},S.warnOnListenWarnings_=function(t,e){t&&"object"==typeof t&&Cs(t,"w")&&(t=Ns(t,"w"),Array.isArray(t))&&~t.indexOf("no_index")&&Ca("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+('".indexOn": "'+e.getQueryParams().getIndex().toString()+'"')+" at "+e.path.toString()+" to your security rules for better performance.")},S.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},S.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||"object"==typeof(t=Ss(t).claims)&&!0===t.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},S.prototype.tryAuth=function(){var n,t,e,r=this;this.connected_&&this.authToken_&&(e=(e=Ss(n=this.authToken_).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")?"auth":"gauth",t={cred:n},null===this.authOverride_?t.noauth=!0:"object"==typeof this.authOverride_&&(t.authvar=this.authOverride_),this.sendRequest(e,t,function(t){var e=t.s,t=t.d||"error";r.authToken_===n&&("ok"===e?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(e,t))}))},S.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),d(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},S.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);e={p:t};r&&(e.q=n,e.t=r),this.sendRequest("n",e)},S.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},S.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},S.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},S.prototype.sendOnDisconnect_=function(t,e,n,r){e={p:e,d:n};this.log_("onDisconnect "+t,e),this.sendRequest(t,e,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},S.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},S.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},S.prototype.putInternal=function(t,e,n,r,i){n={p:e,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:t,request:n,onComplete:r}),this.outstandingPutCount_++,i=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(i):this.log_("Buffering put: "+e)},S.prototype.sendPut_=function(e){var n=this,r=this.outstandingPuts_[e].action,t=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,t,function(t){n.log_(r+" response",t),delete n.outstandingPuts_[e],n.outstandingPutCount_--,0===n.outstandingPutCount_&&(n.outstandingPuts_=[]),i&&i(t.s,t.d)})},S.prototype.reportStats=function(t){var e=this;this.connected_&&(this.log_("reportStats",t={c:t}),this.sendRequest("s",t,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))},S.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Ts(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},S.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Ta("Unrecognized action received from server: "+Ts(t)+"\nAre you using the latest client?")},S.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},S.prototype.scheduleConnect_=function(t){var e=this;d(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},S.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},S.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},S.prototype.onRealtimeDisconnect_=function(){var t;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),t=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-t),t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},S.prototype.establishConnection_=function(){var e,n,r,i,o,s,a,u,c,t,h=this;this.shouldReconnect_()&&(this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+S.nextConnectionId_++,s=(o=this).lastSessionId,a=!1,u=null,this.realtime_={close:c=function(){u?u.close():(a=!0,r())},sendRequest:function(t){d(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},t=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(t).then(function(t){a?Va("getToken() completed but was canceled"):(Va("getToken() completed. Creating connection."),o.authToken_=t&&t.accessToken,u=new pl(i,o.repoInfo_,o.applicationId_,e,n,r,function(t){Ca(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},s))}).then(null,function(t){o.log_("Failed to get token: "+t),a||(h.repoInfo_.nodeAdmin&&Ca(t),c())}))},S.prototype.interrupt=function(t){Va("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},S.prototype.resume=function(t){Va("Resuming connection for reason: "+t),delete this.interruptReasons_[t],As(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},S.prototype.handleTimestamp_=function(t){t-=(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},S.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},S.prototype.onListenRevoked_=function(t,e){e=e?e.map(Pa).join("$"):"default",t=this.removeListen_(t,e);t&&t.onComplete&&t.onComplete("permission_denied")},S.prototype.removeListen_=function(t,e){var n,r,t=new w(t).toString();return this.listens.has(t)?(r=(n=this.listens.get(t)).get(e),n.delete(e),0===n.size&&this.listens.delete(t)):r=void 0,r},S.prototype.onAuthRevoked_=function(t,e){Va("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},S.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},S.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Xo(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{n=void 0;for(var a=Xo(s.values()),u=a.next();!u.done;u=a.next()){var c=u.value;this.sendListen_(c)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var l=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(l.action,l.pathString,l.data,l.onComplete)}},S.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+sl.replace(/\./g,"-")]=1,hs()?t["framework.cordova"]=1:fs()&&(t["framework.reactnative"]=1),this.reportStats(t)},S.prototype.shouldReconnect_=function(){var t=$h.getInstance().currentlyOnline();return As(this.interruptReasons_)&&t},S.nextPersistentConnectionId_=0,S.nextConnectionId_=0;var yl,gl=S;function S(t,e,n,r,i,o,s){var a=yl.call(this)||this;if(a.repoInfo_=t,a.applicationId_=e,a.onDataUpdate_=n,a.onConnectStatus_=r,a.onServerInfoUpdate_=i,a.authTokenProvider_=o,a.authOverride_=s,a.id=S.nextPersistentConnectionId_++,a.log_=Ra("p:"+a.id+":"),a.interruptReasons_={},a.listens=new Map,a.outstandingPuts_=[],a.outstandingPutCount_=0,a.onDisconnectRequestQueue_=[],a.connected_=!1,a.reconnectDelay_=1e3,a.maxReconnectDelay_=3e5,a.securityDebugCallback_=null,a.lastSessionId=null,a.establishConnectionTimer_=null,a.visible_=!1,a.requestCBHash_={},a.requestNumber_=0,a.realtime_=null,a.authToken_=null,a.forceTokenRefresh_=!1,a.invalidAuthTokenCount_=0,a.firstConnection_=!0,a.lastConnectionAttemptTime_=null,a.lastConnectionEstablishedTime_=null,s&&!ps())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return a.scheduleConnect_(0),Yh.getInstance().on("visible",a.onVisible_,a),-1===t.host.indexOf("fblocal")&&$h.getInstance().on("online",a.onOnline_,a),a}o(_l,ml=_t),_l.prototype.reportStats=function(t){throw new Error("Method not implemented.")},_l.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(d(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},_l.prototype.listen=function(t,e,n,r){var i=this,o=t.path.toString(),s=(this.log_("Listen called for "+o+" "+t.queryIdentifier()),_l.getListenId_(t,n)),a={},t=(this.listens_[s]=a,t.getQueryParams().toRestQueryStringParameters());this.restRequest_(o+".json",t,function(t,e){null===(t=404===t?e=null:t)&&i.onDataUpdate_(o,e,!1,n),Ns(i.listens_,s)===a&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},_l.prototype.unlisten=function(t,e){t=_l.getListenId_(t,e);delete this.listens_[t]},_l.prototype.refreshAuthToken=function(t){},_l.prototype.restRequest_=function(r,i,o){var s=this;(i=void 0===i?{}:i).format="export",this.authTokenProvider_.getToken(!1).then(function(t){var t=t&&t.accessToken,e=(t&&(i.auth=t),(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+r+"?ns="+s.repoInfo_.namespace+function(t){for(var n=[],e=0,r=Object.entries(t);e<r.length;e++){var i=r[e];!function(e,t){Array.isArray(t)?t.forEach(function(t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}):n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}(i[0],i[1])}return n.length?"&"+n.join("&"):""}(i)),n=(s.log_("Sending REST request for "+e),new XMLHttpRequest);n.onreadystatechange=function(){if(o&&4===n.readyState){s.log_("REST Response for "+e+" received. status:",n.status,"response:",n.responseText);var t=null;if(200<=n.status&&n.status<300){try{t=Is(n.responseText)}catch(t){Ca("Failed to parse JSON response for "+e+": "+n.responseText)}o(null,t)}else 401!==n.status&&404!==n.status&&Ca("Got unsuccessful REST response for "+e+" Status: "+n.status),o(n.status);o=null}},n.open("GET",e,!0),n.send()})};var ml,bl=_l;function _l(t,e,n){var r=ml.call(this)||this;return r.repoInfo_=t,r.onDataUpdate_=e,r.authTokenProvider_=n,r.log_=Ra("p:rest:"),r.listens_={},r}var wl="repo_interrupt",El=(Il.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Il.prototype.name=function(){return this.repoInfo_.namespace},Il.prototype.serverTime=function(){var t=this.infoData_.getNode(new w(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},Il.prototype.generateServerValues=function(){return(t={timestamp:this.serverTime()}).timestamp=t.timestamp||(new Date).getTime(),t;var t},Il.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new w(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o,t=i;0<(n=r?n?(o=ks(e,function(t){return pc(t)}),this.serverSyncTree_.applyTaggedQueryMerge(i,o,r)):(o=pc(e),this.serverSyncTree_.applyTaggedQueryOverwrite(i,o,r)):n?(o=ks(e,function(t){return pc(t)}),this.serverSyncTree_.applyServerMerge(i,o)):(r=pc(e),this.serverSyncTree_.applyServerOverwrite(i,r))).length&&(t=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(t,n)},Il.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},Il.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},Il.prototype.onServerInfoUpdate_=function(t){var n=this;Ga(t,function(t,e){n.updateInfo_(t,e)})},Il.prototype.updateInfo_=function(t,e){t=new w("/.info/"+t),e=pc(e),this.infoData_.updateSnapshot(t,e),e=this.infoSyncTree_.applyServerOverwrite(t,e);this.eventQueue_.raiseEventsForChangedPath(t,e)},Il.prototype.getNextWriteId_=function(){return this.nextWriteId_++},Il.prototype.setWithPriority=function(r,t,e,i){var o=this,n=(this.log_("set",{path:r.toString(),value:t,priority:e}),this.generateServerValues()),t=pc(t,e),e=Mc(t,this.serverSyncTree_.calcCompleteEventCache(r),n),s=this.getNextWriteId_(),n=this.serverSyncTree_.applyUserOverwrite(r,e,s,!0),e=(this.eventQueue_.queueEvents(n),this.server_.put(r.toString(),t.val(!0),function(t,e){var n="ok"===t,n=(n||Ca("set at "+r+" failed: "+t),o.serverSyncTree_.ackUserWrite(s,!n));o.eventQueue_.raiseEventsForChangedPath(r,n),o.callOnCompleteCallback(i,t,e)}),this.abortTransactions_(r));this.rerunTransactions_(e),this.eventQueue_.raiseEventsForChangedPath(e,[])},Il.prototype.update=function(i,t,o){var s=this;this.log_("update",{path:i.toString(),value:t});var a,e,n=!0,r=this.generateServerValues(),u={};Ga(t,function(t,e){n=!1,u[t]=Lc(i.child(t),pc(e),s.serverSyncTree_,r)}),n?(Va("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(o,"ok")):(a=this.getNextWriteId_(),e=this.serverSyncTree_.applyUserMerge(i,u,a),this.eventQueue_.queueEvents(e),this.server_.merge(i.toString(),t,function(t,e){var n="ok"===t,n=(n||Ca("update at "+i+" failed: "+t),s.serverSyncTree_.ackUserWrite(a,!n)),r=0<n.length?s.rerunTransactions_(i):i;s.eventQueue_.raiseEventsForChangedPath(r,n),s.callOnCompleteCallback(o,t,e)}),Ga(t,function(t){t=s.abortTransactions_(i.child(t));s.rerunTransactions_(t)}),this.eventQueue_.raiseEventsForChangedPath(i,[]))},Il.prototype.runOnDisconnectEvents_=function(){var n=this,r=(this.log_("onDisconnectEvents"),this.generateServerValues()),i=new Bc,o=(this.onDisconnect_.forEachTree(w.Empty,function(t,e){e=Lc(t,e,n.serverSyncTree_,r);i.remember(t,e)}),[]);i.forEachTree(w.Empty,function(t,e){o=o.concat(n.serverSyncTree_.applyServerOverwrite(t,e));e=n.abortTransactions_(t);n.rerunTransactions_(e)}),this.onDisconnect_=new Bc,this.eventQueue_.raiseEventsForChangedPath(w.Empty,o)},Il.prototype.onDisconnectCancel=function(n,r){var i=this;this.server_.onDisconnectCancel(n.toString(),function(t,e){"ok"===t&&i.onDisconnect_.forget(n),i.callOnCompleteCallback(r,t,e)})},Il.prototype.onDisconnectSet=function(n,t,r){var i=this,o=pc(t);this.server_.onDisconnectPut(n.toString(),o.val(!0),function(t,e){"ok"===t&&i.onDisconnect_.remember(n,o),i.callOnCompleteCallback(r,t,e)})},Il.prototype.onDisconnectSetWithPriority=function(n,t,e,r){var i=this,o=pc(t,e);this.server_.onDisconnectPut(n.toString(),o.val(!0),function(t,e){"ok"===t&&i.onDisconnect_.remember(n,o),i.callOnCompleteCallback(r,t,e)})},Il.prototype.onDisconnectUpdate=function(n,r,i){var o=this;As(r)?(Va("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(i,"ok")):this.server_.onDisconnectMerge(n.toString(),r,function(t,e){"ok"===t&&Ga(r,function(t,e){e=pc(e);o.onDisconnect_.remember(n.child(t),e)}),o.callOnCompleteCallback(i,t,e)})},Il.prototype.addEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).addEventRegistration(t,e);this.eventQueue_.raiseEventsAtPath(t.path,e)},Il.prototype.removeEventCallbackForQuery=function(t,e){e=(".info"===t.path.getFront()?this.infoSyncTree_:this.serverSyncTree_).removeEventRegistration(t,e);this.eventQueue_.raiseEventsAtPath(t.path,e)},Il.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(wl)},Il.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(wl)},Il.prototype.stats=function(t){var i;void 0===t&&(t=!1),"undefined"!=typeof console&&(t=(t?(this.statsListener_||(this.statsListener_=new jh(this.stats_)),this.statsListener_):this.stats_).get(),i=Object.keys(t).reduce(function(t,e){return Math.max(e.length,t)},0),Ga(t,function(t,e){for(var n=t,r=t.length;r<i+2;r++)n+=" ";console.log(n+e)}))},Il.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},Il.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),Va.apply(void 0,$o([n],t))},Il.prototype.callOnCompleteCallback=function(n,r,i){n&&Ka(function(){var t,e;"ok"===r?n(null):(e=t=(r||"error").toUpperCase(),i&&(e+=": "+i),(e=new Error(e)).code=t,n(e))})},Object.defineProperty(Il.prototype,"database",{get:function(){return this.__database||(this.__database=new Hl(this))},enumerable:!1,configurable:!0}),Il);function Il(t,e,n,r){var s=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Bc,this.persistentConnection_=null,this.stats_=Fh.getCollection(t),e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))this.server_=new bl(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{e=n.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ts(e)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new gl(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,e),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(t){s.server_.refreshAuthToken(t)}),this.statsReporter_=Fh.getOrCreateReporter(t,function(){return new qh(s.stats_,s.server_)}),this.transactionsInit_(),this.infoData_=new Dh,this.infoSyncTree_=new Ph({startListening:function(t,e,n,r){var i=[],o=s.infoData_.getNode(t.path);return o.isEmpty()||(i=s.infoSyncTree_.applyServerOverwrite(t.path,o),setTimeout(function(){r("ok")},0)),i},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ph({startListening:function(n,t,e,r){return s.server_.listen(n,e,t,function(t,e){t=r(t,e);s.eventQueue_.raiseEventsForChangedPath(n.path,t)}),[]},stopListening:function(t,e){s.server_.unlisten(t,e)}})}Sl.prototype.getStartPost=function(){return this.startPost_},Sl.prototype.getEndPost=function(){return this.endPost_},Sl.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},Sl.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new E(e,n))||(n=I.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},Sl.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=I.EMPTY_NODE);var r=(r=e.withIndex(this.index_)).updatePriority(I.EMPTY_NODE),i=this;return e.forEachChild(Vu,function(t,e){i.matches(new E(t,e))||(r=r.updateImmediateChild(t,I.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},Sl.prototype.updatePriority=function(t,e){return t},Sl.prototype.filtersNodes=function(){return!0},Sl.prototype.getIndexedFilter=function(){return this.indexedFilter_},Sl.prototype.getIndex=function(){return this.index_},Sl.getStartPost_=function(t){var e;return t.hasStart()?(e=t.getIndexStartName(),t.getIndex().makePost(t.getIndexStartValue(),e)):t.getIndex().minPost()},Sl.getEndPost_=function(t){var e;return t.hasEnd()?(e=t.getIndexEndName(),t.getIndex().makePost(t.getIndexEndValue(),e)):t.getIndex().maxPost()};var Tl=Sl;function Sl(t){this.indexedFilter_=new uh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Sl.getStartPost_(t),this.endPost_=Sl.getEndPost_(t)}Nl.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new E(e,n))||(n=I.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},Nl.prototype.updateFullNode=function(t,e,n){if(e.isLeafNode()||e.isEmpty())r=I.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){var r=I.EMPTY_NODE.withIndex(this.index_),i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(I.EMPTY_NODE);for(var a,u=void 0,c=void 0,h=void 0,i=void 0,h=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),a=this.index_.getCompare(),function(t,e){return a(e,t)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0,l=!1;i.hasNext();)s=i.getNext(),(l=!l&&h(u,s)<=0?!0:l)&&o<this.limit_&&h(s,c)<=0?o++:r=r.updateImmediateChild(s.name,I.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},Nl.prototype.updatePriority=function(t,e){return t},Nl.prototype.filtersNodes=function(){return!0},Nl.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Nl.prototype.getIndex=function(){return this.index_},Nl.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o,s=this.reverse_?(o=this.index_.getCompare(),function(t,e){return o(e,t)}):this.index_.getCompare(),a=t,u=(d(a.numChildren()===this.limit_,""),new E(e,n)),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var l=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,u);if(h&&!n.isEmpty()&&0<=p)return null!=i&&i.trackChildChange(T.childChangedChange(e,n,l)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(T.childRemovedChange(e,l));p=a.updateImmediateChild(e,I.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(T.childAddedChange(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return!n.isEmpty()&&h&&0<=s(c,u)?(null!=i&&(i.trackChildChange(T.childRemovedChange(c.name,c.node)),i.trackChildChange(T.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,I.EMPTY_NODE)):t};var Cl=Nl;function Nl(t){this.rangedFilter_=new Tl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}kl.prototype.hasStart=function(){return this.startSet_},kl.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===kl.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},kl.prototype.getIndexStartValue=function(){return d(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},kl.prototype.getIndexStartName=function(){return d(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qa},kl.prototype.hasEnd=function(){return this.endSet_},kl.prototype.getIndexEndValue=function(){return d(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},kl.prototype.getIndexEndName=function(){return d(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ba},kl.prototype.hasLimit=function(){return this.limitSet_},kl.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},kl.prototype.getLimit=function(){return d(this.limitSet_,"Only valid if limit has been set"),this.limit_},kl.prototype.getIndex=function(){return this.index_},kl.prototype.copy_=function(){var t=new kl;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},kl.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},kl.prototype.limitToFirst=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=kl.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,e},kl.prototype.limitToLast=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_=kl.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,e},kl.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,n.indexStartValue_=t=void 0===t?null:t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},kl.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,n.indexEndValue_=t=void 0===t?null:t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},kl.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},kl.prototype.getQueryObject=function(){var t,e=kl.WIRE_PROTOCOL_CONSTANTS_,n={};return this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_)&&(n[e.INDEX_START_NAME]=this.indexStartName_),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_)&&(n[e.INDEX_END_NAME]=this.indexEndName_),this.limitSet_&&(n[e.LIMIT]=this.limit_,""===(t=this.viewFrom_)&&(t=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=t),this.index_!==Vu&&(n[e.INDEX]=this.index_.toString()),n},kl.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},kl.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Vu},kl.prototype.getNodeFilter=function(){return this.loadsAllData()?new uh(this.getIndex()):new(this.hasLimit()?Cl:Tl)(this)},kl.prototype.toRestQueryStringParameters=function(){var t,e=kl.REST_QUERY_CONSTANTS_,n={};return this.isDefault()||(t=this.index_===Vu?e.PRIORITY_INDEX:this.index_===gc?e.VALUE_INDEX:this.index_===Pu?e.KEY_INDEX:(d(this.index_ instanceof mc,"Unrecognized index type!"),this.index_.toString()),n[e.ORDER_BY]=Ts(t),this.startSet_&&(n[e.START_AT]=Ts(this.indexStartValue_),this.startNameSet_)&&(n[e.START_AT]+=","+Ts(this.indexStartName_)),this.endSet_&&(n[e.END_AT]=Ts(this.indexEndValue_),this.endNameSet_)&&(n[e.END_AT]+=","+Ts(this.indexEndName_)),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_)),n},kl.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},kl.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},kl.DEFAULT=new kl;var Al=kl;function kl(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Vu}o(Pl,Ol=t),Pl.prototype.getKey=function(){return c("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},Pl.prototype.child=function(t){var e;return c("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof w||(null===this.path.getFront()?(0,pu("Reference.child",1,e=(e=t)&&e.replace(/^\/*\.info(\/|$)/,"/"),!1)):pu("Reference.child",1,t,!1)),new Pl(this.repo,this.path.child(t))},Pl.prototype.getParent=function(){c("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new Pl(this.repo,t)},Pl.prototype.getRoot=function(){c("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},Pl.prototype.databaseProp=function(){return this.repo.database},Pl.prototype.set=function(t,e){c("Reference.set",1,2,arguments.length),du("Reference.set",this.path),uu("Reference.set",1,t,this.path,!1),Fs("Reference.set",2,e,!0);var n=new as;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},Pl.prototype.update=function(t,e){if(c("Reference.update",1,2,arguments.length),du("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Ca("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cu("Reference.update",1,t,this.path,!1),Fs("Reference.update",2,e,!0);var i=new as;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},Pl.prototype.setWithPriority=function(t,e,n){if(c("Reference.setWithPriority",2,3,arguments.length),du("Reference.setWithPriority",this.path),uu("Reference.setWithPriority",1,t,this.path,!1),hu("Reference.setWithPriority",2,e,!1),Fs("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new as;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},Pl.prototype.remove=function(t){return c("Reference.remove",0,1,arguments.length),du("Reference.remove",this.path),Fs("Reference.remove",1,t,!0),this.set(null,t)},Pl.prototype.transaction=function(t,r,e){if(c("Reference.transaction",1,3,arguments.length),du("Reference.transaction",this.path),Fs("Reference.transaction",1,t,!1),Fs("Reference.transaction",2,r,!0),void 0!==e&&"boolean"!=typeof e)throw new Error(Ms("Reference.transaction",3,!0)+"must be a boolean.");if(".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===e&&(e=!0);var i=new as;return"function"==typeof r&&i.promise.catch(function(){}),this.repo.startTransaction(this.path,t,function(t,e,n){t?i.reject(t):i.resolve(new Eu(e,n)),"function"==typeof r&&r(t,e,n)},e),i.promise},Pl.prototype.setPriority=function(t,e){c("Reference.setPriority",1,2,arguments.length),du("Reference.setPriority",this.path),hu("Reference.setPriority",1,t,!1),Fs("Reference.setPriority",2,e,!0);var n=new as;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},Pl.prototype.push=function(t,e){c("Reference.push",0,2,arguments.length),du("Reference.push",this.path),uu("Reference.push",1,t,this.path,!0),Fs("Reference.push",2,e,!0);var n=function(t){var e=t===Su;Su=t;for(var n=new Array(8),r=7;0<=r;r--)n[r]=Tu.charAt(t%64),t=Math.floor(t/64);d(0===t,"Cannot push at time == 0");var i=n.join("");if(e){for(r=11;0<=r&&63===Cu[r];r--)Cu[r]=0;Cu[r]++}else for(r=0;r<12;r++)Cu[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=Tu.charAt(Cu[r]);return d(20===i.length,"nextPushId: Length should be 20."),i}(this.repo.serverTime()),r=this.child(n),i=this.child(n),n=null!=t?r.set(t,e).then(function(){return i}):Promise.resolve(i);return r.then=n.then.bind(n),r.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),r},Pl.prototype.onDisconnect=function(){return du("Reference.onDisconnect",this.path),new _u(this.repo,this.path)},Object.defineProperty(Pl.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(Pl.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Pl.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Pl.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0});var Ol,Rl=Pl;function Pl(t,e){if(t instanceof El)return Ol.call(this,t,e,Al.DEFAULT,!1)||this;throw new Error("new Reference() no longer supported - use app.database().")}t.__referenceConstructor=Rl,Th.__referenceConstructor=Rl;function Dl(){this.children={},this.childCount=0,this.value=null}Ml.prototype.subTree=function(t){for(var e=t instanceof w?t:new w(t),n=this,r=e.getFront();null!==r;)n=new Ml(r,n,Ns(n.node_.children,r)||new Dl),r=(e=e.popFront()).getFront();return n},Ml.prototype.getValue=function(){return this.node_.value},Ml.prototype.setValue=function(t){d(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},Ml.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},Ml.prototype.hasChildren=function(){return 0<this.node_.childCount},Ml.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},Ml.prototype.forEachChild=function(n){var r=this;Ga(this.node_.children,function(t,e){n(new Ml(t,r,e))})},Ml.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},Ml.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},Ml.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},Ml.prototype.path=function(){return new w(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},Ml.prototype.name=function(){return this.name_},Ml.prototype.parent=function(){return this.parent_},Ml.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},Ml.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Cs(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())};var xl,Ll=Ml;function Ml(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Dl),this.name_=t,this.parent_=e,this.node_=n}xl={RUN:0,0:"RUN",SENT:1,1:"SENT",COMPLETED:2,2:"COMPLETED",SENT_NEEDS_ABORT:3,3:"SENT_NEEDS_ABORT",NEEDS_ABORT:4,4:"NEEDS_ABORT"},El.MAX_TRANSACTION_RETRIES_=25,El.prototype.transactionsInit_=function(){this.transactionQueueTree_=new Ll},El.prototype.startTransaction=function(t,e,n,r){function i(){}this.log_("transaction on "+t);var o=new Rl(this,t),e=(o.on("value",i),{path:t,update:e,onComplete:n,status:null,order:Da++,applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null}),n=this.getLatestState_(t);e.currentInputSnapshot=n;var s,a,r=e.update(n.val());void 0===r?(e.unwatcher(),e.currentOutputSnapshotRaw=null,e.currentOutputSnapshotResolved=null,e.onComplete&&(a=new _c(e.currentInputSnapshot,new Rl(this,e.path),Vu),e.onComplete(null,!1,a))):(bu("transaction failed: Data returned ",r,e.path),e.status=xl.RUN,(s=(a=this.transactionQueueTree_.subTree(t)).getValue()||[]).push(e),a.setValue(s),a=void 0,"object"==typeof r&&null!==r&&Cs(r,".priority")?(a=Ns(r,".priority"),d(au(a),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):a=(this.serverSyncTree_.calcCompleteEventCache(t)||I.EMPTY_NODE).getPriority().val(),s=this.generateServerValues(),a=Mc(r=pc(r,a),n,s),e.currentOutputSnapshotRaw=r,e.currentOutputSnapshotResolved=a,e.currentWriteId=this.getNextWriteId_(),n=this.serverSyncTree_.applyUserOverwrite(t,a,e.currentWriteId,e.applyLocally),this.eventQueue_.raiseEventsForChangedPath(t,n),this.sendReadyTransactions_())},El.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||I.EMPTY_NODE},El.prototype.sendReadyTransactions_=function(t){var e,n=this;(t=void 0===t?this.transactionQueueTree_:t)||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()?(e=this.buildTransactionQueue_(t),d(0<e.length,"Sending zero length transaction queue"),e.every(function(t){return t.status===xl.RUN})&&this.sendTransactionQueue_(t.path(),e)):t.hasChildren()&&t.forEachChild(function(t){n.sendReadyTransactions_(t)})},El.prototype.sendTransactionQueue_=function(s,a){for(var u=this,t=a.map(function(t){return t.currentWriteId}),t=this.getLatestState_(s,t),e=t,t=t.hash(),n=0;n<a.length;n++)var r=a[n],i=(d(r.status===xl.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),r.status=xl.SENT,r.retryCount++,w.relativePath(s,r.path)),e=e.updateChild(i,r.currentOutputSnapshotRaw);var o=e.val(!0),c=s;this.server_.put(c.toString(),o,function(t){u.log_("transaction put response",{path:c.toString(),status:t});var e=[];if("ok"===t){for(var n,r,i=[],o=0;o<a.length;o++)a[o].status=xl.COMPLETED,e=e.concat(u.serverSyncTree_.ackUserWrite(a[o].currentWriteId)),a[o].onComplete&&(r=a[o].currentOutputSnapshotResolved,n=new Rl(u,a[o].path),r=new _c(r,n,Vu),i.push(a[o].onComplete.bind(null,null,!0,r))),a[o].unwatcher();for(u.pruneCompletedTransactionsBelowNode_(u.transactionQueueTree_.subTree(s)),u.sendReadyTransactions_(),u.eventQueue_.raiseEventsForChangedPath(s,e),o=0;o<i.length;o++)Ka(i[o])}else{if("datastale"===t)for(o=0;o<a.length;o++)a[o].status===xl.SENT_NEEDS_ABORT?a[o].status=xl.NEEDS_ABORT:a[o].status=xl.RUN;else for(Ca("transaction at "+c.toString()+" failed: "+t),o=0;o<a.length;o++)a[o].status=xl.NEEDS_ABORT,a[o].abortReason=t;u.rerunTransactions_(s)}},t)},El.prototype.rerunTransactions_=function(t){var t=this.getAncestorTransactionNode_(t),e=t.path(),t=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(t,e),e},El.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===xl.RUN}).map(function(t){return t.currentWriteId}),o=0;o<t.length;o++){var s,a,u=t[o],c=w.relativePath(e,u.path),h=!1,l=void 0;d(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===xl.NEEDS_ABORT?(l=u.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,h=!0))):u.status===xl.RUN&&(r=u.retryCount>=El.MAX_TRANSACTION_RETRIES_?(l="maxretry",r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,h=!0))):(c=this.getLatestState_(u.path,i),u.currentInputSnapshot=c,void 0!==(a=t[o].update(c.val()))?(bu("transaction failed: Data returned ",a,u.path),s=pc(a),"object"==typeof a&&null!=a&&Cs(a,".priority")||(s=s.updatePriority(c.getPriority())),a=u.currentWriteId,c=Mc(s,c,this.generateServerValues()),u.currentOutputSnapshotRaw=s,u.currentOutputSnapshotResolved=c,u.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(a),1),(r=r.concat(this.serverSyncTree_.applyUserOverwrite(u.path,c,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(a,!0))):(l="nodata",r.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,h=!0))))),this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],h&&(t[o].status=xl.COMPLETED,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete)&&("nodata"===l?(c=new Rl(this,t[o].path),a=t[o].currentInputSnapshot,u=new _c(a,c,Vu),n.push(t[o].onComplete.bind(null,null,!1,u))):n.push(t[o].onComplete.bind(null,new Error(l),!1,null)))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Ka(n[o]);this.sendReadyTransactions_()}},El.prototype.getAncestorTransactionNode_=function(t){for(var e=this.transactionQueueTree_,n=t.getFront();null!==n&&null===e.getValue();)e=e.subTree(n),n=(t=t.popFront()).getFront();return e},El.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},El.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},El.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==xl.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(0<n.length?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},El.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),t=this.transactionQueueTree_.subTree(t);return t.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(t),t.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},El.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status!==xl.SENT_NEEDS_ABORT&&(e[o].status===xl.SENT?(d(i===o-1,"All SENT items should be at beginning of queue."),e[i=o].status=xl.SENT_NEEDS_ABORT,e[o].abortReason="set"):(d(e[o].status===xl.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)Ka(n[o])}};jl.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(Va("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},jl.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout(function(){return e(null)},0),this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)}))},jl.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},jl.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ca(t)};var Ul=jl;function jl(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}ql.prototype.getToken=function(t){return Promise.resolve({accessToken:ql.EMULATOR_AUTH_TOKEN})},ql.prototype.addTokenChangeListener=function(t){t(ql.EMULATOR_AUTH_TOKEN)},ql.prototype.removeTokenChangeListener=function(t){},ql.prototype.notifyForInvalidToken=function(){},ql.EMULATOR_AUTH_TOKEN="owner";var Vl=ql;function ql(){}Gl.getInstance=function(){return Bl=Bl||new Gl},Gl.prototype.interrupt=function(){var t,e,n,r;try{for(var i=Xo(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{n=void 0;for(var a=Xo(Object.keys(this.repos_[s])),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].interrupt()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},Gl.prototype.resume=function(){var t,e,n,r;try{for(var i=Xo(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{n=void 0;for(var a=Xo(Object.keys(this.repos_[s])),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].resume()}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},Gl.prototype.databaseFromApp=function(t,e,n,r){n=n||t.options.databaseURL;void 0===n&&(t.options.projectId||Sa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Va("Using default host for project ",t.options.projectId),n=t.options.projectId+"-default-rtdb.firebaseio.com");var i,o=iu(n,r),s=o.repoInfo,a=void 0,a=((a="undefined"!=typeof process?process.env.FIREBASE_DATABASE_EMULATOR_HOST:a)?(i=!0,s=(o=iu(n="http://"+a+"?ns="+s.namespace,r)).repoInfo):i=!o.repoInfo.secure,r&&i?new Vl:new Ul(t,e));return vu("Invalid Firebase Database URL",1,o),o.path.isEmpty()||Sa("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,a).database},Gl.prototype.deleteRepo=function(t){var e=Ns(this.repos_,t.app.name);e&&Ns(e,t.repoInfo_.toURLString())===t||Sa("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},Gl.prototype.createRepo=function(t,e,n){var r=Ns(this.repos_,e.name);return r||(this.repos_[e.name]=r={}),Ns(r,t.toURLString())&&Sa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),e=new El(t,this.useRestClient_,e,n),r[t.toURLString()]=e},Gl.prototype.forceRestClient=function(t){this.useRestClient_=t};var Bl,Wl=Gl;function Gl(){this.repos_={},this.useRestClient_=!1}Object.defineProperty(Kl.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),Kl.prototype.ref=function(t){return this.checkDeleted_("ref"),c("database.ref",0,1,arguments.length),t instanceof Rl?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},Kl.prototype.refFromURL=function(t){var e="database.refFromURL",t=(this.checkDeleted_(e),c(e,1,1,arguments.length),iu(t,this.repo_.repoInfo_.nodeAdmin)),n=(vu(e,1,t),t.repoInfo);return n.host!==this.repo_.repoInfo_.host&&Sa(e+": Host name does not match the current database: (found "+n.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(t.path.toString())},Kl.prototype.checkDeleted_=function(t){null===this.repo_&&Sa("Cannot call "+t+" on a deleted database.")},Kl.prototype.goOffline=function(){c("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},Kl.prototype.goOnline=function(){c("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},Kl.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}};var Hl=Kl;function Kl(t){(this.repo_=t)instanceof El||Sa("Don't call new Database() directly - please use firebase.database()."),this.root_=new Rl(t,w.Empty),this.INTERNAL=new zl(this)}Ql.prototype.delete=function(){return b(this,void 0,void 0,function(){return _(this,function(t){return this.database.checkDeleted_("delete"),Wl.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})};var zl=Ql;function Ql(t){this.database=t}Ct=Object.freeze({__proto__:null,forceLongPolling:function(){cl.forceDisallow(),nl.forceAllow()},forceWebSockets:function(){nl.forceDisallow()},isWebSocketsAvailable:function(){return cl.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,o=void 0!==o&&o,t=(al(t.version),new Qs("auth-internal",new Xs("database-standalone")));return t.setComponent(new Hs("auth-internal",function(){return r},"PRIVATE")),{instance:Wl.getInstance().databaseFromApp(e,t,n,o),namespace:i}}}),n=gl;gl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},gl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var li=Object.freeze({__proto__:null,DataConnection:n,RealTimeConnection:pl,hijackHash:function(i){var o=gl.prototype.put;return gl.prototype.put=function(t,e,n,r){void 0!==r&&(r=i()),o.call(this,t,e,n,r)},function(){gl.prototype.put=o}},ConnectionTarget:nu,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Wl.getInstance().forceRestClient(t)}}),Ot=Hl.ServerValue,Yl=(al((Jn=Fl).SDK_VERSION),Jn.INTERNAL.registerComponent(new Hs("database",function(t,e){var n=t.getProvider("app").getImmediate(),t=t.getProvider("auth-internal");return Wl.getInstance().databaseFromApp(n,t,e)},"PUBLIC").setServiceProps({Reference:Rl,Query:t,Database:Hl,DataSnapshot:_c,enableLogging:Ia,INTERNAL:Ct,ServerValue:Ot,TEST_ACCESS:li}).setMultipleInstances(!0)),Jn.registerVersion("@firebase/database","0.6.13"),function(t,e){return(Yl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)});function Xl(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C=vi||self;function Jl(){}function $l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Zl(t){var e=$l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function tf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}Math.random();function ef(t,e,n){return t.call.apply(t.bind,arguments)}function nf(e,n,t){var r;if(e)return 2<arguments.length?(r=Array.prototype.slice.call(arguments,2),function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}):function(){return e.apply(n,arguments)};throw Error()}function rf(t,e,n){return(rf=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ef:nf).apply(null,arguments)}function of(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var sf=Date.now;function af(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function uf(){this.j=this.j,this.i=this.i}uf.prototype.j=!1,uf.prototype.ja=function(){this.j||(this.j=!0,this.G())},uf.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var cf=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},hf=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function lf(){return Array.prototype.concat.apply([],arguments)}function ff(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function pf(t){return/^[\s\xa0]*$/.test(t)}var df,vf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function yf(t,e){return-1!=t.indexOf(e)}function gf(t,e){return t<e?-1:e<t?1:0}t:{var mf=C.navigator;if(mf){mf=mf.userAgent;if(mf){df=mf;break t}}df=""}function bf(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function _f(t){var e,n={};for(e in t)n[e]=t[e];return n}var wf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ef(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<wf.length;i++)e=wf[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function If(t){return If[" "](t),t}If[" "]=Jl;var Tf,Sf=yf(df,"Opera"),Cf=yf(df,"Trident")||yf(df,"MSIE"),Nf=yf(df,"Edge"),Af=Nf||Cf,kf=yf(df,"Gecko")&&!(yf(df.toLowerCase(),"webkit")&&!yf(df,"Edge"))&&!(yf(df,"Trident")||yf(df,"MSIE"))&&!yf(df,"Edge"),Of=yf(df.toLowerCase(),"webkit")&&!yf(df,"Edge");function Rf(){var t=C.document;return t?t.documentMode:void 0}t:{var Pf="",Df=(Df=df,kf?/rv:([^\);]+)(\)|;)/.exec(Df):Nf?/Edge\/([\d\.]+)/.exec(Df):Cf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Df):Of?/WebKit\/(\S+)/.exec(Df):Sf?/(?:Version)[ \/]?(\S+)/.exec(Df):void 0);if(Df&&(Pf=Df?Df[1]:""),Cf){Df=Rf();if(null!=Df&&Df>parseFloat(Pf)){Tf=String(Df);break t}}Tf=Pf}var xf={};function Lf(a){return t=a,e=function(){for(var t=0,e=vf(String(Tf)).split("."),n=vf(String(a)).split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++)for(var o=e[i]||"",s=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=o[0].length||0!=s[0].length)&&(t=gf(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||gf(0==o[2].length,0==s[2].length)||gf(o[2],s[2]),o=o[3],s=s[3],0==t););return 0<=t},n=xf,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e();var t,e,n}var Mf=C.document&&Cf&&(Rf()||parseInt(Tf,10))||void 0,Ff=!Cf||9<=Number(Mf),Uf=Cf&&!Lf("9"),jf=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{C.addEventListener("test",Jl,e),C.removeEventListener("test",Jl,e)}catch(t){}return t}();function Vf(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function qf(t,e){if(Vf.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(kf){t:{try{If(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Bf[t.pointerType]||"",(this.c=t).defaultPrevented&&this.b()}}Vf.prototype.b=function(){this.defaultPrevented=!0},af(qf,Vf);var Bf={2:"touch",3:"pen",4:"mouse"},Wf=(qf.prototype.b=function(){qf.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Uf)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}},"closure_listenable_"+(1e6*Math.random()|0)),Gf=0;function Hf(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Gf,this.Y=this.Z=!1}function Kf(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function zf(t){this.src=t,this.a={},this.b=0}function Qf(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=cf(n,e)))&&Array.prototype.splice.call(n,r,1),i)&&(Kf(e),0==t.a[o].length)&&(delete t.a[o],t.b--)}function Yf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}zf.prototype.add=function(t,e,n,r,i){var o=t.toString(),s=((t=this.a[o])||(t=this.a[o]=[],this.b++),Yf(t,e,r,i));return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Hf(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Xf="closure_lm_"+(1e6*Math.random()|0),Jf={};function $f(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=sp(r),e&&e[Wf]?e.wa(n,r,tf(i)?!!i.capture:!!i,o):Zf(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$f(t,e[o],n,r,i);return null}return n=sp(n),t&&t[Wf]?t.va(e,n,tf(r)?!!r.capture:!!r,i):Zf(t,e,n,!1,r,i)}function Zf(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=tf(i)?!!i.capture:!!i;if(s&&!Ff)return null;var a,u,c=ip(t);if(c||(t[Xf]=c=new zf(t)),!(n=c.add(e,n,r,s,o)).proxy)if(a=rp,r=u=Ff?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)void 0===(i=jf?i:s)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ep(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function tp(t){var e,n,r;"number"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[Wf]?Qf(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ep(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ip(e))?(Qf(n,t),0==n.b&&(e[Xf]=n.src=null)):Kf(t)))}function ep(t){return t in Jf?Jf[t]:Jf[t]="on"+t}function np(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&tp(t),n.call(r,e)}function rp(t,e){if(t.Y)return!0;if(Ff)return np(t,new qf(e,this));if(!e)t:{e=["window","event"];for(var n=C,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return np(t,e=new qf(e,this))}function ip(t){return(t=t[Xf])instanceof zf?t:null}var op="__closure_events_fn_"+(1e9*Math.random()>>>0);function sp(e){return"function"==$l(e)?e:(e[op]||(e[op]=function(t){return e.handleEvent(t)}),e[op])}function ap(){uf.call(this),this.c=new zf(this),(this.J=this).C=null}function up(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.Y&&u.capture==n&&(s=u.listener,a=u.ca||u.src,u.Z&&Qf(t.c,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}af(ap,uf),ap.prototype[Wf]=!0,(i=ap.prototype).addEventListener=function(t,e,n,r){$f(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=tf(i)?!!i.capture:!!i,r=sp(r),e&&e[Wf]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Yf(s=e.a[n],r,i,o))&&(Kf(s[r]),Array.prototype.splice.call(s,r,1),0==s.length)&&(delete e.a[n],e.b--)):(e=e&&ip(e))&&(n=e.a[n.toString()],r=(e=-1)<(e=n?Yf(n,r,i,o):e)?n[e]:null)&&tp(r)}(this,t,e,n,r)},i.dispatchEvent=function(t){var e;if(n=this.C)for(e=[];n;n=n.C)e.push(n);var n=this.J,r=t.type||t;if("string"==typeof t?t=new Vf(t,n):t instanceof Vf?t.target=t.target||n:(s=t,Ef(t=new Vf(r,n),s)),s=!0,e)for(var i=e.length-1;0<=i;i--)var o=t.a=e[i],s=up(o,r,!0,t)&&s;if(s=up(o=t.a=n,r,!0,t)&&s,s=up(o,r,!1,t)&&s,e)for(i=0;i<e.length;i++)s=up(o=t.a=e[i],r,!1,t)&&s;return s},i.G=function(){if(ap.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Kf(n[r]);delete e.a[t],e.b--}}this.C=null},i.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},i.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var cp=C.JSON.stringify;function hp(){this.b=this.a=null}pp.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t};var lp,fp=new pp(function(){return new dp},function(t){t.reset()},100);function pp(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}function dp(){this.next=this.b=this.a=null}function vp(t,e){var n;lp||(n=C.Promise.resolve(void 0),lp=function(){n.then(mp)}),yp||(lp(),yp=!0),gp.add(t,e)}hp.prototype.add=function(t,e){var n=fp.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},dp.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var yp=!(dp.prototype.reset=function(){this.next=this.b=this.a=null}),gp=new hp;function mp(){for(var t,e;n=void 0,e=null,(n=gp).a&&(e=n.a,n.a=n.a.next,n.a||(n.b=null),e.next=null),t=e;){try{t.a.call(t.b)}catch(t){!function(t){C.setTimeout(function(){throw t},0)}(t)}var n=fp;n.g(t),n.b<n.f&&(n.b++,t.next=n.a,n.a=t)}yp=!1}function bp(t,e){ap.call(this),this.b=t||1,this.a=e||C,this.f=rf(this.Ya,this),this.g=sf()}function _p(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function wp(t,e,n){if("function"==$l(t))n&&(t=rf(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=rf(t.handleEvent,t)}return 2147483647<Number(e)?-1:C.setTimeout(t,e||0)}af(bp,ap),(i=bp.prototype).aa=!1,i.M=null,i.Ya=function(){var t;this.aa&&(0<(t=sf()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(_p(this),this.start())))},i.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=sf())},i.G=function(){bp.S.G.call(this),_p(this),delete this.a};Yl(Ip=Cp,e=Ep=uf),Ip.prototype=null===e?Object.create(e):(Sp.prototype=e.prototype,new Sp),Cp.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=wp(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},Cp.prototype.G=function(){Ep.prototype.G.call(this),this.a&&(C.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)};var Ep,Ip,Tp=Cp;function Sp(){this.constructor=Ip}function Cp(t,e,n){var r=Ep.call(this)||this;return r.g=null!=n?t.bind(n):t,r.h=e,r.b=null,r.c=!1,r.a=null,r}function Np(t){uf.call(this),this.b=t,this.a={}}af(Np,uf);var Ap=[];function kp(t,e,n,r){Array.isArray(n)||(n&&(Ap[0]=n.toString()),n=Ap);for(var i=0;i<n.length;i++){var o=$f(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Op(t){bf(t.a,function(t,e){this.a.hasOwnProperty(e)&&tp(t)},t),t.a={}}function Rp(){this.a=!0}function Pp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return cp(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}Np.prototype.G=function(){Np.S.G.call(this),Op(this)},Np.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rp.prototype.info=function(){};var Dp=null;function xp(){return Dp=Dp||new ap}function Lp(t){Vf.call(this,"serverreachability",t)}function Mp(){var t=xp();t.dispatchEvent(new Lp(t))}function Fp(t){Vf.call(this,"statevent",t)}function Up(){var t=xp();t.dispatchEvent(new Fp(t))}function jp(t){Vf.call(this,"timingevent",t)}function Vp(t,e){if("function"!=$l(t))throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){t()},e)}af(Lp,Vf),af(Fp,Vf),af(jp,Vf);r={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},_t={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function qp(){}function Bp(t){return t.a||(t.a={})}function Wp(){}qp.prototype.a=null;n={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Gp(){Vf.call(this,"d")}function Hp(){Vf.call(this,"c")}function Kp(){}function zp(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Np(this),this.P=Yp,this.R=new bp(t=Af?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}af(Gp,Vf),af(Hp,Vf),af(Kp,qp);var Qp=new Kp,Yp=45e3,Xp={},Jp={};function $p(t,e,n){t.H=1,t.i=bd(pd(e)),t.j=n,t.I=!0,Zp(t,null)}function Zp(t,e){t.u=sf(),ed(t),t.l=pd(t.i);var s,a,u,c,h,l,n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Pd(n.b,"t",r),t.D=0,t.a=Tv(t.g,t.g.C?e:null),0<t.O&&(t.F=new Tp(rf(t.Ca,t,t.a),t.O)),kp(t.J,t.a,"readystatechange",t.Wa),e=t.B?_f(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Mp(),s=t.c,a=t.m,u=t.l,c=t.f,h=t.T,l=t.j,s.info(function(){if(s.a)if(l)for(var t="",e=l.split("&"),n=0;n<e.length;n++){var r,i,o=e[n].split("=");1<o.length&&(r=o[0],o=o[1],t=2<=(i=r.split("_")).length&&"type"==i[1]?t+(r+"=")+o+"&":t+(r+"=redacted&"))}else t=null;else t=l;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+a+"\n"+u+"\n"+t})}function td(t,e,n){for(var r,i,o,s=!0;!t.A&&t.D<n.length;){0,i=(a=t).D;var a=-1==(o=(r=n).indexOf("\n",i))?Jp:(i=Number(r.substring(i,o)),isNaN(i)?Xp:(o+=1)+i>r.length?Jp:(r=r.substr(o,i),a.D=o+i,r));if(a==Jp){4==e&&(t.h=4,Up(),s=!1),Pp(t.c,t.f,null,"[Incomplete Response]");break}if(a==Xp){t.h=4,Up(),Pp(t.c,t.f,n,"[Invalid Chunk]"),s=!1;break}Pp(t.c,t.f,a,null),sd(t,a)}4==e&&0==n.length&&(t.h=1,Up(),s=!1),t.b=t.b&&s,s?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t)&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),yv(e),e.F=!0):(Pp(t.c,t.f,n,"[Invalid Chunked Response]"),od(t),id(t))}function ed(t){t.U=sf()+t.P,nd(t,t.P)}function nd(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Vp(rf(t.Ua,t),e)}function rd(t){t.o&&(C.clearTimeout(t.o),t.o=null)}function id(t){0==t.g.v||t.A||bv(t.g,t)}function od(t){rd(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,_p(t.R),Op(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function sd(t,e){try{var n,r,i,o,s,a,u,c,h,l,f,p=t.g;if(0!=p.v&&(p.a==t||Ud(p.b,t)))if(p.I=t.N,!t.C&&Ud(p.b,t)&&3==p.v){try{var d=p.ka.a.parse(e)}catch(t){d=null}if(Array.isArray(d)&&3==d.length){var v=d;if(0==v[0]){t:if(!p.j){if(p.a){if(!(p.a.u+3e3<t.u))break t;mv(p),av(p)}vv(p),Up()}}else p.oa=v[1],0<p.oa-p.P&&v[2]<37500&&p.H&&0==p.o&&!p.m&&(p.m=Vp(rf(p.Ra,p),6e3));if(Fd(p.b)<=1&&p.ea){try{p.ea()}catch(t){}p.ea=void 0}}else wv(p,11)}else if(!t.C&&p.a!=t||mv(p),!pf(e))for(e=d=p.ka.a.parse(e),d=0;d<e.length;d++)v=e[d],p.P=v[0],v=v[1],2==p.v?"c"==v[0]?(p.J=v[1],p.ga=v[2],null!=(n=v[3])&&(p.ha=n,p.c.info("VER="+p.ha)),null!=(r=v[4])&&(p.pa=r,p.c.info("SVER="+p.pa)),null!=(i=v[5])&&"number"==typeof i&&0<i&&(o=1.5*i,p.D=o,p.c.info("backChannelRequestTimeoutMs_="+o)),o=p,(s=t.a)&&((a=s.a?s.a.getResponseHeader("X-Client-Wire-Protocol"):null)&&!(u=o.b).a&&(yf(a,"spdy")||yf(a,"quic")||yf(a,"h2"))&&(u.f=u.g,u.a=new Set,u.b)&&(jd(u,u.b),u.b=null),o.A&&(c=s.a?s.a.getResponseHeader("X-HTTP-Session-Id"):null)&&(o.na=c,md(o.B,o.A,c))),p.v=3,p.f&&p.f.ta(),p.V&&(p.N=sf()-t.u,p.c.info("Handshake RTT: "+p.N+"ms")),h=t,(o=p).la=Iv(o,o.C?o.ga:null,o.fa),h.C?(Vd(o.b,h),l=h,(f=o.D)&&l.setTimeout(f),l.o&&(rd(l),ed(l)),o.a=h):dv(o),0<p.g.length&&hv(p)):"stop"!=v[0]&&"close"!=v[0]||wv(p,7):3==p.v&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?wv(p,7):sv(p):"noop"!=v[0]&&p.f&&p.f.sa(v),p.o=0);Mp()}catch(t){}}function ad(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Zl(t)||"string"==typeof t)hf(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Zl(t)||"string"==typeof t)for(var n=[],r=t.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,t)n[r++]=i;for(var i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Zl(t))for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);else for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ud(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ud)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function cd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];hd(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)hd(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function hd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=zp.prototype).setTimeout=function(t){this.P=t},i.Wa=function(t){t=t.target;var e=this.F;e&&3==nv(t)?e.f():this.Ca(t)},i.Ca=function(t){try{if(t==this.a)t:{var e=nv(this.a),n=this.a.ua();this.a.X();if(!(e<3||3==e&&!Af&&!this.a.$())){this.A||4!=e||7==n||Mp(),rd(this);var r=this.a.X(),i=(this.N=r,this.a.$());if(this.b=200==r,u=this.c,c=this.m,h=this.l,l=this.f,f=this.T,p=e,d=r,u.info(function(){return"XMLHTTP RESP ("+l+") [ attempt "+f+"]: "+c+"\n"+h+"\n"+p+" "+d}),this.b){if(this.V&&!this.C){e:{if(this.a){var o,s=this.a;if((o=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pf(o)){var a=o;break e}}a=null}if(!a){this.b=!1,this.h=3,Up(),od(this),id(this);break t}Pp(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,sd(this,a)}this.I?(td(this,e,i),Af&&this.b&&3==e&&(kp(this.J,this.R,"tick",this.Va),this.R.start())):(Pp(this.c,this.f,i,null),sd(this,i)),4==e&&od(this),this.b&&!this.A&&(4==e?bv(this.g,this):(this.b=!1,ed(this)))}else 400==r&&0<i.indexOf("Unknown SID")?this.h=3:this.h=0,Up(),od(this),id(this)}}}catch(t){}var u,c,h,l,f,p,d},i.Va=function(){var t,e;this.a&&(t=nv(this.a),e=this.a.$(),this.D<e.length)&&(rd(this),td(this,t,e),this.b)&&4!=t&&ed(this)},i.cancel=function(){this.A=!0,od(this)},i.Ua=function(){this.o=null;var t,e,n=sf();0<=n-this.U?(t=this.c,e=this.l,t.info(function(){return"TIMEOUT: "+e}),2!=this.H&&(Mp(),Up()),od(this),this.h=2,id(this)):nd(this,this.U-n)},(i=ud.prototype).K=function(){cd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.L=function(){return cd(this),this.a.concat()},i.get=function(t,e){return hd(this.b,t)?this.b[t]:e},i.set=function(t,e){hd(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ld=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function fd(t,e){var n;this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof fd?(this.a=void 0!==e?e:t.a,dd(this,t.f),this.j=t.j,vd(this,t.c),yd(this,t.h),this.g=t.g,e=t.b,(n=new Ad).c=e.c,e.a&&(n.a=new ud(e.a),n.b=e.b),gd(this,n),this.i=t.i):t&&(n=String(t).match(ld))?(this.a=!!e,dd(this,n[1]||"",!0),this.j=_d(n[2]||""),vd(this,n[3]||"",!0),yd(this,n[4]),this.g=_d(n[5]||"",!0),gd(this,n[6]||"",!0),this.i=_d(n[7]||"")):(this.a=!!e,this.b=new Ad(null,this.a))}function pd(t){return new fd(t)}function dd(t,e,n){t.f=n?_d(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function vd(t,e,n){t.c=n?_d(e,!0):e}function yd(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.h=e}else t.h=null}function gd(t,e,n){var r,i;e instanceof Ad?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(kd(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Od(this,e),Pd(this,n,t))},r)),r.f=i):(n||(e=wd(e,Cd)),t.b=new Ad(e,t.a))}function md(t,e,n){t.b.set(e,n)}function bd(t){return md(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^sf()).toString(36)),t}function _d(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function wd(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ed),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):t):null}function Ed(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fd.prototype.toString=function(){var t=[],e=this.f,n=(e&&t.push(wd(e,Id,!0),":"),this.c);return!n&&"file"!=e||(t.push("//"),(e=this.j)&&t.push(wd(e,Id,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(wd(n,"/"==n.charAt(0)?Sd:Td,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",wd(n,Nd)),t.join("")};var Id=/[#\/\?@]/g,Td=/[#\?:]/g,Sd=/[#\?]/g,Cd=/[#\?@]/g,Nd=/#/g;function Ad(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function kd(t){if(!t.a&&(t.a=new ud,t.b=0,t.c)){var e=t.c;if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],i=r,o=o?decodeURIComponent(o.replace(/\+/g," ")):"",t.add(decodeURIComponent(i.replace(/\+/g," ")),o)}}}}function Od(t,e){kd(t),e=Dd(t,e),hd(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,hd((t=t.a).b,e))&&(delete t.b[e],t.c--,t.a.length>2*t.c)&&cd(t)}function Rd(t,e){return kd(t),e=Dd(t,e),hd(t.a.b,e)}function Pd(t,e,n){Od(t,e),0<n.length&&(t.c=null,t.a.set(Dd(t,e),ff(n)),t.b+=n.length)}function Dd(t,e){return e=String(e),e=t.f?e.toLowerCase():e}function xd(t,e){this.b=t,this.a=e}function Ld(t){this.g=t||10,t=C.PerformanceNavigationTiming?0<(t=C.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(C.ia&&C.ia.ya&&C.ia.ya()&&C.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(i=Ad.prototype).add=function(t,e){kd(this),this.c=null,t=Dd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(n,r){kd(this),this.a.forEach(function(t,e){hf(t,function(t){n.call(r,t,e,this)},this)},this)},i.L=function(){kd(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},i.K=function(t){kd(this);var e=[];if("string"==typeof t)Rd(this,t)&&(e=lf(e,this.a.get(Dd(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=lf(e,t[n])}return e},i.set=function(t,e){return kd(this),this.c=null,Rd(this,t=Dd(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.K(r),o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join("&")};function Md(t){return t.b||t.a&&t.a.size>=t.f}function Fd(t){return t.b?1:t.a?t.a.size:0}function Ud(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function jd(t,e){t.a?t.a.add(e):t.b=e}function Vd(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function qd(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return ff(t.c);var r=t.c;try{for(var i=Xl(t.a.values()),o=i.next();!o.done;o=i.next())var s=o.value,r=r.concat(s.s)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Bd(){}function Wd(){this.a=new Bd}function Gd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Ld.prototype.cancel=function(){var t,e;if(this.c=qd(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Xl(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Bd.prototype.stringify=function(t){return C.JSON.stringify(t,void 0)},Bd.prototype.parse=function(t){return C.JSON.parse(t,void 0)};var Hd=C.JSON.parse;function Kd(t){ap.call(this),this.headers=new ud,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=zd,this.D=this.F=!1}af(Kd,ap);var zd="",Qd=/^https?$/i,Yd=["POST","PUT"];function Xd(t){return"content-type"==t.toLowerCase()}function Jd(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,$d(t),tv(t)}function $d(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Zd(t){if(t.b&&(!t.s[1]||4!=nv(t)||2!=t.X()))if(t.l&&4==nv(t))wp(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==nv(t)){t.b=!1;try{var e,n,r,i,o=t.X();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break;default:s=!1}if((e=s)||((n=0===o)&&(!(i=String(t.B).match(ld)[1]||null)&&C.self&&C.self.location&&(i=(r=C.self.location.protocol).substr(0,r.length-1)),n=!Qd.test(i?i.toLowerCase():"")),e=n),e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<nv(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.X()+"]",$d(t)}}finally{tv(t)}}}function tv(t,e){if(t.a){ev(t);var n=t.a,r=t.s[0]?Jl:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function ev(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(C.clearTimeout(t.m),t.m=null)}function nv(t){return t.a?t.a.readyState:0}function rv(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i="",bf(n,function(t,e){i=(i=i+e+":")+t+"\r\n"}),n=i,"string"==typeof t?null!=n&&encodeURIComponent(String(n)):md(t,e,n))}function iv(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ov(t){this.pa=0,this.g=[],this.c=new Rp,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=iv("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=iv("baseRetryDelayMs",5e3,t),this.Ma=iv("retryDelaySeedMs",1e4,t),this.Ja=iv("forwardChannelMaxRetries",2,t),this.ma=iv("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ld(t&&t.concurrentRequestLimit),this.ka=new Wd,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function sv(t){var e,n;uv(t),3==t.v&&(e=t.R++,md(n=pd(t.B),"SID",t.J),md(n,"RID",e),md(n,"TYPE","terminate"),fv(t,n),(e=new zp(t,t.c,e,void 0)).H=2,e.i=bd(pd(n)),n=!1,!(n=C.navigator&&C.navigator.sendBeacon?C.navigator.sendBeacon(e.i.toString(),""):n)&&C.Image&&((new Image).src=e.i,n=!0),n||(e.a=Tv(e.g,null),e.a.ba(e.i)),e.u=sf(),ed(e)),Ev(t)}function av(t){t.a&&(yv(t),t.a.cancel(),t.a=null)}function uv(t){av(t),t.j&&(C.clearTimeout(t.j),t.j=null),mv(t),t.b.cancel(),t.h&&("number"==typeof t.h&&C.clearTimeout(t.h),t.h=null)}function cv(t,e){t.g.push(new xd(t.La++,e)),3==t.v&&hv(t)}function hv(t){Md(t.b)||t.h||(t.h=!0,vp(t.Ba,t),t.u=0)}function lv(t,e){var n=e?e.f:t.R++,r=pd(t.B);md(r,"SID",t.J),md(r,"RID",n),md(r,"AID",t.P),fv(t,r),t.i&&t.l&&rv(r,t.i,t.l),n=new zp(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=pv(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),jd(t.b,n),$p(n,r,e)}function fv(t,n){t.f&&ad({},function(t,e){md(n,e,t)})}function pv(t,e,n){n=Math.min(t.g.length,n);for(var r=t.f?rf(t.f.Ha,t.f,t):null,i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,r){var i="req"+c+"_"||"";try{ad(t,function(t,e){var n=t;tf(t)&&(n=cp(t)),r.push(i+e+"="+encodeURIComponent(n))})}catch(t){throw r.push(i+"type="+encodeURIComponent("_badmap")),t}}(h,s)}catch(t){r&&r(h)}}if(a){r=s.join("&");break}}return t=t.g.splice(0,n),e.s=t,r}function dv(t){t.a||t.j||(t.U=1,vp(t.Aa,t),t.o=0)}function vv(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=Vp(rf(t.Aa,t),_v(t,t.o)),t.o++,1)}function yv(t){null!=t.s&&(C.clearTimeout(t.s),t.s=null)}function gv(t){t.a=new zp(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=pd(t.la),n=(md(e,"RID","rpc"),md(e,"SID",t.J),md(e,"CI",t.H?"0":"1"),md(e,"AID",t.P),fv(t,e),md(e,"TYPE","xmlhttp"),t.i&&t.l&&rv(e,t.i,t.l),t.D&&t.a.setTimeout(t.D),t.a);t=t.ga,n.H=1,n.i=bd(pd(e)),n.j=null,n.I=!0,Zp(n,t)}function mv(t){null!=t.m&&(C.clearTimeout(t.m),t.m=null)}function bv(t,e){var n,r,i,o=null;if(t.a==e){mv(t),yv(t),t.a=null;var s=2}else{if(!Ud(t.b,e))return;o=e.s,Vd(t.b,e),s=1}if(t.I=e.N,0!=t.v)if(e.b)(1==s?(o=e.j?e.j.length:0,e=sf()-e.u,n=t.u,(s=xp()).dispatchEvent(new jp(s)),hv):dv)(t);else if(3==(n=e.h)||0==n&&0<t.I||(1!=s||(i=e,Fd((r=t).b)>=r.b.f-(r.h?1:0))||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||(r.Ia?0:r.Ja)<=r.u||(r.h=Vp(rf(r.Ba,r,i),_v(r,r.u)),r.u++,0)))&&(2!=s||!vv(t)))switch(o&&0<o.length&&(e=t.b,e.c=e.c.concat(o)),n){case 1:wv(t,5);break;case 4:wv(t,10);break;case 3:wv(t,6);break;default:wv(t,2)}}function _v(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function wv(t,e){var n,r,i,o;t.c.info("Error code "+e),2==e?(n=null,t.f&&(n=null),r=rf(t.Xa,t),n||(n=new fd("//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||dd(n,"https"),bd(n)),n=n.toString(),r=r,o=new Rp,C.Image?((i=new Image).onload=of(Gd,o,i,"TestLoadImage: loaded",!0,r),i.onerror=of(Gd,o,i,"TestLoadImage: error",!1,r),i.onabort=of(Gd,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=of(Gd,o,i,"TestLoadImage: timeout",!1,r),C.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n):r(!1)):Up(),t.v=0,t.f&&t.f.ra(e),Ev(t),uv(t)}function Ev(t){t.v=0,t.I=-1,t.f&&(0==qd(t.b).length&&0==t.g.length||(t.b.c.length=0,ff(t.g),t.g.length=0),t.f.qa())}function Iv(t,e,n){var r,i,o,s,a,u=(o=n)instanceof fd?pd(o):new fd(o,void 0);return""!=u.c?(e&&vd(u,e+"."+u.c),yd(u,u.h)):(r=(o=C.location).protocol,i=e?e+"."+o.hostname:o.hostname,o=+o.port,s=n,a=new fd(null,void 0),r&&dd(a,r),i&&vd(a,i),o&&yd(a,o),s&&(a.g=s),u=a),t.W&&bf(t.W,function(t,e){md(u,e,t)}),n=t.na,(e=t.A)&&n&&md(u,e,n),md(u,"VER",t.ha),fv(t,u),u}function Tv(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kd(t.Ka)).F=t.C,e}function Sv(){}function Cv(){if(Cf&&!(10<=Number(Mf)))throw Error("Environmental error: no available transport.")}function Nv(t,e){ap.call(this),this.a=new ov(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!pf(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pf(e)&&(this.a.A=e,null!==(t=this.b))&&e in t&&e in(t=this.b)&&delete t[e],this.f=new Ov(this)}function Av(t){Gp.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function kv(){Hp.call(this),this.status=1}function Ov(t){this.a=t}(i=Kd.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Bp(this.H):Bp(Qp),this.a.onreadystatechange=rf(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Jd(this,t)}t=n||"";var i,o=new ud(this.headers);r&&ad(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Xd,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:"string"==typeof t?t.charAt(e):t[e]}(o.L()),n=C.FormData&&t instanceof C.FormData,0<=cf(Yd,e)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{ev(this),0<this.o&&((this.D=(i=this.a,Cf&&Lf(9)&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=rf(this.xa,this)):this.m=wp(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Jd(this,t)}},i.xa=function(){this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),tv(this))},i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),tv(this,!0)),Kd.S.G.call(this)},i.za=function(){this.j||(this.A||this.l||this.g?Zd(this):this.Ta())},i.Ta=function(){Zd(this)},i.X=function(){try{return 2<nv(this)?this.a.status:-1}catch(t){return-1}},i.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},i.Na=function(t){var e;if(this.a)return e=this.a.responseText,t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hd(e)},i.ua=function(){return this.h},i.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(i=ov.prototype).ha=8,i.v=1,i.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new zp(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Ef(r=_f(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=pv(this,n,e),md(i=pd(this.B),"RID",t),md(i,"CVER",22),this.A&&md(i,"X-HTTP-Session-Id",this.A),fv(this,i),this.i&&r&&rv(i,this.i,r),jd(this.b,n),this.Ga&&md(i,"TYPE","init"),this.da?(md(i,"$req",e),md(i,"SID","null"),n.V=!0,$p(n,i,null)):$p(n,i,e),this.v=2}}else 3==this.v&&(t?lv(this,t):0==this.g.length||Md(this.b)||lv(this))},i.Aa=function(){var t;this.j=null,gv(this),this.V&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info("BP detection timer enabled: "+t),this.s=Vp(rf(this.Sa,this),t))},i.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,av(this),gv(this))},i.Ra=function(){null!=this.m&&(this.m=null,av(this),vv(this),Up())},i.Xa=function(t){t?this.c.info("Successfully pinged google.com"):this.c.info("Failed to ping google.com"),Up()},(i=Sv.prototype).ta=function(){},i.sa=function(){},i.ra=function(){},i.qa=function(){},i.Ha=function(){},Cv.prototype.a=function(t,e){return new Nv(t,e)},af(Nv,ap),(i=Nv.prototype).addEventListener=function(t,e,n,r){Nv.S.addEventListener.call(this,t,e,n,r)},i.removeEventListener=function(t,e,n,r){Nv.S.removeEventListener.call(this,t,e,n,r)},i.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Up(),t.fa=e,t.W=n||{},t.H=t.T,t.B=Iv(t,null,t.fa),hv(t)},i.close=function(){sv(this.a)},i.Pa=function(t){var e;"string"==typeof t?((e={}).__data__=t,cv(this.a,e)):this.g?((e={}).__data__=cp(t),cv(this.a,e)):cv(this.a,t)},i.G=function(){this.a.f=null,delete this.f,sv(this.a),delete this.a,Nv.S.G.call(this)},af(Av,Gp),af(kv,Hp),af(Ov,Sv),Ov.prototype.ta=function(){this.a.dispatchEvent("a")},Ov.prototype.sa=function(t){this.a.dispatchEvent(new Av(t))},Ov.prototype.ra=function(t){this.a.dispatchEvent(new kv)},Ov.prototype.qa=function(){this.a.dispatchEvent("b")},Cv.prototype.createWebChannel=Cv.prototype.a,Nv.prototype.send=Nv.prototype.Pa,Nv.prototype.open=Nv.prototype.Oa,r.NO_ERROR=0,r.TIMEOUT=8,r.HTTP_ERROR=6,_t.COMPLETE="complete",(Wp.EventType=n).OPEN="a",n.CLOSE="b",n.ERROR="c",n.MESSAGE="d",ap.prototype.listen=ap.prototype.va,Kd.prototype.listenOnce=Kd.prototype.wa,Kd.prototype.getLastError=Kd.prototype.Qa,Kd.prototype.getLastErrorCode=Kd.prototype.ua,Kd.prototype.getStatus=Kd.prototype.X,Kd.prototype.getResponseJson=Kd.prototype.Na,Kd.prototype.getResponseText=Kd.prototype.$,Kd.prototype.send=Kd.prototype.ba;var Rv,t={createWebChannelTransport:function(){return new Cv},ErrorCode:r,EventType:_t,WebChannel:Wp,XhrIo:Kd},Pv=t.createWebChannelTransport,Dv=t.ErrorCode,xv=t.EventType,Lv=t.WebChannel,Mv=t.XhrIo,N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=(o(Uv,Rv=Error),Uv),Fv=new ia("@firebase/firestore");function Uv(t,e){var n=this;return(n=Rv.call(this,e)||this).code=t,n.message=e,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function jv(){return Fv.logLevel}function k(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Fv.logLevel<=v.DEBUG&&(e=n.map(Bv),Fv.debug.apply(Fv,Zo(["Firestore (7.22.0): "+t],e)))}function Vv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Fv.logLevel<=v.ERROR&&(e=n.map(Bv),Fv.error.apply(Fv,Zo(["Firestore (7.22.0): "+t],e)))}function qv(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Fv.logLevel<=v.WARN&&(e=n.map(Bv),Fv.warn.apply(Fv,Zo(["Firestore (7.22.0): "+t],e)))}function Bv(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function O(t){t="FIRESTORE (7.22.0) INTERNAL ASSERTION FAILED: "+(t=void 0===t?"Unexpected state":t);throw Vv(t),new Error(t)}function R(t){t||O()}function Wv(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Gv(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hv(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}Object.defineProperty(ty.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),ty.prototype.isEqual=function(t){return 0===ty.i(this,t)},ty.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof ty?t.forEach(function(t){e.push(t)}):e.push(t),this.o(e)},ty.prototype.limit=function(){return this.offset+this.length},ty.prototype.u=function(t){return this.o(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},ty.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},ty.prototype.l=function(){return this.segments[this.offset]},ty.prototype._=function(){return this.get(this.length-1)},ty.prototype.get=function(t){return this.segments[this.offset+t]},ty.prototype.m=function(){return 0===this.length},ty.prototype.T=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ty.prototype.I=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ty.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},ty.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},ty.i=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:e.length<t.length?1:0};var Kv,zv,Ct=ty,Qv=(o(Zv,zv=Ct),Zv.prototype.o=function(t,e,n){return new Zv(t,e,n)},Zv.prototype.R=function(){return this.A().join("/")},Zv.prototype.toString=function(){return this.R()},Zv.P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new A(N.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter(function(t){return 0<t.length}))}return new Zv(n)},Zv.g=function(){return new Zv([])},Zv),Yv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xv=(o($v,Kv=Ct),$v.prototype.o=function(t,e,n){return new $v(t,e,n)},$v.V=function(t){return Yv.test(t)},$v.prototype.R=function(){return this.A().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),t=$v.V(t)?t:"`"+t+"`"}).join(".")},$v.prototype.toString=function(){return this.R()},$v.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},$v.v=function(){return new $v(["__name__"])},$v.S=function(t){for(var e=[],n="",r=0,i=function(){if(0===n.length)throw new A(N.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(n),n=""},o=!1;r<t.length;){var s=t[r];if("\\"===s){if(r+1===t.length)throw new A(N.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[r+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new A(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=a,r+=2}else"`"===s?o=!o:"."!==s||o?n+=s:i(),r++}if(i(),o)throw new A(N.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $v(e)},$v.g=function(){return new $v([])},$v),P=(Jv.D=function(t){return new Jv(Qv.P(t))},Jv.C=function(t){return new Jv(Qv.P(t).u(5))},Jv.prototype.N=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},Jv.prototype.isEqual=function(t){return null!==t&&0===Qv.i(this.path,t.path)},Jv.prototype.toString=function(){return this.path.toString()},Jv.i=function(t,e){return Qv.i(t.path,e.path)},Jv.F=function(t){return t.length%2==0},Jv.$=function(t){return new Jv(new Qv(t.slice()))},Jv);function Jv(t){this.path=t}function $v(){return null!==Kv&&Kv.apply(this,arguments)||this}function Zv(){return null!==zv&&zv.apply(this,arguments)||this}function ty(t,e,n){void 0===e?e=0:e>t.length&&O(),void 0===n?n=t.length-e:n>t.length-e&&O(),this.segments=t,this.offset=e,this.t=n}function ey(t,e){if(0!==e.length)throw new A(N.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+by(e.length,"argument")+".")}function ny(t,e,n){if(e.length!==n)throw new A(N.INVALID_ARGUMENT,"Function "+t+"() requires "+by(n,"argument")+", but was called with "+by(e.length,"argument")+".")}function ry(t,e,n){if(e.length<n)throw new A(N.INVALID_ARGUMENT,"Function "+t+"() requires at least "+by(n,"argument")+", but was called with "+by(e.length,"argument")+".")}function iy(t,e,n,r){if(e.length<n||r<e.length)throw new A(N.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+by(e.length,"argument")+".")}function oy(t,e,n,r){ly(t,e,my(n)+" argument",r)}function sy(t,e,n,r){void 0!==r&&oy(t,e,n,r)}function ay(t,e,n,r){ly(t,e,n+" option",r)}function uy(t,e,n,r){void 0!==r&&ay(t,e,n,r)}function cy(t,e,n,r,i){if(void 0!==r){for(var o=r,s=[],a=0,u=i;a<u.length;a++){var c=u[a];if(c===o)return;s.push(py(c))}r=py(o);throw new A(N.INVALID_ARGUMENT,"Invalid value "+r+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}}function hy(t,e,n,r){if(e.some(function(t){return t===r}))return r;throw new A(N.INVALID_ARGUMENT,"Invalid value "+py(r)+" provided to function "+t+"() for its "+my(n)+" argument. Acceptable values: "+e.join(", "))}function ly(t,e,n,r){if(!("object"===e?fy(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e))throw r=py(r),new A(N.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}function fy(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function py(e){var t;return void 0===e?"undefined":null===e?"null":"string"==typeof e?(20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e)):"number"==typeof e||"boolean"==typeof e?""+e:"object"!=typeof e?"function"==typeof e?"a function":O():e instanceof Array?"an array":(t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}())?"a custom "+t+" object":"an object"}function dy(t,e,n){if(void 0===n)throw new A(N.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+my(e)+" argument, but it was undefined.")}function vy(n,t,r){Gv(t,function(t,e){if(r.indexOf(t)<0)throw new A(N.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+n+"(). Available options: "+r.join(", "))})}function yy(t,e,n,r){r=py(r);return new A(N.INVALID_ARGUMENT,"Function "+t+"() requires its "+my(n)+" argument to be a "+e+", but it was: "+r)}function gy(t,e,n){if(n<=0)throw new A(N.INVALID_ARGUMENT,"Function "+t+"() requires its "+my(e)+" argument to be a positive number, but it was: "+n+".")}function my(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function by(t,e){return t+" "+e+(1===t?"":"s")}wy.k=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=function(){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(var n=0;n<40;n++)e[n]=Math.floor(256*Math.random());return e}(),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n};var _y=wy;function wy(){}function D(t,e){return t<e?-1:e<t?1:0}function Ey(t,n,r){return t.length===n.length&&t.every(function(t,e){return r(t,n[e])})}function Iy(t){return t+"\0"}Sy.fromBase64String=function(t){return new Sy(atob(t))},Sy.fromUint8Array=function(t){return new Sy(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},Sy.prototype.toBase64=function(){return t=this.M,btoa(t);var t},Sy.prototype.toUint8Array=function(){for(var t=this.M,e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e},Sy.prototype.O=function(){return 2*this.M.length},Sy.prototype.L=function(t){return D(this.M,t.M)},Sy.prototype.isEqual=function(t){return this.M===t.M};var Ty=Sy;function Sy(t){this.M=t}Ty.B=new Ty("");Ny.fromBase64String=function(t){try{return new Ny(Ty.fromBase64String(t))}catch(t){throw new A(N.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},Ny.fromUint8Array=function(t){return new Ny(Ty.fromUint8Array(t))},Ny.prototype.toBase64=function(){return this.q.toBase64()},Ny.prototype.toUint8Array=function(){return this.q.toUint8Array()},Ny.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},Ny.prototype.isEqual=function(t){return this.q.isEqual(t.q)};var Cy=Ny;function Ny(t){this.q=t}function Ay(){if("undefined"==typeof Uint8Array)throw new A(N.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ky(){if("undefined"==typeof atob)throw new A(N.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function Oy(t,e,n,r,i){this.U=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}o(qy,Ry=Cy),qy.fromBase64String=function(t){ny("Blob.fromBase64String",arguments,1),oy("Blob.fromBase64String","string",1,t),ky();try{return new qy(Ty.fromBase64String(t))}catch(t){throw new A(N.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},qy.fromUint8Array=function(t){if(ny("Blob.fromUint8Array",arguments,1),Ay(),t instanceof Uint8Array)return new qy(Ty.fromUint8Array(t));throw yy("Blob.fromUint8Array","Uint8Array",1,t)},qy.prototype.toBase64=function(){return ny("Blob.toBase64",arguments,0),ky(),Ry.prototype.toBase64.call(this)},qy.prototype.toUint8Array=function(){return ny("Blob.toUint8Array",arguments,0),Ay(),Ry.prototype.toUint8Array.call(this)},qy.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"};var Ry,Py=qy,Dy=(Object.defineProperty(Vy.prototype,"W",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),Vy.prototype.isEqual=function(t){return t instanceof Vy&&t.projectId===this.projectId&&t.database===this.database},Vy.prototype.L=function(t){return D(this.projectId,t.projectId)||D(this.database,t.database)},Vy),xy=(jy.prototype.get=function(t){var e=this.j(t),e=this.G[e];if(void 0!==e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];if(this.K(o,t))return i}},jy.prototype.has=function(t){return void 0!==this.get(t)},jy.prototype.set=function(t,e){var n=this.j(t),r=this.G[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.K(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.G[n]=[[t,e]]},jy.prototype.delete=function(t){var e=this.j(t),n=this.G[e];if(void 0!==n)for(var r=0;r<n.length;r++)if(this.K(n[r][0],t))return 1===n.length?delete this.G[e]:n.splice(r,1),!0;return!1},jy.prototype.forEach=function(s){Gv(this.G,function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0];s(o,i[1])}})},jy.prototype.m=function(){return Hv(this.G)},jy),Ly=(Uy.now=function(){return Uy.fromMillis(Date.now())},Uy.fromDate=function(t){return Uy.fromMillis(t.getTime())},Uy.fromMillis=function(t){var e=Math.floor(t/1e3);return new Uy(e,1e6*(t-1e3*e))},Uy.prototype.toDate=function(){return new Date(this.toMillis())},Uy.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Uy.prototype.H=function(t){return this.seconds===t.seconds?D(this.nanoseconds,t.nanoseconds):D(this.seconds,t.seconds)},Uy.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Uy.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Uy.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Uy.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Uy),My=(Fy.Y=function(t){return new Fy(t)},Fy.min=function(){return new Fy(new Ly(0,0))},Fy.prototype.L=function(t){return this.timestamp.H(t.timestamp)},Fy.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Fy.prototype.J=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Fy.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Fy.prototype.X=function(){return this.timestamp},Fy);function Fy(t){this.timestamp=t}function Uy(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new A(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(1e9<=e)throw new A(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new A(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(253402300800<=t)throw new A(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}function jy(t,e){this.j=t,this.K=e,this.G={}}function Vy(t,e){this.projectId=t,this.database=e||"(default)"}function qy(){return null!==Ry&&Ry.apply(this,arguments)||this}function By(t){return null==t}function Wy(t){return 0===t&&1/t==-1/0}function Gy(t){return"number"==typeof t&&Number.isInteger(t)&&!Wy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Hy=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.Z=null};function Ky(t,e,n,r,i,o,s){return new Hy(t,e=void 0===e?null:e,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,s=void 0===s?null:s)}function zy(t){var e;return null===t.Z&&(e=t.path.R(),null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e=(e=(e+="|f:")+t.filters.map(function(t){return(t=t).field.R()+t.op.toString()+Kg(t.value)}).join(",")+"|ob:")+t.orderBy.map(function(t){return(t=t).field.R()+t.dir}).join(","),By(t.limit)||(e=e+"|l:"+t.limit),t.startAt&&(e=(e+="|lb:")+S_(t.startAt)),t.endAt&&(e=(e+="|ub:")+S_(t.endAt)),t.Z=e),t.Z}function Qy(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,s,a=0;a<t.filters.length;a++)if(o=t.filters[a],s=e.filters[a],o.op!==s.op||!o.field.isEqual(s.field)||!Bg(o.value,s.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N_(t.startAt,e.startAt)&&N_(t.endAt,e.endAt)}function Yy(t){return P.F(t.path)&&null===t.collectionGroup&&0===t.filters.length}function Xy(t){this.count=t}Zy.prototype.nt=function(t){return new Zy(this.target,this.targetId,this.tt,t,this.et,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Zy.prototype.st=function(t,e){return new Zy(this.target,this.targetId,this.tt,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Zy.prototype.it=function(t){return new Zy(this.target,this.targetId,this.tt,this.sequenceNumber,this.et,t,this.resumeToken)};var Jy,$y=Zy;function Zy(t,e,n,r,i,o,s){void 0===i&&(i=My.min()),void 0===o&&(o=My.min()),void 0===s&&(s=Ty.B),this.target=t,this.targetId=e,this.tt=n,this.sequenceNumber=r,this.et=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function tg(t){switch(t){case N.OK:return O(),0;case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return 1;default:return O(),0}}function eg(t){if(void 0===t)return Vv("GRPC error has no .code"),N.UNKNOWN;switch(t){case Jy.OK:return N.OK;case Jy.CANCELLED:return N.CANCELLED;case Jy.UNKNOWN:return N.UNKNOWN;case Jy.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Jy.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Jy.INTERNAL:return N.INTERNAL;case Jy.UNAVAILABLE:return N.UNAVAILABLE;case Jy.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Jy.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Jy.NOT_FOUND:return N.NOT_FOUND;case Jy.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Jy.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Jy.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Jy.ABORTED:return N.ABORTED;case Jy.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Jy.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Jy.DATA_LOSS:return N.DATA_LOSS;default:return O()}}Jy={OK:0,0:"OK",CANCELLED:1,1:"CANCELLED",UNKNOWN:2,2:"UNKNOWN",INVALID_ARGUMENT:3,3:"INVALID_ARGUMENT",DEADLINE_EXCEEDED:4,4:"DEADLINE_EXCEEDED",NOT_FOUND:5,5:"NOT_FOUND",ALREADY_EXISTS:6,6:"ALREADY_EXISTS",PERMISSION_DENIED:7,7:"PERMISSION_DENIED",UNAUTHENTICATED:16,16:"UNAUTHENTICATED",RESOURCE_EXHAUSTED:8,8:"RESOURCE_EXHAUSTED",FAILED_PRECONDITION:9,9:"FAILED_PRECONDITION",ABORTED:10,10:"ABORTED",OUT_OF_RANGE:11,11:"OUT_OF_RANGE",UNIMPLEMENTED:12,12:"UNIMPLEMENTED",INTERNAL:13,13:"INTERNAL",UNAVAILABLE:14,14:"UNAVAILABLE",DATA_LOSS:15,15:"DATA_LOSS"};ag.prototype.rt=function(t,e){return new ag(this.i,this.root.rt(t,e,this.i).copy(null,null,ig.ot,null,null))},ag.prototype.remove=function(t){return new ag(this.i,this.root.remove(t,this.i).copy(null,null,ig.ot,null,null))},ag.prototype.get=function(t){for(var e=this.root;!e.m();){var n=this.i(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},ag.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.m();){var r=this.i(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},ag.prototype.m=function(){return this.root.m()},Object.defineProperty(ag.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),ag.prototype.at=function(){return this.root.at()},ag.prototype.ct=function(){return this.root.ct()},ag.prototype.ut=function(t){return this.root.ut(t)},ag.prototype.forEach=function(n){this.ut(function(t,e){return n(t,e),!1})},ag.prototype.toString=function(){var n=[];return this.ut(function(t,e){return n.push(t+":"+e),!1}),"{"+n.join(", ")+"}"},ag.prototype.ht=function(t){return this.root.ht(t)},ag.prototype.lt=function(){return new rg(this.root,null,this.i,!1)},ag.prototype._t=function(t){return new rg(this.root,t,this.i,!1)},ag.prototype.ft=function(){return new rg(this.root,null,this.i,!0)},ag.prototype.dt=function(t){return new rg(this.root,t,this.i,!0)};var ng=ag,rg=(sg.prototype.Et=function(){var t=this.Tt.pop(),e={key:t.key,value:t.value};if(this.wt)for(t=t.left;!t.m();)this.Tt.push(t),t=t.right;else for(t=t.right;!t.m();)this.Tt.push(t),t=t.left;return e},sg.prototype.It=function(){return 0<this.Tt.length},sg.prototype.At=function(){var t;return 0===this.Tt.length?null:{key:(t=this.Tt[this.Tt.length-1]).key,value:t.value}},sg),ig=(og.prototype.copy=function(t,e,n,r,i){return new og(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},og.prototype.m=function(){return!1},og.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},og.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},og.prototype.min=function(){return this.left.m()?this:this.left.min()},og.prototype.at=function(){return this.min().key},og.prototype.ct=function(){return this.right.m()?this.key:this.right.ct()},og.prototype.rt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.rt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.rt(t,e,n))).Rt()},og.prototype.Pt=function(){var t;return this.left.m()?og.EMPTY:(t=(t=(t=this).left.gt()||t.left.left.gt()?t:t.yt()).copy(null,null,null,t.left.Pt(),null)).Rt()},og.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=r.left.m()||r.left.gt()||r.left.left.gt()?r:r.yt()).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=(r=r.left.gt()?r.Vt():r).right.m()||r.right.gt()||r.right.left.gt()?r:r.bt()).key)){if(r.right.m())return og.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.Pt())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.Rt()},og.prototype.gt=function(){return this.color},og.prototype.Rt=function(){var t=this;return t=(t=(t=t.right.gt()&&!t.left.gt()?t.vt():t).left.gt()&&t.left.left.gt()?t.Vt():t).left.gt()&&t.right.gt()?t.St():t},og.prototype.yt=function(){var t=this.St();return t=t.right.left.gt()?(t=(t=t.copy(null,null,null,null,t.right.Vt())).vt()).St():t},og.prototype.bt=function(){var t=this.St();return t=t.left.left.gt()?(t=t.Vt()).St():t},og.prototype.vt=function(){var t=this.copy(null,null,og.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},og.prototype.Vt=function(){var t=this.copy(null,null,og.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},og.prototype.St=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},og.prototype.Dt=function(){var t=this.Ct();return Math.pow(2,t)<=this.size+1},og.prototype.Ct=function(){if(this.gt()&&this.left.gt())throw O();if(this.right.gt())throw O();var t=this.left.Ct();if(t!==this.right.Ct())throw O();return t+(this.gt()?0:1)},og);function og(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:og.RED,this.left=null!=r?r:og.EMPTY,this.right=null!=i?i:og.EMPTY,this.size=this.left.size+1+this.right.size}function sg(t,e,n,r){this.wt=r,this.Tt=[];for(var i=1;!t.m();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.wt?t.left:t.right;else{if(0===i){this.Tt.push(t);break}this.Tt.push(t),t=this.wt?t.right:t.left}}function ag(t,e){this.i=t,this.root=e||ig.EMPTY}function ug(){this.size=0}ig.EMPTY=null,ig.RED=!0,ig.ot=!1,ig.EMPTY=(Object.defineProperty(ug.prototype,"key",{get:function(){throw O()},enumerable:!1,configurable:!0}),Object.defineProperty(ug.prototype,"value",{get:function(){throw O()},enumerable:!1,configurable:!0}),Object.defineProperty(ug.prototype,"color",{get:function(){throw O()},enumerable:!1,configurable:!0}),Object.defineProperty(ug.prototype,"left",{get:function(){throw O()},enumerable:!1,configurable:!0}),Object.defineProperty(ug.prototype,"right",{get:function(){throw O()},enumerable:!1,configurable:!0}),ug.prototype.copy=function(t,e,n,r,i){return this},ug.prototype.rt=function(t,e,n){return new ig(t,e)},ug.prototype.remove=function(t,e){return this},ug.prototype.m=function(){return!0},ug.prototype.ut=function(t){return!1},ug.prototype.ht=function(t){return!1},ug.prototype.at=function(){return null},ug.prototype.ct=function(){return null},ug.prototype.gt=function(){return!1},ug.prototype.Dt=function(){return!0},ug.prototype.Ct=function(){return 0},new ug);pg.prototype.has=function(t){return null!==this.data.get(t)},pg.prototype.first=function(){return this.data.at()},pg.prototype.last=function(){return this.data.ct()},Object.defineProperty(pg.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),pg.prototype.indexOf=function(t){return this.data.indexOf(t)},pg.prototype.forEach=function(n){this.data.ut(function(t,e){return n(t),!1})},pg.prototype.Nt=function(t,e){for(var n=this.data._t(t[0]);n.It();){var r=n.Et();if(0<=this.i(r.key,t[1]))return;e(r.key)}},pg.prototype.Ft=function(t,e){for(var n=void 0!==e?this.data._t(e):this.data.lt();n.It();)if(!t(n.Et().key))return},pg.prototype.$t=function(t){t=this.data._t(t);return t.It()?t.Et().key:null},pg.prototype.lt=function(){return new hg(this.data.lt())},pg.prototype._t=function(t){return new hg(this.data._t(t))},pg.prototype.add=function(t){return this.copy(this.data.remove(t).rt(t,!0))},pg.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},pg.prototype.m=function(){return this.data.m()},pg.prototype.xt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},pg.prototype.isEqual=function(t){if(!(t instanceof pg))return!1;if(this.size!==t.size)return!1;for(var e=this.data.lt(),n=t.data.lt();e.It();){var r=e.Et().key,i=n.Et().key;if(0!==this.i(r,i))return!1}return!0},pg.prototype.A=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},pg.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},pg.prototype.copy=function(t){var e=new pg(this.i);return e.data=t,e};var cg=pg,hg=(fg.prototype.Et=function(){return this.kt.Et().key},fg.prototype.It=function(){return this.kt.It()},fg),lg=new ng(P.i);function fg(t){this.kt=t}function pg(t){this.i=t,this.data=new ng(this.i)}var dg=new ng(P.i),vg=new ng(P.i),yg=new cg(P.i);function gg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=yg,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var mg=new cg(D),bg=(Lg.Lt=function(t){return new Lg(t.i)},Lg.prototype.has=function(t){return null!=this.Mt.get(t)},Lg.prototype.get=function(t){return this.Mt.get(t)},Lg.prototype.first=function(){return this.Ot.at()},Lg.prototype.last=function(){return this.Ot.ct()},Lg.prototype.m=function(){return this.Ot.m()},Lg.prototype.indexOf=function(t){t=this.Mt.get(t);return t?this.Ot.indexOf(t):-1},Object.defineProperty(Lg.prototype,"size",{get:function(){return this.Ot.size},enumerable:!1,configurable:!0}),Lg.prototype.forEach=function(n){this.Ot.ut(function(t,e){return n(t),!1})},Lg.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Mt.rt(t.key,t),e.Ot.rt(t,null))},Lg.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Mt.remove(t),this.Ot.remove(e)):this},Lg.prototype.isEqual=function(t){if(!(t instanceof Lg))return!1;if(this.size!==t.size)return!1;for(var e=this.Ot.lt(),n=t.Ot.lt();e.It();){var r=e.Et().key,i=n.Et().key;if(!r.isEqual(i))return!1}return!0},Lg.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Lg.prototype.copy=function(t,e){var n=new Lg;return n.i=this.i,n.Mt=t,n.Ot=e,n},Lg),_g=(xg.prototype.track=function(t){var e=t.doc.key,n=this.Bt.get(e);!n||0!==t.type&&3===n.type?this.Bt=this.Bt.rt(e,t):3===t.type&&1!==n.type?this.Bt=this.Bt.rt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Bt=this.Bt.rt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Bt=this.Bt.remove(e):1===t.type&&2===n.type?this.Bt=this.Bt.rt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Bt=this.Bt.rt(e,{type:2,doc:t.doc}):O()},xg.prototype.qt=function(){var n=[];return this.Bt.ut(function(t,e){n.push(e)}),n},xg),wg=(Dg.Kt=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new Dg(t,e,bg.Lt(e),i,n,r,!0,!1)},Object.defineProperty(Dg.prototype,"hasPendingWrites",{get:function(){return!this.Qt.m()},enumerable:!1,configurable:!0}),Dg.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Wt===t.Wt&&this.Qt.isEqual(t.Qt)&&Qb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ut.isEqual(t.Ut)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},Dg),Eg=(Pg.Jt=function(t,e){var n=new Map;return n.set(t,Ig.Xt(t,e)),new Pg(My.min(),n,mg,lg,gg())},Pg),Ig=(Rg.Xt=function(t,e){return new Rg(Ty.B,e,gg(),gg(),gg())},Rg),Tg=function(t,e,n,r){this.se=t,this.removedTargetIds=e,this.key=n,this.ie=r},Sg=function(t,e){this.targetId=t,this.re=e},Cg=function(t,e,n,r){void 0===n&&(n=Ty.B),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ng=(Object.defineProperty(Og.prototype,"Zt",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(Og.prototype,"resumeToken",{get:function(){return this.ce},enumerable:!1,configurable:!0}),Object.defineProperty(Og.prototype,"le",{get:function(){return 0!==this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(Og.prototype,"_e",{get:function(){return this.he},enumerable:!1,configurable:!0}),Og.prototype.fe=function(t){0<t.O()&&(this.he=!0,this.ce=t)},Og.prototype.de=function(){var n=gg(),r=gg(),i=gg();return this.ae.forEach(function(t,e){switch(e){case 0:n=n.add(t);break;case 2:r=r.add(t);break;case 1:i=i.add(t);break;default:O()}}),new Ig(this.ce,this.ue,n,r,i)},Og.prototype.we=function(){this.he=!1,this.ae=Fg()},Og.prototype.me=function(t,e){this.he=!0,this.ae=this.ae.rt(t,e)},Og.prototype.Te=function(t){this.he=!0,this.ae=this.ae.remove(t)},Og.prototype.Ee=function(){this.oe+=1},Og.prototype.Ie=function(){--this.oe},Og.prototype.Ae=function(){this.he=!0,this.ue=!0},Og),Ag=(kg.prototype.pe=function(t){for(var e=0,n=t.se;e<n.length;e++){var r=n[e];t.ie instanceof kb?this.be(r,t.ie):t.ie instanceof Ob&&this.ve(r,t.key,t.ie)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ve(s,t.key,t.ie)}},kg.prototype.Se=function(n){var r=this;this.De(n,function(t){var e=r.Ce(t);switch(n.state){case 0:r.Ne(t)&&e.fe(n.resumeToken);break;case 1:e.Ie(),e.le||e.we(),e.fe(n.resumeToken);break;case 2:e.Ie(),e.le||r.removeTarget(t);break;case 3:r.Ne(t)&&(e.Ae(),e.fe(n.resumeToken));break;case 4:r.Ne(t)&&(r.Fe(t),e.fe(n.resumeToken));break;default:O()}})},kg.prototype.De=function(t,n){var r=this;0<t.targetIds.length?t.targetIds.forEach(n):this.Pe.forEach(function(t,e){r.Ne(e)&&n(e)})},kg.prototype.$e=function(t){var e=t.targetId,t=t.re.count,n=this.xe(e);n&&(Yy(n=n.target)?0===t?(n=new P(n.path),this.ve(e,n,new Ob(n,My.min()))):R(1===t):this.ke(e)!==t&&(this.Fe(e),this.Ve=this.Ve.add(e)))},kg.prototype.Me=function(r){var i=this,o=new Map,s=(this.Pe.forEach(function(t,e){var n=i.xe(e);n&&(t.Zt&&Yy(n.target)&&(n=new P(n.target.path),null!==i.ge.get(n)||i.Oe(e,n)||i.ve(e,n,new Ob(n,r))),t._e)&&(o.set(e,t.de()),t.we())}),gg()),t=(this.ye.forEach(function(t,e){var n=!0;e.Ft(function(t){t=i.xe(t);return!t||2===t.tt||(n=!1)}),n&&(s=s.add(t))}),new Eg(r,o,this.Ve,this.ge,s));return this.ge=lg,this.ye=Mg(),this.Ve=new cg(D),t},kg.prototype.be=function(t,e){var n;this.Ne(t)&&(n=this.Oe(t,e.key)?2:0,this.Ce(t).me(e.key,n),this.ge=this.ge.rt(e.key,e),this.ye=this.ye.rt(e.key,this.Le(e.key).add(t)))},kg.prototype.ve=function(t,e,n){var r;this.Ne(t)&&(r=this.Ce(t),this.Oe(t,e)?r.me(e,1):r.Te(e),this.ye=this.ye.rt(e,this.Le(e).delete(t)),n)&&(this.ge=this.ge.rt(e,n))},kg.prototype.removeTarget=function(t){this.Pe.delete(t)},kg.prototype.ke=function(t){var e=this.Ce(t).de();return this.Re.Be(t).size+e.te.size-e.ne.size},kg.prototype.Ee=function(t){this.Ce(t).Ee()},kg.prototype.Ce=function(t){var e=this.Pe.get(t);return e||(e=new Ng,this.Pe.set(t,e)),e},kg.prototype.Le=function(t){var e=this.ye.get(t);return e||(e=new cg(D),this.ye=this.ye.rt(t,e)),e},kg.prototype.Ne=function(t){var e=null!==this.xe(t);return e||k("WatchChangeAggregator","Detected inactive target",t),e},kg.prototype.xe=function(t){var e=this.Pe.get(t);return e&&e.le?null:this.Re.qe(t)},kg.prototype.Fe=function(e){var n=this;this.Pe.set(e,new Ng),this.Re.Be(e).forEach(function(t){n.ve(e,t,null)})},kg.prototype.Oe=function(t,e){return this.Re.Be(t).has(e)},kg);function kg(t){this.Re=t,this.Pe=new Map,this.ge=lg,this.ye=Mg(),this.Ve=new cg(D)}function Og(){this.oe=0,this.ae=Fg(),this.ce=Ty.B,this.ue=!1,this.he=!0}function Rg(t,e,n,r,i){this.resumeToken=t,this.Zt=e,this.te=n,this.ee=r,this.ne=i}function Pg(t,e,n,r,i){this.et=t,this.Gt=e,this.zt=n,this.Ht=r,this.Yt=i}function Dg(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ut=n,this.docChanges=r,this.Qt=i,this.fromCache=o,this.Wt=s,this.jt=a}function xg(){this.Bt=new ng(P.i)}function Lg(n){this.i=n?function(t,e){return n(t,e)||P.i(t.key,e.key)}:function(t,e){return P.i(t.key,e.key)},this.Mt=dg,this.Ot=new ng(this.i)}function Mg(){return new ng(P.i)}function Fg(){return new ng(P.i)}function Ug(t){return"server_timestamp"===(null==(t=((null==(t=null==t?void 0:t.mapValue)?void 0:t.fields)||{}).__type__)?void 0:t.stringValue)}function jg(t){t=zg(t.mapValue.fields.__local_write_time__.timestampValue);return new Ly(t.seconds,t.nanos)}var Vg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qg(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ug(t)?4:10:O()}function Bg(t,e){var n,r,i,o,s=qg(t);if(s!==qg(e))return!1;switch(s){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jg(t).isEqual(jg(e));case 3:return i=e,"string"==typeof t.timestampValue&&"string"==typeof i.timestampValue&&t.timestampValue.length===i.timestampValue.length?t.timestampValue===i.timestampValue:(o=zg(t.timestampValue),i=zg(i.timestampValue),o.seconds===i.seconds&&o.nanos===i.nanos);case 5:return t.stringValue===e.stringValue;case 6:return o=e,Yg(t.bytesValue).isEqual(Yg(o.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return i=e,Qg((r=t).geoPointValue.latitude)===Qg(i.geoPointValue.latitude)&&Qg(r.geoPointValue.longitude)===Qg(i.geoPointValue.longitude);case 2:return r=e,"integerValue"in(n=t)&&"integerValue"in r?Qg(n.integerValue)===Qg(r.integerValue):"doubleValue"in n&&"doubleValue"in r&&((n=Qg(n.doubleValue))===(r=Qg(r.doubleValue))?Wy(n)===Wy(r):isNaN(n)&&isNaN(r));case 9:return Ey(t.arrayValue.values||[],e.arrayValue.values||[],Bg);case 10:var a,u=t.mapValue.fields||{},c=e.mapValue.fields||{};if(Wv(u)!==Wv(c))return!1;for(a in u)if(u.hasOwnProperty(a)&&(void 0===c[a]||!Bg(u[a],c[a])))return!1;return!0;default:return O()}}function Wg(t,e){return void 0!==(t.values||[]).find(function(t){return Bg(t,e)})}function Gg(t,e){var n=qg(t),r=qg(e);if(n!==r)return D(n,r);switch(n){case 0:return 0;case 1:return D(t.booleanValue,e.booleanValue);case 2:return o=e,(i=Qg(t.integerValue||t.doubleValue))<(o=Qg(o.integerValue||o.doubleValue))?-1:o<i?1:i===o?0:isNaN(i)?isNaN(o)?0:-1:1;case 3:return Hg(t.timestampValue,e.timestampValue);case 4:return Hg(jg(t),jg(e));case 5:return D(t.stringValue,e.stringValue);case 6:return i=t.bytesValue,o=e.bytesValue,i=Yg(i),o=Yg(o),i.L(o);case 7:for(var i=t.referenceValue,o=e.referenceValue,s=i.split("/"),a=o.split("/"),u=0;u<s.length&&u<a.length;u++){var c=D(s[u],a[u]);if(0!==c)return c}return D(s.length,a.length);case 8:return l=t.geoPointValue,y=e.geoPointValue,0!==(h=D(Qg(l.latitude),Qg(y.latitude)))?h:D(Qg(l.longitude),Qg(y.longitude));case 9:for(var h=t.arrayValue,l=e.arrayValue,f=h.values||[],p=l.values||[],d=0;d<f.length&&d<p.length;++d){var v=Gg(f[d],p[d]);if(v)return v}return D(f.length,p.length);case 10:var y=t.mapValue,g=e.mapValue,m=y.fields||{},b=Object.keys(m),_=g.fields||{},w=Object.keys(_);b.sort(),w.sort();for(var E=0;E<b.length&&E<w.length;++E){var I=D(b[E],w[E]);if(0!==I)return I;I=Gg(m[b[E]],_[w[E]]);if(0!==I)return I}return D(b.length,w.length);default:throw O()}}function Hg(t,e){var n;return"string"==typeof t&&"string"==typeof e&&t.length===e.length?D(t,e):(t=zg(t),e=zg(e),0!==(n=D(t.seconds,e.seconds))?n:D(t.nanos,e.nanos))}function Kg(t){return function t(e){{if("nullValue"in e)return"null";if("booleanValue"in e)return""+e.booleanValue;if("integerValue"in e)return""+e.integerValue;if("doubleValue"in e)return""+e.doubleValue;if("timestampValue"in e)return"time("+(f=zg(e.timestampValue)).seconds+","+f.nanos+")";if("stringValue"in e)return e.stringValue;if("bytesValue"in e)return Yg(e.bytesValue).toBase64();if("referenceValue"in e)return f=e.referenceValue,P.C(f).toString();if("geoPointValue"in e)return"geo("+(f=e.geoPointValue).latitude+","+f.longitude+")";if("arrayValue"in e){for(var n="[",r=!0,i=0,o=e.arrayValue.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}if("mapValue"in e){for(var s=e.mapValue,a="{",u=!0,c=0,h=Object.keys(s.fields||{}).sort();c<h.length;c++){var l=h[c];u?u=!1:a+=",",a+=l+":"+t(s.fields[l])}return a+"}"}return O()}var f}(t)}function zg(t){var e,n;return R(!!t),"string"!=typeof t?{seconds:Qg(t.seconds),nanos:Qg(t.nanos)}:(e=0,R(!!(n=Vg.exec(t))),n[1]&&(n=(n[1]+"000000000").substr(0,9),e=Number(n)),n=new Date(t),{seconds:Math.floor(n.getTime()/1e3),nanos:e})}function Qg(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Yg(t){return"string"==typeof t?Ty.fromBase64String(t):Ty.fromUint8Array(t)}function Xg(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.R()}}function Jg(t){return t&&"integerValue"in t}function $g(t){return!!t&&"arrayValue"in t}function Zg(t){return t&&"nullValue"in t}function tm(t){return t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function em(t){return t&&"mapValue"in t}function nm(t,e){this.U=t,this.Ue=e}var rm={asc:"ASCENDING",desc:"DESCENDING"},im={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};function om(t){return{integerValue:""+t}}function sm(t,e){if(t.Ue){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wy(e)?"-0":e}}function am(t,e){return Gy(e)?om(e):sm(t,e)}function um(t,e){return t.Ue?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function cm(t,e){return t.Ue?e.toBase64():e.toUint8Array()}function hm(t){return R(!!t),My.Y((t=zg(t),new Ly(t.seconds,t.nanos)))}function lm(t,e){return new Qv(["projects",t.projectId,"databases",t.database]).child("documents").child(e).R()}function fm(t){t=Qv.P(t);return R(Am(t)),t}function pm(t,e){return lm(t.U,e.path)}function dm(t,e){e=fm(e);return R(e.get(1)===t.U.projectId),R(!e.get(3)&&!t.U.database||e.get(3)===t.U.database),new P(mm(e))}function vm(t,e){return lm(t.U,e)}function ym(t){t=fm(t);return 4===t.length?Qv.g():mm(t)}function gm(t){return new Qv(["projects",t.U.projectId,"databases",t.U.database]).R()}function mm(t){return R(4<t.length&&"documents"===t.get(4)),t.u(5)}function bm(t,e,n){return{name:pm(t,e),fields:n.proto.mapValue.fields}}function _m(t,e){var n,r;if(e instanceof sb)n={update:bm(t,e.key,e.value)};else if(e instanceof gb)n={delete:pm(t,e.key)};else if(e instanceof ab)n={update:bm(t,e.key,e.data),updateMask:(r=[],e.Qe.fields.forEach(function(t){return r.push(t.R())}),{fieldPaths:r})};else if(e instanceof fb)n={transform:{document:pm(t,e.key),fieldTransforms:e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof Dm)return{fieldPath:t.field.R(),setToServerValue:"REQUEST_TIME"};if(e instanceof xm)return{fieldPath:t.field.R(),appendMissingElements:{values:e.elements}};if(e instanceof jm)return{fieldPath:t.field.R(),removeAllFromArray:{values:e.elements}};if(e instanceof Wm)return{fieldPath:t.field.R(),increment:e.We};throw O()})}};else{if(!(e instanceof mb))return O();n={verify:pm(t,e.key)}}return e.Ke.je||(n.currentDocument=void 0!==(e=e.Ke).updateTime?{updateTime:um(t,e.updateTime.X())}:void 0!==e.exists?{exists:e.exists}:O()),n}function wm(i,t){var e,n,r,o=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Jm.updateTime(hm(o.updateTime)):void 0!==o.exists?Jm.exists(o.exists):Jm.Ge():Jm.Ge();return t.update?(t.update.name,e=dm(i,t.update.name),n=new bb({mapValue:{fields:t.update.fields}}),t.updateMask?(r=t.updateMask.fieldPaths||[],r=new zm(r.map(function(t){return Xv.S(t)})),new ab(e,n,r,o)):new sb(e,n,o)):t.delete?(r=dm(i,t.delete),new gb(r,o)):t.transform?(e=dm(i,t.transform.document),n=t.transform.fieldTransforms.map(function(t){return e=i,n=null,"setToServerValue"in(t=t)?(R("REQUEST_TIME"===t.setToServerValue),n=new Dm):"appendMissingElements"in t?(r=t.appendMissingElements.values||[],n=new xm(r)):"removeAllFromArray"in t?(r=t.removeAllFromArray.values||[],n=new jm(r)):"increment"in t?n=new Wm(e,t.increment):O(),r=Xv.S(t.fieldPath),new Qm(r,n);var e,n,r}),R(!0===o.exists),new fb(e,n)):t.verify?(r=dm(i,t.verify),new mb(r,o)):O()}function Em(t,e){return{documents:[vm(t,e.path)]}}function Im(t,e){var n={structuredQuery:{}},r=e.path,r=(null!==e.collectionGroup?(n.parent=vm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vm(t,r.h()),n.structuredQuery.from=[{collectionId:r._()}]),function(t){if(0!==t.length)return 1===(t=t.map(function(t){if("=="===t.op){if(tm(t.value))return{unaryFilter:{field:Cm(t.field),op:"IS_NAN"}};if(Zg(t.value))return{unaryFilter:{field:Cm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(tm(t.value))return{unaryFilter:{field:Cm(t.field),op:"IS_NOT_NAN"}};if(Zg(t.value))return{unaryFilter:{field:Cm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cm(t.field),op:im[t.op],value:t.value}}})).length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(e.filters)),r=(r&&(n.structuredQuery.where=r),function(t){if(0!==t.length)return t.map(function(t){return{field:Cm((t=t).field),direction:(t=t.dir,rm[t])}})}(e.orderBy));r&&(n.structuredQuery.orderBy=r);r=e.limit;t=t.Ue||By(r)?r:{value:r};return null!==t&&(n.structuredQuery.limit=t),e.startAt&&(n.structuredQuery.startAt=Tm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Tm(e.endAt)),n}function Tm(t){return{before:t.before,values:t.position}}function Sm(t){var e=!!t.before;return new __(t.values||[],e)}function Cm(t){return{fieldPath:t.R()}}function Nm(t){return Xv.S(t.fieldPath)}function Am(t){return 4<=t.length&&"projects"===t.get(0)&&"databases"===t.get(2)}function km(){this.ze=void 0}function Om(t,e){return t instanceof Wm?Jg(t=e)||t&&"doubleValue"in t?e:{integerValue:0}:null}o(Mm,Pm=km);var Rm,Pm,Dm=Mm,xm=(o(Lm,Rm=km),Lm);function Lm(t){var e=this;return(e=Rm.call(this)||this).elements=t,e}function Mm(){return null!==Pm&&Pm.apply(this,arguments)||this}function Fm(t,e){for(var n=Km(e),r=0,i=t.elements;r<i.length;r++)!function(e){n.some(function(t){return Bg(t,e)})||n.push(e)}(i[r]);return{arrayValue:{values:n}}}o(Vm,Um=km);var Um,jm=Vm;function Vm(t){var e=this;return(e=Um.call(this)||this).elements=t,e}function qm(t,e){for(var n=Km(e),r=0,i=t.elements;r<i.length;r++)!function(e){n=n.filter(function(t){return!Bg(t,e)})}(i[r]);return{arrayValue:{values:n}}}o(Gm,Bm=km);var Bm,Wm=Gm;function Gm(t,e){var n=this;return(n=Bm.call(this)||this).serializer=t,n.We=e,n}function Hm(t){return Qg(t.integerValue||t.doubleValue)}function Km(t){return $g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}Ym.prototype.He=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].T(t))return!0;return!1},Ym.prototype.isEqual=function(t){return Ey(this.fields,t.fields,function(t,e){return t.isEqual(e)})};var zm=Ym,Qm=function(t,e){this.field=t,this.transform=e};function Ym(t){(this.fields=t).sort(Xv.i)}function Xm(t,e){this.version=t,this.transformResults=e}$m.Ge=function(){return new $m},$m.exists=function(t){return new $m(void 0,t)},$m.updateTime=function(t){return new $m(t)},Object.defineProperty($m.prototype,"je",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),$m.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)};var Jm=$m;function $m(t,e){this.updateTime=t,this.exists=e}function Zm(t,e){return void 0!==t.updateTime?e instanceof kb&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof kb}function tb(){}function eb(t,e,n,r){return t instanceof sb?(s=e,Zm((o=t).Ke,s)?(a=rb(s),new kb(o.key,a,o.value,{Ye:!0})):s):t instanceof ab?(a=e,Zm((o=t).Ke,a)?(s=rb(a),i=hb(o,a),new kb(o.key,s,i,{Ye:!0})):a):t instanceof fb?(i=e,r=r,n=n,Zm((h=t).Ke,i)?(n=function(t,e,n){for(var r,i=[],o=0,s=h.fieldTransforms;o<s.length;o++){var a=s[o],u=a.transform,c=null;null===(c=e instanceof kb?e.field(a.field):c)&&n instanceof kb&&(c=n.field(a.field)),i.push((a=c,c=t,r=void 0,(u=u)instanceof Dm?(r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}},a&&(r.fields.__previous_value__=a),{mapValue:r}):u instanceof xm?Fm(u,a):u instanceof jm?qm(u,a):(u=Hm(r=Om(c=u,a))+Hm(c.We),Jg(r)&&Jg(c.We)?om(u):sm(c.serializer,u))))}return i}(r,r=i,n),n=db(h,r.data(),n),new kb(h.key,r.version,n,{Ye:!0})):i):Zm((r=t).Ke,n=e)?new Ob(r.key,My.min()):n;var h,i,o,s,a}function nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ke.isEqual(e.Ke)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Qe.isEqual(e.Qe):2!==t.type||Ey(t.fieldTransforms,t.fieldTransforms,function(t,e){return(t=t).field.isEqual((e=e).field)&&(t=t.transform,e=e.transform,t instanceof xm&&e instanceof xm||t instanceof jm&&e instanceof jm?Ey(t.elements,e.elements,Bg):t instanceof Wm&&e instanceof Wm?Bg(t.We,e.We):t instanceof Dm&&e instanceof Dm)}))}function rb(t){return t instanceof kb?t.version:My.min()}o(cb,ob=tb);var ib,ob,sb=cb,ab=(o(ub,ib=tb),ub);function ub(t,e,n,r){var i=this;return(i=ib.call(this)||this).key=t,i.data=e,i.Qe=n,i.Ke=r,i.type=1,i}function cb(t,e,n){var r=this;return(r=ob.call(this)||this).key=t,r.value=e,r.Ke=n,r.type=0,r}function hb(t,e){return n=t,t=e instanceof kb?e.data():bb.empty(),r=new _b(t),n.Qe.fields.forEach(function(t){var e;t.m()||(null!==(e=n.data.field(t))?r.set(t,e):r.delete(t))}),r.Je();var n,r}o(pb,lb=tb);var lb,fb=pb;function pb(t,e){var n=this;return(n=lb.call(this)||this).key=t,n.fieldTransforms=e,n.type=2,n.Ke=Jm.exists(!0),n}function db(t,e,n){for(var r=new _b(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Je()}o(Tb,yb=tb);var vb,yb,gb=Tb,mb=(o(Ib,vb=tb),Ib),bb=(Eb.empty=function(){return new Eb({mapValue:{}})},Eb.prototype.field=function(t){if(t.m())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!em(e=e.mapValue.fields[t.get(n)]))return null}return(e.mapValue.fields||{})[t._()]||null},Eb.prototype.isEqual=function(t){return Bg(this.proto,t.proto)},Eb),_b=(wb.prototype.set=function(t,e){return this.tn(t,e),this},wb.prototype.delete=function(t){return this.tn(t,null),this},wb.prototype.tn=function(t,e){for(var n=this.Ze,r=0;r<t.length-1;++r)var i=t.get(r),o=n.get(i),n=(o instanceof Map||(o=o&&10===qg(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),o);n.set(t._(),e)},wb.prototype.Je=function(){var t=this.en(Xv.g(),this.Ze);return null!=t?new bb(t):this.Xe},wb.prototype.en=function(r,t){var i=this,o=!1,e=this.Xe.field(r),s=em(e)?Object.assign({},e.mapValue.fields):{};return t.forEach(function(t,e){var n;t instanceof Map?null!=(n=i.en(r.child(e),t))&&(s[e]=n,o=!0):null!==t?(s[e]=t,o=!0):s.hasOwnProperty(e)&&(delete s[e],o=!0)}),o?{mapValue:{fields:s}}:null},wb);function wb(t){void 0===t&&(t=bb.empty()),this.Xe=t,this.Ze=new Map}function Eb(t){this.proto=t}function Ib(t,e){var n=this;return(n=vb.call(this)||this).key=t,n.Ke=e,n.type=4,n}function Tb(t,e){var n=this;return(n=yb.call(this)||this).key=t,n.Ke=e,n.type=3,n}function Sb(t,e){this.key=t,this.version=e}o(Lb,Ab=Sb),Lb.prototype.field=function(t){return this.nn.field(t)},Lb.prototype.data=function(){return this.nn},Lb.prototype.sn=function(){return this.nn.proto},Lb.prototype.isEqual=function(t){return t instanceof Lb&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ye===t.Ye&&this.hasCommittedMutations===t.hasCommittedMutations&&this.nn.isEqual(t.nn)},Lb.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.nn.toString()+", {hasLocalMutations: "+this.Ye+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(Lb.prototype,"hasPendingWrites",{get:function(){return this.Ye||this.hasCommittedMutations},enumerable:!1,configurable:!0});var Cb,Nb,Ab,kb=Lb,Ob=(o(xb,Nb=Sb),xb.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(xb.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),xb.prototype.isEqual=function(t){return t instanceof xb&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},xb),Rb=(o(Db,Cb=Sb),Db.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(Db.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),Db.prototype.isEqual=function(t){return t instanceof Db&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},Db),Pb=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.rn=n,this.filters=r,this.limit=i,this.on=o,this.startAt=s,this.endAt=a,this.an=null,this.cn=null,this.startAt,this.endAt};function Db(){return null!==Cb&&Cb.apply(this,arguments)||this}function xb(t,e,n){var r=this;return(r=Nb.call(this,t,e)||this).hasCommittedMutations=!(!n||!n.hasCommittedMutations),r}function Lb(t,e,n,r){var i=this;return(i=Ab.call(this,t,e)||this).nn=n,i.Ye=!!r.Ye,i.hasCommittedMutations=!!r.hasCommittedMutations,i}function Mb(t,e,n,r,i,o,s,a){return new Pb(t,e,n,r,i,o,s,a)}function Fb(t){return new Pb(t)}function Ub(t){return!By(t.limit)&&"F"===t.on}function jb(t){return!By(t.limit)&&"L"===t.on}function Vb(t){return 0<t.rn.length?t.rn[0].field:null}function qb(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.un())return r.field}return null}function Bb(t){return null!==t.collectionGroup}function Wb(t){var e=t;if(null===e.an){e.an=[];var t=qb(e),n=Vb(e);if(null!==t&&null===n)t.p()||e.an.push(new A_(t)),e.an.push(new A_(Xv.v(),"asc"));else{for(var r=!1,i=0,o=e.rn;i<o.length;i++){var s=o[i];e.an.push(s),s.field.p()&&(r=!0)}r||(n=0<e.rn.length?e.rn[e.rn.length-1].dir:"asc",e.an.push(new A_(Xv.v(),n)))}}return e.an}function Gb(t){if(!t.cn)if("F"===t.on)t.cn=Ky(t.path,t.collectionGroup,Wb(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],n=0,r=Wb(t);n<r.length;n++){var i=r[n],o="desc"===i.dir?"asc":"desc";e.push(new A_(i.field,o))}var s=t.endAt?new __(t.endAt.position,!t.endAt.before):null,a=t.startAt?new __(t.startAt.position,!t.startAt.before):null;t.cn=Ky(t.path,t.collectionGroup,e,t.filters,t.limit,s,a)}return t.cn}function Hb(t,e,n){return new Pb(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kb(t,e){return new Pb(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,e,t.endAt)}function zb(t,e){return new Pb(t.path,t.collectionGroup,t.rn.slice(),t.filters.slice(),t.limit,t.on,t.startAt,e)}function Qb(t,e){return Qy(Gb(t),Gb(e))&&t.on===e.on}function Yb(t){return zy(Gb(t))+"|lt:"+t.on}function Xb(t){return"Query(target="+(n=(e=Gb(t)).path.R(),null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),0<e.filters.length&&(n+=", filters: ["+e.filters.map(function(t){return(t=t).field.R()+" "+t.op+" "+Kg(t.value)}).join(", ")+"]"),By(e.limit)||(n+=", limit: "+e.limit),0<e.orderBy.length&&(n+=", orderBy: ["+e.orderBy.map(function(t){return(t=t).field.R()+" ("+t.dir+")"}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+S_(e.startAt)),e.endAt&&(n+=", endAt: "+S_(e.endAt)),"Target(")+n+"); limitType="+t.on+")";var e,n}function Jb(i,t){return n=t.key.path,(null!==(e=i).collectionGroup?t.key.N(e.collectionGroup)&&e.path.T(n):P.F(e.path)?e.path.isEqual(n):e.path.I(n))&&function(t){for(var e=0,n=i.rn;e<n.length;e++){var r=n[e];if(!r.field.p()&&null===t.field(r.field))return}return 1}(t)&&function(t){for(var e=0,n=i.filters;e<n.length;e++)if(!n[e].matches(t))return;return 1}(t)&&(e=t,!(n=i).startAt||C_(n.startAt,Wb(n),e))&&(!n.endAt||!C_(n.endAt,Wb(n),e));var e,n}function $b(a){return function(t,e){for(var n=!1,r=0,i=Wb(a);r<i.length;r++){var o=i[r],s=function(t,e,n){var r,i=t.field.p()?P.i(e.key,n.key):(r=t.field,n=n,e=e.field(r),n=n.field(r),null!==e&&null!==n?Gg(e,n):O());switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return O()}}(o,t,e);if(0!==s)return s;n=n||o.field.p()}return 0}}o(e_,Zb=function(){}),e_.create=function(t,e,n){if(t.p())return"in"===e||"not-in"===e?this.hn(t,e,n):new o_(t,e,n);if(Zg(n)){if("=="!==e&&"!="!==e)throw new A(N.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new e_(t,e,n)}if(tm(n)){if("=="!==e&&"!="!==e)throw new A(N.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new e_(t,e,n)}return"array-contains"===e?new y_(t,n):"in"===e?new g_(t,n):"not-in"===e?new m_(t,n):"array-contains-any"===e?new b_(t,n):new e_(t,e,n)},e_.hn=function(t,e,n){return new("in"===e?s_:a_)(t,n)},e_.prototype.matches=function(t){t=t.field(this.field);return"!="===this.op?null!==t&&this.ln(Gg(t,this.value)):null!==t&&qg(this.value)===qg(t)&&this.ln(Gg(t,this.value))},e_.prototype.ln=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return 0<t;case">=":return 0<=t;default:return O()}},e_.prototype.un=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)};var Zb,t_=e_;function e_(t,e,n){var r=this;return(r=Zb.call(this)||this).field=t,r.op=e,r.value=n,r}o(h_,i_=t_),h_.prototype.matches=function(t){t=P.i(t.key,this.key);return this.ln(t)};var n_,r_,i_,o_=h_,s_=(o(c_,r_=t_),c_.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},c_),a_=(o(u_,n_=t_),u_.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},u_);function u_(t,e){var n=this;return(n=n_.call(this,t,"not-in",e)||this).keys=l_(0,e),n}function c_(t,e){var n=this;return(n=r_.call(this,t,"in",e)||this).keys=l_(0,e),n}function h_(t,e,n){var r=this;return(r=i_.call(this,t,e,n)||this).key=P.C(n.referenceValue),r}function l_(t,e){return((null==(e=e.arrayValue)?void 0:e.values)||[]).map(function(t){return P.C(t.referenceValue)})}o(T_,v_=t_),T_.prototype.matches=function(t){t=t.field(this.field);return $g(t)&&Wg(t.arrayValue,this.value)};var f_,p_,d_,v_,y_=T_,g_=(o(I_,d_=t_),I_.prototype.matches=function(t){t=t.field(this.field);return null!==t&&Wg(this.value.arrayValue,t)},I_),m_=(o(E_,p_=t_),E_.prototype.matches=function(t){return!Wg(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(t=t.field(this.field))&&!Wg(this.value.arrayValue,t)},E_),b_=(o(w_,f_=t_),w_.prototype.matches=function(t){var e=this,t=t.field(this.field);return!(!$g(t)||!t.arrayValue.values)&&t.arrayValue.values.some(function(t){return Wg(e.value.arrayValue,t)})},w_),__=function(t,e){this.position=t,this.before=e};function w_(t,e){return f_.call(this,t,"array-contains-any",e)||this}function E_(t,e){return p_.call(this,t,"not-in",e)||this}function I_(t,e){return d_.call(this,t,"in",e)||this}function T_(t,e){return v_.call(this,t,"array-contains",e)||this}function S_(t){return(t.before?"b":"a")+":"+t.position.map(Kg).join(",")}function C_(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i],r=o.field.p()?P.i(P.C(s.referenceValue),n.key):Gg(s,n.field(o.field));if("desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function N_(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Bg(t.position[n],e.position[n]))return!1;return!0}var A_=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function k_(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})}j_.prototype.reset=function(){this.Tn=0},j_.prototype.An=function(){this.Tn=this.mn},j_.prototype.Rn=function(t){var e=this,n=(this.cancel(),Math.floor(this.Tn+this.Pn())),r=Math.max(0,Date.now()-this.In),i=Math.max(0,n-r);0<i&&k("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Tn+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.En=this._n.gn(this.fn,i,function(){return e.In=Date.now(),t()}),this.Tn*=this.wn,this.Tn<this.dn&&(this.Tn=this.dn),this.Tn>this.mn&&(this.Tn=this.mn)},j_.prototype.yn=function(){null!==this.En&&(this.En.Vn(),this.En=null)},j_.prototype.cancel=function(){null!==this.En&&(this.En.cancel(),this.En=null)},j_.prototype.Pn=function(){return(Math.random()-.5)*this.Tn};var O_,R_=j_,x=(U_.prototype.catch=function(t){return this.next(void 0,t)},U_.prototype.next=function(r,i){var o=this;return this.Sn&&O(),this.Sn=!0,this.vn?this.error?this.Dn(i,this.error):this.Cn(r,this.result):new U_(function(e,n){o.pn=function(t){o.Cn(r,t).next(e,n)},o.bn=function(t){o.Dn(i,t).next(e,n)}})},U_.prototype.Nn=function(){var n=this;return new Promise(function(t,e){n.next(t,e)})},U_.prototype.Fn=function(t){try{var e=t();return e instanceof U_?e:U_.resolve(e)}catch(t){return U_.reject(t)}},U_.prototype.Cn=function(t,e){return t?this.Fn(function(){return t(e)}):U_.resolve(e)},U_.prototype.Dn=function(t,e){return t?this.Fn(function(){return t(e)}):U_.reject(e)},U_.resolve=function(n){return new U_(function(t,e){t(n)})},U_.reject=function(n){return new U_(function(t,e){e(n)})},U_.$n=function(t){return new U_(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},U_.xn=function(t){for(var n=U_.resolve(!1),e=0,r=t;e<r.length;e++)!function(e){n=n.next(function(t){return t?U_.resolve(t):e()})}(r[e]);return n},U_.forEach=function(t,n){var r=this,i=[];return t.forEach(function(t,e){i.push(n.call(r,t,e))}),this.$n(i)},U_),P_=(F_.delete=function(t){return k("SimpleDb","Removing database:",t),H_(window.indexedDB.deleteDatabase(t)).Nn()},F_.On=function(){var t,e,n;return"undefined"!=typeof indexedDB&&!(!F_.Ln()&&(t=cs(),e=0<(e=F_.Mn(t))&&e<10,n=0<(n=F_.Bn(t))&&n<4.5,0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")||e||n))},F_.Ln=function(){var t;return"undefined"!=typeof process&&"YES"===(null==(t=process.env)?void 0:t.qn)},F_.Un=function(t,e){return t.store(e)},F_.Mn=function(t){t=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),t=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(t)},F_.Bn=function(t){t=t.match(/Android ([\d.]+)/i),t=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(t)},F_.prototype.Qn=function(){return b(this,void 0,void 0,function(){var e,i=this;return _(this,function(t){switch(t.label){case 0:return this.db?[3,2]:(k("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,n){var r=indexedDB.open(i.name,i.version);r.onsuccess=function(t){t=t.target.result;e(t)},r.onblocked=function(){n(new x_("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){t=t.target.error;"VersionError"===t.name?n(new A(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new x_(t))},r.onupgradeneeded=function(t){k("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;i.kn.createOrUpgrade(e,r.transaction,t.oldVersion,i.version).next(function(){k("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:e.db=t.sent(),t.label=2;case 2:return[2,(this.Wn&&(this.db.onversionchange=function(t){return i.Wn(t)}),this.db)]}})})},F_.prototype.jn=function(e){this.Wn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},F_.prototype.runTransaction=function(r,c,h){return b(this,void 0,void 0,function(){var s,a,e,u,n;return _(this,function(t){switch(t.label){case 0:s="readonly"===r,a=0,e=function(){var e,n,r,i,o;return _(this,function(t){switch(t.label){case 0:++a,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,u.Qn()];case 2:return u.db=t.sent(),e=q_.open(u.db,s?"readonly":"readwrite",c),n=h(e).catch(function(t){return e.abort(t),x.reject(t)}).Nn(),r={},n.catch(function(){}),[4,e.Kn];case 3:return[2,(r.value=(t.sent(),n),r)];case 4:return i=t.sent(),o="FirebaseError"!==i.name&&a<3,k("SimpleDb","Transaction failed with error:",i.message,"Retrying:",o),u.close(),o?[3,5]:[2,{value:Promise.reject(i)}];case 5:return[2]}})},u=this,t.label=1;case 1:return[5,e()];case 2:if("object"==typeof(n=t.sent()))return[2,n.value];t.label=3;case 3:return[3,1];case 4:return[2]}})})},F_.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},F_),D_=(Object.defineProperty(M_.prototype,"vn",{get:function(){return this.zn},enumerable:!1,configurable:!0}),Object.defineProperty(M_.prototype,"Yn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(M_.prototype,"cursor",{set:function(t){this.Gn=t},enumerable:!1,configurable:!0}),M_.prototype.done=function(){this.zn=!0},M_.prototype.Jn=function(t){this.Hn=t},M_.prototype.delete=function(){return H_(this.Gn.delete())},M_),x_=(o(L_,O_=A),L_);function L_(t){var e=this;return(e=O_.call(this,N.UNAVAILABLE,"IndexedDB transaction failed: "+t)||this).name="IndexedDbTransactionError",e}function M_(t){this.Gn=t,this.zn=!1,this.Hn=null}function F_(t,e,n){this.name=t,this.version=e,this.kn=n,12.2===F_.Mn(cs())&&Vv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function U_(t){var e=this;this.pn=null,this.bn=null,this.result=void 0,this.error=void 0,this.vn=!1,this.Sn=!1,t(function(t){e.vn=!0,e.result=t,e.pn&&e.pn(t)},function(t){e.vn=!0,e.error=t,e.bn&&e.bn(t)})}function j_(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this._n=t,this.fn=e,this.dn=n,this.wn=r,this.mn=i,this.Tn=0,this.En=null,this.In=Date.now(),this.reset()}function V_(t){return"IndexedDbTransactionError"===t.name}G_.open=function(t,e,n){try{return new G_(t.transaction(n,e))}catch(t){throw new x_(t)}},Object.defineProperty(G_.prototype,"Kn",{get:function(){return this.Xn.promise},enumerable:!1,configurable:!0}),G_.prototype.abort=function(t){t&&this.Xn.reject(t),this.aborted||(k("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},G_.prototype.store=function(t){t=this.transaction.objectStore(t);return new B_(t)};var q_=G_,B_=(W_.prototype.put=function(t,e){return H_(void 0!==e?(k("SimpleDb","PUT",this.store.name,t,e),this.store.put(e,t)):(k("SimpleDb","PUT",this.store.name,"<auto-key>",t),this.store.put(t)))},W_.prototype.add=function(t){return k("SimpleDb","ADD",this.store.name,t,t),H_(this.store.add(t))},W_.prototype.get=function(e){var n=this;return H_(this.store.get(e)).next(function(t){return k("SimpleDb","GET",n.store.name,e,t=void 0===t?null:t),t})},W_.prototype.delete=function(t){return k("SimpleDb","DELETE",this.store.name,t),H_(this.store.delete(t))},W_.prototype.count=function(){return k("SimpleDb","COUNT",this.store.name),H_(this.store.count())},W_.prototype.Zn=function(t,e){var t=this.cursor(this.options(t,e)),n=[];return this.ts(t,function(t,e){n.push(e)}).next(function(){return n})},W_.prototype.es=function(t,e){k("SimpleDb","DELETE ALL",this.store.name);t=this.options(t,e),t.ns=!1,e=this.cursor(t);return this.ts(e,function(t,e,n){return n.delete()})},W_.prototype.ss=function(t,e){e?n=t:(n={},e=t);var n,t=this.cursor(n);return this.ts(t,e)},W_.prototype.rs=function(r){var t=this.cursor({});return new x(function(n,e){t.onerror=function(t){t=z_(t.target.error);e(t)},t.onsuccess=function(t){var e=t.target.result;e?r(e.primaryKey,e.value).next(function(t){t?e.continue():n()}):n()}})},W_.prototype.ts=function(t,i){var o=[];return new x(function(r,e){t.onerror=function(t){e(t.target.error)},t.onsuccess=function(t){var e,n,t=t.target.result;!t||(e=new D_(t),(n=i(t.primaryKey,t.value,e))instanceof x&&(n=n.catch(function(t){return e.done(),x.reject(t)}),o.push(n)),e.vn)?r():null===e.Yn?t.continue():t.continue(e.Yn)}}).next(function(){return x.$n(o)})},W_.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},W_.prototype.cursor=function(t){var e,n="next";return t.reverse&&(n="prev"),t.index?(e=this.store.index(t.index),t.ns?e.openKeyCursor(t.range,n):e.openCursor(t.range,n)):this.store.openCursor(t.range,n)},W_);function W_(t){this.store=t}function G_(t){var e=this;this.transaction=t,this.aborted=!1,this.Xn=new k_,this.transaction.oncomplete=function(){e.Xn.resolve()},this.transaction.onabort=function(){t.error?e.Xn.reject(new x_(t.error)):e.Xn.resolve()},this.transaction.onerror=function(t){t=z_(t.target.error);e.Xn.reject(new x_(t))}}function H_(t){return new x(function(e,n){t.onsuccess=function(t){t=t.target.result;e(t)},t.onerror=function(t){t=z_(t.target.error);n(t)}})}var K_=!1;function z_(t){var e=P_.Mn(cs());if(12.2<=e&&e<13){var n,e="An internal error was encountered in the Indexed Database server";if(0<=t.message.indexOf(e))return n=new A("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."),K_||(K_=!0,setTimeout(function(){throw n},0)),n}return t}function Q_(){return"undefined"!=typeof window?window:null}function Y_(){return"undefined"!=typeof document?document:null}Z_.ls=function(t,e,n,r,i){t=new Z_(t,e,Date.now()+n,r,i);return t.start(n),t},Z_.prototype.start=function(t){var e=this;this._s=setTimeout(function(){return e.fs()},t)},Z_.prototype.Vn=function(){return this.fs()},Z_.prototype.cancel=function(t){null!==this._s&&(this.clearTimeout(),this.hs.reject(new A(N.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},Z_.prototype.fs=function(){var e=this;this.os.ds(function(){return null!==e._s?(e.clearTimeout(),e.op().then(function(t){return e.hs.resolve(t)})):Promise.resolve()})},Z_.prototype.clearTimeout=function(){null!==this._s&&(this.us(this),clearTimeout(this._s),this._s=null)};var X_=Z_,J_=(Object.defineProperty($_.prototype,"Vs",{get:function(){return this.Es},enumerable:!1,configurable:!0}),$_.prototype.ds=function(t){this.enqueue(t)},$_.prototype.ps=function(t){this.bs(),this.vs(t)},$_.prototype.Ss=function(){var t;this.Es||(this.Es=!0,(t=Y_())&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ys))},$_.prototype.enqueue=function(t){return this.bs(),this.Es?new Promise(function(t){}):this.vs(t)},$_.prototype.Ds=function(t){var e=this;this.Ts.push(t),this.ds(function(){return e.Cs()})},$_.prototype.Cs=function(){return b(this,void 0,void 0,function(){var e,n=this;return _(this,function(t){switch(t.label){case 0:if(0===this.Ts.length)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.Ts[0]()];case 2:return t.sent(),this.Ts.shift(),this.gs.reset(),[3,4];case 3:if(V_(e=t.sent()))return k("AsyncQueue","Operation failed with retryable error: "+e),[3,4];throw e;case 4:0<this.Ts.length&&this.gs.Rn(function(){return n.Cs()}),t.label=5;case 5:return[2]}})})},$_.prototype.vs=function(t){var r=this,e=this.ws.then(function(){return r.Rs=!0,t().catch(function(t){throw r.As=t,r.Rs=!1,Vv("INTERNAL UNHANDLED ERROR: ",(n=(e=t).message||"",n=e.stack?e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack:n)),t;var e,n}).then(function(t){return r.Rs=!1,t})});return this.ws=e},$_.prototype.gn=function(t,e,n){var r=this,t=(this.bs(),-1<this.Ps.indexOf(t)&&(e=0),X_.ls(this,t,e,n,function(t){return r.Ns(t)}));return this.Is.push(t),t},$_.prototype.bs=function(){this.As&&O()},$_.prototype.Fs=function(){},$_.prototype.$s=function(){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,e=this.ws];case 1:t.sent(),t.label=2;case 2:if(e!==this.ws)return[3,0];t.label=3;case 3:return[2]}})})},$_.prototype.xs=function(t){for(var e=0,n=this.Is;e<n.length;e++)if(n[e].fn===t)return!0;return!1},$_.prototype.ks=function(r){var i=this;return this.$s().then(function(){i.Is.sort(function(t,e){return t.cs-e.cs});for(var t=0,e=i.Is;t<e.length;t++){var n=e[t];if(n.Vn(),"all"!==r&&n.fn===r)break}return i.$s()})},$_.prototype.Ms=function(t){this.Ps.push(t)},$_.prototype.Ns=function(t){t=this.Is.indexOf(t);this.Is.splice(t,1)},$_);function $_(){var e=this,t=(this.ws=Promise.resolve(),this.Ts=[],this.Es=!1,this.Is=[],this.As=null,this.Rs=!1,this.Ps=[],this.gs=new R_(this,"async_queue_retry"),this.ys=function(){var t=Y_();t&&k("AsyncQueue","Visibility state changed to  ",t.visibilityState),e.gs.yn()},Y_());t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ys)}function Z_(t,e,n,r,i){this.os=t,this.fn=e,this.cs=n,this.op=r,this.us=i,this.hs=new k_,this.then=this.hs.promise.then.bind(this.hs.promise),this.hs.promise.catch(function(t){})}function tw(t,e){if(Vv("AsyncQueue",e+": "+t),V_(t))return new A(N.UNAVAILABLE,e+": "+t);throw t}function ew(){this.Os=void 0,this.listeners=[]}function nw(){this.Ls=new xy(Yb,Qb),this.onlineState="Unknown",this.Bs=new Set}function rw(a,u){return b(this,void 0,void 0,function(){var e,n,r,i,o,s;return _(this,function(t){switch(t.label){case 0:if(e=a,n=u.query,o=!1,(r=e.Ls.get(n))||(o=!0,r=new ew),!o)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),i=r,[4,e.qs(n)];case 2:return i.Os=t.sent(),[3,4];case 3:return o=t.sent(),s=tw(o,"Initialization of query '"+Xb(u.query)+"' failed"),[2,void u.onError(s)];case 4:return e.Ls.set(n,r),r.listeners.push(u),u.Us(e.onlineState),r.Os&&u.Qs(r.Os)&&ow(e),[2]}})})}function iw(s,a){return b(this,void 0,void 0,function(){var e,n,r,i,o;return _(this,function(t){return e=s,n=a.query,r=!1,(i=e.Ls.get(n))&&0<=(o=i.listeners.indexOf(a))&&(i.listeners.splice(o,1),r=0===i.listeners.length),r?[2,(e.Ls.delete(n),e.Ws(n))]:[2]})})}function ow(t){t.Bs.forEach(function(t){t.next()})}cw.prototype.Qs=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new wg(t.query,t.docs,t.Ut,e,t.Qt,t.fromCache,t.Wt,!0)}var o=!1;return this.Ks?this.zs(t)&&(this.js.next(t),o=!0):this.Hs(t,this.onlineState)&&(this.Ys(t),o=!0),this.Gs=t,o},cw.prototype.onError=function(t){this.js.error(t)},cw.prototype.Us=function(t){this.onlineState=t;var e=!1;return this.Gs&&!this.Ks&&this.Hs(this.Gs,t)&&(this.Ys(this.Gs),e=!0),e},cw.prototype.Hs=function(t,e){return!t.fromCache||!(this.options.Js&&"Offline"!==e||t.docs.m()&&"Offline"!==e)},cw.prototype.zs=function(t){var e;return 0<t.docChanges.length||(e=this.Gs&&this.Gs.hasPendingWrites!==t.hasPendingWrites,!(!t.Wt&&!e)&&!0===this.options.includeMetadataChanges)},cw.prototype.Ys=function(t){t=wg.Kt(t.query,t.docs,t.Qt,t.fromCache),this.Ks=!0,this.js.next(t)};var sw=cw,aw=(uw.prototype.Xs=function(){return null!=this.uid},uw.prototype.Zs=function(){return this.Xs()?"uid:"+this.uid:"anonymous-user"},uw.prototype.isEqual=function(t){return t.uid===this.uid},uw);function uw(t){this.uid=t}function cw(t,e,n){this.query=t,this.js=e,this.Ks=!1,this.Gs=null,this.onlineState="Unknown",this.options=n||{}}aw.UNAUTHENTICATED=new aw(null),aw.ti=new aw("google-credentials-uid"),aw.ei=new aw("first-party-uid");lw.prototype.si=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},lw.prototype.next=function(){var t=++this.previousValue;return this.ii&&this.ii(t),t};var hw=lw;function lw(t,e){var n=this;this.previousValue=t,e&&(e.ni=function(t){return n.si(t)},this.ii=function(t){return e.ri(t)})}function fw(t,e){return"firestore_clients_"+t+"_"+e}function pw(t,e,n){t="firestore_mutations_"+t+"_"+n;return e.Xs()&&(t+="_"+e.uid),t}function dw(t,e){return"firestore_targets_"+t+"_"+e}hw.oi=-1;Uw.ai=function(t,e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new A(r.error.code,r.error.message)),i?new Uw(t,e,r.state,o):(Vv("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+n),null)},Uw.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)};var vw=Uw,yw=(Fw.ai=function(t,e){var n=JSON.parse(e),r="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error),i=void 0;return r&&n.error&&(r="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(i=new A(n.error.code,n.error.message)),r?new Fw(t,n.state,i):(Vv("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},Fw.prototype.ci=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},Fw),gw=(Mw.ai=function(t,e){for(var n=JSON.parse(e),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=mg,o=0;r&&o<n.activeTargetIds.length;++o)r=Gy(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Mw(t,i):(Vv("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},Mw),mw=(Lw.ai=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Lw(e.clientId,e.onlineState):(Vv("SharedClientState","Failed to parse online state: "+t),null)},Lw),bw=(xw.prototype.ui=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},xw.prototype.hi=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},xw.prototype.ci=function(){var t={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(t)},xw),_w=(s.On=function(t){return!(!t||!t.localStorage)},s.prototype.start=function(){return b(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c=this;return _(this,function(t){switch(t.label){case 0:return[4,this._i.Vi()];case 1:for(o=t.sent(),e=0,n=o;e<n.length;e++)(i=n[e])!==this.li&&(r=this.getItem(fw(this.persistenceKey,i)))&&(i=gw.ai(i,r))&&(this.mi=this.mi.rt(i.clientId,i));for(this.pi(),(o=this.storage.getItem(this.yi))&&(o=this.bi(o))&&this.vi(o),s=0,a=this.Ei;s<a.length;s++)u=a[s],this.wi(u);return this.Ei=[],this.window.addEventListener("unload",function(){return c.Si()}),this.Ti=!0,[2]}})})},s.prototype.ri=function(t){this.setItem(this.Ai,JSON.stringify(t))},s.prototype.Di=function(){return this.Ci(this.mi)},s.prototype.Ni=function(n){var r=!1;return this.mi.forEach(function(t,e){e.activeTargetIds.has(n)&&(r=!0)}),r},s.prototype.Fi=function(t){this.$i(t,"pending")},s.prototype.xi=function(t,e,n){this.$i(t,e,n),this.ki(t)},s.prototype.Mi=function(t){var e,n="not-current";return!this.Ni(t)||(e=this.storage.getItem(dw(this.persistenceKey,t)))&&(e=yw.ai(t,e))&&(n=e.state),this.Oi.ui(t),this.pi(),n},s.prototype.Li=function(t){this.Oi.hi(t),this.pi()},s.prototype.Bi=function(t){return this.Oi.activeTargetIds.has(t)},s.prototype.qi=function(t){this.removeItem(dw(this.persistenceKey,t))},s.prototype.Ui=function(t,e,n){this.Qi(t,e,n)},s.prototype.Wi=function(t,e,n){var r=this;e.forEach(function(t){r.ki(t)}),this.currentUser=t,n.forEach(function(t){r.Fi(t)})},s.prototype.ji=function(t){this.Ki(t)},s.prototype.Si=function(){this.Ti&&(this.window.removeEventListener("storage",this.di),this.removeItem(this.Ii),this.Ti=!1)},s.prototype.getItem=function(t){var e=this.storage.getItem(t);return k("SharedClientState","READ",t,e),e},s.prototype.setItem=function(t,e){k("SharedClientState","SET",t,e),this.storage.setItem(t,e)},s.prototype.removeItem=function(t){k("SharedClientState","REMOVE",t),this.storage.removeItem(t)},s.prototype.wi=function(t){var e=this,i=t;i.storageArea===this.storage&&(k("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ii?Vv("Received WebStorage notification for local change. Another client might have garbage-collected our state"):this._n.Ds(function(){return b(e,void 0,void 0,function(){var e,n,r;return _(this,function(t){if(this.Ti){if(null!==i.key)if(this.Ri.test(i.key)){if(null==i.newValue)return e=this.Gi(i.key),[2,this.zi(e,null)];if(e=this.Hi(i.key,i.newValue))return[2,this.zi(e.clientId,e)]}else if(this.Pi.test(i.key)){if(null!==i.newValue&&(n=this.Yi(i.key,i.newValue)))return[2,this.Ji(n)]}else if(this.gi.test(i.key)){if(null!==i.newValue&&(n=this.Xi(i.key,i.newValue)))return[2,this.Zi(n)]}else if(i.key===this.yi){if(null!==i.newValue&&(r=this.bi(i.newValue)))return[2,this.vi(r)]}else i.key===this.Ai&&(r=function(t){var e=hw.oi;if(null!=t)try{var n=JSON.parse(t);R("number"==typeof n),e=n}catch(t){Vv("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(i.newValue))!==hw.oi&&this.ni(r)}else this.Ei.push(i);return[2]})})}))},Object.defineProperty(s.prototype,"Oi",{get:function(){return this.mi.get(this.li)},enumerable:!1,configurable:!0}),s.prototype.pi=function(){this.setItem(this.Ii,this.Oi.ci())},s.prototype.$i=function(t,e,n){e=new vw(this.currentUser,t,e,n),n=pw(this.persistenceKey,this.currentUser,t);this.setItem(n,e.ci())},s.prototype.ki=function(t){t=pw(this.persistenceKey,this.currentUser,t);this.removeItem(t)},s.prototype.Ki=function(t){t={clientId:this.li,onlineState:t};this.storage.setItem(this.yi,JSON.stringify(t))},s.prototype.Qi=function(t,e,n){var r=dw(this.persistenceKey,t),t=new yw(t,e,n);this.setItem(r,t.ci())},s.prototype.Gi=function(t){t=this.Ri.exec(t);return t?t[1]:null},s.prototype.Hi=function(t,e){t=this.Gi(t);return gw.ai(t,e)},s.prototype.Yi=function(t,e){var t=this.Pi.exec(t),n=Number(t[1]),t=void 0!==t[2]?t[2]:null;return vw.ai(new aw(t),n,e)},s.prototype.Xi=function(t,e){t=this.gi.exec(t),t=Number(t[1]);return yw.ai(t,e)},s.prototype.bi=function(t){return mw.ai(t)},s.prototype.Ji=function(e){return b(this,void 0,void 0,function(){return _(this,function(t){return e.user.uid===this.currentUser.uid?[2,this._i.tr(e.batchId,e.state,e.error)]:(k("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},s.prototype.Zi=function(t){return this._i.er(t.targetId,t.state,t.error)},s.prototype.zi=function(t,e){var n=this,r=e?this.mi.rt(t,e):this.mi.remove(t),i=this.Ci(this.mi),o=this.Ci(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this._i.nr(s,a).then(function(){n.mi=r})},s.prototype.vi=function(t){this.mi.get(t.clientId)&&this.fi(t.onlineState)},s.prototype.Ci=function(t){var n=mg;return t.forEach(function(t,e){n=n.xt(e.activeTargetIds)}),n},s),ww=(Dw.prototype.Fi=function(t){},Dw.prototype.xi=function(t,e,n){},Dw.prototype.Mi=function(t){return this.sr.ui(t),this.ir[t]||"not-current"},Dw.prototype.Ui=function(t,e,n){this.ir[t]=e},Dw.prototype.Li=function(t){this.sr.hi(t)},Dw.prototype.Bi=function(t){return this.sr.activeTargetIds.has(t)},Dw.prototype.qi=function(t){delete this.ir[t]},Dw.prototype.Di=function(){return this.sr.activeTargetIds},Dw.prototype.Ni=function(t){return this.sr.activeTargetIds.has(t)},Dw.prototype.start=function(){return this.sr=new bw,Promise.resolve()},Dw.prototype.Wi=function(t,e,n){},Dw.prototype.ji=function(t){},Dw.prototype.Si=function(){},Dw.prototype.ri=function(t){},Dw),Ew=(Pw.prototype.ar=function(t,e,n){for(var r,i,o,s,a,u,c=n.cr,h=0;h<this.mutations.length;h++){var l=this.mutations[h];l.key.isEqual(t)&&(l=l,r=e,i=c[h],u=a=s=o=void 0,e=l instanceof sb?new kb(l.key,i.version,l.value,{hasCommittedMutations:!0}):l instanceof ab?(a=r,u=i,Zm((s=l).Ke,a)?(a=hb(s,a),new kb(s.key,u.version,a,{hasCommittedMutations:!0})):new Rb(s.key,u.version)):l instanceof fb?(a=l,s=r,R(null!=(u=i).transformResults),Zm(a.Ke,s)?(r=function(t,e,n){var r=[];R(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof kb&&(a=e.field(o.field)),r.push((o=a,a=n[i],(s=s)instanceof xm?Fm(s,o):s instanceof jm?qm(s,o):a))}return r}(a.fieldTransforms,s=s,u.transformResults),o=u.version,s=db(a,s.data(),r),new kb(a.key,o,s,{hasCommittedMutations:!0})):new Rb(a.key,u.version)):new Ob(l.key,i.version,{hasCommittedMutations:!0}))}return e},Pw.prototype.ur=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=eb(i,e,e,this.rr))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=eb(u,e,o,this.rr))}return e},Pw.prototype.hr=function(n){var r=this,i=n;return this.mutations.forEach(function(t){var e=r.ur(t.key,n.get(t.key));e&&(i=i.rt(t.key,e))}),i},Pw.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},gg())},Pw.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ey(this.mutations,t.mutations,nb)&&Ey(this.baseMutations,t.baseMutations,nb)},Pw),Iw=(Rw.from=function(t,e,n){R(t.mutations.length===n.length);for(var r=vg,i=t.mutations,o=0;o<i.length;o++)r=r.rt(i[o].key,n[o].version);return new Rw(t,e,n,r)},Rw),Ot=(Object.defineProperty(Ow.prototype,"readTime",{get:function(){return this.mr},set:function(t){this.mr=t},enumerable:!1,configurable:!0}),Ow.prototype.Tr=function(t,e){this.Er(),this.readTime=e,this.dr.set(t.key,t)},Ow.prototype.Ir=function(t,e){this.Er(),e&&(this.readTime=e),this.dr.set(t,null)},Ow.prototype.Ar=function(t,e){this.Er();var n=this.dr.get(e);return void 0!==n?x.resolve(n):this.Rr(t,e)},Ow.prototype.getEntries=function(t,e){return this.Pr(t,e)},Ow.prototype.apply=function(t){return this.Er(),this.wr=!0,this.gr(t)},Ow.prototype.Er=function(){},Ow),Tw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",li=(kw.prototype.Vr=function(t){this.yr.push(t)},kw.prototype.pr=function(){this.yr.forEach(function(t){return t()})},kw),Sw=(Aw.prototype.Dr=function(e,n){var r=this;return this.vr.Cr(e,n).next(function(t){return r.Nr(e,n,t)})},Aw.prototype.Nr=function(t,r,i){return this.br.Ar(t,r).next(function(t){for(var e=0,n=i;e<n.length;e++)t=n[e].ur(r,t);return t})},Aw.prototype.Fr=function(t,e,i){var o=lg;return e.forEach(function(t,e){for(var n=0,r=i;n<r.length;n++)e=r[n].ur(t,e);o=o.rt(t,e)}),o},Aw.prototype.$r=function(e,t){var n=this;return this.br.getEntries(e,t).next(function(t){return n.kr(e,t)})},Aw.prototype.kr=function(e,r){var i=this;return this.vr.Mr(e,r).next(function(t){var t=i.Fr(e,r,t),n=lg;return t.forEach(function(t,e){e=e||new Ob(t,My.min()),n=n.rt(t,e)}),n})},Aw.prototype.Or=function(t,e,n){return P.F((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Lr(t,e.path):Bb(e)?this.Br(t,e,n):this.qr(t,e,n);var r},Aw.prototype.Lr=function(t,e){return this.Dr(t,new P(e)).next(function(t){var e=dg;return e=t instanceof kb?e.rt(t.key,t):e})},Aw.prototype.Br=function(n,r,i){var o=this,s=r.collectionGroup,a=dg;return this.Sr.Ur(n,s).next(function(t){return x.forEach(t,function(t){e=r,t=t.child(s);var e,t=new Pb(t,null,e.rn.slice(),e.filters.slice(),e.limit,e.on,e.startAt,e.endAt);return o.qr(n,t,i).next(function(t){t.forEach(function(t,e){a=a.rt(t,e)})})}).next(function(){return a})})},Aw.prototype.qr=function(e,n,t){var c,h,r=this;return this.br.Or(e,n,t).next(function(t){return c=t,r.vr.Qr(e,n)}).next(function(t){return h=t,r.Wr(e,h,c).next(function(t){c=t;for(var e=0,n=h;e<n.length;e++)for(var r=n[e],i=0,o=r.mutations;i<o.length;i++){var s=o[i],a=s.key,u=c.get(a),s=eb(s,u,u,r.rr);c=s instanceof kb?c.rt(a,s):c.remove(a)}})}).next(function(){return c.forEach(function(t,e){Jb(n,e)||(c=c.remove(t))}),c})},Aw.prototype.Wr=function(t,e,n){for(var r=gg(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof ab&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.br.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof kb&&(c=c.rt(t,e))}),c})},Aw),Cw=(Nw.Gr=function(t,e){for(var n=gg(),r=gg(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new Nw(t,e.fromCache,n,r)},Nw);function Nw(t,e,n,r){this.targetId=t,this.fromCache=e,this.jr=n,this.Kr=r}function Aw(t,e,n){this.br=t,this.vr=e,this.Sr=n}function kw(){this.yr=[]}function Ow(){this.dr=new xy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.wr=!1}function Rw(t,e,n,r){this.batch=t,this.lr=e,this.cr=n,this._r=r}function Pw(t,e,n,r){this.batchId=t,this.rr=e,this.baseMutations=n,this.mutations=r}function Dw(){this.sr=new bw,this.ir={},this.fi=null,this.ni=null}function s(t,e,n,r,i){this.window=t,this._n=e,this.persistenceKey=n,this.li=r,this._i=null,this.fi=null,this.ni=null,this.di=this.wi.bind(this),this.mi=new ng(D),this.Ti=!1,this.Ei=[];t=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ii=fw(this.persistenceKey,this.li),this.Ai="firestore_sequence_number_"+this.persistenceKey,this.mi=this.mi.rt(this.li,new bw),this.Ri=new RegExp("^firestore_clients_"+t+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+t+"_(\\d+)(?:_(.*))?$"),this.gi=new RegExp("^firestore_targets_"+t+"_(\\d+)$"),this.yi="firestore_online_state_"+this.persistenceKey,this.window.addEventListener("storage",this.di)}function xw(){this.activeTargetIds=mg}function Lw(t,e){this.clientId=t,this.onlineState=e}function Mw(t,e){this.clientId=t,this.activeTargetIds=e}function Fw(t,e,n){this.targetId=t,this.state=e,this.error=n}function Uw(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function jw(t,e){var n=D(t[0],e[0]);return 0===n?D(t[1],e[1]):n}Gw.prototype.Yr=function(){return++this.Hr},Gw.prototype.Jr=function(t){var e,t=[t,this.Yr()];this.buffer.size<this.zr?this.buffer=this.buffer.add(t):jw(t,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(t))},Object.defineProperty(Gw.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0});var Vw=Gw,qw={Xr:!1,Zr:0,eo:0,no:0},Bw=(Ww.oo=function(t){return new Ww(t,Ww.ao,Ww.co)},Ww);function Ww(t,e,n){this.so=t,this.io=e,this.ro=n}function Gw(t){this.zr=t,this.buffer=new cg(jw),this.Hr=0}Bw.uo=-1,Bw.ho=1048576,Bw.lo=41943040,Bw.ao=10,Bw.co=1e3,Bw._o=new Bw(Bw.lo,Bw.ao,Bw.co),Bw.fo=new Bw(Bw.uo,0,0);Qw.prototype.start=function(t){this.do.params.so!==Bw.uo&&this.To(t)},Qw.prototype.stop=function(){this.mo&&(this.mo.cancel(),this.mo=null)},Object.defineProperty(Qw.prototype,"Ti",{get:function(){return null!==this.mo},enumerable:!1,configurable:!0}),Qw.prototype.To=function(n){var t=this,e=this.wo?3e5:6e4;k("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.mo=this.os.gn("lru_garbage_collection",e,function(){return b(t,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:this.mo=null,this.wo=!0,t.label=1;case 1:return t.trys.push([1,3,,7]),[4,n.Eo(this.do)];case 2:return t.sent(),[3,7];case 3:return V_(e=t.sent())?(k("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,_E(e)];case 5:t.sent(),t.label=6;case 6:return[3,7];case 7:return[4,this.To(n)];case 8:return t.sent(),[2]}})})})};var Hw=Qw,Kw=(zw.prototype.Ao=function(t,e){return this.Io.Ro(t).next(function(t){return Math.floor(e/100*t)})},zw.prototype.Po=function(t,e){var n,r=this;return 0===e?x.resolve(hw.oi):(n=new Vw(e),this.Io.De(t,function(t){return n.Jr(t.sequenceNumber)}).next(function(){return r.Io.yo(t,function(t){return n.Jr(t)})}).next(function(){return n.maxValue}))},zw.prototype.Vo=function(t,e,n){return this.Io.Vo(t,e,n)},zw.prototype.po=function(t,e){return this.Io.po(t,e)},zw.prototype.bo=function(e,n){var r=this;return this.params.so===Bw.uo?(k("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(qw)):this.vo(e).next(function(t){return t<r.params.so?(k("LruGarbageCollector","Garbage collection skipped; Cache size "+t+" is lower than threshold "+r.params.so),qw):r.So(e,n)})},zw.prototype.vo=function(t){return this.Io.vo(t)},zw.prototype.So=function(e,n){var r,i,o,s,a,u,c,h=this,l=Date.now();return this.Ao(e,this.params.io).next(function(t){return i=t>h.params.ro?(k("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.ro+" from "+t),h.params.ro):t,s=Date.now(),h.Po(e,i)}).next(function(t){return r=t,a=Date.now(),h.Vo(e,r,n)}).next(function(t){return o=t,u=Date.now(),h.po(e,r)}).next(function(t){return c=Date.now(),jv()<=v.DEBUG&&k("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+i+" in "+(a-s)+"ms\n\tRemoved "+o+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-l)+"ms"),x.resolve({Xr:!0,Zr:i,eo:o,no:t})})},zw);function zw(t,e){this.Io=t,this.params=e}function Qw(t,e){this.do=t,this.os=e,this.wo=!1,this.mo=null}function Yw(t){for(var o="",e=0;e<t.length;e++)0<o.length&&(o=Xw(o)),o=function(t){for(var e=o,n=t.length,r=0;r<n;r++){var i=t.charAt(r);switch(i){case"\0":e+="";break;case"":e+="";break;default:e+=i}}return e}(t.get(e));return Xw(o)}function Xw(t){return t+""}function Jw(t){var e=t.length;if(R(2<=e),2===e)return R(""===t.charAt(0)&&""===t.charAt(1)),Qv.g();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||n<s)&&O(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i=i+t.substring(o,s)+"\0";break;case"":i+=t.substring(o,s+1);break;default:O()}o=s+2}return new Qv(r)}function $w(t){this.Do=t}function Zw(t,e){var n,r,i;return e.document?(t=t.Do,i=!!e.hasCommittedMutations,n=dm(t,(t=e.document).name),r=hm(t.updateTime),t=new bb({mapValue:{fields:t.fields}}),new kb(n,r,t,{hasCommittedMutations:!!i})):e.noDocument?(n=P.$(e.noDocument.path),r=i0(e.noDocument.readTime),new Ob(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})):e.unknownDocument?(t=P.$(e.unknownDocument.path),i=i0(e.unknownDocument.version),new Rb(t,i)):O()}function t0(t,e,n){var r,i,n=e0(n),o=e.key.path.h().A();return e instanceof kb?(t={name:pm(t=t.Do,(i=e).key),fields:i.sn().mapValue.fields,updateTime:um(t,i.version.X())},i=e.hasCommittedMutations,new F0(null,null,t,i,n,o)):e instanceof Ob?(t=e.key.path.A(),i=r0(e.version),r=e.hasCommittedMutations,new F0(null,new L0(t,i),null,r,n,o)):e instanceof Rb?(t=e.key.path.A(),i=r0(e.version),new F0(new M0(t,i),null,null,!0,n,o)):O()}function e0(t){t=t.X();return[t.seconds,t.nanoseconds]}function n0(t){t=new Ly(t[0],t[1]);return My.Y(t)}function r0(t){t=t.X();return new C0(t.seconds,t.nanoseconds)}function i0(t){t=new Ly(t.seconds,t.nanoseconds);return My.Y(t)}function o0(e,t){var n=(t.baseMutations||[]).map(function(t){return wm(e.Do,t)}),r=t.mutations.map(function(t){return wm(e.Do,t)}),i=Ly.fromMillis(t.localWriteTimeMs);return new Ew(t.batchId,i,n,r)}function s0(t){var e,n,r,i,o,s,a,u=i0(t.readTime),c=void 0!==t.lastLimboFreeSnapshotVersion?i0(t.lastLimboFreeSnapshotVersion):My.min(),h=void 0!==t.query.documents?(R(1===(e=t.query).documents.length),Gb(Fb(ym(e.documents[0])))):(n=ym((e=t.query).parent),r=(e=e.structuredQuery).from?e.from.length:0,i=null,0<r&&(R(1===r),(r=e.from[0]).allDescendants?i=r.collectionId:n=n.child(r.collectionId)),r=[],e.where&&(r=function t(e){return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Nm(t.unaryFilter.field);return t_.create(e,"==",{doubleValue:NaN});case"IS_NULL":e=Nm(t.unaryFilter.field);return t_.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":e=Nm(t.unaryFilter.field);return t_.create(e,"!=",{doubleValue:NaN});case"IS_NOT_NULL":e=Nm(t.unaryFilter.field);return t_.create(e,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(e)]:void 0!==e.fieldFilter?[t_.create(Nm((n=e).fieldFilter.field),function(){switch(n.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(),n.fieldFilter.value)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(t).reduce(function(t,e){return t.concat(e)}):O():[];var n}(e.where)),h=[],a=s=o=null,Gb(Mb(n,i,h=e.orderBy?e.orderBy.map(function(t){return new A_(Nm((e=t).field),function(){switch(e.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var e}):h,r,o=e.limit?By(i="object"==typeof(n=e.limit)?n.value:n)?null:i:o,"F",s=e.startAt?Sm(e.startAt):s,a=e.endAt?Sm(e.endAt):a)));return new $y(h,t.targetId,0,t.lastListenSequenceNumber,u,c,Ty.fromBase64String(t.resumeToken))}function a0(t,e){var n=r0(e.et),r=r0(e.lastLimboFreeSnapshotVersion),t=(Yy(e.target)?Em:Im)(t.Do,e.target),i=e.resumeToken.toBase64();return new j0(e.targetId,zy(e.target),n,i,e.sequenceNumber,r,t)}c0.Fo=function(t,e,n,r){return R(""!==t.uid),new c0(t.Xs()?t.uid:"",e,n,r)},c0.prototype.$o=function(t){var r=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return f0(t).ss({index:P0.userMutationsIndex,range:e},function(t,e,n){r=!1,n.done()}).next(function(){return r})},c0.prototype.xo=function(d,v,y,g){var m=this,b=p0(d),_=f0(d);return _.add({}).next(function(t){R("number"==typeof t);for(var e,n,r,i,o,s=new Ew(t,v,y,g),a=(e=m.serializer,n=m.userId,i=(r=s).baseMutations.map(function(t){return _m(e.Do,t)}),o=r.mutations.map(function(t){return _m(e.Do,t)}),new P0(n,r.batchId,r.rr.toMillis(),i,o)),u=[],c=new cg(function(t,e){return D(t.R(),e.R())}),h=0,l=g;h<l.length;h++){var f=l[h],p=D0.key(m.userId,f.key.path,t),c=c.add(f.key.path.h());u.push(_.put(a)),u.push(b.put(p,D0.PLACEHOLDER))}return c.forEach(function(t){u.push(m.Sr.ko(d,t))}),d.Vr(function(){m.No[t]=s.keys()}),x.$n(u).next(function(){return s})})},c0.prototype.Mo=function(t,e){var n=this;return f0(t).get(e).next(function(t){return t?(R(t.userId===n.userId),o0(n.serializer,t)):null})},c0.prototype.Oo=function(t,e){var n=this;return this.No[e]?x.resolve(this.No[e]):this.Mo(t,e).next(function(t){return t?(t=t.keys(),n.No[e]=t):null})},c0.prototype.Lo=function(t,e){var r=this,i=e+1,e=IDBKeyRange.lowerBound([this.userId,i]),o=null;return f0(t).ss({index:P0.userMutationsIndex,range:e},function(t,e,n){e.userId===r.userId&&(R(i<=e.batchId),o=o0(r.serializer,e)),n.done()}).next(function(){return o})},c0.prototype.Bo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return f0(t).ss({index:P0.userMutationsIndex,range:e,reverse:!0},function(t,e,n){r=e.batchId,n.done()}).next(function(){return r})},c0.prototype.qo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return f0(t).Zn(P0.userMutationsIndex,n).next(function(t){return t.map(function(t){return o0(e.serializer,t)})})},c0.prototype.Cr=function(o,s){var a=this,t=D0.prefixForPath(this.userId,s.path),t=IDBKeyRange.lowerBound(t),u=[];return p0(o).ss({range:t},function(t,e,n){var r=t[0],i=t[2],t=Jw(t[1]);if(r===a.userId&&s.path.isEqual(t))return f0(o).get(i).next(function(t){if(!t)throw O();R(t.userId===a.userId),u.push(o0(a.serializer,t))});n.done()}).next(function(){return u})},c0.prototype.Mr=function(e,t){var s=this,a=new cg(D),n=[];return t.forEach(function(o){var t=D0.prefixForPath(s.userId,o.path),t=IDBKeyRange.lowerBound(t),t=p0(e).ss({range:t},function(t,e,n){var r=t[0],i=t[2],t=Jw(t[1]);r===s.userId&&o.path.isEqual(t)?a=a.add(i):n.done()});n.push(t)}),x.$n(n).next(function(){return s.Uo(e,a)})},c0.prototype.Qr=function(t,e){var o=this,s=e.path,a=s.length+1,e=D0.prefixForPath(this.userId,s),e=IDBKeyRange.lowerBound(e),u=new cg(D);return p0(t).ss({range:e},function(t,e,n){var r=t[0],i=t[2],t=Jw(t[1]);r===o.userId&&s.T(t)?t.length===a&&(u=u.add(i)):n.done()}).next(function(){return o.Uo(t,u)})},c0.prototype.Uo=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(f0(e).get(t).next(function(t){if(null===t)throw O();R(t.userId===n.userId),r.push(o0(n.serializer,t))}))}),x.$n(i).next(function(){return r})},c0.prototype.Qo=function(e,n){var r=this;return l0(e.Wo,this.userId,n).next(function(t){return e.Vr(function(){r.jo(n.batchId)}),x.forEach(t,function(t){return r.Co.Ko(e,t)})})},c0.prototype.jo=function(t){delete this.No[t]},c0.prototype.Go=function(e){var i=this;return this.$o(e).next(function(t){var r;return t?(t=IDBKeyRange.lowerBound(D0.prefixForUser(i.userId)),r=[],p0(e).ss({range:t},function(t,e,n){t[0]===i.userId?(t=Jw(t[1]),r.push(t)):n.done()}).next(function(){R(0===r.length)})):x.resolve()})},c0.prototype.zo=function(t,e){return h0(t,this.userId,e)},c0.prototype.Ho=function(t){var e=this;return d0(t).get(this.userId).next(function(t){return t||new R0(e.userId,-1,"")})};var u0=c0;function c0(t,e,n,r){this.userId=t,this.serializer=e,this.Sr=n,this.Co=r,this.No={}}function h0(t,r,e){var e=D0.prefixForPath(r,e.path),i=e[1],e=IDBKeyRange.lowerBound(e),o=!1;return p0(t).ss({range:e,ns:!0},function(t,e,n){t[0]===r&&t[1]===i&&(o=!0),n.done()}).next(function(){return o})}function l0(t,e,n){var r=t.store(P0.store),i=t.store(D0.store),o=[],t=IDBKeyRange.only(n.batchId),s=0,r=r.ss({range:t},function(t,e,n){return s++,n.delete()});o.push(r.next(function(){R(1===s)}));for(var a=[],u=0,c=n.mutations;u<c.length;u++){var h=c[u],l=D0.key(e,h.key.path,n.batchId);o.push(i.delete(l)),a.push(h.key)}return x.$n(o).next(function(){return a})}function f0(t){return oE.Un(t,P0.store)}function p0(t){return oE.Un(t,D0.store)}function d0(t){return oE.Un(t,R0.store)}g0.prototype.Tr=function(t,e,n){return b0(t).put(_0(e),n)},g0.prototype.Ir=function(t,e){t=b0(t),e=_0(e);return t.delete(e)},g0.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(t){return t.byteSize+=n,r.Yo(e,t)})},g0.prototype.Ar=function(t,e){var n=this;return b0(t).get(_0(e)).next(function(t){return n.Jo(t)})},g0.prototype.Xo=function(t,e){var n=this;return b0(t).get(_0(e)).next(function(t){var e=n.Jo(t);return e?{Zo:e,size:w0(t)}:null})},g0.prototype.getEntries=function(t,e){var n=this,r=lg;return this.ta(t,e,function(t,e){e=n.Jo(e);r=r.rt(t,e)}).next(function(){return r})},g0.prototype.ea=function(t,e){var r=this,i=lg,o=new ng(P.i);return this.ta(t,e,function(t,e){var n=r.Jo(e);o=n?(i=i.rt(t,n),o.rt(t,w0(e))):(i=i.rt(t,null),o.rt(t,0))}).next(function(){return{na:i,sa:o}})},g0.prototype.ta=function(t,e,i){var n,o,s;return e.m()?x.resolve():(n=IDBKeyRange.bound(e.first().path.A(),e.last().path.A()),o=e.lt(),s=o.Et(),b0(t).ss({range:n},function(t,e,n){for(var r=P.$(t);s&&P.i(s,r)<0;)i(s,null),s=o.Et();s&&s.isEqual(r)&&(i(s,e),s=o.It()?o.Et():null),s?n.Jn(s.path.A()):n.done()}).next(function(){for(;s;)i(s,null),s=o.It()?o.Et():null}))},g0.prototype.Or=function(t,r,e){var n,i=this,o=dg,s=r.path.length+1,a={};return e.isEqual(My.min())?(n=r.path.A(),a.range=IDBKeyRange.lowerBound(n)):(n=r.path.A(),e=e0(e),a.range=IDBKeyRange.lowerBound([n,e],!0),a.index=F0.collectionReadTimeIndex),b0(t).ss(a,function(t,e,n){t.length===s&&(t=Zw(i.serializer,e),r.path.T(t.key.path)?t instanceof kb&&Jb(r,t)&&(o=o.rt(t.key,t)):n.done())}).next(function(){return o})},g0.prototype.ia=function(t,e){var r=this,i=lg,o=e0(e),e=b0(t),t=IDBKeyRange.lowerBound(o,!0);return e.ss({index:F0.readTimeIndex,range:t},function(t,e){var n=Zw(r.serializer,e);i=i.rt(n.key,n),o=e.readTime}).next(function(){return{ra:i,readTime:n0(o)}})},g0.prototype.oa=function(t){var t=b0(t),r=My.min();return t.ss({index:F0.readTimeIndex,reverse:!0},function(t,e,n){e.readTime&&(r=n0(e.readTime)),n.done()}).next(function(){return r})},g0.prototype.aa=function(t){return new g0.ca(this,!!t&&t.ua)},g0.prototype.ha=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},g0.prototype.getMetadata=function(t){return m0(t).get(U0.key).next(function(t){return R(!!t),t})},g0.prototype.Yo=function(t,e){return m0(t).put(U0.key,e)},g0.prototype.Jo=function(t){return!t||(t=Zw(this.serializer,t))instanceof Ob&&t.version.isEqual(My.min())?null:t};var v0,y0=g0;function g0(t,e){this.serializer=t,this.Sr=e}function m0(t){return oE.Un(t,U0.store)}function b0(t){return oE.Un(t,F0.store)}function _0(t){return t.path.A()}function w0(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw O();e=t.noDocument}return JSON.stringify(e).length}function E0(t,e){var n=this;return(n=v0.call(this)||this).la=t,n.ua=e,n._a=new xy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}y0.ca=(o(E0,v0=Ot),E0.prototype.gr=function(i){var o=this,s=[],a=0,u=new cg(function(t,e){return D(t.R(),e.R())});return this.dr.forEach(function(t,e){var n,r=o._a.get(t);e?(e=t0(o.la.serializer,e,o.readTime),u=u.add(t.path.h()),n=w0(e),a+=n-r,s.push(o.la.Tr(i,t,e))):(a-=r,o.ua?(n=t0(o.la.serializer,new Ob(t,My.min()),o.readTime),s.push(o.la.Tr(i,t,n))):s.push(o.la.Ir(i,t)))}),u.forEach(function(t){s.push(o.la.Sr.ko(i,t))}),s.push(this.la.updateMetadata(i,a)),x.$n(s)},E0.prototype.Rr=function(t,e){var n=this;return this.la.Xo(t,e).next(function(t){return null===t?(n._a.set(e,0),null):(n._a.set(e,t.size),t.Zo)})},E0.prototype.Pr=function(t,e){var n=this;return this.la.ea(t,e).next(function(t){var e=t.na;return t.sa.forEach(function(t,e){n._a.set(t,e)}),e})},E0);O0.prototype.ko=function(t,e){return this.fa.add(e),x.resolve()},O0.prototype.Ur=function(t,e){return x.resolve(this.fa.getEntries(e))};var I0=O0,T0=(k0.prototype.add=function(t){var e=t._(),t=t.h(),n=this.index[e]||new cg(Qv.i),r=!n.has(t);return this.index[e]=n.add(t),r},k0.prototype.has=function(t){var e=t._(),t=t.h(),e=this.index[e];return e&&e.has(t)},k0.prototype.getEntries=function(t){return(this.index[t]||new cg(Qv.i)).A()},k0),S0=(A0.prototype.createOrUpgrade=function(e,n,t,r){var i=this;R(t<r&&0<=t&&r<=10);var o=new q_(n);t<1&&1<=r&&(e.createObjectStore(N0.store),(a=e).createObjectStore(R0.store,{keyPath:R0.keyPath}),a.createObjectStore(P0.store,{keyPath:P0.keyPath,autoIncrement:!0}).createIndex(P0.userMutationsIndex,P0.userMutationsKeyPath,{unique:!0}),a.createObjectStore(D0.store),W0(e),e.createObjectStore(F0.store));var s,a=x.resolve();return t<3&&3<=r&&(0!==t&&((s=e).deleteObjectStore(V0.store),s.deleteObjectStore(j0.store),s.deleteObjectStore(q0.store),W0(e)),a=a.next(function(){return t=o.store(q0.store),e=new q0(0,0,My.min().X(),0),t.put(q0.key,e);var t,e})),t<4&&4<=r&&(a=(a=0!==t?a.next(function(){return n=e,(r=o).store(P0.store).Zn().next(function(t){n.deleteObjectStore(P0.store),n.createObjectStore(P0.store,{keyPath:P0.keyPath,autoIncrement:!0}).createIndex(P0.userMutationsIndex,P0.userMutationsKeyPath,{unique:!0});var e=r.store(P0.store),t=t.map(function(t){return e.put(t)});return x.$n(t)});var n,r}):a).next(function(){e.createObjectStore(G0.store,{keyPath:G0.keyPath})})),t<5&&5<=r&&(a=a.next(function(){return i.removeAcknowledgedMutations(o)})),t<6&&6<=r&&(a=a.next(function(){return e.createObjectStore(U0.store),i.addDocumentGlobal(o)})),t<7&&7<=r&&(a=a.next(function(){return i.ensureSequenceNumbers(o)})),t<8&&8<=r&&(a=a.next(function(){return i.createCollectionParentIndex(e,o)})),t<9&&9<=r&&(a=a.next(function(){var t;(t=e).objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges"),(t=n.objectStore(F0.store)).createIndex(F0.readTimeIndex,F0.readTimeIndexPath,{unique:!1}),t.createIndex(F0.collectionReadTimeIndex,F0.collectionReadTimeIndexPath,{unique:!1})})),a=t<10&&10<=r?a.next(function(){return i.rewriteCanonicalIds(o)}):a},A0.prototype.addDocumentGlobal=function(e){var n=0;return e.store(F0.store).ss(function(t,e){n+=w0(e)}).next(function(){var t=new U0(n);return e.store(U0.store).put(U0.key,t)})},A0.prototype.removeAcknowledgedMutations=function(n){var r=this,t=n.store(R0.store),i=n.store(P0.store);return t.Zn().next(function(t){return x.forEach(t,function(e){var t=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return i.Zn(P0.userMutationsIndex,t).next(function(t){return x.forEach(t,function(t){R(t.userId===e.userId);t=o0(r.serializer,t);return l0(n,e.userId,t).next(function(){})})})})})},A0.prototype.ensureSequenceNumbers=function(t){var o=t.store(V0.store),e=t.store(F0.store);return t.store(q0.store).get(q0.key).next(function(r){var i=[];return e.ss(function(t,e){var n=new Qv(t),t=[0,Yw(n)];i.push(o.get(t).next(function(t){return t?x.resolve():o.put(new V0(0,Yw(n),r.highestListenSequenceNumber))}))}).next(function(){return x.$n(i)})})},A0.prototype.createCollectionParentIndex=function(t,e){function n(t){var e;if(i.add(t))return e=t._(),t=t.h(),r.put({collectionId:e,parent:Yw(t)})}t.createObjectStore(B0.store,{keyPath:B0.keyPath});var r=e.store(B0.store),i=new T0;return e.store(F0.store).ss({ns:!0},function(t,e){return n(new Qv(t).h())}).next(function(){return e.store(D0.store).ss({ns:!0},function(t,e){return t[0],n(Jw(t[1]).h())})})},A0.prototype.rewriteCanonicalIds=function(t){var n=this,r=t.store(j0.store);return r.ss(function(t,e){e=s0(e),e=a0(n.serializer,e);return r.put(e)})},A0),C0=function(t,e){this.seconds=t,this.nanoseconds=e},N0=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};function A0(t){this.serializer=t}function k0(){this.index={}}function O0(){this.fa=new T0}N0.store="owner",N0.key="owner";var R0=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n},P0=(R0.store="mutationQueues",R0.keyPath="userId",function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}),D0=(P0.store="mutations",P0.keyPath="batchId",P0.userMutationsIndex="userMutationsIndex",P0.userMutationsKeyPath=["userId","batchId"],x0.prefixForUser=function(t){return[t]},x0.prefixForPath=function(t,e){return[t,Yw(e)]},x0.key=function(t,e,n){return[t,Yw(e),n]},x0);function x0(){}D0.store="documentMutations",D0.PLACEHOLDER=new D0;var L0=function(t,e){this.path=t,this.readTime=e},M0=function(t,e){this.path=t,this.version=e},F0=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o},U0=(F0.store="remoteDocuments",F0.readTimeIndex="readTimeIndex",F0.readTimeIndexPath="readTime",F0.collectionReadTimeIndex="collectionReadTimeIndex",F0.collectionReadTimeIndexPath=["parentPath","readTime"],function(t){this.byteSize=t}),j0=(U0.store="remoteDocumentGlobal",U0.key="remoteDocumentGlobalKey",function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}),V0=(j0.store="targets",j0.keyPath="targetId",j0.queryTargetsIndexName="queryTargetsIndex",j0.queryTargetsKeyPath=["canonicalId","targetId"],function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}),q0=(V0.store="targetDocuments",V0.keyPath=["targetId","path"],V0.documentTargetsIndex="documentTargetsIndex",V0.documentTargetsKeyPath=["path","targetId"],function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}),B0=(q0.key="targetGlobalKey",q0.store="targetGlobal",function(t,e){this.collectionId=t,this.parent=e});function W0(t){t.createObjectStore(V0.store,{keyPath:V0.keyPath}).createIndex(V0.documentTargetsIndex,V0.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(j0.store,{keyPath:j0.keyPath}).createIndex(j0.queryTargetsIndexName,j0.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(q0.store)}B0.store="collectionParents",B0.keyPath=["collectionId","parent"];var G0=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r},H0=(G0.store="clientMetadata",G0.keyPath="clientId",Zo(Zo(Zo([R0.store,P0.store,D0.store,F0.store,j0.store,N0.store,q0.store,V0.store],[G0.store]),[U0.store]),[B0.store])),K0=(z0.prototype.ko=function(t,e){var n,r,i=this;return this.da.has(e)?x.resolve():(r=e._(),n=e.h(),t.Vr(function(){i.da.add(e)}),r={collectionId:r,parent:Yw(n)},Q0(t).put(r))},z0.prototype.Ur=function(t,i){var o=[],e=IDBKeyRange.bound([i,""],[Iy(i),""],!1,!0);return Q0(t).Zn(e).next(function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.collectionId!==i)break;o.push(Jw(r.parent))}return o})},z0);function z0(){this.da=new T0}function Q0(t){return oE.Un(t,B0.store)}$0.prototype.next=function(){return this.wa+=2,this.wa},$0.ma=function(){return new $0(0)},$0.Ta=function(){return new $0(-1)};var Y0=$0,X0=(J0.prototype.Ea=function(n){var r=this;return this.Ia(n).next(function(t){var e=new Y0(t.highestTargetId);return t.highestTargetId=e.next(),r.Aa(n,t).next(function(){return t.highestTargetId})})},J0.prototype.Ra=function(t){return this.Ia(t).next(function(t){return My.Y(new Ly(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},J0.prototype.Pa=function(t){return this.Ia(t).next(function(t){return t.highestListenSequenceNumber})},J0.prototype.ga=function(e,n,r){var i=this;return this.Ia(e).next(function(t){return t.highestListenSequenceNumber=n,r&&(t.lastRemoteSnapshotVersion=r.X()),t.highestListenSequenceNumber<n&&(t.highestListenSequenceNumber=n),i.Aa(e,t)})},J0.prototype.ya=function(e,n){var r=this;return this.Va(e,n).next(function(){return r.Ia(e).next(function(t){return t.targetCount+=1,r.pa(n,t),r.Aa(e,t)})})},J0.prototype.ba=function(t,e){return this.Va(t,e)},J0.prototype.va=function(e,t){var n=this;return this.Sa(e,t.targetId).next(function(){return Z0(e).delete(t.targetId)}).next(function(){return n.Ia(e)}).next(function(t){return R(0<t.targetCount),--t.targetCount,n.Aa(e,t)})},J0.prototype.Vo=function(n,r,i){var o=this,s=0,a=[];return Z0(n).ss(function(t,e){e=s0(e);e.sequenceNumber<=r&&null===i.get(e.targetId)&&(s++,a.push(o.va(n,e)))}).next(function(){return x.$n(a)}).next(function(){return s})},J0.prototype.De=function(t,n){return Z0(t).ss(function(t,e){e=s0(e);n(e)})},J0.prototype.Ia=function(t){return tE(t).get(q0.key).next(function(t){return R(null!==t),t})},J0.prototype.Aa=function(t,e){return tE(t).put(q0.key,e)},J0.prototype.Va=function(t,e){return Z0(t).put(a0(this.serializer,e))},J0.prototype.pa=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),e.highestListenSequenceNumber<t.sequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},J0.prototype.Da=function(t){return this.Ia(t).next(function(t){return t.targetCount})},J0.prototype.Ca=function(t,r){var e=zy(r),e=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),i=null;return Z0(t).ss({range:e,index:j0.queryTargetsIndexName},function(t,e,n){e=s0(e);Qy(r,e.target)&&(i=e,n.done())}).next(function(){return i})},J0.prototype.Na=function(n,t,r){var i=this,o=[],s=eE(n);return t.forEach(function(t){var e=Yw(t.path);o.push(s.put(new V0(r,e))),o.push(i.Co.Fa(n,r,t))}),x.$n(o)},J0.prototype.$a=function(n,t,r){var i=this,o=eE(n);return x.forEach(t,function(t){var e=Yw(t.path);return x.$n([o.delete([r,e]),i.Co.xa(n,r,t)])})},J0.prototype.Sa=function(t,e){t=eE(t),e=IDBKeyRange.bound([e],[e+1],!1,!0);return t.delete(e)},J0.prototype.ka=function(t,e){var e=IDBKeyRange.bound([e],[e+1],!1,!0),t=eE(t),r=gg();return t.ss({range:e,ns:!0},function(t,e,n){t=Jw(t[1]),t=new P(t);r=r.add(t)}).next(function(){return r})},J0.prototype.zo=function(t,e){var e=Yw(e.path),e=IDBKeyRange.bound([e],[Iy(e)],!1,!0),r=0;return eE(t).ss({index:V0.documentTargetsIndex,ns:!0,range:e},function(t,e,n){0!==t[0]&&(r++,n.done())}).next(function(){return 0<r})},J0.prototype.qe=function(t,e){return Z0(t).get(e).next(function(t){return t?s0(t):null})},J0);function J0(t,e){this.Co=t,this.serializer=e}function $0(t){this.wa=t}function Z0(t){return oE.Un(t,j0.store)}function tE(t){return oE.Un(t,q0.store)}function eE(t){return oE.Un(t,V0.store)}var nE,rE="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",iE=(o(sE,nE=li),sE),oE=(L.Un=function(t,e){if(t instanceof iE)return P_.Un(t.Wo,e);throw O()},L.prototype.start=function(){var e=this;return this.Ja().then(function(){if(e.isPrimary||e.allowTabSynchronization)return e.Xa(),e.Za(),e.tc(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.Ha.Pa(t)});throw new A(N.FAILED_PRECONDITION,rE)}).then(function(t){e.Ba=new hw(t,e.Oa)}).then(function(){e.qa=!0}).catch(function(t){return e.za&&e.za.close(),Promise.reject(t)})},L.prototype.ec=function(n){var t=this;return this.Ka=function(e){return b(t,void 0,void 0,function(){return _(this,function(t){return this.Ti?[2,n(e)]:[2]})})},n(this.isPrimary)},L.prototype.nc=function(n){var t=this;this.za.jn(function(e){return b(t,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return null===e.newVersion?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},L.prototype.sc=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this._n.ds(function(){return b(e,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.Ti?[4,this.Ja()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},L.prototype.Ja=function(){var n=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return uE(e).put(new G0(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.ic(e).next(function(t){t||(n.isPrimary=!1,n._n.Ds(function(){return n.Ka(!1)}))})}).next(function(){return n.rc(e)}).next(function(t){return n.isPrimary&&!t?n.oc(e).next(function(){return!1}):!!t&&n.ac(e).next(function(){return!0})})}).catch(function(t){if(V_(t))return k("IndexedDbPersistence","Failed to extend owner lease: ",t),n.isPrimary;if(n.allowTabSynchronization)return k("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1;throw t}).then(function(t){n.isPrimary!==t&&n._n.Ds(function(){return n.Ka(t)}),n.isPrimary=t})},L.prototype.ic=function(t){var e=this;return aE(t).get(N0.key).next(function(t){return x.resolve(e.cc(t))})},L.prototype.uc=function(t){return uE(t).delete(this.clientId)},L.prototype.hc=function(){return b(this,void 0,void 0,function(){var e,n,r,i,o=this;return _(this,function(t){switch(t.label){case 0:return!this.isPrimary||this.lc(this.ja,18e5)?[3,2]:(this.ja=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var r=L.Un(t,G0.store);return r.Zn().next(function(t){var e=o._c(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)});return x.forEach(n,function(t){return r.delete(t.clientId)}).next(function(){return n})})}).catch(function(){return[]})]);case 1:if(e=t.sent(),this.Ya)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ya.removeItem(this.fc(i.clientId));t.label=2;case 2:return[2]}})})},L.prototype.tc=function(){var t=this;this.Wa=this._n.gn("client_metadata_refresh",4e3,function(){return t.Ja().then(function(){return t.hc()}).then(function(){return t.tc()})})},L.prototype.cc=function(t){return!!t&&t.ownerId===this.clientId},L.prototype.rc=function(e){var r=this;return this.La?x.resolve(!0):aE(e).get(N0.key).next(function(t){if(null!==t&&r.lc(t.leaseTimestampMs,5e3)&&!r.dc(t.ownerId)){if(r.cc(t)&&r.networkEnabled)return!0;if(!r.cc(t)){if(t.allowTabSynchronization)return!1;throw new A(N.FAILED_PRECONDITION,rE)}}return!(!r.networkEnabled||!r.inForeground)||uE(e).Zn().next(function(t){return void 0===r._c(t,5e3).find(function(t){if(r.clientId!==t.clientId){var e=!r.networkEnabled&&t.networkEnabled,n=!r.inForeground&&t.inForeground,t=r.networkEnabled===t.networkEnabled;if(e||n&&t)return!0}return!1})})}).next(function(t){return r.isPrimary!==t&&k("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},L.prototype.Si=function(){return b(this,void 0,void 0,function(){var n=this;return _(this,function(t){switch(t.label){case 0:return this.qa=!1,this.wc(),this.Wa&&(this.Wa.cancel(),this.Wa=null),this.mc(),this.Tc(),[4,this.za.runTransaction("readwrite",[N0.store,G0.store],function(t){var e=new iE(t,hw.oi);return n.oc(e).next(function(){return n.uc(e)})})];case 1:return t.sent(),this.za.close(),this.Ec(),[2]}})})},L.prototype._c=function(t,e){var n=this;return t.filter(function(t){return n.lc(t.updateTimeMs,e)&&!n.dc(t.clientId)})},L.prototype.Vi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return uE(t).Zn().next(function(t){return e._c(t,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(L.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),L.prototype.Ic=function(t){return u0.Fo(t,this.serializer,this.Sr,this.Co)},L.prototype.Ac=function(){return this.Ha},L.prototype.Rc=function(){return this.br},L.prototype.Pc=function(){return this.Sr},L.prototype.runTransaction=function(e,n,r){var i,o=this;return k("IndexedDbPersistence","Starting transaction:",e),this.za.runTransaction("readonly"===n?"readonly":"readwrite",H0,function(t){return i=new iE(t,o.Ba?o.Ba.next():hw.oi),"readwrite-primary"===n?o.ic(i).next(function(t){return!!t||o.rc(i)}).next(function(t){if(t)return r(i);throw Vv("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o._n.Ds(function(){return o.Ka(!1)}),new A(N.FAILED_PRECONDITION,Tw)}).next(function(t){return o.ac(i).next(function(){return t})}):o.gc(i).next(function(){return r(i)})}).then(function(t){return i.pr(),t})},L.prototype.gc=function(t){var e=this;return aE(t).get(N0.key).next(function(t){if(null!==t&&e.lc(t.leaseTimestampMs,5e3)&&!e.dc(t.ownerId)&&!e.cc(t)&&!(e.La||e.allowTabSynchronization&&t.allowTabSynchronization))throw new A(N.FAILED_PRECONDITION,rE)})},L.prototype.ac=function(t){var e=new N0(this.clientId,this.allowTabSynchronization,Date.now());return aE(t).put(N0.key,e)},L.On=function(){return P_.On()},L.prototype.oc=function(t){var e=this,n=aE(t);return n.get(N0.key).next(function(t){return e.cc(t)?(k("IndexedDbPersistence","Releasing primary lease."),n.delete(N0.key)):x.resolve()})},L.prototype.lc=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Vv("Detected an update time that is in the future: "+t+" > "+n),1))},L.prototype.Xa=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Qa=function(){t._n.ds(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ja()})},this.document.addEventListener("visibilitychange",this.Qa),this.inForeground="visible"===this.document.visibilityState)},L.prototype.mc=function(){this.Qa&&(this.document.removeEventListener("visibilitychange",this.Qa),this.Qa=null)},L.prototype.Za=function(){var t,e=this;"function"==typeof(null==(t=this.window)?void 0:t.addEventListener)&&(this.Ua=function(){e.wc(),e._n.ds(function(){return e.Si()})},this.window.addEventListener("unload",this.Ua))},L.prototype.Tc=function(){this.Ua&&(this.window.removeEventListener("unload",this.Ua),this.Ua=null)},L.prototype.dc=function(t){var e;try{var n=null!==(null==(e=this.Ya)?void 0:e.getItem(this.fc(t)));return k("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Vv("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},L.prototype.wc=function(){if(this.Ya)try{this.Ya.setItem(this.fc(this.clientId),String(Date.now()))}catch(t){Vv("Failed to set zombie client id.",t)}},L.prototype.Ec=function(){if(this.Ya)try{this.Ya.removeItem(this.fc(this.clientId))}catch(t){}},L.prototype.fc=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},L);function L(t,e,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this._n=i,this.window=o,this.document=s,this.Oa=u,this.La=c,this.Ba=null,this.qa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ua=null,this.inForeground=!1,this.Qa=null,this.Wa=null,this.ja=Number.NEGATIVE_INFINITY,this.Ka=function(t){return Promise.resolve()},!L.On())throw new A(N.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Co=new cE(this,r),this.Ga=e+"main",this.serializer=new $w(a),this.za=new P_(this.Ga,10,new S0(this.serializer)),this.Ha=new X0(this.Co,this.serializer),this.Sr=new K0,this.br=new y0(this.serializer,this.Sr),this.window&&this.window.localStorage?this.Ya=this.window.localStorage:(this.Ya=null,!1===c&&Vv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function sE(t,e){var n=this;return(n=nE.call(this)||this).Wo=t,n.Ma=e,n}function aE(t){return oE.Un(t,N0.store)}function uE(t){return oE.Un(t,G0.store)}hE.prototype.Ro=function(t){var n=this.yc(t);return this.db.Ac().Da(t).next(function(e){return n.next(function(t){return e+t})})},hE.prototype.yc=function(t){var e=0;return this.yo(t,function(t){e++}).next(function(){return e})},hE.prototype.De=function(t,e){return this.db.Ac().De(t,e)},hE.prototype.yo=function(t,n){return this.Vc(t,function(t,e){return n(e)})},hE.prototype.Fa=function(t,e,n){return lE(t,n)},hE.prototype.xa=function(t,e,n){return lE(t,n)},hE.prototype.Vo=function(t,e,n){return this.db.Ac().Vo(t,e,n)},hE.prototype.Ko=lE,hE.prototype.bc=function(t,e){return r=e,i=!1,d0(n=t).rs(function(t){return h0(n,t,r).next(function(t){return t&&(i=!0),x.resolve(!t)})}).next(function(){return i});var n,r,i},hE.prototype.po=function(n,r){var i=this,o=this.db.Rc().aa(),s=[],a=0;return this.Vc(n,function(e,t){t<=r&&(t=i.bc(n,e).next(function(t){if(!t)return a++,o.Ar(n,e).next(function(){return o.Ir(e),eE(n).delete([0,Yw(e.path)])})}),s.push(t))}).next(function(){return x.$n(s)}).next(function(){return o.apply(n)}).next(function(){return a})},hE.prototype.removeTarget=function(t,e){e=e.nt(t.Ma);return this.db.Ac().ba(t,e)},hE.prototype.vc=lE,hE.prototype.Vc=function(t,r){var i,t=eE(t),o=hw.oi;return t.ss({index:V0.documentTargetsIndex},function(t,e){var t=t[0],n=e.path,e=e.sequenceNumber;0===t?(o!==hw.oi&&r(new P(Jw(i)),o),o=e,i=n):o=hw.oi}).next(function(){o!==hw.oi&&r(new P(Jw(i)),o)})},hE.prototype.vo=function(t){return this.db.Rc().ha(t)};var cE=hE;function hE(t,e){this.db=t,this.do=new Kw(this,e)}function lE(t,e){return eE(t).put((t=t.Ma,new V0(0,Yw(e.path),t)))}function fE(t,e){var n=t.projectId;return t.W||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}dE.prototype.Eo=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(t){return e.bo(t,n.Dc)})};var pE=dE;function dE(t,e,n){this.persistence=t,this.Sc=e,this.Dc=new ng(D),this.Cc=new xy(zy,Qy),this.Nc=My.min(),this.vr=t.Ic(n),this.Fc=t.Rc(),this.Ha=t.Ac(),this.$c=new Sw(this.Fc,this.vr,this.persistence.Pc()),this.Sc.xc(this.$c)}function vE(t){var e=t;return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ha.Ra(t)})}function yE(t,r){var i=t;return i.persistence.runTransaction("Allocate target","readwrite",function(e){var n;return i.Ha.Ca(e,r).next(function(t){return t?(n=t,x.resolve(n)):i.Ha.Ea(e).next(function(t){return n=new $y(r,t,0,e.Ma),i.Ha.ya(e,n).next(function(){return n})})})}).then(function(t){var e=i.Dc.get(t.targetId);return(null===e||0<t.et.L(e.et))&&(i.Dc=i.Dc.rt(t.targetId,t),i.Cc.set(r,t.targetId)),t})}function gE(o,s,a){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:n=(e=o).Dc.get(s),r=a?"readwrite":"readwrite-primary",t.label=1;case 1:return t.trys.push([1,4,,5]),a?[3,3]:[4,e.persistence.runTransaction("Release target",r,function(t){return e.persistence.Co.removeTarget(t,n)})];case 2:t.sent(),t.label=3;case 3:return[3,5];case 4:if(V_(i=t.sent()))return k("LocalStore","Failed to update sequence numbers for target "+s+": "+i),[3,5];throw i;case 5:return e.Dc=e.Dc.remove(s),e.Cc.delete(n.target),[2]}})})}function mE(t,o,s){var a=t,u=My.min(),c=gg();return a.persistence.runTransaction("Execute query","readonly",function(e){return r=a,t=e,n=Gb(o),(void 0!==(i=(r=r).Cc.get(n))?x.resolve(r.Dc.get(i)):r.Ha.Ca(t,n)).next(function(t){if(t)return u=t.lastLimboFreeSnapshotVersion,a.Ha.ka(e,t.targetId).next(function(t){c=t})}).next(function(){return a.Sc.Or(e,o,s?u:My.min(),s?c:gg())}).next(function(t){return{documents:t,kc:c}});var t,n,r,i})}function bE(t,e){var n=t.Ha,r=t.Dc.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",function(t){return n.qe(t,e).next(function(t){return t?t.target:null})})}function _E(e){return b(this,void 0,void 0,function(){return _(this,function(t){if(e.code!==N.FAILED_PRECONDITION||e.message!==Tw)throw e;return k("LocalStore","Unexpectedly lost primary lease"),[2]})})}function wE(t,e){this.user=e,this.type="OAuth",this.zc={},this.zc.Authorization="Bearer "+t}function EE(t,e,n,r,i){var o=this;this.Gu=t,this.zu=e,this.os=n,this.Hu={},this.Yu=[],this.Ju=new Map,this.Xu=new Set,this.Zu=[],this.th=i,this.th.eh(function(t){n.ds(function(){return b(o,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return nI(this)?(k("RemoteStore","Restarting streams for network reachability change."),[4,function(n){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return(e=n).Xu.add(4),[4,QE(e)];case 1:return t.sent(),e.nh.set("Unknown"),e.Xu.delete(4),[4,zE(e)];case 2:return t.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.nh=new LE(n,r)}KE.prototype.m=function(){return this.Mc.m()},KE.prototype.Fa=function(t,e){t=new NE(t,e);this.Mc=this.Mc.add(t),this.Lc=this.Lc.add(t)},KE.prototype.qc=function(t,e){var n=this;t.forEach(function(t){return n.Fa(t,e)})},KE.prototype.xa=function(t,e){this.Uc(new NE(t,e))},KE.prototype.Qc=function(t,e){var n=this;t.forEach(function(t){return n.xa(t,e)})},KE.prototype.Wc=function(t){var e=this,n=new P(new Qv([])),r=new NE(n,t),n=new NE(n,t+1),i=[];return this.Lc.Nt([r,n],function(t){e.Uc(t),i.push(t.key)}),i},KE.prototype.jc=function(){var e=this;this.Mc.forEach(function(t){return e.Uc(t)})},KE.prototype.Uc=function(t){this.Mc=this.Mc.delete(t),this.Lc=this.Lc.delete(t)},KE.prototype.Kc=function(t){var e=new P(new Qv([])),n=new NE(e,t),e=new NE(e,t+1),r=gg();return this.Lc.Nt([n,e],function(t){r=r.add(t.key)}),r},KE.prototype.zo=function(t){var e=new NE(t,0),e=this.Mc.$t(e);return null!==e&&t.isEqual(e.key)};var IE,TE,SE,CE=KE,NE=(HE.Oc=function(t,e){return P.i(t.key,e.key)||D(t.Gc,e.Gc)},HE.Bc=function(t,e){return D(t.Gc,e.Gc)||P.i(t.key,e.key)},HE),AE=(GE.prototype.getToken=function(){return Promise.resolve(null)},GE.prototype.Yc=function(){},GE.prototype.Jc=function(t){(this.Hc=t)(aw.UNAUTHENTICATED)},GE.prototype.Xc=function(){this.Hc=null},GE),kE=(WE.prototype.getToken=function(){var e=this,n=this.eu,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(function(t){return e.eu!==n?(k("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):t?(R("string"==typeof t.accessToken),new wE(t.accessToken,e.currentUser)):null}):Promise.resolve(null)},WE.prototype.Yc=function(){this.forceRefresh=!0},WE.prototype.Jc=function(t){this.Hc=t,this.tu&&t(this.currentUser)},WE.prototype.Xc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Zc),this.Zc=null,this.Hc=null},WE.prototype.nu=function(){var t=this.auth&&this.auth.getUid();return R(null===t||"string"==typeof t),new aw(t)},WE),OE=(Object.defineProperty(BE.prototype,"zc",{get:function(){var t={"X-Goog-AuthUser":this.iu},e=this.su.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),BE),RE=(qE.prototype.getToken=function(){return Promise.resolve(new OE(this.su,this.iu))},qE.prototype.Jc=function(t){t(aw.ei)},qE.prototype.Xc=function(){},qE.prototype.Yc=function(){},qE),Jn=(VE.prototype.hu=function(){return 1===this.state||2===this.state||4===this.state},VE.prototype.lu=function(){return 2===this.state},VE.prototype.start=function(){3!==this.state?this.auth():this._u()},VE.prototype.stop=function(){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},VE.prototype.fu=function(){this.state=0,this.gs.reset()},VE.prototype.du=function(){var t=this;this.lu()&&null===this.uu&&(this.uu=this._n.gn(this.ru,6e4,function(){return t.wu()}))},VE.prototype.mu=function(t){this.Tu(),this.stream.send(t)},VE.prototype.wu=function(){return b(this,void 0,void 0,function(){return _(this,function(t){return this.lu()?[2,this.close(0)]:[2]})})},VE.prototype.Tu=function(){this.uu&&(this.uu.cancel(),this.uu=null)},VE.prototype.close=function(e,n){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.Tu(),this.gs.cancel(),this.cu++,3!==e?this.gs.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Vv(n.toString()),Vv("Using maximum backoff delay to prevent overloading the backend."),this.gs.An()):n&&n.code===N.UNAUTHENTICATED&&this.au.Yc(),null!==this.stream&&(this.Eu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Iu(n)];case 1:return t.sent(),[2]}})})},VE.prototype.Eu=function(){},VE.prototype.auth=function(){var n=this,t=(this.state=1,this.Au(this.cu)),e=this.cu;this.au.getToken().then(function(t){n.cu===e&&n.Ru(t)},function(e){t(function(){var t=new A(N.UNKNOWN,"Fetching auth token failed: "+e.message);return n.Pu(t)})})},VE.prototype.Ru=function(t){var e=this,n=this.Au(this.cu);this.stream=this.gu(t),this.stream.yu(function(){n(function(){return e.state=2,e.listener.yu()})}),this.stream.Iu(function(t){n(function(){return e.Pu(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},VE.prototype._u=function(){var t=this;this.state=4,this.gs.Rn(function(){return b(t,void 0,void 0,function(){return _(this,function(t){return this.state=0,this.start(),[2]})})})},VE.prototype.Pu=function(t){return k("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},VE.prototype.Au=function(e){var n=this;return function(t){n._n.ds(function(){return n.cu===e?t():(k("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},VE),PE=(o(jE,SE=Jn),jE.prototype.gu=function(t){return this.ou.Vu("Listen",t)},jE.prototype.onMessage=function(t){this.gs.reset();var e=function(t,e){if("targetChange"in e){e.targetChange;var n="NO_CHANGE"===(n=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===n?1:"REMOVE"===n?2:"CURRENT"===n?3:"RESET"===n?4:O(),r=e.targetChange.targetIds||[],i=(i=e.targetChange.resumeToken,t.Ue?(R(void 0===i||"string"==typeof i),Ty.fromBase64String(i||"")):(R(void 0===i||i instanceof Uint8Array),Ty.fromUint8Array(i||new Uint8Array))),o=e.targetChange.cause,s=o&&(s=void 0===(o=o).code?N.UNKNOWN:eg(o.code),new A(s,o.message||"")),o=new Cg(n,r,i,s||null)}else if("documentChange"in e){e.documentChange;n=e.documentChange,r=(n.document,n.document.name,n.document.updateTime,dm(t,n.document.name)),i=hm(n.document.updateTime),s=new bb({mapValue:{fields:n.document.fields}}),r=new kb(r,i,s,{}),i=n.targetIds||[],s=n.removedTargetIds||[],o=new Tg(i,s,r.key,r)}else if("documentDelete"in e){e.documentDelete;n=e.documentDelete,i=(n.document,dm(t,n.document)),s=n.readTime?hm(n.readTime):My.min(),r=new Ob(i,s),i=n.removedTargetIds||[];o=new Tg([],i,r.key,r)}else if("documentRemove"in e){e.documentRemove;s=e.documentRemove,n=(s.document,dm(t,s.document));o=new Tg([],s.removedTargetIds||[],n,null)}else{if(!("filter"in e))return O();e.filter;i=e.filter;i.targetId;r=new Xy(i.count||0);o=new Sg(i.targetId,r)}return o}(this.serializer,t),t=!("targetChange"in(t=t))||(t=t.targetChange).targetIds&&t.targetIds.length||!t.readTime?My.min():hm(t.readTime);return this.listener.pu(e,t)},jE.prototype.bu=function(t){var e,n={};n.database=gm(this.serializer),n.addTarget=(i=this.serializer,(e=Yy(e=(o=t).target)?{documents:Em(i,e)}:{query:Im(i,e)}).targetId=o.targetId,0<o.resumeToken.O()&&(e.resumeToken=cm(i,o.resumeToken)),e);this.serializer,r=t;var r,i,o=null==(i=function(){switch(r.tt){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}())?null:{"goog-listen-tags":i};o&&(n.labels=o),this.mu(n)},jE.prototype.vu=function(t){var e={};e.database=gm(this.serializer),e.removeTarget=t,this.mu(e)},jE),DE=(o(UE,TE=Jn),Object.defineProperty(UE.prototype,"Du",{get:function(){return this.Su},enumerable:!1,configurable:!0}),UE.prototype.start=function(){this.Su=!1,this.lastStreamToken=void 0,TE.prototype.start.call(this)},UE.prototype.Eu=function(){this.Su&&this.Cu([])},UE.prototype.gu=function(t){return this.ou.Vu("Write",t)},UE.prototype.onMessage=function(t){var e,n,i;return R(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Su?(this.gs.reset(),n=t.writeResults,i=t.commitTime,n=n&&0<n.length?(R(void 0!==i),n.map(function(t){return e=i,n=(t=t).updateTime?hm(t.updateTime):hm(e),r=null,new Xm(n=n.isEqual(My.min())?hm(e):n,r=t.transformResults&&0<t.transformResults.length?t.transformResults:r);var e,n,r})):[],e=hm(t.commitTime),this.listener.Nu(e,n)):(R(!t.writeResults||0===t.writeResults.length),this.Su=!0,this.listener.Fu())},UE.prototype.$u=function(){var t={};t.database=gm(this.serializer),this.mu(t)},UE.prototype.Cu=function(t){var e=this,t={streamToken:this.lastStreamToken,writes:t.map(function(t){return _m(e.serializer,t)})};this.mu(t)},UE),xE=(o(FE,IE=function(){}),FE.prototype.ku=function(){if(this.xu)throw new A(N.FAILED_PRECONDITION,"The client has already been terminated.")},FE.prototype.Mu=function(e,n,r){var i=this;return this.ku(),this.credentials.getToken().then(function(t){return i.ou.Mu(e,n,r,t)}).catch(function(t){throw t.code===N.UNAUTHENTICATED&&i.credentials.Yc(),t})},FE.prototype.Ou=function(e,n,r){var i=this;return this.ku(),this.credentials.getToken().then(function(t){return i.ou.Ou(e,n,r,t)}).catch(function(t){throw t.code===N.UNAUTHENTICATED&&i.credentials.Yc(),t})},FE.prototype.terminate=function(){this.xu=!1},FE),LE=(ME.prototype.Uu=function(){var t=this;0===this.Lu&&(this.Qu("Unknown"),this.Bu=this.os.gn("online_state_timeout",1e4,function(){return t.Bu=null,t.Wu("Backend didn't respond within 10 seconds."),t.Qu("Offline"),Promise.resolve()}))},ME.prototype.ju=function(t){"Online"===this.state?this.Qu("Unknown"):(this.Lu++,1<=this.Lu&&(this.Ku(),this.Wu("Connection failed 1 times. Most recent error: "+t.toString()),this.Qu("Offline")))},ME.prototype.set=function(t){this.Ku(),this.Lu=0,"Online"===t&&(this.qu=!1),this.Qu(t)},ME.prototype.Qu=function(t){t!==this.state&&(this.state=t,this.fi(t))},ME.prototype.Wu=function(t){t="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.qu?(Vv(t),this.qu=!1):k("OnlineStateTracker",t)},ME.prototype.Ku=function(){null!==this.Bu&&(this.Bu.cancel(),this.Bu=null)},ME);function ME(t,e){this.os=t,this.fi=e,this.state="Unknown",this.Lu=0,this.Bu=null,this.qu=!0}function FE(t,e,n){var r=this;return(r=IE.call(this)||this).credentials=t,r.ou=e,r.serializer=n,r.xu=!1,r}function UE(t,e,n,r,i){var o=this;return(o=TE.call(this,t,"write_stream_connection_backoff","write_stream_idle",e,n,i)||this).serializer=r,o.Su=!1,o}function jE(t,e,n,r,i){var o=this;return(o=SE.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i)||this).serializer=r,o}function VE(t,e,n,r,i,o){this._n=t,this.ru=n,this.ou=r,this.au=i,this.listener=o,this.state=0,this.cu=0,this.uu=null,this.stream=null,this.gs=new R_(t,e)}function qE(t,e){this.su=t,this.iu=e}function BE(t,e){this.su=t,this.iu=e,this.type="FirstParty",this.user=aw.ei}function WE(t){var e=this;this.Zc=null,this.currentUser=aw.UNAUTHENTICATED,this.tu=!1,this.eu=0,this.Hc=null,this.forceRefresh=!1,this.Zc=function(){e.eu++,e.currentUser=e.nu(),e.tu=!0,e.Hc&&e.Hc(e.currentUser)},this.eu=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Zc):(this.Zc(null),t.get().then(function(t){e.auth=t,e.Zc&&e.auth.addAuthTokenListener(e.Zc)},function(){}))}function GE(){this.Hc=null}function HE(t,e){this.key=t,this.Gc=e}function KE(){this.Mc=new cg(NE.Oc),this.Lc=new cg(NE.Bc)}function zE(r){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:if(!nI(r))return[3,4];e=0,n=r.Zu,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function QE(r){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:e=0,n=r.Zu,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function YE(n){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return e=n,k("RemoteStore","RemoteStore shutting down."),e.Xu.add(5),[4,QE(e)];case 1:return t.sent(),e.th.Si(),e.nh.set("Unknown"),[2]}})})}function XE(t,e){t.Ju.has(e.targetId)||(t.Ju.set(e.targetId,e),eI(t)?tI(t):hI(t).lu()&&$E(t,e))}function JE(t,e){var n=hI(t);t.Ju.delete(e),n.lu()&&ZE(t,e),0===t.Ju.size&&(n.lu()?n.du():nI(t)&&t.nh.set("Unknown"))}function $E(t,e){t.sh.Ee(e.targetId),hI(t).bu(e)}function ZE(t,e){t.sh.Ee(e),hI(t).vu(e)}function tI(e){e.sh=new Ag({Be:function(t){return e.Hu.Be(t)},qe:function(t){return e.Ju.get(t)||null}}),hI(e).start(),e.nh.Uu()}function eI(t){return nI(t)&&!hI(t).hu()&&0<t.Ju.size}function nI(t){return 0===t.Xu.size}function rI(t){t.sh=void 0}function iI(n,r,i){return b(this,void 0,void 0,function(){var e=this;return _(this,function(t){switch(t.label){case 0:if(V_(r))return n.Xu.add(1),[4,QE(n)];throw r;case 1:return t.sent(),n.nh.set("Offline"),i=i||function(){return vE(n.Gu)},n.os.Ds(function(){return b(e,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return k("RemoteStore","Retrying IndexedDB access"),[4,i()];case 1:return t.sent(),n.Xu.delete(1),[4,zE(n)];case 2:return t.sent(),[2]}})})}),[2]}})})}function oI(e,n){return n().catch(function(t){return iI(e,t,n)})}function sI(c){return b(this,void 0,void 0,function(){var o,s,a,u;return _(this,function(t){switch(t.label){case 0:s=lI(o=c),a=0<o.Yu.length?o.Yu[o.Yu.length-1].batchId:-1,t.label=1;case 1:if(!(nI(o)&&o.Yu.length<10))return[3,7];t.label=2;case 2:return t.trys.push([2,4,,6]),[4,(n=o.Gu,r=a,(i=n).persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===r&&(r=-1),i.vr.Lo(t,r)}))];case 3:if(null===(u=t.sent()))return 0===o.Yu.length&&s.du(),[3,7];else{a=u.batchId;{n=o;var e=u;n.Yu.push(e);n=lI(n);n.lu()&&n.Du&&n.Cu(e.mutations)}return[3,6]}case 4:return u=t.sent(),[4,iI(o,u)];case 5:return t.sent(),[3,6];case 6:return[3,1];case 7:return aI(o)&&uI(o),[2]}var n,r,i})})}function aI(t){return nI(t)&&!lI(t).hu()&&0<t.Yu.length}function uI(t){lI(t).start()}function cI(n,r){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return e=n,r?(e.Xu.delete(2),[4,zE(e)]):[3,2];case 1:return t.sent(),[3,5];case 2:return r?[3,4]:(e.Xu.add(2),[4,QE(e)]);case 3:t.sent(),e.nh.set("Unknown"),t.label=4;case 4:t.label=5;case 5:return[2]}})})}function hI(n){var t,e,r,i=this;return n.uh||(n.uh=(r=n.zu,t=n.os,e={yu:function(n){return b(this,void 0,void 0,function(){return _(this,function(t){return n.Ju.forEach(function(t,e){$E(n,t)}),[2]})})}.bind(null,n),Iu:function(e,n){return b(this,void 0,void 0,function(){return _(this,function(t){return rI(e),eI(e)?(e.nh.ju(n),tI(e)):e.nh.set("Unknown"),[2]})})}.bind(null,n),pu:function(s,a,u){return b(this,void 0,void 0,function(){var n,o;return _(this,function(t){switch(t.label){case 0:if(s.nh.set("Online"),!(a instanceof Cg&&2===a.state&&a.cause))return[3,6];t.label=1;case 1:return t.trys.push([1,3,,5]),[4,function(o,s){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:e=s.cause,n=0,r=s.targetIds,t.label=1;case 1:return n<r.length?(i=r[n],o.Ju.has(i)?[4,o.Hu.ih(i,e)]:[3,3]):[3,5];case 2:t.sent(),o.Ju.delete(i),o.sh.removeTarget(i),t.label=3;case 3:t.label=4;case 4:return n++,[3,1];case 5:return[2]}})})}(s,a)];case 2:return t.sent(),[3,5];case 3:return n=t.sent(),k("RemoteStore","Failed to remove targets %s: %s ",a.targetIds.join(","),n),[4,iI(s,n)];case 4:return t.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof Tg?s.sh.pe(a):a instanceof Sg?s.sh.$e(a):s.sh.Se(a),u.isEqual(My.min()))return[3,13];t.label=7;case 7:return t.trys.push([7,11,,13]),[4,vE(s.Gu)];case 8:return n=t.sent(),0<=u.L(n)?[4,((e=(r=s).sh.Me(i=u)).Gt.forEach(function(t,e){var n;0<t.resumeToken.O()&&(n=r.Ju.get(e))&&r.Ju.set(e,n.st(t.resumeToken,i))}),e.zt.forEach(function(t){var e=r.Ju.get(t);e&&(r.Ju.set(t,e.st(Ty.B,e.et)),ZE(r,t),t=new $y(e.target,t,1,e.sequenceNumber),$E(r,t))}),r.Hu.rh(e))]:[3,10];case 9:t.sent(),t.label=10;case 10:return[3,13];case 11:return k("RemoteStore","Failed to raise snapshot:",o=t.sent()),[4,iI(s,o)];case 12:return t.sent(),[3,13];case 13:return[2]}var r,i,e})})}.bind(null,n)},(r=r).ku(),new PE(t,r.ou,r.credentials,r.serializer,e)),n.Zu.push(function(e){return b(i,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return e?(n.uh.fu(),eI(n)?tI(n):n.nh.set("Unknown"),[3,3]):[3,1];case 1:return[4,n.uh.stop()];case 2:t.sent(),rI(n),t.label=3;case 3:return[2]}})})})),n.uh}function lI(n){var t,e,r,i=this;return n.hh||(n.hh=(r=n.zu,t=n.os,e={yu:function(e){return b(this,void 0,void 0,function(){return _(this,function(t){return lI(e).$u(),[2]})})}.bind(null,n),Iu:function(e,n){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return n&&lI(e).Du?[4,function(r,i){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return tg(n=i.code)&&n!==N.ABORTED?(e=r.Yu.shift(),lI(r).fu(),[4,oI(r,function(){return r.Hu.ah(e.batchId,i)})]):[3,3];case 1:return t.sent(),[4,sI(r)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}(e,n)]:[3,2];case 1:t.sent(),t.label=2;case 2:return aI(e)&&uI(e),[2]}})})}.bind(null,n),Fu:function(o){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){for(e=lI(o),n=0,r=o.Yu;n<r.length;n++)i=r[n],e.Cu(i.mutations);return[2]})})}.bind(null,n),Nu:function(r,i,o){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return e=r.Yu.shift(),n=Iw.from(e,i,o),[4,oI(r,function(){return r.Hu.oh(n)})];case 1:return t.sent(),[4,sI(r)];case 2:return t.sent(),[2]}})})}.bind(null,n)},(r=r).ku(),new DE(t,r.ou,r.credentials,r.serializer,e)),n.Zu.push(function(e){return b(i,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return e?(n.hh.fu(),[4,sI(n)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,n.hh.stop()];case 3:t.sent(),0<n.Yu.length&&(k("RemoteStore","Stopping write stream with "+n.Yu.length+" pending writes"),n.Yu=[]),t.label=4;case 4:return[2]}})})})),n.hh}function fI(t,e,n){this.query=t,this.targetId=e,this.view=n}var pI=function(t){this.key=t},dI=function(t){this.key=t},vI=(Object.defineProperty(bI.prototype,"mh",{get:function(){return this.lh},enumerable:!1,configurable:!0}),bI.prototype.Th=function(t,e){var s=this,a=e?e.Eh:new _g,u=(e||this).wh,c=(e||this).Qt,h=u,l=!1,f=Ub(this.query)&&u.size===this.query.limit?u.last():null,p=jb(this.query)&&u.size===this.query.limit?u.first():null;if(t.ut(function(t,e){var n=u.get(t),e=(e=e instanceof kb?e:null)&&(Jb(s.query,e)?e:null),r=!!n&&s.Qt.has(n.key),i=!!e&&(e.Ye||s.Qt.has(e.key)&&e.hasCommittedMutations),o=!1;n&&e?n.data().isEqual(e.data())?r!==i&&(a.track({type:3,doc:e}),o=!0):!s.Ih(n,e)&&(a.track({type:2,doc:e}),o=!0,f&&0<s.dh(e,f)||p&&s.dh(e,p)<0)&&(l=!0):!n&&e?(a.track({type:0,doc:e}),o=!0):n&&!e&&(a.track({type:1,doc:n}),o=!0,f||p)&&(l=!0),o&&(c=e?(h=h.add(e),i?c.add(t):c.delete(t)):(h=h.delete(t),c.delete(t)))}),Ub(this.query)||jb(this.query))for(;h.size>this.query.limit;){var n=Ub(this.query)?h.last():h.first(),h=h.delete(n.key),c=c.delete(n.key);a.track({type:1,doc:n})}return{wh:h,Eh:a,Ah:l,Qt:c}},bI.prototype.Ih=function(t,e){return t.Ye&&e.hasCommittedMutations&&!e.Ye},bI.prototype.gr=function(t,e,n){var o=this,r=this.wh,i=(this.wh=t.wh,this.Qt=t.Qt,t.Eh.qt()),n=(i.sort(function(t,e){return r=t.type,i=e.type,n(r)-n(i)||o.dh(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}}var r,i}),this.Rh(n),e?this.Ph():[]),e=0===this.fh.size&&this.Zt?1:0,s=e!==this._h;return this._h=e,0!==i.length||s?{snapshot:new wg(this.query,t.wh,r,i,t.Qt,0==e,s,!1),gh:n}:{gh:n}},bI.prototype.Us=function(t){return this.Zt&&"Offline"===t?(this.Zt=!1,this.gr({wh:this.wh,Eh:new _g,Qt:this.Qt,Ah:!1},!1)):{gh:[]}},bI.prototype.yh=function(t){return!this.lh.has(t)&&!!this.wh.has(t)&&!this.wh.get(t).Ye},bI.prototype.Rh=function(t){var e=this;t&&(t.te.forEach(function(t){return e.lh=e.lh.add(t)}),t.ee.forEach(function(t){}),t.ne.forEach(function(t){return e.lh=e.lh.delete(t)}),this.Zt=t.Zt)},bI.prototype.Ph=function(){var e,n,r=this;return this.Zt?(e=this.fh,this.fh=gg(),this.wh.forEach(function(t){r.yh(t.key)&&(r.fh=r.fh.add(t.key))}),n=[],e.forEach(function(t){r.fh.has(t)||n.push(new dI(t))}),this.fh.forEach(function(t){e.has(t)||n.push(new pI(t))}),n):[]},bI.prototype.Vh=function(t){this.lh=t.kc,this.fh=gg();t=this.Th(t.documents);return this.gr(t,!0)},bI.prototype.ph=function(){return wg.Kt(this.query,this.wh,this.Qt,0===this._h)},bI),yI=function(t){this.key=t,this.bh=!1},gI=(Object.defineProperty(mI.prototype,"Wh",{get:function(){return!0===this.Qh},enumerable:!1,configurable:!0}),mI);function mI(t,e,n,r,i,o){this.Gu=t,this.Sh=e,this.Dh=n,this.Ch=r,this.currentUser=i,this.Nh=o,this.Fh={},this.$h=new xy(Yb,Qb),this.xh=new Map,this.kh=[],this.Mh=new ng(P.i),this.Oh=new Map,this.Lh=new CE,this.Bh={},this.qh=new Map,this.Uh=Y0.Ta(),this.onlineState="Unknown",this.Qh=void 0}function bI(t,e){this.query=t,this.lh=e,this._h=null,this.Zt=!1,this.fh=gg(),this.Qt=gg(),this.dh=$b(t),this.wh=new bg(this.dh)}function _I(i,o,s,a){return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return i.jh=function(t,e,n){return function(r,i,o,s){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return(e=i.view.Th(o)).Ah?[4,mE(r.Gu,i.query,!1).then(function(t){t=t.documents;return i.view.Th(t,e)})]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return n=s&&s.Gt.get(i.targetId),n=i.view.gr(e,r.Wh,n),[2,(NI(r,i.targetId,n.gh),n.snapshot)]}})})}(i,t,e,n)},[4,mE(i.Gu,o,!0)];case 1:return n=t.sent(),e=new vI(o,n.kc),n=e.Th(n.documents),r=Ig.Xt(s,a&&"Offline"!==i.onlineState),n=e.gr(n,i.Wh,r),NI(i,s,n.gh),r=new fI(o,s,e),[2,(i.$h.set(o,r),i.xh.has(s)?i.xh.get(s).push(o):i.xh.set(s,[o]),n.snapshot)]}})})}function wI(i,o){return b(this,void 0,void 0,function(){var n,r;return _(this,function(t){switch(t.label){case 0:n=i,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,(e=n.Gu,c=e,h=(u=o).et,l=c.Dc,c.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var i=c.Fc.aa({ua:!0}),a=(l=c.Dc,[]);u.Gt.forEach(function(t,e){var n,r,i,o=l.get(e);o&&(a.push(c.Ha.$a(s,t.ne,e).next(function(){return c.Ha.Na(s,t.te,e)})),0<(n=t.resumeToken).O())&&(n=o.st(n,h).nt(s.Ma),l=l.rt(e,n),o=o,i=t,R(0<(r=n).resumeToken.O()),0===o.resumeToken.O()||3e8<=r.et.J()-o.et.J()||0<i.te.size+i.ee.size+i.ne.size)&&a.push(c.Ha.ba(s,n))});var t,o=lg,n=gg();return u.Ht.forEach(function(t,e){n=n.add(t)}),a.push(i.getEntries(s,n).next(function(r){u.Ht.forEach(function(t,e){var n=r.get(t);e instanceof Ob&&e.version.isEqual(My.min())?(i.Ir(t,h),o=o.rt(t,e)):null==n||0<e.version.L(n.version)||0===e.version.L(n.version)&&n.hasPendingWrites?(i.Tr(e,h),o=o.rt(t,e)):k("LocalStore","Ignoring outdated watch update for ",t,". Current version:",n.version," Watch version:",e.version),u.Yt.has(t)&&a.push(c.persistence.Co.vc(s,t))})})),h.isEqual(My.min())||(t=c.Ha.Ra(s).next(function(t){return c.Ha.ga(s,s.Ma,h)}),a.push(t)),x.$n(a).next(function(){return i.apply(s)}).next(function(){return c.$c.kr(s,o)})}).then(function(t){return c.Dc=l,t}))];case 2:return r=t.sent(),o.Gt.forEach(function(t,e){e=n.Oh.get(e);e&&(R(t.te.size+t.ee.size+t.ne.size<=1),0<t.te.size?e.bh=!0:0<t.ee.size?R(e.bh):0<t.ne.size&&(R(e.bh),e.bh=!1))}),[4,kI(n,r,o)];case 3:return t.sent(),[3,6];case 4:return[4,_E(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}var e,u,c,h,l})})}function EI(t,n,e){var r,i,o;(t.Wh&&0===e||!t.Wh&&1===e)&&(r=[],t.$h.forEach(function(t,e){e=e.view.Us(n);e.snapshot&&r.push(e.snapshot)}),e=t.Dh,i=n,e.onlineState=i,o=!1,e.Ls.forEach(function(t,e){for(var n=0,r=e.listeners;n<r.length;n++)r[n].Us(i)&&(o=!0)}),o&&ow(e),r.length&&t.Fh.pu(r),t.onlineState=n,t.Wh)&&t.Ch.ji(n)}function II(t,e){(t.qh.get(e)||[]).forEach(function(t){t.resolve()}),t.qh.delete(e)}function TI(t,e,n){var r,i=t.Bh[t.currentUser.Zs()];i&&((r=i.get(e))&&(n?r.reject(n):r.resolve(),i=i.remove(e)),t.Bh[t.currentUser.Zs()]=i)}function SI(e,t,n){void 0===n&&(n=null),e.Ch.Li(t);for(var r=0,i=e.xh.get(t);r<i.length;r++){var o=i[r];e.$h.delete(o),n&&e.Fh.Kh(o,n)}e.xh.delete(t),e.Wh&&e.Lh.Wc(t).forEach(function(t){e.Lh.zo(t)||CI(e,t)})}function CI(t,e){var n=t.Mh.get(e);null!==n&&(JE(t.Sh,n),t.Mh=t.Mh.remove(e),t.Oh.delete(n),AI(t))}function NI(t,e,n){for(var r,i,o=0,s=n;o<s.length;o++){var a=s[o];a instanceof pI?(t.Lh.Fa(a.key,e),i=a.key,(r=t).Mh.get(i)||(k("SyncEngine","New document in limbo: "+i),r.kh.push(i),AI(r))):a instanceof dI?(k("SyncEngine","Document no longer in limbo: "+a.key),t.Lh.xa(a.key,e),t.Lh.zo(a.key)||CI(t,a.key)):O()}}function AI(t){for(;0<t.kh.length&&t.Mh.size<t.Nh;){var e=t.kh.shift(),n=t.Uh.next();t.Oh.set(n,new yI(e)),t.Mh=t.Mh.rt(e,n),XE(t.Sh,new $y(Gb(Fb(e.path)),n,2,hw.oi))}}function kI(e,s,a){return b(this,void 0,void 0,function(){var n,r,i,o;return _(this,function(t){switch(t.label){case 0:return r=[],i=[],o=[],(n=e).$h.m()?[3,3]:(n.$h.forEach(function(t,e){o.push(n.jh(e,s,a).then(function(t){t&&(n.Wh&&n.Ch.Ui(e.targetId,t.fromCache?"not-current":"current"),r.push(t),t=Cw.Gr(e.targetId,t),i.push(t))}))}),[4,Promise.all(o)]);case 1:return t.sent(),n.Fh.pu(r),[4,function(u,c){return b(this,void 0,void 0,function(){var r,e,n,i,o,s,a;return _(this,function(t){switch(t.label){case 0:r=u,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return x.forEach(c,function(e){return x.forEach(e.jr,function(t){return r.persistence.Co.Fa(n,e.targetId,t)}).next(function(){return x.forEach(e.Kr,function(t){return r.persistence.Co.xa(n,e.targetId,t)})})})})];case 2:return t.sent(),[3,4];case 3:if(V_(e=t.sent()))return k("LocalStore","Failed to update sequence numbers: "+e),[3,4];throw e;case 4:for(n=0,i=c;n<i.length;n++)a=i[n],o=a.targetId,a.fromCache||(a=r.Dc.get(o),s=a.et,a=a.it(s),r.Dc=r.Dc.rt(o,a));return[2]}})})}(n.Gu,i)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}function OI(p,d){return b(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l,f;return _(this,function(t){switch(t.label){case 0:e=p,n=[],r=[],i=0,o=d,t.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=e.xh.get(s))&&0!==u.length?[4,yE(e.Gu,Gb(u[0]))]:[3,7]):[3,13];case 2:a=t.sent(),c=0,h=u,t.label=3;case 3:return c<h.length?(l=h[c],l=e.$h.get(l),[4,function(r,i){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return[4,mE((e=r).Gu,i.query,!0)];case 1:return n=t.sent(),n=i.view.Vh(n),[2,(e.Wh&&NI(e,i.targetId,n.gh),n)]}})})}(e,l)]):[3,6];case 4:(l=t.sent()).snapshot&&r.push(l.snapshot),t.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,bE(e.Gu,s)];case 8:return f=t.sent(),[4,yE(e.Gu,f)];case 9:return a=t.sent(),[4,_I(e,RI(f),s,!1)];case 10:t.sent(),t.label=11;case 11:n.push(a),t.label=12;case 12:return i++,[3,1];case 13:return[2,(e.Fh.pu(r),n)]}})})}function RI(t){return Mb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function PI(t){return t.Sh.Hu.rh=wI.bind(null,t),t.Sh.Hu.Be=function(t,e){var n=t,t=n.Oh.get(e);if(t&&t.bh)return gg().add(t.key);var r=gg(),t=n.xh.get(e);if(t)for(var i=0,o=t;i<o.length;i++)var s=o[i],s=n.$h.get(s),r=r.xt(s.view.mh);return r}.bind(null,t),t.Sh.Hu.ih=function(o,s,a){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:return(e=o).Ch.Ui(s,"rejected",a),n=e.Oh.get(s),(n=n&&n.key)?(i=(i=new ng(P.i)).rt(n,new Ob(n,My.min())),r=gg().add(n),i=new Eg(My.min(),new Map,new cg(D),i,r),[4,wI(e,i)]):[3,2];case 1:return t.sent(),e.Mh=e.Mh.remove(n),e.Oh.delete(s),AI(e),[3,4];case 2:return[4,gE(e.Gu,s,!1).then(function(){return SI(e,s,a)}).catch(_E)];case 3:t.sent(),t.label=4;case 4:return[2]}})})}.bind(null,t),t.Fh.pu=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,a=n.Ls.get(a);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Qs(s)&&(r=!0);a.Os=s}}r&&ow(n)}.bind(null,t.Dh),t.Fh.Kh=function(t,e,n){var r=t.Ls.get(e);if(r)for(var i=0,o=r.listeners;i<o.length;i++)o[i].onError(n);t.Ls.delete(e)}.bind(null,t.Dh),t}function DI(t){return t.Sh.Hu.oh=function(o,s){return b(this,void 0,void 0,function(){var n,r,i;return _(this,function(t){switch(t.label){case 0:n=o,r=s.batch.batchId,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,(e=n.Gu,h=s,(l=e).persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r,e=h.batch.keys(),n=l.Fc.aa({ua:!0}),i=l,o=t,s=n,a=(r=h).batch,u=a.keys(),c=x.resolve();return u.forEach(function(n){c=c.next(function(){return s.Ar(o,n)}).next(function(t){var e=r._r.get(n);R(null!==e),(!t||t.version.L(e)<0)&&(t=a.ar(n,t,r))&&s.Tr(t,r.lr)})}),c.next(function(){return i.vr.Qo(o,a)}).next(function(){return n.apply(t)}).next(function(){return l.vr.Go(t)}).next(function(){return l.$c.$r(t,e)})}))];case 2:return i=t.sent(),TI(n,r,null),II(n,r),n.Ch.xi(r,"acknowledged"),[4,kI(n,i)];case 3:return t.sent(),[3,6];case 4:return[4,_E(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}var e,h,l})})}.bind(null,t),t.Sh.Hu.ah=function(s,a,u){return b(this,void 0,void 0,function(){var n,o;return _(this,function(t){switch(t.label){case 0:n=s,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,(e=n.Gu,r=a,(i=e).persistence.runTransaction("Reject batch","readwrite-primary",function(e){var n;return i.vr.Mo(e,r).next(function(t){return R(null!==t),n=t.keys(),i.vr.Qo(e,t)}).next(function(){return i.vr.Go(e)}).next(function(){return i.$c.$r(e,n)})}))];case 2:return o=t.sent(),TI(n,a,u),II(n,a),n.Ch.xi(a,"rejected",u),[4,kI(n,o)];case 3:return t.sent(),[3,6];case 4:return[4,_E(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}var e,r,i})})}.bind(null,t),t}VI.prototype.xc=function(t){this.Yh=t},VI.prototype.Or=function(e,r,i,o){var s=this;return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.rn.length||1===r.rn.length&&r.rn[0].field.p())||i.isEqual(My.min())?this.Jh(e,r):this.Yh.$r(e,o).next(function(t){var n=s.Xh(r,t);return(Ub(r)||jb(r))&&s.Ah(r.on,n,o,i)?s.Jh(e,r):(jv()<=v.DEBUG&&k("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xb(r)),s.Yh.Or(e,r,i).next(function(e){return n.forEach(function(t){e=e.rt(t.key,t)}),e}))})},VI.prototype.Xh=function(n,t){var r=new cg($b(n));return t.forEach(function(t,e){e instanceof kb&&Jb(n,e)&&(r=r.add(e))}),r},VI.prototype.Ah=function(t,e,n,r){return n.size!==e.size||!!(n="F"===t?e.last():e.first())&&(n.hasPendingWrites||0<n.version.L(r))},VI.prototype.Jh=function(t,e){return jv()<=v.DEBUG&&k("IndexFreeQueryEngine","Using full collection scan to execute query:",Xb(e)),this.Yh.Or(t,e,My.min())};var xI,LI=VI,MI=(jI.prototype.$o=function(t){return x.resolve(0===this.vr.length)},jI.prototype.xo=function(t,e,n,r){var i=this.Zh,e=(this.Zh++,0<this.vr.length&&this.vr[this.vr.length-1],new Ew(i,e,n,r));this.vr.push(e);for(var o=0,s=r;o<s.length;o++){var a=s[o];this.tl=this.tl.add(new NE(a.key,i)),this.Sr.ko(t,a.key.path.h())}return x.resolve(e)},jI.prototype.Mo=function(t,e){return x.resolve(this.el(e))},jI.prototype.Lo=function(t,e){e=this.nl(e+1),e=e<0?0:e;return x.resolve(this.vr.length>e?this.vr[e]:null)},jI.prototype.Bo=function(){return x.resolve(0===this.vr.length?-1:this.Zh-1)},jI.prototype.qo=function(t){return x.resolve(this.vr.slice())},jI.prototype.Cr=function(t,e){var n=this,r=new NE(e,0),e=new NE(e,Number.POSITIVE_INFINITY),i=[];return this.tl.Nt([r,e],function(t){t=n.el(t.Gc);i.push(t)}),x.resolve(i)},jI.prototype.Mr=function(t,e){var n=this,r=new cg(D);return e.forEach(function(t){var e=new NE(t,0),t=new NE(t,Number.POSITIVE_INFINITY);n.tl.Nt([e,t],function(t){r=r.add(t.Gc)})}),x.resolve(this.sl(r))},jI.prototype.Qr=function(t,e){var n=e.path,r=n.length+1,e=n,e=(P.F(e)||(e=e.child("")),new NE(new P(e),0)),i=new cg(D);return this.tl.Ft(function(t){var e=t.key.path;return!!n.T(e)&&(e.length===r&&(i=i.add(t.Gc)),!0)},e),x.resolve(this.sl(i))},jI.prototype.sl=function(t){var e=this,n=[];return t.forEach(function(t){t=e.el(t);null!==t&&n.push(t)}),n},jI.prototype.Qo=function(n,r){var i=this,o=(R(0===this.il(r.batchId,"removed")),this.vr.shift(),this.tl);return x.forEach(r.mutations,function(t){var e=new NE(t.key,r.batchId);return o=o.delete(e),i.Co.Ko(n,t.key)}).next(function(){i.tl=o})},jI.prototype.jo=function(t){},jI.prototype.zo=function(t,e){var n=new NE(e,0),n=this.tl.$t(n);return x.resolve(e.isEqual(n&&n.key))},jI.prototype.Go=function(t){return this.vr.length,x.resolve()},jI.prototype.il=function(t,e){return this.nl(t)},jI.prototype.nl=function(t){return 0===this.vr.length?0:t-this.vr[0].batchId},jI.prototype.el=function(t){t=this.nl(t);return t<0||t>=this.vr.length?null:this.vr[t]},jI),FI=(UI.prototype.Tr=function(t,e,n){var r=e.key,i=this.docs.get(r),i=i?i.size:0,o=this.rl(e);return this.docs=this.docs.rt(r,{Zo:e,size:o,readTime:n}),this.size+=o-i,this.Sr.ko(t,r.path.h())},UI.prototype.Ir=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},UI.prototype.Ar=function(t,e){e=this.docs.get(e);return x.resolve(e?e.Zo:null)},UI.prototype.getEntries=function(t,e){var n=this,r=lg;return e.forEach(function(t){var e=n.docs.get(t);r=r.rt(t,e?e.Zo:null)}),x.resolve(r)},UI.prototype.Or=function(t,e,n){for(var r=dg,i=new P(e.path.child("")),o=this.docs._t(i);o.It();){var s=o.Et(),a=s.key,s=s.value,u=s.Zo,s=s.readTime;if(!e.path.T(a.path))break;s.L(n)<=0||u instanceof kb&&Jb(e,u)&&(r=r.rt(u.key,u))}return x.resolve(r)},UI.prototype.ol=function(t,e){return x.forEach(this.docs,function(t){return e(t)})},UI.prototype.aa=function(t){return new UI.ca(this)},UI.prototype.ha=function(t){return x.resolve(this.size)},UI);function UI(t,e){this.Sr=t,this.rl=e,this.docs=new ng(P.i),this.size=0}function jI(t,e){this.Sr=t,this.Co=e,this.vr=[],this.Zh=1,this.tl=new cg(NE.Oc)}function VI(){}function qI(t){var e=this;return(e=xI.call(this)||this).la=t,e}FI.ca=(o(qI,xI=Ot),qI.prototype.gr=function(n){var r=this,i=[];return this.dr.forEach(function(t,e){e?i.push(r.la.Tr(n,e,r.readTime)):r.la.Ir(t)}),x.$n(i)},qI.prototype.Rr=function(t,e){return this.la.Ar(t,e)},qI.prototype.Pr=function(t,e){return this.la.getEntries(t,e)},qI);aT.prototype.De=function(t,n){return this.al.forEach(function(t,e){return n(e)}),x.resolve()},aT.prototype.Ra=function(t){return x.resolve(this.lastRemoteSnapshotVersion)},aT.prototype.Pa=function(t){return x.resolve(this.cl)},aT.prototype.Ea=function(t){return this.highestTargetId=this.hl.next(),x.resolve(this.highestTargetId)},aT.prototype.ga=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.cl&&(this.cl=e),x.resolve()},aT.prototype.Va=function(t){this.al.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hl=new Y0(e),this.highestTargetId=e),t.sequenceNumber>this.cl&&(this.cl=t.sequenceNumber)},aT.prototype.ya=function(t,e){return this.Va(e),this.targetCount+=1,x.resolve()},aT.prototype.ba=function(t,e){return this.Va(e),x.resolve()},aT.prototype.va=function(t,e){return this.al.delete(e.target),this.ul.Wc(e.targetId),--this.targetCount,x.resolve()},aT.prototype.Vo=function(n,r,i){var o=this,s=0,a=[];return this.al.forEach(function(t,e){e.sequenceNumber<=r&&null===i.get(e.targetId)&&(o.al.delete(t),a.push(o.Sa(n,e.targetId)),s++)}),x.$n(a).next(function(){return s})},aT.prototype.Da=function(t){return x.resolve(this.targetCount)},aT.prototype.Ca=function(t,e){e=this.al.get(e)||null;return x.resolve(e)},aT.prototype.Na=function(t,e,n){return this.ul.qc(e,n),x.resolve()},aT.prototype.$a=function(e,t,n){this.ul.Qc(t,n);var r=this.persistence.Co,i=[];return r&&t.forEach(function(t){i.push(r.Ko(e,t))}),x.$n(i)},aT.prototype.Sa=function(t,e){return this.ul.Wc(e),x.resolve()},aT.prototype.ka=function(t,e){e=this.ul.Kc(e);return x.resolve(e)},aT.prototype.zo=function(t,e){return x.resolve(this.ul.zo(e))};var BI,WI,GI=aT,HI=(sT.prototype.start=function(){return Promise.resolve()},sT.prototype.Si=function(){return this.qa=!1,Promise.resolve()},Object.defineProperty(sT.prototype,"Ti",{get:function(){return this.qa},enumerable:!1,configurable:!0}),sT.prototype.nc=function(){},sT.prototype.sc=function(){},sT.prototype.Pc=function(){return this.Sr},sT.prototype.Ic=function(t){var e=this.ll[t.Zs()];return e||(e=new MI(this.Sr,this.Co),this.ll[t.Zs()]=e),e},sT.prototype.Ac=function(){return this.Ha},sT.prototype.Rc=function(){return this.br},sT.prototype.runTransaction=function(t,e,n){var r=this,i=(k("MemoryPersistence","Starting transaction:",t),new KI(this.Ba.next()));return this.Co.fl(),n(i).next(function(t){return r.Co.dl(i).next(function(){return t})}).Nn().then(function(t){return i.pr(),t})},sT.prototype.wl=function(e,n){return x.xn(Object.values(this.ll).map(function(t){return function(){return t.zo(e,n)}}))},sT),KI=(o(oT,WI=li),oT),zI=(iT.El=function(t){return new iT(t)},Object.defineProperty(iT.prototype,"Il",{get:function(){if(this.Tl)return this.Tl;throw O()},enumerable:!1,configurable:!0}),iT.prototype.Fa=function(t,e,n){return this.ml.Fa(n,e),this.Il.delete(n.toString()),x.resolve()},iT.prototype.xa=function(t,e,n){return this.ml.xa(n,e),this.Il.add(n.toString()),x.resolve()},iT.prototype.Ko=function(t,e){return this.Il.add(e.toString()),x.resolve()},iT.prototype.removeTarget=function(t,e){var n=this,r=(this.ml.Wc(e.targetId).forEach(function(t){return n.Il.add(t.toString())}),this.persistence.Ac());return r.ka(t,e.targetId).next(function(t){t.forEach(function(t){return n.Il.add(t.toString())})}).next(function(){return r.va(t,e)})},iT.prototype.fl=function(){this.Tl=new Set},iT.prototype.dl=function(n){var r=this,i=this.persistence.Rc().aa();return x.forEach(this.Il,function(t){var e=P.D(t);return r.Al(n,e).next(function(t){t||i.Ir(e)})}).next(function(){return r.Tl=null,i.apply(n)})},iT.prototype.vc=function(t,e){var n=this;return this.Al(t,e).next(function(t){t?n.Il.delete(e.toString()):n.Il.add(e.toString())})},iT.prototype._l=function(t){return 0},iT.prototype.Al=function(t,e){var n=this;return x.xn([function(){return x.resolve(n.ml.zo(e))},function(){return n.persistence.Ac().zo(t,e)},function(){return n.persistence.wl(t,e)}])},iT),QI=(rT.prototype.yu=function(t){this.gl=t},rT.prototype.Iu=function(t){this.yl=t},rT.prototype.onMessage=function(t){this.Vl=t},rT.prototype.close=function(){this.Pl()},rT.prototype.send=function(t){this.Rl(t)},rT.prototype.pl=function(){this.gl()},rT.prototype.bl=function(t){this.yl(t)},rT.prototype.vl=function(t){this.Vl(t)},rT),YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},XI=(nT.prototype.Mu=function(e,t,n,r){var i=this.Nl(e,t),t=(k("RestConnection","Sending: ",i,n),{});return this.Fl(t,r),this.$l(e,i,t,n).then(function(t){return k("RestConnection","Received: ",t),t},function(t){throw qv("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t})},nT.prototype.Ou=function(t,e,n,r){return this.Mu(t,e,n,r)},nT.prototype.Fl=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.22.0",t["Content-Type"]="text/plain",e)for(var n in e.zc)e.zc.hasOwnProperty(n)&&(t[n]=e.zc[n])},nT.prototype.Nl=function(t,e){return this.Dl+"/v1/"+e+":"+YI[t]},o(eT,BI=nT),eT.prototype.$l=function(u,e,n,r){return new Promise(function(o,s){var a=new Mv,t=(a.listenOnce(xv.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Dv.NO_ERROR:var t=a.getResponseJson();k("Connection","XHR received:",JSON.stringify(t)),o(t);break;case Dv.TIMEOUT:k("Connection",'RPC "'+u+'" timed out'),s(new A(N.DEADLINE_EXCEEDED,"Request time out"));break;case Dv.HTTP_ERROR:var e,n,r=a.getStatus();k("Connection",'RPC "'+u+'" failed with status:',r,"response text:",a.getResponseText()),0<r?(e=a.getResponseJson().error)&&e.status&&e.message?(i=e.status.toLowerCase().replace("_","-"),n=0<=Object.values(N).indexOf(i)?i:N.UNKNOWN,s(new A(n,e.message))):s(new A(N.UNKNOWN,"Server responded with status "+a.getStatus())):s(new A(N.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{k("Connection",'RPC "'+u+'" completed.')}var i}),JSON.stringify(r));a.send(e,"POST",t,n,15)})},eT.prototype.Vu=function(t,e){var t=[this.Dl,"/","google.firestore.v1.Firestore","/",t,"/channel"],n=Pv(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling},e=(this.Fl(r.initMessageHeaders,e),hs()||fs()||0<=cs().indexOf("Electron/")||0<=(e=cs()).indexOf("MSIE ")||0<=e.indexOf("Trident/")||0<=cs().indexOf("MSAppHost/")||ls()||(r.httpHeadersOverwriteParam="$httpHeaders"),t.join(""));function i(t,e){o.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})}k("Connection","Creating WebChannel: "+e,r);var o=n.createWebChannel(e,r),s=!1,a=!1,u=new QI({Rl:function(t){a?k("Connection","Not sending because WebChannel is closed:",t):(s||(k("Connection","Opening WebChannel transport."),o.open(),s=!0),k("Connection","WebChannel sending:",t),o.send(t))},Pl:function(){return o.close()}});return i(Lv.EventType.OPEN,function(){a||k("Connection","WebChannel transport opened.")}),i(Lv.EventType.CLOSE,function(){a||(a=!0,k("Connection","WebChannel transport closed"),u.bl())}),i(Lv.EventType.ERROR,function(t){a||(a=!0,qv("Connection","WebChannel transport errored:",t),u.bl(new A(N.UNAVAILABLE,"The operation could not be completed")))}),i(Lv.EventType.MESSAGE,function(t){var e,n,r,i;a||(R(!!(t=t.data[0])),(e=t.error||(null==(e=t[0])?void 0:e.error))?(k("Connection","WebChannel received error:",e),n=e.status,r=function(){var t=Jy[n];if(void 0!==t)return eg(t)}(),i=e.message,void 0===r&&(r=N.INTERNAL,i="Unknown error status: "+n+" with message "+e.message),a=!0,u.bl(new A(r,i)),o.close()):(k("Connection","WebChannel received:",t),u.vl(t)))}),setTimeout(function(){u.pl()},0),u},eT),JI=(tT.prototype.eh=function(t){this.Ll.push(t)},tT.prototype.Si=function(){window.removeEventListener("online",this.xl),window.removeEventListener("offline",this.Ml)},tT.prototype.Bl=function(){window.addEventListener("online",this.xl),window.addEventListener("offline",this.Ml)},tT.prototype.kl=function(){k("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(0)},tT.prototype.Ol=function(){k("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ll;t<e.length;t++)(0,e[t])(1)},tT.On=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},tT),$I=(ZI.prototype.eh=function(t){},ZI.prototype.Si=function(){},ZI);function ZI(){}function tT(){var t=this;this.xl=function(){return t.kl()},this.Ml=function(){return t.Ol()},this.Ll=[],this.Bl()}function eT(t){var e=this;return(e=BI.call(this,t)||this).forceLongPolling=t.forceLongPolling,e}function nT(t){this.Sl=t,this.U=t.U,this.Dl=(t.ssl?"https":"http")+"://"+t.host,this.Cl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}function rT(t){this.Rl=t.Rl,this.Pl=t.Pl}function iT(t){this.persistence=t,this.ml=new CE,this.Tl=null}function oT(t){var e=this;return(e=WI.call(this)||this).Ma=t,e}function sT(t){var e=this;this.ll={},this.Ba=new hw(0),this.qa=!1,this.qa=!0,this.Co=t(this),this.Ha=new GI(this),this.Sr=new I0,this.br=new FI(this.Sr,function(t){return e.Co._l(t)})}function aT(t){this.persistence=t,this.al=new xy(zy,Qy),this.lastRemoteSnapshotVersion=My.min(),this.highestTargetId=0,this.cl=0,this.ul=new CE,this.targetCount=0,this.hl=Y0.ma()}function uT(t){return new nm(t,!0)}var cT,hT,lT,fT,pT="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",dT=(kT.prototype.initialize=function(e){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.Ch=this.ql(e),this.persistence=this.Ul(e),[4,this.persistence.start()];case 1:return t.sent(),this.Ql=this.Wl(e),this.Gu=this.jl(e),[2]}})})},kT.prototype.Wl=function(t){return null},kT.prototype.jl=function(t){return e=this.persistence,n=new LI,t=t.Kl,new pE(e,n,t);var e,n},kT.prototype.Ul=function(t){if(t.persistenceSettings.Gl)throw new A(N.FAILED_PRECONDITION,pT);return new HI(zI.El)},kT.prototype.ql=function(t){return new ww},kT.prototype.terminate=function(){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.Ql&&this.Ql.stop(),[4,this.Ch.Si()];case 1:return t.sent(),[4,this.persistence.Si()];case 2:return t.sent(),[2]}})})},kT.prototype.clearPersistence=function(t,e){throw new A(N.FAILED_PRECONDITION,pT)},kT),vT=(o(AT,fT=dT),AT.prototype.initialize=function(e){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return[4,fT.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,function(r){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){return n=(e=r).Fc,[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return n.oa(t)}).then(function(t){e.Nc=t})]})})}(this.Gu)];case 2:return t.sent(),[4,this.zl.initialize(this,e)];case 3:return t.sent(),[4,DI(this.zl._i)];case 4:return t.sent(),[4,sI(this.zl.Sh)];case 5:return t.sent(),[2]}})})},AT.prototype.Wl=function(t){var e=this.persistence.Co.do;return new Hw(e,t.os)},AT.prototype.Ul=function(t){var e=fE(t.Sl.U,t.Sl.persistenceKey),n=uT(t.Sl.U);return new oE(t.persistenceSettings.synchronizeTabs,e,t.clientId,Bw.oo(t.persistenceSettings.cacheSizeBytes),t.os,Q_(),Y_(),n,this.Ch,t.persistenceSettings.La)},AT.prototype.ql=function(t){return new ww},AT.prototype.clearPersistence=function(t,e){return function(n){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return P_.On()?(e=n+"main",[4,P_.delete(e)]):[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(fE(t,e))},o(NT,lT=AT),NT.prototype.initialize=function(r){return b(this,void 0,void 0,function(){var e,n=this;return _(this,function(t){switch(t.label){case 0:return[4,lT.prototype.initialize.call(this,r)];case 1:return t.sent(),e=this.zl._i,this.Ch instanceof _w?(this.Ch._i={tr:function(a,u,c,h){return b(this,void 0,void 0,function(){var o,s;return _(this,function(t){switch(t.label){case 0:return[4,(e=(o=a).Gu,n=u,i=(r=e).vr,r.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return i.Oo(e,n).next(function(t){return t?r.$c.$r(e,t):x.resolve(null)})}))];case 1:return null===(s=t.sent())?[3,6]:"pending"!==c?[3,3]:[4,sI(o.Sh)];case 2:return t.sent(),[3,4];case 3:"acknowledged"===c||"rejected"===c?(TI(o,u,h||null),II(o,u),o.Gu.vr.jo(u)):O(),t.label=4;case 4:return[4,kI(o,s)];case 5:return t.sent(),[3,7];case 6:k("SyncEngine","Cannot apply mutation batch with id: "+u),t.label=7;case 7:return[2]}var e,n,r,i})})}.bind(null,e),er:function(s,a,u,c){return b(this,void 0,void 0,function(){var r,i,o;return _(this,function(t){switch(t.label){case 0:return(r=s).Qh?(k("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!r.xh.has(a))return[3,8];switch(u){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,(n=r.Gu,e=n.Fc,n.persistence.runTransaction("Get new document changes","readonly",function(t){return e.ia(t,n.Nc)}).then(function(t){var e=t.ra;return n.Nc=t.readTime,e}))];case 3:return i=t.sent(),o=Eg.Jt(a,"current"===u),[4,kI(r,i,o)];case 4:return t.sent(),[3,8];case 5:return[4,gE(r.Gu,a,!0)];case 6:return t.sent(),SI(r,a,c),[3,8];case 7:O(),t.label=8;case 8:return[2]}var n,e})})}.bind(null,e),nr:function(h,l,f){return b(this,void 0,void 0,function(){var n,e,r,i,o,s,a,u,c;return _(this,function(t){switch(t.label){case 0:if(!(n=PI(h)).Qh)return[3,10];e=0,r=l,t.label=1;case 1:return e<r.length?(i=r[e],n.xh.has(i)?(k("SyncEngine","Adding an already active target "+i),[3,5]):[4,bE(n.Gu,i)]):[3,6];case 2:return o=t.sent(),[4,yE(n.Gu,o)];case 3:return s=t.sent(),[4,_I(n,RI(o),s.targetId,!1)];case 4:t.sent(),XE(n.Sh,s),t.label=5;case 5:return e++,[3,1];case 6:a=function(e){return _(this,function(t){switch(t.label){case 0:return n.xh.has(e)?[4,gE(n.Gu,e,!1).then(function(){JE(n.Sh,e),SI(n,e)}).catch(_E)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},u=0,c=f,t.label=7;case 7:return u<c.length?[5,a(c[u])]:[3,10];case 8:t.sent(),t.label=9;case 9:return u++,[3,7];case 10:return[2]}})})}.bind(null,e),Vi:function(t){return t.Gu.persistence.Vi()}.bind(null,e)},[4,this.Ch.start()]):[3,3];case 2:t.sent(),t.label=3;case 3:return[4,this.persistence.ec(function(e){return b(n,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return[4,function(h,l){return b(this,void 0,void 0,function(){var r,e,i,o,s,a,u,c;return _(this,function(t){switch(t.label){case 0:return PI(r=h),DI(r),!0!==l||!0===r.Qh?[3,3]:(e=r.Ch.Di(),[4,OI(r,e.A())]);case 1:return i=t.sent(),r.Qh=!0,[4,cI(r.Sh,!0)];case 2:for(t.sent(),o=0,s=i;o<s.length;o++)a=s[o],XE(r.Sh,a);return[3,7];case 3:return!1!==l||!1===r.Qh?[3,7]:(u=[],c=Promise.resolve(),r.xh.forEach(function(t,e){r.Ch.Bi(e)?u.push(e):c=c.then(function(){return SI(r,e),gE(r.Gu,e,!0)}),JE(r.Sh,e)}),[4,c]);case 4:return t.sent(),[4,OI(r,u)];case 5:return t.sent(),(n=r).Oh.forEach(function(t,e){JE(n.Sh,e)}),n.Lh.jc(),n.Oh=new Map,n.Mh=new ng(P.i),r.Qh=!1,[4,cI(r.Sh,!1)];case 6:t.sent(),t.label=7;case 7:return[2]}var n})})}(this.zl._i,e)];case 1:return t.sent(),this.Ql&&(e&&!this.Ql.Ti?this.Ql.start(this.Gu):e||this.Ql.stop()),[2]}})})})];case 4:return t.sent(),[2]}})})},NT.prototype.ql=function(t){if(t.persistenceSettings.Gl&&t.persistenceSettings.synchronizeTabs){var e,n=Q_();if(_w.On(n))return e=fE(t.Sl.U,t.Sl.persistenceKey),new _w(n,t.os,e,t.clientId,t.Kl);throw new A(N.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.")}return new ww},NT),yT=(CT.prototype.initialize=function(n,r){return b(this,void 0,void 0,function(){var e=this;return _(this,function(t){switch(t.label){case 0:return this.Gu?[3,2]:(this.Gu=n.Gu,this.Ch=n.Ch,this.zu=this.Hl(r),this.Sh=this.Yl(r),this.Dh=this.Jl(r),this._i=this.Xl(r),this.Ch.fi=function(t){return EI(e._i,t,1)},this.Sh.Hu.Zl=function(i,o){return b(this,void 0,void 0,function(){var n,r;return _(this,function(t){switch(t.label){case 0:return(n=i).currentUser.isEqual(o)?[3,3]:(k("SyncEngine","User change. New user:",o.Zs()),[4,function(i,o){return b(this,void 0,void 0,function(){var e,n,m,r;return _(this,function(t){switch(t.label){case 0:return n=(e=i).vr,m=e.$c,[4,e.persistence.runTransaction("Handle user change","readonly",function(y){var g;return e.vr.qo(y).next(function(t){return g=t,n=e.persistence.Ic(o),m=new Sw(e.Fc,n,e.persistence.Pc()),n.qo(y)}).next(function(t){for(var e=[],n=[],r=gg(),i=0,o=g;i<o.length;i++){var s=o[i];e.push(s.batchId);for(var a=0,u=s.mutations;a<u.length;a++)var c=u[a],r=r.add(c.key)}for(var h=0,l=t;h<l.length;h++){var f=l[h];n.push(f.batchId);for(var p=0,d=f.mutations;p<d.length;p++){var v=d[p];r=r.add(v.key)}}return m.$r(y,r).next(function(t){return{Gh:t,zh:e,Hh:n}})})})];case 1:return r=t.sent(),[2,(e.vr=n,e.$c=m,e.Sc.xc(e.$c),r)]}})})}(n.Gu,o)]);case 1:return r=t.sent(),n.currentUser=o,(e=n).qh.forEach(function(t){t.forEach(function(t){t.reject(new A(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.qh.clear(),n.Ch.Wi(o,r.zh,r.Hh),[4,kI(n,r.Gh)];case 2:t.sent(),t.label=3;case 3:return[2]}var e})})}.bind(null,this._i),[4,cI(this.Sh,this._i.Wh)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},CT.prototype.Jl=function(t){return new nw},CT.prototype.Hl=function(t){var e=uT(t.Sl.U),n=new XI(t.Sl),t=t.credentials;return new xE(t,n,e)},CT.prototype.Yl=function(t){var e=this;return new EE(this.Gu,this.zu,t.os,function(t){return EI(e._i,t,0)},new(JI.On()?JI:$I))},CT.prototype.Xl=function(t){return s=this.Gu,e=this.Sh,n=this.Dh,r=this.Ch,i=t.Kl,o=!t.persistenceSettings.Gl||!t.persistenceSettings.synchronizeTabs,s=new gI(s,e,n,r,i,t.Nh),o&&(s.Qh=!0),s;var e,n,r,i,o,s},CT.prototype.terminate=function(){return YE(this.Sh)},CT),gT=(ST.prototype.next=function(t){this.observer.next&&this.t_(this.observer.next,t)},ST.prototype.error=function(t){this.observer.error?this.t_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},ST.prototype.e_=function(){this.muted=!0},ST.prototype.t_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},ST),mT=function(t){if(!(t instanceof Array)||t.length<1)throw new A(N.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least 1 element.");for(var e=0;e<t.length;++e)if(oy("FieldPath","string",e,t[e]),0===t[e].length)throw new A(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.n_=new Xv(t)},bT=(o(TT,hT=mT),TT.documentId=function(){return new TT(Xv.v().R())},TT.prototype.isEqual=function(t){if(t instanceof TT)return this.n_.isEqual(t.n_);throw yy("isEqual","FieldPath",1,t)},TT),_T=new RegExp("[~\\*/\\[\\]]"),wT=function(t){this.s_=t},ET=(o(IT,cT=wT),IT.prototype.i_=function(t){if(2!==t.r_)throw t.o_(1===t.r_?this.s_+"() can only appear at the top level of your update data":this.s_+"() cannot be used with set() unless you pass {merge:true}");return t.Qe.push(t.path),null},IT.prototype.isEqual=function(t){return t instanceof IT},IT);function IT(){return null!==cT&&cT.apply(this,arguments)||this}function TT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return hT.call(this,t)||this}function ST(t){this.observer=t,this.muted=!1}function CT(){}function NT(){return null!==lT&&lT.apply(this,arguments)||this}function AT(t){var e=this;return(e=fT.call(this)||this).zl=t,e}function kT(){}function OT(t,e,n){return new ZT({r_:3,a_:e.settings.a_,methodName:t.s_,c_:n},e.U,e.serializer,e.ignoreUndefinedProperties)}o(JT,xT=wT),JT.prototype.i_=function(t){return new Qm(t.path,new Dm)},JT.prototype.isEqual=function(t){return t instanceof JT};var RT,PT,DT,xT,LT=JT,MT=(o(XT,DT=wT),XT.prototype.i_=function(t){var e=OT(this,t,!0),n=this.u_.map(function(t){return aS(t,e)}),n=new xm(n);return new Qm(t.path,n)},XT.prototype.isEqual=function(t){return this===t},XT),FT=(o(YT,PT=wT),YT.prototype.i_=function(t){var e=OT(this,t,!0),n=this.u_.map(function(t){return aS(t,e)}),n=new jm(n);return new Qm(t.path,n)},YT.prototype.isEqual=function(t){return this===t},YT),UT=(o(QT,RT=wT),QT.prototype.i_=function(t){var e=new Wm(t.serializer,am(t.serializer,this.h_));return new Qm(t.path,e)},QT.prototype.isEqual=function(t){return this===t},QT),jT=(Object.defineProperty(zT.prototype,"latitude",{get:function(){return this.l_},enumerable:!1,configurable:!0}),Object.defineProperty(zT.prototype,"longitude",{get:function(){return this.__},enumerable:!1,configurable:!0}),zT.prototype.isEqual=function(t){return this.l_===t.l_&&this.__===t.__},zT.prototype.toJSON=function(){return{latitude:this.l_,longitude:this.__}},zT.prototype.H=function(t){return D(this.l_,t.l_)||D(this.__,t.__)},zT),VT=function(t){this.f_=t},qT=/^__.*__$/,BT=function(t,e,n){this.d_=t,this.w_=e,this.m_=n},WT=(KT.prototype.T_=function(t,e){var n=[];return null!==this.Qe?n.push(new ab(t,this.data,this.Qe,e)):n.push(new sb(t,this.data,e)),0<this.fieldTransforms.length&&n.push(new fb(t,this.fieldTransforms)),n},KT),GT=(HT.prototype.T_=function(t,e){e=[new ab(t,this.data,this.Qe,e)];return 0<this.fieldTransforms.length&&e.push(new fb(t,this.fieldTransforms)),e},HT);function HT(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function KT(t,e,n){this.data=t,this.Qe=e,this.fieldTransforms=n}function zT(t,e){if(ny("GeoPoint",arguments,2),oy("GeoPoint","number",1,t),oy("GeoPoint","number",2,e),!isFinite(t)||t<-90||90<t)throw new A(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||180<e)throw new A(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.l_=t,this.__=e}function QT(t,e){var n=this;return(n=RT.call(this,t)||this).h_=e,n}function YT(t,e){var n=this;return(n=PT.call(this,t)||this).u_=e,n}function XT(t,e){var n=this;return(n=DT.call(this,t)||this).u_=e,n}function JT(){return null!==xT&&xT.apply(this,arguments)||this}function $T(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw O()}}Object.defineProperty(nS.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(nS.prototype,"r_",{get:function(){return this.settings.r_},enumerable:!1,configurable:!0}),nS.prototype.I_=function(t){return new nS(Object.assign(Object.assign({},this.settings),t),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Qe)},nS.prototype.A_=function(t){var e=null==(e=this.path)?void 0:e.child(t),e=this.I_({path:e,c_:!1});return e.R_(t),e},nS.prototype.P_=function(t){var e=null==(e=this.path)?void 0:e.child(t),t=this.I_({path:e,c_:!1});return t.E_(),t},nS.prototype.g_=function(t){return this.I_({path:void 0,c_:!0})},nS.prototype.o_=function(t){return pS(t,this.settings.methodName,this.settings.y_||!1,this.path,this.settings.a_)},nS.prototype.contains=function(e){return void 0!==this.Qe.find(function(t){return e.T(t)})||void 0!==this.fieldTransforms.find(function(t){return e.T(t.field)})},nS.prototype.E_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.R_(this.path.get(t))},nS.prototype.R_=function(t){if(0===t.length)throw this.o_("Document fields must not be empty");if($T(this.r_)&&qT.test(t))throw this.o_('Document fields cannot begin and end with "__"')};var ZT=nS,tS=(eS.prototype.V_=function(t,e,n,r){return void 0===r&&(r=!1),new ZT({r_:t,methodName:e,a_:n,path:Xv.g(),c_:!1,y_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},eS);function eS(t,e,n){this.U=t,this.ignoreUndefinedProperties=e,this.serializer=n||uT(t)}function nS(t,e,n,r,i,o){this.settings=t,this.U=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.E_(),this.fieldTransforms=i||[],this.Qe=o||[]}function rS(t,e,n,r,i,o){var s=t.V_((o=void 0===o?{}:o).merge||o.mergeFields?2:0,e,n,i);hS("Data must be an object, but it was:",s,r);var a,u,t=uS(r,s);if(o.merge)a=new zm(s.Qe),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,l=o.mergeFields;h<l.length;h++){var f=l[h],p=void 0;if(f instanceof mT)p=f.n_;else{if("string"!=typeof f)throw O();p=fS(e,f,n)}if(!s.contains(p))throw new A(N.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");dS(c,p)||c.push(p)}a=new zm(c),u=s.fieldTransforms.filter(function(t){return a.He(t.field)})}else a=null,u=s.fieldTransforms;return new WT(new bb(t),a,u)}function iS(t,r,i,e){var o=t.V_(1,r,i),s=(hS("Data must be an object, but it was:",o,e),[]),a=new _b,t=(Gv(e,function(t,e){var t=fS(r,t,i),n=o.P_(t);e instanceof ET||e instanceof VT&&e.f_ instanceof ET?s.push(t):null!=(e=aS(e,n))&&(s.push(t),a.set(t,e))}),new zm(s));return new GT(a.Je(),t,o.fieldTransforms)}function oS(t,e,n,r,i,o){var s=t.V_(1,e,n),a=[lS(e,r,n)],u=[i];if(o.length%2!=0)throw new A(N.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(lS(e,o[c])),u.push(o[c+1]);for(var h,l,f,p=[],d=new _b,v=a.length-1;0<=v;--v)dS(p,a[v])||(f=u[v],l=s.P_(h=a[v]),f instanceof ET||f instanceof VT&&f.f_ instanceof ET?p.push(h):null!=(f=aS(f,l))&&(p.push(h),d.set(h,f)));t=new zm(p);return new GT(d.Je(),t,s.fieldTransforms)}function sS(t,e,n,r){return aS(n,t.V_((r=void 0===r?!1:r)?4:3,e))}function aS(t,e){if(cS(t=t instanceof VT?t.f_:t))return hS("Unsupported field value:",e,t),uS(t,e);if(t instanceof wT){{var n=t;var r=e;if(!$T(r.r_))throw r.o_(n.s_+"() can only be used with update() and set()");if(!r.path)throw r.o_(n.s_+"() is not currently supported inside arrays");n=n.i_(r);n&&r.fieldTransforms.push(n)}return null}if(e.path&&e.Qe.push(e.path),t instanceof Array){if(e.settings.c_&&4!==e.r_)throw e.o_("Nested arrays are not supported");for(var i=e,o=[],s=0,a=0,u=t;a<u.length;a++){var c=aS(u[a],i.g_(s));o.push(c=null==c?{nullValue:"NULL_VALUE"}:c),s++}return{arrayValue:{values:o}}}r=t,n=e;if(null===r)return{nullValue:"NULL_VALUE"};if("number"==typeof r)return am(n.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date)return h=Ly.fromDate(r),{timestampValue:um(n.serializer,h)};if(r instanceof Ly)return h=new Ly(r.seconds,1e3*Math.floor(r.nanoseconds/1e3)),{timestampValue:um(n.serializer,h)};if(r instanceof jT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cy)return{bytesValue:cm(n.serializer,r.q)};if(r instanceof BT){var h=n.U,t=r.d_;if(t.isEqual(h))return{referenceValue:lm(r.d_||n.U,r.w_.path)};throw n.o_("Document reference is for database "+t.projectId+"/"+t.database+" but should be for database "+h.projectId+"/"+h.database)}if(void 0===r&&n.ignoreUndefinedProperties)return null;throw n.o_("Unsupported field value: "+py(r))}function uS(t,n){var r={};return Hv(t)?n.path&&0<n.path.length&&n.Qe.push(n.path):Gv(t,function(t,e){e=aS(e,n.A_(t));null!=e&&(r[t]=e)}),{mapValue:{fields:r}}}function cS(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ly||t instanceof jT||t instanceof Cy||t instanceof BT||t instanceof wT)}function hS(t,e,n){if(!cS(n)||!fy(n))throw"an object"===(n=py(n))?e.o_(t+" a custom object"):e.o_(t+" "+n)}function lS(t,e,n){if(e instanceof mT)return e.n_;if("string"==typeof e)return fS(t,e);throw pS("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function fS(t,e,n){try{return function(e){if(0<=e.search(_T))throw new A(N.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(bT.bind.apply(bT,Zo([void 0],e.split("."))))}catch(t){throw new A(N.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).n_}catch(e){throw pS(e instanceof Error?e.message:e.toString(),t,!1,void 0,n)}}function pS(t,e,n,r,i){var o=r&&!r.m(),s=void 0!==i,e="Function "+e+"() called with invalid data",n=(n&&(e+=" (via `toFirestore()`)"),"");return(o||s)&&(n+=" (found",o&&(n+=" in field "+r),s&&(n+=" in document "+i),n+=")"),new A(N.INVALID_ARGUMENT,(e+=". ")+t+n)}function dS(t,e){return t.some(function(t){return t.isEqual(e)})}_S.prototype.D_=function(r){return b(this,void 0,void 0,function(){var e,n=this;return _(this,function(t){switch(t.label){case 0:if(this.C_(),0<this.mutations.length)throw new A(N.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(i,a){return b(this,void 0,void 0,function(){var o,e,n,s,r;return _(this,function(t){switch(t.label){case 0:return n=gm((o=i).serializer)+"/documents",e={documents:a.map(function(t){return pm(o.serializer,t)})},[4,o.Ou("BatchGetDocuments",n,e)];case 1:return n=t.sent(),s=new Map,n.forEach(function(t){e=o.serializer;var e,n,r,i="found"in(t=t)?(i=e,R(!!(n=t).found),n.found.name,n.found.updateTime,i=dm(i,n.found.name),r=hm(n.found.updateTime),n=new bb({mapValue:{fields:n.found.fields}}),new kb(i,r,n,{})):"missing"in t?function(t,e){R(!!e.missing),R(!!e.readTime);t=dm(t,e.missing),e=hm(e.readTime);return new Ob(t,e)}(e,t):O();s.set(i.key.toString(),i)}),r=[],[2,(a.forEach(function(t){t=s.get(t.toString());R(!!t),r.push(t)}),r)]}})})}(this.zu,r)];case 1:return[2,((e=t.sent()).forEach(function(t){t instanceof Ob||t instanceof kb?n.N_(t):O()}),e)]}})})},_S.prototype.set=function(t,e){this.write(e.T_(t,this.Ke(t))),this.S_.add(t.toString())},_S.prototype.update=function(t,e){try{this.write(e.T_(t,this.F_(t)))}catch(t){this.v_=t}this.S_.add(t.toString())},_S.prototype.delete=function(t){this.write([new gb(t,this.Ke(t))]),this.S_.add(t.toString())},_S.prototype.commit=function(){return b(this,void 0,void 0,function(){var e,n=this;return _(this,function(t){switch(t.label){case 0:if(this.C_(),this.v_)throw this.v_;return e=this.p_,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(t,e){e=P.D(e);n.mutations.push(new mb(e,n.Ke(e)))}),[4,function(i,o){return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return n=gm((e=i).serializer)+"/documents",r={writes:o.map(function(t){return _m(e.serializer,t)})},[4,e.Mu("Commit",n,r)];case 1:return t.sent(),[2]}})})}(this.zu,this.mutations)];case 1:return t.sent(),this.b_=!0,[2]}})})},_S.prototype.N_=function(t){var e;if(t instanceof kb)e=t.version;else{if(!(t instanceof Ob))throw O();e=My.min()}var n=this.p_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new A(N.ABORTED,"Document version changed between two reads.")}else this.p_.set(t.key.toString(),e)},_S.prototype.Ke=function(t){var e=this.p_.get(t.toString());return!this.S_.has(t.toString())&&e?Jm.updateTime(e):Jm.Ge()},_S.prototype.F_=function(t){var e=this.p_.get(t.toString());if(this.S_.has(t.toString())||!e)return Jm.exists(!0);if(e.isEqual(My.min()))throw new A(N.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Jm.updateTime(e)},_S.prototype.write=function(t){this.C_(),this.mutations=this.mutations.concat(t)},_S.prototype.C_=function(){};var vS=_S,yS=(bS.prototype.run=function(){this.k_()},bS.prototype.k_=function(){var t=this;this.gs.Rn(function(){return b(t,void 0,void 0,function(){var e,n,r=this;return _(this,function(t){return e=new vS(this.zu),(n=this.M_(e))&&n.then(function(t){r.os.ds(function(){return e.commit().then(function(){r.hs.resolve(t)}).catch(function(t){r.O_(t)})})}).catch(function(t){r.O_(t)}),[2]})})})},bS.prototype.M_=function(t){try{var e=this.updateFunction(t);return!By(e)&&e.catch&&e.then?e:(this.hs.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.hs.reject(t),null}},bS.prototype.O_=function(t){var e=this;0<this.x_&&this.L_(t)?(--this.x_,this.os.ds(function(){return e.k_(),Promise.resolve()})):this.hs.reject(t)},bS.prototype.L_=function(t){return"FirebaseError"===t.name&&("aborted"===(t=t.code)||"failed-precondition"===t||!tg(t))},bS),gS=(mS.prototype.start=function(t,e,n,r){var i=this,o=(this.q_(),this.Sl=t,new k_),s=!1;return this.credentials.Jc(function(t){return s?void i.os.Ds(function(){return function(r,i){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return(e=r).os.Fs(),k("RemoteStore","RemoteStore received new credentials"),n=nI(e),e.Xu.add(3),[4,QE(e)];case 1:return t.sent(),n&&e.nh.set("Unknown"),[4,e.Hu.Zl(i)];case 2:return t.sent(),e.Xu.delete(3),[4,zE(e)];case 3:return t.sent(),[2]}})})}(i.Sh,t)}):(s=!0,k("FirestoreClient","Initializing. user=",t.uid),i.U_(e,n,r,t,o).then(i.B_.resolve,i.B_.reject))}),this.os.ds(function(){return i.B_.promise}),o.promise},mS.prototype.enableNetwork=function(){var e=this;return this.q_(),this.os.enqueue(function(){return e.persistence.sc(!0),(t=e.Sh).Xu.delete(0),zE(t);var t})},mS.prototype.U_=function(i,o,s,a,u){return b(this,void 0,void 0,function(){var e,n,r=this;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),e={os:this.os,Sl:this.Sl,clientId:this.clientId,credentials:this.credentials,Kl:a,Nh:100,persistenceSettings:s},[4,i.initialize(e)];case 1:return t.sent(),[4,o.initialize(i,e)];case 2:return t.sent(),this.persistence=i.persistence,this.Ch=i.Ch,this.Gu=i.Gu,this.Ql=i.Ql,this.zu=o.zu,this.Sh=o.Sh,this._i=o._i,this.Q_=o.Dh,this.Q_.qs=function(s,a){return b(this,void 0,void 0,function(){var e,n,r,i,o;return _(this,function(t){switch(t.label){case 0:return e=PI(s),(o=e.$h.get(a))?(n=o.targetId,e.Ch.Mi(n),r=o.view.ph(),[3,4]):[3,1];case 1:return[4,yE(e.Gu,Gb(a))];case 2:return i=t.sent(),o=e.Ch.Mi(i.targetId),n=i.targetId,[4,_I(e,a,n,"current"===o)];case 3:r=t.sent(),e.Wh&&XE(e.Sh,i),t.label=4;case 4:return[2,r]}})})}.bind(null,this._i),this.Q_.Ws=function(i,o){return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return n=(e=i).$h.get(o),1<(r=e.xh.get(n.targetId)).length?[2,(e.xh.set(n.targetId,r.filter(function(t){return!Qb(t,o)})),void e.$h.delete(o))]:e.Wh?(e.Ch.Li(n.targetId),e.Ch.Ni(n.targetId)?[3,2]:[4,gE(e.Gu,n.targetId,!1).then(function(){e.Ch.qi(n.targetId),JE(e.Sh,n.targetId),SI(e,n.targetId)}).catch(_E)]):[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return SI(e,n.targetId),[4,gE(e.Gu,n.targetId,!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})}.bind(null,this._i),this.persistence.nc(function(){return b(r,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})}),u.resolve(),[3,4];case 3:if(n=t.sent(),u.reject(n),this.W_(n))return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+n),this.U_(new dT,new yT,{Gl:!1},a,u))];throw n;case 4:return[2]}})})},mS.prototype.W_=function(t){return"FirebaseError"===t.name?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},mS.prototype.q_=function(){if(this.os.Vs)throw new A(N.FAILED_PRECONDITION,"The client has already been terminated.")},mS.prototype.disableNetwork=function(){var t=this;return this.q_(),this.os.enqueue(function(){return t.persistence.sc(!1),function(n){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return(e=n).Xu.add(0),[4,QE(e)];case 1:return t.sent(),e.nh.set("Offline"),[2]}})})}(t.Sh)})},mS.prototype.terminate=function(){var t=this,n=(this.os.Ss(),new k_);return this.os.ps(function(){return b(t,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),this.Ql&&this.Ql.stop(),[4,YE(this.Sh)];case 1:return t.sent(),[4,this.Ch.Si()];case 2:return t.sent(),[4,this.persistence.Si()];case 3:return t.sent(),this.credentials.Xc(),n.resolve(),[3,5];case 4:return e=t.sent(),e=tw(e,"Failed to shutdown persistence"),n.reject(e),[3,5];case 5:return[2]}})})}),n.promise},mS.prototype.waitForPendingWrites=function(){var t=this,e=(this.q_(),new k_);return this.os.ds(function(){return function(o,s){return b(this,void 0,void 0,function(){var n,r,i;return _(this,function(t){switch(t.label){case 0:nI((n=o).Sh)||k("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(e=n.Gu).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.vr.Bo(t)})];case 2:return-1===(r=t.sent())?[2,void s.resolve()]:((i=n.qh.get(r)||[]).push(s),n.qh.set(r,i),[3,4]);case 3:return r=t.sent(),i=tw(r,"Initialization of waitForPendingWrites() operation failed"),s.reject(i),[3,4];case 4:return[2]}var e})})}(t._i,e)}),e.promise},mS.prototype.listen=function(t,e,n){var r=this,i=(this.q_(),new gT(n)),o=new sw(t,i,e);return this.os.ds(function(){return rw(r.Q_,o)}),function(){i.e_(),r.os.ds(function(){return iw(r.Q_,o)})}},mS.prototype.j_=function(r){return b(this,void 0,void 0,function(){var e,n=this;return _(this,function(t){switch(t.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return t.sent(),e=new k_,[2,(this.os.ds(function(){return function(o,s,a){return b(this,void 0,void 0,function(){var r,i;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(e=s,(n=o).persistence.runTransaction("read document","readonly",function(t){return n.$c.Dr(t,e)}))];case 1:return(r=t.sent())instanceof kb?a.resolve(r):r instanceof Ob?a.resolve(null):a.reject(new A(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=t.sent(),i=tw(r,"Failed to get document '"+s+" from cache"),a.reject(i),[3,3];case 3:return[2]}var e,n})})}(n.Gu,r,e)}),e.promise)]}})})},mS.prototype.K_=function(c,h){return void 0===h&&(h={}),b(this,void 0,void 0,function(){var e,u=this;return _(this,function(t){switch(t.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return t.sent(),e=new k_,[2,(this.os.ds(function(){return n=u.Q_,r=u.os,i=c,o=h,s=e,t=new gT({next:function(t){r.ds(function(){return iw(n,a)});var e=t.docs.has(i);!e&&t.fromCache?s.reject(new A(N.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&o&&"server"===o.source?s.reject(new A(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(t)},error:function(t){return s.reject(t)}}),a=new sw(Fb(i.path),t,{includeMetadataChanges:!0,Js:!0}),rw(n,a);var n,r,i,o,s,t,a}),e.promise)]}})})},mS.prototype.G_=function(r){return b(this,void 0,void 0,function(){var e,n=this;return _(this,function(t){switch(t.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return t.sent(),e=new k_,[2,(this.os.ds(function(){return function(r,i,o){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,mE(r,i,!0)];case 1:return e=t.sent(),n=new vI(i,e.kc),e=n.Th(e.documents),n=n.gr(e,!1),o.resolve(n.snapshot),[3,3];case 2:return e=t.sent(),n=tw(e,"Failed to execute query '"+i+" against cache"),o.reject(n),[3,3];case 3:return[2]}})})}(n.Gu,r,e)}),e.promise)]}})})},mS.prototype.z_=function(c,h){return void 0===h&&(h={}),b(this,void 0,void 0,function(){var a,u=this;return _(this,function(t){switch(t.label){case 0:return this.q_(),[4,this.B_.promise];case 1:return t.sent(),a=new k_,[2,(this.os.ds(function(){return e=u.Q_,n=u.os,t=c,r=h,i=a,o=new gT({next:function(t){n.ds(function(){return iw(e,s)}),t.fromCache&&"server"===r.source?i.reject(new A(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}}),s=new sw(t,o,{includeMetadataChanges:!0,Js:!0}),rw(e,s);var e,n,t,r,i,o,s}),a.promise)]}})})},mS.prototype.write=function(t){var e=this,n=(this.q_(),new k_);return this.os.ds(function(){return function(p,d,v){return b(this,void 0,void 0,function(){var s,a,f;return _(this,function(t){switch(t.label){case 0:s=DI(p),t.label=1;case 1:return t.trys.push([1,5,,6]),[4,(i=s.Gu,u=d,h=i,l=Ly.now(),o=u.reduce(function(t,e){return t.add(e.key)},gg()),h.persistence.runTransaction("Locally write mutations","readwrite",function(a){return h.$c.$r(a,o).next(function(t){c=t;for(var s,e=[],n=0,r=u;n<r.length;n++){var i=r[n],o=(o=c.get((s=i).key),s instanceof fb?function(t){for(var e=null,n=0,r=s.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof kb?t.field(i.field):void 0,o=Om(i.transform,o||null);null!=o&&(e=(null==e?new _b:e).set(i.field,o))}return e?e.Je():null}(o):null);null!=o&&e.push(new ab(i.key,o,function o(t){var s=[];return Gv(t.fields||{},function(t,e){var n=new Xv([t]);if(em(e)){t=o(e.mapValue).fields;if(0===t.length)s.push(n);else for(var r=0,i=t;r<i.length;r++)s.push(n.child(i[r]))}else s.push(n)}),new zm(s)}(o.proto.mapValue),Jm.exists(!0)))}return h.vr.xo(a,l,e,u)})}).then(function(t){var e=t.hr(c);return{batchId:t.batchId,dr:e}}))];case 2:return a=t.sent(),s.Ch.Fi(a.batchId),i=s,e=a.batchId,n=v,r=(r=(r=i.Bh[i.currentUser.Zs()])||new ng(D)).rt(e,n),i.Bh[i.currentUser.Zs()]=r,[4,kI(s,a.dr)];case 3:return t.sent(),[4,sI(s.Sh)];case 4:return t.sent(),[3,6];case 5:return a=t.sent(),f=tw(a,"Failed to persist write"),v.reject(f),[3,6];case 6:return[2]}var e,n,r,i,u,c,h,l,o})})}(e._i,t,n)}),n.promise},mS.prototype.U=function(){return this.Sl.U},mS.prototype.H_=function(t){var e=this,r=(this.q_(),new gT(t));return this.os.ds(function(){return b(e,void 0,void 0,function(){return _(this,function(t){return[2,(e=this.Q_,n=r,e.Bs.add(n),void n.next())];var e,n})})}),function(){r.e_(),e.os.ds(function(){return b(e,void 0,void 0,function(){return _(this,function(t){return[2,void this.Q_.Bs.delete(r)]})})})}},Object.defineProperty(mS.prototype,"Y_",{get:function(){return this.os.Vs},enumerable:!1,configurable:!0}),mS.prototype.transaction=function(t){var e=this,n=(this.q_(),new k_);return this.os.ds(function(){return new yS(e.os,e.zu,t,n).run(),Promise.resolve()}),n.promise},mS);function mS(t,e){this.credentials=t,this.os=e,this.clientId=_y.k(),this.B_=new k_}function bS(t,e,n,r){this.os=t,this.zu=e,this.updateFunction=n,this.hs=r,this.x_=5,this.gs=new R_(this.os,"transaction_retry")}function _S(t){this.zu=t,this.p_=new Map,this.mutations=[],this.b_=!1,this.v_=null,this.S_=new Set}function wS(t){if("object"==typeof t&&null!==t)for(var e=t,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return 1}}BS.prototype.tf=function(t){switch(qg(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qg(t.integerValue||t.doubleValue);case 3:return this.ef(t.timestampValue);case 4:return this.nf(t);case 5:return t.stringValue;case 6:return this.Z_(Yg(t.bytesValue));case 7:return this.sf(t.referenceValue);case 8:return this.if(t.geoPointValue);case 9:return this.rf(t.arrayValue);case 10:return this.af(t.mapValue);default:throw O()}},BS.prototype.af=function(t){var n=this,r={};return Gv(t.fields||{},function(t,e){r[t]=n.tf(e)}),r},BS.prototype.if=function(t){return new jT(Qg(t.latitude),Qg(t.longitude))},BS.prototype.rf=function(t){var e=this;return(t.values||[]).map(function(t){return e.tf(t)})},BS.prototype.nf=function(t){switch(this.J_){case"previous":var e=function t(e){e=e.mapValue.fields.__previous_value__;return Ug(e)?t(e):e}(t);return null==e?null:this.tf(e);case"estimate":return this.ef(jg(t));default:return null}},BS.prototype.ef=function(t){t=zg(t),t=new Ly(t.seconds,t.nanos);return this.timestampsInSnapshots?t:t.toDate()},BS.prototype.sf=function(t){var t=Qv.P(t),e=(R(Am(t)),new Dy(t.get(1),t.get(3))),t=new P(t.u(5));return e.isEqual(this.U)||Vv("Document "+t+" contains a document reference within a different database ("+e.projectId+"/"+e.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.X_(t)};var ES,IS,TS=BS,SS=Bw.uo,CS=(qS.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},qS),NS=(Object.defineProperty(VS.prototype,"Ef",{get:function(){return this.If||(this.If=new tS(this.d_,this.Tf.ignoreUndefinedProperties)),this.If},enumerable:!1,configurable:!0}),VS.prototype.settings=function(t){ny("Firestore.settings",arguments,1),oy("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.Tf),t)).merge;t=new CS(t);if(this.ff&&!this.Tf.isEqual(t))throw new A(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");void 0!==(this.Tf=t).credentials&&(this.mf=function(t){if(!t)return new AE;switch(t.type){case"gapi":var e=t.client;return R(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new RE(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new A(N.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},VS.prototype.enableNetwork=function(){return this._f(),this.ff.enableNetwork()},VS.prototype.disableNetwork=function(){return this._f(),this.ff.disableNetwork()},VS.prototype.enablePersistence=function(t){var e;if(this.ff)throw new A(N.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var n=!1,r=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Vv("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),n=null!=(e=null!=(e=t.synchronizeTabs)?e:t.experimentalTabSynchronization)&&e,r=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,n)&&r)throw new A(N.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Af(this.cf,this.uf,{Gl:!0,cacheSizeBytes:this.Tf.cacheSizeBytes,synchronizeTabs:n,La:r})},VS.prototype.clearPersistence=function(){return b(this,void 0,void 0,function(){var n,e=this;return _(this,function(t){if(void 0===this.ff||this.ff.Y_)return n=new k_,[2,(this.lf.ps(function(){return b(e,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.cf.clearPersistence(this.d_,this.wf)];case 1:return t.sent(),n.resolve(),[3,3];case 2:return e=t.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise)];throw new A(N.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.")})})},VS.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(VS.prototype,"Rf",{get:function(){return this._f(),this.ff.Y_},enumerable:!1,configurable:!0}),VS.prototype.waitForPendingWrites=function(){return this._f(),this.ff.waitForPendingWrites()},VS.prototype.onSnapshotsInSync=function(t){return this._f(),wS(t)?this.ff.H_(t):(oy("Firestore.onSnapshotsInSync","function",1,t),this.ff.H_({next:t}))},VS.prototype._f=function(){return this.ff||this.Af(new dT,new yT,{Gl:!1}),this.ff},VS.prototype.Pf=function(){return new Oy(this.d_,this.wf,this.Tf.host,this.Tf.ssl,this.Tf.experimentalForceLongPolling)},VS.prototype.Af=function(t,e,n){var r=this.Pf();return this.ff=new gS(this.mf,this.lf),this.ff.start(r,t,e,n)},VS.df=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new A(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(e&&"string"==typeof e)return new Dy(e);throw new A(N.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options")},Object.defineProperty(VS.prototype,"app",{get:function(){if(this.hf)return this.hf;throw new A(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available")},enumerable:!1,configurable:!0}),VS.prototype.collection=function(t){return ny("Firestore.collection",arguments,1),oy("Firestore.collection","non-empty string",1,t),this._f(),new JS(Qv.P(t),this,null)},VS.prototype.doc=function(t){return ny("Firestore.doc",arguments,1),oy("Firestore.doc","non-empty string",1,t),this._f(),OS.gf(Qv.P(t),this,null)},VS.prototype.collectionGroup=function(t){if(ny("Firestore.collectionGroup",arguments,1),oy("Firestore.collectionGroup","non-empty string",1,t),0<=t.indexOf("/"))throw new A(N.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this._f(),new YS((t=t,new Pb(Qv.g(),t)),this,null)},VS.prototype.runTransaction=function(e){var n=this;return ny("Firestore.runTransaction",arguments,1),oy("Firestore.runTransaction","function",1,e),this._f().transaction(function(t){return e(new AS(n,t))})},VS.prototype.batch=function(){return this._f(),new kS(this)},Object.defineProperty(VS,"logLevel",{get:function(){switch(jv()){case v.DEBUG:return"debug";case v.ERROR:return"error";case v.SILENT:return"silent";case v.WARN:return"warn";case v.INFO:return"info";case v.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),VS.setLogLevel=function(t){ny("Firestore.setLogLevel",arguments,1),hy("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),Fv.setLogLevel(t)},VS.prototype.yf=function(){return this.Tf.timestampsInSnapshots},VS.prototype.Vf=function(){return this.Tf},VS),AS=(jS.prototype.get=function(t){var e=this,n=(ny("Transaction.get",arguments,1),i1("Transaction.get",t,this.pf));return this.bf.D_([n.w_]).then(function(t){if(!t||1!==t.length)return O();t=t[0];if(t instanceof Ob)return new PS(e.pf,n.w_,null,!1,!1,n.m_);if(t instanceof kb)return new PS(e.pf,n.w_,t,!1,!1,n.m_);throw O()})},jS.prototype.set=function(t,e,n){iy("Transaction.set",arguments,2,3);t=i1("Transaction.set",t,this.pf),n=e1("Transaction.set",n),e=o1(t.m_,e,n),e=rS(this.pf.Ef,"Transaction.set",t.w_,e,null!==t.m_,n);return this.bf.set(t.w_,e),this},jS.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n="string"==typeof e||e instanceof bT?(ry("Transaction.update",arguments,3),r=i1("Transaction.update",t,this.pf),oS(this.pf.Ef,"Transaction.update",r.w_,e,n,i)):(ny("Transaction.update",arguments,2),r=i1("Transaction.update",t,this.pf),iS(this.pf.Ef,"Transaction.update",r.w_,e)),this.bf.update(r.w_,n),this},jS.prototype.delete=function(t){ny("Transaction.delete",arguments,1);t=i1("Transaction.delete",t,this.pf);return this.bf.delete(t.w_),this},jS),kS=(US.prototype.set=function(t,e,n){iy("WriteBatch.set",arguments,2,3),this.Df();t=i1("WriteBatch.set",t,this.pf),n=e1("WriteBatch.set",n),e=o1(t.m_,e,n),e=rS(this.pf.Ef,"WriteBatch.set",t.w_,e,null!==t.m_,n);return this.vf=this.vf.concat(e.T_(t.w_,Jm.Ge())),this},US.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return this.Df(),n="string"==typeof e||e instanceof bT?(ry("WriteBatch.update",arguments,3),r=i1("WriteBatch.update",t,this.pf),oS(this.pf.Ef,"WriteBatch.update",r.w_,e,n,i)):(ny("WriteBatch.update",arguments,2),r=i1("WriteBatch.update",t,this.pf),iS(this.pf.Ef,"WriteBatch.update",r.w_,e)),this.vf=this.vf.concat(n.T_(r.w_,Jm.exists(!0))),this},US.prototype.delete=function(t){ny("WriteBatch.delete",arguments,1),this.Df();t=i1("WriteBatch.delete",t,this.pf);return this.vf=this.vf.concat(new gb(t.w_,Jm.Ge())),this},US.prototype.commit=function(){return this.Df(),this.Sf=!0,0<this.vf.length?this.pf._f().write(this.vf):Promise.resolve()},US.prototype.Df=function(){if(this.Sf)throw new A(N.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},US),OS=(o(FS,IS=BT),FS.gf=function(t,e,n){if(t.length%2!=0)throw new A(N.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.R()+" has "+t.length);return new FS(new P(t),e,n)},Object.defineProperty(FS.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(FS.prototype,"parent",{get:function(){return new JS(this.w_.path.h(),this.firestore,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(FS.prototype,"path",{get:function(){return this.w_.path.R()},enumerable:!1,configurable:!0}),FS.prototype.collection=function(t){if(ny("DocumentReference.collection",arguments,1),oy("DocumentReference.collection","non-empty string",1,t),t)return t=Qv.P(t),new JS(this.w_.path.child(t),this.firestore,null);throw new A(N.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()")},FS.prototype.isEqual=function(t){if(t instanceof FS)return this.firestore===t.firestore&&this.w_.isEqual(t.w_)&&this.m_===t.m_;throw yy("isEqual","DocumentReference",1,t)},FS.prototype.set=function(t,e){iy("DocumentReference.set",arguments,1,2),e=e1("DocumentReference.set",e);t=o1(this.m_,t,e),t=rS(this.firestore.Ef,"DocumentReference.set",this.w_,t,null!==this.m_,e);return this.ff.write(t.T_(this.w_,Jm.Ge()))},FS.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return e="string"==typeof t||t instanceof bT?(ry("DocumentReference.update",arguments,2),oS(this.firestore.Ef,"DocumentReference.update",this.w_,t,e,n)):(ny("DocumentReference.update",arguments,1),iS(this.firestore.Ef,"DocumentReference.update",this.w_,t)),this.ff.write(e.T_(this.w_,Jm.exists(!0)))},FS.prototype.delete=function(){return ny("DocumentReference.delete",arguments,0),this.ff.write([new gb(this.w_,Jm.Ge())])},FS.prototype.onSnapshot=function(){for(var e=this,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];iy("DocumentReference.onSnapshot",arguments,1,4);var r={includeMetadataChanges:!1},i=0;"object"!=typeof n[i]||wS(n[i])||(vy("DocumentReference.onSnapshot",r=n[i],["includeMetadataChanges"]),uy("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o,r={includeMetadataChanges:r.includeMetadataChanges},s=(wS(n[i])?(n[i]=null==(s=(o=n[i]).next)?void 0:s.bind(o),n[i+1]=null==(s=o.error)?void 0:s.bind(o),n[i+2]=null==(s=o.complete)?void 0:s.bind(o)):(oy("DocumentReference.onSnapshot","function",i,n[i]),sy("DocumentReference.onSnapshot","function",i+1,n[i+1]),sy("DocumentReference.onSnapshot","function",i+2,n[i+2])),{next:function(t){n[i]&&n[i](e.Cf(t))},error:n[i+1],complete:n[i+2]});return this.ff.listen(Fb(this.w_.path),r,s)},FS.prototype.get=function(t){var e=this,n=(iy("DocumentReference.get",arguments,0,1),r1("DocumentReference.get",t),this.firestore._f());return t&&"cache"===t.source?n.j_(this.w_).then(function(t){return new PS(e.firestore,e.w_,t,!0,t instanceof kb&&t.Ye,e.m_)}):n.K_(this.w_,t).then(function(t){return e.Cf(t)})},FS.prototype.withConverter=function(t){return new FS(this.w_,this.firestore,t)},FS.prototype.Cf=function(t){var e=t.docs.get(this.w_);return new PS(this.firestore,this.w_,e,t.fromCache,t.hasPendingWrites,this.m_)},FS),RS=(MS.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},MS),PS=(LS.prototype.data=function(t){var e,n=this;if(iy("DocumentSnapshot.data",arguments,0,1),t=n1("DocumentSnapshot.data",t),this.Nf)return this.m_?(e=new DS(this.pf,this.w_,this.Nf,this.Ff,this.$f,null),this.m_.fromFirestore(e,t)):new TS(this.pf.d_,this.pf.yf(),t.serverTimestamps||"none",function(t){return new OS(t,n.pf,null)},function(t){return new Py(t)}).tf(this.Nf.sn())},LS.prototype.get=function(t,e){var n=this;if(iy("DocumentSnapshot.get",arguments,1,2),e=n1("DocumentSnapshot.get",e),this.Nf){t=this.Nf.data().field(lS("DocumentSnapshot.get",t,this.w_));if(null!==t)return new TS(this.pf.d_,this.pf.yf(),e.serverTimestamps||"none",function(t){return new OS(t,n.pf,n.m_)},function(t){return new Py(t)}).tf(t)}},Object.defineProperty(LS.prototype,"id",{get:function(){return this.w_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(LS.prototype,"ref",{get:function(){return new OS(this.w_,this.pf,this.m_)},enumerable:!1,configurable:!0}),Object.defineProperty(LS.prototype,"exists",{get:function(){return null!==this.Nf},enumerable:!1,configurable:!0}),Object.defineProperty(LS.prototype,"metadata",{get:function(){return new RS(this.$f,this.Ff)},enumerable:!1,configurable:!0}),LS.prototype.isEqual=function(t){if(t instanceof LS)return this.pf===t.pf&&this.Ff===t.Ff&&this.w_.isEqual(t.w_)&&(null===this.Nf?null===t.Nf:this.Nf.isEqual(t.Nf))&&this.m_===t.m_;throw yy("isEqual","DocumentSnapshot",1,t)},LS),DS=(o(xS,ES=PS),xS.prototype.data=function(t){return ES.prototype.data.call(this,t)},xS);function xS(){return null!==ES&&ES.apply(this,arguments)||this}function LS(t,e,n,r,i,o){this.pf=t,this.w_=e,this.Nf=n,this.Ff=r,this.$f=i,this.m_=o}function MS(t,e){this.hasPendingWrites=t,this.fromCache=e}function FS(t,e,n){var r=this;return(r=IS.call(this,e.d_,t,n)||this).w_=t,r.firestore=e,r.m_=n,r.ff=r.firestore._f(),r}function US(t){this.pf=t,this.vf=[],this.Sf=!1}function jS(t,e){this.pf=t,this.bf=e}function VS(t,e,n,r){var i=this;if(void 0===n&&(n=new dT),void 0===r&&(r=new yT),this.cf=n,this.uf=r,this.hf=null,this.lf=new J_,this.INTERNAL={delete:function(){return b(i,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this._f(),[4,this.ff.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof t.options){n=t;this.hf=n,this.d_=VS.df(n),this.wf=n.name,this.mf=new kE(e)}else{r=t;if(!r.projectId)throw new A(N.INVALID_ARGUMENT,"Must provide projectId");this.d_=new Dy(r.projectId,r.database),this.wf="[DEFAULT]",this.mf=new AE}this.Tf=new CS({})}function qS(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new A(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else ay("settings","non-empty string","host",t.host),this.host=t.host,uy("settings","boolean","ssl",t.ssl),this.ssl=null==(e=t.ssl)||e;if(vy("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),uy("settings","object","credentials",t.credentials),this.credentials=t.credentials,uy("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),uy("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Vv("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Vv("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null==(e=t.timestampsInSnapshots)||e,this.ignoreUndefinedProperties=null!=(e=t.ignoreUndefinedProperties)&&e,uy("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Bw.lo;else{if(t.cacheSizeBytes!==SS&&t.cacheSizeBytes<Bw.ho)throw new A(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Bw.ho);this.cacheSizeBytes=t.cacheSizeBytes}uy("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!=(e=t.experimentalForceLongPolling)&&e}function BS(t,e,n,r,i){this.U=t,this.timestampsInSnapshots=e,this.J_=n,this.X_=r,this.Z_=i}function WS(t,e,n){if("string"==typeof n){if(""===n)throw new A(N.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bb(e)&&-1!==n.indexOf("/"))throw new A(N.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");e=e.path.child(Qv.P(n));if(P.F(e))return Xg(t,new P(e));throw new A(N.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").")}if(n instanceof BT)return Xg(t,n.w_);throw new A(N.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+py(n)+".")}function GS(t,e){if(!Array.isArray(t)||0===t.length)throw new A(N.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(10<t.length)throw new A(N.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(0<=t.indexOf(null))throw new A(N.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(0<t.filter(function(t){return Number.isNaN(t)}).length)throw new A(N.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function HS(t,e,n){if(!n.isEqual(e))throw new A(N.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function KS(t){if(jb(t)&&0===t.rn.length)throw new A(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}t1.prototype.where=function(t,e,n){ny("Query.where",arguments,3),dy("Query.where",3,n);var e=hy("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,e),t=lS("Query.where",t),t=function(t,e,n,r,i,o){var s;if(r.p()){if("array-contains"===i||"array-contains-any"===i)throw new A(N.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){GS(o,i);for(var a=[],u=0,c=o;u<c.length;u++){var h=c[u];a.push(WS(n,t,h))}s={arrayValue:{values:a}}}else s=WS(n,t,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||GS(o,i),s=sS(e,"Query.where",o,"in"===i||"not-in"===i);var e=t_.create(r,i,s),o=t,l=e;if(l.un()){var f=qb(o);if(null!==f&&!f.isEqual(l.field))throw new A(N.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+f.toString()+"' and '"+l.field.toString()+"'");f=Vb(o);null!==f&&HS(0,l.field,f)}if(null!==(f=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(o,function(){switch(l.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}())))throw f===l.op?new A(N.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+l.op.toString()+"' filter."):new A(N.INVALID_ARGUMENT,"Invalid query. You cannot use '"+l.op.toString()+"' filters with '"+f.toString()+"' filters.");return e}(this.xf,this.firestore.Ef,this.firestore.d_,t,e,n);return new t1((n=(e=this.xf).filters.concat([t]),new Pb(e.path,e.collectionGroup,e.rn.slice(),n,e.limit,e.on,e.startAt,e.endAt)),this.firestore,this.m_)},t1.prototype.orderBy=function(t,e){if(iy("Query.orderBy",arguments,1,2),sy("Query.orderBy","non-empty string",2,e),void 0===e||"asc"===e)n="asc";else{if("desc"!==e)throw new A(N.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+e+"', expected 'asc' or 'desc'.");n="desc"}var n,e=lS("Query.orderBy",t),t=function(t,e,n){if(null!==t.startAt)throw new A(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new A(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");e=new A_(e,n),n=e;return null===Vb(t=t)&&null!==(t=qb(t))&&HS(0,t,n.field),e}(this.xf,e,n);return new t1((n=(e=this.xf).rn.concat([t]),new Pb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.on,e.startAt,e.endAt)),this.firestore,this.m_)},t1.prototype.limit=function(t){return ny("Query.limit",arguments,1),oy("Query.limit","number",1,t),gy("Query.limit",1,t),new t1(Hb(this.xf,t,"F"),this.firestore,this.m_)},t1.prototype.limitToLast=function(t){return ny("Query.limitToLast",arguments,1),oy("Query.limitToLast","number",1,t),gy("Query.limitToLast",1,t),new t1(Hb(this.xf,t,"L"),this.firestore,this.m_)},t1.prototype.startAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ry("Query.startAt",arguments,1);t=this.kf("Query.startAt",t,e,!0);return new t1(Kb(this.xf,t),this.firestore,this.m_)},t1.prototype.startAfter=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ry("Query.startAfter",arguments,1);t=this.kf("Query.startAfter",t,e,!1);return new t1(Kb(this.xf,t),this.firestore,this.m_)},t1.prototype.endBefore=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ry("Query.endBefore",arguments,1);t=this.kf("Query.endBefore",t,e,!0);return new t1(zb(this.xf,t),this.firestore,this.m_)},t1.prototype.endAt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];ry("Query.endAt",arguments,1);t=this.kf("Query.endAt",t,e,!1);return new t1(zb(this.xf,t),this.firestore,this.m_)},t1.prototype.isEqual=function(t){if(t instanceof t1)return this.firestore===t.firestore&&Qb(this.xf,t.xf)&&this.m_===t.m_;throw yy("isEqual","Query",1,t)},t1.prototype.withConverter=function(t){return new t1(this.xf,this.firestore,t)},t1.prototype.kf=function(t,e,n,r){if(dy(t,1,e),e instanceof PS){ny(t,Zo([e],n),1);var i=this.xf,o=this.firestore.d_,s=e.Nf,a=r;if(!s)throw new A(N.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var u=[],c=0,h=Wb(i);c<h.length;c++){var l=h[c];if(l.field.p())u.push(Xg(o,s.key));else{var f=s.field(l.field);if(Ug(f))throw new A(N.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f)throw l=l.field.R(),new A(N.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.");u.push(f)}}return new __(u,a)}var i=[e].concat(n),p=this.xf,d=this.firestore.d_,v=this.firestore.Ef,y=t,g=i,a=r,m=p.rn;if(g.length>m.length)throw new A(N.INVALID_ARGUMENT,"Too many arguments provided to "+y+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var b=[],_=0;_<g.length;_++){var w=g[_];if(m[_].field.p()){if("string"!=typeof w)throw new A(N.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+y+"(), but got a "+typeof w);if(!Bb(p)&&-1!==w.indexOf("/"))throw new A(N.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+y+"() must be a plain document ID, but '"+w+"' contains a slash.");var E=p.path.child(Qv.P(w));if(!P.F(E))throw new A(N.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+y+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");E=new P(E);b.push(Xg(d,E))}else{E=sS(v,y,w);b.push(E)}}return new __(b,a)},t1.prototype.onSnapshot=function(){for(var e=this,n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];iy("Query.onSnapshot",arguments,1,4);var r,i={},o=0,s=("object"!=typeof n[o]||wS(n[o])||(vy("Query.onSnapshot",i=n[o],["includeMetadataChanges"]),uy("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),o++),wS(n[o])?(n[o]=null==(s=(r=n[o]).next)?void 0:s.bind(r),n[o+1]=null==(s=r.error)?void 0:s.bind(r),n[o+2]=null==(s=r.complete)?void 0:s.bind(r)):(oy("Query.onSnapshot","function",o,n[o]),sy("Query.onSnapshot","function",o+1,n[o+1]),sy("Query.onSnapshot","function",o+2,n[o+2])),{next:function(t){n[o]&&n[o](new XS(e.firestore,e.xf,t,e.m_))},error:n[o+1],complete:n[o+2]});return KS(this.xf),this.firestore._f().listen(this.xf,i,s)},t1.prototype.get=function(t){var e=this,n=(iy("Query.get",arguments,0,1),r1("Query.get",t),KS(this.xf),this.firestore._f());return(t&&"cache"===t.source?n.G_(this.xf):n.z_(this.xf,t)).then(function(t){return new XS(e.firestore,e.xf,t,e.m_)})};var zS,QS,YS=t1,XS=(Object.defineProperty(ZS.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(ZS.prototype,"empty",{get:function(){return this.Of.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(ZS.prototype,"size",{get:function(){return this.Of.docs.size},enumerable:!1,configurable:!0}),ZS.prototype.forEach=function(e,n){var r=this;iy("QuerySnapshot.forEach",arguments,1,2),oy("QuerySnapshot.forEach","function",1,e),this.Of.docs.forEach(function(t){e.call(n,r.qf(t,r.metadata.fromCache,r.Of.Qt.has(t.key)))})},Object.defineProperty(ZS.prototype,"query",{get:function(){return new YS(this.Mf,this.pf,this.m_)},enumerable:!1,configurable:!0}),ZS.prototype.docChanges=function(t){t&&(vy("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),uy("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var i,e,o,n,s,t=!(!t||!t.includeMetadataChanges);if(t&&this.Of.jt)throw new A(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Lf&&this.Bf===t||(this.Lf=(i=this.Of,e=t,o=this.qf.bind(this),i.Ut.m()?(n=0,i.docChanges.map(function(t){var e=o(t.doc,i.fromCache,i.Qt.has(t.doc.key));return t.doc,{type:"added",doc:e,oldIndex:-1,newIndex:n++}})):(s=i.Ut,i.docChanges.filter(function(t){return e||3!==t.type}).map(function(t){var e=o(t.doc,i.fromCache,i.Qt.has(t.doc.key)),n=-1,r=-1;return 0!==t.type&&(n=s.indexOf(t.doc.key),s=s.delete(t.doc.key)),1!==t.type&&(r=(s=s.add(t.doc)).indexOf(t.doc.key)),{type:function(){switch(t.type){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}(),doc:e,oldIndex:n,newIndex:r}}))),this.Bf=t),this.Lf},ZS.prototype.isEqual=function(t){if(t instanceof ZS)return this.pf===t.pf&&Qb(this.Mf,t.Mf)&&this.Of.isEqual(t.Of)&&this.m_===t.m_;throw yy("isEqual","QuerySnapshot",1,t)},ZS.prototype.qf=function(t,e,n){return new DS(this.pf,t.key,t,e,n,this.m_)},ZS),JS=(o($S,zS=YS),Object.defineProperty($S.prototype,"id",{get:function(){return this.xf.path._()},enumerable:!1,configurable:!0}),Object.defineProperty($S.prototype,"parent",{get:function(){var t=this.xf.path.h();return t.m()?null:new OS(new P(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty($S.prototype,"path",{get:function(){return this.xf.path.R()},enumerable:!1,configurable:!0}),$S.prototype.doc=function(t){iy("CollectionReference.doc",arguments,0,1),oy("CollectionReference.doc","non-empty string",1,t=0===arguments.length?_y.k():t);t=Qv.P(t);return OS.gf(this.xf.path.child(t),this.firestore,this.m_)},$S.prototype.add=function(t){ny("CollectionReference.add",arguments,1);var t=this.m_?this.m_.toFirestore(t):t,e=(oy("CollectionReference.add","object",1,t),this.doc());return new OS(e.w_,this.firestore,null).set(t).then(function(){return e})},$S.prototype.withConverter=function(t){return new $S(this.Uf,this.firestore,t)},$S);function $S(t,e,n){var r=this;if(((r=zS.call(this,Fb(t),e,n)||this).Uf=t).length%2!=1)throw new A(N.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.R()+" has "+t.length);return r}function ZS(t,e,n,r){this.pf=t,this.Mf=e,this.Of=n,this.m_=r,this.Lf=null,this.Bf=null,this.metadata=new RS(n.hasPendingWrites,n.fromCache)}function t1(t,e,n){this.xf=t,this.firestore=e,this.m_=n}function e1(t,e){if(void 0===e)return{merge:!1};if(vy(t,e,["merge","mergeFields"]),uy(t,"boolean","merge",e.merge),void 0!==(a=e.mergeFields)){var n=t,r="mergeFields",i=a;if(!(i instanceof Array))throw new A(N.INVALID_ARGUMENT,"Function "+n+"() requires its "+r+" option to be an array, but it was: "+py(i));for(var o,s=0;s<i.length;++s)if(!("string"==typeof(o=i[s])||o instanceof bT))throw new A(N.INVALID_ARGUMENT,"Function "+n+"() requires all "+r+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+py(i[s]))}if(void 0!==e.mergeFields&&void 0!==e.merge)throw new A(N.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var a;return e}function n1(t,e){return void 0===e?{}:(vy(t,e,["serverTimestamps"]),cy(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function r1(t,e){sy(t,"object",1,e),e&&(vy(t,e,["source"]),cy(t,0,"source",e.source,["default","server","cache"]))}function i1(t,e,n){if(e instanceof BT){if(e.firestore!==n)throw new A(N.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw yy(t,"DocumentReference",1,e)}function o1(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}o(s1,QS=VT),s1.serverTimestamp=function(){ey("FieldValue.serverTimestamp",arguments);var t=new LT("serverTimestamp");return t.s_="FieldValue.serverTimestamp",new s1(t)},s1.delete=function(){ey("FieldValue.delete",arguments);var t=new ET("deleteField");return t.s_="FieldValue.delete",new s1(t)},s1.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ry("FieldValue.arrayUnion",arguments,1);var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ry("arrayUnion()",arguments,1),new MT("arrayUnion",t)}.apply(void 0,t);return n.s_="FieldValue.arrayUnion",new s1(n)},s1.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ry("FieldValue.arrayRemove",arguments,1);var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ry("arrayRemove()",arguments,1),new FT("arrayRemove",t)}.apply(void 0,t);return n.s_="FieldValue.arrayRemove",new s1(n)},s1.increment=function(t){oy("FieldValue.increment","number",1,t),ny("FieldValue.increment",arguments,1);t=new UT("increment",t);return t.s_="FieldValue.increment",new s1(t)},s1.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)};vi={Firestore:NS,GeoPoint:jT,Timestamp:Ly,Blob:Py,Transaction:AS,WriteBatch:kS,DocumentReference:OS,DocumentSnapshot:PS,Query:YS,QueryDocumentSnapshot:DS,QuerySnapshot:XS,CollectionReference:JS,FieldPath:bT,FieldValue:s1,setLogLevel:NS.setLogLevel,CACHE_SIZE_UNLIMITED:SS};function s1(){return null!==QS&&QS.apply(this,arguments)||this}(e=Fl).INTERNAL.registerComponent(new Hs("firestore",function(t){return e=t.getProvider("app").getImmediate(),t=t.getProvider("auth-internal"),n=new yT,r=new vT(n),new NS(e,t,r,n);var e,n,r},"PUBLIC").setServiceProps(Object.assign({},vi))),e.registerVersion("@firebase/firestore","1.17.2");var a1,u1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c1=(o(h1,a1=Error),h1);function h1(t,e,n){e=a1.call(this,e)||this;return Object.setPrototypeOf(e,h1.prototype),e.code=t,e.details=n,e}f1.prototype.getAuthToken=function(){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},f1.prototype.getInstanceIdToken=function(){return b(this,void 0,void 0,function(){return _(this,function(t){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]})})},f1.prototype.getContext=function(){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return[4,this.getAuthToken()];case 1:return e=t.sent(),[4,this.getInstanceIdToken()];case 2:return n=t.sent(),[2,{authToken:e,instanceIdToken:n}]}})})};var l1=f1;function f1(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}function p1(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}v1.prototype.encode=function(t){var e=this;if(null==t)return null;if("number"==typeof(t=t instanceof Number?t.valueOf():t)&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return p1(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},v1.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?p1(t,function(t){return e.decode(t)}):t};var d1=v1;function v1(){}Object.defineProperty(m1.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),m1.prototype._url=function(t){var e=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t:this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t},m1.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},m1.prototype.httpsCallable=function(e,n){var r=this;return function(t){return r.call(e,t,n||{})}},m1.prototype.postJSON=function(r,i,o){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:o["Content-Type"]="application/json",t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.fetchImpl(r,{method:"POST",body:JSON.stringify(i),headers:o})];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),[2,{status:0,json:null}];case 4:n=null,t.label=5;case 5:return t.trys.push([5,7,,8]),[4,e.json()];case 6:return n=t.sent(),[3,8];case 7:return t.sent(),[3,8];case 8:return[2,{status:e.status,json:n}]}})})},m1.prototype.call=function(h,l,f){return b(this,void 0,void 0,function(){var i,o,s,a,u,c;return _(this,function(t){switch(t.label){case 0:return i=this._url(h),l=this.serializer.encode(l),o={data:l},s={},[4,this.contextProvider.getContext()];case 1:return(a=t.sent()).authToken&&(s.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=a.instanceIdToken),a=f.timeout||7e4,n=a,e=new Promise(function(t,e){r=setTimeout(function(){e(new c1("deadline-exceeded","deadline-exceeded"))},n)}),u=(a={timer:r,promise:e}).timer,a=a.promise,[4,Promise.race([b1(u,this.postJSON(i,o,s)),a,b1(u,this.cancelAllRequests)])];case 2:if(!(a=t.sent()))throw new c1("cancelled","Firebase Functions instance was deleted.");if(u=function(t,e,n){var r=function(){if(200<=t&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!u1[a])return new c1("internal","internal");r=u1[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new c1(r,i,o)}(a.status,a.json,this.serializer))throw u;if(!a.json)throw new c1("internal","Response is not valid JSON object.");if(void 0===(c=void 0===(c=a.json.data)?a.json.result:c))throw new c1("internal","Response is missing data field.");return[2,{data:this.serializer.decode(c)}]}var n,r,e})})};var y1,g1=m1;function m1(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new d1,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new l1(e,n),this.cancelAllRequests=new Promise(function(t){o.deleteService=function(){return t()}});try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}function b1(n,r){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,r];case 1:return e=t.sent(),clearTimeout(n),[2,e]}})})}function _1(n){return new Promise(function(t,e){n.onsuccess=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function w1(n,r,i){var o,t=new Promise(function(t,e){_1(o=n[r].apply(n,i)).then(t,e)});return t.request=o,t}function E1(t,n,e){e.forEach(function(e){Object.defineProperty(t.prototype,e,{get:function(){return this[n][e]},set:function(t){this[n][e]=t}})})}function I1(e,n,r,t){t.forEach(function(t){t in r.prototype&&(e.prototype[t]=function(){return w1(this[n],t,arguments)})})}function T1(e,n,r,t){t.forEach(function(t){t in r.prototype&&(e.prototype[t]=function(){return this[n][t].apply(this[n],arguments)})})}function S1(t,r,e,n){n.forEach(function(n){n in e.prototype&&(t.prototype[n]=function(){return t=this[r],(e=w1(t,n,arguments)).then(function(t){if(t)return new N1(t,e.request)});var t,e})})}function C1(t){this._index=t}function N1(t,e){this._cursor=t,this._request=e}function A1(t){this._store=t}function k1(n){this._tx=n,this.complete=new Promise(function(t,e){n.oncomplete=function(){t()},n.onerror=function(){e(n.error)},n.onabort=function(){e(n.error)}})}function O1(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new k1(n)}function R1(t){this._db=t}function P1(t,e,n){var t=w1(indexedDB,"open",[t,e]),r=t.request;return r&&(r.onupgradeneeded=function(t){n&&n(new O1(r.result,t.oldVersion,r.transaction))}),t.then(function(t){return new R1(t)})}function D1(t){return w1(indexedDB,"deleteDatabase",[t])}y1=fetch,i={Functions:g1},Fl.INTERNAL.registerComponent(new Hs("functions",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),t=t.getProvider("messaging");return new g1(n,r,t,e,y1)},"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),Fl.registerVersion("@firebase/functions","0.5.0"),E1(C1,"_index",["name","keyPath","multiEntry","unique"]),I1(C1,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),S1(C1,"_index",IDBIndex,["openCursor","openKeyCursor"]),E1(N1,"_cursor",["direction","key","primaryKey","value"]),I1(N1,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(n){n in IDBCursor.prototype&&(N1.prototype[n]=function(){var e=this,t=arguments;return Promise.resolve().then(function(){return e._cursor[n].apply(e._cursor,t),_1(e._request).then(function(t){if(t)return new N1(t,e._request)})})})}),A1.prototype.createIndex=function(){return new C1(this._store.createIndex.apply(this._store,arguments))},A1.prototype.index=function(){return new C1(this._store.index.apply(this._store,arguments))},E1(A1,"_store",["name","keyPath","indexNames","autoIncrement"]),I1(A1,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),S1(A1,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),T1(A1,"_store",IDBObjectStore,["deleteIndex"]),k1.prototype.objectStore=function(){return new A1(this._tx.objectStore.apply(this._tx,arguments))},E1(k1,"_tx",["objectStoreNames","mode"]),T1(k1,"_tx",IDBTransaction,["abort"]),O1.prototype.createObjectStore=function(){return new A1(this._db.createObjectStore.apply(this._db,arguments))},E1(O1,"_db",["name","version","objectStoreNames"]),T1(O1,"_db",IDBDatabase,["deleteObjectStore","close"]),R1.prototype.transaction=function(){return new k1(this._db.transaction.apply(this._db,arguments))},E1(R1,"_db",["name","version","objectStoreNames"]),T1(R1,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(i){[A1,C1].forEach(function(t){i in t.prototype&&(t.prototype[i.replace("open","iterate")]=function(){var t=Array.prototype.slice.call(arguments),e=t[t.length-1],n=this._store||this._index,r=n[i].apply(n,t.slice(0,-1));r.onsuccess=function(){e(r.result)}})})}),[C1,A1].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(e){r.iterateCursor(t,function(t){t&&(i.push(t.value),void 0===n||i.length!=n)?t.continue():e(i)})})})});var x1=1e4,L1="w:0.4.17",M1="FIS_v2",F1="https://firebaseinstallations.googleapis.com/v1",n={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},U1=new _s("installations","Installations",n);function j1(t){return t instanceof ms&&t.code.includes("request-failed")}function V1(t){t=t.projectId;return F1+"/projects/"+t+"/installations"}function q1(t){return{token:t.token,requestStatus:2,expiresIn:Number(t.expiresIn.replace("s","000")),creationTime:Date.now()}}function B1(n,r){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,r.json()];case 1:return e=t.sent(),e=e.error,[2,U1.create("request-failed",{requestName:n,serverCode:e.code,serverMessage:e.message,serverStatus:e.status})]}})})}function W1(t){t=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function G1(t,e){e=e.refreshToken,t=W1(t);return t.append("Authorization",M1+" "+e),t}function H1(n){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,n()];case 1:return 500<=(e=t.sent()).status&&e.status<600?[2,n()]:[2,e]}})})}function K1(e){return new Promise(function(t){setTimeout(t,e)})}var z1=/^[cdef][\w-]{21}$/,Q1="";function Y1(t){return t.appName+"!"+t.appId}var X1=new Map;function J1(t,e){var n,t=Y1(t);$1(t,e),t=t,e=e,(n=tC())&&n.postMessage({key:t,fid:e}),eC()}function $1(t,e){var n,r,i=X1.get(t);if(i)try{for(var o=Xo(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Z1=null;function tC(){return!Z1&&"BroadcastChannel"in self&&((Z1=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){$1(t.data.key,t.data.fid)}),Z1}function eC(){0===X1.size&&Z1&&(Z1.close(),Z1=null)}var nC,rC="firebase-installations-database",iC=1,oC="firebase-installations-store",sC=null;function aC(){return sC=sC||P1(rC,iC,function(t){0===t.oldVersion&&t.createObjectStore(oC)})}function uC(o,s){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:return e=Y1(o),[4,aC()];case 1:return n=t.sent(),n=n.transaction(oC,"readwrite"),[4,(r=n.objectStore(oC)).get(e)];case 2:return i=t.sent(),[4,r.put(s,e)];case 3:return t.sent(),[4,n.complete];case 4:return t.sent(),i&&i.fid===s.fid||J1(o,s.fid),[2,s]}})})}function cC(r){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return e=Y1(r),[4,aC()];case 1:return n=t.sent(),[4,(n=n.transaction(oC,"readwrite")).objectStore(oC).delete(e)];case 2:return t.sent(),[4,n.complete];case 3:return t.sent(),[2]}})})}function hC(s,a){return b(this,void 0,void 0,function(){var e,n,r,i,o;return _(this,function(t){switch(t.label){case 0:return e=Y1(s),[4,aC()];case 1:return n=t.sent(),n=n.transaction(oC,"readwrite"),[4,(r=n.objectStore(oC)).get(e)];case 2:return i=t.sent(),void 0!==(o=a(i))?[3,4]:[4,r.delete(e)];case 3:return t.sent(),[3,6];case 4:return[4,r.put(o,e)];case 5:t.sent(),t.label=6;case 6:return[4,n.complete];case 7:return t.sent(),!o||i&&i.fid===o.fid||J1(s,o.fid),[2,o]}})})}function lC(i){return b(this,void 0,void 0,function(){var r,e,n;return _(this,function(t){switch(t.label){case 0:return[4,hC(i,function(t){var e,t=pC(t||{fid:function(){try{var t=new Uint8Array(17),e=((self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16,btoa(String.fromCharCode.apply(String,$o(t))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return z1.test(e)?e:Q1}catch(t){return Q1}}(),registrationStatus:0}),n=(n=i,0!==(t=t).registrationStatus?1===t.registrationStatus?{installationEntry:t,registrationPromise:function(i){return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return[4,fC(i)];case 1:e=t.sent(),t.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,K1(100)];case 3:return t.sent(),[4,fC(i)];case 4:return e=t.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,lC(i)];case 6:return r=t.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,e]}})})}(n)}:{installationEntry:t}:navigator.onLine?{installationEntry:e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},registrationPromise:function(r,i){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,7]),[4,function(s){var a=i.fid;return b(this,void 0,void 0,function(){var e,n,r,i,o;return _(this,function(t){switch(t.label){case 0:return e=V1(s),o=W1(s),n={fid:a,authVersion:M1,appId:s.appId,sdkVersion:L1},r={method:"POST",headers:o,body:JSON.stringify(n)},[4,H1(function(){return fetch(e,r)})];case 1:return(i=t.sent()).ok?[4,i.json()]:[3,3];case 2:return[2,{fid:(o=t.sent()).fid||a,registrationStatus:2,refreshToken:o.refreshToken,authToken:q1(o.authToken)}];case 3:return[4,B1("Create Installation",i)];case 4:throw t.sent()}})})}(r)];case 1:return e=t.sent(),[2,uC(r,e)];case 2:return j1(n=t.sent())&&409===n.serverCode?[4,cC(r)]:[3,4];case 3:return t.sent(),[3,6];case 4:return[4,uC(r,{fid:i.fid,registrationStatus:0})];case 5:t.sent(),t.label=6;case 6:throw n;case 7:return[2]}})})}(n,e)}:{installationEntry:t,registrationPromise:Promise.reject(U1.create("app-offline"))});return r=n.registrationPromise,n.installationEntry})];case 1:return(e=t.sent()).fid!==Q1?[3,3]:(n={},[4,r]);case 2:return[2,(n.installationEntry=t.sent(),n)];case 3:return[2,{installationEntry:e,registrationPromise:r}]}})})}function fC(t){return hC(t,function(t){if(t)return pC(t);throw U1.create("installation-not-found")})}function pC(t){return 1===t.registrationStatus&&t.registrationTime+x1<Date.now()?{fid:t.fid,registrationStatus:0}:t}function dC(o,s){return void 0===s&&(s=!1),b(this,void 0,void 0,function(){var i,e,n;return _(this,function(t){switch(t.label){case 0:return[4,hC(o.appConfig,function(t){if(!yC(t))throw U1.create("not-registered");var e,n,r=t.authToken;if(s||2!==r.requestStatus||(e=r,(n=Date.now())<e.creationTime)||e.creationTime+e.expiresIn<n+36e5){if(1===r.requestStatus)return i=function(r,i){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return[4,vC(r.appConfig)];case 1:e=t.sent(),t.label=2;case 2:return 1!==e.authToken.requestStatus?[3,5]:[4,K1(100)];case 3:return t.sent(),[4,vC(r.appConfig)];case 4:return e=t.sent(),[3,2];case 5:return 0===(n=e.authToken).requestStatus?[2,dC(r,i)]:[2,n]}})})}(o,s),t;if(navigator.onLine)return e=t,n={requestStatus:1,requestTime:Date.now()},r=Yo(Yo({},e),{authToken:n}),i=function(i,o){return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,8]),[4,function(t,a){var u=t.appConfig,c=t.platformLoggerProvider;return b(this,void 0,void 0,function(){var n,r,i,o,s;return _(this,function(t){switch(t.label){case 0:return e=a.fid,n=V1(u)+"/"+e+"/authTokens:generate",r=G1(u,a),(i=c.getImmediate({optional:!0}))&&r.append("x-firebase-client",i.getPlatformInfoString()),i={installation:{sdkVersion:L1}},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,H1(function(){return fetch(n,o)})];case 1:return(s=t.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,q1(t.sent())];case 3:return[4,B1("Generate Auth Token",s)];case 4:throw t.sent()}var e})})}(i,o)];case 1:return e=t.sent(),r=Yo(Yo({},o),{authToken:e}),[4,uC(i.appConfig,r)];case 2:return t.sent(),[2,e];case 3:return!j1(n=t.sent())||401!==n.serverCode&&404!==n.serverCode?[3,5]:[4,cC(i.appConfig)];case 4:return t.sent(),[3,7];case 5:return r=Yo(Yo({},o),{authToken:{requestStatus:0}}),[4,uC(i.appConfig,r)];case 6:t.sent(),t.label=7;case 7:throw n;case 8:return[2]}})})}(o,r),r;throw U1.create("app-offline")}return t})];case 1:return e=t.sent(),i?[4,i]:[3,3];case 2:return n=t.sent(),[3,4];case 3:n=e.authToken,t.label=4;case 4:return[2,n]}})})}function vC(t){return hC(t,function(t){var e;if(yC(t))return 1===(e=t.authToken).requestStatus&&e.requestTime+x1<Date.now()?Yo(Yo({},t),{authToken:{requestStatus:0}}):t;throw U1.create("not-registered")})}function yC(t){return void 0!==t&&2===t.registrationStatus}function gC(t){return U1.create("missing-app-config-values",{valueName:t})}(r=Fl).INTERNAL.registerComponent(new Hs("installations",function(t){var e=t.getProvider("app").getImmediate(),o={appConfig:function(t){var e,n;if(!t||!t.options)throw gC("App Configuration");if(!t.name)throw gC("App Name");try{for(var r=Xo(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw gC(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(r){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return[4,lC(r.appConfig)];case 1:return e=t.sent(),n=e.installationEntry,(e.registrationPromise||dC(r)).catch(console.error),[2,n.fid]}})})}(o)},getToken:function(t){return function(e,n){return void 0===n&&(n=!1),b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return[4,function(n){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,lC(n)];case 1:return(e=t.sent().registrationPromise)?[4,e]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})}(e.appConfig)];case 1:return t.sent(),[4,dC(e,n)];case 2:return[2,t.sent().token]}})})}(o,t)},delete:function(){return function(r){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return[4,hC(e=r.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=t.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw U1.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw U1.create("app-offline");case 3:return[4,function(o,s){return b(this,void 0,void 0,function(){var n,r,i;return _(this,function(t){switch(t.label){case 0:return e=s.fid,n=V1(o)+"/"+e,i=G1(o,s),r={method:"DELETE",headers:i},[4,H1(function(){return fetch(n,r)})];case 1:return(i=t.sent()).ok?[3,3]:[4,B1("Delete Installation",i)];case 2:throw t.sent();case 3:return[2]}var e})})}(e,n)];case 4:return t.sent(),[4,cC(e)];case 5:t.sent(),t.label=6;case 6:return[2]}})})}(o)},onIdChange:function(t){return r=t,t=i=(t=o).appConfig,e=r,tC(),t=Y1(t),(n=X1.get(t))||(n=new Set,X1.set(t,n)),n.add(e),function(){var t,e=r,n=Y1(i);(t=X1.get(n))&&(t.delete(e),0===t.size&&X1.delete(n),eC())};var r,e,n,i}}},"PUBLIC")),r.registerVersion("@firebase/installations","0.4.17");var mC=new _s("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."}),bC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_C="https://fcmregistrations.googleapis.com/v1",wC="FCM_MSG",EC="google.c.a.c_id";function IC(t){t=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,$o(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}nC={PUSH_RECEIVED:"push-received",NOTIFICATION_CLICKED:"notification-clicked"};var TC="fcm_token_details_db",SC=5,CC="fcm_token_object_Store";var NC="firebase-messaging-database",AC=1,kC="firebase-messaging-store",OC=null;function RC(){return OC=OC||P1(NC,AC,function(t){0===t.oldVersion&&t.createObjectStore(kC)})}function PC(i){return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return e=xC(i),[4,RC()];case 1:return[4,t.sent().transaction(kC).objectStore(kC).get(e)];case 2:return(n=t.sent())?[2,n]:[3,3];case 3:return[4,function(a){return b(this,void 0,void 0,function(){var s,e=this;return _(this,function(t){switch(t.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!t.sent().map(function(t){return t.name}).includes(TC))return[2,null];t.label=2;case 2:return s=null,[4,P1(TC,SC,function(o){return b(e,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:return!(o.oldVersion<2)&&o.objectStoreNames.contains(CC)?[4,(e=o.transaction.objectStore(CC)).index("fcmSenderId").get(a)]:[2];case 1:return n=t.sent(),[4,e.clear()];case 2:if(t.sent(),n)if(2===o.oldVersion){if(!(r=n).auth||!r.p256dh||!r.endpoint)return[2];s={token:r.fcmToken,createTime:null!=(i=r.createTime)?i:Date.now(),subscriptionOptions:{auth:r.auth,p256dh:r.p256dh,endpoint:r.endpoint,swScope:r.swScope,vapidKey:"string"==typeof r.vapidKey?r.vapidKey:IC(r.vapidKey)}}}else 3!==o.oldVersion&&4!==o.oldVersion||(s={token:(r=n).fcmToken,createTime:r.createTime,subscriptionOptions:{auth:IC(r.auth),p256dh:IC(r.p256dh),endpoint:r.endpoint,swScope:r.swScope,vapidKey:IC(r.vapidKey)}});return[2]}})})})];case 3:return t.sent().close(),[4,D1(TC)];case 4:return t.sent(),[4,D1("fcm_vapid_details_db")];case 5:return t.sent(),[4,D1("undefined")];case 6:return t.sent(),[2,function(t){var e;if(t&&t.subscriptionOptions)return e=t.subscriptionOptions,"number"==typeof t.createTime&&0<t.createTime&&"string"==typeof t.token&&0<t.token.length&&"string"==typeof e.auth&&0<e.auth.length&&"string"==typeof e.p256dh&&0<e.p256dh.length&&"string"==typeof e.endpoint&&0<e.endpoint.length&&"string"==typeof e.swScope&&0<e.swScope.length&&"string"==typeof e.vapidKey&&0<e.vapidKey.length}(s)?s:null]}})})}(i.appConfig.senderId)];case 4:return(r=t.sent())?[4,DC(i,r)]:[3,6];case 5:return t.sent(),[2,r];case 6:return[2]}})})}function DC(r,i){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return e=xC(r),[4,RC()];case 1:return n=t.sent(),[4,(n=n.transaction(kC,"readwrite")).objectStore(kC).put(i,e)];case 2:return t.sent(),[4,n.complete];case 3:return t.sent(),[2,i]}})})}function xC(t){return t.appConfig.appId}function LC(r,i){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return[4,FC(r)];case 1:e=t.sent(),e={method:"DELETE",headers:e},t.label=2;case 2:return t.trys.push([2,5,,6]),[4,fetch(MC(r.appConfig)+"/"+i,e)];case 3:return[4,t.sent().json()];case 4:if((n=t.sent()).error)throw n=n.error.message,mC.create("token-unsubscribe-failed",{errorInfo:n});return[3,6];case 5:throw n=t.sent(),mC.create("token-unsubscribe-failed",{errorInfo:n});case 6:return[2]}})})}function MC(t){t=t.projectId;return _C+"/projects/"+t+"/registrations"}function FC(t){var n=t.appConfig,r=t.installations;return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,r.getToken()];case 1:return e=t.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}})})}function UC(t){var e=t.p256dh,n=t.vapidKey,t={web:{endpoint:t.endpoint,auth:t.auth,p256dh:e}};return n!==bC&&(t.web.applicationPubKey=n),t}function jC(c,h,l){return b(this,void 0,void 0,function(){var o,s,a,u;return _(this,function(t){switch(t.label){case 0:if("granted"!==Notification.permission)throw mC.create("permission-blocked");return[4,function(n,i){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,n.pushManager.getSubscription()];case 1:return(e=t.sent())?[2,e]:[2,n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(){for(var t=(i+"=".repeat((4-i.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),e=atob(t),n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}()})]}})})}(h,l)];case 1:return o=t.sent(),[4,PC(c)];case 2:return s=t.sent(),a={vapidKey:l,swScope:h.scope,endpoint:o.endpoint,auth:IC(o.getKey("auth")),p256dh:IC(o.getKey("p256dh"))},s?[3,3]:[2,qC(c,a)];case 3:if(e=s.subscriptionOptions,r=(n=a).vapidKey===e.vapidKey,i=n.endpoint===e.endpoint,r&&i&&n.auth===e.auth&&n.p256dh===e.p256dh)return[3,8];t.label=4;case 4:return t.trys.push([4,6,,7]),[4,LC(c,s.token)];case 5:return t.sent(),[3,7];case 6:return u=t.sent(),console.warn(u),[3,7];case 7:return[2,qC(c,a)];case 8:return Date.now()>=s.createTime+6048e5?[2,function(i,o,s){return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,5]),[4,function(o,s){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:return[4,FC(o)];case 1:e=t.sent(),r=UC(s.subscriptionOptions),e={method:"PATCH",headers:e,body:JSON.stringify(r)},t.label=2;case 2:return t.trys.push([2,5,,6]),[4,fetch(MC(o.appConfig)+"/"+s.token,e)];case 3:return[4,t.sent().json()];case 4:return n=t.sent(),[3,6];case 5:throw r=t.sent(),mC.create("token-update-failed",{errorInfo:r});case 6:if(n.error)throw i=n.error.message,mC.create("token-update-failed",{errorInfo:i});if(n.token)return[2,n.token];throw mC.create("token-update-no-token")}})})}(o,i)];case 1:return e=t.sent(),n=Yo(Yo({},i),{token:e,createTime:Date.now()}),[4,DC(o,n)];case 2:return t.sent(),[2,e];case 3:return r=t.sent(),[4,VC(o,s)];case 4:throw t.sent(),r;case 5:return[2]}})})}({token:s.token,createTime:Date.now(),subscriptionOptions:a},c,h)]:[2,s.token];case 9:return[2]}var e,n,r,i})})}function VC(n,r){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,PC(n)];case 1:return(e=t.sent())?[4,LC(n,e.token)]:[3,4];case 2:return t.sent(),[4,function(r){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return e=xC(r),[4,RC()];case 1:return n=t.sent(),[4,(n=n.transaction(kC,"readwrite")).objectStore(kC).delete(e)];case 2:return t.sent(),[4,n.complete];case 3:return t.sent(),[2]}})})}(n)];case 3:t.sent(),t.label=4;case 4:return[4,r.pushManager.getSubscription()];case 5:return(e=t.sent())?[2,e.unsubscribe()]:[2,!0]}})})}function qC(n,r){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,function(o,s){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:return[4,FC(o)];case 1:e=t.sent(),r=UC(s),e={method:"POST",headers:e,body:JSON.stringify(r)},t.label=2;case 2:return t.trys.push([2,5,,6]),[4,fetch(MC(o.appConfig),e)];case 3:return[4,t.sent().json()];case 4:return n=t.sent(),[3,6];case 5:throw r=t.sent(),mC.create("token-subscribe-failed",{errorInfo:r});case 6:if(n.error)throw i=n.error.message,mC.create("token-subscribe-failed",{errorInfo:i});if(n.token)return[2,n.token];throw mC.create("token-subscribe-no-token")}})})}(n,r)];case 1:return e=t.sent(),e={token:e,createTime:Date.now(),subscriptionOptions:r},[4,DC(n,e)];case 2:return t.sent(),[2,e.token]}})})}function BC(t){return"object"==typeof t&&t&&EC in t}Object.defineProperty(GC.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),GC.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw mC.create("invalid-bg-handler");this.bgMessageHandler=t},GC.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},GC.prototype.getToken=function(){var n;return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return this.vapidKey?[3,2]:[4,PC(this.firebaseDependencies)];case 1:e=t.sent(),this.vapidKey=null!=(n=null==(n=null==e?void 0:e.subscriptionOptions)?void 0:n.vapidKey)?n:bC,t.label=2;case 2:return[2,jC(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},GC.prototype.deleteToken=function(){return VC(this.firebaseDependencies,self.registration)},GC.prototype.requestPermission=function(){throw mC.create("only-available-in-window")},GC.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw mC.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw mC.create("invalid-vapid-key");this.vapidKey=t},GC.prototype.useServiceWorker=function(){throw mC.create("only-available-in-window")},GC.prototype.onMessage=function(){throw mC.create("only-available-in-window")},GC.prototype.onTokenRefresh=function(){throw mC.create("only-available-in-window")},GC.prototype.onPush=function(c){return b(this,void 0,void 0,function(){var s,a,u;return _(this,function(t){switch(t.label){case 0:return(s=function(){var t=c.data;if(!t)return null;try{return t.json()}catch(t){return null}}())?[4,HC()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(u=t.sent()).some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=nC.PUSH_RECEIVED;try{for(var i=Xo(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(u,s)]:(a=!1,s.notification?[4,((o=Yo({},(r=s).notification)).data=((i={})[wC]=r,i),i=(r=o).actions,o=Notification.maxActions,i&&o&&i.length>o&&console.warn("This browser only supports "+o+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!=(i=r.title)?i:"",r))]:[3,3]);case 2:t.sent(),a=!0,t.label=3;case 3:return!0===a&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(i={from:(o=s).from,collapseKey:o.collapse_key},r=i,(e=o).notification&&(r.notification={},(n=e.notification.title)&&(r.notification.title=n),(n=e.notification.body)&&(r.notification.body=n),n=e.notification.image)&&(r.notification.image=n),e=i,o.data&&(e.data=o.data),r=i,(n=o).fcmOptions&&(r.fcmOptions={},(e=n.fcmOptions.link)&&(r.fcmOptions.link=e),e=n.fcmOptions.analytics_label)&&(r.fcmOptions.analyticsLabel=e),u=i,"function"==typeof this.bgMessageHandler?this.bgMessageHandler(u):this.bgMessageHandler.next(u)),[2]}var e,n,r,i,o})})},GC.prototype.onSubChange=function(n){var r;return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return n.newSubscription?[3,2]:[4,VC(this.firebaseDependencies,self.registration)];case 1:return t.sent(),[2];case 2:return[4,PC(this.firebaseDependencies)];case 3:return e=t.sent(),[4,VC(this.firebaseDependencies,self.registration)];case 4:return t.sent(),[4,jC(this.firebaseDependencies,self.registration,null!=(r=null==(r=null==e?void 0:e.subscriptionOptions)?void 0:r.vapidKey)?r:bC)];case 5:return t.sent(),[2]}})})},GC.prototype.onNotificationClick=function(u){var c;return b(this,void 0,void 0,function(){var r,i,o,s,a;return _(this,function(t){switch(t.label){case 0:return!(r=null==(c=null==(c=u.notification)?void 0:c.data)?void 0:c[wC])||u.action||(u.stopImmediatePropagation(),u.notification.close(),n=null!=(n=null==(n=(e=r).fcmOptions)?void 0:n.link)?n:null==(n=e.notification)?void 0:n.click_action,!(i=n||(BC(e.data)?self.location.origin:null)))||(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host)?[2]:[4,function(u){return b(this,void 0,void 0,function(){var e,n,r,i,o,s,a;return _(this,function(t){switch(t.label){case 0:return[4,HC()];case 1:e=t.sent();try{for(n=Xo(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),u.host===o.host)return[2,i]}catch(t){s={error:t}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}(o)];case 1:return(a=t.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=t.sent(),[4,new Promise(function(t){setTimeout(t,3e3)})];case 3:return t.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=t.sent(),t.label=6;case 6:return a?(r.messageType=nC.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}var e,n})})};var WC=GC;function GC(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}function HC(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}Object.defineProperty(zC.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),zC.prototype.messageEventListener=function(i){return b(this,void 0,void 0,function(){var n,r;return _(this,function(t){switch(t.label){case 0:return(n=i.data).isFirebaseMessaging?(this.onMessageCallback&&n.messageType===nC.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(e=Object.assign({},n)).messageType,delete e.isFirebaseMessaging,e)):this.onMessageCallback.next(Object.assign({},n))),BC(r=n.data)&&"1"===r["google.c.a.e"]?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:t.sent(),t.label=2;case 2:return[2]}var e})})},zC.prototype.getVapidKey=function(){return this.vapidKey},zC.prototype.getSwReg=function(){return this.swRegistration},zC.prototype.getToken=function(e){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw mC.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,jC(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},zC.prototype.updateVapidKey=function(e){return b(this,void 0,void 0,function(){return _(this,function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=bC),[2]})})},zC.prototype.updateSwReg=function(e){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(e instanceof ServiceWorkerRegistration)return this.swRegistration=e,[2];throw mC.create("invalid-sw-registration")}})})},zC.prototype.registerDefaultSw=function(){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=t.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=t.sent(),mC.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},zC.prototype.deleteToken=function(){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,VC(this.firebaseDependencies,this.swRegistration)]}})})},zC.prototype.requestPermission=function(){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?mC.create("permission-blocked"):mC.create("permission-default")}})})},zC.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw mC.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw mC.create("invalid-vapid-key");this.vapidKey=t},zC.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw mC.create("invalid-sw-registration");if(this.swRegistration)throw mC.create("use-sw-after-get-token");this.swRegistration=t},zC.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},zC.prototype.setBackgroundMessageHandler=function(){throw mC.create("only-available-in-sw")},zC.prototype.onBackgroundMessage=function(){throw mC.create("only-available-in-sw")},zC.prototype.onTokenRefresh=function(){return function(){}},zC.prototype.logEvent=function(n,r){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return e=function(){switch(n){case nC.NOTIFICATION_CLICKED:return"notification_open";case nC.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return t.sent().logEvent(e,{message_id:r[EC],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})};var KC=zC;function zC(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}function QC(t){return mC.create("missing-app-config-values",{valueName:t})}_t={isSupported:YC};function YC(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Fl.INTERNAL.registerComponent(new Hs("messaging",function(t){var e=t.getProvider("app").getImmediate(),e={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw QC("App Configuration Object");if(!t.name)throw QC("App Name");var r=t.options;try{for(var i=Xo(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw QC(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(YC())return new(self&&"ServiceWorkerGlobalScope"in self?WC:KC)(e);throw mC.create("unsupported-browser")},"PUBLIC").setServiceProps(_t));var XC="firebasestorage.googleapis.com",JC=($C.prototype.codeProp=function(){return this.code},$C.prototype.codeEquals=function(t){return tN(t)===this.codeProp()},$C.prototype.serverResponseProp=function(){return this.serverResponse_},$C.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty($C.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty($C.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty($C.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty($C.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),$C);function $C(t,e){this.code_=tN(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}var ZC={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function tN(t){return"storage/"+t}function eN(){return new JC(ZC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function nN(){return new JC(ZC.CANCELED,"User canceled the upload/download.")}function rN(){return new JC(ZC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iN(t,e,n){return new JC(ZC.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function oN(){return new JC(ZC.APP_DELETED,"The Firebase app was deleted.")}function sN(t,e){return new JC(ZC.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function aN(t){throw new JC(ZC.INTERNAL_ERROR,"Internal error: "+t)}var uN={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function cN(t){switch(t){case uN.RAW:case uN.BASE64:case uN.BASE64URL:case uN.DATA_URL:return;default:throw"Expected one of the event types: ["+uN.RAW+", "+uN.BASE64+", "+uN.BASE64URL+", "+uN.DATA_URL+"]."}}function hN(t,e){this.data=t,this.contentType=e||null}function lN(t,e){switch(t){case uN.RAW:return new hN(fN(e));case uN.BASE64:case uN.BASE64URL:return new hN(pN(t,e));case uN.DATA_URL:return new hN((n=new dN(e)).base64?pN(uN.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw sN(uN.DATA_URL,"Malformed data URL.")}return fN(e)}(n.rest),new dN(e).contentType)}var n;throw eN()}function fN(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?n<t.length-1&&56320==(64512&t.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function pN(t,e){switch(t){case uN.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw sN(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case uN.BASE64URL:r=-1!==e.indexOf("+"),n=-1!==e.indexOf("/");if(r||n)throw sN(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(e)}catch(e){throw sN(t,"Invalid character found")}for(var o=new Uint8Array(i.length),s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return o}function dN(t){this.base64=!1,this.contentType=null;var e,n=t.match(/^data:([^,]+)?,/);if(null===n)throw sN(uN.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");null!=(n=n[1]||null)&&(this.base64=n.length>=(e=";base64").length&&n.substring(n.length-e.length)===e,this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}var vN,yN={STATE_CHANGED:"state_changed"},gN="running",mN="pausing",bN="paused",_N="success",wN="canceling",EN="canceled",IN="error",TN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function SN(t){switch(t){case gN:case mN:case wN:return TN.RUNNING;case bN:return TN.PAUSED;case _N:return TN.SUCCESS;case EN:return TN.CANCELED;default:return TN.ERROR}}function CN(t){return null!=t}function NN(t){return void 0!==t}function AN(t){return"function"==typeof t}function kN(t){return"object"==typeof t}function ON(t){return"string"==typeof t||t instanceof String}function RN(t){return"number"==typeof t||t instanceof Number}function PN(t){return DN()&&t instanceof Blob}function DN(){return"undefined"!=typeof Blob}vN={NO_ERROR:0,0:"NO_ERROR",NETWORK_ERROR:1,1:"NETWORK_ERROR",ABORT:2,2:"ABORT"};LN.prototype.send=function(t,e,n,r){if(this.sent_)throw aN("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),CN(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return CN(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},LN.prototype.getErrorCode=function(){if(this.sent_)return this.errorCode_;throw aN("cannot .getErrorCode() before sending")},LN.prototype.getStatus=function(){if(!this.sent_)throw aN("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},LN.prototype.getResponseText=function(){if(this.sent_)return this.xhr_.responseText;throw aN("cannot .getResponseText() before sending")},LN.prototype.abort=function(){this.xhr_.abort()},LN.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},LN.prototype.addUploadProgressListener=function(t){CN(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},LN.prototype.removeUploadProgressListener=function(t){CN(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)};var xN=LN;function LN(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=vN.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=vN.ABORT,t(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=vN.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(){t(e)})})}FN.prototype.createXhrIo=function(){return new xN};var MN=FN;function FN(){}jN.prototype.size=function(){return this.size_},jN.prototype.type=function(){return this.type_},jN.prototype.slice=function(t,e){var n,r,i;return PN(this.data_)?(r=t,i=e,null===(n=(n=this.data_).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new jN(n)):new jN(new Uint8Array(this.data_.buffer,t,e-t),!0)},jN.getBlob=function(){for(var t,e,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return DN()?(t=i.map(function(t){return t instanceof jN?t.data_:t}),new jN(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(DN())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}.apply(null,t))):(t=i.map(function(t){return ON(t)?lN(uN.RAW,t).data:t.data_}),e=0,t.forEach(function(t){e+=t.byteLength}),n=new Uint8Array(e),r=0,t.forEach(function(t){for(var e=0;e<t.length;e++)n[r++]=t[e]}),new jN(n,!0))},jN.prototype.uploadData=function(){return this.data_};var UN=jN;function jN(t,e){var n=0,r="";PN(t)?(n=(this.data_=t).size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}Object.defineProperty(qN.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(qN.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),qN.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},qN.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},qN.makeFromBucketSpec=function(t){var e;try{e=qN.makeFromUrl(t)}catch(e){return new qN(t,"")}if(""===e.path)return e;throw new JC(ZC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")},qN.makeFromUrl=function(t){var e=null,n="([A-Za-z0-9.\\-_]+)",r=new RegExp("^gs://"+n+"(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=XC.replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/"+n+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+n+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(t);if(c){e=new qN(c[u.indices.bucket],c[u.indices.path]||""),u.postModify(e);break}}if(null==e)throw new JC(ZC.INVALID_URL,"Invalid URL '"+t+"'.");return e};var VN=qN;function qN(t,e){this.bucket=t,this.path_=e}function BN(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return kN(n=e)&&!Array.isArray(n)?e:null}function WN(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function GN(t){return"https://"+XC+"/v0"+t}function HN(t){var e,n=encodeURIComponent,r="?";for(e in t)t.hasOwnProperty(e)&&(r=r+(n(e)+"="+n(t[e]))+"&");return r.slice(0,-1)}function KN(t,e){return e}function zN(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||KN}var QN=null;function YN(t,e,n){e=BN(e);if(null===e)return null;for(var r,i,o=e,s=n,a={type:"file"},u=s.length,c=0;c<u;c++){var h=s[c];a[h.local]=h.xform(a,o[h.server])}return r=a,i=t,Object.defineProperty(r,"ref",{get:function(){var t=r.bucket,t=new VN(t,r.fullPath);return i.makeStorageReference(t)}}),a}function XN(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function JN(t){if(!kN(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!kN(n))throw"Expected object for 'customMetadata' mapping."}else if(kN(n=n)&&null!==n)throw"Mapping for '"+e+"' cannot be an object."}}var $N="maxResults",ZN="pageToken",tA="prefixes",eA="items";function nA(t){if(!kN(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===$N){if(!RN(n=t[$N])||!Number.isInteger(n)||t[$N]<=0)throw"Expected maxResults to be a positive number.";if(1e3<t[$N])throw"Expected maxResults to be less than or equal to 1000."}else{if(e!==ZN)throw"Unknown option: "+e;if(t[ZN]&&!ON(t[ZN]))throw"Expected pageToken to be string."}var n}function rA(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}function iA(t){if(!t)throw eN()}function oA(n,r){return function(t,e){e=YN(n,e,r);return iA(null!==e),e}}function sA(n,r){return function(t,e){e=function(t,e,n){if(null===(n=BN(n)))return null;var r=t,i=e,o={prefixes:[],items:[],nextPageToken:(t=n).nextPageToken};if(t[tA])for(var s=0,a=t[tA];s<a.length;s++){var u=a[s].replace(/\/$/,""),c=r.makeStorageReference(new VN(i,u));o.prefixes.push(c)}if(t[eA])for(var h=0,l=t[eA];h<l.length;h++){var f=l[h],c=r.makeStorageReference(new VN(i,f.name));o.items.push(c)}return o}(n,r,e);return iA(null!==e),e}}function aA(o,s){return function(t,e){var r,i,n=YN(o,e,s);return iA(null!==n),r=n,null===(n=BN(e))||!ON(n.downloadTokens)||0===(n=n.downloadTokens).length?null:(i=encodeURIComponent,n.split(",").map(function(t){var e=r.bucket,n=r.fullPath;return GN("/b/"+i(e)+"/o/"+i(n))+HN({alt:"media",token:t})})[0])}}function uA(r){return function(t,e){var n,t=401===t.getStatus()?new JC(ZC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(n=r.bucket,new JC(ZC.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(n=r.path,new JC(ZC.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")):e;return t.setServerResponseProp(e.serverResponseProp()),t}}function cA(r){var i=uA(r);return function(t,e){var n=i(t,e);return 404===t.getStatus()&&(t=r.path,n=new JC(ZC.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")),n.setServerResponseProp(e.serverResponseProp()),n}}function hA(t,e,n){var r=GN(e.fullServerUrl()),i=t.maxOperationRetryTime,r=new rA(r,"GET",oA(t,n),i);return r.errorHandler=cA(e),r}function lA(t,e,n){n=Object.assign({},n);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=null&&null.contentType||e&&e.type()||"application/octet-stream"),n}function fA(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}function pA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){iA(!1)}return iA(!!n&&-1!==(e||["active"]).indexOf(n)),n}function dA(t,e,n){AN(t)||CN(e)||CN(n)?(this.next=t,this.error=e||null,this.complete=n||null):(this.next=(e=t).next||null,this.error=e.error||null,this.complete=e.complete||null)}function vA(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}function yA(t,e,n){for(var r,i=e.length,o=e.length,s=0;s<e.length;s++)if(e[s].optional){i=s;break}if(!(i<=n.length&&n.length<=o))throw o=i===o?1===(r=i)?"argument":"arguments":(r="between "+i+" and "+o,"arguments"),new JC(ZC.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+r+" "+o+", received "+n.length+".");for(s=0;s<n.length;s++)try{e[s].validator(n[s])}catch(e){throw e instanceof Error?iN(s,t,e.message):iN(s,t,e)}}function gA(e,t){var n=this;this.validator=function(t){n.optional&&!NN(t)||e(t)},this.optional=!!t}function mA(t,e){function n(t){if(!ON(t))throw"Expected string."}var r,i,t=t?(r=n,i=t,function(t){r(t),i(t)}):n;return new gA(t,e)}function bA(t){return new gA(JN,t)}function _A(){return new gA(function(t){if(!(RN(t)&&0<=t))throw"Expected a number 0 or greater."})}function wA(e,t){return new gA(function(t){if(!(null===t||CN(t)&&t instanceof Object))throw"Expected an Object.";null!=e&&e(t)},t)}function EA(t){return new gA(function(t){if(null!==t&&!AN(t))throw"Expected a Function."},t)}function IA(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Promise.resolve().then(function(){return n.apply(void 0,t)})}}SA.prototype.makeProgressCallback_=function(){var e=this,n=this.transferred_;return function(t){return e.updateProgress_(n+t)}},SA.prototype.shouldDoResumable_=function(t){return 262144<t.size()},SA.prototype.start_=function(){this.state_===gN&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},SA.prototype.resolveToken_=function(e){var n=this;this.service_.getAuthToken().then(function(t){switch(n.state_){case gN:e(t);break;case wN:n.transition_(EN);break;case mN:n.transition_(bN)}})},SA.prototype.createResumable_=function(){var u=this;this.resolveToken_(function(t){e=u.service_,n=u.location_,a=u.mappings_,r=u.blob_,i=u.metadata_,s=n.bucketOnlyServerUrl(),o={name:(i=lA(n,r,i)).fullPath},s=GN(s),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},i=XN(i,a),a=e.maxUploadRetryTime,(e=new rA(s,"POST",function(t){var e;pA(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){iA(!1)}return iA(ON(e)),e},a)).urlParams=o,e.headers=r,e.body=i,e.errorHandler=uA(n);var e,n,r,i,o,s=e,a=u.service_.makeRequest(s,t);(u.request_=a).getPromise().then(function(t){u.request_=null,u.uploadUrl_=t,u.needToFetchStatus_=!1,u.completeTransitions_()},u.errorHandler_)})},SA.prototype.fetchStatus_=function(){var o=this,s=this.uploadUrl_;this.resolveToken_(function(t){n=o.service_,i=o.location_,e=s,r=o.blob_,n=n.maxUploadRetryTime,(e=new rA(e,"POST",function(t){var e=pA(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){iA(!1)}n||iA(!1);n=Number(n);return iA(!isNaN(n)),new fA(n,r.size(),"final"===e)},n)).headers={"X-Goog-Upload-Command":"query"},e.errorHandler=uA(i);var e,r,n=e,i=o.service_.makeRequest(n,t);(o.request_=i).getPromise().then(function(t){o.request_=null,o.updateProgress_(t.current),o.needToFetchStatus_=!1,t.finalized&&(o.needToFetchMetadata_=!0),o.completeTransitions_()},o.errorHandler_)})},SA.prototype.continueUpload_=function(){var n=this,r=262144*this.chunkMultiplier_,i=new fA(this.transferred_,this.blob_.size()),o=this.uploadUrl_;this.resolveToken_(function(t){try{e=function(t,o,e,s,n,a,r,i){var u=new fA(0,0);if(r?(u.current=r.current,u.total=r.total):(u.current=0,u.total=s.size()),s.size()!==u.total)throw new JC(ZC.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=r=u.total-u.current;0<n&&(c=Math.min(c,n));var h=(n=u.current)+c,r={"X-Goog-Upload-Command":c===r?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current};if(null===(n=s.slice(n,h)))throw rN();return h=o.maxUploadRetryTime,(e=new rA(e,"POST",function(t,e){var n=pA(t,["active","final"]),r=u.current+c,i=s.size(),t="final"===n?oA(o,a)(t,e):null;return new fA(r,i,"final"===n,t)},h)).headers=r,e.body=n.uploadData(),e.progressCallback=i||null,e.errorHandler=uA(t),e}(n.location_,n.service_,o,n.blob_,r,n.mappings_,i,n.makeProgressCallback_())}catch(t){return n.error_=t,void n.transition_(IN)}var e=n.service_.makeRequest(e,t);(n.request_=e).getPromise().then(function(t){n.increaseMultiplier_(),n.request_=null,n.updateProgress_(t.current),t.finalized?(n.metadata_=t.metadata,n.transition_(_N)):n.completeTransitions_()},n.errorHandler_)})},SA.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},SA.prototype.fetchMetadata_=function(){var n=this;this.resolveToken_(function(t){var e=hA(n.service_,n.location_,n.mappings_),e=n.service_.makeRequest(e,t);(n.request_=e).getPromise().then(function(t){n.request_=null,n.metadata_=t,n.transition_(_N)},n.metadataErrorHandler_)})},SA.prototype.oneShotUpload_=function(){var n=this;this.resolveToken_(function(t){var e=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}(),i=(s["Content-Type"]="multipart/related; boundary="+a,lA(e,r,i)),u="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+XN(i,n)+"\r\n--"+a+"\r\nContent-Type: "+i.contentType+"\r\n\r\n";if(null===(u=UN.getBlob(u,r,"\r\n--"+a+"--")))throw rN();return r={name:i.fullPath},a=GN(o),i=t.maxUploadRetryTime,(o=new rA(a,"POST",oA(t,n),i)).urlParams=r,o.headers=s,o.body=u.uploadData(),o.errorHandler=uA(e),o}(n.service_,n.location_,n.mappings_,n.blob_,n.metadata_),e=n.service_.makeRequest(e,t);(n.request_=e).getPromise().then(function(t){n.request_=null,n.metadata_=t,n.updateProgress_(n.blob_.size()),n.transition_(_N)},n.errorHandler_)})},SA.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},SA.prototype.transition_=function(t){if(this.state_!==t)switch(t){case wN:case mN:this.state_=t,null!==this.request_&&this.request_.cancel();break;case gN:var e=this.state_===bN;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case bN:this.state_=t,this.notifyObservers_();break;case EN:this.error_=nN(),this.state_=t,this.notifyObservers_();break;case IN:case _N:this.state_=t,this.notifyObservers_()}},SA.prototype.completeTransitions_=function(){switch(this.state_){case mN:this.transition_(bN);break;case wN:this.transition_(EN);break;case gN:this.start_()}},Object.defineProperty(SA.prototype,"snapshot",{get:function(){var t=SN(this.state_);return new vA(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),SA.prototype.on=function(t,e,n,o){var r="Expected a function or an Object with one of `next`, `error`, `complete` properties.",i=EA(!0).validator,s=wA(null,!0).validator;function a(t){try{return void i(t)}catch(t){}try{if(s(t),!(NN(t.next)||NN(t.error)||NN(t.complete)))throw""}catch(t){throw r}}yA("on",[mA(function(){if(t!==yN.STATE_CHANGED)throw"Expected one of the event types: ["+yN.STATE_CHANGED+"]."}),wA(a,!0),EA(!0),EA(!0)],arguments);var u=this;function c(i){return function(t,e,n){null!==i&&yA("on",i,arguments);var r=new dA(t,e,o);return u.addObserver_(r),function(){u.removeObserver_(r)}}}var h=[wA(function(t){if(null===t)throw r;a(t)}),EA(!0),EA(!0)];return NN(e)||NN(n)||NN(o)?c(null)(e,n,o):c(h)},SA.prototype.then=function(t,e){return this.promise_.then(t,e)},SA.prototype.catch=function(t){return this.then(null,t)},SA.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},SA.prototype.removeObserver_=function(t){t=this.observers_.indexOf(t);-1!==t&&this.observers_.splice(t,1)},SA.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach(function(t){e.notifyObserver_(t)})},SA.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(SN(this.state_)){case TN.SUCCESS:IA(this.resolve_.bind(null,this.snapshot))();break;case TN.CANCELED:case TN.ERROR:IA(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},SA.prototype.notifyObserver_=function(t){switch(SN(this.state_)){case TN.RUNNING:case TN.PAUSED:t.next&&IA(t.next.bind(t,this.snapshot))();break;case TN.SUCCESS:t.complete&&IA(t.complete.bind(t))();break;default:t.error&&IA(t.error.bind(t,this.error_))()}},SA.prototype.resume=function(){yA("resume",[],arguments);var t=this.state_===bN||this.state_===mN;return t&&this.transition_(gN),t},SA.prototype.pause=function(){yA("pause",[],arguments);var t=this.state_===gN;return t&&this.transition_(mN),t},SA.prototype.cancel=function(){yA("cancel",[],arguments);var t=this.state_===gN||this.state_===mN;return t&&this.transition_(wN),t};var TA=SA;function SA(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=gN,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(ZC.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(IN))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(ZC.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(IN))},this.promise_=new Promise(function(t,e){s.resolve_=t,s.reject_=e,s.start_()}),this.promise_.then(null,function(){})}NA.prototype.toString=function(){return yA("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},NA.prototype.newRef=function(t,e){return new NA(t,e)},NA.prototype.mappings=function(){var t,e;return QN||((t=[]).push(new zN("bucket")),t.push(new zN("generation")),t.push(new zN("metageneration")),t.push(new zN("name","fullPath",!0)),(e=new zN("name")).xform=function(t,e){return!ON(e=e)||e.length<2?e:WN(e)},t.push(e),(e=new zN("size")).xform=function(t,e){return CN(e)?Number(e):e},t.push(e),t.push(new zN("timeCreated")),t.push(new zN("updated")),t.push(new zN("md5Hash",null,!0)),t.push(new zN("cacheControl",null,!0)),t.push(new zN("contentDisposition",null,!0)),t.push(new zN("contentEncoding",null,!0)),t.push(new zN("contentLanguage",null,!0)),t.push(new zN("contentType",null,!0)),t.push(new zN("metadata","customMetadata",!0)),QN=t)},NA.prototype.child=function(t){yA("child",[mA()],arguments);e=this.location.path,t=t.split("/").filter(function(t){return 0<t.length}).join("/");var e=0===e.length?t:e+"/"+t,t=new VN(this.location.bucket,e);return this.newRef(this.service,t)},Object.defineProperty(NA.prototype,"parent",{get:function(){var t,e=0===(e=this.location.path).length?null:-1===(t=e.lastIndexOf("/"))?"":e.slice(0,t);return null===e?null:(t=new VN(this.location.bucket,e),this.newRef(this.service,t))},enumerable:!1,configurable:!0}),Object.defineProperty(NA.prototype,"root",{get:function(){var t=new VN(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(NA.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(NA.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(NA.prototype,"name",{get:function(){return WN(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(NA.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),NA.prototype.put=function(t,e){return void 0===e&&(e=null),yA("put",[new gA(function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||DN()&&t instanceof Blob))throw"Expected Blob or File."}),bA(!0)],arguments),this.throwIfRoot_("put"),new TA(this,this.service,this.location,this.mappings(),new UN(t),e)},NA.prototype.putString=function(t,e,n){void 0===e&&(e=uN.RAW),yA("putString",[mA(),mA(cN,!0),bA(!0)],arguments),this.throwIfRoot_("putString");e=lN(e,t),t=Object.assign({},n);return!CN(t.contentType)&&CN(e.contentType)&&(t.contentType=e.contentType),new TA(this,this.service,this.location,this.mappings(),new UN(e.data,!0),t)},NA.prototype.delete=function(){var i=this;return yA("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then(function(t){r=i.service,n=GN((e=i.location).fullServerUrl()),r=r.maxOperationRetryTime,(n=new rA(n,"DELETE",function(t,e){},r)).successCodes=[200,204],n.errorHandler=cA(e);var e,n,r=n;return i.service.makeRequest(r,t).getPromise()})},NA.prototype.listAll=function(){yA("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then(function(){return t})},NA.prototype.listAllHelper=function(r,i){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return e={pageToken:i},[4,this.list(e)];case 1:return e=t.sent(),(n=r.prefixes).push.apply(n,e.prefixes),(n=r.items).push.apply(n,e.items),null==e.nextPageToken?[3,3]:[4,this.listAllHelper(r,e.nextPageToken)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},NA.prototype.list=function(s){yA("list",[new gA(nA,!0)],arguments);var a=this;return this.service.getAuthToken().then(function(t){var e,n,r,i=s||{},o=(o=a.service,e=a.location,n=i.pageToken,i=i.maxResults,r={},e.isRoot?r.prefix="":r.prefix=e.path+"/",0<"/".length&&(r.delimiter="/"),n&&(r.pageToken=n),i&&(r.maxResults=i),n=GN(e.bucketOnlyServerUrl()),i=o.maxOperationRetryTime,(n=new rA(n,"GET",sA(o,e.bucket),i)).urlParams=r,n.errorHandler=uA(e),n);return a.service.makeRequest(o,t).getPromise()})},NA.prototype.getMetadata=function(){var n=this;return yA("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then(function(t){var e=hA(n.service,n.location,n.mappings());return n.service.makeRequest(e,t).getPromise()})},NA.prototype.updateMetadata=function(a){var u=this;return yA("updateMetadata",[bA()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then(function(t){s=u.service,e=u.location,r=a,n=u.mappings(),o=GN(e.fullServerUrl()),r=XN(r,n),i=s.maxOperationRetryTime,(o=new rA(o,"PATCH",oA(s,n),i)).headers={"Content-Type":"application/json; charset=utf-8"},o.body=r,o.errorHandler=cA(e);var e,n,r,i,o,s=o;return u.service.makeRequest(s,t).getPromise()})},NA.prototype.getDownloadURL=function(){var s=this;return yA("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then(function(t){o=s.service,e=s.location,n=s.mappings(),i=GN(e.fullServerUrl()),r=o.maxOperationRetryTime,(i=new rA(i,"GET",aA(o,n),r)).errorHandler=cA(e);var e,n,r,i,o=i;return s.service.makeRequest(o,t).getPromise().then(function(t){if(null===t)throw new JC(ZC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return t})})},NA.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw new JC(ZC.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")};var CA=NA;function NA(t,e){this.service=t,this.location=e instanceof VN?e:VN.makeFromUrl(e)}kA.prototype.getPromise=function(){return this.promise_},kA.prototype.cancel=function(t){};var AA=kA;function kA(t){this.promise_=Promise.reject(t)}RA.prototype.start_=function(){var e,n,t,r,i,o,s,a,u,c=this;function h(t,e){var n,r=c.resolve_,i=c.reject_,o=e.xhr;if(e.wasSuccessCode)try{var s=c.callback_(o,o.getResponseText());NN(s)?r(s):r()}catch(t){i(t)}else null!==o?((n=eN()).setServerResponseProp(o.getResponseText()),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):i(n=e.canceled?(c.appDelete_?oN:nN)():new JC(ZC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}function l(){return 2===s}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a||(a=!0,n.apply(null,t))}function p(t){i=setTimeout(function(){i=null,e(d,l())},t)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];a||(t||l()||o?f.call.apply(f,Zo([null,t],e)):(r<64&&(r*=2),p(1===s?(s=2,0):1e3*(r+Math.random()))))}function v(t){u||(u=!0,a)||(null!==i?(t||(s=2),clearTimeout(i),p(0)):t||(s=1))}this.canceled_?h(0,new PA(!1,null,!0)):this.backoffId_=(e=function(r,t){function i(t){var e=t.loaded;null!==c.progressCallback_&&c.progressCallback_(e,t.lengthComputable?t.total:-1)}t?r(!1,new PA(!1,null,!0)):(t=c.pool_.createXhrIo(),c.pendingXhr_=t,null!==c.progressCallback_&&t.addUploadProgressListener(i),t.send(c.url_,c.method_,c.body_,c.headers_).then(function(t){null!==c.progressCallback_&&t.removeUploadProgressListener(i),c.pendingXhr_=null;var e=t.getErrorCode()===vN.NO_ERROR,n=t.getStatus();e&&!c.isRetryStatusCode_(n)?(e=-1!==c.successCodes_.indexOf(n),r(!0,new PA(e,t))):(n=t.getErrorCode()===vN.ABORT,r(!1,new PA(!1,null,n)))}))},n=h,t=this.timeout_,i=null,u=a=o=!(r=1),p(s=0),setTimeout(function(){v(o=!0)},t),v)},RA.prototype.getPromise=function(){return this.promise_},RA.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},RA.prototype.isRetryStatusCode_=function(t){var e=500<=t&&t<600,n=-1!==[408,429].indexOf(t),t=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||t};var OA=RA;function RA(t,e,n,r,i,o,s,a,u,c,h){var l=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=h,this.promise_=new Promise(function(t,e){l.resolve_=t,l.reject_=e,l.start_()})}var PA=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};xA.extractBucket_=function(t){t=null==t?void 0:t.storageBucket;return null==t?null:VN.makeFromBucketSpec(t)},xA.prototype.getAuthToken=function(){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return(e=this.authProvider_.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(e=t.sent()))return[2,e.accessToken];t.label=2;case 2:return[2,null]}})})},xA.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach(function(t){return t.cancel()}),this.requests_.clear()},xA.prototype.makeStorageReference=function(t){return new CA(this,t)},xA.prototype.makeRequest=function(t,e){var n,r,i,o,s,a=this;return this.deleted_?new AA(oN()):(t=t,r=this.appId_,e=e,i=this.pool_,o=HN(t.urlParams),o=t.url+o,s=Object.assign({},t.headers),r&&(s["X-Firebase-GMPID"]=r),null!==e&&0<e.length&&(s.Authorization="Firebase "+e),r=void 0!==Fl?Fl.SDK_VERSION:"AppManager",s["X-Firebase-Storage-Version"]="webjs/"+r,n=new OA(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i),this.requests_.add(n),n.getPromise().then(function(){return a.requests_.delete(n)},function(){return a.requests_.delete(n)}),n)},xA.prototype.ref=function(t){if(yA("ref",[mA(function(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var e=new CA(this,this.bucket_);return null!=t?e.child(t):e},xA.prototype.refFromURL=function(t){return yA("refFromURL",[mA(function(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{VN.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new CA(this,t)},Object.defineProperty(xA.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),xA.prototype.setMaxUploadRetryTime=function(t){yA("setMaxUploadRetryTime",[_A()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(xA.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),xA.prototype.setMaxOperationRetryTime=function(t){yA("setMaxOperationRetryTime",[_A()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(xA.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(xA.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0});var DA=xA;function xA(t,e,n,r){this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,this.authProvider_=e,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=n,this.bucket_=null!=r?VN.makeFromBucketSpec(r):xA.extractBucket_(null==(t=this.app_)?void 0:t.options),this.internals_=new LA(this)}MA.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()};var LA=MA;function MA(t){this.service_=t}t={TaskState:TN,TaskEvent:yN,StringFormat:uN,Storage:DA,Reference:CA},(Ct=Fl).INTERNAL.registerComponent(new Hs("storage",function(t,e){var n=t.getProvider("app").getImmediate(),t=t.getProvider("auth-internal");return new DA(n,t,new MN,e)},"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),Ct.registerVersion("@firebase/storage","0.3.43");var FA,UA,jA="0.4.1",VA="FB-PERF-TRACE-MEASURE",qA="@firebase/performance/config",BA="@firebase/performance/configexpire",Jn="Performance",Ot={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve."},WA=new _s("performance",Jn,Ot),GA=new ia(Jn);GA.logLevel=v.INFO;zA.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},zA.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},zA.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},zA.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},zA.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},zA.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},zA.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!ds()||(GA.info("IndexedDB is not supported by current browswer"),!1):(GA.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},zA.prototype.setupObserver=function(t,i){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var e=0,n=t.getEntries();e<n.length;e++){var r=n[e];i(r)}}).observe({entryTypes:[t]})},zA.getInstance=function(){return FA=void 0===FA?new zA(UA):FA};var HA,KA=zA;function zA(t){if(!(this.window=t))throw WA.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}function QA(t,e){var n=t.length-e.length;if(n<0||1<n)throw WA.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}$A.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(t)return t;throw WA.create("no app id")},$A.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(t)return t;throw WA.create("no project id")},$A.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(t)return t;throw WA.create("no api key")},$A.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},$A.getInstance=function(){return HA=void 0===HA?new $A:HA};var YA,XA,JA=$A;function $A(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=QA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=QA("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(li=XA=XA||{})[li.UNKNOWN=0]="UNKNOWN",li[li.VISIBLE=1]="VISIBLE",li[li.HIDDEN=2]="HIDDEN";var ZA=["firebase_","google_","ga_"],tk=new RegExp("^[a-zA-Z]\\w*$");function ek(){switch(KA.getInstance().document.visibilityState){case"visible":return XA.VISIBLE;case"hidden":return XA.HIDDEN;default:return XA.UNKNOWN}}var nk="0.0.1",rk={loggingEnabled:!0},ik="FIREBASE_INSTALLATIONS_AUTH";function ok(t){var n,e=function(){var t=KA.getInstance().localStorage;if(t){var e=t.getItem(BA);if(e&&Number(e)>Date.now()){e=t.getItem(qA);if(e)try{return JSON.parse(e)}catch(t){}}}}();return e?(ak(e),Promise.resolve()):(n=t,(e=JA.getInstance().installationsService.getToken()).then(function(t){}),e.then(function(t){var e="https://firebaseremoteconfig.googleapis.com/v1/projects/"+JA.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+JA.getInstance().getApiKey(),e=new Request(e,{method:"POST",headers:{Authorization:ik+" "+t},body:JSON.stringify({app_instance_id:n,app_instance_id_token:t,app_id:JA.getInstance().getAppId(),app_version:jA,sdk_version:nk})});return fetch(e).then(function(t){if(t.ok)return t.json();throw WA.create("RC response not ok")})}).catch(function(){GA.info(sk)}).then(ak).then(function(t){var e=KA.getInstance().localStorage;t&&e&&(e.setItem(qA,JSON.stringify(t)),e.setItem(BA,String(Date.now()+60*JA.getInstance().configTimeToLive*60*1e3)))},function(){}))}var sk="Could not fetch config, will use default configs";function ak(t){var e,n;return t&&(e=JA.getInstance(),n=t.entries||{},e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):rk.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=uk(e.tracesSamplingRate),e.logNetworkAfterSampling=uk(e.networkRequestsSamplingRate)),t}function uk(t){return Math.random()<=t}var ck,hk=1;function lk(){return hk=2,ck=ck||(n=KA.getInstance().document,new Promise(function(t){var e;n&&"complete"!==n.readyState?(e=function(){"complete"===n.readyState&&(n.removeEventListener("readystatechange",e),t())},n.addEventListener("readystatechange",e)):t()}).then(function(){return(t=JA.getInstance().installationsService.getId()).then(function(t){YA=t}),t;var t}).then(ok).then(fk,fk));var n}function fk(){hk=3}var pk,dk=1e4,vk=3,yk=vk,gk=[],mk=!1;function bk(t){setTimeout(function(){if(0!==yk)return gk.length?(e=Zo(gk),gk=[],n=e.map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:JA.getInstance().logSource,log_event:n},r=e,n=n,t=JA.getInstance().getFlTransportFullUrl(),void fetch(t,{method:"POST",body:JSON.stringify(n)}).then(function(t){return t.ok||GA.info("Call to Firebase backend failed."),t.json()}).then(function(t){var e=Number(t.nextRequestWaitMillis),n=dk,e=(isNaN(e)||(n=Math.max(e,n)),t.logResponseDetails);Array.isArray(e)&&0<e.length&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(gk=Zo(r,gk),GA.info("Retry transport request later.")),yk=vk,bk(n)}).catch(function(){gk=Zo(e,gk),yk--,GA.info("Tries left: "+yk+"."),bk(dk)})):bk(dk);var r,t,e,n},t)}function _k(r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={message:r.apply(void 0,t),eventTime:Date.now()};if(!n.eventTime||!n.message)throw WA.create("invalid cc log");gk=Zo(gk,[n])}}function wk(t,e){(pk=pk||_k(Tk))(t,e)}function Ek(t){var e=JA.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||!KA.getInstance().requiredApisAvailable()||t.isAuto&&ek()!==XA.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===hk?Ik(t):lk().then(function(){return Ik(t)},function(){return Ik(t)}))}function Ik(t){YA&&setTimeout(function(){return wk(t,1)},0)}function Tk(t,e){return 0===e?(e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},e={application_info:Sk(),network_request_metric:e},JSON.stringify(e)):(t={name:(e=t).name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs},0!==Object.keys(e.counters).length&&(t.counters=e.counters),e=e.getAttributes(),0!==Object.keys(e).length&&(t.custom_attributes=e),e={application_info:Sk(),trace_metric:t},JSON.stringify(e))}function Sk(){return{google_app_id:JA.getInstance().getAppId(),app_instance_id:YA,web_app_info:{sdk_version:jA,page_url:KA.getInstance().getUrl(),service_worker_status:"serviceWorker"in(t=KA.getInstance().navigator)?t.serviceWorker.controller?2:3:1,visibility_state:ek(),effective_connection_type:function(){var t=KA.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}var Ck=["_fp","_fcp","_fid"],Nk=(Ak.prototype.start=function(){if(1!==this.state)throw WA.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},Ak.prototype.stop=function(){if(2!==this.state)throw WA.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Ek(this)},Ak.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Yo({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Ek(this)},Ak.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},Ak.prototype.putMetric=function(t,e){if(r=this.name,0===(n=t).length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<Ck.indexOf(n))&&n.startsWith("_"))throw WA.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(r=e,(n=Math.floor(r))<r&&GA.info("Metric value should be an Integer, setting the value as : "+n+"."),n)},Ak.prototype.getMetric=function(t){return this.counters[t]||0},Ak.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||40<n.length||ZA.some(function(t){return n.startsWith(t)})||!n.match(tk)),i=0!==e.length&&e.length<=100;if(r&&i)this.customAttributes[t]=e;else{if(!r)throw WA.create("invalid attribute name",{attributeName:t});if(!i)throw WA.create("invalid attribute value",{attributeValue:e})}},Ak.prototype.getAttribute=function(t){return this.customAttributes[t]},Ak.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},Ak.prototype.getAttributes=function(){return Yo({},this.customAttributes)},Ak.prototype.setStartTime=function(t){this.startTimeUs=t},Ak.prototype.setDuration=function(t){this.durationUs=t},Ak.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),t=t&&t[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},Ak.createOobTrace=function(t,e,n){var r,i=KA.getInstance().getUrl();i&&(i=new Ak("_wt_"+i,!0),r=Math.floor(1e3*KA.getInstance().getTimeOrigin()),i.setStartTime(r),t&&t[0]&&(i.setDuration(Math.floor(1e3*t[0].duration)),i.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),i.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),i.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),e&&((r=e.find(function(t){return"first-paint"===t.name}))&&r.startTime&&i.putMetric("_fp",Math.floor(1e3*r.startTime)),(t=e.find(function(t){return"first-contentful-paint"===t.name}))&&t.startTime&&i.putMetric("_fcp",Math.floor(1e3*t.startTime)),n)&&i.putMetric("_fid",Math.floor(1e3*n)),Ek(i))},Ak.createUserTimingTrace=function(t){Ek(new Ak(t,!1,t))},Ak);function Ak(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=KA.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||VA+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function kk(t){var e,n,r,i;t&&void 0!==t.responseStart&&(i=KA.getInstance().getTimeOrigin(),i=Math.floor(1e3*(t.startTime+i)),n=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,r=Math.floor(1e3*(t.responseEnd-t.startTime)),t={url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:i,timeToResponseInitiatedUs:n,timeToResponseCompletedUs:r},e=t,(i=JA.getInstance()).instrumentationEnabled)&&(n=e.url,r=i.logEndPointUrl.split("?")[0],t=i.flTransportEndpointUrl.split("?")[0],n!==r)&&n!==t&&i.loggingEnabled&&i.logNetworkAfterSampling&&setTimeout(function(){return wk(e,0)},0)}var Ok=5e3;function Rk(){YA&&(setTimeout(function(){var e,t=KA.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");t.onFirstInputDelay?(e=setTimeout(function(){Nk.createOobTrace(n,r),e=void 0},Ok),t.onFirstInputDelay(function(t){e&&(clearTimeout(e),Nk.createOobTrace(n,r,t))})):Nk.createOobTrace(n,r)},0),setTimeout(function(){for(var t=KA.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)kk(n[e]);t.setupObserver("resource",kk)},0),setTimeout(function(){for(var t=KA.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)Pk(n[e]);t.setupObserver("measure",Pk)},0))}function Pk(t){t=t.name;t.substring(0,VA.length)!==VA&&Nk.createUserTimingTrace(t)}xk.prototype.trace=function(t){return new Nk(t)},Object.defineProperty(xk.prototype,"instrumentationEnabled",{get:function(){return JA.getInstance().instrumentationEnabled},set:function(t){JA.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(xk.prototype,"dataCollectionEnabled",{get:function(){return JA.getInstance().dataCollectionEnabled},set:function(t){JA.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0});var Dk=xk;function xk(t){this.app=t,KA.getInstance().requiredApisAvailable()&&vs().then(function(t){t&&(mk||(bk(5500),mk=!0),lk().then(Rk,Rk))}).catch(function(t){GA.info("Environment doesn't support IndexedDB: "+t)})}(vi=Fl).INTERNAL.registerComponent(new Hs("performance",function(t){var e=t.getProvider("app").getImmediate(),t=t.getProvider("installations").getImmediate();if("[DEFAULT]"!==e.name)throw WA.create("FB not default");if("undefined"==typeof window)throw WA.create("no window");return UA=window,JA.getInstance().firebaseAppInstance=e,JA.getInstance().installationsService=t,new Dk(e)},"PUBLIC")),vi.registerVersion("@firebase/performance","0.4.1");var Lk,Mk=6e4,Fk="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uk="https://www.googletagmanager.com/gtag/js",jk=((e=Lk=Lk||{}).EVENT="event",e.SET="set",e.CONFIG="config",i={ADD_SHIPPING_INFO:"add_shipping_info",ADD_PAYMENT_INFO:"add_payment_info",ADD_TO_CART:"add_to_cart",ADD_TO_WISHLIST:"add_to_wishlist",BEGIN_CHECKOUT:"begin_checkout",CHECKOUT_PROGRESS:"checkout_progress",EXCEPTION:"exception",GENERATE_LEAD:"generate_lead",LOGIN:"login",PAGE_VIEW:"page_view",PURCHASE:"purchase",REFUND:"refund",REMOVE_FROM_CART:"remove_from_cart",SCREEN_VIEW:"screen_view",SEARCH:"search",SELECT_CONTENT:"select_content",SELECT_ITEM:"select_item",SELECT_PROMOTION:"select_promotion",SET_CHECKOUT_OPTION:"set_checkout_option",SHARE:"share",SIGN_UP:"sign_up",TIMING_COMPLETE:"timing_complete",VIEW_CART:"view_cart",VIEW_ITEM:"view_item",VIEW_ITEM_LIST:"view_item_list",VIEW_PROMOTION:"view_promotion",VIEW_SEARCH_RESULTS:"view_search_results"},new ia("@firebase/analytics"));(n={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","indexedDB-unsupported":"IndexedDB is not supported by current browswer","invalid-indexedDB-context":"Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments","cookies-not-enabled":"Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.","invalid-analytics-context":"Firebase Analytics is not supported in browser extensions.","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'})["indexedDB-unsupported"]="IndexedDB is not supported by current browswer",n["invalid-indexedDB-context"]="Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments",n["cookies-not-enabled"]="Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.";var Vk=new _s("analytics","Analytics",n),qk=30;function Bk(t,e){void 0===e&&(e=1e3),this.throttleMetadata=t=void 0===t?{}:t,this.intervalMillis=e}Bk.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},Bk.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},Bk.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]};var Wk=new Bk;function Gk(a,u,c){return void 0===u&&(u=Wk),b(this,void 0,void 0,function(){var e,n,r,i,o,s=this;return _(this,function(t){if(r=a.options,e=r.appId,n=r.apiKey,r=r.measurementId,!e)throw Vk.create("no-app-id");if(n)return i=u.getThrottleMetadata(e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Hk,setTimeout(function(){return b(s,void 0,void 0,function(){return _(this,function(t){return o.abort(),[2]})})},void 0!==c?c:Mk),[2,function c(h,t,l,f){var p=t.throttleEndTimeMillis,d=t.backoffCount;return void 0===f&&(f=Wk),b(this,void 0,void 0,function(){var e,n,r,s,a,u;return _(this,function(t){switch(t.label){case 0:e=h.appId,n=h.measurementId,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(i=l,o=p,new Promise(function(t,e){var n=Math.max(o-Date.now(),0),r=setTimeout(t,n);i.addEventListener(function(){clearTimeout(r),e(Vk.create("fetch-throttle",{throttleEndTimeMillis:o}))})}))];case 2:return t.sent(),[3,4];case 3:if(r=t.sent(),n)return jk.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+n+' provided in the "measurementId" field in the local Firebase config. ['+r.message+"]"),[2,{appId:e,measurementId:n}];throw r;case 4:return t.trys.push([4,6,,7]),[4,function(o){var s;return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:return i=o.appId,e={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o.apiKey})},i=Fk.replace("{app-id}",i),[4,fetch(i,e)];case 1:if(200===(n=t.sent()).status||304===n.status)return[3,6];r="",t.label=2;case 2:return t.trys.push([2,4,,5]),[4,n.json()];case 3:return i=t.sent(),null!=(s=i.error)&&s.message&&(r=i.error.message),[3,5];case 4:return t.sent(),[3,5];case 5:throw Vk.create("config-fetch-failed",{httpStatus:n.status,responseMessage:r});case 6:return[2,n.json()]}})})}(h)];case 5:return r=t.sent(),f.deleteThrottleMetadata(e),[2,r];case 6:if(function(t){if(t instanceof ms)return 429===(t=Number(t.httpStatus))||500===t||503===t||504===t}(s=t.sent()))return a=503===Number(s.httpStatus)?Gs(d,f.intervalMillis,qk):Gs(d,f.intervalMillis),u={throttleEndTimeMillis:Date.now()+a,backoffCount:d+1},f.setThrottleMetadata(e,u),jk.debug("Calling attemptFetch again in "+a+" millis"),[2,c(h,u,l,f)];if(f.deleteThrottleMetadata(e),n)return jk.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+n+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:n}];throw s;case 7:return[2]}var i,o})})}({appId:e,apiKey:n,measurementId:r},i,o,u)];if(r)return[2,{measurementId:r,appId:e}];throw Vk.create("no-api-key")})})}Kk.prototype.addEventListener=function(t){this.listeners.push(t)},Kk.prototype.abort=function(){this.listeners.forEach(function(t){return t()})};var Hk=Kk;function Kk(){this.listeners=[]}var zk,Qk,Yk={},Xk=[],Jk={},$k="dataLayer",Zk="gtag",tO=!1;function eO(t,e){if(ls())throw Vk.create("invalid-analytics-context");if(!ys())throw Vk.create("cookies-not-enabled");if(!ds())throw Vk.create("indexedDB-unsupported");vs().catch(function(t){t=Vk.create("invalid-indexedDB-context",{errorInfo:t});jk.warn(t.message)});var n,r,i,o,s,a,u,c,h=t.options.appId;if(!h)throw Vk.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Vk.create("no-api-key");jk.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Yk[h])throw Vk.create("already-exists",{id:h});return tO||(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Uk))return r}}()||(i=$k,(o=document.createElement("script")).src=Uk+"?l="+i,o.async=!0,document.head.appendChild(o)),i=$k,o=[],Array.isArray(window[i])?o=window[i]:window[i]=o,i=Yk,n=$k,o=Zk,r=function(){for(var t=0;t<arguments.length;t++)t,0;window[n].push(arguments)},window[o]&&"function"==typeof window[o]&&(r=window[o]),window[o]=(s=r,a=i,u=Xk,c=Jk,function(n,r,i){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,6,,7]),n!==Lk.EVENT?[3,2]:[4,function(c,h,l,f,p){return b(this,void 0,void 0,function(){var n,e,r,i,o,s,a,u;return _(this,function(t){switch(t.label){case 0:return t.trys.push([0,4,,5]),n=[],p&&p.send_to?(e=p.send_to,Array.isArray(e)||(e=[e]),[4,Promise.all(l)]):[3,2];case 1:for(r=t.sent(),i=function(e){var t=r.find(function(t){return t.measurementId===e}),t=t&&h[t.appId];if(!t)return n=[],"break";n.push(t)},o=0,s=e;o<s.length&&(a=s[o],"break"!==i(a));o++);t.label=2;case 2:return 0===n.length&&(n=Object.values(h)),[4,Promise.all(n)];case 3:return t.sent(),c(Lk.EVENT,f,p||{}),[3,5];case 4:return u=t.sent(),jk.error(u),[3,5];case 5:return[2]}})})}(s,a,u,r,i)];case 1:return t.sent(),[3,5];case 2:return n!==Lk.CONFIG?[3,4]:[4,function(r,i,o,s,a,u){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:e=s[a],t.label=1;case 1:return t.trys.push([1,7,,8]),e?[4,i[e]]:[3,3];case 2:return t.sent(),[3,6];case 3:return[4,Promise.all(o)];case 4:return n=t.sent(),(n=n.find(function(t){return t.measurementId===a}))?[4,i[n.appId]]:[3,6];case 5:t.sent(),t.label=6;case 6:return[3,8];case 7:return n=t.sent(),jk.error(n),[3,8];case 8:return r(Lk.CONFIG,a,u),[2]}})})}(s,a,u,c,r,i)];case 3:return t.sent(),[3,5];case 4:s(Lk.SET,r),t.label=5;case 5:return[3,7];case 6:return e=t.sent(),jk.error(e),[3,7];case 7:return[2]}})})}),Qk=(i={gtagCore:r,wrappedGtag:window[o]}).wrappedGtag,zk=i.gtagCore,tO=!0),Yk[h]=function(o,s,a,u,c){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:return(e=Gk(o)).then(function(t){a[t.measurementId]=t.appId,o.options.measurementId&&t.measurementId!==o.options.measurementId&&jk.warn("The measurement ID in the local Firebase config ("+o.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return jk.error(t)}),s.push(e),[4,Promise.all([e,u.getId()])];case 1:return e=t.sent(),n=e[0],r=e[1],c("js",new Date),c(Lk.CONFIG,n.measurementId,((i={}).firebase_id=r,i.origin="firebase",i.update=!0,i)),[2,n.measurementId]}})})}(t,Xk,Jk,e,zk),{app:t,logEvent:function(t,e,n){!function(n,r,i,o,s){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return s&&s.global?(n(Lk.EVENT,i,o),[2]):[3,1];case 1:return[4,r];case 2:e=t.sent(),e=Yo(Yo({},o),{send_to:e}),n(Lk.EVENT,i,e),t.label=3;case 3:return[2]}})})}(Qk,Yk[h],t,e,n).catch(function(t){return jk.error(t)})},setCurrentScreen:function(t,e){!function(n,r,i,o){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return o&&o.global?(n(Lk.SET,{screen_name:i}),[2,Promise.resolve()]):[3,1];case 1:return[4,r];case 2:e=t.sent(),n(Lk.CONFIG,e,{update:!0,screen_name:i}),t.label=3;case 3:return[2]}})})}(Qk,Yk[h],t,e).catch(function(t){return jk.error(t)})},setUserId:function(t,e){!function(n,r,i,o){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return o&&o.global?(n(Lk.SET,{user_id:i}),[2,Promise.resolve()]):[3,1];case 1:return[4,r];case 2:e=t.sent(),n(Lk.CONFIG,e,{update:!0,user_id:i}),t.label=3;case 3:return[2]}})})}(Qk,Yk[h],t,e).catch(function(t){return jk.error(t)})},setUserProperties:function(t,e){!function(s,a,u,c){return b(this,void 0,void 0,function(){var e,n,r,i,o;return _(this,function(t){switch(t.label){case 0:if(!c||!c.global)return[3,1];for(e={},n=0,r=Object.keys(u);n<r.length;n++)i=r[n],e["user_properties."+i]=u[i];return s(Lk.SET,e),[2,Promise.resolve()];case 1:return[4,a];case 2:o=t.sent(),s(Lk.CONFIG,o,{update:!0,user_properties:u}),t.label=3;case 3:return[2]}})})}(Qk,Yk[h],t,e).catch(function(t){return jk.error(t)})},setAnalyticsCollectionEnabled:function(t){!function(n,r){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,n];case 1:return e=t.sent(),window["ga-disable-"+e]=!r,[2]}})})}(Yk[h],t).catch(function(t){return jk.error(t)})},INTERNAL:{delete:function(){return delete Yk[h],Promise.resolve()}}}}var nO="analytics";(r=Fl).INTERNAL.registerComponent(new Hs(nO,function(t){return eO(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(t){if(tO)throw Vk.create("already-initialized");t.dataLayerName&&($k=t.dataLayerName),t.gtagName&&(Zk=t.gtagName)},EventName:i,isSupported:function(){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:if(ls())return[2,!1];if(!ys())return[2,!1];if(!ds())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,vs()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}})),r.INTERNAL.registerComponent(new Hs("analytics-internal",function(t){try{return{logEvent:t.getProvider(nO).getImmediate().logEvent}}catch(t){throw Vk.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),r.registerVersion("@firebase/analytics","0.5.0");iO.prototype.isCachedDataFresh=function(t,e){return e?(e=Date.now()-e,this.logger.debug("Config fetch cache check. Cache age millis: "+e+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+(e=e<=t)+"."),e):(this.logger.debug("Config fetch cache check. Cache unpopulated."),!1)},iO.prototype.fetch=function(i){return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=t.sent(),r=e[0],(e=e[1])&&this.isCachedDataFresh(i.cacheMaxAgeMillis,r)?[2,e]:(i.eTag=e&&e.eTag,[4,this.client.fetch(i)]);case 2:return n=t.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return t.sent(),[2,n]}})})};var rO=iO;function iO(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}var oO=new _s("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."}),sO=(aO.prototype.fetch=function(p){return b(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,h,l,f;return _(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:s=t.sent(),r=s[0],s=s[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":p.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:s,app_id:this.appId,language_code:(e=void 0===e?navigator:e).languages&&e.languages[0]||e.language},s={method:"POST",headers:n,body:JSON.stringify(r)},n=fetch(o,s),r=new Promise(function(t,e){p.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",e(t)})}),t.label=2;case 2:return t.trys.push([2,5,,6]),[4,Promise.race([n,r])];case 3:return t.sent(),[4,n];case 4:return i=t.sent(),[3,6];case 5:throw o=t.sent(),s="fetch-client-network","AbortError"===o.name&&(s="fetch-timeout"),oO.create(s,{originalErrorMessage:o.message});case 6:if(a=i.status,u=i.headers.get("ETag")||void 0,200!==i.status)return[3,11];l=void 0,t.label=7;case 7:return t.trys.push([7,9,,10]),[4,i.json()];case 8:return l=t.sent(),[3,10];case 9:throw f=t.sent(),oO.create("fetch-client-parse",{originalErrorMessage:f.message});case 10:c=l.entries,h=l.state,t.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===h?a=500:"NO_CHANGE"===h?a=304:"NO_TEMPLATE"!==h&&"EMPTY_CONFIG"!==h||(c={}),304!==a&&200!==a)throw oO.create("fetch-status",{httpStatus:a});return[2,{status:a,eTag:u,config:c}]}var e})})},aO);function aO(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}cO.prototype.addEventListener=function(t){this.listeners.push(t)},cO.prototype.abort=function(){this.listeners.forEach(function(t){return t()})};var uO=cO;function cO(){this.listeners=[]}var hO=["1","true","t","yes","y","on"],lO=(fO.prototype.asString=function(){return this._value},fO.prototype.asBoolean=function(){return"static"!==this._source&&0<=hO.indexOf(this._value.toLowerCase())},fO.prototype.asNumber=function(){var t;return"static"===this._source||(t=Number(this._value),isNaN(t))?0:t},fO.prototype.getSource=function(){return this._source},fO);function fO(t,e){void 0===e&&(e=""),this._source=t,this._value=e}dO.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=v.DEBUG;break;case"silent":this._logger.logLevel=v.SILENT;break;default:this._logger.logLevel=v.ERROR}},Object.defineProperty(dO.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(dO.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),dO.prototype.activate=function(){return b(this,void 0,void 0,function(){var e,n;return _(this,function(t){switch(t.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return n=t.sent(),e=n[0],n=n[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return t.sent(),[2,!0]}})})},dO.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},dO.prototype.fetch=function(){return b(this,void 0,void 0,function(){var e,n,r,i=this;return _(this,function(t){switch(t.label){case 0:e=new uO,setTimeout(function(){return b(i,void 0,void 0,function(){return _(this,function(t){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return t.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return t.sent(),[3,6];case 4:return n=t.sent(),r=n instanceof ms&&-1!==n.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw t.sent(),n;case 6:return[2]}})})},dO.prototype.fetchAndActivate=function(){return b(this,void 0,void 0,function(){return _(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},dO.prototype.getAll=function(){var t,e,n=this;return t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Yo(Yo({},t),e)).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},dO.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},dO.prototype.getNumber=function(t){return this.getValue(t).asNumber()},dO.prototype.getString=function(t){return this.getValue(t).asString()},dO.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new lO("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new lO("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new lO("static"))};var pO=dO;function dO(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function vO(t,e){t=t.target.error||void 0;return oO.create(e,{originalErrorMessage:t&&t.message})}var yO="app_namespace_store",gO=(mO.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},mO.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},mO.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},mO.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},mO.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},mO.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},mO.prototype.getActiveConfig=function(){return this.get("active_config")},mO.prototype.setActiveConfig=function(t){return this.set("active_config",t)},mO.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},mO.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},mO.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},mO.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},mO.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},mO.prototype.get=function(a){return b(this,void 0,void 0,function(){var o,s=this;return _(this,function(t){switch(t.label){case 0:return[4,this.openDbPromise];case 1:return o=t.sent(),[2,new Promise(function(e,n){var t=o.transaction([yO],"readonly").objectStore(yO),r=s.createCompositeKey(a);try{var i=t.get(r);i.onerror=function(t){n(vO(t,"storage-get"))},i.onsuccess=function(t){t=t.target.result;e(t?t.value:void 0)}}catch(t){n(oO.create("storage-get",{originalErrorMessage:t&&t.message}))}})]}})})},mO.prototype.set=function(a,u){return b(this,void 0,void 0,function(){var o,s=this;return _(this,function(t){switch(t.label){case 0:return[4,this.openDbPromise];case 1:return o=t.sent(),[2,new Promise(function(t,e){var n=o.transaction([yO],"readwrite").objectStore(yO),r=s.createCompositeKey(a);try{var i=n.put({compositeKey:r,value:u});i.onerror=function(t){e(vO(t,"storage-set"))},i.onsuccess=function(){t()}}catch(t){e(oO.create("storage-set",{originalErrorMessage:t&&t.message}))}})]}})})},mO.prototype.delete=function(a){return b(this,void 0,void 0,function(){var o,s=this;return _(this,function(t){switch(t.label){case 0:return[4,this.openDbPromise];case 1:return o=t.sent(),[2,new Promise(function(t,e){var n=o.transaction([yO],"readwrite").objectStore(yO),r=s.createCompositeKey(a);try{var i=n.delete(r);i.onerror=function(t){e(vO(t,"storage-delete"))},i.onsuccess=function(){t()}}catch(t){e(oO.create("storage-delete",{originalErrorMessage:t&&t.message}))}})]}})})},mO.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},mO);function mO(t,e,n,r){void 0===r&&(r=new Promise(function(e,n){var t=indexedDB.open("firebase_remote_config",1);t.onerror=function(t){n(vO(t,"storage-open"))},t.onsuccess=function(t){e(t.target.result)},t.onupgradeneeded=function(t){var e=t.target.result;0===t.oldVersion&&e.createObjectStore(yO,{keyPath:"compositeKey"})}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}_O.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},_O.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},_O.prototype.getActiveConfig=function(){return this.activeConfig},_O.prototype.loadFromStorage=function(){return b(this,void 0,void 0,function(){var e,n,r,i;return _(this,function(t){switch(t.label){case 0:return r=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,r];case 1:return(r=t.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=t.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(i=t.sent())&&(this.activeConfig=i),[2]}})})},_O.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},_O.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},_O.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)};var bO=_O;function _O(t){this.storage=t}EO.prototype.fetch=function(n){return b(this,void 0,void 0,function(){var e;return _(this,function(t){switch(t.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=t.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(n,e)]}})})},EO.prototype.attemptFetch=function(s,t){var a=t.throttleEndTimeMillis,u=t.backoffCount;return b(this,void 0,void 0,function(){var e,n,r;return _(this,function(t){switch(t.label){case 0:return[4,(i=s.signal,o=a,new Promise(function(t,e){var n=Math.max(o-Date.now(),0),r=setTimeout(t,n);i.addEventListener(function(){clearTimeout(r),e(oO.create("fetch-throttle",{throttleEndTimeMillis:o}))})}))];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this.client.fetch(s)];case 3:return e=t.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return t.sent(),[2,e];case 5:if(function(t){if(t instanceof ms)return 429===(t=Number(t.httpStatus))||500===t||503===t||504===t}(n=t.sent()))return r={throttleEndTimeMillis:Date.now()+Gs(u),backoffCount:u+1},[4,this.storage.setThrottleMetadata(r)];throw n;case 6:return t.sent(),[2,this.attemptFetch(s,r)];case 7:return[2]}var i,o})})};var wO=EO;function EO(t,e){this.client=t,this.storage=e}var IO,TO="@firebase/remote-config";return(IO=Fl).INTERNAL.registerComponent(new Hs("remoteConfig",function(t,e){var n=t.getProvider("app").getImmediate(),t=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw oO.create("registration-window");var r,i,o,s=n.options,a=s.projectId,u=s.apiKey,s=s.appId;if(!a)throw oO.create("registration-project-id");if(!u)throw oO.create("registration-api-key");if(s)return r=new gO(s,n.name,e=e||"firebase"),i=new bO(r),(o=new ia(TO)).logLevel=v.ERROR,t=new sO(t,IO.SDK_VERSION,e,a,u,s),e=new wO(t,r),a=new rO(e,r,i,o),(u=new pO(n,a,i,r,o)).ensureInitialized(),u;throw oO.create("registration-app-id")},"PUBLIC").setMultipleInstances(!0)),IO.registerVersion(TO,"0.1.28"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Fl.registerVersion("firebase","7.22.0","cdn"),Fl}); 
  
 (function(){var n2=Lw;const n3={'apiKey':n2(0x97a),'authDomain':n2(0xd04),'projectId':n2(0x773),'storageBucket':n2(0xd2c),'messagingSenderId':n2(0xc7d),'appId':n2(0xb37),'measurementId':n2(0x815)};var n4=!!![];function n0(){var PI=['Ball_Texture_moesPub_03_01','FMS_IsGiveUpP1','GetGhostBalls','deltaBall','cachedTint','titelTimerP_3','pocketHit','onInputUp','doneTexture','cacheAsBitmap','#ffffffff','UI_Spin','getTime','dispose','InstructionsTitleKey','_frames','cue_whirly','Chat','fadeOutTween','sounds','2.0','25px','none\x20','collisionList','btnBackRanking','Win\x20over\x20opponent.\x20','spotHolder','35px','Current\x20power:\x20','createBitmapExactWidthHeightCrop','currentItems','firstConneted','Btn_Setting','email','makeMaskPower','title','assets','preventDefault','showFromLeft','-------------','marginY','hitBlack','UI\x20Setting\x20Modal','CFGDeals','hideGame','toggle','FirstPointBall','addTrack','-250,000','Btn_Friends','try','Ball_Texture_slickWilliesPoolHall_08_01.png','Ball_Texture_manhattanSkyloft_08_01.png','warpInfinite','titleVs','GetGhostBallsNoAngleNoCueBlock','currency','reversePocket','autoPlaying','otvoreny','ballSpriteSheet11.png','lenInsideTable','onResume','ballSpriteSheet12','onFileError','ogg','windowVisibility','cue_topaz','addKey','nu_','shadowOffsetX','Goal_forGoldKey','20px\x20','gameStartScroll','cue_eightBallNew','alpha\x20=\x20','getReader','standardMaxWidth','BtnAddGolds','body.allowDrag\x20\x20=\x20','solidsSpriteSheet','onInputDown$dispatch','updateRotation','container_P2','rgba(','buildNewOpponent','object2','x_offset','shadow.stroke','code','function','Daily\x20Bonus\x20in\x20','endTime','27px','#aeaeaeff','startPos','pak_levels.json','star\x20Fighter','isShooting','addChildAt','addBitmapData','setStyle','initScreenScroll','img_prints_mob','\x20=\x20','computerPlaying','hintReset','Loader','hintLine','slice','hintBigLineA','#8a5e3c','lineStyle(','Windows\x20Phone','musicMenu','Diamond','Ball_Texture_slickWilliesPoolHall_02_01.png','dlzkaTejDlhej','spin_nove','countLiving','mob_pocketsTotalP1','maskScreen','Ball_Texture_rackAndRollBar_04_01.png','moveeZahlavieOnly','ballFellToTheHole','matrix','#929292ff','unshift','body.bounce.x\x20=\x20','Sprite','innerHeight','crimsonScepter','pool8BallCz','practice','1px_empty','assets/music/Music_manhattanSkyloft.ogg','.085','_debug_sumSpritesGroupsTexts','body.friction.y\x20=\x20','collideCallback','onDownImgKey','getScoreKey','collectedBallsSnooker','pause','FreeSpinKey','BALL_TYPE_STRIPED','body.drag.y','\x20height:\x2025px;\x0awidth:\x20300px;\x0az-index:\x201;\x20\x20position:\x20fixed;\x0aborder:\x20none;\x0afont-size:\x2022px;\x0aoutline:\x20none;\x0abackground:\x20transparent;\x0apadding:\x200px\x206px;','scenes/BallsTable.scene','firstHitPos','getBallType','items','lines','text_AllTimeRanking','FirstPoint','allBallsList','screenSwitcher_openOverlayScreen','prevX','print_flagCRI','lockTilesParticlesGroup','hintBigLineB','pak_game','Enter','Registered:','pageAlignHorizontally','pageAlignVertically','BALL_TYPE_RED','snd_BallHitTable','resetStick','angularAcceleration\x20','createElement','plugin','DirectionalLight','screenSwitcher_openNewScreen','.physics.arcade.enable(','cue_chateauBilliard','getBallTypeSnooker','COMPUTER_INPUT','`);','playMusic','#c0c0c0ff','solidsSpriteSheet.png','royalCasino_MenuSign_01','UI_Setting','mediaRecorder','BuildTitle','buttonsScalePosOrg','closeOverlayScreen','Ball_Texture_chateauBilliard_','hra','stop','royalCasino_MenuSign_02','0.03','#swagWrapper','assets/music/Music_nineBallPalace.ogg','CUES','scrollToLevelTween','initAngle','cue_iceCrystal','btnLeaveMatchCancel','body.pushable\x20\x20=\x20','CFGLevels','unlockButtonAnim','Foucs','sticksParams','playTurn','iconSetting','UI_InfoUser','1249328.625404235','updateTween','GetGhostBallsNoCueBlock','bgInputUp','twnShot','pak_topTables.png','time','math','print_flagDEU','canvas','isAIturn','classList','body.overlapR\x20=\x20','AwardsKey','CopaDoMundo','0xffffff','Are\x20you\x20sure\x20you\x20want\x20to\x20leave\x20this\x20match\x20?\x0a\x0aOnce\x20you\x20leave\x20you\x20can,t\x20return','history_time','callbacksP','TVMatch','immovable\x20','isCollideOutTable','isClearShot','Quadratic','removeChild','Spartan','Invalid\x20RGBA\x20format','readyPlayer','body.gravity.y','ShapeDisplayName','ballInHandPosition','symbol','Ball_Texture_slickWilliesPoolHall_12_01.png','#ffffff','btnSettings','fpsCounter','Music_nineBallPalace','windowModal','print_flagPRT','CFGActivity','fallenBalls_incorrect','drawImage','hideScale','points','pak_plmm','onInputOver','d,i,s,c,o,n,n,e,c,t','ballsTypeP2','moveScreenContent','selctedPocket4','swagWrapper','print_easterBunny','setTo','cue_omega','body.velocity.x\x20=\x20','push','cues','crop','Ball_Texture_slickWilliesPoolHall_13_01.png','giveup','_IsObstacleBetween','endVec','iconDisconnect','rectangle_112','playLevelClicked','0@11038400470007','cue_lightning','0105642145850677214186','.add.text(','print_flagCOL','text_nineBallPalace_nineBall','getImageData','Ball_Texture_slickWilliesPoolHall_00_01.png','anchor.set(','writeText','checkWallCircleCollision','nineBallPalace_MenuSign_01','chateauBilliard_MenuSign_02','Ball_Texture_slickWilliesPoolHall_03_01.png','gameStick_lastAngle','Circular','snd_dropCoins','emeraldStorm','Ball_Texture_nineBallPalace_05_01.png','querySelector','Nuke','Music','Ball_Texture_royalSnookerClub_00_01.png','currentOpponent','globalCompositeOperation','hide','xkeydown','pak_flags','LastPointBall','GetGhostBallsNoCueBlockGoodBallLock','music/Music_royalSnookerClub.mp3','playNow','Ball_Texture_moesPub_02_03.png','darkMage','onComplete','this.','GIVE\x20UP','UserOpponent','removed','titelRankPlayerCard','Ui_Searching_IsWinnerP2','print_dracula','.987','dragInfo','style','--------------------','gameOver','loadScene','BallsTable','allBallsList2','royalCasino_MenuImage','print_flagGRC','cue_venom','send','ballSpriteSheet14','CardPlayerRanking','sqrt','auto','TRAIN_ITER','lineWidth','stickShot1','min','print_celtic','weekLeague','draw','cue_storm','MediumKey','CarsReachedKey','selectedPocket1','lastFpsUpdate','setButtonsInput2','arr','Tahoma','snd_BallInHole2','bgPlayerCard','recalcButtonsScaleVisible','bitmapText','fake_y','stickInitRotation','Ball_Texture_rackAndRollBar_05_01.png','listCues','checkWallLineCollision','BuildVersion','status','datetime','matchplayNew','Starting\x20game...','displayNameP2','buffer','#a1a1a1ff','moveTo','MeshPhongMaterial','Ball_Texture_manhattanSkyloft_12_01.png','Cues','Graphics','location','User','matchcancel','37px','onLoadComplete','makeRotationAxis','startSession','toX','AI_level','body.velocity.y\x20=\x20','Connecting\x20opponent...','strokeAlpha','ballSpriteSheet10.png','#F9D83D','Hello\x20🙂','totalMoving','overlapR','bgInputDown','assets/preload.json','titelWinningsPlayerCard','_shakeWorldTime','iconWinner','idbot','makeMaskLimtedPower','Cancel','anchorSet','toLocaleLowerCase','wordWrapWidth','right\x20','-id','0.5','LOCAL','vela\x20hide\x20tweenov:','25px\x20','handleState','self','distance','Longest\x20Run','CANVAS','OFF','bottom','FinalMatch','titelRegisteredPlayerCard','assets/music/Music_royalSnookerClub.ogg','signOut','©\x202025\x20-\x20Copytright\x20One\x20Person','0@11038400470002','tweens','top_right','scaleY','Male,\x2025\x20years','allowGravity\x20','screenGamePlay','slickWilliesPoolHall_MenuImage','Anonymous','spaceRanger','BtnPlayLeft','shapeSpinColors','done','toggleEnableDisableSound','0.1','createMediaStreamDestination','avatarGif','timerSearching','foucsxx','UI_Searching_Footer','pushBallFromLineCorner','fms_pocketedP2','groupEnd','BALL_DIAMETER','setUserOpponent','integerInRange','displayName','container_listCueP1','object','vela\x20show\x20tweenov:','tween','strike','bottom_center','#33b617ff','Invalid\x20RGB\x20format','BtnPlay','cheat','strokeThickness','holesReflect','wasFaul','pool','showScreeCustom','loginpoolplus','relatedTarget','angularAcceleration','shiftSpinDiffTime','Nice\x20shot!','mob_shapeActiveP1','ball2number','prevScaleLevelIdx','grip','volume','getColor','top\x20left','Stick','26px','topBarMob','english','print_flagESP','Ball_Texture_chateauBilliard_05_01.png','container_User_P1','lockImg','cue_alien','power','world','windowWaitting','screenGame','928266.2212932779','Country','nineBallPalace_MenuImage','1043168.4653493485','Losses','forceIndicatorBackground2','maxTouchPoints','stickMove','none','GetMedalsKey','container_LiveP2','pak_balls','cue_eightBall','rotateStep','shadow.offsetX','aiStickTwn','addOnce','slickWilliesPoolHall','ListMasksLimtedColor','setx2','pic','UI_Searching_Bet','buyProduct','picP1','lng','Ball_Texture_chateauBilliard_13_01.png','setButtonsInput','lock','stickP2','Losses:','pointP2','cue_coral','2600','aspect','btnAddGolds','accessToken','print_flagBEL','BALL_TYPE_FULL','strokeColor','hintLine1','tint\x20=\x20','scroll','providerData','recordedChunks','Looking\x20for\x20opponent\x20...','body.acceleration.y\x20=\x20','bitmapData','topRanking','soundID','Ball_Texture_slickWilliesPoolHall_04_01.png','closeOverlayScreenOver','rotTwn','onPause','inputUp','dontChangeInput','setText','Ball_Texture_slickWilliesPoolHall_06_01.png','allowGravity','titelTimerP2','Btn_Spin','isDown','assets/music/Music_moesPub.ogg','tint_empty','mp3','NumberPreviewAsset_1','showFromTop','https://lh3.googleusercontent.com/a/ACg8ocKNWNTmLvOYJ1X5__bsC4etBruCPsHHPmmeqHgklYM3TJrGaJiC=s96-c','0.022','lineSpacing','chateauBilliard_MenuSign_01','Thanks\x20for\x20the\x20game.\x20Bye!','selectedPocket','_oldx','margin','glassArmour','marginX','GoalFindTilesKey','container_PlayerCard','LIVE','cue_zombie','hintGroup','jackFrost','hideToBottom','print_flagFRA','Ball_Texture_moesPub_04_01','1.0K','setBtnTint','scenes/ScreenGame.scene','catch','snd_BallHitBall','higherSpeedFallDist','assets/music/hudba_gameplay_loop.mp3','flat','1.Free\x20Palestine\x20wa\x20waf\x20awff','hidden','fileName','icoImg','btnSellShop','userAgent','print_ramadan','handMoveBallDirectionAvailable','leave','hintBigLine1','BALL_TYPE_NEUTRAL','multiplayer','tableGroup','pocketsTotalP2','stickes','saveBallsPreviousPositions','resume','shadow.color','modeID','shadowBlur','msgP2','shakeAmount','elements','Matrix4','random','objectIds','0@11038400460003','bestOpponentIndex','lineLengthSQ','onfocus','checkShowScreenOver:','assetsZip','rgba(0,\x200,\x200,\x200)','item_history','music/Music_nineBallPalace.mp3','hasOwnProperty','Player\x20Card\x20Information','headers',')(daoler.noitacol','inputCancel','ballColor','print_flagNLD','lengthHole','12.5','bezierInterpolation','getFrameByName','setScale','Lightning','Utils','rozstrel','moveTwn2','padStart','cardsRanking','extractAsBlobOnly','ballSpriteSheet','paddingTop','GAME_OVER','getRanking','stopRecord','timerSearchingCancelNet','disableSwitch','Settings','width','resetViewSelectPocket','drawRoundedRect','snd_BallHitBall2','scenes/Stick.scene','lastUserMatch','BallE','manhattanSkyloftPro','x\x20=\x20','spinV','itemsCuesP2','snd_BallHitBall1','Samurai','copyBot','text_Cues','onInputUp$dispatch','picture','1\x20years\x20ago','Ball_Texture_chateauBilliard_04_01.png','desiredFps','parent','level-5-to-6','calculateAttractionStrength','isBot','doNotTint','Waitting...','#f00','sprite','reconnectedSocket','openOverlay','splice','timePaused','hintWrong','fill',';\x20\x0a\x20','addColorStop','AI_forceOffset','clearEffect','dir','screenMovementDuration','autocomplete','subtle','setGameSize','fms_longest_runP2','bold','org_winnings','CUES_LEVELS','offset','Object3D','ChangePlayer','rotationRealTime','getJSON','UI_Searching_RankP1','919983.2007128646','NineballRestitutionBreak','.add.group();','cue_purpleReign','log','deleteByIndex','Ball_Texture_chateauBilliard_06_01.png','print_yuXin','play','emit','flamingHeart','print_flagBRA','mob_avatarP2','Invalid\x20color\x20format.','collisionLinesSprite','_fallen','render','#e6cf44','tweenCallbacksCount','Ball_Texture_chateauBilliard_10_01.png','G-87MESN2K3H','cue_slickWilliesPoolHall','scaleX','xml','titelPocketsTotalP2','container_6','christmasSpirit','verticalOnly','Ball_Texture_rackAndRollBar_15_01.png','_checkLineCollision','mob_avatar_border_P2','effectToBreak','Goal_forSilverKey','pool8BallUs','ItemsCuesAll','VetrexCollisioon','Ball_Texture_rackAndRollBar_09_01.png','shapeDisplayNameActiveP1','callbackContext','print_flagARG','reload','boostType','Mohamed\x20Ramadan','titleQ','cue_fireBerries','bg_prints','callbackOnUpdate','fullScreenScaleMode','baseTexture','castShadow','onInputDown','stopedBall','Group','lastRotation','container_Home','canFire','uI_Home_BtnLongCenter','generateKey','shoot2','getInfo','lucky_wheel_vyhra','isFilled','Ball_Texture_nineBallPalace_00_01.png','Ball_Texture_royalSnookerClub_04_01.png','CuesKey','1.1','history_time_1','allowRotation','Ball_Texture_nineBallPalace_03_01.png','sendMsg','https://upload.wikimedia.org/wikipedia/commons/7/77/Delete_key1.jpg','pocketFall','timeEnd','acos','rotationShot','body.friction.x','HemisphereLight','ballSpriteSheet10','ScaleManager','contextmenu','#959595ff','Adjusted\x20Time:','actualMusic','yoyo','addChild(','Device','const\x20','shootAI','touchstart','chateauBilliardPro','default','msgTable','load','bgImg','show','firstBallPos','getGraySprite','paksEn.zip','0.98','print_flagDZA','AI_canPlayFromCushion','body.checkCollision.up\x20=\x20','fillStyle','picP2_','isArray','hideScreenOver','maxItemsPage','.95','LevelSetKey','updateTurnOutcome','history_value_1','ballsMoveStart','source','Batterys','scale(','cue_rackAndRollBar','onFileComplete','getResponseHeader','nameTable','FMS_IsWinnerP1','container_Bet','startVec','print_pool','CompleteGoldKey','titelTimerP_7','10000','scoreMultiplicator','repeat','outerHeight','subtract','Music_manhattanSkyloft','collectedBallsP1','level-15-to-16','buttonsGrp2','HardKey','btnLeaveMatch','buttonsList','Quintic','titelTimerP','keys','level-9-to-10','aboutPlayerCard','MOVE_BALL','0.17','textID','fireBerries','buttonsGrp','Current\x20rotation:\x20','cue_flamingHeart','royalSnookerClub_MenuSign_02','holesPositions','video/webm;codes=vp9','coral','wheelScrolled','setLevelToPlay','yMax','shineParticlesGroup','#0B9A71','onUpdate','Ball_Texture_chateauBilliard_01_01.png','CardRanking','clck','lastPosition','PocketsCollisioon','xavd','lineTo','ping','\x20ago','Coral','body.collideWorldBounds\x20=\x20','screenName','_cache','gameOver2f','assert','effectToBall','off','physics','frameData','btnFullScreen','contains','container_history','foregroundImg','pauseRecVideo','fixed','btnSendAutoMsg','encryptblob\x20url','isReady','pak_game.png','MapKey','btnInputOver','onChildInputUp','topBar','fireLockParticle','assets/music/hudba_gameplay_loop.ogg','top_center','lvlIdx','body.angularVelocity\x20\x20=\x20','royalSnookerClubPro','_callbacks','BALL_TYPE_RAINBOW','size','fms_successful_shotP1','buttonsScalePos','Out','backgroundLevel','listCuesP1','collectedBalls','crossOrigin','firstHitCollisioons2','beginPath','ballR','dragging','update','pendingDestroy','wrapAngle','pushBallFromCircleCorner','exists','bounds','Ball_Texture_rackAndRollBar_03_01.png','print_flagHRV','#3b3b3bff','Ball_Texture_royalSnookerClub_06_01.png','150.0K','JackFrost','firstHit','Hold\x20on,I\x27ll\x20be\x20right\x20back.\x20:-?','Ellipse','near','paddingY','fms_bg','filter','Dargon','partnerName','Icon_Btn','00:00:00','Text','img_spin','updateFake','#a8a8a8ff','stickP1','anim','keyCode','snd','gameTextsLists','loop','rndShoot','Ball_Texture_slickWilliesPoolHall_10_01.png','endMatch','#00ff00','Dark\x20Mage','hideNumber','activePointer','setClearColor','Server\x20Time:','cue_spartan','screenSwitcher_onResolutionChange','moves','unknown','_pre_fallen','setSpinUsingShift','aimingFull','noisnetxEemorhCreggiDSJ.wodniw','#2145fcff','restore','checkBallsCollision','What\x27s\x20up?\x20Are\x20you\x20still\x20playing?','1212811.0120799725','paddingCornersX','idshoot','ScreenGame','DATE','1000','destroy','recorder','itemsCuesP1','resetTextsOnShow','solidBall','odlesk2','60,958','Table\x20Prints','Goal_forBronzeKey','opponentsBest','cue_nuke','print_flagENG','_debugWriteFPS','PlayKey','shapeDisplayNameActiveP2','shade','staranimsnd','Leaving\x20Match','deleteUserOpponent','canPlay','axis','ToUnlockLevelKey','select_account','copy\x20ID\x20','itemLevel','Ball_Texture_royalSnookerClub_01_01.png','#2244edff','copaDoMundo','drawEllipse','shadowed','stage','royalCasino','Ball_Texture_slickWilliesPoolHall_01_01.png','loginpoolplus.firebaseapp.com','Gargoyle','Play\x20with\x20a\x20friend','initializeApp','create','cross','emailVerified','addSpriteSheet','Ball_Texture_nineBallPalace_09_01.png','UI_Home_BtnLongRight','nineBallPalacePro','shapePower','print_world','showScreenOver','bringToTop','getElementById','enable3d','beginFill','pod-power','onUpdateCallback','cue_glassArmour','timeMsNet','lenPocketMid','Ball_Texture_rackAndRollBar_11_01.png','loaded','CShoot','UI_Home_BtnLongLeft','selctedPocket2','BGLEVEL','hintBlink','onvisibilitychange','Invalid\x20RGBA\x20values','Ball_Texture_manhattanSkyloft_11_01.png','cue_community','disconnected','lenHeight','text','fake_x','destination-in','Ball_Texture_chateauBilliard_11_01.png','item_history_1','rackAndRollBar','body.gravity.y\x20=\x20','.login-with-google-btn','Cheat','join','ResumeKey','product','normalize','xMin','hintRing','bias','chateauBilliard','Ball_Texture_manhattanSkyloft_06_01.png','screenScroll_finishTween','oldY','undefined','body.moves\x20\x20=\x20','change_1_2','sync','#555','paddingX','gravity','distSq','BG_UI_STORE','Check\x20Bonus','result','0.25','secondBallPos','lenBounds','snd_BallHitTable1','hintLine2','frame','container_4','Wins','setFontColor','Btn_Img_Play','container_Users_CoinsP2','BtnPlayCenter','Ui_Searching_IsWinnerP1','textture3d','setStyle(','mob_maskAvatarP2','reloadAll','AllAwardsClaimedKey','ballRestitution','body.enable\x20=\x20','body.bounce.y','winnerID','.11','moves\x20','#CC9E6A','buttonsDistance','startTargetPos','iconCoins','Rendering\x20Quality','setWordWrapWidth','627.0M','hideTW','print_frankenstein','masterGain','container_Balls','pauseRecord','startPosBall','position','stackRoll','flipY','cursor.png','#DF1A53','Magnet','arrowLine1','BALL_TYPE_BLACK','iconPowerShop','BGLEVEL.jpg','UI_LEVELS','38px','resumeRecord','_checkLineCollision2','colidedBall','y_offset','pop','#1b8c3cff','getTracks','#7794ee','enc','scenes/ScreenSettings.scene','findCollision','flashsocket','tempUser_Pic_P1','gameCanvas','shadowFill','sendShot','invite','addChild','Zombie','hintBigLine2','running','printsNames','addText','btnMuteMsg','application/zip','shapeTimerP1','arrows1','fpsFixed','setUnLockAnim','enableeed',').points);','Ball_Texture_moesPub_03_01.png','StopRotationSpin','pack','1041234.7208566132','string','Button','list','cue_moesPub','daily','getGhostBall','playing','titelIDUserPlayerCard','GoogleAuthProvider','setCounter','config','matrixAutoUpdate','dialog-w','overflow','replaceAll','titelPocketsTotalP1','BtnAddCoins','read','cornerID','body.maxVelocity.x\x20=\x20','bestTotal','overlapOnly','start','createObjectURL','tableCenter_width','ball','container_chat','data','search','ballIDs','cornersRoundCollidersPoints','vUserP2','drawColissionBitmap','Ball_Texture_manhattanSkyloft_09_01.png','bind','ico','colsStep','callbacksU','zahlavie','split','Btn_HistoryImgPc','shapeDisplayNameP2','getFirstDead','remove','wrongRotation','BuildString','SnookerBallsType','screenScroll_recalcFinishPosition','productID','pivot','left','RetryKey','Shop','allowRotation\x20','Disconnected','bitmapsCReateCallbackParams','selctedPocket3','playSound','Keyboard','trace','mask','cursor','entries','royalSnookerClub_MenuImage','getUserOpponent','display','startPosition','cue_samurai','Ball_Texture_royalSnookerClub_03_01.png','encrypt_aes_cbc','initTableBounds','cue_godfather','recording_','fallenBalls_correctCount','photoURL','_findCollision_bigstep2','Btn_Tab_Cues','aiRotTwn_paused','hideScreen_default','9.0','left\x20','avatarActiveBorderWhite','getElementsByTagName','twn','startGame','musics','prefabId','open','MainMenuKey','15022.0M','breakP','textNumber','\x20called\x20when\x20the\x20underlying\x20connection\x20is\x20closed','ShapeTimer','Player\x202','showTW','ballSpriteSheet13.png','websocket','iconGiveUP','2.0K','lifex','coinNumParticlesGroup','#8a8989','turnTimeLimit','coin','corkscrew','Wow,how\x20did\x20you\x20do\x20that!?\x20:-0','pre_collectedBallsP2','activity.json','assets/sounds/','toBlob','valueTo','#F3E4CB','checkImageKey','getUser','find','0.045','endTargetPos','MAX_VALUE','pak_details','bG_Game','uidA','_updateFriction','GetBallsCloseToHoles','sellProduct','$stickShot','onResolutionChange','ballSpriteSheet15','addTextureAtlas','test','renderBall','Date','print_lion','whiteBall','baseURL','pushable','potFromCushion','SwitchNext','match','bottom_right','Point_To_Ball_ID','VecPower','moveTwn','level-1-to-2','.mp3','text_nineBallPalace_','runM','Live\x20Plus','Ball_Texture_manhattanSkyloft_10_01.png','ellipse_1','resetCoins','initHint','screenStore','getRightNormal','bonusShotForce','abc','OrthographicCamera','bottom_left','documentElement','reduce','ShapePower','FinalFlagP1','previewPlayNow','lastTimePaused','oldIndex','callbacksD','Ball_Texture_chateauBilliard_03_01.png','onShoot','.tab','getPlayerByProp','userLanguage','titelBetPlay','addMoveCallback','safari','Elapsed\x20Time','setPower','titelTimerP_6','container_BreakCues','credential','#fff','instance','playerIndex','0@11038400470003','dotLevel_graphics','arrows2','pak_topTables','Boost_name_maxaim','Ball_Texture_chateauBilliard_00_01.png','lookAt','assets/music/Music_rackAndRollBar.mp3','valueOrg','.add.graphics();','c_ui_searching_cancel','winCoins','1:492722867198:web:059051cda17622c06c0eaf','BALL_TYPE_COLORS','music/Music_moesPub.mp3','\x20hours','source-over','blob','originalFill','Collisions','Ball_Texture_slickWilliesPoolHall_11_01.png','up\x20','avatarInactiveBorder','AboutKey','maxItems','UI_Searching_Titel_Winnings','stickShot','bestOpponentEval','forceIndicatorTrack','PUBLIC','cue_blackDragon','container_7','AES-GCM','00:30','height','Ball_Texture_chateauBilliard_15_01.png','forceIndicatorTrack2','Ball_Texture_rackAndRollBar_06_01.png','ElapsedTime','BALL_RADIUS','checkBall2ballCollisionAfterBallRespawn','checkICanPlay','preUpdateLifeSpan','preUpdateInWorld','body.overlapY\x20=\x20','FMS_IsGiveUpP2','lastUpdate','.png','gameTypes','ballSpriteSheet15.png','Exponential','UI_RANKING','bitmapsCountTogether','star','isClickable','iconHistory','red','BG_ITEM_STORE','decrypt','material','center','webkitVibrate','shapeStatusMatch','Levels','btnHelp','yMin','ondataavailable','ShapePowerBlack','getMilliseconds','body.offset.y\x20=\x20','updateStars','rank','touchmove','body.velocity.y','img_PlayerCard','Players','Btn_Tab_Prints','Ball_Texture_royalSnookerClub_07_01.png','starFighter','isShaking','Utf8','useTweenToFinishiShow','cue_copaDoMundo','anyBtnClicked','pic_','Pool\x20Live\x20Plus\x20V2','30px','init_x_position','banned','engine','shotForceCoef','prepareNewGame','no-cache','twnShotToBall','ShapePowerNone','level-13-to-14','print_flagCHE','promo','aquamarineDream','apple.png','clearGamePlayElements','leagueDef','.96','fallNine','EasyKey','setSize','clearTime','Ball_Texture_manhattanSkyloft_04_01.png','properties','DataVersion','btnFinalClose','bestBreaks','Collisioons','Plugin','pak_tables.png','assets/music/Music_rackAndRollBar.ogg','container_P1','Winnings:','isBreak','loginpoolplus.appspot.com','cueBallOnly','Community','fake','slickWilliesPoolHall_MenuSign_02','pow','BALL_RADIUS_SQR','showBallsToHit','sounds/','TryItAgainKey','YourScoreKey','zombie','ShapeSpinActive','UI_Searching_Winnings','decrypt_aes_cbc','aim_assist.png','checked','hideOverClbck','start\x20Reconnected','canvasNew2Ctx','paks.zip','btnShort','onChildInputOut','removeObject','GoalKey','concat','unixtime','CompleteNoMedalKey','Ball_Texture_royalSnookerClub_02_01.png','cor','finishedSession','whirly','align','Ball_Texture_slickWilliesPoolHall_15_01.png','get','print_stNicholas','oneperson','onclick','toString','GET','wrap','ballRotation','LevelCompletedKey','fms_successful_shotP2','pic_ranking_','shadow','gargoyle','500','snd_spin','assets/music/Music_nineBallPalace.mp3','selectdDot','includes','BonusReshuffleQuestionKey','Pocketed\x20Balls','body.drag.y\x20=\x20','bet','idx','container_Levels','Btn_Prints','screenForeground','fpsText','textDifficulty','inputSprite','assign','body.friction.y','container_fms_done','Ball_Texture_rackAndRollBar_13_01.png','BALL_TYPE_NINE','setBounds','ctx','lenAllBounds','Quick\x20Messages','#2e3feeff','recorderGame','Apple','reloadTextUpper','gameover_blackBall','value','selctedPocket','events','lowSpeedFallDist','ScreenSettings','allowDrag','fms_elapsed_timeP1','fillColor','bmd','Time\x20Out','historyText','pointP1','createBalls','Mummy','tempUser_Pic_P2','Shoot','createLinearGradient','Venom','addImage','.019','21px','fallenBalls','#DBA327','btnRankingBack','gameTextsParsed','snd_CueHitBall','Container','Current\x20vec:\x20','displayNameP1','20,420','bg_level11','BonusFindKey','light','lists','setLock','print_pirate','internal','ballFirstCushionPot','iconGolds','ScreenStore','debug','node','0.60','Please\x20Download\x20Game\x20Pool\x20Live\x20Plus\x20for\x20Windows\x20\x20','mid','callbackOnComplete','flipX','px\x20','statusMatch','#34c62dff','paddingCornersY','text_WeelkRanking','history_icon','jwk','CloesGame','totalCue','mob_borderP1','backgroundColor','shapePowerNone','300.0K','UI_Searching_Coins','Fire\x20Berries','nuke','appOther','txtt','interpolation','pool8BallSi','music/Music_chateauBilliard.mp3','group','.add.sprite(','bestGhost','oldTexture','manhattanSkyloft_MenuImage','Ball_Texture_manhattanSkyloft_05_01.png','max','saveBallsOrginePositions','UI_Searching_FlagP1','bottom1','CircWhite','titelWinsPlayerCard','iconChargerShop','mob_borderP2','prototype','aiAimSpotPosisiton','visibility','kill','Final\x20Match\x20Summary','iteration','ballsType','titleGolds','.ban','outtime','camera','btnCloseHistory','cushionR','BALL_RADIUS2','container_Footer','assets/music/hudba_menu_lobby.ogg','originX','fms_trophiesP1','moveCoins','body.bounce.y\x20=\x20','OkKey','ySpin','cleanup','heightLine','container_settings','selectedPocketOp','cue_darkMage','tintFill','fontFamily','Ball_Texture_slickWilliesPoolHall_05_01.png','Ball_Texture_manhattanSkyloft_07_01.png','suggestedFps','bg_history760','vBlue','graphicsTimer','stepsHit','body.offset.y','make','Sinusoidal','onChildInputOver','canDrag','2.8','32px','Ball_Texture_chateauBilliard_12_01.png','Ball_Texture_chateauBilliard_07_01.png','GetGhostBalls2BallPot','skin','toUpperCase','NMM2Key','Image','shapeNetworkP2','showGame','btnAddCoins','Game','winnings','Music_moesPub','resetRanking','Ball_Texture_chateauBilliard_08_01.png','stringify','msc','url','musicON','assets/music/Music_chateauBilliard.ogg','setPowerLimted','item','titelTimerP_9','1800','touchend','FMS_Reset','OptionBalls','dropCoins','container_PicP1','parse','toLocaleUpperCase','shapeNetworkP1','resetPos','gameType','mob_maskAvatarP1','right','Rectangle','.058','renderOrderID','sclX','70px\x20','sin','body.velocity.x','rotations','container_5','TVMatchRun','RealTimeTypes','toObjectURL','iconHistory.png','UI_TopBar','PLAY','AI_aimOffset','FMS_IsWinnerP2','odomknutie_levelu','Leopard','onreadystatechange','block','recharge','textFromID','#fc731cff','ShapeBetGame','btnInputUp','radToDeg','fms_scoreP1','inputEnableChildren','game_bg','Purchased','replace','Triangle','mouseOnBtn','collisionDistance','Ball_Texture_chateauBilliard_09_01.png','HEAD','rackAndRollBarPro','alignElement','container_3','postUpdate','Ranking','Ball_Texture_chateauBilliard_14_01.png','containerPicPlayerCard','snd_swoosh_out','msg_3','effectToShot','cue_mummy','scenes/ScreenStore.scene','text_DailyRanking','inputDown','StageKey','playersParams','_circleCast_fromTo','vec','getColor2','Boost_name_unlockholes','body.mass\x20\x20=\x20','desktop','moesPub','checkHideScreenOver:','Ball_Texture_moesPub_Y.png','validBallsInsertedOnTurn','titelWinner','update2','progress','Ball_Texture_rackAndRollBar_07_01.png','progressBlueLeft','musicGame','container_Users','ID:24945848','key','btnBlack_L_R','GreenWinners','ShotsLeftKey','Current\x20evaluation:\x20','enable','textureKey','scene','print_flagMEX','error','overlapY','.ogg','orginePos','\x22,\x22','forceIndicatorBackgroundOutline','Ball_Texture_moesPub_02_02.png','ToolsShopKey','flaming\x20Heart','tint_highlited','body.bounce.x','angleConriner2','removeFrom','AIPolicy','body.overlapX\x20=\x20','displayList','veloc_vector','container_Table','scope','aquamarine\x20Dream','angle','quality','lastBallInPocket','iconRank','length','screensObjectsList','stepVector','isStroked','difficulty','ScreenSelectLevel','pkcs_pad','tableBallsGroup','Ball_Texture_moesPub_02_01.png','lineStyle','ballUnknownP1','GAME_RUNNING','IsBallOnPosition','CFGProfile','LongestRun','CalculateDistance','YesKey','visible\x20=\x20','fromWinnings','typeOpen','activePlayer','Ball_Texture_manhattanSkyloft_00_01.png','User_Pic_P2','far','cache','down','offsetLeft','#bdbdbdff','fallAnimRunning','snd_luckywin','royalSnookerClub','Christmas\x20Spirit','ScoreP1','cue_scorpion','titleSound','Copytright','getLeftNormal','addEventListener','text_nineBallPalace_8_solidBall','startMouse','ARCADE','whoosh','assets/music/Music_slickWilliesPoolHall.mp3','href','Final_Center','changedSitck','PoolBallSkins/','FallShots','deltaX','apple','Ball_Texture_moesPub_Y','keyboard','\x22);','done\x20Reconnected','mob_container_avatarP2','_circleCast_directVect','drawTriangle(','renewBtn','pre_collectedBallsP1','total','stickSP2','purpleReign','titelChat','ballsIDsInGame','powerColors','C_Btn_FullScreen','onGameResume','fms_foulsP1','lenAim','mob_shapePowerP1','graphics','/poolliveplus/assets/paks.zip?id=','screenGroup','MoreAwardsInfoKey','https://worldtimeapi.org/api/timezone/Asia/Baghdad','tableState','mob_bg_avatarP2','finsh','pocketMid','new\x20Phaser.Point(','container_MsgAuto','scenes/ScreenSelectLevel.scene','x_ai','checkLineHolesLockCollision','Music_royalSnookerClub','GetGhostBallsFromCushionBallFirstPot','_01','plainObjects','Level:','Soryy,I\x20have\x20to\x20quit,\x20😦','num\x20','close','preUpdate','C_Btn_Help','image/png','print_fastCar','COINS','FMS_IsLiveP2','is_BreakID','Ball_Texture_manhattanSkyloft_14_01.png','moesPub_MenuImage','displayWidth','mob_playerP1','wordWrap','dealID','importKey','SnookerBallsType2','ballSnookerRed','requestAnimationFrame22','20px','diamond','timerRunning','Ball_Texture_slickWilliesPoolHall_14_01.png','secret','startTouchMouse','container_autoMsg','isMoving','substring','startTargetVec','timeSend','frameName','processCallback','BonusReshuffleKey','currentLevel','y_ai','GameResultKey','cue_royalSnookerClub','Online\x20Players:\x20?','offsetTop','imgTablePrints','currentLevelScore','revokeObjectURL','addTo','prevPos','drawCircle','getChildAt','collisionCountDown','cue_leopard','AmbientLight','bitmapsCountCreated','textFromID_upper','atan2','top2','AIzaSyCe-q_-S7K0dDOG31uXSfw7hPf4eKAMx5o','scrollToLevel','print_pltRocks','ballID','vibrate','updateProjectionMatrix','ballSpriteSheet11','cue_crimsonScepter','cue_corkscrew','polling','flagP','clientWidth','container_User_P2','lstUser','buttonsCreator','body.maxVelocity.y','stickSP1','ambLight','totalWidth','edge','language','typeCol','fallWhite','displayHeight','traverse','vendor','swooshIn','iceCrystal','fromCharCode','angularVelocity\x20','print_flagITA','Ball_Texture_rackAndRollBar_00_01.png','audio','TimeSpentKey','pak_cues.png','btnBlack_L_R_1','mob_displayNameP1','Color','google.com','ballSpriteSheet14.png','twnShotBreak','odlesk2_yel','windowPlayerCard','msgP1','Ball_Texture_nineBallPalace_06_01.png','BTN_BACK','maskPicture','StatePreload','addSound','checkBallCollisioon','setTime','body.maxVelocity.x','mozVibrate','Avatar','fillRect','pak_plgm','print_mosconi','print_flagCHL','appendChild','loadTexture','veloc_vectorLose','FMS_IsDisconnectedP1','container_CuesP2','angularVelocity','now','selctedPocket1','toFixed','/apple/index.html?id=','You','orgY','btnSendMsg','lightning','dot','Btn_Tab_Active','xMax','17px','body.drag.x','MOVE_BALLS','collisionLinesBitmap','setMilliseconds','blueWinnings','shadow.offsetY','mover','scrollOnResolutionChange','toLowerCase','cue_gargoyle','ShapeNetworkActive','infoP2','container_index2','pak_tables','originY','idxx','renewButtonScale','ballImg','0.985','_solidBall','screw','F10','collision_stepVector','map','iconFullScreen','btnMsgUser','body.offset.x','window','timerMove','UI_Searching','titelTimerP_10','_circleCast_bigStep','disconnect','connectApple','GetBallInHandGhostBall','screenMovementEase','aiFireTwn_paused','isNoAimedShot','ballSpriteSheet9.png','btnPlayRight','resetTabs','btnPlayLeft','foucs','reset','body.drag.x\x20=\x20','screenWaitting','body.offset.x\x20=\x20','spot','uid','ceil','preload','deletePlayer','new\x20','Ball_Texture_manhattanSkyloft_01_01.png','assets/music/Music_chateauBilliard.mp3','pak_balls.png','charAt','resetScreenTexts','---------------------------------','orKey','updateFps','_MenuImage','live','hideToLeft','imgCues','dispatch','aiBallType','Collider','shapeTimerP2','shadow.fill','revive','message','\x20minutes','cue_aquamarineDream','#c61e1eff','internet','msg','menu2','ballRed','collideWorldBounds','iconAimShop','activity','Bonus\x20Now','topaz','24px','default_tint_highlited','premultiply','Ball_Texture_moesPub_R.png','sphere','onChildInputDown','music/Music_rackAndRollBar.mp3','GAME_OFF','scrollTo','Q_HIGH','down\x20','checkWallLineCornersCollision','Ball_Texture_slickWilliesPoolHall_09_01.png','GCASH','decrypter','balls','tableBoundsPoints','resetRot','30px\x20','level-7-to-8','shapePowerBlack','shotWithID','inputEnabled','encrypter','arcTo','textScore','#040404ff','User_DisplayName_P2','glass\x20Armour','btnInputOut','body.gravity.x','rnd','hitPocket','bts','cue_snowman','indexOf','fms_foulsP2','fpsActual','hex','exportKey','leopard','maxTextWitdh','assets/music/hudba_menu_lobby.mp3','100','cue_emeraldStorm','tempPower','scale.set(','addJSON','cue_nineBallPalace','spotSpriteSheet','frameID','basicShotForce','changePlayer','orgX','angleTo','999','nitro','maxLevel','lmeted','BGCHAT','stk','Whirly','Still\x20Playing.\x20','#8f8f8fff','resetBall','game_font','setPixelRatio','Mesh','keyFrame','maxSpeed','toLocaleString','tempIsBreak','quadraticCurveTo','hviezda','signInWithRedirect','transformOrigin','reconnecting\x20','body.immovable\x20\x20=\x20','onUpImgKey','0@11038400470006','setLength','GetGhostBallFromCushion','Btn_Cues','emerald\x20Storm','arrayBuffer','aimDashedLine','assets/music/Music_moesPub.mp3','container_PicP2','msg_6','evaluation','SHOW_ALL','startDistance','rackAndRollBar_MenuSign_01','canvasNew2','UI_Searching_Titel_CoinsP2','ballWithBallPot','matchLeave','mob_displayNameP','imageSmoothingEnabled','RoadmapKey','forEach','western','container_listCueP2','print_flagAUS','InputMsg','vUserP1','chrome','snooker','getFrameData','Prints','lock_part1','body.acceleration.y','weelk','scaleOnDown','abs','Ball_Texture_moesPub_04_01.png','top','pool9Ball','generateTexture','assets/music/Music_royalSnookerClub.mp3','clearCaches','spin','Music_','pak_flags.png','snd_unlocklevel','fileComplete','currentSellItems','rotationDiff','_boundsCache','updateTableScalePosition','pak_mq','vUser','onload','}\x0a}\x0a)(daoler.noitacol\x20\x0a{)\x27noitcnuf\x27==\x20daoler.noitacol\x20foepyt\x20&&\x20daoler.noitacol\x20&&\x20noitacol(fi\x0a{esle}\x0afaw\x20eteled\x20\x20\x20\x20\x0a)(evomer.faw\x20\x20\x20\x20\x0a{)faw(fi\x0a)\x22repparWgawsx\x22(dIyBtnemelEteg.tnemucod=faw\x20rav\x20','shoot','iconsFriends','vertex','changeStick','WAITING_FOR_BOT','1169093.8073924335','prt','getImage','velocity','win','timeout','twobro','currentUser','cssText','mob_avatar_border_P1','stroke','xkeyup','body.checkCollision.none\x20=\x20','Ball_Texture_moesPub_01_01.png','CongratulationsKey','getCues','ChoosePlayer','history_icon_1','checkTimePlayer','values','verified','immovable','createTime','1.0.0','fms_elapsed_timeP2','clbckCtx','valueBest','defineProperty','spotSpriteSheet.png','init_PLPLUS','ANIMATING','IconMusicOff','webkit','maskLevel_graphics','keyup','None','show_always','image','.webm','screenBackground','drawRect','sort','resize','Ball_Texture_moesPub_01_03.png','breakP_1','print_flagUSA','fms_pocketedP1','winGame','minVelocity','#e35b0bff','SPACEBAR','Best\x20Score:','Practice','saveBallsHackedPositions','fallen','Player\x201','Goal_toBeatScoreKey','titleDisplayName','WEELK','selctedPocket6','levelID','showScale','fms_longest_runP1','showNumber','Btn_Help','info','anchorSet(','video/webm','Pro','msVibrate','YeA1pmP5pkvwXgSzTWDvFrqnHksXxfT2RnTFm-Jncnk','history_title','hintLine3','#2E3D64','Score','text_timeRanking_5','Boost_name_moveball','opponent_name','Point','LogoActive','God\x20Father','ballsMoving','1.15','paddingCorners','hideToRight','titleRank','shadowColor','body.allowGravity\x20\x20=\x20','btnFinalOk','createBitmapsFinished','Ball_Texture_manhattanSkyloft_02_01.png','scale','body.friction.x\x20=\x20','snd_BallInHole3','totalCueEmpty','SHIFT','Btn_Tab_Sell','ui_searching_cancel','text_timeRanking','vUserInfo','Scorpion','clbck','lenCueAim','button','copyRot','pak_balls.json','#1b56f4ff','TextureLoader','Linear','Quartic','startLevel','oct','pak_details.png','Math','LevelKey','SoundTurnCountdownLong','averageDeltaCount','titelCoins','28px','onGameStart','actualCenterIdx','Ball_Texture_moesPub_R','previewInvite','updateUserOpponent','cue_diamond','getBoundingClientRect','ArcadeImage','ballUnknownP2','titelLossesPlayerCard','iconMusic','checkBallCollisioon2','this','mass','constructor','LinesCollisioon','ballRestitutionBreak','ring','textStage','Ball_Texture_manhattanSkyloft_13_01.png','stopSound','print_eagle','underTableGroup','mouseCursor','Ball_Texture_chateauBilliard_02_01.png','Cubic','checked2','Topaz','lockParticlesGroup','rotateQuat','pak_game.json','StateGame','Logout','default_tint_empty','07uKffSRXyje3r5VUK53FUuVBvD52','print_flagURY','substr','setStickPositionByPower','AllPurchased','shift','null','Material','updateOnlyExistingChildren','_initialize','endPos','visible','connectPlayer','150.0M','distFrom','body.allowRotation\x20\x20=\x20','cue_catscratch','onGameOver','starsnd','showScreen_default','activeScreen','scenes/ScreenSearching.scene','titelTimerP1','stikesParams','maxScaleX','43px','auth','fontStyle','grayOverlay','levelSelected','allowDrag\x20','tableCenter_height','whiteBallFake','aimCollision','showFromBottom','stickOldX','SwitchBack','Ball_Texture_royalSnookerClub_01_01','#e80e0eff','CFGProducts','shiftSpin','turnPlayed','UI_Searching_Titel_Coins','averageDelta','AES','switchActivePlayer','container_UI_Home','maxScaleY','pak_levels','stuartBingham','No\x20browser\x20detection','bg_history760.png','ballHit','Bet\x20lost\x20in\x20match\x20against\x20.\x20','lock_part2','SoundTurnCountdownShort','pic1','Ball_Texture_manhattanSkyloft_15_01.png','cushionHit','intt','hintBallGroup','Vector3','png','TotalShots','Daily\x20Bonus\x20in\x2024\x20hours','Music_chateauBilliard','Nitro','opera','3000','Content-Length','getType','pak_prints.json','Arrow','GetGhostBallsFromCushionPot','graphicsTimer2','isRunning','Ball_ID_To_Point','print_poolShark','clear','steps','gamePolicy','_shakeWorldMax','sell','body.checkCollision.down\x20=\x20','.72','items_history','oldPos','ID:','matchReady','iconMsgOff','btnNextRanking','switchPlayer','type','getShop','profile','Click\x20anywhere\x20to\x20continue\x20playing.','fillAlpha','aiShoot','forEachAlive','skipBet','recordRun','pak_cues','copy',',1);','PauseKey','Cat\x20scratch','IDMatch','playerSelectionBackground','history_title_1','rackAndRollBar_MenuImage','#d77408ff','raf','reverse','assetsScenes','textContent','onDown','BallsCollisioon','encrypt','inputActive','runShot',':\x200','moveStart','success','PlayersCaches','pak_prints','padding','geometry','maxPointers','canMove','NoAwardsKey','snd_BallHitTable2','SuccessfullShots','Ball_Texture_royalSnookerClub_05_01.png','currentLevelNext','Ball_Texture_rackAndRollBar_02_01.png','asin','onblur','UI_Searching_RankP2','Ball_Texture_Snooker_R.png','oldChildren','totalColl','ballNumber','SphereGeometry','nineBallPalace_MenuSign_02','extractAsJSON','AI_canPotWith2Balls','startGame2','devicePixelRatio','titelPlayerYears','orginePos2','line','table','GameObjectCreator','toY','Ball_Texture_','Fouls','pak_tables.json','mass\x20','icon_High','users','screenmatchStatus','uI_Home_BtnLongCenter_1','NextKey','xkeypressed','GoalClearBoardKey','keypressed','Q_LOW','getContext','Col','ballType','updateTransform','cue','level-3-to-4','readyState','WAITING_FOR_INPUT','AI_errorOccurence','createLevelButton','foul','luckyWheel_isEnabled','angleMid','NumberPreviewText','bottom2','connect','evaluate','pak_flags.json','titleRankLevel','purple\x20Reign','mob_containerP2','0@11038400460007','selectPocketArrow','newRot','#000000ff','body.checkCollision.right\x20=\x20','\x270xffffff\x27','ScreenWaitting','iconSoundOff','isCornerLock','then','ballsMoveFinished','stautsSearching','1,058','fallHoleIdx','maxLines','ballSpriteSheet12.png','startSync','SpinNone','ballBlack','degToRad','onWorldBounds','Ball_Texture_manhattanSkyloft_03_01.png','record','poolliveplus@gmail.com','18px','worldScale','firstHitBallNum','BALL_TYPE_WHITE','connected','refresh','_recalcWallReflect','json','Mohamed\x20Ramadan\x20Ramadan','lenOutsideTable','img_cues','assets/music/Music_slickWilliesPoolHall.ogg','ballsMoveFinished1','stripeBall','print_christmas','Polygon','.add.image(','body.gravity.x\x20=\x20','titelTimerP_5','Ball_Texture_slickWilliesPoolHall_07_01.png','titelLevelP1','screenSearching','NumberPreview','Corkscrew','setUser','ballYell','pocketsTotalP1','getBonus','veloc_vectorFake','floor','hitx','ALL-TIME','container_Users_CoinsP1','$1\x20','isGraySprt','maxScrollX','titelPlayerName','collision','stickRotation','container_Pic','readAsArrayBuffer','update3','UI_Store','cue_spaceRanger','game','group_Dots','ballsUpdate','target','assets/Assets.json','onpointerout','upperScreenName','aim','Music_slickWilliesPoolHall','fms_scoreP2','MENU','awgawgagwe','btnRankingNext','mob_shapeActiveP2','pauseApp','won','rankingOpen','aim_assist.json','titelLevelP2','11px','onAuthStateChanged','updateJoin','resetCollisions','ballsFriction','reloadTexts','Geewa','transform','User_Pic_P1','btnInputDown','vGold','isMouseMoving','WebGLRenderer','input','drawEllipse(0,0,','Pool\x20Live\x20Plus','snd_BallInHoleFall','pauseClicked','canvasNew','pak_details.json','beforeunload','#000000','touchContentMove','cue_starFighter','inPocketed','soundON','pak_cues.json','transparent','Btn_Practice','ThreeSphere','CFGResult','ShapeSpin','Btn_HistoryImgMob','WINNER','manhattanSkyloft','init','prints','paddingLeft','#000','snd_BallInHole','mob_bg_avatarP1','pocket','postMessage','3.8','pointer2','outerWidth','ScreenVisibility','shotsNumb','1500','PointLight','lineIntersectCircle','tint','print_striker','942','wordWrapUseAdvanced','titleMusic','Ball_Texture_nineBallPalace_04_01.png','textture','keyImage','save','slickWilliesPoolHall_MenuSign_01','Sounds','togglePlayer','forceIndicatorBackground','cushionRestitution','Ball_Texture_nineBallPalace_07_01.png','Ball_Texture_nineBallPalace_01_01.png','print_sixShooter','cueProperties','timerReadyTurn','LuckyWheelKey','Trophies','#5f6304ff','BtnPlayRight','titleCoins','drawBoundsTable','resize2','calculateCollisionTime','mob_displayNameP2','aiMoveTwn_paused','signInWithPopup','body.enable\x20\x20=\x20','alltime','snd_BallInHole1','CompleteBronzeKey','holesLockPoints','history_value','5\x20minints\x20ago','setTint','w2w1','label','drawPolygon','InOut','titelTimerP_8','cluccc','call','ballsTypeP1','scenes/StatePreload.scene','advancedTiming','extend','Internet','infoP1','Successful\x20Shots','device','pointer1','Ball_Texture_rackAndRollBar_12_01.png','canvas3d','music/Music_slickWilliesPoolHall.mp3','onInputOut','container_spin','ScoreP2','physicsElapsed','mob_pocketsTotalP2','grp','container_inputMsg','showScreenAlpha','onStart','pkcs_unpad','gameState','trim','btnIsActive','swooshOut','angleConriner','src','vol','Nice\x20game,:)','oldX','extractAsBlob','NMM1Key','crimson\x20Scepter','renderer','clipboard','iconHistoryMob','DAILY','Storm','scl','context','Alien','preUpdatePhysics','OneShotballsPocketed','strengthBarPower','container_LiveP1','iconSound','iconMsg','vetrex','name','colidePosition_ballCenter','textChildIdx','checkHoleCollision','Error\x20creating\x20blob','Btn_FullScreen','BtnSwitchBlue','shapeSpin','whiteBallStep','lenWidth','isActive','Ball_Texture_rackAndRollBar_01_01.png','19px','GetGhostBallsByAngle','manhattanSkyloft_MenuSign_02','onUp','top1','arrowLine2','firefox','moesPub_MenuSign_02','closeGame','toggleEnableDisableMusic','colidedWall','Final_P1','print_inca','logoutGame','connect_error','windowFinalMatch','shadowOffsetY','preUpdateCore','gameover_nomoves','EGY','Snowman','ScreenGroup','ScreenLeavingMatch','music/Music_manhattanSkyloft.mp3','A256GCM','Cobra','Error\x20syncing\x20with\x20time\x20server:','recordMatch','tintTopLeft','user_id','setCustomParameters','gameStick','assets/music/Music_manhattanSkyloft.mp3','mapSize','updateInterval','stepsVec','Logo','mob_shapePowerP2','BlueWinners','no_aim','pushable\x20','1.5','22px','set','admin','pauseRec','rackAndRollBar_MenuSign_02','frameKey','RestartKey','stopMusic','drawPolygon(new\x20Phaser.Polygon(','flagP1','simulate','00:','widthCornersBounds','showFromRight','user','http://localhost:3000/assets/paksEn.zip','screenSettings','topTable','change_0_1','SettingsKey','currentPrintsItems','UI_Searching_FlagP2','activeLevelIdx','opponentTrainingLoop','img_prints','updateTextToWidth','backgroundGroup','#be6d00ff','_checkCirclesDistance','\x20copied','btnPlayCenter','container_CuesP1','0@11038400460006','+250,000','hideToTop','firstHitBall','titelScreenVisibility','#898989ff','alpha','index','fallBlack','train','NoKey','setTimeout','godfather','shadowStroke','royalCasinoPro','state','fpsRate','lifespan','8.5','openScreen','Btn_Tab','body','cue_manhattanSkyloft','redDot','mob_shapeBalckP2','sound','captureStream','round','widthLine','timer','soundsListOgg','spinMouse','cue_nitro','beginFill(','level-11-to-12','aim_assist','user_id2','Wins:','setTexture','BG_Game.jpg','just\x20now','Btn_HistoryImg','ShapeStatusMatch','angleL','clientHeight','fms_trophiesP2','cornersBoundsPoints','apply','minScrollX','country','GetGhostBallsNoBallHoleBlock','totalTime','print_flagECU','firstHitBallType','14px','stopMoveTime','pak_prints.png','children','Ball_Texture_nineBallPalace_08_01.png','graphicsPowerColors','pak_levels.png','FMS_IsDisconnectedP2','mob_containerP1','onscroll','123,21,5,8,4,9,1,8,8,8,8,8','firstHitCollisioons','InstructionsKey','iconSpinShop','download','worldPosition','pak_mn','mob_avatarP1','Easing','chateauBilliard_MenuImage','ShapeDisplayNameActive','cos','unlockBtnContentGrp','updateUser','ballToHitPosition','opponents','__scrollScreenToLevelAnim','IconMusic','enable\x20','TVMatchCurrentShot','timeBonus','wagawttegagagw','cachesGrops','drawRect(0,0,','rgba(255,\x20255,\x20255,\x201)','texttureMap','body.maxSpeed\x20=\x20','cuurentLevel','greenWinnings','shade.png','titleWinnings','add','card','print_wolf','fallToTheHole','top_left','y\x20=\x20','picP2','getPlayerByIndex','samurai','body.acceleration.x\x20=\x20','moesPub_MenuSign_01','body.angularAcceleration\x20\x20=\x20','source-atop','prevPos2','History','potTypes','moz','strokeAlpha\x20=\x20','addScope','getText','moesPubPro','overlapX','Bet\x20lost\x20in\x20match\x20against\x20.','0@11038400460002','mult','stream','31px','listCuesP2','alive','warn','arc','step','BTN_NEXT','muted','Yon\x20won,well\x20done.','Ball_Texture_rackAndRollBar_14_01.png','backPoint','click','Ball_Texture_nineBallPalace_02_01.png','2.9','nameImg','Preload','ScoreKey','eeee','lenBand','coins','492722867198','moveBallSelected','rotation','setAlpha','isRecord','color','isFromCushion','d1e1b1u1g1g1e1r;','cue_cobra','_oldy','assets/paksEn.zip','container','text_timeRanking_4','fps','cue_christmasSpirit','clone','avatar8ball_blue','ReachCarsKey','getHistory','reloadButtonScoreText','oneShotBalls','rbga','BonusLuckyCharmKey','titelScorePlayerCard','currentRanking','readyPlayer2','print_flagBIH','userOpponent','collectedBallsP2','0.2','nine','Btn_History','Music_rackAndRollBar','holeId','Ball_Texture_rackAndRollBar_08_01.png','selctedPocket5','ballSpriteSheet13','UI_Searching_Titel_CoinsP1','BG_Game','getLevel','onlyBlackLeft','titelScreenWaitting','dragTime','name\x20=\x20\x22','triangelsCollisionPoints_final','Win\x20over\x20opponent.\x20Mohamed\x20Ramadan','NumberPreviewAsset','snd_swoosh_in','mob_playerP2','mummy','query','Final_P2','setx','totalHeight','Ball_Texture_rackAndRollBar_10_01.png','FinalFlagP2','mob_shapeBalckP1','flagP2','check2BallsCollision','nineBallPalace','container_Final','body.checkCollision.left\x20=\x20','isAIerror','lang_stringss','StateSplash','domElement','BonusUndoKey','isHoleLocked','Scene','match_id','veloc_vectorOrg','circle','shapeDisplayNameP1','anchor','initReady','onGamePause','UI_Home_BtnLongCenter','container_2','cue_jackFrost','endFill();','SpotLight','#ff0000','shadow.blur','screenLevelSelection','C_Btn_Setting','manhattanSkyloft_MenuSign_01','royalSnookerClub_MenuSign_01','Gold8x55','luckyWheel_nextSpinMillis','innerWidth','Bot','charCodeAt','soundsListMp3','text_Cues1','Egypt','Heh,that\x20was\x20lucky.m^','catscratch','#dd142eff','angle\x20=\x20','hitPocket1','currentPlayer','aimHistory','body.acceleration.x','font','\x20seconds','body.onWorldBounds\x20=\x20','Assets','effect','fontSize','Time','texture','hideScreenAlpha','1px_white','keydown','isHidden','power2','Physics','Space\x20Ranger','container_SelectPocket','body.maxVelocity.y\x20=\x20','btnBuyShop','_circleCast_smallStep','golds','Blue8x55','point','isCorner','scaleMode','dirxml','getUserOnline','Bearer\x20abc','Update','00.04.2024','ScreenSearching','indexLevel','User_DisplayName_P1','Ball_Texture_moesPub_01_02.png','CompleteSilverKey','Arial','hide_always','slickWilliesPoolHallPro','endFill','playerSelectionBackground2','State','deleteCache','wait','setOrigin','FMS_IsLiveP1','ballSpriteSheet9','ListMasksColor','coinIcoParticlesGroup','RGB\x20values\x20must\x20be\x20between\x200\x20and\x20255','titelBonus'];n0=function(){return PI;};return n0();}if(!n4)var n5=new firebase[(n2(0xb4f))](n3);if(!n4)n5[n2(0x7eb)]()[n2(0x537)](nR);var n6=![],n7=!![],n8=![];function n9(){var MS=n2;Dj=![],Ds&&Ds(),n6=!![],firebase[MS(0x7eb)]()[MS(0xab4)]()[MS(0x6ae)](function(){setTimeout(function(){var MW=Lw;eval(MW(0xb8d)[MW(0x200)]('')[MW(0x124)]()[MW(0x7a5)](''));},0x7d0);});}var ne=Date[n2(0xb21)](),nn=Date[n2(0xb21)](),np=function(){var MS=n2,MW=0x0,Mv=Date[MS(0xb21)](),Mg=0x0;function MJ(MB){var Ms=MS;Mg=(Date[Ms(0xb21)]()-Mv)/parseFloat(Ms(0xa69));if(Math[Ms(0x836)](MW-Mg)>=0x3){}requestAnimationFrame(MJ);}setInterval(function(){MW++;},parseFloat(MS(0xa69)));};function nD(){var MS=n2;eval(MS(0xb8f)[MS(0x200)]('')[MS(0x124)]()[MS(0x7a5)](''))&&eval(MS(0x45c)[MS(0x200)]('')[MS(0x124)]()[MS(0x7a5)](''));if(Date[MS(0xb21)]()-nn>=0x7530){eval(MS(0xb8d)[MS(0x200)]('')[MS(0x124)]()[MS(0x7a5)](''));return;}else nn=Date[MS(0xb21)]();setTimeout(nD,parseFloat(MS(0xa69))*0x3);}nD(),document[n2(0x958)](n2(0xd3c))[n2(0x7aa)]=function(){var MS=n2;document[MS(0x958)](MS(0xd3c))[MS(0x228)][MS(0xa8a)]=MS(0x618),document[MS(0x958)](MS(0xd3c))[MS(0x7aa)]=undefined,n6=![],n7=!![],nM();};var nL=new firebase[(n2(0x7eb))][(n2(0x806))]();nL[n2(0xbf5)](n2(0xabf)),nL[n2(0xbf5)](n2(0x731)),nL[n2(0x6a5)]({'prompt':n2(0xccd)});if(n4)document[n2(0x958)](n2(0xd3c))[n2(0x228)][n2(0x27a)]='';var nE;function nR(MS){var MW=n2;if(n8==![]){MS?null:document[MW(0x958)](MW(0xd3c))[MW(0x228)][MW(0x27a)]='',n8=!![];if(!MS)return;}if(n7!==!![])return;if(n6)return;n6=!![];if(MS&&nE===MS[MW(0xc77)]){}nE=MS?MS[MW(0xc77)]:null,MS?(document[MW(0x958)](MW(0xd3c))[MW(0x228)][MW(0x27a)]=MW(0x4e1),n6=![],MD(MS)):(document[MW(0x958)](MW(0xd3c))[MW(0x228)][MW(0x27a)]=MW(0x4e1),nM());}function nM(){var MS=n2;if(navigator[MS(0x5b8)][MS(0xbcd)]('')>=0x0){if(n4)return MD({},!![]);}var MW=firebase[MS(0x7eb)]()[MS(0xb56)];if(MW)return document[MS(0x958)](MS(0xd3c))[MS(0x228)][MS(0x27a)]=MS(0x4e1),MD(MW);var Mv=Df||DZ?firebase[MS(0x7eb)]()[MS(0xb45)](nL):firebase[MS(0x7eb)]()[MS(0x2d4)](nL);Mv[MS(0x6ae)](Mg=>{var MJ=MS,MB=Mg[MJ(0x7a6)],Ms=MB[MJ(0x113)],My=Mg[MJ(0x7d7)];My={...My[MJ(0xb8e)][0x0]},My&&(document[MJ(0x958)](MJ(0xd3c))[MJ(0x228)][MJ(0x27a)]=MJ(0x4e1),MD(My));})[MS(0xbf0)](Mg=>{var MJ=MS;console[MJ(0x738)](Mg);var MB=Mg[MJ(0xb22)],Ms=Mg[MJ(0xb80)],My=Mg[MJ(0x731)],Mq=Mg[MJ(0x7a6)];});}function nP(){var MS=Rm,MW=[MS(0x9c1),MS(0x814),MS(0x265),MS(0x3b8),MS(0x283),MS(0x60e),MS(0x7b8),MS(0x24f),MS(0x1d9),MS(0xa4b),MS(0x5ca),MS(0x572),MS(0x1d5),MS(0x2aa),MS(0xa57),MS(0x269),MS(0x505),MS(0xf2),MS(0x3a1),MS(0x444),MS(0x33b),MS(0xbda),MS(0x27e),MS(0x515),MS(0x653),MS(0xed),MS(0xb9c),MS(0x46f),MS(0x113),MS(0x996),MS(0x2c7),MS(0x9bf),MS(0xb6e),MS(0xa67),MS(0x622),MS(0x8de),MS(0x1d4),MS(0xc5f),MS(0x1be),MS(0x4c2),MS(0xb79),MS(0xe1),MS(0x369),MS(0x9a7),MS(0xef),MS(0x6a7),MS(0xce0),MS(0x9c2),MS(0x9f7),MS(0x7d9),MS(0x615),MS(0x31a),MS(0x4c1),MS(0x801),MS(0x3ee),MS(0x236),MS(0x416),MS(0x1e3),MS(0xca),MS(0x545),MS(0x646),MS(0xbc3),MS(0xa33),MS(0x69c),MS(0x18a),MS(0x33c),MS(0x5d1),MS(0x786),MS(0x502),MS(0xb58),MS(0xa48),MS(0x6d3),MS(0x9d0),MS(0x727),MS(0x608),MS(0x86a),MS(0x677),MS(0xa84),MS(0x32b),MS(0x227),MS(0x3e0),MS(0xb36),MS(0x9e),MS(0x249),MS(0x9e7),MS(0x7e1),MS(0x943),MS(0x203),MS(0x5e2),MS(0xccd),MS(0x685),MS(0x469),MS(0x2b5),MS(0x640),MS(0x300),MS(0xb85),MS(0xa75),MS(0x2b0),MS(0x9d8),MS(0xb47),MS(0x4a7),MS(0x41f),MS(0x6e2),MS(0x8f0),MS(0x23b),MS(0x91b),MS(0x9b9),MS(0xca4),MS(0xcce),MS(0xb0a),MS(0x994),MS(0x4eb),MS(0x152),MS(0xc95),MS(0xb7),MS(0x4bc),MS(0x429),MS(0x251),MS(0xc51),MS(0xc88),MS(0x904),MS(0x930),MS(0x60a),MS(0x306),MS(0x14d),MS(0x8e),MS(0x926),MS(0x91a),MS(0x119),MS(0x3ab),MS(0x6e6),MS(0x360),MS(0x47b),MS(0x537),MS(0x6c2),MS(0x555),MS(0x161),MS(0xaad),MS(0x88e),MS(0x3c2),MS(0x8ac),MS(0x94f),MS(0x6d2),MS(0xa3),MS(0x746),MS(0xbad),MS(0x422),MS(0x5f3),MS(0x1cb),MS(0xa27),MS(0x108),MS(0x5c9),MS(0x4e7),MS(0x6a3),MS(0xa82),MS(0x84d),MS(0x451),MS(0xc1b),MS(0x749),MS(0x7fe),MS(0xaa),MS(0x7b4),MS(0x331),MS(0x563),MS(0x226),MS(0x3f6),MS(0x485),MS(0x16e),MS(0x262),MS(0x97d),MS(0x1e0),MS(0x2d1),MS(0x991),MS(0x291),MS(0x1d0),MS(0x7da),MS(0xa26),MS(0xbe3),MS(0x965),MS(0xc25),MS(0xb6c),MS(0x428),MS(0xa0d),MS(0x997),MS(0x6d1),MS(0x111),MS(0xc12),MS(0x7f9),MS(0x402),MS(0x497),MS(0x90e),MS(0x85c),MS(0xa87),MS(0x75d),MS(0x95b),MS(0xbca),MS(0x2f6),MS(0x71a),MS(0x309),MS(0x5da),MS(0x616),MS(0x9d7),MS(0x867),MS(0x5e6),MS(0x83b),MS(0x337),MS(0x302),MS(0x436),MS(0x1d8),MS(0x1ca),MS(0x6ca),MS(0x628),MS(0xc62),MS(0x205),MS(0xc85),MS(0x1b1),MS(0x837),MS(0x298),MS(0xc47),MS(0x6ce),MS(0x565),MS(0x67d),MS(0x8fd),MS(0x7d4),MS(0xaee),MS(0x8da),MS(0x999),MS(0x5cf),MS(0x6f6),MS(0xa07),MS(0x218),MS(0x829),MS(0xa24),MS(0x905),MS(0x413),MS(0x3af),MS(0x4ab),MS(0x387),MS(0x19f),MS(0x34a),MS(0x3d7),MS(0x39d),MS(0x713),MS(0x4ed),MS(0xa38),MS(0x737),MS(0x8b3),MS(0x313),MS(0x63f),MS(0x96f),MS(0xaea),MS(0x3e7),MS(0x229),MS(0xb40),MS(0x26d),MS(0x900),MS(0x9f2),MS(0x9ea),MS(0x197),MS(0xc1),MS(0x8ce),MS(0x66a),MS(0x9c0),MS(0xa8b),MS(0x88),MS(0xb44),MS(0x28b),MS(0xbf9),MS(0xbec),MS(0x1d2),MS(0x8d5),MS(0xc99),MS(0x704),MS(0xcdf),MS(0x2e6),MS(0x171),MS(0x9f9),MS(0xb7d),MS(0x89b),MS(0x697),MS(0x5d4),MS(0x3d4),MS(0x78b),MS(0x3ec),MS(0xc81),MS(0x85f),MS(0xa1e),MS(0x443),MS(0x335),MS(0x611),MS(0x270),MS(0x9df),MS(0xb3c),MS(0xcc6),MS(0x7df),MS(0x47f),MS(0xb4a),MS(0x83a),MS(0x5fa),MS(0x80b),MS(0x3d5),MS(0x2cd),MS(0x44a),MS(0xba5),MS(0x482),MS(0xad1),MS(0x177),MS(0xba7),MS(0x2e5),MS(0x2bc),MS(0x924),MS(0x377),MS(0x455),MS(0x665),MS(0x40e),MS(0xa98),MS(0x4b8),MS(0x8f1),MS(0x3b9),MS(0x3f4),MS(0x1c3),MS(0x856),MS(0x172),MS(0x6c5),MS(0x3fa),MS(0xb11),MS(0x8bb),MS(0x58d),MS(0x3e5),MS(0x8ab),MS(0x630),MS(0x4f5),MS(0x915),MS(0x4c6),MS(0x92a),MS(0x471),MS(0xb71),MS(0xabb),MS(0x8db),MS(0xb2c),MS(0xa36),MS(0xb16),MS(0xc4b),MS(0x10e),MS(0x195),MS(0x104),MS(0x5ec),MS(0x344),MS(0x112),MS(0xb4),MS(0x700),MS(0xcda),MS(0x871),MS(0x20f),MS(0x404),MS(0xbcb),MS(0xaa1),MS(0x5fb),MS(0x690),MS(0xbbe),MS(0xa04),MS(0x323),MS(0x189),MS(0x85b),MS(0x967),MS(0xb12),MS(0x895),MS(0xc04),MS(0xd9),MS(0x9f5),MS(0x146),MS(0x279),MS(0xc90),MS(0x753),MS(0x641),MS(0x755),MS(0x914),MS(0xb2a),MS(0x591),MS(0x2fe),MS(0x626),MS(0x2d2),MS(0x194),MS(0xad5),MS(0x82),MS(0xc84),MS(0x6a6),MS(0x164),MS(0x929),MS(0xa2c),MS(0xb5),MS(0xaa6),MS(0xb14),MS(0xce),MS(0x7cf),MS(0x50b),MS(0x3a7),MS(0x430),MS(0x1aa),MS(0x8b1),MS(0x8e9),MS(0x561),MS(0x7ad),MS(0x96c),MS(0x9bd),MS(0x8bd),MS(0x7ca),MS(0x491),MS(0xc8e),MS(0x435),MS(0xdc),MS(0xbe8),MS(0x267),MS(0x11f),MS(0xb08),MS(0x3bb),MS(0x44b),MS(0x40b),MS(0x15b),MS(0x85e),MS(0xae),MS(0x12b),MS(0x66d),MS(0x87f),MS(0x17d),MS(0xc0d),MS(0x5bc),MS(0x843),MS(0xc41),MS(0xa60),MS(0x8d1),MS(0xad3),MS(0xa1c),MS(0xbc1),MS(0xbd4),MS(0x9e2),MS(0x71d),MS(0x2b8),MS(0x2df),MS(0x603),MS(0x253),MS(0x8c3),MS(0x822),MS(0x5a2),MS(0x47c),MS(0x401),MS(0x29f),MS(0x165),MS(0x6be),MS(0x434),MS(0xfc),MS(0x8e8),MS(0xc93),MS(0x315),MS(0x6a2),MS(0xc79),MS(0xb05),MS(0x853),MS(0x552),MS(0x621),MS(0xa2f),MS(0xa2b),MS(0xe6),MS(0x1f7),MS(0x9a3),MS(0xb6f),MS(0xac1),MS(0xadd),MS(0x64e),MS(0x95),MS(0x3a8),MS(0x2d5),MS(0xe8),MS(0x65f),MS(0x87b),MS(0x238),MS(0x8c4),MS(0x1b2),MS(0x9ef),MS(0x11d),MS(0xb13),MS(0x3dc),MS(0x4d3),MS(0x1cd),MS(0xa6f),MS(0x642),MS(0x663),MS(0x107),MS(0xc94),MS(0x52b),MS(0x42b),MS(0x6ee),MS(0xa6d),MS(0x97b),MS(0x33a),MS(0xc14),MS(0x99a),MS(0x5ce),MS(0xb18),MS(0xca9),MS(0x68f),MS(0x6ea),MS(0x73e),MS(0xafc),MS(0x845),MS(0x791),MS(0xb38),MS(0x39a),MS(0xfa),MS(0x90d),MS(0x372),MS(0x637),MS(0xc23),MS(0x80d),MS(0x9a0),MS(0x222),MS(0xcb),MS(0x1ff),MS(0xb10),MS(0x208),MS(0x882),MS(0x438),MS(0x993),MS(0x74e),MS(0x2d3),MS(0x863),MS(0xa34),MS(0xab2),MS(0x703),MS(0x19a),MS(0x231),MS(0x940),MS(0x201),MS(0x12d),MS(0x7a),MS(0x1fc),MS(0x1bd),MS(0x13c),MS(0xb51),MS(0x648),MS(0xbeb),MS(0xc35),MS(0x457),MS(0x94d),MS(0xb61),MS(0xcdb),MS(0xabd),MS(0xbc0),MS(0x3cd),MS(0x6b1),MS(0x9fc),MS(0x9e1),MS(0x8a4),MS(0x7f5),MS(0x79f),MS(0x681),MS(0x288),MS(0xba1),MS(0x3ae),MS(0x3fc),MS(0x58e),MS(0x20e),MS(0x30b),MS(0x8fe),MS(0x303),MS(0x501),MS(0xc8d),MS(0x48f),MS(0x6bc),MS(0x472),MS(0x33e),MS(0x7e3),MS(0xbfe),MS(0xa6a),MS(0x225),MS(0x3c4),MS(0x667),MS(0x788),MS(0x6f3),MS(0xc1f),MS(0x181),MS(0x47a),MS(0x884),MS(0x1de),MS(0xcb6),MS(0xbfb),MS(0x4e6),MS(0x775),MS(0xadc),MS(0x32e),MS(0xaed),MS(0xa95),MS(0x5f8),MS(0x7f),MS(0x4b1),MS(0xa50),MS(0x833),MS(0x6da),MS(0xa5f),MS(0x317),MS(0xab1),MS(0x1f3),MS(0xb2f),MS(0xb96),MS(0x396),MS(0x268),MS(0xc16),MS(0x3b7),MS(0x82d),MS(0x4f4),MS(0x2d6),MS(0x334),MS(0x200),MS(0xc29),MS(0x988),MS(0xbd3),MS(0x40f),MS(0x624),MS(0xc6e),MS(0x5a3),MS(0x370),MS(0x73b),MS(0xb45),MS(0x9a2),MS(0x832),MS(0x738),MS(0x42d),MS(0x353),MS(0xca6),MS(0x210),MS(0xee),MS(0x708),MS(0x9c8),MS(0x4fe),MS(0xcc7),MS(0x596),MS(0x7f3),MS(0x10f),MS(0x67b),MS(0x934),MS(0x27f),MS(0x53f),MS(0x67f),MS(0x280),MS(0xbc2),MS(0x8d9),MS(0x3a9),MS(0x183),MS(0x773),MS(0x29b),MS(0xc7a),MS(0x4a1),MS(0xa72),MS(0xb56),MS(0x2de),MS(0xac4),MS(0xbe9),MS(0x4b2),MS(0x5c7),MS(0x27d),MS(0x2ad),MS(0x57d),MS(0x53c),MS(0x447),MS(0x2fc),MS(0x6a4),MS(0x1fe),MS(0xc7e),MS(0x45d),MS(0xd1),MS(0x521),MS(0x84e),MS(0x44c),MS(0x7ed),MS(0xbe7),MS(0x33d),MS(0x5e0),MS(0x2cf),MS(0x79d),MS(0xa23),MS(0x5ee),MS(0x25d),MS(0x785),MS(0x5f0),MS(0x557),MS(0x35a),MS(0x57e),MS(0x8f),MS(0x2fb),MS(0x3a2),MS(0x8c1),MS(0x87c),MS(0xa91),MS(0x232),MS(0x22e),MS(0x70e),MS(0x35d),MS(0x23a),MS(0x2ac),MS(0x962),MS(0xc48),MS(0x213),MS(0xbe1),MS(0x1c1),MS(0xbb7),MS(0x9af),MS(0xbd6),MS(0x450),MS(0x669),MS(0x1cf),MS(0x7bc),MS(0x701),MS(0x52f),MS(0x5dc),MS(0xaf0),MS(0xc38),MS(0xcbf),MS(0x793),MS(0x666),MS(0x374),MS(0x421),MS(0x928),MS(0x3be),MS(0x79e),MS(0x935),MS(0x45e),MS(0x308),MS(0x658),MS(0x597),MS(0xc9b),MS(0x1bb),MS(0xf0),MS(0x30e),MS(0x30f),MS(0x705),MS(0xbbf),MS(0x36d),MS(0xc19),MS(0x70b),MS(0x98b),MS(0xcdc),MS(0x9d1),MS(0x96b),MS(0x461),MS(0x48e),MS(0x5e5),MS(0x7d7),MS(0x8b2),MS(0xa7c),MS(0x282),MS(0x6cc),MS(0x9a8),MS(0x6b3),MS(0x8a1),MS(0x26f),MS(0x1e7),MS(0x82e),MS(0x5b3),MS(0x530),MS(0x3e6),MS(0x820),MS(0x851),MS(0x1a8),MS(0x5de),MS(0xb39),MS(0x3e4),MS(0x185),MS(0xaf7),MS(0x30c),MS(0x927),MS(0x548),MS(0x116),MS(0x670),MS(0x581),MS(0x63e),MS(0xb0b),MS(0x1a9),MS(0x106),MS(0xc9f),MS(0x870),MS(0xa74),MS(0xbb8),MS(0x34f),MS(0x7de),MS(0xb41),MS(0x35c),MS(0x7ef),MS(0x93b),MS(0x90c),MS(0x1a3),MS(0x6dc),MS(0x44e),MS(0x578),MS(0x744),MS(0x571),MS(0xcd9),MS(0x5cb),MS(0xa65),MS(0x5d3),MS(0xd0),MS(0x855),MS(0xb9e),MS(0x32d),MS(0x389),MS(0x8ad),MS(0xcbd),MS(0x989),MS(0x169),MS(0x7e6),MS(0xec),MS(0x66c),MS(0x1c6),MS(0x6e5),MS(0x723),MS(0xf6),MS(0x126),MS(0x50d),MS(0x7b7),MS(0x706),MS(0xc64),MS(0x891),MS(0xcc4),MS(0x567),MS(0x95d),MS(0x9b),MS(0x325),MS(0xbd),MS(0xc5),MS(0x132),MS(0xaf9),MS(0xc71),MS(0x699),MS(0x805),MS(0xb34),MS(0xa22),MS(0xac0),MS(0x844),MS(0x259),MS(0x56e),MS(0xc6c),MS(0x2f0),MS(0x6f0),MS(0x368),MS(0xc2d),MS(0x134),MS(0x9fa),MS(0xa70),MS(0x445),MS(0x4c3),MS(0x966),MS(0x20b),MS(0x761),MS(0x9fd),MS(0xa93),MS(0x386),MS(0xb64),MS(0xafe),MS(0x228),MS(0x191),MS(0x3c6),MS(0x452),MS(0x949),MS(0x167),MS(0x8c5),MS(0x5d5),MS(0x4e1),MS(0x865),MS(0x56f),MS(0x4c4),MS(0x7cc),MS(0xe0),MS(0x9be),MS(0x590),MS(0x140),MS(0xa08),MS(0x1ed),MS(0x3e1),MS(0x687),MS(0x652),MS(0xa0),MS(0x184),MS(0xcb4),MS(0xc15),MS(0xc72),MS(0xbdc),MS(0x1d7),MS(0xc50),MS(0x789),MS(0x7bf),MS(0xa4a),MS(0x3d1),MS(0xa78),MS(0x783),MS(0x7c0),MS(0x40c),MS(0xb1e),MS(0x89f),MS(0x675),MS(0x901),MS(0xb0),MS(0x2cb),MS(0x9cd),MS(0xa6b),MS(0x7b1),MS(0x6f1),MS(0x23c),MS(0x198),MS(0x66b),MS(0x4ff),MS(0x9e9),MS(0xa21),MS(0xab6),MS(0xc18),MS(0x6b4),MS(0x424),MS(0x6d0),MS(0x64f),MS(0x52d),MS(0xa9a),MS(0x182),MS(0x676),MS(0xa86),MS(0x7cd),MS(0x4a0),MS(0x5b9),MS(0x589),MS(0x523),MS(0xbc5),MS(0xb37),MS(0x4d6),MS(0xb1c),MS(0x716),MS(0x2c4),MS(0x819),MS(0x1bf),MS(0x2ec),MS(0xbe6),MS(0x587),MS(0x6b6),MS(0x174),MS(0xb62),MS(0x634),MS(0x37d),MS(0xc4e),MS(0x76b),MS(0x88f),MS(0x1f6),MS(0x623),MS(0x2b1),MS(0x448),MS(0x683),MS(0x513),MS(0x84),MS(0x156),MS(0x99f),MS(0xb8d),MS(0x938),MS(0x21a),MS(0x745),MS(0x566),MS(0x4b4),MS(0x983),MS(0xbbc),MS(0xb19),MS(0x50c),MS(0x79c),MS(0xa7f),MS(0xa99),MS(0x87d),MS(0x7f1),MS(0x632),MS(0x17a),MS(0x36c),MS(0x7a9),MS(0x4e4),MS(0xb67),MS(0x9d5),MS(0x51b),MS(0x49c),MS(0x2b3),MS(0x263),MS(0xb29),MS(0x21f),MS(0x678),MS(0x395),MS(0x629),MS(0x990),MS(0x3b0),MS(0xc7b),MS(0xc10),MS(0x835),MS(0x4c0),MS(0x684),MS(0x78f),MS(0x412),MS(0x2ea),MS(0x6e4),MS(0x5df),MS(0x661),MS(0x3c7),MS(0x6fd),MS(0x21d),MS(0xbff),MS(0x979),MS(0x19e),MS(0x324),MS(0xc0c),MS(0xb8b),MS(0xc52),MS(0x635),MS(0x96d),MS(0xa28),MS(0x1e4),MS(0x97),MS(0x51f),MS(0x528),MS(0xa9c),MS(0x118),MS(0x748),MS(0x8dd),MS(0x378),MS(0x64d),MS(0x4ba),MS(0xcb1),MS(0x94e),MS(0xbaa),MS(0x8d),MS(0x2c8),MS(0x2c9),MS(0x902),MS(0x409),MS(0x15e),MS(0x7b5),MS(0x1a5),MS(0x75b),MS(0x549),MS(0x514),MS(0x258),MS(0xaf3),MS(0x2e4),MS(0x5b8),MS(0x362),MS(0x6b5),MS(0xca8),MS(0x51e),MS(0x1dd),MS(0x73a),MS(0xaa8),MS(0x36f),MS(0xbdf),MS(0xb5e),MS(0xc1e),MS(0x1f0),MS(0xacc),MS(0x947),MS(0x986),MS(0x645),MS(0x180),MS(0x4cb),MS(0xc21),MS(0x2ca),MS(0x21c),MS(0x2e1),MS(0x437),MS(0x733),MS(0x4bb),MS(0x5be),MS(0x6d8),MS(0xc26),MS(0x480),MS(0xaae),MS(0x51c),MS(0xc2),MS(0xc77),MS(0x246),MS(0xc9d),MS(0xa14),MS(0xb7e),MS(0x5b0),MS(0x8be),MS(0x96a),MS(0x5f6),MS(0x7c8),MS(0xa06),MS(0x3eb),MS(0x250),MS(0x577),MS(0x939),MS(0x28a),MS(0x468),MS(0x202),MS(0x606),MS(0x4f8),MS(0x40d),MS(0x65d),MS(0x305),MS(0xc8a),MS(0x7e2),MS(0x13e),MS(0xba9),MS(0x2b7),MS(0xc67),MS(0xac5),MS(0xb00),MS(0xc43),MS(0xf5),MS(0xbb3),MS(0x2a2),MS(0xb0d),MS(0xab5),MS(0x144),MS(0x5fc),MS(0x380),MS(0xc28),MS(0x2cc),MS(0x98e),MS(0x2b4),MS(0xa5c),MS(0xb54),MS(0x493),MS(0x11a),MS(0x385),MS(0x8b4),MS(0x20a),MS(0x9dd),MS(0x3ff),MS(0x477),MS(0xb98),MS(0xa45),MS(0xcd6),MS(0x4de),MS(0xaa4),MS(0x381),MS(0xcb9),MS(0x709),MS(0x48d),MS(0x807),MS(0x693),MS(0x54c),MS(0xc98),MS(0x9fb),MS(0x5d7),MS(0x80),MS(0x301),MS(0x598),MS(0x2f7),MS(0xbce),MS(0x691),MS(0xa25),MS(0x8c8),MS(0x874),MS(0x916),MS(0xa4f),MS(0xdb),MS(0x383),MS(0x9ae),MS(0x25b),MS(0x654),MS(0xb63),MS(0x21b),MS(0x14c),MS(0x16c),MS(0xa2d),MS(0x532),MS(0x3bc),MS(0x7b3),MS(0x9b2),MS(0x5dd),MS(0x1af),MS(0x56b),MS(0x43c),MS(0x8b6),MS(0x359),MS(0xcb3),MS(0xb9),MS(0xc87),MS(0xc3d),MS(0xa5a),MS(0x490),MS(0x9ad),MS(0x373),MS(0x27b),MS(0xcc1),MS(0xbc8),MS(0xaaf),MS(0x977),MS(0x3d9),MS(0xb23),MS(0x712),MS(0x48b),MS(0x30d),MS(0x923),MS(0xb68),MS(0xb2d),MS(0x7db),MS(0xb3f),MS(0xafd),MS(0x650),MS(0xca2),MS(0x82a),MS(0x5d6),MS(0x463),MS(0xb1f),MS(0x2e3),MS(0x818),MS(0x6fa),MS(0x8dc),MS(0xc56),MS(0xbc4),MS(0x7a1),MS(0x5b5),MS(0xaa0),MS(0x3b3),MS(0x187),MS(0xad0),MS(0xa8a),MS(0x3cb),MS(0x542),MS(0x4a9),MS(0xc96),MS(0xbd8),MS(0x46a),MS(0x14a),MS(0xa3f),MS(0x7e5),MS(0xcb8),MS(0xa63),MS(0x8e0),MS(0x127),MS(0x61c),MS(0x37a),MS(0x322),MS(0x998),MS(0x842),MS(0x639),MS(0x304),MS(0xac2),MS(0xfe),MS(0x243),MS(0x96),MS(0x247),MS(0x8f5),MS(0x81e),MS(0x98c),MS(0x84a),MS(0x157),MS(0x6cd),MS(0x742),MS(0x919),MS(0xa55),MS(0x849),MS(0x2f1),MS(0x30a),MS(0xbfc),MS(0xa11),MS(0xa5),MS(0x1c2),MS(0x815),MS(0x296),MS(0x5a1),MS(0xac6),MS(0x8d2),MS(0x858),MS(0xdf),MS(0x96e),MS(0x97e),MS(0x77f),MS(0x7af),MS(0x120),MS(0xc3c),MS(0x37e),MS(0x7c1),MS(0x1ab),MS(0x234),MS(0xbbb),MS(0x9ce),MS(0x133),MS(0x9e3),MS(0x5fe),MS(0x6d7),MS(0x707),MS(0xb3a),MS(0xc05),MS(0x2c1),MS(0xb07),MS(0xab3),MS(0x55c),MS(0x950),MS(0x607),MS(0xb89),MS(0x800),MS(0xc9c),MS(0x1b3),MS(0x214),MS(0x163),MS(0x1ad),MS(0xad),MS(0x974),MS(0x196),MS(0xc3b),MS(0xafa),MS(0x6ed),MS(0x8f6),MS(0x47d),MS(0x1a4),MS(0x5bf),MS(0x3c1),MS(0x8f3),MS(0x17f),MS(0x15c),MS(0xbfd),MS(0x7d8),MS(0xbd5),MS(0x24c),MS(0xa8e),MS(0x7fd),MS(0xb90),MS(0xada),MS(0x7a3),MS(0x5f9),MS(0x398),MS(0x31d),MS(0x8e3),MS(0x702),MS(0x31f),MS(0x5c6),MS(0x82f),MS(0x90a),MS(0x804),MS(0x8ef),MS(0x99),MS(0x48a),MS(0x674),MS(0x7eb),MS(0x827),MS(0x5e3),MS(0x339),MS(0x803),MS(0x912),MS(0xb30),MS(0xc9),MS(0x4bf),MS(0x9cc),MS(0xc33),MS(0x391),MS(0x8c9),MS(0x672),MS(0x680),MS(0x148),MS(0xa59),MS(0xc0a),MS(0xba2),MS(0xacb),MS(0xa71),MS(0xf1),MS(0x861),MS(0x2e2),MS(0x91),MS(0x68b),MS(0xc0),MS(0x7c5),MS(0x4b9),MS(0x836),MS(0x297),MS(0x23f),MS(0xbc9),MS(0x4d8),MS(0x230),MS(0x155),MS(0x45a),MS(0x757),MS(0x495),MS(0x9d3),MS(0x99b),MS(0xbf3),MS(0x9d),MS(0xcaf),MS(0x28f),MS(0xac9),MS(0x963),MS(0xa69),MS(0xa9d),MS(0x721),MS(0xa49),MS(0x486),MS(0x4b5),MS(0x35f),MS(0xd6),MS(0xa5e),MS(0x568),MS(0xab4),MS(0x38a),MS(0x689),MS(0x77c),MS(0x586),MS(0x4a3),MS(0xb33),MS(0x794),MS(0x613),MS(0x951),MS(0xc4a),MS(0xcbb),MS(0x327),MS(0x2da),MS(0x8a5),MS(0x415),MS(0x7f4),MS(0x8cf),MS(0xa30),MS(0x14f),MS(0xbba),MS(0x797),MS(0x4a4),MS(0x60f),MS(0x8e7),MS(0x688),MS(0x5c0),MS(0x7ab),MS(0xb0e),MS(0x811),MS(0x1a1),MS(0x293),MS(0x970),MS(0x3b2),MS(0xa89),MS(0x644),MS(0x759),MS(0xba4),MS(0x62b),MS(0x2f2),MS(0x1ce),MS(0x562),MS(0x38e),MS(0x3f7),MS(0x8f9),MS(0x888),MS(0x6f2),MS(0x6c4),MS(0x2a1),MS(0x41c),MS(0xc3),MS(0x655),MS(0x25f),MS(0x143),MS(0x9ec),MS(0x29e),MS(0x5d0),MS(0x8e6),MS(0xa4e),MS(0xfd),MS(0x61f),MS(0x5ae),MS(0x9d9),MS(0x543),MS(0x718),MS(0x734),MS(0xb81),MS(0x68c),MS(0xc34),MS(0x752),MS(0x6df),MS(0xa1f),MS(0xb8c),MS(0xbb4),MS(0x725),MS(0x6cf),MS(0x5a9),MS(0xc7f),MS(0x78d),MS(0x153),MS(0x830),MS(0xb4d),MS(0x70a),MS(0x7c2),MS(0x237),MS(0x129),MS(0x26a),MS(0xc40),MS(0x59d),MS(0x4e8),MS(0x4b3),MS(0x612),MS(0x6ac),MS(0x39b),MS(0xbf7),MS(0xbd0),MS(0xae0),MS(0x2b6),MS(0x517),MS(0xb27),MS(0x551),MS(0x5d9),MS(0xbcd),MS(0x3c5),MS(0xb9f),MS(0x62a),MS(0x1a0),MS(0xbc7),MS(0x442),MS(0x560),MS(0xbb6),MS(0x425),MS(0x9a1),MS(0xc4f),MS(0x86d),MS(0x7c7),MS(0xbac),MS(0x918),MS(0x826),MS(0x511),MS(0xc75),MS(0x86b),MS(0x319),MS(0x4d5),MS(0x518),MS(0x7e0),MS(0x535),MS(0x410),MS(0xac3),MS(0x458),MS(0xb9d),MS(0x1fd),MS(0xa18),MS(0x211),MS(0x4d7),MS(0x9c7),MS(0x937),MS(0xe5),MS(0x97a),MS(0x137),MS(0x390),MS(0xca5),MS(0xa13),MS(0x115),MS(0x26e),MS(0xb46),MS(0x76c),MS(0xc49),MS(0x4dd),MS(0x475),MS(0xb69),MS(0x123),MS(0xbe2),MS(0x8fb),MS(0x45b),MS(0x659),MS(0xb22),MS(0xa8c),MS(0x3df),MS(0x3b6),MS(0x4f3),MS(0x8eb),MS(0x76f),MS(0x2c3),MS(0x899),MS(0x17e),MS(0x656),MS(0x883),MS(0xcac),MS(0x605),MS(0x24d),MS(0x8f4),MS(0x11c),MS(0x384),MS(0x88a),MS(0xc1c),MS(0x582),MS(0x3d3),MS(0x717),MS(0xa1a),MS(0x3d6),MS(0x7e4),MS(0xce4),MS(0xa44),MS(0x8b8),MS(0x1f5),MS(0x774),MS(0x72f),MS(0xa64),MS(0x92d),MS(0x516),MS(0x6c6),MS(0x58c),MS(0x94),MS(0x7ac),MS(0x1d3),MS(0xcd5),MS(0x8e5),MS(0x68d),MS(0x564),MS(0x5f7),MS(0x6fc),MS(0xb4e),MS(0x299),MS(0x766),MS(0x5a4),MS(0x42f),MS(0x765),MS(0x78a),MS(0x3ac),MS(0x917),MS(0xc39),MS(0x45c),MS(0xc1d),MS(0xa10),MS(0x9b4),MS(0x620),MS(0x903),MS(0x838),MS(0x84f),MS(0x7ae),MS(0x117),MS(0x90f),MS(0x8d7),MS(0x2a5),MS(0x8e1),MS(0xb17),MS(0x22b),MS(0x287),MS(0xaeb),MS(0x889),MS(0x419),MS(0x397),MS(0x881),MS(0xcb0),MS(0x326),MS(0x5a5),MS(0x6b2),MS(0xb01),MS(0x778),MS(0x4a8),MS(0x277),MS(0xa42),MS(0x456),MS(0x679),MS(0xcb5),MS(0x3a3),MS(0x795),MS(0x8af),MS(0xe4),MS(0x284),MS(0x7a2),MS(0x710),MS(0xcad),MS(0x7c),MS(0x9c5),MS(0x570),MS(0x51d),MS(0xa31),MS(0xa32),MS(0x12c),MS(0x76a),MS(0x1f4),MS(0x9a4),MS(0xbdd),MS(0x7a5),MS(0x93),MS(0x787),MS(0x762),MS(0x95a),MS(0x99d),MS(0x88d),MS(0x78e),MS(0x54a),MS(0x8bc),MS(0x479),MS(0x6c8),MS(0x2db),MS(0xc63),MS(0x1f2),MS(0xcd),MS(0xc24),MS(0x4dc),MS(0x40a),MS(0x29a),MS(0x1c5),MS(0xb83),MS(0x8a6),MS(0x9f3),MS(0x62d),MS(0xab7),MS(0x2ab),MS(0x2f3),MS(0x13b),MS(0x3ce),MS(0x492),MS(0x9b3),MS(0x60d),MS(0x65a),MS(0x446),MS(0x98d),MS(0xa7d),MS(0x6c7),MS(0xbef),MS(0xc30),MS(0x6c0),MS(0x796),MS(0x3ef),MS(0x5ac),MS(0x741),MS(0x6a0),MS(0xb77),MS(0xc61),MS(0xa66),MS(0x3c3),MS(0x5fd),MS(0x71b),MS(0x37c),MS(0x627),MS(0x199),MS(0xb0f),MS(0x987),MS(0xb4b),MS(0x4e2),MS(0x83d),MS(0xa0f),MS(0x110),MS(0x522),MS(0x417),MS(0x9bc),MS(0xc4),MS(0x2c2),MS(0x3d8),MS(0xb35),MS(0x79a),MS(0x828),MS(0xbab),MS(0x933),MS(0xbd1),MS(0x8fc),MS(0xc00),MS(0x121),MS(0x138),MS(0x136),MS(0xcba),MS(0x1a6),MS(0x754),MS(0x27c),MS(0x27a),MS(0x664),MS(0x32f),MS(0xa97),MS(0x3fe),MS(0x780),MS(0xbaf),MS(0x75a),MS(0x432),MS(0x58f),MS(0xa47),MS(0xbcc),MS(0xb91),MS(0xac8),MS(0x371),MS(0xad4),MS(0x1db),MS(0x82c),MS(0x503),MS(0x149),MS(0x74d),MS(0x8f7),MS(0x16d),MS(0x320),MS(0x631),MS(0xb1),MS(0x585),MS(0xbc6),MS(0xcc),MS(0x831),MS(0x441),MS(0x39e),MS(0x2ff),MS(0x80f),MS(0x8d3),MS(0xb57),MS(0xcc0),MS(0x3cf),MS(0x660),MS(0x356),MS(0xc74),MS(0x5eb),MS(0x7e),MS(0xb49),MS(0x154),MS(0xba),MS(0x781),MS(0xdd),MS(0x4df),MS(0x186),MS(0x981),MS(0x274),MS(0x911),MS(0x2a9),MS(0x52c),MS(0x823),MS(0x8ba),MS(0x5c8),MS(0x9b0),MS(0x529),MS(0x9e0),MS(0xabc),MS(0x3de),MS(0x255),MS(0x71f),MS(0x278),MS(0x897),MS(0x6b8),MS(0x890),MS(0x70f),MS(0x162),MS(0xf9),MS(0x233),MS(0x906),MS(0xbf1),MS(0x8cc),MS(0x433),MS(0x729),MS(0x736),MS(0x16b),MS(0x21e),MS(0x3b5),MS(0x338),MS(0x848),MS(0x340),MS(0x92e),MS(0x7ce),MS(0x473),MS(0xa90),MS(0x6d4),MS(0xcb2),MS(0xaff),MS(0x2ee),MS(0x948),MS(0x76d),MS(0x6a1),MS(0x61e),MS(0xb66),MS(0xa02),MS(0x4ca),MS(0xc31),MS(0xc32),MS(0xcf),MS(0x91d),MS(0x6f9),MS(0x847),MS(0x53a),MS(0xa62),MS(0xc70),MS(0x524),MS(0x467),MS(0x4d0),MS(0x32c),MS(0x95c),MS(0xcd3),MS(0x5c2),MS(0x7b),MS(0x9ff),MS(0x354),MS(0x408),MS(0x4a2),MS(0x12f),MS(0x9f8),MS(0x77d),MS(0x50f),MS(0xcd0),MS(0x90b),MS(0x2f5),MS(0x352),MS(0x63a),MS(0x7d),MS(0xba3),MS(0x4da),MS(0x6ab),MS(0x223),MS(0xb73),MS(0x7d3),MS(0xb7a),MS(0xa1d),MS(0x772),MS(0x75c),MS(0x4aa),MS(0x756),MS(0x349),MS(0x405),MS(0x135),MS(0x8a2),MS(0xc76),MS(0xc78),MS(0x6a5),MS(0x254),MS(0xd5),MS(0xbb2),MS(0xbd2),MS(0x7c4),MS(0x49e),MS(0x109),MS(0xadb),MS(0xbd7),MS(0x364),MS(0xb5a),MS(0x75e),MS(0xba0),MS(0x37f),MS(0xa52),MS(0xc86),MS(0x5c3),MS(0x98),MS(0x8ed),MS(0x500),MS(0xab8),MS(0xa58),MS(0xcd7),MS(0xbe0),MS(0xa20),MS(0x9e8),MS(0x375),MS(0xc60),MS(0xabf),MS(0x8cb),MS(0x43f),MS(0x99c),MS(0x204),MS(0x71c),MS(0x24e),MS(0xc6b),MS(0x59a),MS(0x747),MS(0xa2e),MS(0x6de),MS(0x817),MS(0xb7c),MS(0x9dc),MS(0x583),MS(0xcbe),MS(0x4c7),MS(0x76e),MS(0x221),MS(0x1b4),MS(0x636),MS(0xa8d),MS(0xcab),MS(0x959),MS(0xa7e),MS(0x67a),MS(0x4a6),MS(0x2a4),MS(0xb6a),MS(0x4ec),MS(0x850),MS(0x4d1),MS(0x105),MS(0x95f),MS(0xbbd),MS(0x449),MS(0x6b9),MS(0x7ff),MS(0xa39),MS(0x846),MS(0x9c),MS(0x3c9),MS(0xbee),MS(0xae3),MS(0xa53),MS(0x695),MS(0x1f8),MS(0xc6d),MS(0x1bc),MS(0x887),MS(0x955),MS(0x28d),MS(0xa3c),MS(0x6bb),MS(0x170),MS(0xbea),MS(0x55b),MS(0xc5a),MS(0xb09),MS(0x49a),MS(0x94c),MS(0x8a),MS(0x3a5),MS(0x38b),MS(0xc46),MS(0x9f0),MS(0x5a7),MS(0x3ea),MS(0x166),MS(0x1b6),MS(0x696),MS(0x722),MS(0xe2),MS(0xbcf),MS(0xff),MS(0x52e),MS(0x44f),MS(0x1f1),MS(0xb87),MS(0x252),MS(0x310),MS(0x8b5),MS(0x55d),MS(0x355),MS(0x294),MS(0xcc3),MS(0x3f3),MS(0x1e1),MS(0x46d),MS(0x7a4),MS(0x558),MS(0x4e3),MS(0xca7),MS(0x808),MS(0x64c),MS(0xb53),MS(0x86e),MS(0x6d6),MS(0x32a),MS(0xa73),MS(0x483),MS(0xaa3),MS(0xbf),MS(0xc5e),MS(0xc73),MS(0x66f),MS(0x9ab),MS(0xb92),MS(0x15f),MS(0x31e),MS(0x720),MS(0x173),MS(0xae8),MS(0x1a2),MS(0xb9b),MS(0x6fb),MS(0x85a),MS(0xa0c),MS(0x5e4),MS(0x3e8),MS(0x84b),MS(0xce2),MS(0x559),MS(0x2d9),MS(0x60b),MS(0x3cc),MS(0x3c8),MS(0x81c),MS(0x6e9),MS(0x312),MS(0x69a),MS(0xc5b),MS(0x894),MS(0x25c),MS(0x59f),MS(0x38c),MS(0x1df),MS(0x266),MS(0x8b0),MS(0x5d8),MS(0x1e8),MS(0x5f5),MS(0x74a),MS(0x619),MS(0xae7),MS(0x478),MS(0xa6c),MS(0x6b7),MS(0x55a),MS(0x329),MS(0x1da),MS(0x5c4),MS(0x60c),MS(0x657),MS(0x4f6),MS(0xce1),MS(0x423),MS(0x240),MS(0x496),MS(0x242),MS(0x470),MS(0xc02),MS(0xa35),MS(0x610),MS(0xc80),MS(0xbf5),MS(0x878),MS(0x726),MS(0x2e7),MS(0x347),MS(0x547),MS(0x130),MS(0xb20),MS(0x7fc),MS(0x936),MS(0x649),MS(0x72d),MS(0x732),MS(0x75f),MS(0x9cb),MS(0x508),MS(0xb93),MS(0x18c),MS(0x414),MS(0x806),MS(0x3b4),MS(0x540),MS(0x235),MS(0x295),MS(0x33f),MS(0xb74),MS(0x2be),MS(0x643),MS(0x8ff),MS(0x64b),MS(0x6d5),MS(0x93f),MS(0x87a),MS(0x2d8),MS(0x6af),MS(0x64a),MS(0x8fa),MS(0x5ff),MS(0x686),MS(0x63c),MS(0x575),MS(0xbe),MS(0x1c7),MS(0x9b6),MS(0xb60),MS(0xca0),MS(0x550),MS(0xa19),MS(0x8e4),MS(0x1ae),MS(0xc82),MS(0xc27),MS(0x69e),MS(0x898),MS(0x546),MS(0x3a6),MS(0x49d),MS(0xa05),MS(0x13a),MS(0x812),MS(0xc7d),MS(0xbf4),MS(0x145),MS(0x1e9),MS(0x872),MS(0x730),MS(0x94b),MS(0x363),MS(0x2e8),MS(0x651),MS(0xcae),MS(0x342),MS(0x57b),MS(0x158),MS(0x89),MS(0x3f0),MS(0xa12),MS(0x5af),MS(0x394),MS(0x59c),MS(0x3f8),MS(0xaec),MS(0x1c4),MS(0x272),MS(0x4ae),MS(0x31b),MS(0x54d),MS(0xb43),MS(0x35b),MS(0x9eb),MS(0x316),MS(0x9a9),MS(0x782),MS(0xb75),MS(0x682),MS(0x9da),MS(0x7b2),MS(0x81d),MS(0x10a),MS(0xeb),MS(0x769),MS(0x87e),MS(0x4db),MS(0xaac),MS(0x3ad),MS(0xc20),MS(0x476),MS(0x93c),MS(0x42a),MS(0x614),MS(0x244),MS(0x8a3),MS(0x647),MS(0x6ef),MS(0x751),MS(0xb3b),MS(0xb1b),MS(0x8df),MS(0x292),MS(0x37b),MS(0x48c),MS(0x9f6),MS(0x188),MS(0xaab),MS(0xb1d),MS(0x554),MS(0x942),MS(0xbb1),MS(0x6c1),MS(0x673),MS(0xa0e),MS(0x69b),MS(0x15d),MS(0x7d1),MS(0x9aa),MS(0x1ac),MS(0x411),MS(0x361),MS(0x8aa),MS(0xb21),MS(0x220),MS(0x499),MS(0x1fb),MS(0x73c),MS(0x82b),MS(0x7b9),MS(0xaf),MS(0x341),MS(0xc9a),MS(0xe7),MS(0x464),MS(0x74f),MS(0x29c),MS(0xc2f),MS(0x147),MS(0xad7),MS(0x69f),MS(0xb86),MS(0x7a0),MS(0x366),MS(0x88b),MS(0x2f4),MS(0x427),MS(0x922),MS(0x525),MS(0x14b),MS(0x5ea),MS(0x273),MS(0x58b),MS(0x53e),MS(0x488),MS(0x25e),MS(0x8c6),MS(0x1ea),MS(0x245),MS(0xb1a),MS(0x24b),MS(0x88c),MS(0xb76),MS(0x50a),MS(0x217),MS(0x964),MS(0xa88),MS(0xc07),MS(0xc36),MS(0x2ae),MS(0x1d1),MS(0xc83),MS(0x2dd),MS(0xc13),MS(0x556),MS(0xb2),MS(0x6ec),MS(0x219),MS(0xa40),MS(0xba8),MS(0x6dd),MS(0x70c),MS(0x56d),MS(0xf4),MS(0x290),MS(0x973),MS(0x93a),MS(0x593),MS(0x638),MS(0x9f4),MS(0x439),MS(0xa54),MS(0x20d),MS(0x4a5),MS(0xb03),MS(0x85d),MS(0xc4c),MS(0x207),MS(0x961),MS(0x440),MS(0x11e),MS(0x7d6),MS(0x7e8),MS(0x8e2),MS(0xb24),MS(0x3e9),MS(0x2c6),MS(0x975),MS(0xc45),MS(0xa00),MS(0x4f2),MS(0x332),MS(0x5db),MS(0x8c2),MS(0x1c9),MS(0x91f),MS(0xa3e),MS(0x9ed),MS(0x93e),MS(0x960),MS(0xc17),MS(0x5e9),MS(0xa4),MS(0x4fa),MS(0xb7b),MS(0x7d5),MS(0x770),MS(0x2bd),MS(0x8c0),MS(0x799),MS(0x840),MS(0xd8),MS(0xb6b),MS(0xb4f),MS(0x86c),MS(0x599),MS(0x5b4),MS(0x7c9),MS(0xe3),MS(0xbe5),MS(0x41d),MS(0x286),MS(0xcde),MS(0x809),MS(0x1e2),MS(0xae4),MS(0xa3a),MS(0xab9),MS(0x4b0),MS(0x4f7),MS(0x74c),MS(0x80e),MS(0x59e),MS(0x4cd),MS(0x9c3),MS(0xb3),MS(0x92f),MS(0x3c0),MS(0x5e7),MS(0x821),MS(0xa51),MS(0xb55),MS(0x6a9),MS(0xb31),MS(0xad8),MS(0xa83),MS(0xadf),MS(0x73d),MS(0x8ec),MS(0xa4c),MS(0x931),MS(0x1b8),MS(0x9ba),MS(0x941),MS(0x7be),MS(0x239),MS(0x63b),MS(0x209),MS(0xbd9),MS(0x7ba),MS(0xc6a),MS(0x1ba),MS(0x9a6),MS(0x5cd),MS(0x2fa),MS(0xca3),MS(0xb28),MS(0x569),MS(0xa92),MS(0x864),MS(0x15a),MS(0x9a),MS(0x175),MS(0x3da),MS(0x982),MS(0x2fd),MS(0xcc5),MS(0x6f5),MS(0x4ee),MS(0xab0),MS(0xb0c),MS(0x6e1),MS(0x896),MS(0x731),MS(0x6bf),MS(0x618),MS(0x576),MS(0x44d),MS(0x14e),MS(0x4f1),MS(0x6d9),MS(0x8d4),MS(0x8b9),MS(0x985),MS(0x42c),MS(0x698),MS(0x66e),MS(0x74b),MS(0x6b0),MS(0x72a),MS(0x1d6),MS(0x866),MS(0x2ce),MS(0x6bd),MS(0xb32),MS(0x810),MS(0xa46),MS(0xc1a),MS(0x12a),MS(0x18e),MS(0x63d),MS(0x4e9),MS(0xb25),MS(0x954),MS(0x346),MS(0x4fc),MS(0x507),MS(0x261),MS(0xa96),MS(0x58a),MS(0xde),MS(0x351),MS(0xea),MS(0x869),MS(0x114),MS(0x18f),MS(0x13f),MS(0x4ac),MS(0xa09),MS(0x602),MS(0x2e0),MS(0xce5),MS(0x868),MS(0x382),MS(0x98a),MS(0xa6),MS(0x192),MS(0xc03),MS(0x57a),MS(0xbed),MS(0x3a4),MS(0x504),MS(0x763),MS(0x241),MS(0x92),MS(0x7bb),MS(0x5c1),MS(0x131),MS(0x519),MS(0x2e9),MS(0x1ee),MS(0xa5d),MS(0xc44),MS(0xc6),MS(0xb9a),MS(0x29d),MS(0xb72),MS(0x49b),MS(0xc0e),MS(0xb8),MS(0x509),MS(0x6f7),MS(0xca1),MS(0x67e),MS(0x527),MS(0x531),MS(0x72b),MS(0xb5b),MS(0x880),MS(0x358),MS(0x9e6),MS(0x9f),MS(0x19b),MS(0xc55),MS(0x57f),MS(0xbfa),MS(0x179),MS(0x5b6),MS(0xace),MS(0x2f8),MS(0x22f),MS(0x85),MS(0x336),MS(0x97f),MS(0x6a8),MS(0xda),MS(0x6f8),MS(0x7fb),MS(0x70d),MS(0x7a6),MS(0x17c),MS(0xb99),MS(0x462),MS(0xb2e),MS(0x5a0),MS(0x768),MS(0x86),MS(0xf7),MS(0xcaa),MS(0x2ed),MS(0x43a),MS(0xc8c),MS(0xa15),MS(0xd3),MS(0xacf),MS(0x860),MS(0x4ef),MS(0x8ea),MS(0x28e),MS(0x595),MS(0x3a0),MS(0x71e),MS(0x65e),MS(0xcbc),MS(0x55f),MS(0x790),MS(0xc08),MS(0x798),MS(0x1dc),MS(0x671),MS(0x4ea),MS(0x802),MS(0x7fa),MS(0xb3d),MS(0xaf2),MS(0x9d4),MS(0xc97),MS(0x51a),MS(0x2d0),MS(0x160),MS(0x633),MS(0x980),MS(0x61a),MS(0x345),MS(0x574),MS(0xb50),MS(0x83e),MS(0x711),MS(0x78),MS(0xc66),MS(0x8ee),MS(0xb42),MS(0x52a),MS(0x11b),MS(0x2a7),MS(0x81f),MS(0x215),MS(0x692),MS(0x4fb),MS(0x83),MS(0x9b1),MS(0x8a8),MS(0xb97),MS(0x8c7),MS(0x343),MS(0x92b),MS(0x839),MS(0x2b2),MS(0x9ac),MS(0x89d),MS(0x932),MS(0x6ad),MS(0xbb9),MS(0x2ba),MS(0x2bb),MS(0x978),MS(0x4f9),MS(0x7ee),MS(0x77e),MS(0xc42),MS(0x976),MS(0x739),MS(0x953),MS(0x9b8),MS(0x86f),MS(0x489),MS(0xabe),MS(0xbf0),MS(0x1b9),MS(0x318),MS(0x142),MS(0x6e7),MS(0x26b),MS(0x8f8),MS(0x9e4),MS(0xb3e),MS(0xc57),MS(0xa16),MS(0x9ca),MS(0x7f2),MS(0x1ec),MS(0xa1),MS(0x224),MS(0x5f2),MS(0x59b),MS(0x968),MS(0xa77),MS(0x45f),MS(0xb4c),MS(0x2c5),MS(0xaa7),MS(0xaa2),MS(0xcd8),MS(0x53d),MS(0x365),MS(0xc8f),MS(0x54b),MS(0x4be),MS(0xa81),MS(0x1cc),MS(0xc7c),MS(0xa8f),MS(0x248),MS(0x4c5),MS(0x151),MS(0x885),MS(0x78c),MS(0xa9),MS(0x526),MS(0x393),MS(0xb65),MS(0xcd2),MS(0x101),MS(0x3f9),MS(0xae1),MS(0x124),MS(0x8a7),MS(0x388),MS(0x18d),MS(0x26c),MS(0xb5c),MS(0x77b),MS(0xc4d),MS(0xc01),MS(0xd7),MS(0x406),MS(0xac),MS(0x728),MS(0x65b),MS(0x38f),MS(0x80a),MS(0xb84),MS(0x39f),MS(0x9f1),MS(0xa2),MS(0x24a),MS(0xccf),MS(0xc8b),MS(0x178),MS(0xc92),MS(0x910),MS(0x38d),MS(0x2a8),MS(0xa0a),MS(0x9db),MS(0x909),MS(0xc2b),MS(0x34b),MS(0x1ef),MS(0x84c),MS(0x89a),MS(0x466),MS(0x876),MS(0xa17),MS(0x328),MS(0x5aa),MS(0x764),MS(0xa4d),MS(0xcb7),MS(0x4af),MS(0x454),MS(0x600),MS(0x4b6),MS(0x65c),MS(0x89c),MS(0x584),MS(0x150),MS(0x7ec),MS(0x724),MS(0xbe4),MS(0x22c),MS(0x98f),MS(0xa79),MS(0x5a6),MS(0x4e5),MS(0x460),MS(0x42e),MS(0xa9b),MS(0x83f),MS(0xa41),MS(0x16a),MS(0x879),MS(0xaf1),MS(0xae2),MS(0xaf8),MS(0x481),MS(0x3f5),MS(0x276),MS(0x8d8),MS(0x7c3),MS(0x4e0),MS(0x984),MS(0x857),MS(0xb95),MS(0x212),MS(0xd2),MS(0x350),MS(0x9a5),MS(0x854),MS(0x536),MS(0xab),MS(0x2f9),MS(0xb15),MS(0xbb),MS(0x139),MS(0x5ad),MS(0xccb),MS(0xa37),MS(0x7f7),MS(0x859),MS(0x4bd),MS(0x776),MS(0x168),MS(0xa1b),MS(0x72c),MS(0x7a7),MS(0x758),MS(0x7dc),MS(0x2d7),MS(0x73f),MS(0x945),MS(0x841),MS(0xa43),MS(0x5f1),MS(0x957),MS(0x426),MS(0x367),MS(0xc65),MS(0x946),MS(0x767),MS(0x5ed),MS(0x4fd),MS(0xa3b),MS(0x176),MS(0x12e),MS(0xb2b),MS(0xbf6),MS(0x10c),MS(0x662),MS(0xc5d),MS(0x4f0),MS(0x330),MS(0x852),MS(0x5bd),MS(0x190),MS(0xcc2),MS(0x784),MS(0xa7),MS(0x7a8),MS(0xa80),MS(0x5ef),MS(0x921),MS(0x141),MS(0xc2e),MS(0x6aa),MS(0x474),MS(0x484),MS(0x487),MS(0x9b5),MS(0x7cb),MS(0x877),MS(0x873),MS(0x47e),MS(0x5ab),MS(0x8ca),MS(0x3bd),MS(0xaf5),MS(0x9d6),MS(0x125),MS(0x4c9),MS(0xb59),MS(0x6fe),MS(0x592),MS(0x5b7),MS(0x925),MS(0xf8),MS(0x553),MS(0xcdd),MS(0xc06),MS(0x601),MS(0x995),MS(0x9d2),MS(0x7f0),MS(0x3f1),MS(0xaef),MS(0x465),MS(0xc3e),MS(0x9c9),MS(0xb88),MS(0xa9e),MS(0xa7a),MS(0x3db),MS(0x128),MS(0x792),MS(0x7d0),MS(0xce3),MS(0x8f2),MS(0xad6),MS(0x43e),MS(0x333),MS(0x28c),MS(0x609),MS(0x617),MS(0x103),MS(0x971),MS(0x520),MS(0x8b),MS(0x541),MS(0x20c),MS(0x5a8),MS(0x46c),MS(0x6cb),MS(0x5f4),MS(0x9fe),MS(0x79),MS(0x81),MS(0x5c5),MS(0x307),MS(0x735),MS(0xbde),MS(0x694),MS(0x89e),MS(0x893),MS(0xacd),MS(0x4c8),MS(0xcca),MS(0x3f2),MS(0x777),MS(0x6ff),MS(0x403),MS(0xb52),MS(0x958),MS(0xc91),MS(0xbf2),MS(0xc3a),MS(0xc2a),MS(0x348),MS(0x3ca),MS(0x920),MS(0x68e),MS(0x1b7),MS(0x459),MS(0x8cd),MS(0x816),MS(0x6e0),MS(0xa0b),MS(0x825),MS(0x62c),MS(0x544),MS(0xb02),MS(0xa5b),MS(0x4b7),MS(0x539),MS(0xaba),MS(0x90),MS(0x588),MS(0x49f),MS(0x5ba),MS(0x34d),MS(0x5b2),MS(0xc68),MS(0x400),MS(0x9c6),MS(0xaa9),MS(0x9cf),MS(0x972),MS(0x779),MS(0xe9),MS(0x36b),MS(0x8c),MS(0x23d),MS(0x956),MS(0x3bf),MS(0xbb0),MS(0x7b0),MS(0x886),MS(0x1c8),MS(0x969),MS(0xcd1),MS(0x54e),MS(0x7aa),MS(0xa9f),MS(0x4d9),MS(0x4d2),MS(0xaf4),MS(0xc5c),MS(0xae5),MS(0xb8f),MS(0x668),MS(0x7f6),MS(0x8d6),MS(0xfb),MS(0xb70),MS(0xb8e),MS(0x3b1),MS(0xc59),MS(0xc0f),MS(0xc54),MS(0x494),MS(0x834),MS(0xaaa),MS(0x453),MS(0xb80),MS(0x5b1),MS(0x16f),MS(0x3dd),MS(0xade),MS(0xa03),MS(0xb7f),MS(0x1c0),MS(0x94a),MS(0x6db),MS(0x6ba),MS(0x824),MS(0xac7),MS(0x6eb),MS(0x760),MS(0xb5d),MS(0x22d),MS(0x31c),MS(0x2bf),MS(0x579),MS(0x534),MS(0x8a0),MS(0x714),MS(0x418),MS(0x3aa),MS(0x46b),MS(0x357),MS(0x431),MS(0xa2a),MS(0x18b),MS(0xb06),MS(0x102),MS(0x1b0),MS(0x23e),MS(0x1f9),MS(0xc3f),MS(0x62f),MS(0x4ad),MS(0x19c),MS(0x743),MS(0x7f8),MS(0x2ef),MS(0x83c),MS(0x62e),MS(0x908),MS(0x5e1),MS(0x7e7),MS(0xbae),MS(0x813),MS(0x91c),MS(0x719),MS(0x604),MS(0x6e3),MS(0xc69),MS(0x7bd),MS(0x6c3),MS(0x952),MS(0xa61),MS(0x56c),MS(0x5cc),MS(0x256),MS(0xaca),MS(0xc6f),MS(0xd4),MS(0xcc9),MS(0x19d),MS(0x5d2),MS(0x1e6),MS(0x875),MS(0x50e),MS(0x3ed),MS(0x9bb),MS(0xa7b),MS(0xae6),MS(0x2af),MS(0x506),MS(0xb6d),MS(0x594),MS(0x3d0),MS(0xb48),MS(0x4d4),MS(0x2a0),MS(0x260),MS(0x420),MS(0x321),MS(0x77a),MS(0x1a7),MS(0xa8),MS(0xbdb),MS(0x61d),MS(0x57c),MS(0x81a),MS(0x46e),MS(0x81b),MS(0xb78),MS(0x625),MS(0x257),MS(0x2eb),MS(0x35e),MS(0x3fd),MS(0xc89),MS(0xa56),MS(0xad2),MS(0x22a),MS(0x771),MS(0x264),MS(0x41b),MS(0x285),MS(0x533),MS(0x41e),MS(0xb04),MS(0x314),MS(0x36e),MS(0xbb5),MS(0x2dc),MS(0x2d4),MS(0x41a),MS(0x1e5),MS(0x2b9),MS(0x9de),MS(0xc8),MS(0x5bb),MS(0x392),MS(0x862),MS(0x1b5),MS(0xbf8),MS(0xc09),MS(0x99e),MS(0xaf6),MS(0x715),MS(0xb8a),MS(0x913),MS(0x271),MS(0x580),MS(0xc9e),MS(0xc0b),MS(0x43b),MS(0xcd4),MS(0x6ae),MS(0x39c),MS(0xae9),MS(0x34e),MS(0x7dd),MS(0x206),MS(0xc58),MS(0x79b),MS(0x72e),MS(0xb6),MS(0x4cc),MS(0x53b),MS(0x750),MS(0xa76),MS(0x281),MS(0x69d),MS(0xb94),MS(0x91e),MS(0x7c6),MS(0x573),MS(0xb5f),MS(0x8ae),MS(0x275),MS(0x311),MS(0x9e5),MS(0xcc8),MS(0x13d),MS(0x6f4),MS(0x538),MS(0x17b),MS(0xb26),MS(0x216),MS(0xbc),MS(0x2a6),MS(0x7ea),MS(0x5e8),MS(0x95e),MS(0xa01),MS(0x1eb),MS(0xc53),MS(0xc2c),MS(0xb82),MS(0x1fa),MS(0x10d),MS(0x379),MS(0x56a),MS(0x67c),MS(0x193),MS(0x4cf),MS(0x498),MS(0x159),MS(0xad9),MS(0xa6e),MS(0x892),MS(0xc7),MS(0x3d2),MS(0x97c),MS(0x100),MS(0x407),MS(0x8d0),MS(0xccc),MS(0x7e9),MS(0xc11),MS(0x3ba),MS(0xc22),MS(0x4ce),MS(0x8bf),MS(0x122),MS(0x376),MS(0xafb),MS(0x740),MS(0x9ee),MS(0xf3),MS(0xa94),MS(0x92c),MS(0x54f),MS(0x3fb),MS(0x907),MS(0x87),MS(0xba6),MS(0x944),MS(0x9c4),MS(0x9b7),MS(0x3e3),MS(0x3e2),MS(0x80c),MS(0x61b),MS(0xa3d),MS(0x36a),MS(0x992),MS(0x6e8),MS(0x10b),MS(0x8a9),MS(0x93d),MS(0x2a3),MS(0x2c0),MS(0xa29),MS(0xa68),MS(0xc37),MS(0x25a),MS(0x68a),MS(0xa85),MS(0x8b7),MS(0x510),MS(0x7b6),MS(0x512),MS(0x6c9),MS(0x7d2),MS(0x399),MS(0x43d),MS(0x55e),MS(0x34c),MS(0xaa5),MS(0x289)];return nP=function(){return MW;},nP();}setTimeout(()=>{},0x7d0);var nS=new Date(),nW=null;alert=function(){},console[n2(0x738)]=console[n2(0xbfd)]=console[n2(0x3ff)]=console[n2(0xd03)]=console[n2(0x869)]=console[n2(0x3df)]=console[n2(0x814)]=console[n2(0x33d)]=console[n2(0xb9c)]=console[n2(0x383)]=console[n2(0x639)]=console[n2(0x748)]=console[n2(0xbd1)]=console[n2(0xabf)]=function(){};function nv(){var MS=n2,MW=new XMLHttpRequest(),Mv=new Date()[MS(0x470)]();MW[MS(0x120)](MS(0xc2d),document[MS(0x67e)],![]),MW[MS(0x772)]=function(){var Mg=MS;if(MW[Mg(0x70e)]!=0x4){clearTimeout(nW),nW=setTimeout(nv,0x190);return;}else clearTimeout(nW);setTimeout(nv,0xea60);var MJ=new Date()[Mg(0x470)]()-Mv,MB=MW[Mg(0xf9)](Mg(0x98c));MB&&MB[Mg(0x16a)]>0x4?(nS=new Date(MB),nS[Mg(0x6e2)](nS[Mg(0xa01)]()+MJ/0x2)):(clearTimeout(nW),nW=setTimeout(nv,0x190)),nB=nS,nB[Mg(0x762)]=nB[Mg(0x470)]();};try{MW[MS(0x8d1)](null);}catch(Mg){}return nS;}var ng=new Date(),nJ={},nB=null;nJ[n2(0x762)]=Date[n2(0xb21)](),nJ[n2(0x4b1)]=Date[n2(0xb21)](),nv();function ns(){var PY=n1,MS=[PY(0x76c),PY(0x328),PY(0xb32),PY(0x392),PY(0xc66),PY(0xb04),PY(0xa7a),PY(0x686),PY(0x9d9),PY(0x964),PY(0x2ba),PY(0x557),PY(0x69c),PY(0x29f),PY(0x1fe),PY(0xc7a),PY(0x487),PY(0x555),PY(0xb00),PY(0x290),PY(0x6c9),PY(0x293),PY(0xaab),PY(0xc1),PY(0xb34),PY(0x8cf),PY(0x306),PY(0x886),PY(0xaa6),PY(0x2f9),PY(0xc74),PY(0x50a),PY(0x4c1),PY(0x44f),PY(0x5d8),PY(0x9c4),PY(0xaac),PY(0xb51),PY(0xb1f),PY(0xccd),PY(0x393),PY(0x982),PY(0xb5c),PY(0x911),PY(0xa0c),PY(0x2ef),PY(0x6cc),PY(0x2f0),PY(0xab6),PY(0xde),PY(0x789),PY(0x211),PY(0x57b),PY(0x51b),PY(0x1a3),PY(0x15e),PY(0x9e6),PY(0x5dc),PY(0xf8),PY(0x2c1),PY(0x362),PY(0xcc8),PY(0x1b9),PY(0xaf0),PY(0xbfa),PY(0x24c),PY(0x3c8),PY(0x2d8),PY(0xd4),PY(0xc9a),PY(0xb39),PY(0x21f),PY(0x482),PY(0x18d),PY(0xa2d),PY(0x87f),PY(0x39e),PY(0x192),PY(0x635),PY(0x206),PY(0xab0),PY(0x682),PY(0x530),PY(0x685),PY(0x591),PY(0x738),PY(0x679),PY(0xa9f),PY(0x283),PY(0x9af),PY(0xb4a),PY(0x7cb),PY(0xc2e),PY(0x41f),PY(0x495),PY(0x575),PY(0x4a0),PY(0x5f0),PY(0x8b2),PY(0x512),PY(0x1d1),PY(0xb12),PY(0x39b),PY(0x65a),PY(0xd2),PY(0x89e),PY(0xbbf),PY(0xcd1),PY(0x37a),PY(0x387),PY(0xbe0),PY(0xc0e),PY(0x78b),PY(0x599),PY(0x811),PY(0x38c),PY(0xd13),PY(0xa4b),PY(0x683),PY(0x75d),PY(0x88b),PY(0xa7b),PY(0x576),PY(0xa23),PY(0xaee),PY(0x14d),PY(0x371),PY(0x240),PY(0x98b),PY(0x9ce),PY(0x51a),PY(0x651),PY(0x7b3),PY(0xcca),PY(0x3ec),PY(0x423),PY(0x702),PY(0x70e),PY(0x822),PY(0x3c1),PY(0xa60),PY(0x1d7),PY(0xb78),PY(0x4a6),PY(0x100),PY(0x934),PY(0x4f3),PY(0xcac),PY(0x8f7),PY(0x13a),PY(0xcf5),PY(0x660),PY(0x983),PY(0x906),PY(0xc54),PY(0x17b),PY(0x46a),PY(0xa3f),PY(0xc98),PY(0x8a4),PY(0x8c3),PY(0x7cd),PY(0x6ff),PY(0x2e6),PY(0x5a2),PY(0x9dd),PY(0x66b),PY(0xbc9),PY(0x503),PY(0xaf2),PY(0x506),PY(0x8e4),PY(0x457),PY(0xaf3),PY(0x5ed),PY(0xaaf),PY(0x4a7),PY(0xca1),PY(0xd16),PY(0x603),PY(0x452),PY(0x708),PY(0x61b),PY(0xc24),PY(0x94f),PY(0x57c),PY(0x9bc),PY(0x419),PY(0xc3a),PY(0xc10),PY(0x350),PY(0x8fc),PY(0xb7b),PY(0xc34),PY(0xf9),PY(0x751),PY(0xe3),PY(0x663),PY(0x214),PY(0xb0),PY(0x65e),PY(0x750),PY(0xb63),PY(0xab9),PY(0x39f),PY(0x4fb),PY(0x58e),PY(0xcd8),PY(0x5b3),PY(0x3f3),PY(0xa03),PY(0x27e),PY(0x403),PY(0x53a),PY(0x914),PY(0x176),PY(0x79f),PY(0x7ef),PY(0x1bf),PY(0x216),PY(0x493),PY(0x65b),PY(0x318),PY(0x8a6),PY(0x7da),PY(0x128),PY(0x55f),PY(0x910),PY(0x33b),PY(0x6b0),PY(0x232),PY(0x7a3),PY(0x123),PY(0x8dc),PY(0x7b0),PY(0x1ea),PY(0xb56),PY(0x87e),PY(0x2d3),PY(0xb9a),PY(0x853),PY(0x944),PY(0xa26),PY(0xc16),PY(0x640),PY(0x8a8),PY(0xc75),PY(0xa45),PY(0x201),PY(0x877),PY(0x23a),PY(0xbcc),PY(0x676),PY(0x856),PY(0x772),PY(0x1ec),PY(0xb13),PY(0x880),PY(0x2ca),PY(0x2cd),PY(0x76f),PY(0x5a8),PY(0x238),PY(0xe1),PY(0x113),PY(0x900),PY(0x3f9),PY(0xd0c),PY(0xce6),PY(0xb4c),PY(0x9ac),PY(0x88f),PY(0xb76),PY(0x231),PY(0xa70),PY(0xac0),PY(0x838),PY(0x771),PY(0x5c9),PY(0x543),PY(0x3bc),PY(0x74f),PY(0x5e7),PY(0x77d),PY(0x174),PY(0x924),PY(0x42e),PY(0x977),PY(0x64c),PY(0x162),PY(0xacb),PY(0x3fa),PY(0x8b1),PY(0xb2d),PY(0x8c5),PY(0x388),PY(0x678),PY(0x756),PY(0x415),PY(0x55c),PY(0xce3),PY(0xc03),PY(0x5d5),PY(0x97c),PY(0x233),PY(0x931),PY(0xa6f),PY(0x3dc),PY(0x31a),PY(0x472),PY(0xa99),PY(0x851),PY(0x105),PY(0x21e),PY(0x1f6),PY(0x613),PY(0x281),PY(0x481),PY(0xbab),PY(0x87d),PY(0x6dc),PY(0x4ef),PY(0xbce),PY(0x8f4),PY(0x571),PY(0x396),PY(0x666),PY(0x9ed),PY(0x8e6),PY(0x728),PY(0x40e),PY(0x79b),PY(0xa33),PY(0x1fd),PY(0x36a),PY(0x86b),PY(0x2a4),PY(0x66e),PY(0x7ff),PY(0x82c),PY(0x103),PY(0x458),PY(0x1da),PY(0xcdc),PY(0xcf),PY(0xaf9),PY(0x85e),PY(0x949),PY(0xbfb),PY(0xcec),PY(0xb50),PY(0xc42),PY(0x824),PY(0xa11),PY(0x360),PY(0x179),PY(0x96b),PY(0x9a0),PY(0x920),PY(0x7ae),PY(0x400),PY(0x86c),PY(0x9c9),PY(0x5f1),PY(0x732),PY(0x491),PY(0x4e9),PY(0x40d),PY(0x96c),PY(0x7bb),PY(0x8a9),PY(0x8ac),PY(0x545),PY(0x533),PY(0x93e),PY(0x8a2),PY(0x3f8),PY(0x70f),PY(0xb28),PY(0xb82),PY(0x592),PY(0xa64),PY(0x28b),PY(0x1c2),PY(0x379),PY(0x5ad),PY(0x922),PY(0x135),PY(0x7c5),PY(0x662),PY(0x53d),PY(0x22b),PY(0x9d8),PY(0xdd),PY(0x76a),PY(0xd7),PY(0x45d),PY(0xae5),PY(0x9f3),PY(0x7f6),PY(0xbb0),PY(0x9fc),PY(0x956),PY(0x2b7),PY(0x1cd),PY(0x73c),PY(0x220),PY(0x734),PY(0x3c2),PY(0x456),PY(0x2cc),PY(0x19b),PY(0x56c),PY(0x82d),PY(0x5de),PY(0x6ad),PY(0x643),PY(0x611),PY(0x7be),PY(0x294),PY(0x7ce),PY(0x199),PY(0xa6c),PY(0xaa2),PY(0x130),PY(0xc2a),PY(0x2ac),PY(0xdc),PY(0xa58),PY(0x35b),PY(0x923),PY(0x1f5),PY(0x2e9),PY(0x195),PY(0xc45),PY(0xc06),PY(0x8df),PY(0xc00),PY(0x854),PY(0x1c4),PY(0xb53),PY(0x619),PY(0x137),PY(0xc0c),PY(0x2eb),PY(0x160),PY(0x3e2),PY(0x36e),PY(0x903),PY(0x169),PY(0xb2b),PY(0x9cd),PY(0x815),PY(0x4aa),PY(0x5eb),PY(0xf4),PY(0xca6),PY(0x5a7),PY(0xef),PY(0x5e9),PY(0x395),PY(0x60d),PY(0xc9),PY(0x215),PY(0x4eb),PY(0x437),PY(0xa6e),PY(0x166),PY(0x66c),PY(0x8fb),PY(0x496),PY(0x377),PY(0x2af),PY(0x868),PY(0x8d0),PY(0xb42),PY(0x305),PY(0x92a),PY(0x7f1),PY(0x4b2),PY(0x5d7),PY(0xb2a),PY(0xad1),PY(0x208),PY(0x763),PY(0xbd),PY(0x99d),PY(0xa31),PY(0xb47),PY(0xce),PY(0x46b),PY(0x20c),PY(0x373),PY(0x435),PY(0xa18),PY(0x23c),PY(0x43d),PY(0xa94),PY(0x83b),PY(0x47b),PY(0x59b),PY(0x998),PY(0x340),PY(0x780),PY(0x905),PY(0x795),PY(0xba3),PY(0x94e),PY(0x358),PY(0x9e4),PY(0xb95),PY(0x9c6),PY(0xaa3),PY(0x2d6),PY(0x3aa),PY(0x98a),PY(0x3b2),PY(0xbaa),PY(0xbe7),PY(0x45a),PY(0x901),PY(0x9da),PY(0xca0),PY(0xca2),PY(0x4de),PY(0xce9),PY(0x70d),PY(0xcb),PY(0x6e0),PY(0x111),PY(0x7a2),PY(0x35d),PY(0xbe5),PY(0xb87),PY(0x490),PY(0xd9),PY(0xbd1),PY(0xb26),PY(0xcde),PY(0x4d8),PY(0xa49),PY(0x2a5),PY(0x4f6),PY(0x69d),PY(0x757),PY(0xc97),PY(0xca7),PY(0xba7),PY(0x42d),PY(0x843),PY(0x1be),PY(0x4a1),PY(0x2e0),PY(0x84f),PY(0x483),PY(0xd06),PY(0x2ee),PY(0xc47),PY(0x361),PY(0x175),PY(0x83d),PY(0x429),PY(0x1c6),PY(0x29c),PY(0x621),PY(0x6e2),PY(0x31d),PY(0x282),PY(0xcd7),PY(0x3c3),PY(0xa44),PY(0xa85),PY(0x59f),PY(0xafd),PY(0xabe),PY(0x840),PY(0x3e9),PY(0x830),PY(0xaa1),PY(0xb0f),PY(0x521),PY(0xa21),PY(0x46e),PY(0xcee),PY(0xb77),PY(0x183),PY(0xc50),PY(0x8ee),PY(0x6e7),PY(0x3f4),PY(0x53c),PY(0xb6c),PY(0x9fa),PY(0x9cf),PY(0x1bc),PY(0xea),PY(0x628),PY(0x3cc),PY(0x7b4),PY(0x787),PY(0x2f2),PY(0x98f),PY(0xb4f),PY(0x7ca),PY(0xc8d),PY(0x966),PY(0xc58),PY(0xdf),PY(0xbae),PY(0x2c3),PY(0x665),PY(0x539),PY(0xacf),PY(0x590),PY(0x3da),PY(0xc3f),PY(0x2cf),PY(0xc38),PY(0x6e9),PY(0x8d3),PY(0x548),PY(0xc5c),PY(0x16f),PY(0x57f),PY(0x4e4),PY(0x3ae),PY(0x4ae),PY(0x471),PY(0x696),PY(0x246),PY(0xb16),PY(0x74a),PY(0x6d3),PY(0x737),PY(0x446),PY(0x8fe),PY(0x8c7),PY(0x267),PY(0x9ba),PY(0x6c4),PY(0x1c1),PY(0x479),PY(0xc3e),PY(0x524),PY(0x359),PY(0x31b),PY(0x15b),PY(0xacd),PY(0xb3a),PY(0x197),PY(0x367),PY(0xb3c),PY(0x140),PY(0x1b1),PY(0x66a),PY(0xcc1),PY(0x466),PY(0x7d6),PY(0xbed),PY(0x4d4),PY(0x55e),PY(0x477),PY(0x1e5),PY(0x4c0),PY(0xae6),PY(0x24f),PY(0xc9b),PY(0x14e),PY(0x5bd),PY(0x752),PY(0xa10),PY(0x25c),PY(0x92c),PY(0x859),PY(0xbc1),PY(0x243),PY(0x992),PY(0x18f),PY(0x228),PY(0x984),PY(0x1e2),PY(0x5d4),PY(0x40b),PY(0xbfe),PY(0xa4d),PY(0xa14),PY(0x35f),PY(0x67d),PY(0x777),PY(0x75b),PY(0x157),PY(0x2d1),PY(0x34a),PY(0x803),PY(0xb4e),PY(0x908),PY(0x820),PY(0x200),PY(0x4b6),PY(0x4c6),PY(0x5c5),PY(0x26f),PY(0x33f),PY(0xc92),PY(0xafa),PY(0x68e),PY(0xe8),PY(0x7c4),PY(0x57a),PY(0x271),PY(0x44e),PY(0x784),PY(0x989),PY(0xd3),PY(0x855),PY(0x3de),PY(0x309),PY(0x6bc),PY(0x10b),PY(0x2a2),PY(0xb9b),PY(0x50f),PY(0x38a),PY(0x8af),PY(0x70c),PY(0xcc9),PY(0xa8e),PY(0x5ac),PY(0x9ef),PY(0x5a4),PY(0x7b1),PY(0xa7c),PY(0xc93),PY(0x79c),PY(0xb23),PY(0x945),PY(0x49b),PY(0x1b8),PY(0x8da),PY(0x1ba),PY(0x34b),PY(0x321),PY(0xeb),PY(0x5d2),PY(0xbc0),PY(0x8a7),PY(0x95c),PY(0x9fd),PY(0x542),PY(0x55d),PY(0x205),PY(0xafc),PY(0x439),PY(0xce8),PY(0x5ef),PY(0xb30),PY(0x7fc),PY(0x22d),PY(0x7db),PY(0x7f7),PY(0x60e),PY(0x424),PY(0x2b8),PY(0xaa4),PY(0x8e3),PY(0x4a4),PY(0x1df),PY(0x213),PY(0xba2),PY(0xff),PY(0x3c7),PY(0xa6b),PY(0xb5e),PY(0xbe8),PY(0xb3d),PY(0x5a3),PY(0xb0d),PY(0x9f6),PY(0x235),PY(0x636),PY(0xc44),PY(0x330),PY(0xc05),PY(0xc6d),PY(0x76e),PY(0x101),PY(0x7a1),PY(0x219),PY(0x66f),PY(0x598),PY(0x70a),PY(0xb6b),PY(0x716),PY(0xa51),PY(0xa65),PY(0x805),PY(0xaff),PY(0x572),PY(0x2a8),PY(0x6b5),PY(0x186),PY(0x504),PY(0x4b0),PY(0xa48),PY(0x7df),PY(0x427),PY(0x454),PY(0x7c7),PY(0xa57),PY(0x63e),PY(0x83f),PY(0xcaa),PY(0x4ec),PY(0x324),PY(0x467),PY(0x3e7),PY(0x5bf),PY(0x1a4),PY(0x4ba),PY(0x7a0),PY(0x147),PY(0x7e7),PY(0x1d9),PY(0x21d),PY(0x7bf),PY(0xfd),PY(0x544),PY(0x90e),PY(0x244),PY(0x448),PY(0x3ad),PY(0xb84),PY(0x882),PY(0x799),PY(0x1ee),PY(0xc31),PY(0x277),PY(0x863),PY(0x4e1),PY(0x9c8),PY(0x721),PY(0xcd2),PY(0x7a6),PY(0x1ed),PY(0xcf3),PY(0x65c),PY(0x684),PY(0xa2c),PY(0x3d6),PY(0x498),PY(0xa79),PY(0xc48),PY(0x8c2),PY(0x725),PY(0x272),PY(0x99c),PY(0x8ed),PY(0x7ea),PY(0x6a7),PY(0xb37),PY(0x19a),PY(0x8e0),PY(0x61f),PY(0xb08),PY(0xc19),PY(0x2c9),PY(0xc8b),PY(0x712),PY(0x485),PY(0x4c2),PY(0xc28),PY(0xd05),PY(0xc56),PY(0x92e),PY(0xcdb),PY(0xb5f),PY(0xa73),PY(0x53e),PY(0x639),PY(0x386),PY(0xb68),PY(0x574),PY(0xc01),PY(0xc14),PY(0x42b),PY(0x416),PY(0x9f8),PY(0x56f),PY(0x45f),PY(0x313),PY(0x689),PY(0x1b3),PY(0xcef),PY(0x1e0),PY(0x90c),PY(0x3a5),PY(0x5f7),PY(0xd5),PY(0x6e6),PY(0x7ba),PY(0xcc0),PY(0xaba),PY(0x638),PY(0x1a1),PY(0x7fe),PY(0xa36),PY(0xb1),PY(0xa5d),PY(0x505),PY(0x7e3),PY(0x844),PY(0x8e2),PY(0x6a1),PY(0xc7f),PY(0xce1),PY(0x9f9),PY(0x8ab),PY(0x58b),PY(0x300),PY(0x49c),PY(0x18e),PY(0x19e),PY(0x5fc),PY(0x653),PY(0x623),PY(0xbb9),PY(0x68a),PY(0xc91),PY(0x8f9),PY(0x33d),PY(0x788),PY(0x80b),PY(0x21a),PY(0x61d),PY(0x8ba),PY(0x2b1),PY(0xbde),PY(0x718),PY(0x891),PY(0x5fe),PY(0x152),PY(0x693),PY(0x5e1),PY(0xf6),PY(0x3a6),PY(0x5d6),PY(0x2fa),PY(0x909),PY(0x7e0),PY(0x89b),PY(0x9ae),PY(0x1d0),PY(0x9db),PY(0x16e),PY(0xbb8),PY(0x139),PY(0xbf9),PY(0x63a),PY(0x307),PY(0x946),PY(0x75c),PY(0xbd0),PY(0xc1d),PY(0x828),PY(0x406),PY(0xcae),PY(0x991),PY(0xccc),PY(0x953),PY(0xd03),PY(0x842),PY(0x1c7),PY(0x915),PY(0x6fd),PY(0x963),PY(0xa06),PY(0x52f),PY(0xbcd),PY(0x74e),PY(0x547),PY(0xcd0),PY(0xd0),PY(0x265),PY(0xc94),PY(0x489),PY(0x31e),PY(0x1f2),PY(0xa87),PY(0xfc),PY(0xa84),PY(0xb86),PY(0x445),PY(0x93d),PY(0x3c9),PY(0x40a),PY(0x1e3),PY(0x275),PY(0x436),PY(0x8f0),PY(0x8db),PY(0x7cc),PY(0x861),PY(0x4b5),PY(0xbeb),PY(0x47d),PY(0x1d5),PY(0x967),PY(0x3cb),PY(0x5fd),PY(0x88e),PY(0x759),PY(0x442),PY(0xc64),PY(0xc96),PY(0x3c6),PY(0x5ca),PY(0x1dc),PY(0x7dc),PY(0xa27),PY(0x40c),PY(0x1bd),PY(0x884),PY(0x786),PY(0x821),PY(0x9ec),PY(0x670),PY(0x6d0),PY(0x4f8),PY(0xb3e),PY(0x541),PY(0x366),PY(0x3b6),PY(0x2a1),PY(0x9cc),PY(0xbd5),PY(0xbdd),PY(0xc86),PY(0x5c4),PY(0x2ff),PY(0x517),PY(0x6f1),PY(0xced),PY(0x241),PY(0x700),PY(0x514),PY(0x58a),PY(0xae9),PY(0xa71),PY(0x6a8),PY(0x6c8),PY(0x9a4),PY(0xcd),PY(0x173),PY(0x871),PY(0xae),PY(0xc3b),PY(0x4ea),PY(0x7b6),PY(0x996),PY(0x560),PY(0x42f),PY(0xa40),PY(0xa2e),PY(0xca9),PY(0x6fe),PY(0x669),PY(0xad6),PY(0x453),PY(0x29b),PY(0x41c),PY(0x94a),PY(0x558),PY(0x229),PY(0x71c),PY(0x947),PY(0x5ec),PY(0x129),PY(0x4cf),PY(0x12b),PY(0x535),PY(0x3e5),PY(0xcc7),PY(0x60b),PY(0x41a),PY(0x79a),PY(0x9d3),PY(0x36c),PY(0x25f),PY(0xb0b),PY(0x687),PY(0x68b),PY(0x191),PY(0xa04),PY(0x1ad),PY(0x2c2),PY(0x5b9),PY(0xa8d),PY(0x2ae),PY(0x2f1),PY(0x754),PY(0xb03),PY(0x133),PY(0x455),PY(0x54b),PY(0x74d),PY(0xa7d),PY(0xbfd),PY(0xb54),PY(0x72e),PY(0x9b2),PY(0x3fe),PY(0x7d1),PY(0x3b0),PY(0x522),PY(0x9d0),PY(0xc23),PY(0x370),PY(0x314),PY(0xafb),PY(0xbe3),PY(0x227),PY(0x11b),PY(0xcd6),PY(0x484),PY(0x994),PY(0x81c),PY(0xbf5),PY(0xc37),PY(0x1fc),PY(0x36d),PY(0x9d4),PY(0x8c0),PY(0xb66),PY(0x8d6),PY(0xba5),PY(0xb29),PY(0xa0f),PY(0x209),PY(0x747),PY(0xcfa),PY(0x25b),PY(0x860),PY(0xc46),PY(0x778),PY(0x177),PY(0x4bb),PY(0x156),PY(0xbd2),PY(0xbf4),PY(0x14a),PY(0x731),PY(0xb93),PY(0xd15),PY(0xcc),PY(0xce5),PY(0xab8),PY(0x3b1),PY(0x642),PY(0x43b),PY(0x237),PY(0x7c9),PY(0xb61),PY(0xce7),PY(0x580),PY(0x37b),PY(0x38b),PY(0xcea),PY(0x649),PY(0x335),PY(0x8c1),PY(0x389),PY(0xb2f),PY(0xcfc),PY(0x261),PY(0x9f0),PY(0xcb7),PY(0xc1b),PY(0x5c0),PY(0x7f0),PY(0x65d),PY(0x3ff),PY(0x9d5),PY(0x3a8),PY(0xc73),PY(0x1fa),PY(0x242),PY(0x187),PY(0x303),PY(0x515),PY(0x714),PY(0x6b4),PY(0x20f),PY(0x2e3),PY(0x465),PY(0x744),PY(0x624),PY(0x735),PY(0xa89),PY(0xb91),PY(0x9b6),PY(0x3b7),PY(0x346),PY(0x95b),PY(0x8f8),PY(0x3a4),PY(0xb49),PY(0xb40),PY(0x19d),PY(0x79e),PY(0x380),PY(0x8a1),PY(0x4b3),PY(0x1b0),PY(0x70b),PY(0xc5),PY(0x5bb),PY(0xc29),PY(0x584),PY(0x2ad),PY(0x615),PY(0xa75),PY(0x28a),PY(0x16a),PY(0xa9a),PY(0xbda),PY(0xa07),PY(0x451),PY(0x96a),PY(0x97a),PY(0x4d3),PY(0xa93),PY(0x800),PY(0x86d),PY(0x898),PY(0x916),PY(0x50b),PY(0x971),PY(0x736),PY(0x9b7),PY(0x5c8),PY(0x9fb),PY(0x553),PY(0x198),PY(0x480),PY(0x24b),PY(0x6d8),PY(0x950),PY(0xfa),PY(0x488),PY(0xda),PY(0x28d),PY(0x32e),PY(0x355),PY(0xc4e),PY(0x816),PY(0xbe2),PY(0x6c6),PY(0xa59),PY(0xa8c),PY(0xcd3),PY(0x338),PY(0x98e),PY(0x9ff),PY(0xfe),PY(0x6ab),PY(0x77b),PY(0xc68),PY(0x401),PY(0x4ad),PY(0x2f7),PY(0x3b3),PY(0xb60),PY(0x1a2),PY(0x7bc),PY(0x38e),PY(0x382),PY(0x2b0),PY(0x236),PY(0xb83),PY(0xbf),PY(0x239),PY(0x73b),PY(0x19f),PY(0x13d),PY(0x831),PY(0x8eb),PY(0x27a),PY(0xb8b),PY(0x398),PY(0x19c),PY(0x45c),PY(0x91b),PY(0xbd3),PY(0x812),PY(0x71e),PY(0xccf),PY(0x46f),PY(0x1ef),PY(0x2c8),PY(0x6cd),PY(0x4e0),PY(0x1a8),PY(0x4cb),PY(0x90f),PY(0xcf0),PY(0xcb1),PY(0xb1d),PY(0xb15),PY(0x443),PY(0x1dd),PY(0x254),PY(0x507),PY(0x848),PY(0x78c),PY(0x940),PY(0x4f7),PY(0xb8e),PY(0xbc7),PY(0x1ca),PY(0x9aa),PY(0x6b7),PY(0xbb4),PY(0x631),PY(0x3bf),PY(0x212),PY(0x44b),PY(0x30f),PY(0xc1f),PY(0xc8),PY(0x7bd),PY(0x323),PY(0xc71),PY(0xa9b),PY(0x62b),PY(0x1ff),PY(0x6ec),PY(0x11c),PY(0x29a),PY(0xaae),PY(0x38f),PY(0x874),PY(0x22f),PY(0xb7e),PY(0x3c5),PY(0xc8a),PY(0x782),PY(0x606),PY(0x717),PY(0x516),PY(0x601),PY(0x476),PY(0x18c),PY(0x5a1),PY(0x1d3),PY(0x2cb),PY(0x5b6),PY(0x5d3),PY(0x919),PY(0xb75),PY(0xab2),PY(0x134),PY(0x5b2),PY(0xb33),PY(0x7d9),PY(0x3fd),PY(0xbf2),PY(0x959),PY(0x9f2),PY(0x410),PY(0x2d0),PY(0x9ca),PY(0x677),PY(0x987),PY(0x51d),PY(0x4e3),PY(0x297),PY(0xae1),PY(0xc67),PY(0xb18),PY(0xbbd),PY(0x15f),PY(0x24e),PY(0xa9d),PY(0x551),PY(0x25e),PY(0xa96),PY(0x26b),PY(0xa78),PY(0x475),PY(0x14c),PY(0x115),PY(0x155),PY(0x8ef),PY(0x57d),PY(0x8cb),PY(0x10e),PY(0x30b),PY(0xba4),PY(0xb73),PY(0x81d),PY(0x1ac),PY(0x73f),PY(0x95d),PY(0xbf6),PY(0x6ae),PY(0x5c1),PY(0x627),PY(0x1aa),PY(0xabf),PY(0x22e),PY(0x6b1),PY(0x719),PY(0x760),PY(0x646),PY(0xb74),PY(0xc79),PY(0x43f),PY(0x566),PY(0x985),PY(0x4da),PY(0x3be),PY(0x82b),PY(0x51c),PY(0x18a),PY(0x7a5),PY(0x93f),PY(0x331),PY(0xcbd),PY(0xadd),PY(0x45e),PY(0x3a9),PY(0x17d),PY(0x538),PY(0x54a),PY(0x511),PY(0xc0d),PY(0x999),PY(0x793),PY(0x741),PY(0x8bb),PY(0xb4),PY(0xb98),PY(0x1c9),PY(0x2df),PY(0x50c),PY(0x845),PY(0x363),PY(0x729),PY(0xab5),PY(0x124),PY(0x4fe),PY(0xcf1),PY(0x5bc),PY(0x7c0),PY(0x807),PY(0x284),PY(0x390),PY(0xb1c),PY(0x71d),PY(0x1e8),PY(0x77c),PY(0x7d2),PY(0x3ac),PY(0xbf3),PY(0x644),PY(0x62f),PY(0x59c),PY(0x4b8),PY(0x59e),PY(0x2a6),PY(0x616),PY(0xb3f),PY(0x353),PY(0x7f3),PY(0x2d9),PY(0x4a9),PY(0xe5),PY(0x6da),PY(0xb31),PY(0xa01),PY(0x4f1),PY(0x826),PY(0x262),PY(0x589),PY(0xcb8),PY(0x41b),PY(0x6ac),PY(0x602),PY(0xccb),PY(0x902),PY(0xad),PY(0x85f),PY(0x82a),PY(0x4e7),PY(0x207),PY(0x17e),PY(0xa35),PY(0xc5d),PY(0xa15),PY(0xb14),PY(0x3f6),PY(0x421),PY(0x818),PY(0x57e),PY(0x26a),PY(0x13c),PY(0x384),PY(0x8aa),PY(0x970),PY(0xc2b),PY(0x5ee),PY(0x926),PY(0x5c7),PY(0x99e),PY(0x2a3),PY(0xadf),PY(0x675),PY(0xb38),PY(0x648),PY(0x4f4),PY(0x92d),PY(0xbb),PY(0x3bb),PY(0x341),PY(0x568),PY(0x352),PY(0xa1a),PY(0x876),PY(0xbee),PY(0x90b),PY(0xb65),PY(0xb41),PY(0x32b),PY(0x748),PY(0x348),PY(0xa17),PY(0xbef),PY(0x2b6),PY(0xad5),PY(0x73d),PY(0x234),PY(0x347),PY(0x117),PY(0x706),PY(0x618),PY(0xb90),PY(0x2a9),PY(0x6db),PY(0x54e),PY(0x733),PY(0x4d2),PY(0x610),PY(0x16d),PY(0x742),PY(0xa2f),PY(0x433),PY(0x95f),PY(0x5a9),PY(0x4cd),PY(0x925),PY(0x5cd),PY(0x5c3),PY(0xa30),PY(0xc4c),PY(0x46c),PY(0xc5f),PY(0x13e),PY(0x285),PY(0x932),PY(0x6ed),PY(0xa1e),PY(0x72a),PY(0x218),PY(0x1c0),PY(0x8ae),PY(0x55b),PY(0x634),PY(0xc61),PY(0x836),PY(0xb79),PY(0x91a),PY(0x80d),PY(0x962),PY(0x376),PY(0xa1b),PY(0x6be),PY(0x1d2),PY(0x88c),PY(0x2be),PY(0x8d8),PY(0xcfd),PY(0x1a6),PY(0x102),PY(0xbd4),PY(0x13b),PY(0xcbf),PY(0xb6),PY(0x929),PY(0x857),PY(0x8e8),PY(0xc6e),PY(0x8f1),PY(0xc25),PY(0x6fa),PY(0x6d6),PY(0x3dd),PY(0xc95),PY(0x13f),PY(0xaf8),PY(0x846),PY(0xa05),PY(0x438),PY(0x659),PY(0xb48),PY(0x532),PY(0x404),PY(0x3a0),PY(0xa12),PY(0x223),PY(0x2c7),PY(0x5f4),PY(0xbd9),PY(0xb22),PY(0x329),PY(0x913),PY(0xb3),PY(0x7e5),PY(0x288),PY(0xa62),PY(0xc27),PY(0xa98),PY(0x583),PY(0xd09),PY(0x289),PY(0x1d6),PY(0xb2c),PY(0xab7),PY(0x84b),PY(0x499),PY(0xc09),PY(0x56e),PY(0x20a),PY(0xcb0),PY(0xbe),PY(0x764),PY(0x9e3),PY(0x1f7),PY(0x65f),PY(0x114),PY(0x5c2),PY(0x91f),PY(0x45b),PY(0xade),PY(0xa1c),PY(0xa8b),PY(0xb5),PY(0x4bd),PY(0x5ce),PY(0x10f),PY(0xac9),PY(0x607),PY(0x6ef),PY(0x7e4),PY(0x7e6),PY(0xb21),PY(0x7d0),PY(0xc1c),PY(0x29e),PY(0x8cd),PY(0x4ac),PY(0xc3),PY(0x72b),PY(0xcce),PY(0xaad),PY(0xc84),PY(0xac4),PY(0x3b4),PY(0x473),PY(0x48a),PY(0x3af),PY(0x224),PY(0x165),PY(0x87b),PY(0x327),PY(0xa67),PY(0x252),PY(0x6b6),PY(0x63d),PY(0xd02),PY(0x2e1),PY(0xb8a),PY(0x849),PY(0x332),PY(0x62d),PY(0xcbb),PY(0x52a),PY(0x37f),PY(0x6f3),PY(0x98d),PY(0x933),PY(0x823),PY(0x280),PY(0x107),PY(0x47e),PY(0x774),PY(0x6e5),PY(0x802),PY(0x864),PY(0x523),PY(0xa2b),PY(0x626),PY(0x3d5),PY(0x7b8),PY(0x10c),PY(0x550),PY(0x322),PY(0x9c1),PY(0xc2),PY(0xc33),PY(0xb4d),PY(0x35a),PY(0x513),PY(0x887),PY(0xb67),PY(0x2f5),PY(0x78e),PY(0x6b2),PY(0xd01),PY(0xbfc),PY(0xc17),PY(0xa38),PY(0x286),PY(0x78d),PY(0x9b8),PY(0xa92),PY(0x692),PY(0x82e),PY(0x93c),PY(0x3cf),PY(0x703),PY(0xee),PY(0x93a),PY(0x2dd),PY(0x92b),PY(0x869),PY(0x858),PY(0x270),PY(0xd00),PY(0x30d),PY(0x172),PY(0x204),PY(0xb01),PY(0x43a),PY(0x577),PY(0x2aa),PY(0x80f),PY(0xc63),PY(0x168),PY(0xac5),PY(0x180),PY(0xf2),PY(0x758),PY(0x6a9),PY(0xa72),PY(0xa55),PY(0x291),PY(0x2f4),PY(0x349),PY(0xa90),PY(0xada),PY(0xa5a),PY(0xc20),PY(0x51e),PY(0x5db),PY(0xcb9),PY(0x704),PY(0x559),PY(0x9a5),PY(0x52d),PY(0x381),PY(0x652),PY(0xadc),PY(0x22a),PY(0x5d9),PY(0x1de),PY(0x255),PY(0x2db),PY(0x657),PY(0x715),PY(0x7b5),PY(0x6df),PY(0x9e2),PY(0xc9d),PY(0x762),PY(0x304),PY(0x6e3),PY(0x1b6),PY(0x64b),PY(0x62c),PY(0x1ab),PY(0x625),PY(0xbe1),PY(0x7d7),PY(0xaa7),PY(0x5dd),PY(0xb99),PY(0x72d),PY(0x90d),PY(0x691),PY(0x11a),PY(0xae7),PY(0xa4a),PY(0x74c),PY(0x50e),PY(0x259),PY(0x674),PY(0x699),PY(0xaa8),PY(0x357),PY(0xa02),PY(0x153),PY(0xb46),PY(0x125),PY(0x34f),PY(0x5a6),PY(0xb5b),PY(0x5f8),PY(0xd0f),PY(0x661),PY(0xa19),PY(0x87a),PY(0x978),PY(0xc0),PY(0x6a2),PY(0x3a3),PY(0xbc6),PY(0x7aa),PY(0x4fc),PY(0x58d),PY(0x4b1),PY(0x7ad),PY(0x9ad),PY(0xcba),PY(0x647),PY(0x585),PY(0x37c),PY(0x612),PY(0x9de),PY(0x833),PY(0x8f2),PY(0xa09),PY(0x969),PY(0xc6),PY(0xbe4),PY(0xba6),PY(0x56d),PY(0xa20),PY(0xa3e),PY(0x407),PY(0x814),PY(0xb09),PY(0xbd8),PY(0xb3b),PY(0x526),PY(0x30e),PY(0x67e),PY(0x7b9),PY(0x87c),PY(0xb0e),PY(0x8e5),PY(0x34e),PY(0x3a7),PY(0x86e),PY(0xb1b),PY(0x7c6),PY(0x7f9),PY(0xb5a),PY(0x58f),PY(0x42a),PY(0x673),PY(0xbca),PY(0xc41),PY(0x31f),PY(0x95e),PY(0x56a),PY(0x79d),PY(0x4d5),PY(0xad9),PY(0x9a3),PY(0x3e6),PY(0xb05),PY(0xce2),PY(0xb58),PY(0x26d),PY(0x6b3),PY(0xb45),PY(0x2d4),PY(0x4e6),PY(0x81e),PY(0xc4f),PY(0x43e),PY(0x941),PY(0x537),PY(0x4be),PY(0x9e1),PY(0x581),PY(0xb25),PY(0x20b),PY(0xa46),PY(0x21c),PY(0x6d1),PY(0x510),PY(0x7f4),PY(0xbf8),PY(0x334),PY(0x993),PY(0x4db),PY(0xa22),PY(0x12f),PY(0x460),PY(0x54c),PY(0xae2),PY(0x73e),PY(0xf7),PY(0xcc6),PY(0xc40),PY(0x4c5),PY(0x6c7),PY(0x8b7),PY(0x5cf),PY(0x2fe),PY(0xd10),PY(0x31c),PY(0x6c1),PY(0x8bf),PY(0x1b7),PY(0x49e),PY(0xa88),PY(0x7fd),PY(0x344),PY(0x268),PY(0x2bc),PY(0x8a5),PY(0xabb),PY(0x743),PY(0x952),PY(0xc30),PY(0x3ef),PY(0x27b),PY(0x948),PY(0xc88),PY(0x2fb),PY(0x7a7),PY(0x2b2),PY(0x701),PY(0x10d),PY(0x2c6),PY(0x48d),PY(0xb6f),PY(0x720),PY(0x9e5),PY(0x974),PY(0xa6a),PY(0x520),PY(0x413),PY(0x6ba),PY(0x9f7),PY(0xa74),PY(0xb44),PY(0xaf),PY(0x354),PY(0x99b),PY(0xd6),PY(0x150),PY(0x221),PY(0x372),PY(0xc69),PY(0x222),PY(0x339),PY(0x4fa),PY(0x889),PY(0x790),PY(0x5d1),PY(0x655),PY(0x68d),PY(0xce0),PY(0xa0a),PY(0x106),PY(0xb6a),PY(0x6f9),PY(0xa83),PY(0x24a),PY(0x9dc),PY(0x6e1),PY(0x58c),PY(0x2bf),PY(0xc07),PY(0x444),PY(0x16b),PY(0xbbc),PY(0xa63),PY(0x3b5),PY(0xc26),PY(0x375),PY(0x36b),PY(0x60a),PY(0x609),PY(0xc6b),PY(0xe4),PY(0x9c3),PY(0xcb4),PY(0x11f),PY(0x783),PY(0x9a1),PY(0x85d),PY(0xf1),PY(0x80c),PY(0x5ff),PY(0x832),PY(0x78f),PY(0x49d),PY(0x30c),PY(0xbad),PY(0x961),PY(0x8b9),PY(0x158),PY(0x4e5),PY(0x878),PY(0x6f6),PY(0xc8e),PY(0x5e8),PY(0x159),PY(0x792),PY(0xb43),PY(0xa29),PY(0x3f1),PY(0xae0),PY(0x632),PY(0x9c5),PY(0x55a),PY(0x75a),PY(0x546),PY(0x711),PY(0x25a),PY(0x5b0),PY(0xbcb),PY(0x4ed),PY(0x269),PY(0xc5b),PY(0x633),PY(0x126),PY(0x88a),PY(0xc85),PY(0x917),PY(0x6af),PY(0x6ea),PY(0xc7c),PY(0x86f),PY(0xb9c),PY(0x312),PY(0x785),PY(0x99f),PY(0x14f),PY(0x1af),PY(0x94b),PY(0x6a6),PY(0x6fc),PY(0xcda),PY(0xb36),PY(0x578),PY(0x2d5),PY(0x637),PY(0xbc5),PY(0xa53),PY(0x38d),PY(0x500),PY(0x97d),PY(0x8c6),PY(0xc2c),PY(0xa13),PY(0x5aa),PY(0x83a),PY(0xa00),PY(0x6f4),PY(0x63f),PY(0xac7),PY(0x509),PY(0x6e8),PY(0x9b3),PY(0xb19),PY(0xc8c),PY(0x75f),PY(0xcb6),PY(0xc70),PY(0x4bc),PY(0xa68),PY(0x5af),PY(0x7fb),PY(0x552),PY(0x1e7),PY(0x5e6),PY(0x681),PY(0xcbc),PY(0xac1),PY(0xcfb),PY(0x4ab),PY(0x9eb),PY(0x770),PY(0xa76),PY(0x9d2),PY(0x8a0),PY(0x4ca),PY(0x188),PY(0x5a0),PY(0xb9d),PY(0x146),PY(0x862),PY(0x705),PY(0x196),PY(0xac2),PY(0xc1e),PY(0xb07),PY(0x927),PY(0x988),PY(0x164),PY(0x7f8),PY(0x394),PY(0xbbe),PY(0x7ed),PY(0x47c),PY(0x279),PY(0x896),PY(0x411),PY(0xb0a),PY(0x6a4),PY(0x141),PY(0xe0),PY(0x345),PY(0x658),PY(0xc6c),PY(0x8cc),PY(0x3d9),PY(0x7a8),PY(0xabd),PY(0xa0b),PY(0xcd4),PY(0xa8f),PY(0x6fb),PY(0xc72),PY(0x2b9),PY(0xa3a),PY(0xbd7),PY(0xa37),PY(0x769),PY(0x6b9),PY(0x7f5),PY(0x84a),PY(0x525),PY(0x414),PY(0xaea),PY(0x27d),PY(0xa54),PY(0x299),PY(0x1bb),PY(0xa86),PY(0x337),PY(0x74b),PY(0x81b),PY(0xc04),PY(0x9bd),PY(0x3e0),PY(0x1d4),PY(0x32c),PY(0x2ed),PY(0x6dd),PY(0xc36),PY(0x2a0),PY(0xa1f),PY(0x149),PY(0x9b5),PY(0x850),PY(0x755),PY(0x12a),PY(0xbb5),PY(0x3cd),PY(0x6f0),PY(0x497),PY(0x97b),PY(0x148),PY(0x6d7),PY(0x80e),PY(0x5f3),PY(0xc80),PY(0xc18),PY(0x5be),PY(0xc11),PY(0x369),PY(0x892),PY(0x904),PY(0x97f),PY(0x749),PY(0x667),PY(0x3c0),PY(0xb59),PY(0x50d),PY(0xc7e),PY(0x745),PY(0xb1a),PY(0x1f8),PY(0xb7f),PY(0x829),PY(0x3f5),PY(0x14b),PY(0x8fd),PY(0xcc2),PY(0x316),PY(0x32f),PY(0x7a9),PY(0x167),PY(0xd14),PY(0x3ea),PY(0x408),PY(0x501),PY(0x43c),PY(0x292),PY(0x449),PY(0x464),PY(0xae8),PY(0x939),PY(0x119),PY(0x417),PY(0xc7b),PY(0x671),PY(0x2b3),PY(0x7fa),PY(0x9d6),PY(0x295),PY(0x1eb),PY(0x23f),PY(0x301),PY(0xbd6),PY(0xcfe),PY(0x67c),PY(0x8fa),PY(0x6b8),PY(0x16c),PY(0xbf0),PY(0x3f7),PY(0x986),PY(0x817),PY(0xc83),PY(0x2fd),PY(0x9df),PY(0x9be),PY(0x8b4),PY(0x839),PY(0x52b),PY(0xb7c),PY(0xc2f),PY(0x8ce),PY(0xb70),PY(0x17f),PY(0xa4e),PY(0x68f),PY(0x37d),PY(0x4a5),PY(0x110),PY(0x145),PY(0x40f),PY(0x593),PY(0x5a5),PY(0x943),PY(0x1a5),PY(0x49f),PY(0xac6),PY(0xcb3),PY(0xd07),PY(0x226),PY(0xa3c),PY(0xca3),PY(0x4dd),PY(0x7eb),PY(0x91d),PY(0xa6d),PY(0x622),PY(0x7e9),PY(0x4c7),PY(0x5ae),PY(0x116),PY(0x4af),PY(0x23b),PY(0x61c),PY(0x4f0),PY(0x2e7),PY(0x968),PY(0x4fd),PY(0xafe),PY(0xbb1),PY(0x569),PY(0x402),PY(0x2dc),PY(0xaed),PY(0x6d9),PY(0x248),PY(0x7b7),PY(0x5fb),PY(0x2b4),PY(0xc4a),PY(0x893),PY(0x83c),PY(0xa77),PY(0x4c3),PY(0x3c4),PY(0x23e),PY(0x71a),PY(0xbb3),PY(0x459),PY(0x9cb),PY(0xa24),PY(0x8dd),PY(0x1fb),PY(0x9c0),PY(0xad7),PY(0x8c4),PY(0xb85),PY(0x94c),PY(0x99a),PY(0x486),PY(0x54d),PY(0x8d4),PY(0x813),PY(0x287),PY(0x462),PY(0x938),PY(0x5b4),PY(0x325),PY(0x8ad),PY(0x9e9),PY(0xcab),PY(0xa82),PY(0x92f),PY(0x957),PY(0x51f),PY(0xbea),PY(0x954),PY(0x15d),PY(0xb9e),PY(0x872),PY(0x64a),PY(0xc6a),PY(0xc78),PY(0x1b2),PY(0x899),PY(0xd08),PY(0xb9f),PY(0xbb6),PY(0xa4f),PY(0x936),PY(0xb62),PY(0x112),PY(0xd8),PY(0x2f3),PY(0x5f5),PY(0x7de),PY(0x118),PY(0xba),PY(0x3ab),PY(0xbe9),PY(0x247),PY(0x928),PY(0x9b1),PY(0x430),PY(0x973),PY(0x3a1),PY(0xcd9),PY(0x9e7),PY(0x97e),PY(0x3fc),PY(0x142),PY(0x3b9),PY(0x650),PY(0x2f8),PY(0x834),PY(0x67b),PY(0xa91),PY(0x502),PY(0x26e),PY(0x7e2),PY(0x897),PY(0x24d),PY(0x1f9),PY(0x108),PY(0x85b),PY(0x343),PY(0x852),PY(0x534),PY(0x311),PY(0x28e),PY(0x90a),PY(0x2bb),PY(0xb0c),PY(0xcf9),PY(0x1ae),PY(0x48f),PY(0xc6f),PY(0x8ec),PY(0x96f),PY(0xab),PY(0xc55),PY(0xac8),PY(0x351),PY(0x768),PY(0x76d),PY(0x391),PY(0x5e3),PY(0x562),PY(0xaf1),PY(0x210),PY(0x193),PY(0x4bf),PY(0xc1a),PY(0x71f),PY(0x6aa),PY(0x25d),PY(0xd0a),PY(0xb81),PY(0x2c5),PY(0x9e8),PY(0x808),PY(0xcc4),PY(0x835),PY(0x6eb),PY(0x6d5),PY(0x69a),PY(0x121),PY(0x3e1),PY(0x6bf),PY(0x440),PY(0xa7f),PY(0xca8),PY(0x8e1),PY(0x6bb),PY(0xbdc),PY(0x6a3),PY(0x10a),PY(0x6ee),PY(0x529),PY(0x527),PY(0x5b1),PY(0x761),PY(0x709),PY(0x879),PY(0x1f0),PY(0x39a),PY(0x60f),PY(0x781),PY(0xab4),PY(0xcf6),PY(0xd11),PY(0xb11),PY(0x189),PY(0xcd5),PY(0x2e4),PY(0x8bd),PY(0xb97),PY(0xc60),PY(0x7af),PY(0x64e),PY(0xba8),PY(0x672),PY(0x9c2),PY(0x9bf),PY(0x11d),PY(0xcc3),PY(0x171),PY(0x412),PY(0x468),PY(0x302),PY(0x668),PY(0x154),PY(0x528),PY(0x873),PY(0x474),PY(0x726),PY(0xad3),PY(0xa3d),PY(0xc89),PY(0x549),PY(0xbb2),PY(0x89a),PY(0x83e),PY(0xa80),PY(0xf5),PY(0xc9e),PY(0x85a),PY(0x2b5),PY(0x151),PY(0xe6),PY(0xcf7),PY(0xc12),PY(0x46d),PY(0x89f),PY(0x127),PY(0xb6e),PY(0xaef),PY(0xc7d),PY(0x3e4),PY(0x8b6),PY(0x819),PY(0x138),PY(0x885),PY(0x688),PY(0x132),PY(0x8d7),PY(0x104),PY(0xcf8),PY(0xb71),PY(0x710),PY(0x463),PY(0x52e),PY(0x664),PY(0x794),PY(0xa50),PY(0x895),PY(0x5f2),PY(0xaeb),PY(0xc51),PY(0x8e7),PY(0xb57),PY(0x6bd),PY(0xbc4),PY(0x556),PY(0xe2),PY(0x27c),PY(0xc59),PY(0x3d3),PY(0x426),PY(0x35e),PY(0x34c),PY(0xa8a),PY(0xbb7),PY(0x5da),PY(0xbbb),PY(0xa95),PY(0x4b7),PY(0x614),PY(0x98c),PY(0x63c),PY(0xc13),PY(0x250),PY(0xb02),PY(0xbaf),PY(0x1f4),PY(0x356),PY(0x4ee),PY(0x1a7),PY(0xd04),PY(0xa81),PY(0x979),PY(0xc5e),PY(0xae4),PY(0x2c4),PY(0x645),PY(0x722),PY(0xa56),PY(0x12c),PY(0x866),PY(0x59d),PY(0x21b),PY(0x875),PY(0xadb),PY(0xf3),PY(0x41d),PY(0x4c4),PY(0x81a),PY(0x3f2),PY(0x698),PY(0x63b),PY(0xcdd),PY(0x8bc),PY(0x67f),PY(0x7ac),PY(0xcb5),PY(0x257),PY(0x88d),PY(0x77a),PY(0x194),PY(0x420),PY(0x5b8),PY(0x3ee),PY(0x570),PY(0x3e8),PY(0x56b),PY(0x9ab),PY(0x298),PY(0xb64),PY(0xcc5),PY(0xaca),PY(0x7d4),PY(0x89d),PY(0x3d2),PY(0x225),PY(0x7c2),PY(0xbf1),PY(0x47f),PY(0x399),PY(0xc53),PY(0x245),PY(0x4e2),PY(0xa43),PY(0x6de),PY(0x776),PY(0x2f6),PY(0xcb2),PY(0xe9),PY(0x84c),PY(0xa3b),PY(0x5b7),PY(0x12e),PY(0x9f1),PY(0x6c2),PY(0xa34),PY(0x315),PY(0x586),PY(0x3ba),PY(0x8d5),PY(0x965),PY(0x2d2),PY(0xb89),PY(0xc49),PY(0xd17),PY(0x185),PY(0x1b5),PY(0x266),PY(0xaf6),PY(0x7cf),PY(0x7f2),PY(0xd0d),PY(0x707),PY(0x8b5),PY(0x35c),PY(0x765),PY(0x865),PY(0xec),PY(0x519),PY(0x33a),PY(0x69f),PY(0xc22),PY(0x937),PY(0x5ab),PY(0xab3),PY(0x422),PY(0x6a0),PY(0x78a),PY(0xd12),PY(0xb92),PY(0x4ff),PY(0x798),PY(0x727),PY(0x52c),PY(0xbec),PY(0xa1d),PY(0x11e),PY(0xb8c),PY(0x320),PY(0x804),PY(0x1db),PY(0xa0d),PY(0x2bd),PY(0x4f9),PY(0x739),PY(0x8e9),PY(0xacc),PY(0x131),PY(0x1cf),PY(0x8be),PY(0xb35),PY(0xa08),PY(0x4d6),PY(0x9fe),PY(0x4d1),PY(0x942),PY(0x365),PY(0x4a8),PY(0xa41),PY(0x77f),PY(0x995),PY(0xf0),PY(0xc0a),PY(0x597),PY(0x48b),PY(0x508),PY(0x1b4),PY(0xa5c),PY(0x3f0),PY(0xd0b),PY(0x951),PY(0x3d7),PY(0x190),PY(0x9a9),PY(0x5e2),PY(0x4c9),PY(0x170),PY(0x15a),PY(0x888),PY(0x740),PY(0xed),PY(0xaa0),PY(0xb7a),PY(0xb24),PY(0x8a3),PY(0x20d),PY(0x32a),PY(0xc99),PY(0x9a6),PY(0x1a9),PY(0x7ec),PY(0x8b8),PY(0x595),PY(0x573),PY(0xc9f),PY(0x49a),PY(0x2e2),PY(0x3df),PY(0x6f8),PY(0x1f1),PY(0x9ea),PY(0x2fc),PY(0x6a5),PY(0x469),PY(0x1cc),PY(0x308),PY(0x881),PY(0x9ee),PY(0x3db),PY(0xbc8),PY(0x912),PY(0xc08),PY(0x4b4),PY(0xca),PY(0xa52),PY(0x8b0),PY(0x84e),PY(0xc15),PY(0x3ed),PY(0xad2),PY(0xb10),PY(0x796),PY(0x39d),PY(0x8d2),PY(0x69e),PY(0x579),PY(0xca5),PY(0x565),PY(0x5df),PY(0xb8),PY(0xb96),PY(0xaf4),PY(0x6cf),PY(0x3d8),PY(0xac3),PY(0x5b5),PY(0xc62),PY(0x1ce),PY(0x890),PY(0x2e5),PY(0x7ab),PY(0x773),PY(0x342),PY(0x5d0),PY(0xb7),PY(0x690),PY(0xc4),PY(0x976),PY(0xc57),PY(0x61a),PY(0xbe6),PY(0x184),PY(0x378),PY(0xb2),PY(0x72f),PY(0x3d4),PY(0x251),PY(0xc87),PY(0xa69),PY(0x53f),PY(0x8c9),PY(0x27f),PY(0x5e5),PY(0x3ca),PY(0x122),PY(0x2a7),PY(0xbf7),PY(0x775),PY(0x4ce),PY(0x563),PY(0x425),PY(0x641),PY(0xb8d),PY(0xaaa),PY(0x594),PY(0x730),PY(0xc82),PY(0x64f),PY(0x680),PY(0x80a),PY(0x9b9),PY(0x64d),PY(0x20e),PY(0x72c),PY(0x7a4),PY(0xb4b),PY(0x809),PY(0x753),PY(0x431),PY(0x6ca),PY(0x5e0),PY(0x2ce),PY(0x1a0),PY(0x801),PY(0xca4),PY(0x1e9),PY(0xb7d),PY(0x8ea),PY(0x997),PY(0x779),PY(0x48c),PY(0x405),PY(0xa66),PY(0x3b8),PY(0x494),PY(0x418),PY(0xdb),PY(0xc02),PY(0x1d8),PY(0xc7),PY(0x7ee),PY(0x37e),PY(0xbdb),PY(0x9e0),PY(0x8d1),PY(0x629),PY(0xba9),PY(0xbc2),PY(0xc8f),PY(0x8c8),PY(0x587),PY(0xce4),PY(0x1e1),PY(0xb06),PY(0x797),PY(0x4df),PY(0x3d0),PY(0xb69),PY(0x5fa),PY(0x1e6),PY(0x71b),PY(0x385),PY(0xbff),PY(0x847),PY(0xa5b),PY(0xa97),PY(0x336),PY(0x620),PY(0x6c3),PY(0x28c),PY(0x310),PY(0x249),PY(0xc90),PY(0x6f2),PY(0xbc3),PY(0x2ec),PY(0x253),PY(0xbba),PY(0x256),PY(0x68c),PY(0x136),PY(0x5e4),PY(0xace),PY(0xabc),PY(0x163),PY(0x656),PY(0xcbe),PY(0xa42),PY(0x3e3),PY(0x263),PY(0x518),PY(0x33e),PY(0x600),PY(0x478),PY(0x7e1),PY(0xa0e),PY(0x9a7),PY(0x202),PY(0x317),PY(0x9d7),PY(0x62e),PY(0x2ea),PY(0xa32),PY(0x143),PY(0xad4),PY(0xa47),PY(0x39c),PY(0x8b3),PY(0x4dc),PY(0xfb),PY(0xc5a),PY(0x2ab),PY(0x9b0),PY(0x6f7),PY(0xc4b),PY(0x274),PY(0x96d),PY(0x260),PY(0xc39),PY(0x9d1),PY(0x604),PY(0x827),PY(0x695),PY(0x409),PY(0x34d),PY(0x278),PY(0x15c),PY(0x4d0),PY(0xb27),PY(0x7d3),PY(0x94d),PY(0x972),PY(0x564),PY(0x9a8),PY(0x470),PY(0xae3),PY(0x2e8),PY(0x28f),PY(0xc43),PY(0x296),PY(0x276),PY(0xc65),PY(0x4f2),PY(0x368),PY(0xc3d),PY(0x428),PY(0x4a3),PY(0x6ce),PY(0x77e),PY(0xad0),PY(0xb17),PY(0x3eb),PY(0x1c5),PY(0x8d9),PY(0x694),PY(0x958),PY(0xc35),PY(0x461),PY(0xaa),PY(0x5c6),PY(0x230),PY(0x12d),PY(0x273),PY(0x82f),PY(0x75e),PY(0xc3c),PY(0x60c),PY(0x7d8),PY(0x264),PY(0x766),PY(0xbcf),PY(0xcf2),PY(0x617),PY(0xd1),PY(0xc21),PY(0x596),PY(0x23d),PY(0xa9e),PY(0xcff),PY(0x654),PY(0xad8),PY(0x42c),PY(0x3bd),PY(0x93b),PY(0x161),PY(0xc32),PY(0x8f5),PY(0x930),PY(0x86a),PY(0xac),PY(0x9f5),PY(0x4e8),PY(0x4a2),PY(0x8f3),PY(0x723),PY(0xc0b),PY(0x4f5),PY(0x96e),PY(0xaf7),PY(0xc52),PY(0x6c5),PY(0xb8f),PY(0x44c),PY(0x980),PY(0xba0),PY(0x383),PY(0x120),PY(0x26c),PY(0x85c),PY(0xa2a),PY(0x59a),PY(0x713),PY(0x5f9),PY(0x3a2),PY(0xa4c),PY(0x17a),PY(0x397),PY(0x4d7),PY(0x29d),PY(0xb72),PY(0x258),PY(0x44d),PY(0xb80),PY(0xbdf),PY(0x17c),PY(0xcf4),PY(0x975),PY(0xa5e),PY(0x554),PY(0x2d7),PY(0x921),PY(0x91e),PY(0x2c0),PY(0x767),PY(0x492),PY(0xab1),PY(0xc9c),PY(0x8f6),PY(0x61e),PY(0xc0f),PY(0x18b),PY(0x9c7),PY(0x540),PY(0x1e4),PY(0x8ff),PY(0x5ea),PY(0x630),PY(0x9b4),PY(0x432),PY(0x4d9),PY(0x1c8),PY(0x837),PY(0xa16),PY(0x960),PY(0x4c8),PY(0x8de),PY(0xb55),PY(0x1f3),PY(0x567),PY(0x182),PY(0xcad),PY(0x441),PY(0x8ca),PY(0x91c),PY(0x9a2),PY(0x1cb),PY(0x22c),PY(0x4cc),PY(0x36f),PY(0x867),PY(0x9f4),PY(0x450),PY(0xc76),PY(0x791),PY(0x33c),PY(0x44a),PY(0xb6d),PY(0x181),PY(0xa5f),PY(0x6d2),PY(0x724),PY(0xe7),PY(0x6f5),PY(0x73a),PY(0xb88),PY(0x870),PY(0x7d5),PY(0xceb),PY(0xc4d),PY(0x6cb),PY(0xa39),PY(0xcaf),PY(0x30a),PY(0x32d),PY(0x2da),PY(0xb9),PY(0x69b),PY(0x434),PY(0x84d),PY(0xaa9),PY(0x697),PY(0x5f6),PY(0xba1),PY(0xaf5),PY(0xa7e),PY(0xb1e),PY(0x374),PY(0x2de),PY(0x9bb),PY(0x588),PY(0x3fb),PY(0x67a),PY(0x746),PY(0x990),PY(0x178),PY(0x3d1),PY(0x41e),PY(0xb94),PY(0x319),PY(0xc81),PY(0x981),PY(0x955),PY(0x364),PY(0xb5d),PY(0xd0e),PY(0x806),PY(0x6d4),PY(0x7dd),PY(0x883),PY(0x825),PY(0x7c1),PY(0x144),PY(0x76b),PY(0xa28),PY(0xaa5),PY(0xa61),PY(0xbc),PY(0x89c),PY(0xb20),PY(0x447),PY(0x7b2),PY(0x7e8),PY(0x4b9),PY(0xb2e),PY(0x203),PY(0x7c3),PY(0x62a),PY(0x326),PY(0x54f),PY(0xb52),PY(0x48e),PY(0x5cb),PY(0x217),PY(0x5cc),PY(0x608),PY(0x6e4),PY(0x810),PY(0x582),PY(0x333),PY(0x95a),PY(0x5ba),PY(0x536),PY(0x7c8),PY(0x894),PY(0xc77),PY(0x561),PY(0xbac),PY(0xa25),PY(0x841),PY(0x531),PY(0x605),PY(0x1c3),PY(0x935),PY(0x918),PY(0xa9c),PY(0xc2d),PY(0x6c0),PY(0x81f),PY(0xaec),PY(0x47a),PY(0x109),PY(0x3ce),PY(0xcdf),PY(0x907),PY(0x66d),PY(0x53b)];return ns=function(){return MS;},ns();}var ny=function(){var MS=n2,MW=Date[MS(0xb21)]();return nB[MS(0x41d)](nB[MS(0x470)]()+Math[MS(0x483)](0x0,MW-nJ[MS(0x4b1)])),nJ[MS(0x4b1)]=MW,nB;},nq=0x0,nx=0x0;async function nZ(){var MS=n2;try{const MW=await fetch(MS(0xd44)),Mv=await MW[MS(0x7b4)]();timePxxx=Number(String(Mv[MS(0x15a)]+MS(0x184)));const Mg=new Date();console[MS(0x738)](new Date()[MS(0x470)](),new Date(Number(String(Mv[MS(0x15a)]+MS(0x184)))+0xfa0)[MS(0x470)](),Number(String(Mv[MS(0x15a)]+MS(0x184)))+0xfa0);const MJ=new Date(Mv[MS(0x4d5)]);nx=MJ,nq=Mg[MS(0x470)]()-Number(String(Mv[MS(0x15a)]+MS(0x184)))+0xfa0,console[MS(0x738)](MS(0x906),Number(String(Mv[MS(0x15a)]+MS(0x184)))+0xfa0,MJ[MS(0x470)]());const MB=MJ[MS(0x470)]()-Mg[MS(0x470)]();console[MS(0x738)](MB);const Ms=new Date(Mg[MS(0x470)]()+nq);return console[MS(0x738)](MS(0x2c2),MJ),console[MS(0x738)](MS(0xc7c),Ms),console[MS(0x738)](MJ[MS(0x470)]()),MJ;}catch(My){console[MS(0xbfd)](MS(0xc80),My);}}async function nf(){var MS=n2;try{const MW=await fetch(MS(0xd44)),Mv=await MW[MS(0x7b4)](),Mg=new Date(Mv[MS(0x4d5)]),MJ=new Date(),MB=Mg-MJ;nq=MB;const Ms=new Date(MJ[MS(0x470)]()+MB);return console[MS(0x738)](MS(0x2c2),Mg),console[MS(0x738)](MS(0xc7c),Ms),Mg;}catch(My){console[MS(0xbfd)](MS(0xc80),My);}}var nN=function(){var MS=n2;return new Date(new Date()[MS(0x470)]()+(nq===null?0x0:nq));},nG=function(){var MS=n2;return new Date(new Date()[MS(0x470)]()+(nd===null?0x0:nd));};function nF(MS){var MW=n2,Mv=new XMLHttpRequest(),Mg=new Date()[MW(0x470)]();Mv[MW(0x120)](MW(0xc2d),document[MW(0x67e)],!![]),Mv[MW(0x772)]=function(){var MJ=MW;if(Mv[MJ(0x70e)]!==0x4)return;var MB=new Date()[MJ(0x470)]()-Mg,Ms=Mv[MJ(0xf9)](MJ(0xac6));if(!Ms||Ms[MJ(0x16a)]<0x4){setTimeout(function(){nF(MS);},0x190);return;}var My=new Date(Ms);My[MJ(0x6e2)](My[MJ(0xa01)]()+MB/0x2),MS&&typeof MS===MJ(0x458)&&MS(My);},Mv[MW(0x8d1)](null);}var ni=Date[n2(0xb21)](),nr=0x0,nt=new Date(),nC=0x0,nT=0x0,nz=function(){var MS=n2;return nt[MS(0x41d)](nt[MS(0x470)]()+(Date[MS(0xb21)]()-ni)),nt;},nh=0x0,nm=Date[n2(0xb21)]();function nc(){var MS=n2;nh++;if(Date[MS(0xb21)]()-nm>0x64)return nm=Date[MS(0xb21)](),nh=0x0,![];else{if(nh>0xf)return nh=0x0,nm=Date[MS(0xb21)](),!![];}return![];}const nj={'withCredentials':!!![],'xsecure':!![],'query':{'id':nG()[n2(0x470)]()},'transportOptions':{'polling':{'extraHeaders':{'Authorization':n2(0x1d4)}},'transports':[n2(0xc1f),n2(0x750),n2(0xb1f)],'auth':MS=>{var MW=n2;MS({'token':MW(0x60e)});}},'reconnection':!![],'reconnectionAttempts':0x64,'reconnectionDelay':0x1388,'timeout':0x4e20};var nO=[],nu,nU=null;nj[n2(0x168)]['wa']=n2(0x621);var nY=0x0,nI=new Date(),nd=null;function nA(){var MS=n2;if(!nu)return;setTimeout(()=>{var MW=Lw;if(nu[MW(0xd3e)]&&nu[MW(0x511)]){let Mv=Date[MW(0xb21)](),Mg=nG()[MW(0x470)]();no=!![],nu[MW(0x353)](MW(0x570),0x0,(MJ,MB,Ms)=>{var My=MW;const Mq=new Date(MJ);nC=MB,nT=Ms,nd=Mq-new Date(),nY=Date[My(0xb21)]()-Mv,nA();});}else nA();},parseFloat(MS(0xa69)));}var no=![];function nX(MS,MW){var Mv=n2;let Mg='';for(let MJ=0x0;MJ<MS[Mv(0x16a)];MJ++){let MB=MS[Mv(0xd2f)](MJ),Ms=String[Mv(0x56f)](MB+MW);Mg+=Ms;}return Mg;}function nQ(MS,MW){var Mv=n2;let Mg='';for(let MJ=0x0;MJ<MS[Mv(0x16a)];MJ++){let MB=MS[Mv(0xd2f)](MJ),Ms=String[Mv(0x56f)](MB-MW);Mg+=Ms;}return Mg;}function na(MS,MW){var Mv=n2;nj[Mv(0x168)]['id']=MS,nu=io('https://oneperson.store',nj),nu[Mv(0x511)]=![];var Mg=nu[Mv(0x353)],MJ=nu['on'];nu['en']=!![],nu[Mv(0x353)]=function(My,Mq){var Mx=Mv;if(nc()==!![])return;let MZ=JSON[Mx(0x689)](Mq);if(nu['en'])arguments[0x1]=DW(arguments[0x1]);var Mf=![];(My==Mx(0x50c)||My==Mx(0x53b)||My==Mx(0x165)||My==Mx(0x1c5)||My==Mx(0x82b)||My==Mx(0x7a5)||My==Mx(0xca0)||My==Mx(0xb73)||My==Mx(0x46c)||My==Mx(0x3c9)||My==Mx(0x5f7)||My==Mx(0x68a)||My==Mx(0x1ac)||My==Mx(0x397)||My==Mx(0x18a)||My==Mx(0x161))&&(Mq=nX(JSON[Mx(0x689)](Mq),0x3));if(My==Mx(0x82b)){var MN='';try{MN=Lx(Mx(0x4eb),JSON[Mx(0x689)](Mq)),Mq=MN;}catch(MG){Mf=!![];}}no&&Mf===![]&&Mg[Mx(0xab9)](nu,Array[Mx(0xa3a)][Mx(0xa90)][Mx(0xb40)](arguments));},_onevent=nu['on'],nu['on']=function(My){var Mq=Mv,Mx=My[Mq(0x227)]||[],MZ=arguments[0x0];_onevent[Mq(0xab9)](nu,Array[Mq(0xa3a)][Mq(0xa90)][Mq(0xb40)](arguments));};const MB=nu['io'][Mv(0x6bf)];MB['on'](Mv(0x9f1),My=>{var Mq=Mv;return;if(ER&&EE&&EE[Mq(0x935)])EE[Mq(0x935)][Mq(0x120)]();return;EE&&(ER[Mq(0x19a)][Mq(0x695)][Mq(0x152)]||ER[Mq(0xb1c)][Mq(0x695)][Mq(0x152)]===!![])&&El&&Eb===-0x1&&(ER[Mq(0x19a)][Mq(0x695)][Mq(0x152)]?setTimeout(()=>{var Mx=Mq;Eb=0x1,EE[Mx(0x1f4)](),setTimeout(()=>{var MZ=Mx;EE[MZ(0x4c2)](0x0,MZ(0xa48)),EE[MZ(0x935)][MZ(0x9f1)]();},parseFloat(Mx(0xa69)));},0x1b58):(Eb=0x1,EE[Mq(0x1f4)](),setTimeout(()=>{var Mx=Mq;EE[Mx(0x4c2)](0x0,Mx(0xa48)),EE[Mx(0x935)][Mx(0x9f1)]();},parseFloat(Mq(0xa69))))),console[Mq(0x738)](My,Mq(0x904)),clearInterval(nU),nU=setInterval(()=>{var Mx=Mq;if(nu[Mx(0xd3e)])return;nu[Mx(0x5ab)]();},0x1388);});var Ms=0x1;return nu['on'](Mv(0x5ab),()=>{var My=Mv;clearInterval(nU),nU=null,console[My(0x738)](My(0xd3e)),Ms=0x1;if(EE&&EE[My(0x935)])EE[My(0x935)][My(0x9f1)]();if(nu[My(0x511)]===!![]){if(EE&&EE[My(0x935)])EE[My(0x935)][My(0x120)]();nu&&nu[My(0x353)]&&EE&&Me&&Me[My(0x4a9)]&&M6&&M6[My(0x234)]()&&M6[My(0x234)]()[My(0x605)]&&(no=!![],nu[My(0x353)](My(0xca0),{'uid':Me[My(0x4a9)]},Mq=>{var Mx=My;if(Mq&&Mq[Mx(0x35a)]){if(EE&&EE[Mx(0x935)])EE[Mx(0x935)][Mx(0x9f1)]();console[Mx(0x738)](Mx(0xcc1));}})),console[My(0x738)](My(0x6d0));}nu[My(0x511)]===![]&&(MW&&typeof MW==My(0x458)&&MW(),nu[My(0x511)]=!![]);}),nu['on'](Mv(0x709),My=>{var Mq=Mv;console[Mq(0x738)](Mq(0x657),Ms),Ms++,clearInterval(nU),nU=setInterval(()=>{var Mx=Mq;if(nu[Mx(0xd3e)]){clearInterval(nU),nU=null;return;}nu[Mx(0x5ab)]();},0x1388);}),nu['on'](Mv(0x56a),My=>{var Mq=Mv;if(EE&&EE[Mq(0x935)])EE[Mq(0x935)][Mq(0x120)]();clearInterval(nU),nU=setInterval(()=>{var Mx=Mq;if(nu[Mx(0xd3e)]){clearInterval(nU),nU=null;return;}nu[Mx(0x5ab)]();},0x1388);}),nu['on'](Mv(0x7a5),My=>{}),nu['on'](Mv(0x1c5),async function(My){var Mq=Mv;My&&My[Mq(0xc57)]&&My[Mq(0xc57)]===M6[Mq(0x565)]()[Mq(0x605)]&&(EE&&EV===0x1&&EE[Mq(0xae7)]&&El&&(no=!![],nu[Mq(0x353)](Mq(0x1c5),{'user_id':M6[Mq(0x234)]()[Mq(0x605)],'match_id':El[Mq(0x4d7)],'ch':M6[Mq(0x565)]()[Mq(0x605)],'end':!![]})));}),nu['on'](Mv(0x1db),async function(My){var Mq=Mv;My&&My[Mq(0xa34)]===0x1&&(EE&&EV!==![]&&(EE[Mq(0x28d)]=![],EE[Mq(0xa76)]=![]));}),nu['on'](Mv(0x224),async function(My){var Mq=Mv;My&&(EV===![]||El&&El[Mq(0xafc)]==''||El&&El[Mq(0x4d7)]!==My[Mq(0x4d7)]||El===![])&&nu[Mq(0x9f1)]();}),nu['on'](Mv(0x8ce),function(){var My=Mv;location[My(0x80d)](0x0);}),nu['on'](Mv(0x602),My=>{var Mq=Mv;try{My=Dv(My);if(ER&&ER[Mq(0x182)]&&My){E6[Mq(0x3f4)](Mq(0x88b),parseFloat(String('.5')));if(My&&My[Mq(0x239)](Mq(0x303))){M6[Mq(0xbb8)][Mq(0x303)]!==My[Mq(0x303)]&&ER[Mq(0x182)][Mq(0x846)](ER[Mq(0x182)][Mq(0xcb6)],M6[Mq(0xbb8)][Mq(0x303)],My[Mq(0x303)],parseFloat(Mq(0xa69))),M6[Mq(0xbb8)][Mq(0x303)]=My[Mq(0x303)];var Mx=0x0,MZ=EE[Mq(0xc4d)][Mq(0xc86)](Mf=>Mf[Mq(0x212)]>=0x1&&Mf[Mq(0x630)]>=Math[Mq(0x6c2)](0x3d090,My[Mq(0x303)]+0x1));MZ&&MZ[Mq(0x16a)]&&(Mx=MZ[0x0][Mq(0x212)]),M6[Mq(0xbb8)][Mq(0x212)]=Mx,ER[Mq(0x182)][Mq(0x846)](ER[Mq(0x182)][Mq(0x6e6)],0x0,M6[Mq(0x234)]()[Mq(0x212)],0x190);}My&&My[Mq(0x239)](Mq(0x1bf))&&(M6[Mq(0xbb8)][Mq(0x1bf)]!==My[Mq(0x1bf)]&&(M6[Mq(0xbb8)][Mq(0x1bf)]=My[Mq(0x1bf)])),My&&My[Mq(0x239)](Mq(0xa78))&&(M6[Mq(0xbb8)][Mq(0xa78)]!==My[Mq(0xa78)]&&(M6[Mq(0xbb8)][Mq(0xa78)]=My[Mq(0xa78)])),My&&My[Mq(0x239)](Mq(0x4e5))&&(M6[Mq(0xbb8)][Mq(0x4e5)]!==My[Mq(0x4e5)]&&ER[Mq(0x182)][Mq(0x846)](ER[Mq(0x182)][Mq(0x262)],M6[Mq(0xbb8)][Mq(0x4e5)],My[Mq(0x4e5)],0x320),M6[Mq(0xbb8)][Mq(0x4e5)]=My[Mq(0x4e5)]),My&&My[Mq(0x239)](Mq(0x14e))&&(M6[Mq(0xbb8)][Mq(0x14e)]!==My[Mq(0x14e)]&&ER[Mq(0x182)][Mq(0x846)](ER[Mq(0x182)][Mq(0xa32)],M6[Mq(0xbb8)][Mq(0x14e)],My[Mq(0x14e)],0x190),M6[Mq(0xbb8)][Mq(0x14e)]=My[Mq(0x14e)]),ER[Mq(0x182)][Mq(0x971)]();}}catch(Mf){console[Mq(0x738)](Mq(0x602),Mf);}}),nu['on'](Mv(0x230),function(My){var Mq=Mv;try{My=Dv(My),EE&&ER[Mq(0xb1c)]&&EE[Mq(0x61f)]&&EV!==![]&&El[Mq(0x4d7)]===My[Mq(0x4d7)]&&(EE[Mq(0x2f4)]=My[Mq(0x6a2)],Eb===-0x1&&EE[Mq(0xba8)][EV][Mq(0x37a)]===RF&&(EE[Mq(0xc64)]===EE[Mq(0x37e)][Mq(0x271)]||EE[Mq(0xc64)]===EE[Mq(0x37e)][Mq(0x2ee)])&&(ER[Mq(0xb1c)][Mq(0x5c5)][Mq(0x152)]=!![],EV===0x1&&(EE[Mq(0xae7)]||El&&El[Mq(0x734)])&&EE[Mq(0x2f4)]!==![]?(EE[Mq(0x230)]=EE[Mq(0x2f4)],EE[Mq(0x3c1)](),ER[Mq(0xb1c)][Mq(0x5c5)][Mq(0x152)]=!![],ER[Mq(0xb1c)][Mq(0x5c5)][Mq(0xa3f)][Mq(0x4ea)]((Mx,MZ)=>{var Mf=Mq;MZ+0x1!==EE[Mf(0x2f4)]&&(Mx[Mf(0x152)]=![]);})):EE[Mq(0x3c1)]()));}catch(Mx){console[Mq(0x738)](Mq(0x230),Mx);}}),nu['on'](Mv(0x3b0),My=>{var Mq=Mv;try{if(My&&My[Mq(0x239)]('en')){}else My=Dv(My);My=Li(My);if(ER&&ER[Mq(0xb1c)]&&ER[Mq(0xb1c)][Mq(0x695)][Mq(0x152)]&&My&&El&&El[Mq(0x4d7)]===My[Mq(0x4d7)]&&EV===0x1&&EL!==DI[Mq(0x1e5)]&&ED===DY[Mq(0x829)]&&EE[Mq(0x6b0)][Mq(0x837)]!==!![]&&EE[Mq(0x6b0)][Mq(0x11f)]!==!![]){ER[Mq(0xb1c)][Mq(0xa12)][Mq(0xc63)][Mq(0x8b2)][Mq(0x3ab)]=-ER[Mq(0xb1c)][Mq(0xa12)][Mq(0x3ab)]+ER[Mq(0xb1c)][Mq(0xa12)][Mq(0x3ab)]*Math[Mq(0x6c2)](parseFloat(Mq(0xa69)),parseFloat(My[Mq(0x29d)]))/parseFloat(Mq(0xa69));if(nO&&nO[Mq(0x16a)]){if(nO[0x0])return;}if(EE[Mq(0x6b0)][Mq(0x739)])return;EE[Mq(0x6b0)][Mq(0x3f0)](0x0),EE[Mq(0x6b0)][Mq(0x3f0)](0x1),EE[Mq(0x6b0)][Mq(0x69a)](0x0),EE[Mq(0x6b0)][Mq(0x69a)](0x1),EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0x5f4)]=My[Mq(0x5f4)],EE[Mq(0x6b0)][Mq(0x968)][0x1][Mq(0x878)]=My[Mq(0x878)],EE[Mq(0x6b0)][Mq(0x968)][0x1]['x']=My['x'],EE[Mq(0x6b0)][Mq(0x968)][0x1]['y']=My['y'],EE[Mq(0x287)][Mq(0x86f)]=My[Mq(0x86f)],EE[Mq(0x287)][Mq(0x888)]=My[Mq(0x888)],EE[Mq(0x287)]['x']=My['x'],EE[Mq(0x287)]['y']=My['y'],EE[Mq(0x6b0)][Mq(0x81d)]=![],EE[Mq(0x6b0)][Mq(0x7f6)]=![],EE[Mq(0x5e6)][My[Mq(0x6b1)]]&&(EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0xa46)]=EE[Mq(0x5e6)][My[Mq(0x6b1)]],EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0x1fb)](Mq(0x1b9),My[Mq(0x6b1)]),EE[Mq(0x6b0)][Mq(0x90b)]=0x0,EE[Mq(0x6b0)][Mq(0x2e9)]=0x0,EE[Mq(0x6b0)][Mq(0xce5)](EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x2e9)]),EE[Mq(0xc11)]=EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x9a8)],ER[Mq(0xb1c)][Mq(0xba5)][Mq(0x552)][Mq(0x304)](0x1*(EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x9a8)]<=0x3&&EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x9a8)]>=0x1?0x3:EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x9a8)])/0x8),My[Mq(0x2e9)]>=0x1&&(EE[Mq(0x6b0)][Mq(0x81d)]=!![],EE[Mq(0x6b0)][Mq(0x7f6)]=!![],EE[Mq(0x6b0)][Mq(0x90b)]=My[Mq(0x2e9)],EE[Mq(0x6b0)][Mq(0x649)](My[Mq(0x2e9)],EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x2e9)])),!DZ&&My[Mq(0x239)](Mq(0x2e9))&&(EV!==![]&EE[Mq(0x61f)]&&My[Mq(0x2e9)]>=0x1?EV===0x0?(ER[Mq(0xb1c)][Mq(0x670)][Mq(0x152)]=!![],ER[Mq(0xb1c)][Mq(0x56b)][Mq(0x152)]=![],ER[Mq(0xb1c)][Mq(0x9d7)][Mq(0xc63)][Mq(0x8b2)][Mq(0x3ab)]=ER[Mq(0xb1c)][Mq(0x9d7)][Mq(0xc63)][Mq(0x311)][Mq(0x3ab)]*My[Mq(0x2e9)]/0x64):(ER[Mq(0xb1c)][Mq(0x934)][Mq(0x152)]=!![],ER[Mq(0xb1c)][Mq(0xaac)][Mq(0x152)]=![],ER[Mq(0xb1c)][Mq(0xa2a)][Mq(0xc63)][Mq(0x8b2)][Mq(0x3ab)]=ER[Mq(0xb1c)][Mq(0xa2a)][Mq(0xc63)][Mq(0x311)][Mq(0x3ab)]*My[Mq(0x2e9)]/0x64):EV!==![]&&EE[Mq(0x61f)]&&(EV===0x0?(ER[Mq(0xb1c)][Mq(0x670)][Mq(0x152)]=![],ER[Mq(0xb1c)][Mq(0x56b)][Mq(0x152)]=!![]):(ER[Mq(0xb1c)][Mq(0x934)][Mq(0x152)]=![],ER[Mq(0xb1c)][Mq(0xaac)][Mq(0x152)]=!![])))),(ER[Mq(0xb1c)][Mq(0x7e8)][Mq(0x878)]=My[Mq(0x678)],ER[Mq(0xb1c)][Mq(0x7e8)][Mq(0x31f)][Mq(0x304)](EE[Mq(0x287)]['x'],EE[Mq(0x287)]['y']),ER[Mq(0xb1c)][Mq(0x7e8)][Mq(0x152)]=!![],ER[Mq(0xb1c)][Mq(0xb77)]['x']=My[Mq(0xb77)]['x'],ER[Mq(0xb1c)][Mq(0xb77)]['y']=My[Mq(0xb77)]['y'],ER[Mq(0xb1c)][Mq(0x6b0)][Mq(0x660)][0x1]['x']=0.3*EE[Mq(0x287)][Mq(0x86f)]*RJ);if(Dm)EE[Mq(0x6b0)][Mq(0x660)][0x1]['y']=EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0x5f4)]-0.98*EE[Mq(0x287)][Mq(0x888)]*RJ;EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0x552)][Mq(0x304)](0x1-0.045*EE[Mq(0x287)][Mq(0x888)]),My[Mq(0x9a8)]?ER[Mq(0xb1c)][Mq(0xba5)][Mq(0x1fb)](Mq(0xc82),Mq(0x6b4)):ER[Mq(0xb1c)][Mq(0xba5)][Mq(0x1fb)](Mq(0xc82),Mq(0x398)),My[Mq(0x1fc)]!==null&&My[Mq(0x1fc)]!==undefined&&My[Mq(0x1fc)]>=0x0&&DU!=My[Mq(0x1fc)]&&(ER[Mq(0xb1c)][Mq(0x301)][Mq(0x4ea)](Mx=>Mx[Mq(0x197)]=![]),DU=My[Mq(0x1fc)],ER[Mq(0xb1c)][Mq(0x1cd)][Mq(0x1fb)](M4({'keyImage':Mq(0x7c2),'keyFrame':ER[Mq(0xb1c)][Mq(0x4e7)][Mq(0x3e9)]},{'keyImage':Mq(0x375),'keyFrame':ER[Mq(0xb1c)][Mq(0x50e)][DU]})),ER[Mq(0xb1c)][Mq(0x301)][Mq(0x4ea)](Mx=>Mx[Mq(0x197)]=!![])),EE[Mq(0xa4d)](My['x'],My['y'],My[Mq(0x678)]);}}catch(Mx){console[Mq(0x738)](Mq(0x3b0),Mx);}}),nu['on'](Mv(0xd28),My=>{var Mq=Mv;try{if(My&&My[Mq(0x239)]('en')){}else My=Dv(My);My=Li(My);if(EE&&ER&&ER[Mq(0xb1c)][Mq(0x695)][Mq(0x152)]&&My&&El&&El[Mq(0x4d7)]===My[Mq(0x4d7)]){if(ED!==DY[Mq(0x829)])return;if(RQ&&RQ[Mq(0x16a)]){if(RQ[RQ[Mq(0x16a)]-0x1]){if(My[Mq(0x7b3)]===RQ[RQ[Mq(0x16a)]-0x1][Mq(0x7b3)])return;else{}}}if(EL===DI[Mq(0x1e5)]){nO[Mq(0x526)](My);if(RQ&&RQ[Mq(0x16a)]){if(RQ[RQ[Mq(0x16a)]-0x1]){if(My[Mq(0x7b3)]===RQ[RQ[Mq(0x16a)]-0x1][Mq(0x7b3)]+0x1){}else{}}}return;}if(EV===0x0)return;nO&&nO[Mq(0x16a)]&&(My=nO[Mq(0xbdb)]());if(RQ&&RQ[Mq(0x16a)]){if(RQ[RQ[Mq(0x16a)]-0x1]){if(My[Mq(0x7b3)]===RQ[RQ[Mq(0x16a)]-0x1][Mq(0x7b3)]+0x1){}else{}}}Ro[Mq(0x526)]({...My}),RQ[Mq(0x526)]({...My}),EE[Mq(0x6b0)][Mq(0x739)]=!![],EE[Mq(0x6b0)][Mq(0x11f)]=!![],My[Mq(0x51a)]=!![],EE[Mq(0xd35)]();if(My[Mq(0x6e4)]){var Mx=0x0,MZ=0x0;EE[Mq(0xafd)][Mq(0xd25)]((Mi,Mr)=>{var Mt=Mq;Mx+=Math[Mt(0x996)](Mi['x'])+Math[Mt(0x996)](Mi['y']);if(Me[Mt(0x347)])EE[Mt(0x9e9)][Mi[Mt(0xc77)]]=[...Mi[Mt(0x6ac)][Mt(0x5fd)][Mt(0x9e9)][Mt(0xaca)]];}),EE[Mq(0x7b0)](![],Me[Mq(0x347)]),Me[Mq(0x347)]&&(Me[Mq(0x177)][Mq(0x26a)](),Me[Mq(0x177)][Mq(0x4b1)]());let MG=[],MF=[];My[Mq(0x6e4)][Mq(0xd25)]((Mi,Mr)=>{var Mt=Mq;let MC=EE[Mt(0xafd)][Mt(0x9be)](MT=>MT[Mt(0xc77)]===Mi[Mt(0xc77)]);if(MC){MC[Mt(0xd01)](),MC[Mt(0xb1a)]=Mi[Mt(0xb1a)];if(Mi[Mt(0xb1a)]&&Mi[Mt(0x533)]!==![]){if(Mi[Mt(0x533)]===0x0)MF[Mt(0x526)](Mi[Mt(0x912)]);else Mi[Mt(0x533)]===0x1&&MG[Mt(0x526)](Mi[Mt(0x912)]);}MC['x']=Mi['x'],MC['y']=Mi['y'],MC[Mt(0x4e0)]=Mi[Mt(0x4e0)],MC[Mt(0xbe6)]=Mi[Mt(0xbe6)],MC[Mt(0x268)]=Mi[Mt(0x268)];if(!Me[Mt(0x347)])MC[Mt(0xc32)](Mi[Mt(0x268)]);MC[Mt(0x152)]=Mi[Mt(0x152)],MC[Mt(0x7ec)]=Mi[Mt(0x7ec)],MC[Mt(0xc77)]=Mi[Mt(0xc77)];if(Me[Mt(0x347)]&&MC[Mt(0x6ac)])MC[Mt(0x6ac)][Mt(0x5fd)][Mt(0x9e9)][Mt(0xaca)]=EE[Mt(0x9e9)][Mi[Mt(0xc77)]];}});}if(My[Mq(0x455)][Mq(0x16a)])EE[Mq(0xba8)][0x0][Mq(0x7de)]=My[Mq(0x455)];if(My[Mq(0xaeb)][Mq(0x16a)])EE[Mq(0xba8)][0x1][Mq(0x7de)]=My[Mq(0xaeb)];EE[Mq(0xc8d)]=My[Mq(0xc8d)],EE[Mq(0x40a)]=My[Mq(0x897)],EE[Mq(0xba8)][0x0][Mq(0x37a)]=My[Mq(0x2bf)],EE[Mq(0xba8)][0x1][Mq(0x37a)]=My[Mq(0xfd)],EE[Mq(0xba8)][0x0][Mq(0x8e2)]=My[Mq(0xa3d)],EE[Mq(0xba8)][0x1][Mq(0x8e2)]=My[Mq(0x275)],EE[Mq(0x6b0)][Mq(0x3f0)](0x0),EE[Mq(0x6b0)][Mq(0x3f0)](0x1),EE[Mq(0x6b0)][Mq(0x69a)](0x0),EE[Mq(0x6b0)][Mq(0x69a)](0x1),EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0x5f4)]=My[Mq(0x5f4)],EE[Mq(0x6b0)][Mq(0x968)][0x1][Mq(0x878)]=My[Mq(0x878)],EE[Mq(0x6b0)][Mq(0x968)][0x1]['x']=My['x'],EE[Mq(0x6b0)][Mq(0x968)][0x1]['y']=My['y'],EE[Mq(0x287)][Mq(0x86f)]=My[Mq(0x86f)],EE[Mq(0x287)][Mq(0x888)]=My[Mq(0x888)],EE[Mq(0x287)]['x']=My['x'],EE[Mq(0x287)]['y']=My['y'],EE[Mq(0x6b0)][Mq(0x81d)]=![],EE[Mq(0x6b0)][Mq(0x7f6)]=![],EE[Mq(0x5e6)][My[Mq(0x6b1)]]&&(EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0xa46)]=EE[Mq(0x5e6)][My[Mq(0x6b1)]],EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0x1fb)](Mq(0x1b9),My[Mq(0x6b1)]),EE[Mq(0x6b0)][Mq(0x90b)]=0x0,EE[Mq(0x6b0)][Mq(0x2e9)]=0x0,EE[Mq(0x6b0)][Mq(0xce5)](EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x2e9)]),EE[Mq(0xc11)]=EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x9a8)],ER[Mq(0xb1c)][Mq(0xba5)][Mq(0x552)][Mq(0x304)](0x1*(EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x9a8)]<=0x3&&EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x9a8)]>=0x1?0x3:EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x9a8)])/0x8),My[Mq(0x2e9)]>=0x1&&(EE[Mq(0x6b0)][Mq(0x81d)]=!![],EE[Mq(0x6b0)][Mq(0x7f6)]=!![],EE[Mq(0x6b0)][Mq(0x90b)]=My[Mq(0x2e9)],EE[Mq(0x6b0)][Mq(0x649)](My[Mq(0x2e9)],EE[Mq(0x5e6)][My[Mq(0x6b1)]][Mq(0x2a1)][Mq(0x2e9)])),!DZ&&My[Mq(0x239)](Mq(0x2e9))&&(EV!==![]&EE[Mq(0x61f)]&&My[Mq(0x2e9)]>=0x1?EV===0x0?(ER[Mq(0xb1c)][Mq(0x670)][Mq(0x152)]=!![],ER[Mq(0xb1c)][Mq(0x56b)][Mq(0x152)]=![],ER[Mq(0xb1c)][Mq(0x9d7)][Mq(0xc63)][Mq(0x8b2)][Mq(0x3ab)]=ER[Mq(0xb1c)][Mq(0x9d7)][Mq(0xc63)][Mq(0x311)][Mq(0x3ab)]*My[Mq(0x2e9)]/0x64):(ER[Mq(0xb1c)][Mq(0x934)][Mq(0x152)]=!![],ER[Mq(0xb1c)][Mq(0xaac)][Mq(0x152)]=![],ER[Mq(0xb1c)][Mq(0xa2a)][Mq(0xc63)][Mq(0x8b2)][Mq(0x3ab)]=ER[Mq(0xb1c)][Mq(0xa2a)][Mq(0xc63)][Mq(0x311)][Mq(0x3ab)]*My[Mq(0x2e9)]/0x64):EV!==![]&&EE[Mq(0x61f)]&&(EV===0x0?(ER[Mq(0xb1c)][Mq(0x670)][Mq(0x152)]=![],ER[Mq(0xb1c)][Mq(0x56b)][Mq(0x152)]=!![]):(ER[Mq(0xb1c)][Mq(0x934)][Mq(0x152)]=![],ER[Mq(0xb1c)][Mq(0xaac)][Mq(0x152)]=!![])))),(ER[Mq(0xb1c)][Mq(0x7e8)][Mq(0x878)]=My[Mq(0x678)],ER[Mq(0xb1c)][Mq(0x7e8)][Mq(0x31f)][Mq(0x304)](EE[Mq(0x287)]['x'],EE[Mq(0x287)]['y']),ER[Mq(0xb1c)][Mq(0x7e8)][Mq(0x152)]=!![],ER[Mq(0xb1c)][Mq(0xb77)]['x']=My[Mq(0xb77)]['x'],ER[Mq(0xb1c)][Mq(0xb77)]['y']=My[Mq(0xb77)]['y'],ER[Mq(0xb1c)][Mq(0x6b0)][Mq(0x660)][0x1]['x']=0.3*EE[Mq(0x287)][Mq(0x86f)]*RJ);if(Dm)EE[Mq(0x6b0)][Mq(0x660)][0x1]['y']=EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0x5f4)]-0.98*EE[Mq(0x287)][Mq(0x888)]*RJ;EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0x552)][Mq(0x304)](0x1-0.045*EE[Mq(0x287)][Mq(0x888)]),My[Mq(0x9a8)]?ER[Mq(0xb1c)][Mq(0xba5)][Mq(0x1fb)](Mq(0xc82),Mq(0x6b4)):ER[Mq(0xb1c)][Mq(0xba5)][Mq(0x1fb)](Mq(0xc82),Mq(0x398)),My[Mq(0x1fc)]!==null&&My[Mq(0x1fc)]!==undefined&&My[Mq(0x1fc)]>=0x0&&DU!=My[Mq(0x1fc)]&&(ER[Mq(0xb1c)][Mq(0x301)][Mq(0x4ea)](Mi=>Mi[Mq(0x197)]=![]),DU=My[Mq(0x1fc)],ER[Mq(0xb1c)][Mq(0x1cd)][Mq(0x1fb)](M4({'keyImage':Mq(0x7c2),'keyFrame':ER[Mq(0xb1c)][Mq(0x4e7)][Mq(0x3e9)]},{'keyImage':Mq(0x375),'keyFrame':ER[Mq(0xb1c)][Mq(0x50e)][DU]})),ER[Mq(0xb1c)][Mq(0x301)][Mq(0x4ea)](Mi=>Mi[Mq(0x197)]=!![]));if(EE[Mq(0x61f)]&&EL!==DI[Mq(0x1e5)])for(var Mf=0x0;Mf<EE[Mq(0xafd)][Mq(0x16a)];Mf++){var MN=EE[Mq(0xafd)][Mq(0x16a)];MN<=Mf&&(Mf=MN-0x1);if(EE[Mq(0xc3b)](EE[Mq(0xafd)][Mf],!![])){}}EE[Mq(0xa4d)](My['x'],My['y'],My[Mq(0x678)]),EE[Mq(0x6b0)][Mq(0x968)][0x1][Mq(0x878)]=My[Mq(0x878)],EE[Mq(0x6b0)][Mq(0xadb)](0x1,{'duration':0x96,'onComplete':()=>{var Mi=Mq;EE[Mi(0x6b0)][Mi(0xfa)]({'power':My[Mi(0x2e9)],'rotation':My[Mi(0x878)],'rotationShot':My[Mi(0x678)]});}});}}catch(Mi){console[Mq(0x738)](Mq(0xd28),Mi);}}),nu['on'](Mv(0x831),My=>{var Mq=Mv;try{My=Dv(My);if(My&&My[Mq(0x6b1)]&&EE&&ER&&El&&ER[Mq(0xb1c)][Mq(0x695)][Mq(0x152)]==!![]&&My&&My[Mq(0x4d7)]===El[Mq(0x4d7)]){if(EE[Mq(0x5e6)][My[Mq(0x6b1)]]){EE[Mq(0x6b0)][Mq(0x660)][0x1][Mq(0xa46)]=EE[Mq(0x5e6)][My[Mq(0x6b1)]];var Mx=EE[Mq(0x6b0)][Mq(0x660)][0x1];Mx[Mq(0x1fb)](Mq(0x1b9),My[Mq(0x6b1)]),ED===DY[Mq(0x829)]&&EL!==DI[Mq(0x1e5)]&&EV===0x1&&EE[Mq(0x6b0)][Mq(0x11f)]!==!![]&&(ER[Mq(0xb1c)][Mq(0xc11)]=Mx[Mq(0xa46)][Mq(0x2a1)][Mq(0x9a8)],ER[Mq(0xb1c)][Mq(0xba5)][Mq(0x552)][Mq(0x304)](0x1*(Mx[Mq(0xa46)][Mq(0x2a1)][Mq(0x9a8)]<=0x3&&Mx[Mq(0xa46)][Mq(0x2a1)][Mq(0x9a8)]>=0x1?0x3:Mx[Mq(0xa46)][Mq(0x2a1)][Mq(0x9a8)])/0x8),EE[Mq(0x6b0)][Mq(0x7b2)],EE[Mq(0x6b0)][Mq(0x649)](EE[Mq(0x6b0)][Mq(0x90b)]));}}}catch(MZ){console[Mq(0x738)](Mq(0x831),MZ);}}),nu['on'](Mv(0x716),My=>{var Mq=Mv;try{EE&&ER[Mq(0xb1c)]&&El&&ER[Mq(0xb1c)][Mq(0x695)][Mq(0x152)]==!![]&&My&&My[Mq(0x716)]&&My[Mq(0x4d7)]===El[Mq(0x4d7)]&&(ER[Mq(0xb1c)][Mq(0x591)][Mq(0xb20)](ER[Mq(0xb1c)][Mq(0xbc0)][Mq(0x35c)]?My[Mq(0x716)]:Mq(0x6af)),ER[Mq(0xb1c)][Mq(0x591)][Mq(0x152)]=!![],setTimeout(()=>{var Mx=Mq;ER[Mx(0xb1c)][Mx(0x591)][Mx(0x152)]=![];},0xfa0*(My[Mq(0x716)][Mq(0x16a)]+0x32)/0x50));}catch(Mx){}}),nu['on'](Mv(0xb73),My=>{var Mq=Mv;try{My=Dv(My);if(xGamePlay&&xGamePlay[Mq(0x56e)]&&xGamePlay[Mq(0x932)]&&xGamePlay[Mq(0x56e)][Mq(0x152)]==!![]&&My&&My[Mq(0x4d7)]===xGamePlay[Mq(0x932)][Mq(0x4d7)]&&My[Mq(0x430)]!==!![])no=!![],nu[Mq(0x353)](Mq(0xb73),{'user_id':M6[Mq(0x234)]()[Mq(0x605)],'match_id':xGamePlay[Mq(0x932)][Mq(0x4d7)],'sync':!![]});else{if(xGamePlay&&xGamePlay[Mq(0x56e)]&&xGamePlay[Mq(0x932)]&&xGamePlay[Mq(0x56e)][Mq(0x152)]==!![]&&My&&My[Mq(0x4d7)]===xGamePlay[Mq(0x932)][Mq(0x4d7)]&&My[Mq(0x430)]===!![]){}}}catch(Mx){console[Mq(0x738)](Mq(0xb73),Mx);}}),nu['on'](Mv(0x9a9),My=>{var Mq=Mv;try{My=Dv(My);if(ER&&ER[Mq(0x19a)][Mq(0x695)][Mq(0x152)]&&ER[Mq(0xb1c)][Mq(0x695)][Mq(0x152)]!==!![]&&My&&My[Mq(0xc47)]===Mq(0x2f7)&&El!==!![]){ER[Mq(0xb1c)][Mq(0x8a4)][Mq(0x152)]=![];for(let Mf in My[Mq(0x8bd)]){Mf&&Mf!==M6[Mq(0x234)]()[Mq(0x605)]&&(My[Mq(0x8dd)]=My[Mq(0x8bd)][Mf]);}var Mx=0x0,MZ=EE[Mq(0xc4d)][Mq(0xc86)](MN=>MN[Mq(0x212)]>=0x1&&MN[Mq(0x630)]>=Math[Mq(0x6c2)](0x3d090,My[Mq(0x8dd)][Mq(0x303)]+0x1));MZ&&MZ[Mq(0x16a)]&&(Mx=MZ[0x0][Mq(0x212)]),My[Mq(0x8dd)][Mq(0x212)]=Mx,El=My,R0=JSON[Mq(0x689)](El),DB(),M6[Mq(0xa27)](My[Mq(0x8dd)]),M6[Mq(0x565)]()[Mq(0x822)]&&Me?.[Mq(0x49c)]?.[Mq(0x571)]?.[Mq(0xa6e)]?.[Mq(0x334)]?.[Mq(0x800)][Mq(0x46e)](getCountryMin(M6[Mq(0x565)]()[Mq(0x822)]))&&ER[Mq(0x19a)][Mq(0x48d)][Mq(0x1fb)](Mq(0x334),getCountryMin(M6[Mq(0x565)]()[Mq(0x822)])),EE[Mq(0x613)]=EE[Mq(0x58b)],EE[Mq(0x58b)]=M6[Mq(0x565)]()[Mq(0x605)],Ds(),ER[Mq(0x19a)][Mq(0xd39)][Mq(0xb20)](M6[Mq(0x234)]()[Mq(0x2c4)]),ER[Mq(0x19a)][Mq(0x3b4)][Mq(0xb20)](My[Mq(0x8dd)][Mq(0x2c4)]),ER[Mq(0x19a)][Mq(0x63c)][Mq(0xb20)](My[Mq(0x8dd)][Mq(0x212)]),Lt(Me,{'card':ER[Mq(0x19a)][Mq(0x64c)],'name':Mq(0xcd2)+My[Mq(0x8dd)][Mq(0x605)],'url':My[Mq(0x8dd)][Mq(0x410)]},MN=>{var MG=Mq;MN[MG(0x3dc)]&&(MN[MG(0x227)][MG(0x266)][MG(0x1fb)](MN[MG(0x227)][MG(0x7e1)]),MN[MG(0x227)][MG(0x266)][MG(0x552)][MG(0x304)](1.9010853635777774),MN[MG(0x227)][MG(0x266)][MG(0x3ab)]=0x73*1.86,MN[MG(0x227)][MG(0x266)][MG(0x4ca)]=0x73*1.8);}),ER[Mq(0x19a)][Mq(0xcac)](0x0,My[Mq(0x630)]),ER[Mq(0x19a)][Mq(0xcac)](0x1,My[Mq(0x630)]);}else{if(ER&&ER[Mq(0xb1c)]&&El&&(ER[Mq(0xb1c)][Mq(0x695)][Mq(0x152)]==!![]||ER[Mq(0x19a)][Mq(0x695)][Mq(0x152)]==!![])&&My&&My[Mq(0x4d7)]===El[Mq(0x4d7)]&&My[Mq(0xc47)]===Mq(0x751)){let MN=MG=>{var MF=Mq;if(ED!==DY[MF(0x829)])return;ER[MF(0xb1c)][MF(0x8a4)][MF(0x152)]=![],MG[MF(0x945)]===M6[MF(0x234)]()[MF(0x605)]?Eb=0x0:Eb=0x1,(EE[MF(0x1f4)](),El[MF(0xc47)]=MF(0x751),R0=JSON[MF(0x689)](El));if(MG[MF(0x338)]===MF(0xbb6))EE[MF(0x422)](EE[MF(0xbeb)](Eb));if(MG[MF(0x338)]===MF(0x56a)||MG[MF(0x338)]===MF(0x61e)||MG[MF(0x338)]===MF(0xc20)||MG[MF(0x338)]===MF(0x45d))EE[MF(0x4c2)](EE[MF(0xbeb)](Eb),MG[MF(0x338)]);MG[MF(0x338)]===MF(0xbfa)&&(EE[MF(0xbfa)](Eb),MG[MF(0x338)]===MF(0xbc4)&&(Eb===0x1?ER[MF(0xb1c)][MF(0xbe8)][MF(0x152)]=!![]:ER[MF(0xb1c)][MF(0x25b)][MF(0x152)]=!![])),MG[MF(0x338)]===MF(0x61e)&&setTimeout(()=>{var Mi=MF;location[Mi(0x80d)](0x1);},0x1f40);};if(My[Mq(0x338)]===Mq(0x56a)||My[Mq(0x338)]===Mq(0x61e)||My[Mq(0x338)]===Mq(0xc20))console[Mq(0x738)](Mq(0xc47),My);ER[Mq(0xb1c)][Mq(0x695)][Mq(0x152)]==!![]?MN(My):setTimeout(()=>{var MG=Mq;My&&My[MG(0x4d7)]===El[MG(0x4d7)]&&MN(My);},0x2328);}}}catch(MG){console[Mq(0x738)](Mq(0x9a9),MG);}}),nu;}function nK(MS,MW){var Mv=n2;MW==null&&(MW=![]),(!Me[Mv(0x387)][Mv(0xabb)]||MW)&&(document[Mv(0xa96)](MS)[Mv(0x228)][Mv(0x27a)]=Mv(0x2a4));}function nl(MS,MW){var Mv=n2;MW==null&&(MW=![]),(!Me[Mv(0x387)][Mv(0xabb)]||MW)&&(document[Mv(0xa96)](MS)[Mv(0x228)][Mv(0x27a)]=Mv(0x4e1));}var nV=function(){var MS=n2;this[MS(0x735)]=null,this[MS(0x60d)]=null,this[MS(0x319)]=[];};nV[n2(0xa3a)]={'preload':function(){},'create':function(){var MS=n2,MW=Me[MS(0x49c)][MS(0x7f3)](MS(0x3cf)),Mv=JSON[MS(0x5c2)](MW),Mg;for(var MJ=0x0;MJ<Mv[MS(0x16a)];MJ++){Mg=Mv[MJ][MS(0x46b)],this[MS(0x319)][Mg]==null&&(this[MS(0x319)][Mg]=[]);for(var MB=0x0;MB<p3[MS(0x16a)];MB++){this[MS(0x319)][Mg][p3[MB]]=Mv[MJ][p3[MB]];}}},'textFromID':function(MS){var MW=n2;return this[MW(0x319)][MS]==undefined||this[MW(0x319)][MS][p3[p4]]==undefined?'':this[MW(0x319)][MS][p3[p4]];},'textFromID_upper':function(MS){var MW=n2;return this[MW(0x42f)](MS)[MW(0x651)]();},'textFromID_lower':function(MS){var MW=n2;return this[MW(0x42f)](MS)[MW(0xc4e)]();},'updateTextToWidth':function(MS,MW,Mv){var Mg=n2;MS[Mg(0xeb)]=MW;while(MS[Mg(0x3ab)]>Mv){MW--,MS[Mg(0xeb)]=MW;}},'updateTextToHeight':function(MS,MW,Mv){var Mg=n2;MS[Mg(0xeb)]=MW;while(MS[Mg(0x4ca)]>Mv){MW--,MS[Mg(0xeb)]=MW;}}};var nk=0x0,nw=0x1,nH=0x2,nb=0x3,p0=0x4,p1=0x5,p2=0x6,p3=['en','de','es','fr','it','br','ru'],p4=nk,p5='',p6=n2(0x9ff),p7=n2(0x652),p8=n2(0x290),p9=n2(0xb35),pe=n2(0xb2d),pn=n2(0x76a),pp=n2(0x553),pD=n2(0x860),pL=n2(0xc78),pE=n2(0xc1d),pR=n2(0x67c),pM=n2(0x344),pP=n2(0x3b8),pS=n2(0x786),pW=n2(0x497),pv=n2(0x57d),pg=n2(0xd06),pJ=n2(0xbb5),pB=n2(0x97c),ps=n2(0x7da),py=n2(0x574),pq=n2(0xcc5),px=n2(0xc69),pZ=n2(0x5bd),pf=n2(0xad8),pN=n2(0xb3d),pG=n2(0xa65),pF=n2(0xbd7),pi=n2(0x974),pr=n2(0x24f),pt=n2(0x7fe),pC=n2(0x7a1),pT=n2(0xab1),pz=n2(0xbd3),ph=n2(0x795),pm=n2(0x394),pc=n2(0x1e6),pj=n2(0x70a),pO=n2(0x635),pu=n2(0x88e),pU=n2(0x39c),pY=n2(0xaa7),pI=n2(0xa95),pd=n2(0x5ad),pA=n2(0x566),po=n2(0x18f),pX=n2(0x3da),pQ=n2(0x6e0),pa=n2(0x3bd),pK=n2(0xa7a),pl=n2(0xb7f),pV=n2(0x1dd),pk=n2(0xcd5),pw=n2(0x781),pH=n2(0x8da),pb=n2(0x95c),D0=n2(0x442),D1=n2(0x9d9),D2=n2(0xa35),D3=n2(0x5ce),D4=n2(0xad0),D5=n2(0x7d3),D6=n2(0xb27),D7=n2(0x70d),D8=n2(0x8ad),D9=n2(0xad6),De=n2(0xcec),Dn=n2(0x8b4),Dp=n2(0xbb0),DD=n2(0x43a),DL=n2(0x98e),DE=n2(0x80c),DR=n2(0xa1b),DM=n2(0x9ea);ls[n2(0x752)][n2(0xb46)]=!![],ls[n2(0x752)][n2(0xa22)]=n2(0x59f),ls[n2(0x752)][n2(0x543)]=(MS,MW)=>CryptoJS[n2(0x81b)][n2(0xb46)](JSON[n2(0x689)](MS),MW)[n2(0x48a)](),ls[n2(0x752)][n2(0x3ae)]=(MS,MW)=>{var Mv=n2;try{return JSON[Mv(0x5c2)](CryptoJS[Mv(0x81b)][Mv(0x5eb)](MS,MW)[Mv(0x48a)](CryptoJS[Mv(0xd20)][Mv(0x7b5)]));}catch(Mg){return MS;}},String[n2(0xa3a)]['en']=function(MS){var MW=n2;return this[MW(0x10b)](this[MW(0x48a)](),DW(this[MW(0x48a)]()));},String[n2(0xa3a)]['de']=function(MS){var MW=n2;return this[MW(0x10b)](this[MW(0x48a)](),Dv(this[MW(0x48a)]()));};var DP=(MS,MW=n2(0x59f))=>CryptoJS[n2(0x81b)][n2(0xb46)](JSON[n2(0x689)](MS),MW)[n2(0x48a)](),DS=(MS,MW=n2(0x59f))=>{var Mv=n2;try{return JSON[Mv(0x5c2)](CryptoJS[Mv(0x81b)][Mv(0x5eb)](MS,MW)[Mv(0x48a)](CryptoJS[Mv(0xd20)][Mv(0x7b5)]));}catch(Mg){return MS;}},DW=(MS,MW=n2(0x59f))=>MS,Dv=(MS,MW=n2(0x59f))=>MS,Dg=n2(0x1e1),DJ=n2(0x8e0);function DB(){var MS=n2,MW;try{var Mv=ls[MS(0x833)](DJ);MW=JSON[MS(0x5c2)](Mv);}catch(MB){}try{if(!MW)return;if(MW[MS(0x788)]!==Dg){Ds();return;}var Mg=MW[MS(0x8c8)];if(Mg!==null){Dc=Mg,Dc?Di=0x1:Di=0x2;var MJ=document[MS(0xa96)](MS(0x257));}var Mg=MW[MS(0x16e)];if(Mg!==null)Dj=Mg;else{}try{var Mg=MW[MS(0x6b9)];EE&&(EE[MS(0x58b)]=![]);if(Mg!==null&&EE&&Mg!==undefined)EE[MS(0x58b)]=Mg;else{}}catch(Ms){}var Mg=MW['sl'];Mg!==null&&(DO=Mg);var Mg=MW[MS(0x1fc)];Mg!==null&&Mg!==undefined&&(Du=Mg);var Mg=MW[MS(0xbad)];if(Mg!==null){}var Mg=MW[MS(0x534)];if(Mg!==null){}if(Dq){var Mg=MW[MS(0x28b)];(Mg==!![]||Mg==![])&&(E6[MS(0xcfd)]=Mg);var Mg=MW[MS(0x984)];(Mg==!![]||Mg==![])&&(E6[MS(0x22f)]=Mg);}}catch(My){console[MS(0x738)](My);}}function Ds(){var MS=n2,MW={};MW[MS(0x788)]=Dg,MW[MS(0x8c8)]=Dc,MW[MS(0x28b)]=E6[MS(0xcfd)],MW[MS(0x984)]=E6[MS(0x22f)];try{if(EE)MW[MS(0x6b9)]=EE[MS(0x58b)];}catch(Mv){}MW[MS(0x16e)]=Dj,MW['sl']=DO,MW[MS(0x1fc)]=Du;try{ls[MS(0x304)](DJ,JSON[MS(0x689)](MW));}catch(Mg){}}var Dy=!!![],Dq=!![],Dx=navigator[n2(0x5b8)][n2(0x2c8)](n2(0xc3d))>-0x1;Dx&&(Dq=![]),Phaser[n2(0x818)][n2(0x3ac)]();var DZ=Phaser[n2(0x818)][n2(0xabb)],Df=![],DN=navigator[n2(0x5b8)]||navigator[n2(0xaae)]||window[n2(0xcff)];(DN[n2(0xc73)](/iPad/i)||DN[n2(0xc73)](/iPhone/i)||DN[n2(0xc73)](/iPod/i))&&(Df=!![]);function DG(){var MS=n2;let MW=navigator[MS(0x5b8)]||navigator[MS(0xaae)]||window[MS(0xcff)],Mv;if(MW[MS(0xc73)](/chrome|chromium|crios/i))Mv=MS(0xbec);else{if(MW[MS(0xc73)](/firefox|fxios/i))Mv=MS(0x2c3);else{if(MW[MS(0xc73)](/safari/i))Mv=MS(0x7d4);else{if(MW[MS(0xc73)](/opr\//i))Mv=MS(0xcff);else MW[MS(0xc73)](/edg/i)?Mv=MS(0x557):Mv=MS(0x697);}}}return Mv;}let DF=![];var Di=0x1,Dr=n2(0x4c0);window[n2(0xc9e)]=Dr;var Dt=![],DC=0x1;Dt===!![]&&(DC=1.5);var DT=function(){};DT[n2(0x3ec)]=n2(0x57e),DT[n2(0x78d)]=n2(0x1e1),DT[n2(0xa50)]=n2(0x7c7),tableGroup={'x':0x0,'y':0x0};var Dz=0x0,Dh=0x1,Dm=DZ,Dc=!![],Dj=![],DO=![],Du=0x23,DU=0x23,DY={'MENU':0x0,'GAME_START':0x1,'GAME_RUNNING':0x2,'GAME_PAUSED':0x3,'GAME_OVER':0x4},DI={'GAME_OFF':0x0,'WAITING_FOR_INPUT':0x1,'COMPUTER_INPUT':0x2,'COMPUTER_MOVE_BALL':0x3,'ANIMATING':0x4,'MOVE_BALL':0x5},Dd=n2(0x9d3),DA=0x1,Do=0x2,DX=0x3;function DQ(MS,MW=!![]){var Mv=n2,Mg={'onDown':function(MJ){var MB=Lw;typeof MJ===MB(0x458)&&(Mg[MB(0xd26)]=MJ);},'onPress':function(MJ){var MB=Lw;typeof MJ===MB(0x458)&&(Mg[MB(0x5f8)]=MJ);},'onUp':function(MJ){var MB=Lw;typeof MJ===MB(0x458)&&(Mg[MB(0x4ee)]=MJ);},'callbacksD':function(){},'callbacksP':function(){},'callbacksU':function(){}};return window[Mv(0xab8)](Mv(0x492),function(MJ){var MB=Mv;if(MW!=!![])return typeof Mg[MB(0xd26)]===MB(0x458)&&MS===MJ[MB(0xbbc)]&&Mg[MB(0xd26)](MJ),MJ[MB(0x18d)](),![];typeof Mg[MB(0xd26)]===MB(0x458)&&MS===MJ[MB(0xbbc)]&&Mg[MB(0xd26)](MJ);}),window[Mv(0xab8)](Mv(0x451),function(MJ){var MB=Mv;if(MW!=!![])return typeof Mg[MB(0x5f8)]===MB(0x458)&&MS===MJ[MB(0xbbc)]&&Mg[MB(0x5f8)](MJ),MJ[MB(0x18d)](),![];typeof Mg[MB(0x5f8)]===MB(0x458)&&MS===MJ[MB(0xbbc)]&&Mg[MB(0x5f8)](MJ);}),window[Mv(0xab8)](Mv(0xb10),function(MJ){var MB=Mv;if(MW!=!![])return typeof Mg[MB(0x4ee)]===MB(0x458)&&MS===MJ[MB(0xbbc)]&&Mg[MB(0x4ee)](MJ),MJ[MB(0x18d)](),![];typeof Mg[MB(0x4ee)]===MB(0x458)&&MS===MJ[MB(0xbbc)]&&Mg[MB(0x4ee)](MJ);}),Mg;}function Da(MS,MW){var Mv=n2;return Object[Mv(0x110)](MS)[Mv(0xc86)](function(Mg){return MS[Mg]===MW;})[0x0];}var DK={'xMin':0x0,'xMax':0x0,'yMin':0x0,'yMax':0x0},Dl=n2(0x75e),DV=n2(0x75e);function Dk(MS){var MW=n2;return MS[MW(0x48a)]()[MW(0x10b)](/(\d)(?=(\d{3})+(?!\d))/g,MW(0x9c8));}function Dw(MS){var MW=n2;return Math[MW(0x665)](Math[MW(0x219)]()*MS);}function DH(MS){var MW=n2;return Math[MW(0x665)](Math[MW(0x219)]()*MS)*(Dw(0x64)>0x32?-0x1:0x1);}function Db(MS,MW){var Mv=n2;return Math[Mv(0x665)](Math[Mv(0x219)]()*(MW-MS+0x1))+MS;}function L0(MS){var MW=n2;return MS[Math[MW(0x665)](Math[MW(0x219)]()*MS[MW(0x16a)])];}function L1(MS){var MW=n2;return MS[MW(0x20a)](Math[MW(0x665)](Math[MW(0x219)]()*MS[MW(0x16a)]),0x1)[0x0];}function L2(MS){var MW=n2,Mv=Dw(MS[MW(0x16a)]);return MS[MW(0x20a)](Mv,0x1)[0x0];}function L3(MS){var MW=n2;return Db(0x0,MS[MW(0x16a)]-0x1);}function L4(){}Array[n2(0xa3a)][n2(0x5c7)]=function(MS){var MW=n2,Mv=this[MW(0x16a)];while(Mv--){if(this[Mv]===MS)return!![];}return![];};function L5(MS,MW){var Mv=n2;return Math[Mv(0x996)](MS[Mv(0x3ab)]*MW)/MS[Mv(0x3ab)];}function L6(MS,MW){var Mv=n2;return Math[Mv(0x996)](MS[Mv(0x4ca)]*MW)/MS[Mv(0x4ca)];}function L7(MS,MW,Mv){var Mg=n2;MW!=null&&(MS[Mg(0xc25)]['x']=L5(MS,MW)),Mv!=null&&(MS[Mg(0xc25)]['y']=L6(MS,Mv));}function L8(MS){var MW=n2,Mv=0x0;for(var Mg=0x0;Mg<MS[MW(0x16a)];Mg++){Mv+=MS[Mg];}return Math[MW(0x665)](Mv/MS[MW(0x16a)]);}function L9(MS){var MW=n2;return Math[MW(0x665)](MS);}function Le(MS){var MW=n2,Mv=MS[MW(0x16a)],Mg,MJ;while(0x0!==Mv){MJ=Math[MW(0x665)](Math[MW(0x219)]()*Mv),Mv-=0x1,Mg=MS[Mv],MS[Mv]=MS[MJ],MS[MJ]=Mg;}return MS;}function Ln(MS){var MW=n2,Mv=function(MJ){var MB=Lw;Me[MB(0x79d)][MB(0x49f)](MJ[MB(0x552)],!![]);},Mg=function(MJ){var MB=Lw;for(var Ms=0x0;Ms<MJ[MB(0xa3f)][MB(0x16a)];Ms++){Mv(MJ[MB(0xae3)](Ms)),MJ[MB(0xae3)](Ms)[MB(0xa3f)][MB(0x16a)]>0x0&&Mg(MJ[MB(0xae3)](Ms));}};Mg(MS),Me[MW(0x79d)][MW(0x49f)](MS,!![]);}function Lp(MS,MW=0x0,Mv=0x64){var Mg=n2;return NaN===MS&&(MS=MW),Math[Mg(0x483)](Math[Mg(0x6c2)](MS,Mv),MW);}function LD(MS){MS=L9(MS);var MW=MS%0x3c,Mv=L9(MS/0x3c),Mg=MW<0xa?'0'+MW:MW,MJ=Mv<0xa?'0'+Mv:Mv;return MJ+':'+Mg;}function LL(MS,MW){var Mv=n2;MW=0x2;const Mg=[{'value':0x1,'symbol':''},{'value':0x3e8,'symbol':'K'},{'value':0xf4240,'symbol':'M'},{'value':0x3b9aca00,'symbol':'B'},{'value':0xe8d4a51000,'symbol':'T'},{'value':0x38d7ea4c68000,'symbol':'P'},{'value':0xde0b6b3a7640000,'symbol':'E'}],MJ=/\.0+$|(\.[0-9]*[1-9])0+$/;var MB=Mg[Mv(0xa90)]()[Mv(0x124)]()[Mv(0x9be)](function(Ms){var My=Mv;return MS>=Ms[My(0x632)];});return MB?(MS/MB[Mv(0x632)])[Mv(0x1f2)](MW)[Mv(0x10b)](MJ,'$1')+MB[Mv(0x4c8)]:'0';}async function LE(MS){var MW=n2;let Mv=new Uint8Array([0x7b,0x15,0x5,0x8,0x4,0x9,0x1,0x8,0x8,0x8,0x8,0x8]),Mg={'name':MW(0x3aa),'iv':Mv},MJ=await crypto[MW(0x662)][MW(0x9ad)]({'name':MW(0x3aa),'length':0x100},!![],[MW(0xb46),MW(0x5eb)]),MB=await MS[MW(0x4f1)]();const Ms=await crypto[MW(0x662)][MW(0xb46)](Mg,MJ,MB);let My=await crypto[MW(0x662)][MW(0x6d8)](MW(0x4bb),MJ);return[new Blob([Ms]),Mv[MW(0x48a)](),My];}async function LR(MS,MW=n2(0xce3),Mv={'alg':n2(0x112),'ext':!![],'k':n2(0x24c),'key_ops':[n2(0xb46),n2(0x5eb)],'kty':n2(0x4e3)}){var Mg=n2;new Uint8Array(JSON[Mg(0x5c2)]('['+''+']'));let MJ=await crypto[Mg(0x662)][Mg(0x254)](Mg(0x4bb),Mv,{'name':Mg(0x3aa)},!![],[Mg(0xb46),Mg(0x5eb)]),MB=new Uint8Array(MW[Mg(0x200)](',')),Ms={'name':Mg(0x3aa),'iv':MB},My=await MS[Mg(0x4f1)](),Mq=await crypto[Mg(0x662)][Mg(0x5eb)](Ms,MJ,My);return new Blob([Mq],{'type':Mg(0x246)});}async function LM(MS,MW,Mv){var Mg=n2;try{new Uint8Array(JSON[Mg(0x5c2)]('['+''+']'));if(crypto[Mg(0x662)]){}else console[Mg(0x639)](0x7877874945eeb80000);let MJ=await crypto[Mg(0x662)][Mg(0x254)](Mg(0x4bb),Mv,{'name':Mg(0x3aa)},!![],[Mg(0xb46),Mg(0x5eb)]),MB=new Uint8Array(MW[Mg(0x200)](',')),Ms={'name':Mg(0x3aa),'iv':MB},My=await MS[Mg(0x4f1)](),Mq=await crypto[Mg(0x662)][Mg(0x5eb)](Ms,MJ,My);return new Blob([Mq]);}catch(Mx){console[Mg(0x639)](Mg(0xbfd),Mx);}}async function LP(MS){var MW=n2;fetch(MS||MW(0x273))[MW(0x6ae)](Mv=>Mv[MW(0xc4a)]())[MW(0x6ae)](async Mv=>{var Mg=MW;let MJ=URL[Mg(0x15b)](Mv),MB=new Image();var Ms=await LE(Mv);const My=document[Mg(0x174)]('a');My[Mg(0xd0b)]=URL[Mg(0x15b)](Ms[0x0]),console[Mg(0x639)](My[Mg(0xd0b)]),My[Mg(0x7d9)]=Mg(0xbb3),fetch(My[Mg(0xd0b)])[Mg(0x6ae)](Mx=>Mx[Mg(0xc4a)]())[Mg(0x6ae)](async Mx=>{var MZ=Mg;console[MZ(0x639)](MZ(0xc07),await LR(Mx));});var Mq=await LR(Ms[0x0]);console[Mg(0x639)](URL[Mg(0x15b)](Mq),Mq);});}async function LS(MS,MW=![]){var Mv=n2,Mg=await MS[Mv(0x4f1)]();Mg=new Uint8Array(Mg);var MJ=Crypto2[Mv(0x409)](Crypto2[Mv(0x871)](Mg[Mv(0x216)]),Ly[Mv(0x216)],Ls[Mv(0x216)]);const MB=document[Mv(0x174)]('a');if(MW){const Ms=document[Mv(0x174)]('a');Ms[Mv(0xd0b)]=URL[Mv(0x15b)](new Blob([MJ],{'type':Mv(0x246)})),Ms[Mv(0x7d9)]=Mv(0xbb3),Ms[Mv(0x826)]();}}async function LW(MS,MW=![]){var Mv=n2,Mg=await MS[Mv(0x4f1)]();Mg=new Uint8Array(Mg);var MJ=Crypto2[Mv(0xb44)](Crypto2[Mv(0x448)](Mg[Mv(0x216)],Ly[Mv(0x216)],Ls[Mv(0x216)]));if(MW){const MB=document[Mv(0x174)]('a');MB[Mv(0xd0b)]=URL[Mv(0x15b)](new Blob([MJ],{'type':Mv(0x246)})),MB[Mv(0x7d9)]=Mv(0x332),MB[Mv(0x826)]();}return new Blob([MJ],{'type':Mv(0x246)});}async function Lv(MS=![]){var MW=n2;fetch(MS||MW(0x55c)+Date[MW(0xb21)](),{'xmethod':MW(0x833),'cache':MW(0xa86)})[MW(0x6ae)](Mv=>Mv[MW(0xc4a)]())[MW(0x6ae)](async Mv=>{var Mg=MW;enBlob=await LE(Mv);var MJ=URL[Mg(0x15b)](enBlob[0x0]);console[Mg(0x639)](Mg(0x686),MJ,enBlob[0x1],enBlob[0x2]);const MB=document[Mg(0x174)]('a');MB[Mg(0xd0b)]=MJ,await LB(MJ,enBlob[0x1],enBlob[0x2]),MB[Mg(0x7d9)]=Mg(0xbb3),MB[Mg(0x826)]();});}async function Lg(MS,MW=function(){},Mv=function(){}){var Mg=n2;const MJ=Date[Mg(0xb21)](),MB=await fetch(MS,{'method':Mg(0x3fd),'cache':Mg(0x80d)});if(!MB['ok'])return Mv(MB);const Ms=MB[Mg(0x4b4)][Mg(0x9a3)](),My=+MB[Mg(0xa0b)][Mg(0x833)](Mg(0x992));let Mq=0x0;const Mx=[];while(!![]){const {done:MN,value:MG}=await Ms[Mg(0x63b)]();if(MN)break;Mx[Mg(0x526)](MG),Mq+=MG[Mg(0x16a)];var MZ={'type':Mg(0xbc9),'loaded':Mq,'total':My,'elapsedTime':Date[Mg(0xb21)]()-MJ};}const Mf=new Blob(Mx);return MW(MB,Mf);}async function LJ(MS=![]){var MW=n2;await Lg(MW(0x55c)+Date[MW(0xb21)](),async(Mq,Mx)=>{await LS(Mx,!![]);});return;var Mv=await blob[MW(0x4f1)]();Mv=new Uint8Array(Mv);var Mg=Crypto2[MW(0x409)](Crypto2[MW(0x871)](Mv[MW(0x216)]),Ly[MW(0x216)],Ls[MW(0x216)]);console[MW(0x639)](MW(0xb72),URL[MW(0x15b)](new Blob([Mg],{'type':MW(0x246)})));var MJ=new Blob([Mg]),MJ=await MJ[MW(0x4f1)](),MB=Crypto2[MW(0xb44)](Crypto2[MW(0x448)](MJ,Ly[MW(0x216)],Ls[MW(0x216)])),Ms=URL[MW(0x15b)](new Blob([MB],{'type':MW(0x246)})),Ms=URL[MW(0x15b)](MJ);const My=document[MW(0x174)]('a');My[MW(0xd0b)]=Ms,My[MW(0x7d9)]=MW(0xbb3),My[MW(0x826)]();}async function LB(MS=![],MW,Mv){var Mg=n2;fetch(MS||Mg(0xac3))[Mg(0x6ae)](MJ=>MJ[Mg(0xc4a)]())[Mg(0x6ae)](async MJ=>{var MB=Mg,Ms=await LM(MJ,MW,Mv);let My=await Ms[MB(0x4f1)]();var Mq=URL[MB(0x15b)](new Blob([My],{'type':MB(0x246)}));console[MB(0x639)](MB(0x686),Mq);const Mx=document[MB(0x174)]('a');Mx[MB(0x7d9)]=MB(0x332),Mx[MB(0xd0b)]=Mq,Mx[MB(0x826)]();});}var Ls=new Uint8Array([0x1,0x23,0x45,0x67,0x89,0xab,0xcd,0xef,0x1,0x23,0x45,0x67,0x89,0xab,0xcd,0xef]),Ly=new Uint8Array([0x1,0x23,0x45,0x67,0x89,0xab,0xcd,0xef,0x1,0x23,0x45,0x67,0x89,0xab,0xcd,0xef]);async function Lq(MS){var MW=n2;const Mv=Object[MW(0x16c)](new Image(),{'src':MS});await new Promise(MJ=>Mv[MW(0xab8)](MW(0x4d6),()=>MJ()));const Mg=Object[MW(0x16c)](document[MW(0x174)](MW(0x5e2)),{'width':Mv[MW(0x3ab)],'height':Mv[MW(0x4ca)]})[MW(0x3e6)]('2d');return Mg[MW(0x59d)]=![],Mg[MW(0x283)](Mv,0x0,0x0),Mg[MW(0xaa0)](0x0,0x0,Mv[MW(0x3ab)],Mv[MW(0x4ca)]);}const Lx=(MS,MW)=>{var Mv=n2;return DW(MW);const Mg=Ms=>Ms[Mv(0x200)]('')[Mv(0x4ea)](My=>My[Mv(0xd2f)](0x0)),MJ=Ms=>('0'+Number(Ms)[Mv(0x48a)](0x10))[Mv(0x92f)](-0x2),MB=Ms=>Mg(MS)[Mv(0x8dc)]((My,Mq)=>My^Mq,Ms);return MW[Mv(0x200)]('')[Mv(0x4ea)](Mg)[Mv(0x4ea)](MB)[Mv(0x4ea)](MJ)[Mv(0x7a5)]('');},LZ=(MS,MW)=>{var Mv=n2;return Dv(MW);const Mg=MB=>MB[Mv(0x200)]('')[Mv(0x4ea)](Ms=>Ms[Mv(0xd2f)](0x0)),MJ=MB=>Mg(MS)[Mv(0x8dc)]((Ms,My)=>Ms^My,MB);return MW[Mv(0xc73)](/.{1,2}/g)[Mv(0x4ea)](MB=>parseInt(MB,0x10))[Mv(0x4ea)](MJ)[Mv(0x4ea)](MB=>String[Mv(0x56f)](MB))[Mv(0x7a5)]('');};function Lf(MS,MW=![]){var Mv=n2;const Mg=MW?nG()[Mv(0x470)]():new Date(),MJ=Math[Mv(0x836)](Mg-MS),MB={'year':0x757b12c00,'month':0x9a7ec800,'week':0x240c8400,'day':0x5265c00,'hour':0x36ee80,'minute':0xea60,'second':parseFloat(Mv(0xa69))};for(const [Ms,My]of Object[Mv(0xc39)](MB)){const Mq=Math[Mv(0x665)](MJ/My);if(Mq>=0x1)return Mq+'\x20'+Ms+(Mq!==0x1?'s':'')+Mv(0x9ca);}return Mv(0xd42);}function LN(MS={}){var MW=n2;!MS[MW(0xabe)]&&(MS[MW(0xabe)]=()=>{}),!MS[MW(0x476)]&&(MS[MW(0x476)]=()=>{}),!MS[MW(0x476)]&&(MS[MW(0x476)]=()=>{}),!MS[MW(0x5bb)]&&(MS[MW(0x5bb)]=parseFloat(MW(0xa69))),!MS[MW(0xc95)]&&(MS[MW(0xc95)]=parseFloat(MW(0xa69)));const Mv=MS[MW(0x5bb)],Mg=nG()[MW(0x470)](),MJ=Mg+Mv,MB=MS[MW(0xc95)],Ms=nG()[MW(0x470)](),My=MJ-Ms;if(typeof MS[MW(0x476)]==MW(0x458))MS[MW(0x476)](LF(My),My,LG(My));const Mq=setInterval(function(){var Mx=MW;const MZ=nG()[Mx(0x470)]()-MB,Mf=MJ-MZ;if(Mf<=MB){clearInterval(Mq);if(typeof MS[Mx(0xabe)]==Mx(0x458))MS[Mx(0xabe)](LF(Mf),Mf,LG(Mf));}else{if(typeof MS[Mx(0x476)]==Mx(0x458))MS[Mx(0x476)](LF(Mf),Mf,LG(Mf));}},MB);return Mq;}HTMLCanvasElement[n2(0xa3a)][n2(0xb4b)]=async function(MS=n2(0xb31),MW=0x1){return new Promise((Mv,Mg)=>{var MJ=Lw;this[MJ(0x7c5)](MB=>{var Ms=MJ;if(!MB){Mg(Ms(0xb4a));return;}const My=URL[Ms(0x15b)](MB);Mv(My);},MS,MW);});};function LG(MS){var MW=n2,Mv=Math[MW(0x665)](MS/(parseFloat(MW(0xa69))*0x3c*0x3c));Mv=0x0||Mv,Mv=Mv[MW(0x48a)]()[MW(0xa38)](0x2,'0');var Mg=Math[MW(0x665)](MS%(parseFloat(MW(0xa69))*0x3c*0x3c)/(parseFloat(MW(0xa69))*0x3c));Mg=0x0||Mg,Mg=Mg[MW(0x48a)]()[MW(0xa38)](0x2,'0');var MJ=Math[MW(0x665)](MS%(parseFloat(MW(0xa69))*0x3c)/parseFloat(MW(0xa69)));MJ=0x0||MJ,MJ=MJ[MW(0x48a)]()[MW(0xa38)](0x2,'0');var MB=Mv>=0xc?'PM':'AM';return Mv+':'+Mg+':'+MJ;}function LF(MS){var MW=n2;const Mv=Math[MW(0x665)](MS/(parseFloat(MW(0xa69))*0x3c*0x3c)),Mg=Math[MW(0x665)](MS%(parseFloat(MW(0xa69))*0x3c*0x3c)/(parseFloat(MW(0xa69))*0x3c)),MJ=Math[MW(0x665)](MS%(parseFloat(MW(0xa69))*0x3c)/parseFloat(MW(0xa69)));if(Mv>0x0)return Mv+MW(0xa52);else{if(Mg>0x0)return Mg+MW(0x849);else{if(MJ>0x0)return MJ+MW(0x109);}}}function Li(MS={}){var MW=n2;try{}catch(Mg){}if(typeof MS!==MW(0x4cd))return MS;let Mv=![];MS&&MS[MW(0x239)]&&MS[MW(0x239)](MW(0x16a))&&MS[MW(0x4ea)]?Mv=[...MS]:Mv={...MS},Mv=MS;for(let MJ in Mv){if(Mv[MW(0x239)](MJ)){let MB=Lr(MJ);if(MB[MW(0x16a)]<=0x1)continue;let Ms=MB[MW(0xa90)](0x0,Math[MW(0x483)](0x0,Math[MW(0x665)](MB[MW(0x16a)]/0x2))),My=MB[MW(0xa90)](Ms[MW(0x16a)]);if(My==Ms)continue;if(My[MW(0xa90)](0x0,0x1)==Ms[MW(0xa90)](0x0,0x1)&&My[MW(0xa90)](My[MW(0x16a)]-0x1)==Ms[MW(0xa90)](0x0,0x1))continue;Mv[My+Ms]=Mv[MJ],delete Mv[MJ];}}return Mv;}function Lr(MS){var MW=n2;return MS=String(MS),MS===''?'':Lr(MS[MW(0x92f)](0x1))+MS[MW(0xaba)](0x0);}function Lt(MS=this,MW,Mv=function(){},Mg={'baseURL':'','crossOrigin':!![]}){var MJ=n2;let MB=new Phaser[(MJ(0x1aa))](MS);Mg&&Mg[MJ(0x239)]&&Mg[MJ(0x239)](MJ(0x713))&&(MB[MJ(0x713)]=Mg[MJ(0x713)]),Mg&&Mg[MJ(0x239)]&&Mg[MJ(0x239)](MJ(0x7ff))&&(MB[MJ(0x7ff)]=Mg[MJ(0x7ff)]);if(MW[MJ(0x49c)]){if(MB[MJ(0x49c)][MJ(0x587)](MW[MJ(0x7e1)])){Mv&&typeof Mv==MJ(0x458)&&Mv({'success':!![],'data':MW});return;}else MB[MJ(0xa6e)](MW[MJ(0x7e1)],MW[MJ(0xc07)]);}else MB[MJ(0xa6e)](MW[MJ(0x7e1)],MW[MJ(0xc07)]);var Ms=![];MB[MJ(0x463)][MJ(0xb51)]((My,Mq)=>{Ms=!![];}),MB[MJ(0x1b6)][MJ(0xb51)](My=>{var Mq=MJ;MB[Mq(0x49c)][Mq(0x587)](MW[Mq(0x7e1)])?Mv&&typeof Mv==Mq(0x458)&&Mv({'success':!Ms,'data':MW}):Mv&&typeof Mv==Mq(0x458)&&Mv({'success':!Ms,'data':MW});},MS),MB[MJ(0x762)]();}function LC(MS){var MW=n2;return isNaN(Number(MS))?0x0:Math[MW(0x996)](Number(MS)*0x2710)/0x2710;}function LT(MS,MW){var Mv=n2;this['x']=typeof MS!==Mv(0xd40)?MS:0x0,this['y']=typeof MW!==Mv(0xd40)?MW:0x0,typeof MS===Mv(0x4cd)&&(this['x']=MS['x'],this['y']=MS['y']);}LT[n2(0xa3a)][n2(0x369)]=function(){return new LT(this['x'],this['y']);},LT[n2(0xa3a)][n2(0xb51)]=function(MS){return new LT(this['x']+MS['x'],this['y']+MS['y']);},LT[n2(0xa3a)][n2(0x8ba)]=function(MS){this['x']+=MS['x'],this['y']+=MS['y'];},LT[n2(0xa3a)][n2(0x6b7)]=function(MS,MW){if(this['x']<0x0)this['x']+=MS;else this['x']>=MS&&(this['x']-=MS);if(this['y']<0x0)this['y']+=MW;else this['y']>=MW&&(this['y']-=MW);},LT[n2(0xa3a)][n2(0x9b3)]=function(MS){while(MS<0x0){MS+=0x168;}while(MS>=0x168){MS-=0x168;}return MS;},LT[n2(0xa3a)][n2(0xb99)]=function(MS,MW){return MS%MW;},LT[n2(0xa3a)][n2(0x2eb)]=function(){return new LT(-this['y'],this['x']);},LT[n2(0xa3a)][n2(0x348)]=function(){return new LT(this['y'],-this['x']);},LT[n2(0xa3a)][n2(0x5d7)]=function(MS){return new LT(this['x']-MS['x'],this['y']-MS['y']);},LT[n2(0xa3a)][n2(0xb84)]=function(MS){return new LT(this['x']*MS,this['y']*MS);};const Lz=(MS,MW,Mv,Mg)=>{return{'x':(MS+Mv)/0x2,'y':(MW+Mg)/0x2};};LT[n2(0xa3a)][n2(0xc30)]=function(MS,MW){return{'x':(this['x']+MW['x'])/0x2,'y':this['y']+MW['y']};},LT[n2(0xa3a)][n2(0xc13)]=function(MS){return this['x']*MS['x']+this['y']*MS['y'];},LT[n2(0xa3a)][n2(0x16a)]=function(){var MS=n2;return Math[MS(0xba2)](Math[MS(0x1b7)](this['x'],0x2)+Math[MS(0x1b7)](this['y'],0x2));},LT[n2(0xa3a)][n2(0x2d3)]=function(MS){var MW=n2;isNaN(Number(MS))&&(this['x']=this['y']=0x0);var Mv=Math[MW(0xba2)](Math[MW(0x1b7)](this['x'],0x2)+Math[MW(0x1b7)](this['y'],0x2));0x0<Mv?this[MW(0xb84)](Number(MS)/Mv):(this['y']=0x0,this['x']=LC(MS));},LT[n2(0xa3a)][n2(0xbf2)]=function(MS){var MW=n2;return this[MW(0x5d7)](MS)[MW(0x16a)]();},LT[n2(0xa3a)][n2(0x814)]=function(MS){var MW=n2;return this[MW(0x5d7)](MS)[MW(0x76c)]();},LT[n2(0xa3a)][n2(0x76c)]=function(){var MS=n2;return this[MS(0xb84)](0x1/this[MS(0x16a)]());},LT[n2(0xa3a)][n2(0xac8)]=function(MS){var MW=n2,Mv=this[MW(0xc13)](MS),Mg=this[MW(0x16a)](),MJ=MS[MW(0x16a)](),MB=Mv/(Mg*MJ);return Math[MW(0x7df)](MB);};function Lh(MS){return MS*MS;}function Lm(MS,MW=EE[n2(0x62f)]){var Mv=n2,Mg={'left':![],'top':![],'right':![],'bottom':![]};MS['y']<=MW[Mv(0x282)]['y1']&&(Mg[Mv(0x710)]=!![]),MS['y']+RB>=RB+MW[Mv(0x286)]['y1']&&(Mg[Mv(0xa81)]=!![]),MS['x']<=MW[Mv(0x94b)]['x1']&&(Mg[Mv(0x94b)]=!![]),MS['x']+RB>=RB+MW[Mv(0x35d)]['x1']&&(Mg[Mv(0x35d)]=!![]);return Mg;return MS['y']<=MW[Mv(0x282)]['y1']||MS['y']+MS[Mv(0x4ca)]>=MS[Mv(0x4ca)]+MW[Mv(0x286)]['y1']||MS['x']<=MW[Mv(0x94b)]['x1']||MS['x']+MS[Mv(0x3ab)]>=MS[Mv(0x3ab)]+MW[Mv(0x35d)]['x1'];}function Lc(MS,MW=EE[n2(0x62f)]){var Mv=n2;xx=MS['x'],yy=MS['y'];var Mg=![];return xx<MW[Mv(0x94b)]['x1']-RJ*0x2&&(xx=MW[Mv(0x94b)]['x1']+RJ,Mg=!![]),xx>MW[Mv(0x35d)]['x1']+RJ*0x2&&(xx=MW[Mv(0x35d)]['x1']-RJ,Mg=!![]),yy<MW[Mv(0x282)]['y1']-RJ*0x2&&(yy=MW[Mv(0x282)]['y1']+RJ,Mg=!![]),yy>MW[Mv(0x286)]['y1']+RJ*0x2&&(yy=MW[Mv(0x286)]['y1']-RJ,Mg=!![]),Mg&&(MS['x']=xx,MS['y']=yy),Mg;}function Lj(MS,MW=EE[n2(0x62f)]){var Mv=n2;xx=MS['x'],yy=MS['y'];var Mg=![];return xx<MW[Mv(0x94b)]['x1']+RJ&&(xx=MW[Mv(0x94b)]['x1']+RJ,Mg=!![]),xx>MW[Mv(0x35d)]['x1']-RJ&&(xx=MW[Mv(0x35d)]['x1']-RJ,Mg=!![]),yy<MW[Mv(0x282)]['y1']+RJ&&(yy=MW[Mv(0x282)]['y1']+RJ,Mg=!![]),yy>MW[Mv(0x286)]['y1']-RJ&&(yy=MW[Mv(0x286)]['y1']-RJ,Mg=!![]),MS['x']=xx,MS['y']=yy,Mg;}function LO(MS,MW=RJ,Mv=EE[n2(0x62f)]){var Mg=n2;return xx=MS['x'],yy=MS['y'],xx<Mv[Mg(0x94b)]['x1']+MW||xx>Mv[Mg(0x35d)]['x1']-MW||yy<Mv[Mg(0x282)]['y1']+MW||yy>Mv[Mg(0x286)]['y1']-MW;}function Lu(MS,MW=EE[n2(0x62f)]){var Mv=n2;return MS['y']<MW[Mv(0x282)]['y1']||MS['y']+RJ>RJ+MW[Mv(0x286)]['y1']||MS['x']<MW[Mv(0x94b)]['x1']||MS['x']+RJ>RJ+MW[Mv(0x35d)]['x1'];}function LU(MS,MW=EE[n2(0x62f)]){var Mv=n2;return MS['y']<MW[Mv(0x282)]['y1']-0x0||MS['y']+MS[Mv(0x4ca)]>MS[Mv(0x4ca)]+MW[Mv(0x286)]['y1']+0x0||MS['x']<MW[Mv(0x94b)]['x1']-0x0||MS['x']+MS[Mv(0x3ab)]>MS[Mv(0x3ab)]+MW[Mv(0x35d)]['x1']+0x0;}function LY(MS,MW){var Mv=n2;return!(MS['y']+MS[Mv(0x4ca)]<MW['y']||MS['y']>MW['y']+MW[Mv(0x4ca)]||MS['x']+MS[Mv(0x3ab)]<MW['x']||MS['x']>MW['x']+MW[Mv(0x3ab)]);}function LI(MS,MW){return Lh(MS['x']-MW['x'])+Lh(MS['y']-MW['y']);}function Ld(MS,MW){var Mv=n2;return Math[Mv(0xba2)](LI(MS,MW));}function LA(MS,MW){return new LT(MS['x']-MW['x'],MS['y']-MW['y']);}function Lo(MS,MW,Mv){var Mg=n2,MJ=Math['PI']/0xb4*Mv,MB=Math[Mg(0xa2d)](MJ),Ms=Math[Mg(0xa56)](MJ),My=MB*(MS['x']-MW['x'])+Ms*(MS['y']-MW['y'])+MW['x'],Mq=MB*(MS['y']-MW['y'])-Ms*(MS['x']-MW['x'])+MW['y'];return new LT(My,-Mq);}function LX(MS,MW,Mv){var Mg=n2,MJ=Math['PI']/0xb4*Mv,MB=Math[Mg(0xa2d)](MJ),Ms=Math[Mg(0xa56)](MJ),My=MB*(MS['x']-MW['x'])+Ms*(MS['y']-MW['y'])+MW['x'],Mq=MB*(MS['y']-MW['y'])-Ms*(MS['x']-MW['x'])+MW['y'];return{'x':L9(My*0xa)/0xa,'y':L9(Mq*0xa)/0xa};}var LQ=function(MS,MW){var Mv=n2;MW=-MW*(Math['PI']/0xb4);var Mg=Math[Mv(0xa2d)](MW),MJ=Math[Mv(0xa56)](MW);return new LT(Math[Mv(0x996)](0x2710*(MS['x']*Mg-MS['y']*MJ))/0x2710,Math[Mv(0x996)](0x2710*(MS['x']*MJ+MS['y']*Mg))/0x2710);};function La(MS,MW){var Mv=n2;MS=E0(MS);var Mg=Math[Mv(0xa2d)](MS),MJ=Math[Mv(0xa56)](MS);return new LT(MW*Mg,MW*MJ);}function LK(MS,MW,Mv,Mg){}function Ll(MS){LK(MS['x1'],MS['y1'],MS['x2'],MS['y2']);}function LV(MS){var MW=n2,Mv=Math[MW(0xc35)](MS['y2']-MS['y1'],MS['x2']-MS['x1']);console[MW(0x738)](Me[MW(0x2a6)][MW(0x671)](Mv));}function Lk(MS,MW){var Mv=MW-MS;while(Mv<-Math['PI']){Mv+=Math['PI']*0x2;}while(Mv>Math['PI']){Mv-=Math['PI']*0x2;}return Mv;}function Lw(MS,MW){var Mv=nP();return Lw=function(Mg,MJ){Mg=Mg-0xdf;var MB=Mv[Mg];return MB;},Lw(MS,MW);}function LH(MS){var MW=n2;return new LT(Math[MW(0xa2d)](MS),Math[MW(0xa56)](MS));}function Lb(MS,MW,Mv,Mg){var MJ=(MS['x']-MW['x'])*(Mv['y']-MW['y'])-(MS['y']-MW['y'])*(Mv['x']-MW['x']),MB=(MS['x']-Mv['x'])*(Mg['y']-Mv['y'])-(MS['y']-Mv['y'])*(Mg['x']-Mv['x']),Ms=(MS['x']-Mg['x'])*(MW['y']-Mg['y'])-(MS['y']-Mg['y'])*(MW['x']-Mg['x']);return MJ<0x0&&MB<0x0&&Ms<0x0||MJ>0x0&&MB>0x0&&Ms>0x0;}function E0(MS){return MS*Math['PI']/0xb4;};function E1(MS){return MS/(Math['PI']/0xb4);}function E2(MS,MW,Mv){return MS<MW?MW:Mv<MS?Mv:MS;}function E3(MS,MW,Mv){var Mg=Mv-MW;if(Mg<=0x0)return 0x0;var MJ=(MS-MW)%Mg;return MJ<0x0&&(MJ+=Mg),MJ+MW;}function E4(MS,MW,Mv){var Mg=n2,MJ;return MS=Math[Mg(0x836)](MS),MW=Math[Mg(0x836)](MW),Mv=Math[Mg(0x836)](Mv),MJ=(MS+MW)%Mv,MJ;}var E5=function(){var MS=n2;this[MS(0xcfd)]=!![],this[MS(0x22f)]=!![],this[MS(0x75c)]=[],this[MS(0x388)]=[],this[MS(0x6ec)]=null,this[MS(0x3a4)]=[{'soundID':MS(0x6dc),'fileName':MS(0x6dc),'vol':0x1},{'soundID':MS(0xbe4),'fileName':MS(0x2c9),'vol':0x1},{'soundID':MS(0x648),'fileName':MS(0x648),'vol':0x1},{'soundID':MS(0xae4),'fileName':MS(0xae4),'vol':0x1},{'soundID':MS(0xdf),'fileName':MS(0x826),'vol':0x1},{'soundID':MS(0xbfa),'fileName':MS(0xbfa),'vol':0x1},{'soundID':MS(0x4a3),'fileName':MS(0x4a3),'vol':0x1},{'soundID':MS(0x88b),'fileName':MS(0x816),'vol':0x1},{'soundID':MS(0x159),'fileName':MS(0x50f)},{'soundID':MS(0x698),'fileName':MS(0x50f)},{'soundID':MS(0x927),'fileName':MS(0x953)},{'soundID':MS(0x629),'fileName':MS(0x953)},{'soundID':MS(0xd2e),'fileName':MS(0xa6b)},{'soundID':MS(0x4b8),'fileName':MS(0x720)},{'soundID':MS(0x2ea),'fileName':MS(0xa6b)},{'soundID':MS(0x21c),'fileName':MS(0xa6b)},{'soundID':MS(0x396),'fileName':MS(0x828)},{'soundID':MS(0x538),'fileName':MS(0x538)}],this[MS(0x827)]=[{'soundID':MS(0x576),'fileName':MS(0x67d)},{'soundID':MS(0x521),'fileName':MS(0x5ba)},{'soundID':MS(0xb7b),'fileName':MS(0x235),'vol':0x1},{'soundID':MS(0x193),'fileName':MS(0x80e)},{'soundID':MS(0x404),'fileName':MS(0x5d4)},{'soundID':MS(0xb07),'fileName':MS(0x6cd),'vol':0x1},{'soundID':MS(0x52e),'fileName':MS(0x439),'vol':0x1}];};E5[n2(0xa3a)]={'constructor':E5,'preload':async function(MS){var MW=n2;let Mv=Me;for(var Mg=0x0;Mg<this[MW(0x3a4)][MW(0x16a)];Mg++){MS[MW(0x948)](this[MW(0x3a4)][Mg][MW(0x1a8)],[MW(0x9bd)+this[MW(0x3a4)][Mg][MW(0x634)]+MW(0x623),MW(0x9bd)+this[MW(0x3a4)][Mg][MW(0x634)]+MW(0x4bd)]);}for(var Mg=0x0;Mg<this[MW(0x827)][MW(0x16a)];Mg++){MS[MW(0x948)](this[MW(0x827)][Mg][MW(0x1a8)],[MW(0x9bd)+this[MW(0x827)][Mg][MW(0x634)]+MW(0x4bd),MW(0x9bd)+this[MW(0x827)][Mg][MW(0x634)]+MW(0x623)]);}MS[MW(0x948)](MW(0x515),[MW(0x47a),MW(0xce1)]),MS[MW(0x948)](MW(0x47b),[MW(0x9d2),MW(0xae0)]),MS[MW(0x948)](MW(0x2ac),[MW(0x864),MW(0xa64)]),MS[MW(0x948)](MW(0x3cc),[MW(0xcaf),MW(0x469)]),MS[MW(0x948)](MW(0x998),[MW(0x811),MW(0x46f)]),MS[MW(0x948)](MW(0x102),[MW(0x5e9),MW(0x122)]),MS[MW(0x948)](MW(0xa54),[MW(0x27c),MW(0xcdd)]),MS[MW(0x948)](MW(0x989),[MW(0x403),MW(0xd38)]),MS[MW(0x948)](MW(0xaf1),[MW(0x779),MW(0xb19)]);},'create':function(){var MS=n2;let MW=Me;this[MS(0x75c)][Dz]=MW[MS(0xb51)][MS(0x948)](MS(0x515),0x1,!![]),this[MS(0x75c)][Dh]=MW[MS(0xb51)][MS(0x948)](MS(0x47b),0x1,!![]),this[MS(0x75c)][MS(0x2ac)]=MW[MS(0xb51)][MS(0x948)](MS(0x2ac),0x1,!![]),this[MS(0x75c)][MS(0x3cc)]=MW[MS(0xb51)][MS(0x948)](MS(0x3cc),0x1,!![]),this[MS(0x75c)][MS(0x998)]=MW[MS(0xb51)][MS(0x948)](MS(0x998),0x1,!![]),this[MS(0x75c)][MS(0x102)]=MW[MS(0xb51)][MS(0x948)](MS(0x102),0x1,!![]),this[MS(0x75c)][MS(0xa54)]=MW[MS(0xb51)][MS(0x948)](MS(0xa54),0x1,!![]),this[MS(0x75c)][MS(0x989)]=MW[MS(0xb51)][MS(0x948)](MS(0x989),0x1,!![]),this[MS(0x75c)][MS(0xaf1)]=MW[MS(0xb51)][MS(0x948)](MS(0xaf1),0x1,!![]);for(var Mv=0x0;Mv<this[MS(0x827)][MS(0x16a)];Mv++){var Mg=0x1;this[MS(0x827)][Mv][MS(0x900)]!==undefined&&(Mg=this[MS(0x827)][Mv][MS(0x900)]),this[MS(0x388)][this[MS(0x827)][Mv][MS(0x1a8)]]=MW[MS(0xb51)][MS(0x948)](this[MS(0x827)][Mv][MS(0x1a8)],Mg);}for(var Mv=0x0;Mv<this[MS(0x3a4)][MS(0x16a)];Mv++){var Mg=0x1;this[MS(0x3a4)][Mv][MS(0x900)]!==undefined&&(Mg=this[MS(0x3a4)][Mv][MS(0x900)]),this[MS(0x388)][this[MS(0x3a4)][Mv][MS(0x1a8)]]=MW[MS(0xb51)][MS(0x948)](this[MS(0x3a4)][Mv][MS(0x1a8)],Mg);}MP();},'playMusic':function(MS,MW){var Mv=n2;if(!Dq)return;if(MS===null)return;if(MS==this[Mv(0x6ec)]&&MW!=!![])return;this[Mv(0x6ec)]=MS;if(!this[Mv(0x22f)])return;for(let Mg in this[Mv(0x75c)]){typeof this[Mv(0x75c)][Mg]==Mv(0x4cd)&&this[Mv(0x75c)][Mg][Mv(0x256)]();}this[Mv(0x75c)][MS][Mv(0x809)]();},'playSound':function(MS,MW=0x1){var Mv=n2;if(!Dq)return;if(!this[Mv(0xcfd)])return;try{return this[Mv(0x388)][MS][Mv(0xe0)]=MW,this[Mv(0x388)][MS][Mv(0x809)](),this[Mv(0x388)][MS];}catch(Mg){}},'stopSound':function(MS,MW=0x1){var Mv=n2;if(!Dq)return;if(!this[Mv(0xcfd)])return;try{return this[Mv(0x388)][MS][Mv(0xe0)]=MW,this[Mv(0x388)][MS][Mv(0x256)](),this[Mv(0x388)][MS];}catch(Mg){}},'playSoundLooped':function(MS){var MW=n2;if(!Dq)return;if(!this[MW(0xcfd)])return;try{return this[MW(0x388)][MS][MW(0x611)]=!![],this[MW(0x388)][MS][MW(0x809)](),this[MW(0x388)][MS];}catch(Mv){}},'stopSoundLooped':function(MS){var MW=n2;if(!Dq)return;try{return this[MW(0x388)][MS][MW(0x256)](),this[MW(0x388)][MS][MW(0x611)]=![],this[MW(0x388)][MS];}catch(Mv){}},'pauseMusic':function(){var MS=n2;if(!Dq)return;if(!this[MS(0x22f)])return;this[MS(0x6ec)]!==null&&this[MS(0x75c)][this[MS(0x6ec)]][MS(0x7f5)]();},'resumeMusic':function(){var MS=n2;if(!Dq)return;if(!this[MS(0x22f)])return;this[MS(0x6ec)]!==null&&this[MS(0x75c)][this[MS(0x6ec)]][MS(0x74c)]();},'stopMusic':function(MS){var MW=n2;if(!Dq)return;for(let Mv in this[MW(0x75c)]){typeof this[MW(0x75c)][Mv]==MW(0x4cd)&&this[MW(0x75c)][Mv][MW(0x256)]();}MS&&(this[MW(0x6ec)]=null);},'toggleEnableDisableMusic':function(MS){var MW=n2;if(!Dq)return;!this[MW(0x22f)]?(this[MW(0x22f)]=!![],this[MW(0x6bd)](MS||this[MW(0x6ec)],!![])):(this[MW(0x22f)]=![],this[MW(0x916)]()),Ds();},'toggleEnableDisableSound':function(){var MS=n2;if(!Dq)return;this[MS(0xcfd)]=!this[MS(0xcfd)],Ds();}};var E6=new E5();Buttons=function(){var MS=n2;this[MS(0x115)]=0xffffff,this[MS(0xb6d)]=0x888888;},Buttons[n2(0xa3a)]={'constructor':Buttons,'create':function(){},'createOneImgButtonWithText':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq,Mx,MZ,Mf){var MN=n2,MG=Me[MN(0xb51)][MN(0xa9a)](MS,MW,Mv);Mg!=null&&(MG[MN(0x528)]=Mg),(MG[MN(0x983)]=!![],MG[MN(0x506)]=Mx);var MF=Me[MN(0x74e)][MN(0x2da)](0x0,0x2,MJ,{'font':MN(0xed)+Dl,'fill':Ms,'align':MN(0xce6)});return MF[MN(0xeb)]=L9(MF[MN(0xeb)]*DC),L7(MF,0.5,0.5),MG[MN(0x5f5)]=MG[MN(0x6a8)](MF),MG[MN(0x328)]=MB,MG[MN(0x771)]=MG[MN(0x3ab)]*0.85,MG[MN(0x8bc)]=My,MG[MN(0xce8)]=Mq||this,MG[MN(0xa9f)][MN(0x19b)][MN(0xb51)](this[MN(0x1b8)],this),MG[MN(0xa9f)][MN(0xd10)][MN(0xb51)](this[MN(0x9cc)],this),MG[MN(0xa9f)][MN(0x8bf)][MN(0xb51)](this[MN(0x8aa)],this),MG[MN(0xa9f)][MN(0x3e8)][MN(0xb51)](this[MN(0x466)],this),L7(MG,0.5,0.5),MG[MN(0xab6)]=function(){var Mi=MN;MG[Mi(0x5f5)][Mi(0x2da)]=gameTexts[Mi(0x8d0)](MB);},MZ!=undefined?(MG[MN(0xe7)]=MZ[0x0],MG[MN(0x4de)]=MZ[0x1],MG[MN(0x552)][MN(0x304)](MZ[0x0],MZ[0x1])):(MG[MN(0xe7)]=0x1,MG[MN(0x4de)]=0x1),MG[MN(0x581)]=this[MN(0x115)],MG[MN(0xa87)]=this[MN(0xb6d)],MG[MN(0x2de)]=MG[MN(0x581)],Mf!=undefined&&Mf[MN(0x6a8)](MG),MG;},'createBoosterBtn':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq){var Mx=n2,MZ=Me[Mx(0xb51)][Mx(0xa9a)](MS,MW,Mx(0x8b3));MZ[Mx(0x528)]=Mv[Mx(0x311)],MZ[Mx(0x983)]=!![],MZ[Mx(0x506)]=Ms,MZ[Mx(0x777)]=Mv;var Mf=Me[Mx(0x74e)][Mx(0x46a)](0x0,L9(MZ[Mx(0x4ca)]*0.7),Mx(0x8b3),Mx(0x8b9));Mf[Mx(0xc25)][Mx(0x304)](0.5),MZ[Mx(0x6a8)](Mf);var MN=Me[Mx(0x74e)][Mx(0x2da)](0x0,0x0,Mg,{'font':Mx(0x517)+Dl,'fill':Mx(0x39c),'align':Mx(0xce6)});return L7(MN,0.5,0.5),MZ[Mx(0x5f5)]=Mf[Mx(0x6a8)](MN),MZ[Mx(0xcdc)]=function(MG,MF){var Mi=Mx;MZ[Mi(0x5f5)][Mi(0x2da)]=MG,MF?MZ[Mi(0x2a0)]=0x1:MZ[Mi(0x2a0)]=0.5,(MF===![]||MG<=0x0)&&(MZ[Mi(0x983)]=![],MZ[Mi(0x374)]=![]),MF===!![]&&MG>0x0&&(MZ[Mi(0x983)]=!![],MZ[Mi(0x374)]=!![]);}[Mx(0xb0f)](this),MZ[Mx(0x8bc)]=MJ,MZ[Mx(0xce8)]=MB||this,MZ[Mx(0xa9f)][Mx(0x19b)][Mx(0xb51)](this[Mx(0x1b8)],this),MZ[Mx(0xa9f)][Mx(0xd10)][Mx(0xb51)](this[Mx(0x9cc)],this),MZ[Mx(0xa9f)][Mx(0x8bf)][Mx(0xb51)](this[Mx(0x8aa)],this),MZ[Mx(0xa9f)][Mx(0x3e8)][Mx(0xb51)](this[Mx(0x466)],this),L7(MZ,0.5,0.5),My!=undefined?(MZ[Mx(0xe7)]=My[0x0],MZ[Mx(0x4de)]=My[0x1],MZ[Mx(0x552)][Mx(0x304)](My[0x0],My[0x1])):(MZ[Mx(0xe7)]=0x1,MZ[Mx(0x4de)]=0x1),MZ[Mx(0x581)]=this[Mx(0x115)],MZ[Mx(0xa87)]=this[Mx(0xb6d)],MZ[Mx(0x2de)]=MZ[Mx(0x581)],Mq!=undefined&&Mq[Mx(0x6a8)](MZ),MZ;},'createOneImageButton':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq){var Mx=n2,MZ=Me[Mx(0xb51)][Mx(0xa9a)](MS,MW,Mv);return Mg!=null&&(MZ[Mx(0x528)]=Mg),MZ[Mx(0x983)]=!![],MZ[Mx(0x506)]=Ms,MZ[Mx(0x8bc)]=MJ,MZ[Mx(0xce8)]=MB||this,MZ[Mx(0xa9f)][Mx(0x19b)][Mx(0xb51)](this[Mx(0x1b8)],this),MZ[Mx(0xa9f)][Mx(0xd10)][Mx(0xb51)](this[Mx(0x9cc)],this),MZ[Mx(0xa9f)][Mx(0x8bf)][Mx(0xb51)](this[Mx(0x8aa)],this),MZ[Mx(0xa9f)][Mx(0x3e8)][Mx(0xb51)](this[Mx(0x466)],this),My!=undefined?(MZ[Mx(0xe7)]=My[0x0],MZ[Mx(0x4de)]=My[0x1],MZ[Mx(0x552)][Mx(0x304)](My[0x0],My[0x1])):(MZ[Mx(0xe7)]=0x1,MZ[Mx(0x4de)]=0x1),L7(MZ,0.5,0.5),Mq!=undefined&&Mq[Mx(0x6a8)](MZ),MZ[Mx(0x581)]=this[Mx(0x115)],MZ[Mx(0xa87)]=this[Mx(0xb6d)],MZ[Mx(0x2de)]=MZ[Mx(0x581)],MZ;},'createTwoImageButton':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq,Mx,MZ){var Mf=n2,MN=Me[Mf(0xb51)][Mf(0xa9a)](MS,MW,Mv);MN[Mf(0x528)]=Mg,MN[Mf(0x983)]=!![],MN[Mf(0x506)]=Mq;var MG=Me[Mf(0x74e)][Mf(0x46a)](0x0,0x0,MJ);return MG[Mf(0x528)]=MB,MG[Mf(0xc25)][Mf(0x304)](0.5),MN[Mf(0x23f)]=MN[Mf(0x6a8)](MG),MN[Mf(0x8bc)]=Ms,MN[Mf(0xce8)]=My||this,MN[Mf(0xa9f)][Mf(0x19b)][Mf(0xb51)](this[Mf(0x1b8)],this),MN[Mf(0xa9f)][Mf(0xd10)][Mf(0xb51)](this[Mf(0x9cc)],this),MN[Mf(0xa9f)][Mf(0x8bf)][Mf(0xb51)](this[Mf(0x8aa)],this),MN[Mf(0xa9f)][Mf(0x3e8)][Mf(0xb51)](this[Mf(0x466)],this),L7(MN,0.5,0.5),Mx!=undefined?(MN[Mf(0xe7)]=Mx[0x0],MN[Mf(0x4de)]=Mx[0x1],MN[Mf(0x552)][Mf(0x304)](Mx[0x0],Mx[0x1])):(MN[Mf(0xe7)]=0x1,MN[Mf(0x4de)]=0x1),MZ!=undefined&&MZ[Mf(0x6a8)](MN),MN[Mf(0x581)]=this[Mf(0x115)],MN[Mf(0xa87)]=this[Mf(0xb6d)],MN[Mf(0x2de)]=MN[Mf(0x581)],MN;},'createLevelButton':function(MS,MW,Mv,Mg,MJ,MB,Ms,My){var Mq=n2,Mx='',MZ=Mq(0x213);Mg==0x0&&(Mx=Mq(0xc9d),MZ=Mq(0x213)),Mg==0x1&&(Mx=Mq(0xc9d),MZ=Mq(0x2e6)),Mg==0x2&&(Mx=Mq(0xb42),MZ=Mq(0x3e7)),Mg==0x3&&(Mx=Mq(0xb42),MZ=Mq(0x976)),Mg==0x4&&(Mx=Mq(0xcf2),MZ=Mq(0x222)),Mg==0x5&&(Mx=Mq(0xcf2),MZ=Mq(0x9ed)),Mg==0x6&&(Mx=Mq(0xccf),MZ=Mq(0x121)),Mg==0x7&&(Mx=Mq(0xccf),MZ=Mq(0x1fe)),Mg==0x8&&(Mx=Mq(0x645),MZ=Mq(0xab7)),Mg==0x9&&(Mx=Mq(0x645),MZ=Mq(0x8a1)),Mg==0xa&&(Mx=Mq(0x8f0),MZ=Mq(0xec)),Mg==0xb&&(Mx=Mq(0x8f0),MZ=Mq(0xa04)),Mg==0xc&&(Mx=Mq(0x133),MZ=Mq(0x82d)),Mg==0xd&&(Mx=Mq(0x133),MZ=Mq(0x437)),Mg==0xe&&(Mx=Mq(0x787),MZ=Mq(0x917)),Mg==0xf&&(Mx=Mq(0x787),MZ=Mq(0xa24));var Mf=0xa;(Mg==0x4||Mg==0x5||Mg==0x6||Mg==0x7)&&(Mf=-0xb4);if(Mg==0xe||Mg==0xf)var MN=Me[Mq(0xb51)][Mq(0x46a)](MS,MW,Mq(0x12a),Mx),MG=Me[Mq(0xb51)][Mq(0x46a)](Mf,-0xaa,Mq(0x12a),MZ);else var MN=Me[Mq(0xb51)][Mq(0x46a)](MS,MW,Mq(0x12a),Mx),MG=Me[Mq(0xb51)][Mq(0x46a)](Mf,-0xaa,Mq(0x12a),MZ);MN[Mq(0x6a8)](MG),Mg>=0xa?MG[Mq(0x552)][Mq(0x304)](0.65):null,Mg>=0xa?MG['y']=-0x5a:null,Mg>=0xa?MG['x']=0x1e:null,MN[Mq(0x983)]=!![],MN[Mq(0xaa8)]=MN[Mq(0x3ab)],MN[Mq(0x8b5)]=MJ,MN[Mq(0x92e)]=Mg;var MF=[[-0x34,-0x72,0.75],[0x0,-0x72,0x1],[0x34,-0x72,0.75]],Mi=[];;return Object[Mq(0x726)](MN,Mq(0xa0a),{'set':function(Mr){var Mt=Mq;MN[Mt(0x552)][Mt(0x304)](Mr);},'get':function(){var Mr=Mq;return MN[Mr(0x552)]['x'];}}),Object[Mq(0x726)](MN,Mq(0x1a7),{'set':function(Mr){var Mt=Mq;MN[Mt(0x552)]['x']=Mr;},'get':function(){var Mr=Mq;return MN[Mr(0x552)]['x'];}}),MN[Mq(0x8bc)]=MB,MN[Mq(0xce8)]=Ms||this,MN[Mq(0xa9f)][Mq(0x19b)][Mq(0xb51)](this[Mq(0x1b8)],this),MN[Mq(0xa9f)][Mq(0xd10)][Mq(0xb51)](this[Mq(0x9cc)],this),MN[Mq(0xa9f)][Mq(0x8bf)][Mq(0xb51)](this[Mq(0x8aa)],this),MN[Mq(0xa9f)][Mq(0x3e8)][Mq(0xb51)](this[Mq(0x466)],this),MN[Mq(0xe7)]=Mv,MN[Mq(0x4de)]=Mv,MN[Mq(0x506)]=![],MN[Mq(0x552)][Mq(0x304)](Mv),L7(MN,0.5,0.5),My!=undefined&&My[Mq(0x6a8)](MN),MN[Mq(0x581)]=this[Mq(0x115)],MN[Mq(0xa87)]=this[Mq(0x115)],MN[Mq(0x2de)]=MN[Mq(0x581)],MN;},'createLevelButton2':function(MS,MW,Mv,Mg,MJ,MB,Ms,My){var Mq=n2,Mx=Me[Mq(0xb51)][Mq(0xa9a)](MS,MW,Mq(0x923));Mx[Mq(0x528)]=Mq(0x943),Mx[Mq(0x983)]=!![],Mx[Mq(0xaa8)]=Mx[Mq(0x3ab)],Mx[Mq(0x8b5)]=MJ,Mx[Mq(0x92e)]=Mg;var MZ=[[-0x34,-0x72,0.75],[0x0,-0x72,0x1],[0x34,-0x72,0.75]],Mf=[];for(var MN=0x0;MN<0x3;MN++){var MG=Me[Mq(0x74e)][Mq(0x46a)](MZ[MN][0x0],MZ[MN][0x1],Mq(0x923),Mq(0x34b));MG[Mq(0x552)][Mq(0x304)](MZ[MN][0x2]),MG[Mq(0xc25)][Mq(0x304)](0.5),Mx[Mq(0x6a8)](MG),Mf[Mq(0x526)](MG);}Mx[Mq(0x295)]=Me[Mq(0x74e)][Mq(0xb9c)](Mx);var MF=Me[Mq(0xb51)][Mq(0x2da)](0x0,-L9(Mx[Mq(0x4ca)]*0.2),gameTexts[Mq(0x42f)](p9),{'font':Mq(0xb97)+Dl,'fill':pU});L7(MF,0.5,0.5),Mx[Mq(0x1c1)]=Mx[Mq(0x295)][Mq(0x6a8)](MF);var Mi=Me[Mq(0xb51)][Mq(0x2da)](0x0,0x0,Mg+0x1,{'font':Mq(0x64f)+Dl,'fill':pU});L7(Mi,0.5,0.5),Mx[Mq(0x8f5)]=Mx[Mq(0x295)][Mq(0x6a8)](Mi);var Mr=Me[Mq(0xb51)][Mq(0x2da)](0x0,L9(Mx[Mq(0x4ca)]*0.26),gameTexts[Mq(0x42f)](pI)+Mq(0x316),{'font':Mq(0xb97)+Dl,'fill':pU});L7(Mr,0.5,0.5),Mx[Mq(0x6f0)]=Mx[Mq(0x295)][Mq(0x6a8)](Mr);var Mt=Me[Mq(0xb51)][Mq(0x2da)](0x0,L9(Mx[Mq(0x4ca)]*0.35),gameTexts[Mq(0x8d0)](R3[Mq(0x7f3)](Mx[Mq(0x8b5)])),{'font':Mq(0xb97)+Dl,'fill':R3[Mq(0xa84)](Mx[Mq(0x8b5)])});L7(Mt,0.5,0.5),Mx[Mq(0x727)]=Mx[Mq(0x6a8)](Mt);var MC=Me[Mq(0xb51)][Mq(0x46a)](0x0,-L9(Mx[Mq(0x4ca)]*0.05),Mq(0x923),Mq(0x4d0));return L7(MC,0.5,0.5),Mx[Mq(0x1f6)]=Mx[Mq(0x6a8)](MC),Mx[Mq(0x701)]=function(MT){var Mz=Mq;for(var Mh=0x0;Mh<0x3;Mh++){Mf[Mh][Mz(0x152)]=![];}for(var Mh=0x0;Mh<MT;Mh++){Mf[Mh][Mz(0x152)]=!![];}},Mx[Mq(0x305)]=function(){var MT=Mq;if(levelsScore[Mx[MT(0x92e)]]===Rq){for(var Mz=0x0;Mz<0x3;Mz++){Mf[Mz][MT(0x152)]=![];}Mx[MT(0x295)][MT(0x152)]=![],Mx[MT(0x1f6)][MT(0x152)]=!![],Mx[MT(0x1f6)][MT(0x2a0)]=0x1;}else Mx[MT(0x295)][MT(0x152)]=!![],Mx[MT(0x295)][MT(0x2a0)]=0x1,Mx[MT(0x1f6)][MT(0x152)]=![];},Mx[Mq(0x522)]=function(){var MT=Mq;for(var Mz=0x0;Mz<0x3;Mz++){Mf[Mz][MT(0x152)]=![];}Mx[MT(0x295)][MT(0x152)]=!![],Mx[MT(0x295)][MT(0x2a0)]=0x0,Mx[MT(0x1f6)][MT(0x152)]=!![],Mx[MT(0x1f6)][MT(0x2a0)]=0x1,Me[MT(0xb51)][MT(0x2b1)](Mx[MT(0x295)])['to']({'alpha':0x1},0x190,Phaser[MT(0x19c)][MT(0xb78)][MT(0x793)],!![],0x384),Me[MT(0x639)][MT(0xa9f)][MT(0xb51)](0x2bc,function(){var Mh=MT;Mx[Mh(0x1f6)][Mh(0x152)]=![],ER[Mh(0x4ff)](Mx[Mh(0x505)]['x'],Mx[Mh(0x505)]['y'],0x1),E6[Mh(0x3f4)](Mh(0x52e));});},Mx[Mq(0x6db)]=function(){var MT=Mq;Mx[MT(0x1c1)][MT(0x2da)]=gameTexts[MT(0x8d0)](p9),L7(Mx[MT(0x1c1)],0.5,0.5),Mx[MT(0x727)][MT(0x2da)]=gameTexts[MT(0x8d0)](R3[MT(0x7f3)](Mx[MT(0x8b5)])),L7(Mx[MT(0x727)],0.5,0.5),Mx[MT(0x81f)]();},Mx[Mq(0x81f)]=function(){var MT=Mq;Mx[MT(0x6f0)][MT(0x2da)]=gameTexts[MT(0x8d0)](pI)+':\x20'+Dk(levelsScore[Mx[MT(0x92e)]]),L7(Mx[MT(0x6f0)],0.5,0.5),gameTexts[MT(0x32b)](Mx[MT(0x6f0)],0x14,Mx[MT(0xaa8)]*0.7);},Object[Mq(0x726)](Mx,Mq(0xa0a),{'set':function(MT){var Mz=Mq;Mx[Mz(0x552)][Mz(0x304)](MT);},'get':function(){var MT=Mq;return Mx[MT(0x552)]['x'];}}),Mx[Mq(0x8bc)]=MB,Mx[Mq(0xce8)]=Ms||this,Mx[Mq(0xa9f)][Mq(0x19b)][Mq(0xb51)](this[Mq(0x1b8)],this),Mx[Mq(0xa9f)][Mq(0xd10)][Mq(0xb51)](this[Mq(0x9cc)],this),Mx[Mq(0xa9f)][Mq(0x8bf)][Mq(0xb51)](this[Mq(0x8aa)],this),Mx[Mq(0xa9f)][Mq(0x3e8)][Mq(0xb51)](this[Mq(0x466)],this),Mx[Mq(0xe7)]=Mv,Mx[Mq(0x4de)]=Mv,Mx[Mq(0x506)]=![],Mx[Mq(0x552)][Mq(0x304)](Mv),L7(Mx,0.5,0.5),My!=undefined&&My[Mq(0x6a8)](Mx),Mx[Mq(0x581)]=this[Mq(0x115)],Mx[Mq(0xa87)]=this[Mq(0x115)],Mx[Mq(0x2de)]=Mx[Mq(0x581)],Mx;},'createMenuButtonOneImage':function(MS,MW,Mv,Mg,MJ,MB,Ms){var My=n2,Mq=Me[My(0xb51)][My(0xa9a)](MS,MW,Mv);return Mq[My(0x983)]=!![],typeof Mg==My(0xb67)?Mq[My(0x528)]=Mg:Mq[My(0x311)]=Mg,Mq[My(0x183)]=Mv,Mq[My(0x696)]=MJ,Mq[My(0x8bc)]=MB,Mq[My(0xce8)]=Ms||this,Mq[My(0xa9f)][My(0x19b)][My(0xb51)](this[My(0x1b8)],this),Mq[My(0xa9f)][My(0xd10)][My(0xb51)](this[My(0x9cc)],this),Mq[My(0xa9f)][My(0x8bf)][My(0xb51)](this[My(0x8aa)],this),Mq[My(0xa9f)][My(0x3e8)][My(0xb51)](this[My(0x466)],this),L7(Mq,0.5,0.5),Mq;},'createEmptyButton':function(MS,MW,Mv,Mg){var MJ=n2,MB=Me[MJ(0xb51)][MJ(0xa9a)](MS,MW);return MB[MJ(0x983)]=!![],MB[MJ(0x8bc)]=Mv,MB[MJ(0xce8)]=Mg||this,MB[MJ(0xa9f)][MJ(0x19b)][MJ(0xb51)](this[MJ(0x1b8)],this),MB[MJ(0xa9f)][MJ(0xd10)][MJ(0xb51)](this[MJ(0x9cc)],this),MB[MJ(0xa9f)][MJ(0x8bf)][MJ(0xb51)](this[MJ(0x8aa)],this),MB[MJ(0xa9f)][MJ(0x3e8)][MJ(0xb51)](this[MJ(0x466)],this),L7(MB,0.5,0.5),MB;},'createMenuButtonTwoImages':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq,Mx){var MZ=n2,Mf=Me[MZ(0xb51)][MZ(0xa9a)](MS,MW,Mv);Mf[MZ(0x983)]=!![],typeof Mg==MZ(0xb67)?Mf[MZ(0x528)]=Mg:Mf[MZ(0x311)]=Mg;var MN=Me[MZ(0x74e)][MZ(0x46a)](0x0,0x0,MB,Ms);return L7(MN,0.5,0.5),My!==null&&MN[MZ(0x552)][MZ(0x304)](My),Mf[MZ(0x5d8)]=Mf[MZ(0x6a8)](MN),Mf[MZ(0x183)]=Mv,Mf[MZ(0x696)]=MJ,Mf[MZ(0x8bc)]=Mq,Mf[MZ(0xce8)]=Mx||this,Mf[MZ(0xa9f)][MZ(0x19b)][MZ(0xb51)](this[MZ(0x1b8)],this),Mf[MZ(0xa9f)][MZ(0xd10)][MZ(0xb51)](this[MZ(0x9cc)],this),Mf[MZ(0xa9f)][MZ(0x8bf)][MZ(0xb51)](this[MZ(0x8aa)],this),Mf[MZ(0xa9f)][MZ(0x3e8)][MZ(0xb51)](this[MZ(0x466)],this),L7(Mf,0.5,0.5),Mf;},'updateMenuButtonFrame':function(MS,MW){var Mv=n2;typeof MW==Mv(0xb67)?MS[Mv(0x528)]=MW:MS[Mv(0x311)]=MW,MS[Mv(0x8fa)]=null;},'updateMenuButtonTexture':function(MS,MW){var Mv=n2;MS[Mv(0x1fb)](MW);},'updateMenuButtonText':function(MS){var MW=n2;MS[MW(0x328)]!=undefined&&MS[MW(0x5f5)][MW(0xb20)](gameTexts[MW(0x42f)](MS[MW(0x328)]));},'btnInputOver':function(MS){var MW=n2;if(!MS[MW(0x983)])return;if(MS[MW(0x33e)]===![])return;!Me[MW(0x3d0)][MW(0x5dd)][MW(0xbf6)]&&(this[MW(0xada)](MS,MS[MW(0xa87)]),MS[MW(0x987)]!=null&&this[MW(0x577)](MS,!![])),MS[MW(0x970)]=!![];},'btnInputOut':function(MS){var MW=n2;if(!MS[MW(0x983)])return;if(MS[MW(0x33e)]===![])return;this[MW(0xada)](MS,MS[MW(0x581)]),MS[MW(0x987)]!=null&&this[MW(0x577)](MS,![]),MS[MW(0x970)]=![];},'btnInputUp':function(MS){var MW=n2;if(!MS[MW(0x983)])return;if(MS[MW(0x33e)]===![])return;this[MW(0xada)](MS,MS[MW(0x581)]),MS[MW(0x970)]&&DZ&&this[MW(0xada)](MS,MS[MW(0xa87)]),MS[MW(0x987)]!=null&&this[MW(0x577)](MS,![]),MS[MW(0x970)]&&(MS[MW(0x970)]=![],MS[MW(0x8bc)][MW(0xb40)](MS[MW(0xce8)],MS)),(MS[MW(0x506)]==undefined||MS[MW(0x506)]==!![])&&MS[MW(0x552)][MW(0x304)](MS[MW(0xe7)]||0x1,MS[MW(0x4de)]||0x1),MS[MW(0x8fa)]=-0x1;},'btnInputDown':function(MS){var MW=n2;if(!MS[MW(0x983)])return;if(MS[MW(0x33e)]===![])return;this[MW(0xada)](MS,MS[MW(0xa87)]),MS[MW(0x987)]!=null&&this[MW(0x577)](MS,!![]),(MS[MW(0x506)]==undefined||MS[MW(0x506)]==!![])&&MS[MW(0x552)][MW(0x304)](MS[MW(0xe7)]*0.95||0.95,MS[MW(0x4de)]*0.95||0.95),MS[MW(0x8fa)]=-0x1,MS[MW(0x970)]=!![];},'setBtnTint':function(MS,MW){var Mv=n2;if(MS[Mv(0x3be)]===!![])return;MS[Mv(0x2de)]=MW;for(var Mg=0x0;Mg<MS[Mv(0xa3f)][Mv(0x16a)];Mg++){if(MS[Mv(0xae3)](Mg)[Mv(0x3be)]===!![])continue;MS[Mv(0xae3)](Mg)[Mv(0x2de)]=MW;if(MS[Mv(0xae3)](Mg)[Mv(0xa3f)][Mv(0x16a)]>0x0)for(var MJ=0x0;MJ<MS[Mv(0xae3)](Mg)[Mv(0xa3f)][Mv(0x16a)];MJ++){if(MS[Mv(0xae3)](Mg)[Mv(0xae3)](MJ)[Mv(0x3be)]===!![])continue;MS[Mv(0xae3)](Mg)[Mv(0xae3)](MJ)[Mv(0x2de)]=MW;}}},'setFontColor':function(MS,MW){var Mv=n2;for(var Mg=0x0;Mg<MS[Mv(0x987)][Mv(0x16a)];Mg++){MW?MS[Mv(0xae3)](MS[Mv(0x987)][Mg])[Mv(0x1bc)]=Mv(0x4dc):MS[Mv(0xae3)](MS[Mv(0x987)][Mg])[Mv(0x1bc)]=MS[Mv(0xae3)](MS[Mv(0x987)][Mg])[Mv(0xc72)];}}};var E7=0x3c;Phaser[n2(0x89b)][n2(0xa3a)][n2(0x3d9)]=function(MS=![],MW=![]){var Mv=n2;if(this[Mv(0x8a0)]===undefined)this[Mv(0x8a0)]=this[Mv(0x39b)]['x'];if(this[Mv(0x865)]===undefined)this[Mv(0x865)]=this[Mv(0x39b)]['y'];MW===![]&&(MW=MS),this[Mv(0x39b)]['x']=this[Mv(0x3ab)]*MS,this[Mv(0x39b)]['y']=this[Mv(0x4ca)]*MW;},Phaser[n2(0x3d4)][n2(0xa3a)][n2(0x3d9)]=Phaser[n2(0x89b)][n2(0xa3a)][n2(0x3d9)],Phaser[n2(0xae2)][n2(0xa3a)][n2(0x3d9)]=Phaser[n2(0x89b)][n2(0xa3a)][n2(0x3d9)],Phaser[n2(0x955)][n2(0xa3a)][n2(0x3d9)]=Phaser[n2(0x89b)][n2(0xa3a)][n2(0x3d9)];var E8=function(){var MS=n2;this[MS(0xa88)]=null,this[MS(0x887)]=[],this[MS(0x593)]=[],this[MS(0x72a)]=Phaser[MS(0x19c)][MS(0x508)][MS(0x28c)],this[MS(0x856)]=0x15e,this[MS(0x8cd)]=![];};E8[n2(0xa3a)]={'preload':function(){var MS=n2;this[MS(0x8cd)]=!![],this[MS(0x1f7)]=new Eh(),this[MS(0x593)][MS(0x526)](this[MS(0x1f7)]),this[MS(0x182)]=new RE(),this[MS(0x593)][MS(0x526)](this[MS(0x182)]),this[MS(0xb1c)]=new Rv(),this[MS(0x593)][MS(0x526)](this[MS(0xb1c)]),this[MS(0x19a)]=new RM(),this[MS(0x593)][MS(0x526)](this[MS(0x19a)]),this[MS(0x164)]=new RP(),this[MS(0x593)][MS(0x526)](this[MS(0x164)]),this[MS(0x6d3)]=new RR(),this[MS(0x593)][MS(0x526)](this[MS(0x6d3)]),this[MS(0x4dd)]=new Em(),this[MS(0x593)][MS(0x526)](this[MS(0x4dd)]);for(var MW=0x0;MW<this[MS(0x593)][MS(0x16a)];MW++){this[MS(0x593)][MW][MS(0x730)]=function(){var Mv=MS;ER[Mv(0x8be)](this);},this[MS(0x593)][MW][MS(0x54d)]=function(){var Mv=MS;ER[Mv(0x54d)](this);},this[MS(0x593)][MW][MS(0x3c4)]=function(){var Mv=MS;ER[Mv(0x225)](this);},this[MS(0x593)][MW][MS(0x9ef)]=this[MS(0x593)][MW][MS(0x9ef)],this[MS(0x593)][MW][MS(0x88c)]=this[MS(0x593)][MW][MS(0x88c)],this[MS(0x593)][MW][MS(0xb81)]=this[MS(0x593)][MW][MS(0xb81)],this[MS(0x593)][MW][MS(0x549)]=this[MS(0x593)][MW][MS(0x549)],this[MS(0x593)][MW][MS(0xaa5)]=this[MS(0x593)][MW][MS(0xaa5)],this[MS(0x593)][MW][MS(0x16f)]=this[MS(0x593)][MW][MS(0x16f)],this[MS(0x593)][MW][MS(0x2ad)]=this[MS(0x593)][MW][MS(0x2ad)],this[MS(0x593)][MW][MS(0x8df)]=this[MS(0x593)][MW][MS(0x8df)],this[MS(0x593)][MW][MS(0xa44)]=this[MS(0x593)][MW][MS(0xa44)],this[MS(0x593)][MW][MS(0x8b7)]=this[MS(0x593)][MW][MS(0x8b7)],this[MS(0x593)][MW][MS(0x382)]=this[MS(0x593)][MW][MS(0x382)],this[MS(0x593)][MW][MS(0x9ac)]=this[MS(0x593)][MW][MS(0x9ac)],this[MS(0x593)][MW][MS(0x365)]=this[MS(0x593)][MW][MS(0x365)];}},'create':function(){var MS=n2;this[MS(0xa88)]=new Buttons(),this[MS(0xa88)][MS(0xabd)]();for(var MW in this[MS(0x593)]){this[MS(0x593)][MS(0x239)](MW)&&(this[MS(0x593)][MW][MS(0xabd)](),this[MS(0x593)][MW][MS(0x695)][MS(0x152)]=![],this[MS(0x5fa)](this[MS(0x593)][MW][MS(0x695)]),ER[MS(0x918)](this[MS(0x593)][MW][MS(0x695)],![]));}ER[MS(0xcbe)]();},'update':function(){var MS=n2;for(var MW in this[MS(0x593)]){if(this[MS(0x593)][MS(0x239)](MW)){if(this[MS(0x593)][MW][MS(0x695)][MS(0x152)]===!![]){this[MS(0xa0f)](this[MS(0x593)][MW][MS(0x695)]);if(this[MS(0x593)][MW][MS(0x4b1)])this[MS(0x593)][MW][MS(0x4b1)]();}else this[MS(0x5fa)](this[MS(0x593)][MW][MS(0x695)]);}}},'resetScreenTexts':function(){var MS=n2;for(var MW in this[MS(0x593)]){if(this[MS(0x593)][MS(0x239)](MW)){if(this[MS(0x593)][MW][MS(0xcbe)])this[MS(0x593)][MW][MS(0xcbe)]();}}},'screenSwitcher_openNewScreen':function(MS,MW,Mv){var Mg=n2;while(this[Mg(0x887)][Mg(0x16a)]>0x0){var MJ=this[Mg(0x887)][Mg(0xd47)]();MJ[Mg(0x44d)]!=undefined&&MJ[Mg(0x44d)][Mg(0x2a0)]>0x0&&MJ[Mg(0x44d)][Mg(0x36b)][Mg(0x762)](),Mv==undefined&&(Mv=Mg(0x88c)),MJ[Mv][Mg(0xb40)](MJ);}this[Mg(0xa0f)](MS[Mg(0x695)]),this[Mg(0x887)][Mg(0x526)](MS),this[Mg(0x35f)](MS),MW==undefined&&(MW=Mg(0x9ef)),MS[MW][Mg(0xb40)](MS),MS[Mg(0x44d)]!=null&&(MS[Mg(0x44d)][Mg(0x2a0)]=0x0,MS[Mg(0x44d)][Mg(0x152)]=![]);},'screenSwitcher_openOverlayScreen':function(MS,MW){var Mv=n2;if(MS&&MS[Mv(0x695)]&&MS[Mv(0x695)][Mv(0x152)]===!![])return;this[Mv(0xa0f)](MS[Mv(0x695)]);var Mg=this[Mv(0x887)][this[Mv(0x887)][Mv(0x16a)]-0x1];this[Mv(0x918)](Mg[Mv(0x695)],![]),Mg[Mv(0x44d)]==null?(Mg[Mv(0x44d)]=Mg[Mv(0x695)][Mv(0x6a8)](this[Mv(0x1e4)]()),Mg[Mv(0x44d)][Mv(0x739)]=![]):(Mg[Mv(0x44d)][Mv(0x2a0)]=0x0,Mg[Mv(0x44d)][Mv(0x152)]=!![]),Mg[Mv(0x44d)][Mv(0xc91)][Mv(0x762)](),this[Mv(0x887)][Mv(0x526)](MS),this[Mv(0x35f)](MS),MW==undefined&&(MW=Mv(0x9ef)),MS[MW][Mv(0xb40)](MS);},'screenSwitcher_switchOverlayScreen':function(MS,MW,Mv){var Mg=n2;if(Mv&&Mv[Mg(0x695)]&&Mv[Mg(0x695)][Mg(0x152)]===!![])return;this[Mg(0xa0f)](Mv[Mg(0x695)]);var MJ=this[Mg(0x887)][Mg(0xd47)]();MS==undefined&&(MS=Mg(0x88c)),MJ[MS][Mg(0xb40)](MJ,function(){var MB=Mg;this[MB(0xa06)](MJ);}[Mg(0xb0f)](this)),this[Mg(0x887)][Mg(0x526)](Mv),this[Mg(0x35f)](Mv),MW==undefined&&(MW=Mg(0x9ef)),Mv[MW][Mg(0xb40)](Mv),MJ[Mg(0x94f)]=Mv[Mg(0x695)][Mg(0x7e1)];},'screenSwitcher_closeOverlayScreen2':function(MS){var MW=n2;for(let Mg=0x0;Mg<this[MW(0x887)][MW(0x16a)];Mg++){const MJ=this[MW(0x887)][Mg];if(MJ&&MS&&MS[MW(0x695)][MW(0x7e1)]==MJ[MW(0x695)][MW(0x7e1)])this[MW(0x887)][MW(0x20a)](Mg,0x1);break;}var Mv=this[MW(0x887)][MW(0xd47)]();hideScreenFunctionName==undefined&&(hideScreenFunctionName=MW(0x88c)),Mv[hideScreenFunctionName][MW(0xb40)](Mv,function(){var MB=MW;this[MB(0xa06)](Mv);}[MW(0xb0f)](this));var MS=this[MW(0x887)][this[MW(0x887)][MW(0x16a)]-0x1];MS[MW(0x44d)][MW(0x36b)][MW(0x762)](),Mv[MW(0x94f)]=MS[MW(0x695)][MW(0x7e1)];},'screenSwitcher_closeOverlayScreen':function(MS){var MW=n2,Mv=this[MW(0x887)][MW(0xd47)]();MS==undefined&&(MS=MW(0x88c)),Mv[MS][MW(0xb40)](Mv,function(){var MJ=MW;this[MJ(0xa06)](Mv);}[MW(0xb0f)](this));var Mg=this[MW(0x887)][this[MW(0x887)][MW(0x16a)]-0x1];Mg[MW(0x44d)][MW(0x36b)][MW(0x762)](),Mv[MW(0x94f)]=Mg[MW(0x695)][MW(0x7e1)];},'closeOverlayScreenOver':function(MS){var MW=n2;this[MW(0x887)][this[MW(0x887)][MW(0x16a)]-0x1][MW(0x695)][MW(0x7e1)]==MS[MW(0x94f)]&&this[MW(0x918)](this[MW(0x887)][this[MW(0x887)][MW(0x16a)]-0x1][MW(0x695)],!![]);},'closeOverlayScreen':function(MS,MW){var Mv=n2;this[Mv(0x887)][Mv(0x4ea)]((Mg,MJ)=>{var MB=Mv;if(Mg[MB(0x695)][MB(0x7e1)]===MS[MB(0x695)][MB(0x7e1)]){var Ms=this[MB(0x887)][MB(0x20a)](MJ,0x1)[0x0];MW==undefined&&(MW=MB(0x88c));if(!Ms)return;Ms[MW][MB(0xb40)](Ms,function(){var Mq=MB;this[Mq(0xa06)](Ms);}[MB(0xb0f)](this));var My=this[MB(0x887)][this[MB(0x887)][MB(0x16a)]-0x1];if(!My)return;if(My?.[MB(0x44d)]?.[MB(0x36b)])My[MB(0x44d)][MB(0x36b)][MB(0x762)]();if(My?.[MB(0x695)]?.[MB(0x7e1)])Ms[MB(0x94f)]=My[MB(0x695)][MB(0x7e1)];}});},'hide':function(MS){var MW=n2;if(MS[MW(0xc02)]&&MS[MW(0xc4b)]!==!![]){MS[MW(0xc4b)]=!![],MS[MW(0x7cf)]=MS[MW(0xc02)][MW(0xa3f)][MW(0x2c8)](MS);if(MS[MW(0x7cf)]!==-0x1&&MS[MW(0xc02)][MW(0xa3f)])[MS[MW(0xc02)][MW(0xa3f)][MW(0x20a)](MS[MW(0x7cf)],0x1)];}},'show':function(MS){var MW=n2;if(MS[MW(0xc02)]&&MS[MW(0x7cf)]!==-0x1&&MS[MW(0x7cf)]!==undefined&&MS[MW(0xc4b)]===!![]){MS[MW(0xc4b)]=![];if(MS[MW(0x7cf)]!==-0x1&&MS[MW(0xc02)][MW(0xa3f)])MS[MW(0xc02)][MW(0xcae)](MS,MS[MW(0x7cf)]);}},'screenSwitcher_onResolutionChange':function(MS){var MW=n2;typeof this[MW(0x1f7)]!=MW(0xd40)&&this[MW(0x1f7)][MW(0x667)](),typeof this[MW(0x4dd)]!=MW(0xd40)&&this[MW(0x4dd)][MW(0x667)]();if(MS!==undefined){typeof MS[MW(0x667)]===MW(0x458)&&MS[MW(0x667)]();return;}for(var Mv=0x0;Mv<this[MW(0x887)][MW(0x16a)];Mv++){typeof this[MW(0x887)][Mv][MW(0x667)]===MW(0x458)&&this[MW(0x887)][Mv][MW(0x667)]();}EE[MW(0x667)]();},'getGraySprite':function(){var MS=n2,MW=Me[MS(0x74e)][MS(0x46a)](-0x5,-0x5,MS(0xc82),MS(0x447));return MW[MS(0x2de)]=MS(0xaa7),MW[MS(0x3ab)]=Ef['x']+0xa,MW[MS(0x4ca)]=Ef['y']+0xa+0x190,MW[MS(0x2a0)]=0x0,MW[MS(0xc91)]=Me[MS(0xb51)][MS(0x2b1)](MW)['to']({'alpha':0.7},0x96,Phaser[MS(0x19c)][MS(0xb78)][MS(0x793)],![]),MW[MS(0x36b)]=Me[MS(0xb51)][MS(0x2b1)](MW)['to']({'alpha':0x0},0x96,Phaser[MS(0x19c)][MS(0xb78)][MS(0x793)],![]),MW[MS(0x36b)][MS(0xabe)][MS(0xb51)](function(Mv){var Mg=MS;if(Mv[Mg(0xc91)][Mg(0xaee)])return;Mv[Mg(0x152)]=![];},this),MW[MS(0x9c3)]=!![],MW;},'createSprite':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq){var Mx=n2,MZ=Me[Mx(0x74e)][Mx(0x46a)](MS,MW,Mv);return Mg!=null&&(MZ[Mx(0x528)]=Mg),MZ[Mx(0x552)][Mx(0x304)](MJ,MB),L7(MZ,Ms,My),Mq!==undefined&&Mq[Mx(0x6a8)](MZ),MZ;},'createSprite2':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq,Mx,MZ){var Mf=n2,MN=Me[Mf(0x74e)][Mf(0x46a)](MS,MW,Mv,Mg);return MN[Mf(0x3ab)]=MJ,MN[Mf(0x4ca)]=MB,MN[Mf(0x2de)]=My,MN[Mf(0x2a0)]=Ms,L7(MN,Mq,Mx),MZ!==undefined&&MZ[Mf(0x6a8)](MN),MN;},'createText':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq,Mx){var MZ=n2,Mf=Me[MZ(0x74e)][MZ(0x2da)](MS,MW,Mv,{'font':Mg+MZ(0xa74)+MJ,'fill':MB});return L7(Mf,Ms,My),Mq[MZ(0x239)](MZ(0x760))&&(Mf[MZ(0x760)]=Mq[MZ(0x760)]),Mq[MZ(0x239)](MZ(0x83e))&&(Mf[MZ(0x83e)]=Mq[MZ(0x83e)]),Mq[MZ(0x239)](MZ(0xa72))&&(Mf[MZ(0xa72)]=Mq[MZ(0xa72)]),Mq[MZ(0x239)](MZ(0xa6f))&&(Mf[MZ(0xa6f)]=Mq[MZ(0xa6f)]),Mx!==undefined&&Mx[MZ(0x6a8)](Mf),Mf;},'createBitmapText':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq,Mx){var MZ=n2,Mf=Me[MZ(0xb51)][MZ(0x2b3)](MS,MW,gameFont,Mv,Mg);return Mf[MZ(0x552)][MZ(0x304)](MB),Mf[MZ(0x760)]=Mq,Mf[MZ(0x2de)]=MJ,L7(Mf,Ms,My),Mx!==undefined&&Mx[MZ(0x6a8)](Mf),Mf;},'createBitmaps':function(MS,MW){var Mv=n2;this[Mv(0xcab)]=0x0,this[Mv(0x9af)]=0x1,this[Mv(0xaff)]=[MS,MW];},'createBitmapsFinished':function(){var MS=n2;this[MS(0xcab)]+=0x1,this[MS(0xcab)]===this[MS(0x9af)]&&this[MS(0xaff)][0x0][MS(0xb40)](this[MS(0xaff)][0x1]);},'createBitmapExactWidth':function(MS,MW,Mv,Mg){var MJ=n2;this[MJ(0x4ce)](MS,![],MW,Mv,Mg);},'createBitmapExactWidthHeightCrop':function(MS,MW,Mv,Mg,MJ){var MB=n2;function Ms(Mi,Mr,Mt){var MC=Lw,MT=Me[MC(0x74e)][MC(0x46a)](0x0,0x0,Mv,Mg);cropRect=new Phaser[(MC(0xacb))](Mr,0x0,Mt,MT[MC(0x4ca)]),MT[MC(0x8b2)](cropRect),MN[MC(0x345)](MT,Mi,0x0);}var My=Me[MB(0x49c)][MB(0x46e)](Mv,Mg)[MB(0x3ab)],Mq=Me[MB(0x49c)][MB(0x46e)](Mv,Mg)[MB(0x4ca)],Mx=L9(My/0x3),MZ=L9(Mq/0x3);if(MW===![])var Mf=Mq;else Mf=MW;var MN=Me[MB(0xb51)][MB(0x4da)](MS,Mf),MG=MS-Mx*0x2;Ms(0x0,0x0,Mx);for(var MF=0x0;MF<MG;MF++){Ms(Mx+MF,Mx,0x1);}Ms(MS-Mx,My-Mx,Mx),MN[MB(0x67a)](MJ,function(Mi){var Mr=MB;this[Mr(0xff)]();}[MB(0xb0f)](this)),MN[MB(0x187)]();},'createGameOverWin':function(MS,MW,Mv){var Mg=n2;function MJ(Mr,Mt,MC,MT,Mz,Mh){var Mm=Lw,Mc=Me[Mm(0x74e)][Mm(0x46a)](0x0,0x0,Mm(0xf4),Mm(0x494));cropRect=new Phaser[(Mm(0xacb))](MC,Mz,MT,Mh),Mc[Mm(0x8b2)](cropRect),MB[Mm(0x345)](Mc,Mr,Mt);}var MB=Me[Mg(0xb51)][Mg(0x4da)](MS,MW),Ms=Me[Mg(0x49c)][Mg(0x46e)](Mg(0xf4),Mg(0x494))[Mg(0x3ab)],My=Me[Mg(0x49c)][Mg(0x46e)](Mg(0xf4),Mg(0x494))[Mg(0x4ca)],Mq=L9(Ms/0x3),Mx=L9(My/0x3);MJ(0x0,0x0,0x0,Mq,0x0,Mx),MJ(MS-Mq,0x0,Ms-Mq,Mq,0x0,Mx),MJ(0x0,MW-Mx,0x0,Mq,My-Mx,Mx),MJ(MS-Mq,MW-Mx,Ms-Mq,Mq,My-Mx,Mx);var MZ=0x32,Mf=Math[Mg(0xaa6)]((MS-0x2*Mq)/MZ);for(var MN=0x0;MN<Mf;MN++){MJ(Mq+MN*MZ,0x0,Mq,MZ,0x0,Mx),MJ(Mq+MN*MZ,MW-Mx,Mq,MZ,My-Mx,Mx);}Mf=Math[Mg(0xaa6)]((MW-0x2*Mx)/MZ);for(var MG=0x0;MG<Mf;MG++){MJ(0x0,Mx+MG*MZ,0x0,Mq,Mx,MZ),MJ(MS-Mq,Mx+MG*MZ,Ms-Mq,Mq,Mx,MZ);}var MF=Math[Mg(0xaa6)]((MS-0x2*Mq)/MZ),Mi=Math[Mg(0xaa6)]((MW-0x2*Mx)/MZ);for(var MN=0x0;MN<MF;MN++){for(var MG=0x0;MG<Mi;MG++){MJ(Mq+MN*MZ,Mx+MG*MZ,Mq,MZ,Mx,MZ);}}MB[Mg(0x67a)](Mv,function(Mr){var Mt=Mg;this[Mt(0xff)]();}[Mg(0xb0f)](this)),MB[Mg(0x187)]();},'create1x3WidthWindowBitmap':function(MS,MW,Mv,Mg,MJ){var MB=n2;function Ms(MN,MG,MF,Mi){var Mr=Lw,Mt=Me[Mr(0x74e)][Mr(0x46a)](0x0,0x0,MN,MG);Mt[Mr(0x552)]['y']=Mg,MZ[Mr(0x345)](Mt,MF,Mi);}var My=Me[MB(0x49c)][MB(0x46e)](MW,Mv[0x0])[MB(0x3ab)],Mq=Me[MB(0x49c)][MB(0x46e)](MW,Mv[0x0])[MB(0x4ca)],Mx=L9(MS/My),MZ=Me[MB(0xb51)][MB(0x4da)](Mx*My,L9(Mq*Mg));Ms(MW,Mv[0x0],0x0,0x0),Ms(MW,Mv[0x2],(Mx-0x1)*My,0x0);for(var Mf=0x1;Mf<Mx-0x1;Mf++){Ms(MW,Mv[0x1],Mf*My,0x0);}if(MJ!=null)Me[MB(0x49c)][MB(0x7d2)](MJ,MZ);else return MZ;},'create3x3WindowBitmap':function(MS,MW,Mv,Mg){var MJ=n2;function MB(MG,MF,Mi){var Mr=Lw,Mt=Me[Mr(0x74e)][Mr(0xa6e)](0x0,0x0,Mr(0x75b),Mv+MG);MZ[Mr(0x345)](Mt,MF,Mi);}var Ms=Me[MJ(0x49c)][MJ(0x46e)](MJ(0x75b),Mv+'0')[MJ(0x3ab)],My=Me[MJ(0x49c)][MJ(0x46e)](MJ(0x75b),Mv+'0')[MJ(0x4ca)],Mq=Math[MJ(0x665)](MS/Ms),Mx=Math[MJ(0x665)](MW/My),MZ=Me[MJ(0xb51)][MJ(0x4da)](Mq*Ms,Mx*My);MB(0x0,0x0,0x0),MB(0x2,(Mq-0x1)*Ms,0x0),MB(0x6,0x0,(Mx-0x1)*My),MB(0x8,(Mq-0x1)*Ms,(Mx-0x1)*My);for(var Mf=0x1;Mf<Mq-0x1;Mf++){MB(0x1,Mf*Ms,0x0),MB(0x7,Mf*Ms,(Mx-0x1)*My);}for(var Mf=0x1;Mf<Mx-0x1;Mf++){MB(0x3,0x0,Mf*My),MB(0x5,(Mq-0x1)*Ms,Mf*My);}for(var Mf=0x1;Mf<Mx-0x1;Mf++){for(var MN=0x1;MN<Mq-0x1;MN++){MB(0x4,MN*Ms,Mf*My);}}MZ[MJ(0x67a)](Mg,function(MG){var MF=MJ;this[MF(0xff)]();}[MJ(0xb0f)](this)),MZ[MJ(0x187)]();},'create3x3WindowBitmap_exactSize':function(MS,MW,Mv,Mg,MJ){var MB=n2;function Ms(MF,Mi,Mr){var Mt=Lw,MC=Me[Mt(0x74e)][Mt(0xa6e)](0x0,0x0,Mv,Mg+MF);Mf[Mt(0x345)](MC,Mi,Mr);}var My=Me[MB(0x49c)][MB(0x46e)](Mv,Mg+'0')[MB(0x3ab)],Mq=Me[MB(0x49c)][MB(0x46e)](Mv,Mg+'0')[MB(0x4ca)],Mx=Math[MB(0x665)](MS/My),MZ=Math[MB(0x665)](MW/Mq),Mf=Me[MB(0xb51)][MB(0x4da)](MS,MW);for(var MN=0x1;MN<MZ;MN++){for(var MG=0x1;MG<Mx;MG++){Ms(0x4,MG*My,MN*Mq);}}for(var MN=0x1;MN<Mx-0x1;MN++){Ms(0x1,MN*My,0x0),Ms(0x7,MN*My,MW-Mq);}Ms(0x1,MS-0x2*My,0x0),Ms(0x7,MS-0x2*My,MW-Mq);for(var MN=0x1;MN<MZ-0x1;MN++){Ms(0x3,0x0,MN*Mq),Ms(0x5,MS-My,MN*Mq);}Ms(0x3,0x0,MW-0x2*Mq),Ms(0x5,MS-My,MW-0x2*Mq),Ms(0x0,0x0,0x0),Ms(0x2,MS-My,0x0),Ms(0x6,0x0,MW-Mq),Ms(0x8,MS-My,MW-Mq);if(MJ!=null)Me[MB(0x49c)][MB(0x7d2)](MJ,Mf);else return Mf;},'setNewText':function(MS,MW,Mv,Mg,MJ){var MB=n2;MW!==null&&MS[MB(0xb20)](gameTexts[MB(0x42f)](MW)),Mv!==undefined&&Mv!==null&&MS[MB(0xb20)](Mv),Mg===undefined&&(Mg=0.5),MJ===undefined&&(MJ=0.5),L7(MS,Mg,MJ);},'setButtonsInput':function(MS,MW=!![]){var Mv=n2;if(!MS)return;MS[Mv(0x3ea)]=MW;var Mg=function(MB){var Ms=Mv;MB[Ms(0x374)]=![],MB[Ms(0x983)]==!![]&&(MB[Ms(0x374)]=MW,MB[Ms(0x581)]!==undefined&&ER[Ms(0xa88)][Ms(0xada)](MB,MB[Ms(0x581)]));},MJ=function(MB){var Ms=Mv;if(!MB||!MB[Ms(0xa3f)])return;Mg(MB);for(var My=0x0;My<MB[Ms(0xa3f)][Ms(0x16a)];My++){if(MB[Ms(0xae3)](My)[Ms(0xa10)]===!![])continue;Mg(MB[Ms(0xae3)](My)),MB[Ms(0xae3)](My)[Ms(0xa3f)]&&MB[Ms(0xae3)](My)[Ms(0xa3f)][Ms(0x16a)]>0x0&&MJ(MB[Ms(0xae3)](My));}MS[Ms(0x374)]=MW;};MJ(MS),MS[Mv(0x26d)]=MW;},'setButtonsInput2':function(MS,MW=!![]){if(!MS)return;var Mv=function(MJ){var MB=Lw;MJ[MB(0x3ea)]=MW,MJ[MB(0x374)]=MW,MJ[MB(0x983)]=!![];},Mg=function(MJ){var MB=Lw;if(!MJ||!MJ[MB(0xa3f)])return;Mv(MJ);for(var Ms=0x0;Ms<MJ[MB(0xa3f)][MB(0x16a)];Ms++){Mv(MJ[MB(0xae3)](Ms)),MJ[MB(0xae3)](Ms)[MB(0xa3f)]&&MJ[MB(0xae3)](Ms)[MB(0xa3f)][MB(0x16a)]>0x0&&Mg(MJ[MB(0xae3)](Ms));}};Mg(MS);},'showScreenFromRight':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)]),(MS['x']=Me[Ms(0x3ab)],MS[Ms(0x152)]=!![]);var My=Me[Ms(0xb51)][Ms(0x2b1)](MS)['to']({'x':0x0},Mv,MJ,!![],Mg);MW===!![]&&My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;MB[Mq(0x866)][Mq(0xb40)](MB);},this);},'hideScreenToRight':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)]),MS['x']=0x0;var My=Me[Ms(0xb51)][Ms(0x2b1)](MS)['to']({'x':Me[Ms(0x3ab)]},Mv,MJ,!![],Mg);MW===!![]&&My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;MB[Mq(0xad4)][Mq(0xb40)](MB),MB[Mq(0x695)][Mq(0x4a4)]!==undefined&&MB[Mq(0x695)][Mq(0x4a4)][Mq(0xb40)](MB);},this);},'showScreenFromLeft':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)]),(MS['x']=-Me[Ms(0x3ab)],MS[Ms(0x152)]=!![]);var My=Me[Ms(0xb51)][Ms(0x2b1)](MS)['to']({'x':0x0},Mv,MJ,!![],Mg);MW===!![]&&My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;MB[Mq(0x866)][Mq(0xb40)](MB);},this);},'hideScreenToLeft':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)]),MS['x']=0x0;var My=Me[Ms(0xb51)][Ms(0x2b1)](MS)['to']({'x':-Me[Ms(0x3ab)]},Mv,MJ,!![],Mg);MW===!![]&&My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;MB[Mq(0xad4)][Mq(0xb40)](MB),MB[Mq(0x695)][Mq(0x4a4)]!==undefined&&MB[Mq(0x695)][Mq(0x4a4)][Mq(0xb40)](MB);},this);},'showScreenFromBottom':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)]),(MS['y']=Me[Ms(0x4ca)],MS[Ms(0x152)]=!![]);var My=Me[Ms(0xb51)][Ms(0x2b1)](MS)['to']({'y':0x0},Mv,MJ,!![],Mg);MW===!![]&&My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;MB[Mq(0x866)][Mq(0xb40)](MB);},this);},'hideScreenToBottom':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)]),MS['y']=0x0;var My=Me[Ms(0xb51)][Ms(0x2b1)](MS)['to']({'y':Me[Ms(0x4ca)]},Mv,MJ,!![],Mg);MW===!![]&&My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;MB[Mq(0xad4)][Mq(0xb40)](MB),MB[Mq(0x695)][Mq(0x4a4)]!==undefined&&MB[Mq(0x695)][Mq(0x4a4)][Mq(0xb40)](MB);},this);},'showScreenFromTop':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)]),(MS['y']=-Me[Ms(0x4ca)],MS[Ms(0x152)]=!![]);var My=Me[Ms(0xb51)][Ms(0x2b1)](MS)['to']({'y':0x0},Mv,MJ,!![],Mg);MW===!![]&&My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;MB[Mq(0x866)][Mq(0xb40)](MB);},this);},'showScreenScaleFromPosition':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq){var Mx=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Mx(0x19c)][Mx(0xb78)][Mx(0x793)]),(MS['x']=MB,MS['y']=Ms,MS[Mx(0x552)][Mx(0x304)](My),MS[Mx(0x152)]=!![],Me[Mx(0xb51)][Mx(0x2b1)](MS)['to']({'x':L9(Me[Mx(0x3ab)]/0x2),'y':L9(Me[Mx(0x4ca)]/0x2)},Mv,MJ,!![],Mg));var MZ=Me[Mx(0xb51)][Mx(0x2b1)](MS[Mx(0x552)])['to']({'x':0x1,'y':0x1},Mv,MJ,!![],Mg);MW===!![]&&MZ[Mx(0xabe)][Mx(0xb51)](function(){var Mf=Mx;Mq[Mf(0x866)][Mf(0xb40)](Mq);},this);},'hideScreenToTop':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)]),MS['y']=0x0;var My=Me[Ms(0xb51)][Ms(0x2b1)](MS)['to']({'y':-Me[Ms(0x4ca)]},Mv,MJ,!![],Mg);return MW===!![]&&My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;MB[Mq(0xad4)][Mq(0xb40)](MB),MB[Mq(0x695)][Mq(0x4a4)]!==undefined&&MB[Mq(0x695)][Mq(0x4a4)][Mq(0xb40)](MB);},this),My;},'hideScreenScaleToPosition':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq){var Mx=n2;Mv===null&&(Mv=0x12c),Mg===null&&(Mg=0x96),MJ===null&&(MJ=Phaser[Mx(0x19c)][Mx(0xb78)][Mx(0x793)]);var MZ=Me[Mx(0xb51)][Mx(0x2b1)](MS)['to']({'x':MB,'y':Ms},Mv,MJ,!![],Mg);Me[Mx(0xb51)][Mx(0x2b1)](MS[Mx(0x552)])['to']({'x':My,'y':My},Mv,MJ,!![],Mg),MW===!![]&&MZ[Mx(0xabe)][Mx(0xb51)](function(){var Mf=Mx;Mq[Mf(0xad4)][Mf(0xb40)](Mq),Mq[Mf(0x695)][Mf(0x4a4)]!==undefined&&Mq[Mf(0x695)][Mf(0x4a4)][Mf(0xb40)](Mq);},this);},'showScreenAlpha':function(MS,MW,Mv,Mg,MJ){var MB=n2;Mv=Mv||0x12c,Mg=Mg||0x96,MS[MB(0x2a0)]=0x0,MS[MB(0x152)]=!![];var Ms=Me[MB(0xb51)][MB(0x2b1)](MS)['to']({'alpha':0x1},Mv,Phaser[MB(0x19c)][MB(0xb78)][MB(0x793)],!![],Mg);MW===!![]&&Ms[MB(0xabe)][MB(0xb51)](function(){var My=MB;MJ[My(0x866)][My(0xb40)](MJ);},this);},'hideScreenAlpha':function(MS,MW,Mv,Mg,MJ){var MB=n2;Mv=Mv||0x12c;var Ms=Me[MB(0xb51)][MB(0x2b1)](MS)['to']({'alpha':0x0},Mv,Phaser[MB(0x19c)][MB(0xb78)][MB(0x793)],!![],Mg);MW===!![]&&Ms[MB(0xabe)][MB(0xb51)](function(){var My=MB;MJ[My(0xad4)][My(0xb40)](MJ),MJ[My(0x695)][My(0x4a4)]!==undefined&&MJ[My(0x695)][My(0x4a4)][My(0xb40)](MJ);},this);},'showScreenCustomTweens':function(MS){var MW=n2;MS[MW(0x152)]=!![],MS[MW(0x440)]=0x0;for(var Mv=0x0;Mv<MS[MW(0x16a)];Mv++){if(MS[MW(0xae3)](Mv)[MW(0xc91)]instanceof Array==!![])for(var Mg=0x0;Mg<MS[MW(0xae3)](Mv)[MW(0xc91)][MW(0x16a)];Mg++){if(MS[MW(0xae3)](Mv)[MW(0x739)]==![])continue;MS[MW(0xae3)](Mv)[MW(0xc91)][Mg][MW(0x762)](),MS[MW(0xae3)](Mv)[MW(0x86b)]!=undefined&&MS[MW(0xae3)](Mv)[MW(0x86b)]===!![]&&MS[MW(0x440)]++;}else MS[MW(0xae3)](Mv)[MW(0xc91)]!=undefined&&MS[MW(0xae3)](Mv)[MW(0x739)]!=![]&&(MS[MW(0xae3)](Mv)[MW(0xc91)][MW(0x762)](),MS[MW(0xae3)](Mv)[MW(0x86b)]!=undefined&&MS[MW(0xae3)](Mv)[MW(0x86b)]===!![]&&MS[MW(0x440)]++);}},'hideScreenCustomTweens':function(MS){var MW=n2;MS[MW(0x440)]=0x0;for(var Mv=0x0;Mv<MS[MW(0x16a)];Mv++){if(MS[MW(0xae3)](Mv)[MW(0x36b)]instanceof Array==!![])for(var Mg=0x0;Mg<MS[MW(0xae3)](Mv)[MW(0x36b)][MW(0x16a)];Mg++){MS[MW(0xae3)](Mv)[MW(0x36b)][Mg][MW(0x762)]();}else MS[MW(0xae3)](Mv)[MW(0x36b)]!=undefined&&MS[MW(0xae3)](Mv)[MW(0x739)]!=![]&&(MS[MW(0xae3)](Mv)[MW(0x36b)][MW(0x762)](),MS[MW(0x440)]++);}},'addShowTween':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq,Mx){var MZ=n2,Mf=Me[MZ(0xb51)][MZ(0x2b1)](MW)['to'](Mv,Mg,MJ,![],MB);return My!=null&&Mf[MZ(0xabe)][MZ(0x663)](My,Mx),Mq!=null&&Mf[MZ(0xabe)][MZ(0xb51)](Mq,Mx),MS[MZ(0xc91)]==undefined&&(MS[MZ(0xc91)]=[]),MS[MZ(0x86b)]=Ms,MS[MZ(0xc91)][MZ(0x526)](Mf),Mf;},'addHideTween':function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq){var Mx=n2;MS[Mx(0x36b)]=Me[Mx(0xb51)][Mx(0x2b1)](MW)['to'](Mv,Mg,MJ,![],MB),Ms!=null&&MS[Mx(0x36b)][Mx(0xabe)][Mx(0x663)](Ms,Mq),My!=null&&MS[Mx(0x36b)][Mx(0xabe)][Mx(0xb51)](My,Mq);},'checkShowScreenOver':function(MS,MW){var Mv=n2;MS[Mv(0x440)]--;if(MS[Mv(0x440)]<0x0){L4(Mv(0x3f6),MS[Mv(0x7e1)]);return;}MS[Mv(0x440)]==0x0&&(L4(Mv(0xa7d),MS[Mv(0x7e1)]),MW[Mv(0x866)][Mv(0xb40)](MW));},'checkHideScreenOver':function(MS,MW){var Mv=n2;MS[Mv(0x440)]--;if(MS[Mv(0x440)]<0x0){L4(Mv(0x221),MS[Mv(0x7e1)]);return;}MS[Mv(0x440)]==0x0&&(L4(Mv(0x393),MS[Mv(0x7e1)]),MW[Mv(0xad4)][Mv(0xb40)](MW),MS[Mv(0x4a4)]!=undefined&&MS[Mv(0x4a4)][Mv(0xb40)](this));},'shakeScene':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;if(MS[Ms(0x539)]==undefined||MS[Ms(0x539)]==![]){MS[Ms(0x539)]=!![],MW===undefined&&(MW=0x3),Mv===undefined&&(Mv=0x0),Mg===undefined&&(Mg=0x32),MJ===undefined&&(MJ=null),MB===undefined&&(MB=null);var My=Me[Ms(0xb51)][Ms(0x2b1)](MS[Ms(0x31f)]);return MS[Ms(0x31f)][Ms(0xbca)]=MS[Ms(0x31f)]['x'],MS[Ms(0x31f)][Ms(0x3b2)]=MS[Ms(0x31f)]['y'],MS[Ms(0x31f)][Ms(0x135)]=MW,My['to']({'x':MS[Ms(0x31f)]['x'],'y':MS[Ms(0x31f)]['y']},Mg,Phaser[Ms(0x19c)][Ms(0xc96)][Ms(0x8d3)],!![],Mv),My[Ms(0x873)](function(Mq,Mx,MZ){var Mf=Ms;Mq[Mf(0xba1)]['x']=Mq[Mf(0xba1)][Mf(0xbca)]+DH(Mq[Mf(0xba1)][Mf(0x135)]),Mq[Mf(0xba1)]['y']=Mq[Mf(0xba1)][Mf(0x3b2)]+DH(Mq[Mf(0xba1)][Mf(0x135)]),this[Mf(0x9b4)]!=null&&this[Mf(0x9b4)](Mx);},{'callbackOnUpdate':MB}),My[Ms(0xabe)][Ms(0xb51)](function(){var Mq=Ms;this[Mq(0x9fc)][Mq(0x31f)]['x']=this[Mq(0x9fc)][Mq(0x31f)][Mq(0xbca)],this[Mq(0x9fc)][Mq(0x31f)]['y']=this[Mq(0x9fc)][Mq(0x31f)][Mq(0x3b2)],MS[Mq(0x539)]=![],this[Mq(0x784)]!=null&&this[Mq(0x784)]();},{'scene':MS,'callbackOnComplete':MJ}),My;}},'screenShakeFire':function(MS,MW){var Mv=n2;this[Mv(0x606)]=MS||0x14,this[Mv(0x1f9)]=MW||0x14,this[Mv(0x6da)]==null&&(this[Mv(0x6da)]=Phaser[Mv(0x498)][Mv(0x5b9)](![],{},Me[Mv(0x126)][Mv(0x315)])),Me[Mv(0x126)][Mv(0x31b)](this[Mv(0x6da)]['x']-this[Mv(0x1f9)],this[Mv(0x6da)]['y']-this[Mv(0x1f9)],this[Mv(0x6da)][Mv(0x3ab)]+0x2*this[Mv(0x1f9)],this[Mv(0x6da)][Mv(0x4ca)]+0x2*this[Mv(0x1f9)]);},'updateScreenShake':function(){var MS=n2;if(this[MS(0x606)]>0x0){var MW=this[MS(0x606)]/this[MS(0x1f9)]*this[MS(0x1f9)],Mv=Me[MS(0x3b9)][MS(0x40f)](-MW,MW),Mg=Me[MS(0x3b9)][MS(0x40f)](-MW,MW);Me[MS(0x791)]['x']=Mv,Me[MS(0x791)]['y']=Mg,this[MS(0x606)]--,this[MS(0x606)]<=0x0&&(Me[MS(0x126)][MS(0x31b)](this[MS(0x6da)]['x'],this[MS(0x6da)]['x'],this[MS(0x6da)][MS(0x3ab)],this[MS(0x6da)][MS(0x4ca)]),this[MS(0x6da)]=null);}},'initParticles':function(){var MS=n2;this[MS(0x925)]=Me[MS(0xb51)][MS(0xb9c)](),this[MS(0xce0)]=Me[MS(0xb51)][MS(0xb9c)](),this[MS(0x1ee)]=Me[MS(0xb51)][MS(0xb9c)](),this[MS(0x523)]=Me[MS(0xb51)][MS(0xb9c)](),this[MS(0x920)]=Me[MS(0xb51)][MS(0xb9c)]();},'fireLockParticle':function(MS,MW,Mv){var Mg=n2,MJ=[Mg(0xb9f),Mg(0xd3f)];for(var MB=0x0;MB<0x2;MB++){var Ms=this[Mg(0xce0)][Mg(0x4b9)]();Ms==null&&(Ms=this[Mg(0xce0)][Mg(0xabd)](0x0,0x0,Mg(0x923),MJ[0x0]),L7(Ms,0.5,0.5),Me[Mg(0x5ae)][Mg(0x25e)](Ms,Phaser[Mg(0x9e1)][Mg(0x504)])),(Ms[Mg(0x528)]=MJ[MB],Ms[Mg(0x2a0)]=0x1,Ms[Mg(0xd01)](MS,MW),Ms[Mg(0x552)][Mg(0x304)](Mv),Ms[Mg(0x51f)]=0x0,Ms[Mg(0x146)]=0x5dc,Ms[Mg(0x475)]=L0([-0x1,0x1])*(Db(0xa,0x14)/0xa),Ms[Mg(0xb6b)]=!![],Ms[Mg(0x4b4)][Mg(0xd41)]['y']=Db(0x258,0x320));var My=Db(0xa,0x1e);Ms[Mg(0x4b4)][Mg(0x778)]['y']=-L9(My*DC);var Mq=L0([-0x1,0x1])*Db(0x28,0x64);Ms[Mg(0x4b4)][Mg(0x778)]['x']=L9(Mq*DC),Me[Mg(0x79d)][Mg(0x49f)](Ms,!![]),Me[Mg(0xb51)][Mg(0x2b1)](Ms)['to']({'alpha':0x0},0x1c2,Phaser[Mg(0x19c)][Mg(0xb78)][Mg(0x793)],!![],0x3e8),Ms[Mg(0x9a2)]();}},'fireCoinParticle':function(MS,MW,Mv,Mg,MJ){var MB=n2;for(var Ms=0x0;Ms<Mv;Ms++){var My=this[MB(0x523)][MB(0x4b9)]();My==null&&(My=this[MB(0x523)][MB(0xabd)](0x0,0x0,MB(0xf4),MB(0x524)),L7(My,0.5,0.5)),(My[MB(0x2a0)]=0x1,My[MB(0xd01)](MS['x'],MS['y']),My[MB(0x552)][MB(0x304)](0.4),Me[MB(0x79d)][MB(0x49f)](My,!![]),My[MB(0x1e8)]=Ms);var Mq=Me[MB(0xb51)][MB(0x2b1)](My)['to'](MW,0x15e+Db(0x32,0x64)*Ms,Phaser[MB(0x19c)][MB(0x508)][MB(0x28c)],!![]);Mq[MB(0xc4f)](Phaser[MB(0xca9)][MB(0x6c8)]),Mq[MB(0xabe)][MB(0x663)](Mg,MJ),My[MB(0x9a2)]();}},'fireShineParticle':function(MS,MW,Mv,Mg,MJ,MB){var Ms=n2;Mv==undefined&&(Mv=0x1);for(var My=0x0;My<Mv;My++){if(this[Ms(0x920)][Ms(0x42c)]()>0xc8)return;var Mq=this[Ms(0x920)][Ms(0x4b9)]();Mq==null&&(Mq=this[Ms(0x920)][Ms(0xabd)](0x0,0x0,Ms(0x8b3),Ms(0x1ec)),L7(Mq,0.5,0.5)),(Mq[Ms(0x528)]=Ms(0x1ec),Mq[Ms(0xd01)](L9(MS),L9(MW)),Mq[Ms(0x146)]=0x226),MJ!==undefined&&Mq[Ms(0x552)][Ms(0x304)](MJ()),Mq[Ms(0x2a0)]=0x1;var Mx=Db(-MB,MB),MZ=Db(-MB,MB);Me[Ms(0xb51)][Ms(0x2b1)](Mq)['to']({'x':MS+Mx,'y':MW+MZ},0x226,Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)],!![]),Me[Ms(0xb51)][Ms(0x2b1)](Mq)['to']({'alpha':0x0},0x64,Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)],!![],0x1c2);}},'fireGOBonusParticle':function(MS,MW,Mv,Mg){var MJ=n2;for(var MB=0x0;MB<0xa;MB++){if(this[MJ(0x920)][MJ(0x42c)]()>0xc8)return;var Ms=this[MJ(0x920)][MJ(0x4b9)]();Ms==null&&(Ms=this[MJ(0x920)][MJ(0xabd)](0x0,0x0,MJ(0x75b),MJ(0x893)),L7(Ms,0.5,0.5)),(Ms[MJ(0x528)]=MJ(0x893),Ms[MJ(0xd01)](L9(MS),L9(MW)),Ms[MJ(0x146)]=0x226);var My=[0x195fad,0x7b65,0x5f4798,0x4c6d26];Ms[MJ(0x2de)]=My[Mv],Ms[MJ(0x475)]=Math[MJ(0x665)](Math[MJ(0x219)]()*0xc8)/0xa-0xa,Mg!==undefined&&Ms[MJ(0x552)][MJ(0x304)](Mg()),Ms[MJ(0x2a0)]=0x1;var Mq=-0x32+Math[MJ(0x665)](Math[MJ(0x219)]()*0x64);Mq=L9(Mq*DC);var Mx=-0x32+Math[MJ(0x665)](Math[MJ(0x219)]()*0x64);Mx=L9(Mx*DC),Me[MJ(0xb51)][MJ(0x2b1)](Ms)['to']({'x':MS+Mq,'y':MW+Mx},0x226,Phaser[MJ(0x19c)][MJ(0xb78)][MJ(0x793)],!![]),Me[MJ(0xb51)][MJ(0x2b1)](Ms)['to']({'alpha':0x0},0x64,Phaser[MJ(0x19c)][MJ(0xb78)][MJ(0x793)],!![],0x1c2);}},'updateParticles':function(){var MS=n2;this[MS(0x925)][MS(0x672)](function(MW){var Mv=MS;MW[Mv(0x51f)]+=MW[Mv(0x475)];},this),this[MS(0xce0)][MS(0x672)](function(MW){var Mv=MS;MW[Mv(0x51f)]+=MW[Mv(0x475)];},this);},'createBackground':function(){var MS=n2;Me[MS(0x3a2)][MS(0x317)]=Dd,this[MS(0x5c3)]=Me[MS(0xb51)][MS(0xb9c)]();var MW=Me[MS(0xb51)][MS(0x46a)](0x0,0x0,MS(0x8f9));this[MS(0x5c3)][MS(0x6a8)](MW),Me[MS(0x4ca)]>MW[MS(0x4ca)]&&(MW[MS(0x4ca)]=Me[MS(0x4ca)]);}};var E9=function(){};E9[n2(0xa3a)]={'preload':function(){var MS=n2;Me[MS(0x4d6)][MS(0x7ff)]=MS(0x2cb),Me[MS(0x5e2)]['id']=MS(0x257);var MW=document[MS(0xa96)](MS(0x257));MW[MS(0x228)][MS(0x31f)]=MS(0x386),document[MS(0xb3b)](MS(0x5e2))[0x0][MS(0x85b)][MS(0xb51)](MS(0x8b6)),this[MS(0x552)][MS(0x51e)]=Phaser[MS(0xe4)][MS(0x85e)],this[MS(0x552)][MS(0x1ce)]=Phaser[MS(0xe4)][MS(0x85e)],this[MS(0x552)][MS(0x1d6)]=!![],this[MS(0x552)][MS(0xc36)]=!![],this[MS(0x552)][MS(0xa18)](),navigator[MS(0x5b8)][MS(0xc73)](/Mac/)&&navigator[MS(0x1a0)]&&navigator[MS(0x1a0)]>0x2&&(Phaser[MS(0x818)][MS(0xabb)]=![]),window[MS(0xab8)](MS(0x57c),function(){var Mv=MS;Ez(),Df&&Me[Mv(0x639)][Mv(0xa9f)][Mv(0xb51)](0xfa,Ez);}),Ez();},'create':function(){var MS=n2;EA(),Me[MS(0x5e8)][MS(0x762)](MS(0x40c));}};function Ee(){var MS=n2;if(Me[MS(0x387)][MS(0xabb)])return;nK(MS(0x7cd)),nl(MS(0x257)),Me[MS(0x28a)][MS(0x8d9)]();}function En(){var MS=n2;if(Me[MS(0x387)][MS(0xabb)])return;nl(MS(0x7cd)),nK(MS(0x257)),Me[MS(0x2cd)][MS(0x8d9)]();}function Ep(){var MS=n2;try{return window[MS(0x2ce)]!==window[MS(0x710)];}catch(MW){return!![];}}var ED,EL,EE=![],ER=new E8(),E6=new E5(),EM=0x3c,EP=0x0,ES=[],EW=0x0,Ev=function(){};Ev[n2(0xa3a)]={'preload':function(){var MS=n2;Me[MS(0x639)][MS(0x5a6)]=!![],EE=new R5(),Me[MS(0x639)][MS(0x34f)]=0x3c,DB(),ED=DY[MS(0x443)],EL=DI[MS(0x167)],document[MS(0x4b4)][MS(0x228)][MS(0x317)]=MS(0x2f5),ER[MS(0x8a5)](),EE[MS(0x8a5)]();if(!DZ)Me[MS(0x3d0)][MS(0x616)]=0x2;},'create':function(){var MS=n2;Me[MS(0x5e2)][MS(0x228)][MS(0xa8a)]=MS(0x4e1),E6[MS(0xabd)]();if(ER[MS(0x8cd)])ER[MS(0xabd)]();if(ER[MS(0x8cd)])EE[MS(0xabd)]();if(ER[MS(0x8cd)])ER[MS(0x8be)](ER[MS(0x182)]);if(ER[MS(0x8cd)]&&DZ){var MW=Me[MS(0x3d0)][MS(0x3fb)][MS(0x3f8)](Phaser[MS(0xb1d)]['F8']);MW[MS(0x7f9)][MS(0xb51)](()=>{});var Mv=Me[MS(0x3d0)][MS(0x3fb)][MS(0x3f8)](Phaser[MS(0xb1d)]['F9']);Mv[MS(0x7f9)][MS(0xb51)](()=>{var MJ=MS;if(ER&&ER[MJ(0x182)]&&ER[MJ(0x182)][MJ(0xb36)])ER[MJ(0x182)][MJ(0xb36)][MJ(0x62d)]=!![];Me[MJ(0xbff)]();});var Mg=Me[MS(0x3d0)][MS(0x3fb)][MS(0x3f8)](Phaser[MS(0xb1d)][MS(0x85c)]);Mg[MS(0x7f9)][MS(0xb51)](()=>{var MJ=MS;if(ER&&ER[MJ(0x182)]&&ER[MJ(0x182)][MJ(0xb36)])ER[MJ(0x182)][MJ(0xb36)][MJ(0x62d)]=![];if(Me[MJ(0x78c)]&&Me[MJ(0x78c)][MJ(0x60a)])Me[MJ(0xa93)]();});}this[MS(0xcf6)]=Date[MS(0xb21)](),this[MS(0x181)]=performance[MS(0xb21)](),this[MS(0x3a7)]=0x0,this[MS(0x3f2)]=0x3c,this[MS(0x5ef)]=performance[MS(0xb21)](),M6[MS(0x234)]()[MS(0x10a)]&&(EE[MS(0x944)]=[],M6[MS(0x234)]()[MS(0x10a)][MS(0xd25)](MJ=>{var MB=MS;EE[MB(0x944)][MB(0x526)](EE[MB(0xe5)][MJ]);})),Ez(),Me[MS(0xb33)][MS(0x4e8)]=0x3c;},'update':function(){var MS=n2;if(!ME||!MM||!MR){}if(window[MS(0x83f)]!==ME){}window[MS(0x13f)]!==ME&&(window[MS(0x13f)]=ME),window[MS(0xc31)]!==MM&&(window[MS(0xc31)]=MM),window[MS(0x66d)]!==MR&&(Dm&&(window[MS(0x66d)]=MR));const MW=performance[MS(0xb21)](),Mv=Math[MS(0x483)](MW-this[MS(0x181)]);this[MS(0x5ef)]+=Mv,this[MS(0x3a7)]++,ES&&ES[MS(0x16a)]>=0xa&&(EW<0x19*ES[MS(0x16a)]&&(!EE[MS(0x500)]||El&&(El[MS(0x734)]&&EV===0x0||!El[MS(0x734)]))&&(ES=[],location[MS(0x80d)]()),ES=[],EW=0x0),EW++,Mv>=parseFloat(MS(0xa69))&&(this[MS(0x3f2)]=this[MS(0x3a7)]*parseFloat(MS(0xa69))/Mv,ES[MS(0x526)]({'delta':Mv,'fps':this[MS(0x3f2)]}),this[MS(0x3a7)]=0x0,this[MS(0x181)]=MW),(Me[MS(0x639)][MS(0x7a3)]=(Date[MS(0xb21)]()-this[MS(0xcf6)])/0x3e8,EM=this[MS(0x3f2)]);if(document[MS(0x438)]||window[MS(0x391)]){if(EE&&EE[MS(0x61f)]){}ER&&ER[MS(0xb1c)][MS(0x695)][MS(0x152)]&&EE&&(EE[MS(0xae7)]||El&&El[MS(0x734)])&&Eb===-0x1&&EE[MS(0x61f)]&&EV!==![]&&Date[MS(0xb21)]()-EE[MS(0x481)]>=0x3e8*0xa&&(document[MS(0x438)]||window[MS(0x391)])&&(El&&El['ev']!==!![]&&nu[MS(0xd3e)]&&(El['ev']=!![],M6&&M6[MS(0x234)]()[MS(0x20f)]!==0x1&&(no=!![],nu[MS(0x353)](MS(0x82b),{'match_id':El[MS(0x4d7)],'user_id':M6[MS(0x234)]()[MS(0x605)]}))));}else{if(ER&&EE)EE[MS(0x481)]=Date[MS(0xb21)]();if(Date[MS(0xb21)]()-EE[MS(0x481)]>=parseFloat(MS(0xa69))*0xf){}else{}}if(ER[MS(0x8cd)])EE[MS(0x4b1)]();if(ED===DY[MS(0x829)]&&EL===DI[MS(0x1e5)])for(let Mg=0x0;Mg<Di;Mg++){EE[MS(0x480)]();}if(ER[MS(0x8cd)])ER[MS(0x4b1)]();this[MS(0xcf6)]=Date[MS(0xb21)](),this[MS(0x585)](),EP++,EP>=0x3b&&eval(MS(0x7cc)[MS(0x711)]('1',''));if(EP>=0x3b||!ER[MS(0xb1c)][MS(0x695)][MS(0x197)]==!![]){}EP=EP%0x3c;},'_debugWriteFPS':function(){var MS=n2;this[MS(0xcf6)]=new Date()[MS(0x470)](),this[MS(0x531)]==null&&(this[MS(0x531)]=Me[MS(0xb51)][MS(0x2da)](Me[MS(0x3ab)]-0xa,Me[MS(0x4ca)]/0x2,'',{'fill':pU}),this[MS(0x531)][MS(0xc25)]['x']=0x1,this[MS(0x531)][MS(0xeb)]=0x17),this[MS(0x531)][MS(0x2da)]=Math[MS(0x996)](this[MS(0x3f2)]);}};function Eg(MS){p4=MS;}function EJ(){var MS=n2;console[MS(0x738)](MS(0x2fa));return;ED===DY[MS(0x829)]&&ER[MS(0xb1c)][MS(0x695)][MS(0x152)]===!![]&&ER[MS(0xb1c)][MS(0x695)][MS(0x26d)]===!![]&&ER[MS(0xb1c)][MS(0xbcf)]();}function EB(){var MS=n2;console[MS(0x738)](MS(0x54c));}var Es=0x0,Ey=0x1,Eq=Ey,Ex={0x1:{'xMin':DZ?0xbb8+0x1f4:0x51e,'xMax':DZ?0x4e2-0x32:0x51e,'y':DZ?0x2ee+0xb4:0x2d0}};if(DZ){Ex={0x1:{'xMin':0x500,'xMax':0x500,'y':0x438-0x8}};var EZ={0x1:{'xMin':DZ?0xbb8+0x1f4:0x51e,'xMax':DZ?0x4e2-0x32:0x51e,'y':DZ?0x2ee+0xb4:0x2d0}};}else Ex={0x1:{'xMin':DZ?0xbb8+0x1f4:window[n2(0x92a)]*window[n2(0x676)]*0.5,'xMax':DZ?0x4e2-0x32:window[n2(0x92a)]*window[n2(0x676)]*0.5,'y':DZ?0x2ee+0xb4:window[n2(0xcf9)]*window[n2(0x676)]*0.5},0x2:{'xMin':DZ?0xbb8+0x1f4:window[n2(0x92a)]*window[n2(0x676)],'xMax':DZ?0x4e2-0x32:window[n2(0x92a)]*window[n2(0x676)],'y':DZ?0x2ee+0xb4:window[n2(0xcf9)]*window[n2(0x676)]}};Ex={0x1:{'xMin':0x1c2,'xMax':0x320,'y':0x258}},Ex={0x1:{'xMin':DZ?0xbb8+0x1f4:0x42b*0.75,'xMax':DZ?0x4e2-0x32:0x42b*0.75,'y':DZ?0x2ee+0xb4+-0x12c*0x1:0x258*0.75}},Ex={0x1:{'xMin':DZ?0xbb8+0x1f4:0x4b0,'xMax':DZ?0x4b0:0x4b0,'y':DZ?0x4b0*0.875:0x4b0*0.56215360253365}};var Ef={'x':Ex[0x1][n2(0x67f)],'y':Ex[0x1]['y']},EN=Ex[0x1][n2(0x428)];alignElement=(MS,MW,Mv,Mg,MJ,MB={'x':0x0,'y':0x0})=>{var Ms=n2;MS[Ms(0x40d)]=MW,MS[Ms(0x97e)]=MJ,MS[Ms(0xc25)]={'x':MB['x'],'y':MB['y']},MS[Ms(0x228)][Ms(0xb49)]=Ms(0x1de)+MW+','+MJ+')',MS[Ms(0x228)][Ms(0x326)]=Ms(0x2a2),MS[Ms(0x228)][Ms(0x94b)]=Me[Ms(0x5e2)][Ms(0xcb0)]+Mv*MW+'px',MS[Ms(0x228)][Ms(0x710)]=Me[Ms(0x5e2)][Ms(0x255)]+Mg*MJ+'px';},scaleBox=(MS,MW,Mv,Mg)=>{var MJ=n2;if(MS&&ER&&ER[MJ(0xb1c)]){let My=Me[MJ(0x552)][MJ(0x3ab)]/Me[MJ(0x3ab)],Mq=Me[MJ(0x552)][MJ(0x4ca)]/Me[MJ(0x4ca)],{width:Mx,height:MZ}=MS[MJ(0x2be)]();var MB=MW-Mx/Mq,Ms=Mv-MZ/My;this[MJ(0x4c3)](MS,My,MB,Ms,Mq,Mg);}};function EG(MS){var MW=n2;navigator[MW(0x4fd)]=navigator[MW(0x4fd)]||navigator[MW(0x870)]||navigator[MW(0x4d9)]||navigator[MW(0x965)],navigator[MW(0x4fd)]&&navigator[MW(0x4fd)](MS);}function EF(MS){return!isNaN(parseFloat(MS))&&isFinite(MS);}function Ei(){var MS=n2,MW=Me[MS(0x639)][MS(0xb2f)];return 0x3c<MW&&(MW=0x3c),0x14>MW&&(MW=0x14),EF(MW)||(MW=0x1e),MW;}function Er(){return ET()/16.6666;}var Et=0x1;function EC(){var MS=n2;Me[MS(0x639)][MS(0x5a6)]=!0x0;var MW=0x1/Me[MS(0x639)][MS(0x34f)]/Et;return EF(MW)||(MW=0x1/0x3c/Et),MW;}function ET(){return 0x3e8*EC();}function Ez(){var MS=n2,MW=Me[MS(0x3ab)],Mv=Me[MS(0x4ca)],Mg=Eq;if(Me===null)return;var MJ=document[MS(0x8e9)][MS(0x52b)],MB=document[MS(0x8e9)][MS(0x89e)];Df&&(MJ>MB&&(MJ=window[MS(0x446)],MB=window[MS(0x77a)])),(Eq=Ey,M8=Ex[Eq]['y']);var Ms=MJ/MB;M7=Math[MS(0x665)](M8*Ms),isNaN(M7)&&(M7=0x0),M7<Ex[Eq][MS(0x428)]&&(M7=Ex[Eq][MS(0x428)]),M7>Ex[Eq][MS(0x67f)]&&(M7=Ex[Eq][MS(0x67f)]);if(MB>MJ)Eq=Es;else{}Mg!==Eq&&(Eq===Ey?En():Ee());if(MW===M7&&Mv===M8&&Mg===Eq){ER!==null&&EI[MS(0x4ec)]&&ER&&ER[MS(0x8cd)]&&ER[MS(0x35f)](),window[MS(0x78e)](0x0,0x1);return;}Me[MS(0x552)][MS(0x1ce)]=Phaser[MS(0xe4)][MS(0x85e)],Me[MS(0x552)][MS(0x51e)]=Phaser[MS(0xe4)][MS(0x85e)],Me[MS(0x552)][MS(0x1d6)]=!![],Me[MS(0x552)][MS(0xc36)]=!![],Me[MS(0x552)][MS(0x7a4)](M7,M8),Me[MS(0x552)][MS(0xa18)](),ER!==null&&EI[MS(0x4ec)]&&ER&&ER[MS(0x8cd)]&&ER[MS(0x35f)]();}var Eh=function(){var MS=n2;this[MS(0x695)]=null,this[MS(0x76b)]=MS(0x1f7);};Eh[n2(0xa3a)]={'create':function(){var MS=n2;this[MS(0x695)]=Me[MS(0xb51)][MS(0xb9c)](),this[MS(0x695)][MS(0x7e1)]=this[MS(0x76b)];for(let MW=0x0;MW<0x1;MW++){this[MS(0x13e)]=Me[MS(0x74e)][MS(0x46a)](0x0,0x0,MS(0x8f1)),this[MS(0x13e)][MS(0xc25)]['x']=0.5,this[MS(0x13e)]['y']=MW,function(Mv){}(this[MS(0x13e)]),this[MS(0x695)][MS(0x6a8)](this[MS(0x13e)]);}this[MS(0x695)][MS(0x6a8)](this[MS(0x13e)]);},'update':function(){},'showScreen':function(){},'showScreenOver':function(){},'hideScreen':function(MS){},'hideScreenOver':function(){},'onResolutionChange':function(){var MS=n2;this[MS(0x13e)]['x']=Me[MS(0x3ab)]/0x2,this[MS(0x13e)][MS(0x552)]['x']=0x1,Me[MS(0x3ab)]>this[MS(0x13e)][MS(0x3ab)]&&(this[MS(0x13e)][MS(0x3ab)]=Me[MS(0x3ab)]);},'resetScreenTexts':function(){}};var Em=function(){var MS=n2;this[MS(0x695)]=null,this[MS(0x76b)]=MS(0x4dd);};Em[n2(0xa3a)]={'create':function(){var MS=n2;this[MS(0x695)]=Me[MS(0xb51)][MS(0xb9c)](),this[MS(0x695)][MS(0x7e1)]=this[MS(0x76b)],this[MS(0x695)][MS(0x152)]=![];return;this[MS(0x685)]=Me[MS(0xb51)][MS(0x46a)](-0x32,-0x32,MS(0x8f1)),this[MS(0x685)][MS(0x3ab)]=Ex[0x1][MS(0x67f)]+0x64,this[MS(0x685)][MS(0x4ca)]=Ex[0x1]['y']+0x64,this[MS(0x685)][MS(0x2a0)]=0x0,this[MS(0x695)][MS(0x6a8)](this[MS(0x685)]);},'update':function(){},'show':function(MS,MW,Mv){var Mg=n2;MS=MS||0x0,this[Mg(0x695)][Mg(0x152)]=!![];if(!this[Mg(0x685)])return;for(var MJ=0x0;MJ<0x6;MJ++){Ln(this[Mg(0x685)]);var MB=Me[Mg(0xb51)][Mg(0x2b1)](this[Mg(0x685)])['to']({'alpha':0x1},0xfa,Phaser[Mg(0x19c)][Mg(0xb78)][Mg(0x793)],!![],MS);MB[Mg(0xabe)][Mg(0x663)](function(){var Ms=Mg;MW!=undefined&&MW[Ms(0xb40)](Mv);},this);}},'hide':function(MS,MW,Mv){var Mg=n2;if(!this[Mg(0x685)])return;MS=MS||0x0;var MJ=Me[Mg(0xb51)][Mg(0x2b1)](this[Mg(0x685)])['to']({'alpha':0x0},0xfa,Phaser[Mg(0x19c)][Mg(0xb78)][Mg(0x793)],!![],MS);MJ[Mg(0xabe)][Mg(0x663)](function(){var MB=Mg;MW!=undefined&&MW[MB(0xb40)](Mv);},this);},'onResolutionChange':function(){},'resetScreenTexts':function(){}};var Ec=[],Ej=[],EO=[],Eu=[],EU=[],EY=[];function EI(){var MS=n2;Phaser[MS(0x4f2)][MS(0xb40)](this);}var Ed=Object[n2(0xabd)](Phaser[n2(0x4f2)][n2(0xa3a)]);EI[n2(0xa3a)]=Ed,EI[n2(0xa3a)][n2(0x3d7)]=EI,EI[n2(0xa3a)][n2(0x26a)]=function(){var MS=n2;Me[MS(0x347)]=!(DG()===MS(0x2c3));var MW=function(Mv,Mg){var MJ=MS;Phaser[MJ(0x754)][MJ(0xb40)](this,Mv,Mg),this[MJ(0x950)]=null,this[MJ(0x791)]=null,this[MJ(0x9fc)]=null,this[MJ(0x5fd)]=null,this[MJ(0x550)]=[];};MW[MS(0xa3a)]=Object[MS(0xabd)](Phaser[MS(0x754)][MS(0xa3a)]),MW[MS(0xa3a)][MS(0x3d7)]=MW,MW[MS(0xa3a)][MS(0x274)]=function(){var Mv=MS;if(!this[Mv(0x9fc)])return;this[Mv(0x205)][Mv(0x4ea)](Mg=>{var MJ=Mv;this[MJ(0x7dd)](Mg);}),this[Mv(0x9fc)][Mv(0x277)](function(Mg){var MJ=Mv;Mg instanceof THREE[MJ(0x3fa)]&&(Mg[MJ(0x5d0)][MJ(0x207)](),Mg[MJ(0x643)]instanceof THREE[MJ(0xb55)]&&Mg[MJ(0x643)][MJ(0x207)]());}),this[Mv(0x950)][Mv(0x207)](),this[Mv(0x950)][Mv(0xbfc)][Mv(0x4bf)](),this[Mv(0x150)][Mv(0x4bf)](),this[Mv(0x205)]=[],this[Mv(0x950)]=null,this[Mv(0x791)]=null,this[Mv(0x9fc)]=null,this[Mv(0x5fd)]=null;},MW[MS(0xa3a)][MS(0x26a)]=function(){var Mv=MS;if(!Me[Mv(0x347)])return;if(Me[Mv(0x49c)][Mv(0x571)][Mv(0xa6e)][Mv(0x97b)])delete Me[Mv(0x49c)][Mv(0x571)][Mv(0xa6e)][Mv(0x97b)];this[Mv(0x274)](),this[Mv(0x8bb)]=0x0;if(!EE[Mv(0xafd)]||!EE[Mv(0xafd)][Mv(0x16a)])return;for(let Mt=0x0;Mt<EE[Mv(0xafd)][Mv(0x16a)];Mt++){var Mg=EE[Mv(0xafd)][Mv(0x16a)];Mg<=Mt&&(Mt=Mg-0x1),EE[Mv(0xafd)][Mt][Mv(0x6ac)]=undefined;}this[Mv(0x150)]=document[Mv(0x174)](Mv(0x5e2)),this[Mv(0x150)][Mv(0x3ab)]=0x32*0x10,this[Mv(0x150)][Mv(0x4ca)]=0x32,this[Mv(0x150)][Mv(0x908)]=this[Mv(0x150)][Mv(0x908)]||Me[Mv(0x74e)][Mv(0x4da)](this[Mv(0x150)][Mv(0x3ab)],this[Mv(0x150)][Mv(0x4ca)]),this[Mv(0xa4c)]=document[Mv(0x174)](Mv(0x5e2)),this[Mv(0xa4c)][Mv(0x3ab)]=0x64,this[Mv(0xa4c)][Mv(0x4ca)]=0x64,this[Mv(0xcf5)]=this[Mv(0xa4c)][Mv(0x3e6)]('2d'),this[Mv(0x950)]=new THREE[(Mv(0x1a6))]({'canvas':this[Mv(0x150)],'alpha':!![],'xtransparent':!![],'antialias':!![]}),(this[Mv(0x950)][Mv(0xb32)](0x0,0x0),this[Mv(0x950)][Mv(0x4a7)](0x1));const MJ=this[Mv(0x150)][Mv(0x3ab)]/this[Mv(0x150)][Mv(0x4ca)],MB=0x1;this[Mv(0x791)]=new THREE[(Mv(0x2b5))](-MB*MJ,MB*MJ,MB,-MB,0.1,0x3e8),this[Mv(0x791)][Mv(0x31f)][Mv(0x304)](0x0,0x0,0x2),this[Mv(0x791)][Mv(0x5e0)](0x0,0x0,0x0),this[Mv(0x9fc)]=new THREE[(Mv(0x250))]();const Ms=new THREE[(Mv(0x5d5))](0xffffff);this[Mv(0x9fc)][Mv(0xb51)](Ms);const My=new THREE[(Mv(0xcc7))](0x202020);this[Mv(0x9fc)][Mv(0xb51)](My),Ms[Mv(0x31f)]['z']=0x12c;const Mq=new THREE[(Mv(0x233))](0x87ceeb),Mx=new THREE[(Mv(0x233))](0xffffff),MZ=new THREE[(Mv(0x9e3))](Mq,0.3);MZ[Mv(0x31f)][Mv(0x304)](-0x32,0x64,-0x32),MZ[Mv(0x964)]=!![],MZ[Mv(0x659)][Mv(0xbe5)][Mv(0x3ab)]=0x800,MZ[Mv(0x659)][Mv(0xbe5)][Mv(0x4ca)]=0x800,MZ[Mv(0x659)][Mv(0x791)][Mv(0x702)]=0xa,MZ[Mv(0x659)][Mv(0x791)][Mv(0x699)]=0x190,MZ[Mv(0x659)][Mv(0x791)][Mv(0x94b)]=-0x64,MZ[Mv(0x659)][Mv(0x791)][Mv(0x35d)]=0x64,MZ[Mv(0x659)][Mv(0x791)][Mv(0x710)]=0x64,MZ[Mv(0x659)][Mv(0x791)][Mv(0xa81)]=-0x64,MZ[Mv(0x659)][Mv(0x95a)]=-0.001,this[Mv(0x9fc)][Mv(0xb51)](MZ);const Mf=new THREE[(Mv(0x6c0))](Mq,Mx,0.07);this[Mv(0x9fc)][Mv(0xb51)](Mf),window[Mv(0xcc7)]=My,window[Mv(0x981)]=Ms;const MN=new THREE[(Mv(0x37f))](0xffffff);MN[Mv(0x31f)]['y']=0x12c,this[Mv(0x205)]=[],this[Mv(0x550)]=[];for(let MC=0x0;MC<0x10;MC++){const MT=MC%0x10;this[Mv(0xa67)]=this[Mv(0xa67)]||new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0x8de))[Mv(0x88f)]),this[Mv(0xaf0)]=this[Mv(0xaf0)]||new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0x8fd))[Mv(0x88f)]),this[Mv(0x62c)]=this[Mv(0x62c)]||new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0x555))[Mv(0x88f)]),this[Mv(0x8ac)]=this[Mv(0x8ac)]||new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0xcd8))[Mv(0x88f)]);var MG=ER[Mv(0x182)][Mv(0x545)][Mv(0x212)],MF=![];if(MG<=0x2&&MC===0x0)MF=new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0xd31))[Mv(0x88f)]),MF[Mv(0xd29)]=Mv(0xd31);else{if(MG<=0x2&&MC<=0x8&&MC>=0x1)MF=new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0x555))[Mv(0x88f)]),MF[Mv(0xd29)]=Mv(0x555);else{if(MG<=0x2&&MC>=0x9)MF=new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0xcd8))[Mv(0x88f)]),MF[Mv(0xd29)]=Mv(0xcd8);else MG>=0x3&&MG<=0xc&&(MF=new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0x937)+ER[Mv(0x182)][Mv(0x545)][Mv(0x7ce)][Mv(0x10b)](Mv(0x774),'')+'_'+(MT<=0x9?'0'+MT:MT)+Mv(0x4ab))[Mv(0x88f)]),MF[Mv(0xd29)]=Mv(0x937)+ER[Mv(0x182)][Mv(0x545)][Mv(0x7ce)][Mv(0x10b)](Mv(0x774),'')+'_'+(MT<=0x9?'0'+MT:MT)+Mv(0x4ab));}}if(MG>=0xf&&MG<=0x10)MF=new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0x9b1)+(MT<=0x9?'0'+MT:MT)+Mv(0x4ab))[Mv(0x88f)]),MF[Mv(0xd29)]=Mv(0x9b1)+(MT<=0x9?'0'+MT:MT)+Mv(0x4ab);else MG>=0xd&&MT<=0x9&&(MF=new THREE[(Mv(0xa4a))]()[Mv(0x4d6)](Me[Mv(0x49c)][Mv(0x261)](Mv(0x9b1)+(MT<=0x9?'0'+MT:MT)+Mv(0x4ab))[Mv(0x88f)]),MF[Mv(0xd29)]=Mv(0x9b1)+(MT<=0x9?'0'+MT:MT)+Mv(0x4ab));if(MG>=0xd&&MG<=0xe&&MT>0x9)break;EE[Mv(0xc64)]===EE[Mv(0x37e)][Mv(0x863)]&&MT===0x3&&(MF=this[Mv(0xa67)],MF[Mv(0xd29)]=Mv(0x8de));if(EE[Mv(0xc64)]===EE[Mv(0x37e)][Mv(0xb92)]&&MT===0x8)MF=this[Mv(0xaf0)],MF[Mv(0xd29)]=Mv(0x8fd);else{}if(EE[Mv(0xc64)]===EE[Mv(0x37e)][Mv(0x863)]){if(!this[Mv(0x550)][MC])this[Mv(0x550)][MC]=MF;}else{if(!this[Mv(0x550)][MC])this[Mv(0x550)][MC]=MF;}const Mz=new THREE[(Mv(0x69c))]({'color':0xffffff,'map':MF}),Mh=new THREE[(Mv(0xc50))](0x1,0xc,0xc),Mm=new THREE[(Mv(0x3fa))](Mh,Mz);Mm[Mv(0x643)][Mv(0xb68)]=!0x0,Mm[Mv(0x55f)]=![];const Mc=new THREE[(Mv(0x628))]();Mc[Mv(0xb51)](Mm);var Mi=Mc;Mi[Mv(0x31f)]['y']=0x0,Mi[Mv(0x31f)]['x']=-(MC<=0x0?0xf-MC:0xf-MC*0x2),Mi[Mv(0x5fd)]=Mm,Mi[Mv(0xc0a)]=EE[Mv(0xc53)](MC),Mi[Mv(0x912)]=MC;if(EE[Mv(0xc64)]===EE[Mv(0x37e)][Mv(0x863)]){}Mi[Mv(0x54a)]=new THREE[(Mv(0x29c))](0x0,0x0,0x0),Mi['om']=0x0,Mi[Mv(0x311)]=0x0,Mi[Mv(0xc33)]=Mm[Mv(0x9e9)][Mv(0xceb)](),Mi[Mv(0xc58)]=()=>{var Mj=Mv;Mm[Mj(0x9e9)]=Mi[Mj(0xc33)][Mj(0xceb)]();},this[Mv(0x205)][Mv(0x526)](Mi),this[Mv(0x9fc)][Mv(0xb51)](Mi);}var Mr=new THREE[(Mv(0x5d5))](0xffffff,1.1);Mr[Mv(0x31f)][Mv(0x304)](0x1,0xf,0x1e),this[Mv(0x624)]=this[Mv(0x624)]||Mr,window[Mv(0xab8)](Mv(0xb98),()=>{var Mj=Mv;this[Mj(0x950)][Mj(0xba6)](window[Mj(0x446)],window[Mj(0x77a)]),this[Mj(0x791)][Mj(0x2e2)]=window[Mj(0x446)]/window[Mj(0x77a)],this[Mj(0x791)][Mj(0x6f1)]();});},MW[MS(0xa3a)][MS(0x7dd)]=function(Mv){var Mg=MS,MJ=this[Mg(0x9fc)];if(!MJ)return;Mv[Mg(0x5d0)]&&Mv[Mg(0x5d0)][Mg(0x207)]();if(Mv[Mg(0x643)]){if(Array[Mg(0x493)](Mv[Mg(0x643)]))for(let MB of Mv[Mg(0x643)]){MB[Mg(0x207)]();}else Mv[Mg(0x643)][Mg(0x207)]();}Mv[Mg(0x643)]&&Mv[Mg(0x643)][Mg(0x4ea)]&&Mv[Mg(0x643)][Mg(0x4ea)][Mg(0x207)](),MJ[Mg(0x4bf)](Mv);},MW[MS(0xa3a)][MS(0x4b1)]=function(){var Mv=MS;if(EE&&EE[Mv(0x6b0)]&&!EE[Mv(0x6b0)][Mv(0x81d)]&&EV!==0x1||EE&&EE[Mv(0x6b0)]&&EV!==![])this[Mv(0xcce)]();},MW[MS(0xa3a)][MS(0xcce)]=function(){var Mv=MS;if(!Me[Mv(0x347)])return;if(ED!==DY[Mv(0x829)]||EV===![]||this[Mv(0x950)]===null||!ER||!ER[Mv(0xb1c)][Mv(0x695)][Mv(0x152)])return;if(ER&&ER[Mv(0xb1c)]&&ER[Mv(0xb1c)][Mv(0x84a)][Mv(0x197)])return;if(EE&&EE[Mv(0xafd)]&&EE[Mv(0xafd)][Mv(0x16a)]){var Mg=![];for(let My=0x0;My<EE[Mv(0xafd)][Mv(0x16a)];My++){var MJ=EE[Mv(0xafd)][Mv(0x16a)];MJ<=My&&(My=MJ-0x1);let Mq=EE[Mv(0xafd)][My];if(Mq[Mv(0x7ec)]===![])continue;if(EE[Mv(0xc64)]===EE[Mv(0x37e)][Mv(0x863)]){}else{}Mq[Mv(0x6ac)]=Mq[Mv(0x6ac)]||this[Mv(0x205)][Mv(0x9be)](MN=>MN[Mv(0x912)]===Mq[Mv(0x912)]);if(!Mq[Mv(0x6ac)])continue;Mg=!![];var MB=new THREE[(Mv(0x29c))](0x0,0x0,0x1),Ms=new THREE[(Mv(0x29c))](Mq[Mv(0x3d5)]['x'],-Mq[Mv(0x3d5)]['y'],0x0);const Mx=Ms[Mv(0x16a)]()/(RJ/Di)*0.01,MZ=MB[Mv(0xceb)]()[Mv(0xcc6)](Ms)[Mv(0x76c)](),Mf=new THREE[(Mv(0x647))]()[Mv(0x8c2)](MZ,Mx);if(Mq[Mv(0x478)]&&Mq[Mv(0x152)]&&Mq[Mv(0x3d5)][Mv(0x16a)]()>=parseFloat(EE[Mv(0x512)]))Mq[Mv(0x6ac)][Mv(0x5fd)][Mv(0x9e9)][Mv(0x646)](Mf);}if(Mg){this[Mv(0x950)][Mv(0xb54)](this[Mv(0x9fc)],this[Mv(0x791)]);if(!Me[Mv(0x49c)][Mv(0x571)][Mv(0xa6e)][Mv(0x97b)])Me[Mv(0x49c)][Mv(0x7d5)](Mv(0x97b),'',this[Mv(0x150)],0x32,0x32,this[Mv(0x150)][Mv(0x3ab)]/0x32);for(let MN=0x0;MN<EE[Mv(0xafd)][Mv(0x16a)];MN++){var MJ=EE[Mv(0xafd)][Mv(0x16a)];MJ<=MN&&(MN=MJ-0x1);let MG=EE[Mv(0xafd)][MN];if(MG[Mv(0x7ec)]===![])continue;if(!MG[Mv(0x6ac)])continue;MG[Mv(0x2dc)][Mv(0x1fb)](Mv(0x97b),MG[Mv(0x912)]),MG[Mv(0x2dc)][Mv(0x552)][Mv(0x304)](0.9*0.8),MG[Mv(0x2dc)][Mv(0xc25)][Mv(0x304)](0.5,0.5);}}}},Phaser[MS(0x754)][MS(0x177)]=MW,Me[MS(0x177)]=Me[MS(0xb51)][MS(0xa13)](Phaser[MS(0x754)][MS(0x177)]),EI[MS(0x4ec)]=this;},EI[n2(0xa3a)][n2(0x1ae)]=function(){var MS=n2,MW=new ZipLoader(MS(0x4ef),!![],LW);MW['on'](MS(0xbc9),Mv=>{var Mg=MS;this[Mg(0x66a)](parseInt(Mv[Mg(0x859)]/Mv[Mg(0x363)]*0x64));if(0x32+parseInt(Mv[Mg(0x859)]/Mv[Mg(0x363)]*0x32)<0x64){}if(Mv[Mg(0x5b1)]){}}),MW['on'](MS(0x4d6),async Mv=>{var Mg=MS,MJ=await MW[Mg(0x9ba)](Mg(0xa75),Mg(0x4aa));EU[Mg(0x526)]({'key':Mg(0x2ac),'sound':MJ,'type':Mg(0x4aa)});var MJ=await MW[Mg(0x9ba)](Mg(0xb16),Mg(0x4aa));EU[Mg(0x526)]({'key':Mg(0x3cc),'sound':MJ,'type':Mg(0x4aa)});var MJ=await MW[Mg(0x9ba)](Mg(0xd3a),Mg(0x4aa));EU[Mg(0x526)]({'key':Mg(0x998),'sound':MJ,'type':Mg(0x4aa)});var MJ=await MW[Mg(0x9ba)](Mg(0x30b),Mg(0x4aa));EU[Mg(0x526)]({'key':Mg(0x102),'sound':MJ,'type':Mg(0x4aa)});var MJ=await MW[Mg(0x9ba)](Mg(0x162),Mg(0x4aa));EU[Mg(0x526)]({'key':Mg(0xa54),'sound':MJ,'type':Mg(0x4aa)});var MJ=await MW[Mg(0x9ba)](Mg(0x156),Mg(0x4aa));EU[Mg(0x526)]({'key':Mg(0x989),'sound':MJ,'type':Mg(0x4aa)});var MJ=await MW[Mg(0x9ba)](Mg(0x30d),Mg(0x4aa));EU[Mg(0x526)]({'key':Mg(0xaf1),'sound':MJ,'type':Mg(0x4aa)});for(var MB=0x0;MB<E6[Mg(0x3a4)][Mg(0x16a)];MB++){var MJ=await MW[Mg(0x9ba)](Mg(0x5cc)+E6[Mg(0x3a4)][MB][Mg(0x634)]+Mg(0x623),Mg(0x4aa));EU[Mg(0x526)]({'key':E6[Mg(0x3a4)][MB][Mg(0x1a8)],'sound':MJ,'type':Mg(0x4aa)});}for(var MB=0x0;MB<E6[Mg(0x827)][Mg(0x16a)];MB++){var MJ=await MW[Mg(0x9ba)](Mg(0x5cc)+E6[Mg(0x827)][MB][Mg(0x634)]+Mg(0x4bd),Mg(0xcb3));EU[Mg(0x526)]({'key':E6[Mg(0x827)][MB][Mg(0x1a8)],'sound':MJ,'type':Mg(0xcb3)});}var Ms=[Mg(0xcfa),Mg(0xa99),Mg(0xb83),Mg(0xa5a),Mg(0x714),Mg(0x3fe),Mg(0xcfc),Mg(0x84b),Mg(0x39e),Mg(0xa6d),Mg(0x6a1),Mg(0xcbd),Mg(0xa37),Mg(0xc37),Mg(0x5dc),Mg(0x4c1),Mg(0x940),Mg(0xb9d),Mg(0x1a3),Mg(0x644),Mg(0x229),Mg(0x223),Mg(0x850),Mg(0xa02),Mg(0xb2a),Mg(0x66e),Mg(0x337),Mg(0x4c7),Mg(0x414),Mg(0x45e),Mg(0x91a),Mg(0x1a2),Mg(0x5a3),Mg(0x81a),Mg(0xbd2),Mg(0x8e4),Mg(0xa15),Mg(0xb76),Mg(0xcd0),Mg(0x5c8),Mg(0xaf2),Mg(0xa30),Mg(0xd4b),Mg(0x32c),Mg(0xa2b),Mg(0x535),Mg(0x79c),Mg(0xbf3),Mg(0x3c6),Mg(0x708),Mg(0x300),Mg(0x99e),Mg(0x395),Mg(0x28f),Mg(0xbf8),Mg(0xe1),Mg(0x2aa),Mg(0xa3e),Mg(0x8f8),Mg(0x3d1),Mg(0xe3),Mg(0x68d),Mg(0x307),Mg(0xbab),Mg(0x60c),Mg(0xb9a),Mg(0x186),Mg(0xe6),Mg(0x279),Mg(0x967),Mg(0x600),Mg(0xadc),Mg(0x195),Mg(0xbcc),Mg(0xc88),Mg(0x903),Mg(0x2ae),Mg(0x5f3),Mg(0xc55),Mg(0x8c3),Mg(0x2e0),Mg(0xd4a),Mg(0x8d7),Mg(0x9fb),Mg(0x2f3),Mg(0x9e2),Mg(0x5a0),Mg(0x40e),Mg(0x1f8),Mg(0x2d6),Mg(0xd49),Mg(0x158),Mg(0xad9)],My,Mq;Ms[Mg(0x4ea)](async MN=>{var MG=Mg;My=await MW[MG(0xa9b)](MG(0xbe0)+MN),Eu[MG(0x526)]({'png':My,'key':MN[MG(0x10b)](MG(0x204),'')});}),My=await MW[Mg(0xa9b)](Mg(0x465)),Eu[Mg(0x526)]({'png':My,'key':Mg(0x95d)}),My=await MW[Mg(0xa9b)](Mg(0x798)),Eu[Mg(0x526)]({'png':My,'key':Mg(0x1f0)}),My=await MW[Mg(0xa9b)](Mg(0x683)),Eu[Mg(0x526)]({'png':My,'key':Mg(0x8f9)}),My=await MW[Mg(0xa9b)](Mg(0x1d8)),Eu[Mg(0x526)]({'png':My,'key':Mg(0x4ed)}),My=await MW[Mg(0xa9b)](Mg(0xc7a)),Eu[Mg(0x526)]({'png':My,'key':Mg(0x44c)}),My=await MW[Mg(0xa9b)](Mg(0xb13)),Eu[Mg(0x526)]({'png':My,'key':Mg(0xa8a)}),My=await MW[Mg(0xa9b)](Mg(0x4c6)),Eu[Mg(0x526)]({'png':My,'key':Mg(0x8a9)}),Mq=await MW[Mg(0x9a5)](Mg(0x479)),Ej[Mg(0x526)]({'key':Mg(0x79a),'json':Mq,'type':Mg(0x7b4)}),My=await MW[Mg(0xa9b)](Mg(0xc97),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0xd1b)),Ec[Mg(0x526)]({'key':Mg(0xc82),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0xc3e),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0x131)),Ec[Mg(0x526)]({'key':Mg(0x9b9),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0x9bf),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0x6be)),Ec[Mg(0x526)]({'key':Mg(0x334),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0x525),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0x939)),Ec[Mg(0x526)]({'key':Mg(0x375),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0x824),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0x100)),Ec[Mg(0x526)]({'key':Mg(0x13a),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0x2fe),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0x100)),Ec[Mg(0x526)]({'key':Mg(0x7c2),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0xb89),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0xa05)),Ec[Mg(0x526)]({'key':Mg(0x77c),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0x489),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0x18c)),Ec[Mg(0x526)]({'key':Mg(0x1b9),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0xc59),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0x247)),Ec[Mg(0x526)]({'key':Mg(0x12a),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0xb06),Mg(0x5aa)),Mq=MW[Mg(0x9a5)](Mg(0xc15)),Ec[Mg(0x526)]({'key':Mg(0x7f8),'png':My,'json':Mq}),My=await MW[Mg(0xa9b)](Mg(0x3a8),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x38b),'url':'','png':My,'arr':[0x30,0x30,0x9]}),My=await MW[Mg(0xa9b)](Mg(0x98a),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x408),'url':'','png':My,'arr':[0x32,0x32,0x29]}),My=await MW[Mg(0xa9b)](Mg(0x416),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x70b),'url':'','png':My,'arr':[0x32,0x32,0x29]}),My=await MW[Mg(0xa9b)](Mg(0x882),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x6a3),'url':'','png':My,'arr':[0x32,0x32,0x29]}),My=await MW[Mg(0xa9b)](Mg(0x2ef),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x50d),'url':'','png':My,'arr':[0x32,0x32,0x29]}),My=await MW[Mg(0xa9b)](Mg(0x5de),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x868),'url':'','png':My,'arr':[0x32,0x32,0x29]}),My=await MW[Mg(0xa9b)](Mg(0x691),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x97d),'url':'','png':My,'arr':[0x32,0x32,0x29]}),My=await MW[Mg(0xa9b)](Mg(0x17a),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x6f9),'url':'','png':My,'arr':[0x32,0x32,0x29]}),My=await MW[Mg(0xa9b)](Mg(0xca7),Mg(0x5aa)),EO[Mg(0x526)]({'key':Mg(0x198),'url':'','png':My,'arr':[0x26,0x26,0x10]});var Mx=0x0;EU[Mg(0x4ea)](function(MN){var MG=Mg,MF=new FileReader();MF[MG(0x2d0)]=function(){var Mi=MG;Me[Mi(0x49c)][Mi(0xc8e)](MN[Mi(0x325)],MN[Mi(0x325)]+'.'+MN[Mi(0x835)],this[Mi(0x48b)]),Mx++;},MF[MG(0x2a3)](MN[MG(0x7f1)]);}),Eu[Mg(0x4ea)](function(MN){var MG=Mg;const MF=new Image();MF[MG(0x2d0)]=()=>{var Mi=MG;Me[Mi(0x49c)][Mi(0x966)](MN[Mi(0x325)],MF[Mi(0x88f)],MF),Mx++;},MF[MG(0x88f)]=MN[MG(0x5aa)];}),Ej[Mg(0x4ea)](function(MN){var MG=Mg;if(MN[MG(0x835)]===MG(0x7b4))Me[MG(0x49c)][MG(0x19d)](MN[MG(0x325)],'',MN[MG(0x7b4)]);MN[MG(0x835)]===MG(0x2da)&&Me[MG(0x49c)][MG(0x289)](MN[MG(0x325)],'',MN[MG(0x7b4)]);}),Ec[Mg(0x4ea)](function(MN){var MG=Mg;const MF=new Image();MF[MG(0x2d0)]=()=>{var Mi=MG;Me[Mi(0x49c)][Mi(0x84c)](MN[Mi(0x325)],'',MF,MN[Mi(0x7b4)]),Mx++;},MF[MG(0x88f)]=MN[MG(0x5aa)];}),EO[Mg(0x4ea)](function(MN){var MG=Mg;const MF=new Image();MF[MG(0x2d0)]=()=>{var Mi=MG;Me[Mi(0x49c)][Mi(0x7d5)](MN[Mi(0x325)],MN[Mi(0xc07)],MF,MN[Mi(0x47e)][0x0],MN[Mi(0x47e)][0x1],MN[Mi(0x47e)][0x2]),Mx++;},MF[MG(0x88f)]=MN[MG(0x5aa)];}),this[Mg(0x66a)](0x64);var MZ=Eu[Mg(0x16a)]+Ec[Mg(0x16a)]+EO[Mg(0x16a)]+EU[Mg(0x16a)],Mf=()=>{var MN=Mg;if(Mx>=MZ){this[MN(0x1b6)]();return;}setTimeout(()=>{Mf();},0xfa);};Mf();}),MW[MS(0x4d6)]();},EI[n2(0xa3a)][n2(0xa62)]=function(){var MS=n2;const MW=new Phaser[(MS(0x1aa))](Me);MW[MS(0x214)](MS(0xc9c),MS(0x13b)),E6[MS(0x8a5)](MW),MW[MS(0x1b6)][MS(0xb51)](this[MS(0x1b6)],this),MW[MS(0x5be)][MS(0xb51)](this[MS(0x66a)],this),MW[MS(0x762)](),this[MS(0x299)](Dy);},EI[n2(0xa3a)][n2(0x299)]=function(MS=!![]){var MW=n2;this[MW(0x5ed)](MS),MS&&(fetch(MW(0x4f7))[MW(0x6ae)](async Mv=>{var Mg=MW;let MJ=EY[Mg(0x6de)]=await Mv[Mg(0x7b4)]();if(MJ[Mg(0x9f2)]&&MJ[Mg(0x9f2)][0x0])MJ[Mg(0x9f2)][0x0][Mg(0xb41)]=MJ[Mg(0xb41)];}),fetch(MW(0x11c))[MW(0x6ae)](async Mv=>{var Mg=MW;let MJ=EY[Mg(0x3eb)]=await Mv[Mg(0x7b4)]();if(MJ[Mg(0x9f2)]&&MJ[Mg(0x9f2)][0x0])MJ[Mg(0x9f2)][0x0][Mg(0xb41)]=MJ[Mg(0xb41)];}),fetch(MW(0x9b0))[MW(0x6ae)](async Mv=>{var Mg=MW;let MJ=EY[Mg(0x1c7)]=await Mv[Mg(0x7b4)]();if(MJ[Mg(0x9f2)]&&MJ[Mg(0x9f2)][0x0])MJ[Mg(0x9f2)][0x0][Mg(0xb41)]=MJ[Mg(0xb41)];}),fetch(MW(0x8a2))[MW(0x6ae)](async Mv=>{var Mg=MW;let MJ=EY[Mg(0x3b3)]=await Mv[Mg(0x7b4)]();if(MJ[Mg(0x9f2)]&&MJ[Mg(0x9f2)][0x0])MJ[Mg(0x9f2)][0x0][Mg(0xb41)]=MJ[Mg(0xb41)];}),fetch(MW(0x2e5))[MW(0x6ae)](async Mv=>{var Mg=MW;let MJ=EY[Mg(0x9a6)]=await Mv[Mg(0x7b4)]();if(MJ[Mg(0x9f2)]&&MJ[Mg(0x9f2)][0x0])MJ[Mg(0x9f2)][0x0][Mg(0xb41)]=MJ[Mg(0xb41)];}),fetch(MW(0xb34))[MW(0x6ae)](async Mv=>{var Mg=MW;let MJ=EY[Mg(0x558)]=await Mv[Mg(0x7b4)]();if(MJ[Mg(0x9f2)]&&MJ[Mg(0x9f2)][0x0])MJ[Mg(0x9f2)][0x0][Mg(0xb41)]=MJ[Mg(0xb41)];}),fetch(MW(0xc00))[MW(0x6ae)](async Mv=>{var Mg=MW;let MJ=EY[Mg(0x820)]=await Mv[Mg(0x7b4)]();if(MJ[Mg(0x9f2)]&&MJ[Mg(0x9f2)][0x0])MJ[Mg(0x9f2)][0x0][Mg(0xb41)]=MJ[Mg(0xb41)];}));},EI[n2(0xa3a)][n2(0x8a5)]=function(){var MS=n2;this[MS(0x4d6)][MS(0x214)](MS(0xa11),MS(0x349)),Dy&&fetch(MS(0x83d))[MS(0x6ae)](async MW=>{var Mv=MS;EY[Mv(0x40c)]=await MW[Mv(0x7b4)]();});},EI[n2(0xa3a)][n2(0x5ed)]=function(MS=!![]){var MW=n2;if(MS===!![])Rb='',EY[MW(0x40c)][MW(0x9f2)][MW(0xd25)](Mv=>{M2(Mv);}),Rb=Rb[MW(0x711)](';',MW(0x477)),Rb=Rb[MW(0x711)](MW(0xac2),Dl),eval(Rb),console[MW(0x738)](new Function(Rb));else{this[MW(0xaea)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xaea)]['x']=0xfc,this[MW(0xaea)]['y']=0x64,this[MW(0xaea)][MW(0x7e1)]=MW(0x40c),this[MW(0xaea)][MW(0x552)][MW(0x304)](1.7826772243374884);const Mv=Me[MW(0xb51)][MW(0xa6e)](0xc,0x80,MW(0x84f));Mv[MW(0xc25)][MW(0x304)](0.5),this[MW(0xaea)][MW(0x6a8)](Mv),this[MW(0x37c)]=Me[MW(0xb51)][MW(0xa6e)](0xc,0x0,MW(0x37c)),this[MW(0x37c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xaea)][MW(0x6a8)](this[MW(0x37c)]),this[MW(0x87f)]=Me[MW(0xb51)][MW(0xa6e)](0xc,0x0,MW(0x87f)),this[MW(0x87f)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xaea)][MW(0x6a8)](this[MW(0x87f)]),this[MW(0x674)]=Me[MW(0xb51)][MW(0x2da)](0x0,0xda,'0%'),this[MW(0x674)][MW(0x67b)]({'font':MW(0x75e),'fontStyle':MW(0x285),'fontSize':MW(0xb86),'fill':MW(0xaa7),'strokeThickness':0x4,'lineSpacing':0x3,'align':MW(0xce6),'stroke':MW(0xa42),'shadowStroke':!![],'shadowFill':!![]}),this[MW(0x674)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xaea)][MW(0x6a8)](this[MW(0x674)]);}},EI[n2(0xa3a)][n2(0xabd)]=function(){var MS=n2;this[MS(0x299)](Dy),this[MS(0x1ae)]();},EI[n2(0xa3a)][n2(0x4b1)]=function(){var MS=n2;this[MS(0x667)]();},EI[n2(0xa3a)][n2(0x66a)]=function(MS,MW,Mv,Mg,MJ){var MB=n2;this[MB(0x674)][MB(0x2da)]=MS+'%',this[MB(0x87f)][MB(0xc63)][MB(0x8b2)][MB(0x4ca)]=this[MB(0x37c)][MB(0x4ca)]-this[MB(0x37c)][MB(0x4ca)]*MS/0x64;},EI[n2(0xa3a)][n2(0x1b6)]=function(){var MS=n2;Me[MS(0x5e8)][MS(0x762)](MS(0x54b));},EI[n2(0xa3a)][n2(0x667)]=function(){var MS=n2;this[MS(0xaea)]['x']=Me[MS(0x3ab)]/0x2,this[MS(0xaea)]['y']=Me[MS(0x4ca)]/3.3;};function EA(){var MS=n2;return;var MW=navigator[MS(0x245)]||navigator[MS(0x1d1)];MW=MW[MS(0xc4e)](),p5='en',MW[MS(0x16a)]>0x2&&(MW=MW[MS(0x610)](0x0,0x2)),MW[MS(0x2c8)]('fr')!==-0x1&&(p5='fr'),MW[MS(0x2c8)]('it')!==-0x1&&(p5='it'),MW[MS(0x2c8)]('de')!==-0x1&&(p5='de'),MW[MS(0x2c8)]('es')!==-0x1&&(p5='es'),MW[MS(0x2c8)]('br')!==-0x1&&(p5='br'),MW[MS(0x2c8)]('pt')!==-0x1&&(p5='br'),MW[MS(0x2c8)]('ru')!==-0x1&&(p5='ru'),p4=p3[MS(0x2c8)](p5),p4=nk,p4===p2&&(Dl=MS(0x50a));}var Eo=0x0,EX=0x0,EQ=0x0,Ea=0x0,EK=0x0,El=![],EV=![],Ek=[],Ew=[],EH={'x':0x10e,'y':0x142,'Dr':0x50},Eb=-0x1,R0=![],R1=![],R2={'rozstrel':0x0,'otvoreny':0x1,'hra':0x2},R3={'EASY':0x0,'MEDIUM':0x1,'HARD':0x2,'getText':function(MS){if(MS===0x0)return pe;if(MS===0x1)return pn;return pp;},'getColor':function(MS){var MW=n2;if(MS===0x0)return MW(0x4fb);if(MS===0x1)return MW(0x3ee);return MW(0x163);}},R4={'everywhere':0x0,'verticalOnly':0x1},R5=function(){var MS=n2;this[MS(0x545)]=0x0,this[MS(0x468)]=![],this[MS(0x287)]=null,this[MS(0x81e)]=![],this[MS(0xa2e)]=null,this[MS(0x1ed)]=0x1,this[MS(0xcd9)]=0x0,this[MS(0x99b)]=0x0,this[MS(0x15c)]=!![],this[MS(0x4c4)]=0x3,this[MS(0xcf4)]=![],this[MS(0x3b1)]=MS(0x3bb),this[MS(0xfe)]=MS(0x3bb),this[MS(0x7b6)]=MS(0xcad),this[MS(0x3dd)]=String(MS(0xb63)),this[MS(0xa55)]=String(MS(0xd13)),this[MS(0x924)]=0x1/0x64,this[MS(0x512)]='4',this[MS(0xba8)]=[{},{}],this[MS(0xc8d)]=null,this['ai']=new RD(),this[MS(0xa0c)]=![],this[MS(0x9f6)]=![],this[MS(0xa63)]=![],this[MS(0x613)]=![],this[MS(0x58b)]=![],this[MS(0x230)]=![],this[MS(0x2f4)]=![],this[MS(0xa89)]=![],this[MS(0x8a8)]=0x0,this[MS(0xae7)]=!!![],this[MS(0x500)]=!this[MS(0xae7)],this[MS(0x61f)]=![],this[MS(0x87a)]=![],this[MS(0x28d)]=![],this[MS(0xa76)]=![],this[MS(0x33a)]=null,this[MS(0x20c)]={},this[MS(0x37e)]={'pool8BallSi':MS(0xb92),'pool8BallUs':MS(0x271),'pool8BallCz':MS(0x2ee),'pool9Ball':MS(0x876),'snooker':MS(0x863)},this[MS(0xc64)]=this[MS(0x37e)][MS(0x271)],this[MS(0x769)]=0x3;var MW=this[MS(0x769)];this[MS(0x622)]=[MS(0x68f),MS(0x74b),MS(0xaad),MS(0x8e1),MS(0x770),MS(0x804),MS(0x3bc),MS(0x1ef),MS(0x658),MS(0xcb5),MS(0x482),MS(0x861),MS(0xf3),MS(0x434)],this[MS(0x5e6)]={},this[MS(0x58e)]=[{'productID':MS(0x457),'CFGProfile':{'aim':0x0,'power':0x1,'spin':0x0}},{'productID':MS(0x8f7),'CFGProfile':{'aim':0x0,'power':0x1,'spin':0x0}},{'productID':MS(0xca1),'CFGProfile':{'aim':0x0,'power':0x1,'spin':0x0}},{'productID':MS(0x1a9),'CFGProfile':{'aim':0x0,'power':0x1,'spin':0x0}},{'productID':MS(0x693),'CFGProfile':{'aim':0x0,'power':0x1,'spin':0x0}},{'productID':MS(0x201),'CFGProfile':{'aim':0x0,'power':0x1,'spin':0x0}},{'productID':MS(0x1af),'CFGProfile':{'aim':0x0,'power':0x1,'spin':0x0}}],this[MS(0x58e)][MS(0x4ea)](Mg=>{var MJ=MS;this[MJ(0x5e6)][Mg[MJ(0x6b1)]]=Mg;}),this[MS(0x79a)]=Me[MS(0x49c)][MS(0x377)](MS(0x79a)),this[MS(0xe5)]=this[MS(0x79a)][MS(0x424)][MS(0x544)][MS(0xe5)][MS(0xc86)](Mg=>Mg[MS(0xb9c)]===MS(0x57b)),this[MS(0xe5)]=this[MS(0xe5)][MS(0x36a)]({'productID':MS(0x34c),'index':0x2b2,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xb7a),'background':MS(0x2fc)}},{'productID':MS(0xc16),'index':0x2b2,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x911),'background':MS(0x2fc)}},{'productID':MS(0xb43),'index':0x2b2,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x417),'background':MS(0x2fc)}},{'productID':MS(0x47c),'index':0x2b2,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xbf7),'background':MS(0x2fc)}},{'productID':MS(0x441),'index':0x2b3,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x2f6),'background':MS(0x8d4)}},{'productID':MS(0xb8c),'index':0x2b4,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x705),'background':MS(0xb6a)}},{'productID':MS(0xc6f),'index':0x2b5,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x7a0),'background':MS(0x7a0)}},{'productID':MS(0xc8b),'index':0x2b6,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x6df),'background':MS(0xc8b)}},{'productID':MS(0x6d6),'index':0x2b7,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x31f,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xa5b),'background':MS(0x5b4)}},{'productID':MS(0xb7d),'index':0x2b8,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x99c),'background':MS(0x99c)}},{'productID':MS(0x7d0),'index':0x2b9,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xa5f),'background':MS(0x518)}},{'productID':MS(0xbac),'index':0x2ba,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x9e5),'background':MS(0x9e5)}},{'productID':MS(0xb7e),'index':0x2bb,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x1e0),'background':MS(0x1e0)}},{'productID':MS(0x527),'index':0x2bc,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x560),'background':MS(0x637)}},{'productID':MS(0xa29),'index':0x2bd,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x64e),'background':MS(0x66f)}},{'productID':MS(0x692),'index':0x2be,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x567),'background':MS(0x7bc)}},{'productID':MS(0xb4d),'index':0x2bf,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x45a),'background':MS(0x5b0)}},{'productID':MS(0x188),'index':0x2c0,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x80a),'background':MS(0x5e1)}},{'productID':MS(0x362),'index':0x2c1,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x149),'background':MS(0x6e9)}},{'productID':MS(0xc81),'index':0x2c2,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x653),'background':MS(0xacd)}},{'productID':MS(0x2b9),'index':0x2c3,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x962),'background':MS(0x5d6)}},{'productID':MS(0x9f8),'index':0x2c4,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x880),'background':MS(0x169)}},{'productID':MS(0x503),'index':0x2c5,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x7c4),'background':MS(0xb7c)}},{'productID':MS(0x8ee),'index':0x2c6,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xa3c),'background':MS(0x758)}},{'productID':MS(0xc8a),'index':0x2c7,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xcb7),'background':MS(0x839)}},{'productID':MS(0xbd6),'index':0x2c8,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xc67),'background':MS(0x842)}},{'productID':MS(0x14c),'index':0x2c9,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x1c2),'background':MS(0x18b)}},{'productID':MS(0xbc1),'index':0x2ca,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xa2f),'background':MS(0x8e3)}},{'productID':MS(0xb4e),'index':0x2cb,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x7c8),'background':MS(0x8fc)}},{'productID':MS(0x9f7),'index':0x2cc,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x857),'background':MS(0xa7e)}},{'productID':MS(0xb09),'index':0x2cd,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xd22),'background':MS(0x259)}},{'productID':MS(0x961),'index':0x2ce,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x802),'background':MS(0xaed)}},{'productID':MS(0x8d2),'index':0x2cf,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x1d9),'background':MS(0x495)}},{'productID':MS(0x77e),'index':0x2d0,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x236),'background':MS(0x36c)}},{'productID':MS(0x9b8),'index':0x2d1,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xbbb),'background':MS(0x810)}},{'productID':MS(0x1be),'index':0x2d2,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0x291),'background':MS(0x626)}},{'productID':MS(0x23d),'index':0x2d3,'group':MS(0x57b),'enabled':!![],'priority':0x5,'fromRank':0xd,'lifetime':0x64,'CFGDeals':[{'dealID':MS(0x5c1),'currency':MS(0xd15),'index':0x1,'value':0x5dc,'enabled':!![]},{'dealID':MS(0x278),'currency':MS(0xd15),'index':0x4,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x95e),'currency':MS(0x2d2),'index':0x2,'value':0x64,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0xf8),'currency':MS(0x2d2),'index':0x3,'value':0x14b4,'enabled':!![],'parentDealID':MS(0x5c1)},{'dealID':MS(0x49d),'currency':MS(0xd15),'index':0x5,'value':0x1f3,'enabled':![],'parentDealID':MS(0x5c1)}],'CFGProfile':{'aim':0x8,'power':0x8,'spin':0x8,'skin':MS(0xce7),'background':MS(0x5f0)}});let Mv=0x1;for(let Mg of this[MS(0xe5)]){let MJ=Mg[MS(0x2a1)][MS(0x6b6)];Mv++;let MB='';MJ[MS(0x200)]('')[MS(0xd25)]((Ms,My)=>{var Mq=MS;if(My==0x0)MB+=Ms[Mq(0x765)]();else{if(Ms===Ms[Mq(0xd09)]())MB+=Ms;else Ms===Ms[Mq(0x765)]()&&(MB+='\x20'+Ms);}}),Mg[MS(0x53e)]=MB,Mg[MS(0x53e)]=Mg[MS(0x53e)][MS(0x10b)](MS(0x7d8),'');}this[MS(0xe5)][MS(0x4ea)](Ms=>{var My=MS;this[My(0x5e6)][Ms[My(0x6b1)]]=Ms;}),this[MS(0xb75)]=[],this[MS(0x944)]=[],this[MS(0xc4d)]=this[MS(0x79a)][MS(0x424)][MS(0x544)][MS(0xc4d)][MS(0xa90)](0x4),this[MS(0xc4d)]=this[MS(0xc4d)][MS(0x36a)]([{'levelID':MS(0x411),'index':0x30,'enabled':!![],'rank':0xf,'bet':0x186a0,'fromCoins':0x186a0,'fromWinnings':0x186a0,'defaultModeID':MS(0x42d),'CFGProfile':{'useNewLobbySystem':!![],'gameType':MS(0x271),'turnTimeLimit':0x1e,'tableSkin':MS(0x411),'uiSkin':MS(0x411),'ballSkin':MS(0x411),'homePageSkin':MS(0x411),'effectSkin':null,'tableWidth':0x112,'tableBorderWidth':0xa,'tableHeight':0x89,'ballDiameter':5.7,'pocketDiameter':0xa,'pocketSideMouth':11.1,'pocketCornerMouth':12.3,'CFGProducts':[{'productID':MS(0x1af),'CFGProfile':{'aim':0x2,'power':0x2,'spin':0x0,'skin':MS(0x411)}}]},'CFGModes':[{'modeID':MS(0x3f1),'index':0x4,'enabled':!![],'type':MS(0x3f1)},{'modeID':MS(0xf1),'index':0x5,'enabled':!![],'type':MS(0x41f),'CFGProfile':{'uiSkin':MS(0x6c9)}},{'modeID':MS(0x675),'index':0x6,'enabled':!![],'type':MS(0x219),'lobbyID':MS(0xc75)},{'modeID':MS(0xc44),'index':0x3,'enabled':![],'type':MS(0x219),'lobbyID':MS(0x55b)},{'modeID':MS(0xce9),'index':0x1,'enabled':![],'type':MS(0x3f1),'CFGProfile':{'bet':0xa,'ballDiameter':5.4}},{'modeID':MS(0x342),'index':0x2,'enabled':![],'type':MS(0x219),'lobbyID':MS(0x69d),'CFGProfile':{'bet':0xa,'ballDiameter':5.4}},{'modeID':MS(0x82f),'index':0x7,'enabled':!![],'type':MS(0x219),'lobbyID':MS(0x725),'CFGProfile':{'bet':0x32}}]},{'levelID':MS(0x89f),'index':0x31,'enabled':!![],'rank':0x10,'bet':0x3d090,'fromCoins':0x3d090,'fromWinnings':0x3d090,'defaultModeID':MS(0x42d),'CFGProfile':{'useNewLobbySystem':!![],'gameType':MS(0x271),'turnTimeLimit':0x1e,'tableSkin':MS(0x411),'uiSkin':MS(0x411),'ballSkin':MS(0x411),'homePageSkin':MS(0x411),'effectSkin':null,'tableWidth':0x112,'tableBorderWidth':0xa,'tableHeight':0x89,'ballDiameter':5.7,'pocketDiameter':0xa,'pocketSideMouth':11.1,'pocketCornerMouth':12.3,'aimDisplayMode':MS(0xc46),'CFGProducts':[{'productID':MS(0x1af),'CFGProfile':{'aim':0x2,'power':0x2,'spin':0x0,'skin':MS(0x411)}}]},'CFGModes':[{'modeID':MS(0x3f1),'index':0x4,'enabled':!![],'type':MS(0x3f1)},{'modeID':MS(0xf1),'index':0x5,'enabled':!![],'type':MS(0x41f),'CFGProfile':{'uiSkin':MS(0x6c9)}},{'modeID':MS(0x675),'index':0x6,'enabled':!![],'type':MS(0x219),'lobbyID':MS(0x237)},{'modeID':MS(0xc44),'index':0x3,'enabled':![],'type':MS(0x219),'lobbyID':MS(0x6ef)},{'modeID':MS(0xce9),'index':0x1,'enabled':![],'type':MS(0x3f1),'CFGProfile':{'bet':0xa,'ballDiameter':5.4}},{'modeID':MS(0x342),'index':0x2,'enabled':![],'type':MS(0x219),'lobbyID':MS(0x580),'CFGProfile':{'bet':0xa,'ballDiameter':5.4}},{'modeID':MS(0x82f),'index':0x7,'enabled':!![],'type':MS(0x219),'lobbyID':MS(0x6ee),'CFGProfile':{'bet':0x32}}]}]),this[MS(0xea)]=![],this[MS(0x73d)]=0x0;};R5[n2(0xa3a)]={'constructor':R5},R5[n2(0xa3a)][n2(0x8a5)]=function(){},R5[n2(0xa3a)][n2(0xabd)]=function(){var MS=n2;this[MS(0xd17)](),this[MS(0x287)]=new Rc(this[MS(0x13c)]),this[MS(0x287)][MS(0xf2)](this[MS(0x84a)][MS(0x2ab)],this[MS(0x84a)][MS(0x8e5)],0x0),this[MS(0x287)][MS(0x983)]=!![],this[MS(0x287)][MS(0x374)]=!![],this[MS(0x181)]=performance[MS(0xb21)](),this[MS(0x3a7)]=0x0,this[MS(0x3f2)]=0x3c,setInterval(()=>{var MW=MS;EV!==![]&&ER&&ER[MW(0xb1c)][MW(0x695)][MW(0x152)]&&El!==![]&&(R0&&R0!==JSON[MW(0x689)](El)||R1!==String(EV))&&eval(MW(0xb8d)[MW(0x200)]('')[MW(0x124)]()[MW(0x7a5)](''));},0xbb8);},R5[n2(0xa3a)][n2(0xb58)]=function(MS){if(MS>=0x3e8){}},R5[n2(0xa3a)][n2(0x4b1)]=function(){var MS=n2;const MW=performance[MS(0xb21)](),Mv=MW-this[MS(0x181)];if(Mv>=0x0)this[MS(0xb58)](Mv);if(Mv>=parseFloat(MS(0xa69))/0x1e){this[MS(0x3f2)]=this[MS(0x3a7)]*parseFloat(MS(0xa69))/Mv,this[MS(0x3a7)]=0x0,this[MS(0x181)]=MW;if(this[MS(0x6ce)])scaleBox(this[MS(0x6ce)],ER[MS(0xb1c)][MS(0xa9e)][MS(0x505)]['x']+0x13b,ER[MS(0xb1c)][MS(0xa9e)][MS(0x505)]['y']+0x10);}this[MS(0x3a7)]++;if(ED!==DY[MS(0x829)])return;!Dm&&(this[MS(0x6b0)][MS(0x81d)]&&Me[MS(0x3d0)][MS(0x5dd)][MS(0xbf6)]&&Me[MS(0x3d0)][MS(0x218)][MS(0xbf6)]&&this[MS(0x6b0)][MS(0x7e0)]!==!![]&&(EV===0x0&&(this[MS(0xae7)]||El&&El[MS(0x734)])||!(this[MS(0xae7)]||El&&El[MS(0x734)]))&&(ER[MS(0xb1c)][MS(0xba7)]['x']=Me[MS(0x3d0)][MS(0x218)]['x'],ER[MS(0xb1c)][MS(0xba7)]['y']=Me[MS(0x3d0)][MS(0x218)]['y'],ER[MS(0xb1c)][MS(0xba7)][MS(0xbf6)]=!![],ER[MS(0xb1c)][MS(0x9f4)]=!![],ER[MS(0xb1c)][MS(0xba7)][MS(0xbcb)]=this[MS(0x6b0)][MS(0x7dc)],this[MS(0x6b0)][MS(0x7e0)]=!![],ER[MS(0xb1c)][MS(0xba5)][MS(0x1fb)](MS(0xc82),MS(0x6b4))),!Me[MS(0x3d0)][MS(0x218)][MS(0xbf6)]&&this[MS(0x6b0)][MS(0x7e0)]===!![]&&(ER[MS(0xb1c)][MS(0xba5)][MS(0x1fb)](MS(0xc82),MS(0x398)),ER[MS(0xb1c)][MS(0x9f4)]=![],ER[MS(0xb1c)][MS(0xba7)][MS(0xbf6)]=![],ER[MS(0xb1c)][MS(0xba7)][MS(0x878)]=ER[MS(0xb1c)][MS(0xba7)][MS(0xbcb)],this[MS(0x6b0)][MS(0x7e0)]=![]));if(this[MS(0x28d)]===!![]&&this[MS(0x61f)]&&EV!==![]){if(this[MS(0xa76)]===![])this[MS(0xa76)]=Date[MS(0xb21)]()-this[MS(0x63e)];this[MS(0x63e)]=Date[MS(0xb21)]()-this[MS(0xa76)];}if(this[MS(0x61f)]&&EV!==![]){ER[MS(0xb1c)][MS(0xc9a)][MS(0xc63)][MS(0x8b2)][MS(0x3ab)]=ER[MS(0xb1c)][MS(0xc9a)][MS(0x3ab)]-ER[MS(0xb1c)][MS(0xc9a)][MS(0x3ab)]*Math[MS(0x6c2)](parseFloat(MS(0xa69)),nY)/parseFloat(MS(0xa69)),this[MS(0x381)](),ER[MS(0xb1c)][MS(0x5a4)][MS(0xb20)](this[MS(0xba8)][0x0][MS(0x8e2)][MS(0x86a)]()),ER[MS(0xb1c)][MS(0xd0f)][MS(0xb20)](this[MS(0xba8)][0x1][MS(0x8e2)][MS(0x86a)]()),ER[MS(0xb1c)][MS(0x1bb)][MS(0xb20)](this[MS(0xba8)][0x0][MS(0x7de)][MS(0x16a)]),ER[MS(0xb1c)][MS(0x2bd)][MS(0xb20)](this[MS(0xba8)][0x1][MS(0x7de)][MS(0x16a)]),ER[MS(0xb1c)][MS(0x584)][MS(0xb20)](0x0),ER[MS(0xb1c)][MS(0xa7b)][MS(0xb20)](0x0);var Mg=Date[MS(0xb21)]()-this[MS(0x63e)];ER[MS(0xb1c)][MS(0x7b7)][MS(0xb20)](this[MS(0xba8)][0x0][MS(0x933)]+'/'+this[MS(0xba8)][0x0][MS(0x4f5)]+'\x20('+Math[MS(0xaa6)]((this[MS(0xba8)][0x0][MS(0x4f5)]-this[MS(0xba8)][0x0][MS(0x933)])/(this[MS(0xba8)][0x0][MS(0x4f5)]||0x1)*0x64)+'%)'),ER[MS(0xb1c)][MS(0x6d4)][MS(0xb20)](this[MS(0xba8)][0x1][MS(0x933)]+'/'+this[MS(0xba8)][0x1][MS(0x4f5)]+'\x20('+Math[MS(0xaa6)]((this[MS(0xba8)][0x1][MS(0x4f5)]-this[MS(0xba8)][0x1][MS(0x933)])/(this[MS(0xba8)][0x1][MS(0x4f5)]||0x1)*0x64)+'%)'),ER[MS(0xb1c)][MS(0x4c5)][MS(0xb20)](this[MS(0xba8)][0x0][MS(0xa53)]),ER[MS(0xb1c)][MS(0x292)][MS(0xb20)](this[MS(0xba8)][0x1][MS(0xa53)]),ER[MS(0xb1c)][MS(0x191)][MS(0xb20)](this[MS(0xba8)][0x0][MS(0xee)]),ER[MS(0xb1c)][MS(0xc68)][MS(0xb20)](this[MS(0xba8)][0x1][MS(0xee)]),ER[MS(0xb1c)][MS(0xc56)][MS(0xb20)](LD(this[MS(0xba8)][0x0][MS(0xb90)])),ER[MS(0xb1c)][MS(0x309)][MS(0xb20)](LD(this[MS(0xba8)][0x1][MS(0xb90)])),EV===0x0&&EL!==DI[MS(0x1e5)]&&ER[MS(0xb1c)][MS(0xc56)][MS(0xb20)](LD(this[MS(0xba8)][0x0][MS(0xb90)]+Math[MS(0x996)](Mg/parseFloat(MS(0xa69))))),EV===0x1&&EL!==DI[MS(0x1e5)]&&ER[MS(0xb1c)][MS(0x309)][MS(0xb20)](LD(this[MS(0xba8)][0x1][MS(0xb90)]+Math[MS(0x996)](Mg/parseFloat(MS(0xa69)))));}let MJ=![];if(this[MS(0x61f)]&&EL!==DI[MS(0x1e5)])for(var MB=0x0;MB<this[MS(0xafd)][MS(0x16a)];MB++){var Ms=this[MS(0xafd)][MS(0x16a)];Ms<=MB&&(MB=Ms-0x1),this[MS(0xc3b)](this[MS(0xafd)][MB],!![]);}if(this[MS(0x61f)]&&EL!==DI[MS(0x1e5)]&&this[MS(0xbb2)]!==![]&&this[MS(0xbb2)][MS(0x16a)]&&!this[MS(0x500)]){var My=[...this[MS(0xbb2)]];for(var MB=0x0;MB<My[MS(0x16a)];MB++){var Ms=My[MS(0x16a)];Ms<=MB&&(MB=Ms-0x1),this[MS(0xc3b)](My[MB],!![])&&(MJ=!![]),My[MB][MS(0x912)]===Rr&&this[MS(0x6b0)][MS(0x471)](EV,My[MB]['x'],My[MB]['y']),this[MS(0xbb2)][MS(0x20a)](MB,0x1);}}let Mq=0x0;if(nO&&nO[MS(0x16a)]&&nO[0x0][MS(0x51a)]!=!![]&&EL!==DI[MS(0x1e5)]){if(nu?.[MS(0x680)]?.[MS(0xa49)]&&nu?.[MS(0x680)][MS(0xa49)][MS(0x16a)]&&this[MS(0x6b0)][MS(0x81d)]!==!![]&&EV===0x1&&EE[MS(0x6b0)][MS(0x11f)]!==!![]){this[MS(0x6b0)][MS(0x837)]=!![],nu?.[MS(0x680)]?.[MS(0xa49)][0x0](nO[0x0],!![]);return;}}if(EL===DI[MS(0x1e5)]&&this[MS(0x7f6)]===!![]){if(this[MS(0x73d)]>=0x0&&this[MS(0xea)]===this[MS(0x73d)]){this[MS(0x7f6)]=![],Mq=0x1,this[MS(0x6b0)][MS(0x837)]&&(this[MS(0xae7)]&&El&&(no=!![],nu[MS(0x353)](MS(0x1c5),{'user_id':M6[MS(0x234)]()[MS(0x605)],'match_id':El[MS(0x4d7)]}))),(this[MS(0x6b0)][MS(0x837)]=![],this[MS(0x32f)]());var Mx=this[MS(0x1ff)];if(this[MS(0x1ff)]){this[MS(0x287)][MS(0xf2)](this[MS(0x287)][MS(0x6c5)]['x'],this[MS(0x287)][MS(0x6c5)]['y'],Rr),this[MS(0x287)][MS(0x90d)][MS(0x152)]=!![],this[MS(0x287)][MS(0x1ff)]=!![];if(EV===0x0&&this[MS(0xae7)]===!![]||this[MS(0xae7)]!==!![])this[MS(0x287)][MS(0x338)]=DI[MS(0x294)];this[MS(0x13c)][MS(0xb51)](this[MS(0x287)]),this[MS(0x1ff)]=![];}Me[MS(0xac4)]&&Me[MS(0xc0c)](),EL=DI[MS(0x45b)],this[MS(0x6b0)][MS(0x471)](EV,this[MS(0x287)]['x'],this[MS(0x287)]['y']);}}if(EL===DI[MS(0x294)]&&(this[MS(0x287)]!==null&&this[MS(0x287)][MS(0xc10)]&&(this[MS(0xae7)]&&EV===0x0||this[MS(0xae7)]==![]&&!this[MS(0x500)]||this[MS(0xae7)]==![]&&this[MS(0x500)]&&EV===0x0))){var MZ=(Me[MS(0x3d0)]['x']-EE[MS(0x84a)][MS(0x505)]['x'])/EE[MS(0x84a)][MS(0x6bb)]['x'],Mf=(Me[MS(0x3d0)]['y']-EE[MS(0x84a)][MS(0x505)]['y'])/EE[MS(0x84a)][MS(0x6bb)]['y'];MZ<this[MS(0x62f)][MS(0x94b)]['x1']+RJ&&(MZ=this[MS(0x62f)][MS(0x94b)]['x1']+RJ),MZ>this[MS(0x62f)][MS(0x35d)]['x1']-RJ&&(MZ=this[MS(0x62f)][MS(0x35d)]['x1']-RJ),Mf<this[MS(0x62f)][MS(0x282)]['y1']+RJ&&(Mf=this[MS(0x62f)][MS(0x282)]['y1']+RJ),Mf>this[MS(0x62f)][MS(0x286)]['y1']-RJ&&(Mf=this[MS(0x62f)][MS(0x286)]['y1']-RJ);if(this[MS(0x5c6)]===R4[MS(0x10c)]||this[MS(0xc64)]===this[MS(0x37e)][MS(0x863)]){if(this[MS(0xc64)]===this[MS(0x37e)][MS(0x863)]){const Mi=MZ-EH['x'],Mr=Mf-EH['y'],Mt=Math[MS(0xba2)](Mi*Mi+Mr*Mr),MC=Math[MS(0xc35)](Mr,Mi);if(Mt<=EH['Dr']&&MZ<=EH['x']){}MZ>EH['x']&&(MZ=EH['x']),Mf<=EH['y']-EH['Dr']&&(Mf=EH['y']-EH['Dr']),Mf>=EH['y']+EH['Dr']&&(Mf=EH['y']+EH['Dr']),(MC>Math['PI']/0x2||MC<-Math['PI']/0x2)&&(MZ=EH['x']+EH['Dr']*Math[MS(0xa2d)](MC),Mf=EH['y']+EH['Dr']*Math[MS(0xa56)](MC));}}if(this[MS(0x287)][MS(0x77f)]===!![]){if(Mf>this[MS(0x84a)][MS(0x2ab)]){}}var MN=![];for(var MG=0x0;MG<this[MS(0xafd)][MS(0x16a)];MG++){if(this[MS(0xafd)][MG][MS(0x7ec)]===![])continue;if(this[MS(0xafd)][MG]===this[MS(0x287)])continue;var MF=new LT(MZ-this[MS(0xafd)][MG]['x'],Mf-this[MS(0xafd)][MG]['y']);if(MF[MS(0x16a)]()<RB){MN=!![];break;}}MN===![]&&(this[MS(0x287)][MS(0x31f)][MS(0x304)](MZ,Mf),this[MS(0x287)][MS(0x6f6)]['x']=MZ,this[MS(0x287)][MS(0x6f6)]['y']=Mf,this[MS(0x287)][MS(0x889)]=JSON[MS(0x689)](this[MS(0x287)][MS(0x6f6)]));}if(this['ai'][MS(0x2f9)]()&&Eb===-0x1&&this[MS(0x690)]===![]&&this[MS(0xba8)][EV][MS(0xb00)]>=0x2){this[MS(0x690)]=!![];if(Mx&&this[MS(0x61f)]&&EL!==DI[MS(0x1e5)]){ER[MS(0xb1c)][MS(0xb77)]['x']=0x0,ER[MS(0xb1c)][MS(0xb77)]['y']=0x0,this[MS(0xd35)](),R9[MS(0x310)]();if(this[MS(0xbb2)]&&this[MS(0xbb2)][MS(0x16a)])this[MS(0xbb2)][MS(0x20a)](this[MS(0xbb2)][MS(0x2c8)](this[MS(0x287)]),0x1);EL=DI[MS(0xe2)];}else EL===DI[MS(0x45b)]&&(ER[MS(0xb1c)][MS(0xb77)]['x']=0x0,ER[MS(0xb1c)][MS(0xb77)]['y']=0x0,EL=DI[MS(0x25a)],R9[MS(0x310)]());}},R5[n2(0xa3a)][n2(0xa21)]=function(){var MS=n2;for(let Mv=0x0;Mv<this[MS(0xafd)][MS(0x16a)];Mv++){var MW=this[MS(0xafd)][MS(0x16a)];MW<=Mv&&(Mv=MW-0x1);if(this[MS(0xafd)][Mv][MS(0x7ec)]===![])continue;if(this[MS(0xafd)][Mv][MS(0x478)])return!![];if(this[MS(0xafd)][Mv][MS(0xb1a)])return!![];}return![];},R5[n2(0xa3a)][n2(0xc3b)]=function(MS,MW=![]){var Mv=n2;for(var Mg=0x0;Mg<this[Mv(0xafd)][Mv(0x16a)];Mg++){var MJ=this[Mv(0xafd)][Mv(0x16a)];MJ<=Mg&&(Mg=MJ-0x1);if(this[Mv(0xafd)][Mg][Mv(0x7ec)]===![]){}if(this[Mv(0xafd)][Mg][Mv(0xb1a)]===!![])continue;if(this[Mv(0xafd)][Mg]===MS)continue;var MB=new LT(MS['x']-this[Mv(0xafd)][Mg]['x'],MS['y']-this[Mv(0xafd)][Mg]['y']),Ms=MB[Mv(0x16a)]();if(Ms<RB)return MW===!![]&&(this[Mv(0xc40)](MS,this[Mv(0xafd)][Mg],RB),this[Mv(0xafd)][Mg][Mv(0x6f6)]['x']=this[Mv(0xafd)][Mg]['x'],this[Mv(0xafd)][Mg][Mv(0x6f6)]['y']=this[Mv(0xafd)][Mg]['y'],this[Mv(0xafd)][Mg][Mv(0x889)]=JSON[Mv(0x689)](this[Mv(0xafd)][Mg][Mv(0x6f6)]),MS[Mv(0x6f6)]['x']=MS['x'],MS[Mv(0x6f6)]['y']=MS['y'],MS[Mv(0x889)]=JSON[Mv(0x689)](MS[Mv(0x6f6)])),!![];}},R5[n2(0xa3a)][n2(0x783)]=function(MS=0x3e8){var MW=n2;this[MW(0x8c4)]=generateUUID(),R9[MW(0x9f9)]=![],R9[MW(0x449)]&&R9[MW(0x449)][MW(0x256)]&&R9[MW(0x449)][MW(0x256)](),R9[MW(0x988)]&&R9[MW(0x988)][MW(0x256)]&&R9[MW(0x988)][MW(0x256)](),(this[MW(0x7fc)]=Db(0x186a0,0x3b9ac9ff),this[MW(0x6b0)][MW(0x734)]=![],this[MW(0x690)]=![],this[MW(0x85f)]=[],Ek=[],Ew=[],this[MW(0xa4b)]=[],this[MW(0x251)]=[],Ro=[],RX=[],RQ=[],Ra=0x0,ER[MW(0xb1c)][MW(0xa12)][MW(0xc63)][MW(0x8b2)][MW(0x3ab)]=-ER[MW(0xb1c)][MW(0xa12)][MW(0x3ab)]+ER[MW(0xb1c)][MW(0xa12)][MW(0x3ab)]*Math[MW(0x6c2)](parseFloat(MW(0xa69)),parseFloat('0'))/parseFloat(MW(0xa69)),ER[MW(0xb1c)][MW(0x301)][MW(0x4ea)](Mf=>Mf[MW(0x197)]=![]),ER[MW(0xb1c)][MW(0x13d)][MW(0x9f1)](),this[MW(0x7ee)](),ER[MW(0xb1c)][MW(0xa92)][MW(0x2de)]=0xffffff,ER[MW(0xb1c)][MW(0x4fc)][MW(0x2de)]=0xffffff,ER[MW(0xb1c)][MW(0xb88)][MW(0x2de)]=0xffffff,ER[MW(0xb1c)][MW(0x4cb)][MW(0x2de)]=0xffffff,E6[MW(0x3ca)](MW(0xbfa)),ER[MW(0xb1c)][MW(0x341)][MW(0x552)][MW(0x304)](1.3698570281533526)),Dm&&Lt(Me,{'cache':!![],'card':ER[MW(0xb1c)][MW(0x905)],'name':MW(0x681),'url':M6[MW(0x234)]()[MW(0x410)]},function(Mf){var MN=MW;if(Mf[MN(0x3dc)])Mf[MN(0x227)][MN(0x266)]&&(Mf[MN(0x227)][MN(0x266)][MN(0x1fb)](Mf[MN(0x227)][MN(0x7e1)]),Mf[MN(0x227)][MN(0x266)][MN(0x552)][MN(0x304)](1.6698570281533527));else Mf[MN(0x227)][MN(0x266)]&&(Mf[MN(0x227)][MN(0x266)][MN(0x1fb)](MN(0xc82),MN(0xd2a)),Mf[MN(0x227)][MN(0x266)][MN(0x552)][MN(0x304)](1.6698570281533527));});if(this[MW(0xae7)]||El&&El[MW(0x734)]){if(El){if(El[MW(0x212)]>=0x1){EE[MW(0x545)]=EE[MW(0xc4d)][El[MW(0x212)]-0x1],ER[MW(0x182)][MW(0x545)]=EE[MW(0xc4d)][El[MW(0x212)]-0x1],ER[MW(0x182)][MW(0x2c7)]=EE[MW(0xc4d)][El[MW(0x212)]-0x1+0x1],ER[MW(0x182)][MW(0x532)][MW(0x8ae)]=El[MW(0x212)]-0x1+0x1,ER[MW(0x182)][MW(0x532)][MW(0x1fb)](MW(0x12a),ER[MW(0x182)][MW(0x545)][MW(0x7ce)][MW(0x10b)](MW(0x774),'')+MW(0x732)),ER[MW(0x182)][MW(0x371)][MW(0xb20)](ER[MW(0x182)][MW(0x545)][MW(0x212)]),ER[MW(0x182)][MW(0x467)][MW(0xb20)](LL(ER[MW(0x182)][MW(0x545)][MW(0x630)],0x1)),ER[MW(0x182)][MW(0x61b)](![]);var Mv=MW(0x907)+ER[MW(0x182)][MW(0x545)][MW(0x7ce)][MW(0x10b)](MW(0x774),'');try{Me[MW(0x7f1)][MW(0xa8f)][MW(0x74c)]()[MW(0x6ae)](function(){var Mf=MW;E6[Mf(0x6bd)](Mv);});}catch(Mf){}}}Dm&&Lt(Me,{'cache':!![],'card':ER[MW(0xb1c)][MW(0x341)],'name':MW(0x354)+String(M6[MW(0x565)]()[MW(0xc77)]),'url':M6[MW(0x565)]()[MW(0x410)]},function(MN){var MG=MW;if(MN[MG(0x3dc)])MN[MG(0x227)][MG(0x266)]&&(MN[MG(0x227)][MG(0x266)][MG(0x1fb)](MN[MG(0x227)][MG(0x7e1)]),MN[MG(0x227)][MG(0x266)][MG(0x552)][MG(0x304)](1.6698570281533527));else MN[MG(0x227)][MG(0x266)]&&(MN[MG(0x227)][MG(0x266)][MG(0x1fb)](MG(0xc82),MG(0xd2a)),MN[MG(0x227)][MG(0x266)][MG(0x552)][MG(0x304)](1.6698570281533527));});}var Mg=EE[MW(0xc4d)][MW(0xc86)](MN=>MN[MW(0x212)]>=0x1&&MN[MW(0x630)]>=Math[MW(0x6c2)](0x3d090,M6[MW(0x234)]()[MW(0x303)]+0x1));Mg&&Mg[MW(0x16a)]?ER[MW(0xb1c)][MW(0x8e7)][MW(0xb20)](Mg[0x0][MW(0x212)]):ER[MW(0xb1c)][MW(0x8e7)][MW(0xb20)](M6[MW(0x234)]()[MW(0x212)]),(this[MW(0x230)]=![],this[MW(0x2f4)]=![],ER[MW(0xb1c)][MW(0x8a4)][MW(0x152)]=![],DB(),nO=[],ER[MW(0xb1c)][MW(0x579)][MW(0xb20)](0x0),ER[MW(0xb1c)][MW(0x95f)][MW(0xb20)](0x0),ER[MW(0xb1c)][MW(0x9dc)][MW(0xb20)](M6[MW(0x234)]()[MW(0x2c4)]),ER[MW(0xb1c)][MW(0x6c7)][MW(0xb20)](M6[MW(0x234)]()[MW(0x2c4)]),ER[MW(0xb1c)][MW(0x71a)][MW(0xb20)](MW(0xd18))),this[MW(0x500)]&&ER[MW(0xb1c)][MW(0x71a)][MW(0xb20)](MW(0x9a1)),!this[MW(0xae7)]&&ER[MW(0xb1c)][MW(0x21b)][MW(0xb20)](EE[MW(0x545)][MW(0x212)]),(ER[MW(0xb1c)][MW(0x80b)][MW(0x1fb)](MW(0x334),MW(0x6fd)),ER[MW(0xb1c)][MW(0x719)][MW(0x1fb)](MW(0x334),MW(0x6fd)),ER[MW(0xb1c)][MW(0x390)][MW(0x1fb)](MW(0x334),MW(0x6fd)),ER[MW(0xb1c)][MW(0x1c6)][MW(0xb20)](getCountry()),ER[MW(0xb1c)][MW(0x185)][MW(0x1fb)](MW(0x334),MW(0x6fd)),ER[MW(0xb1c)][MW(0x825)][MW(0x1fb)](MW(0x334),MW(0x6fd))),Me?.[MW(0x49c)]?.[MW(0x571)]?.[MW(0xa6e)]?.[MW(0x334)]?.[MW(0x800)][MW(0x46e)](getCountryMin())&&(ER[MW(0xb1c)][MW(0x185)][MW(0x1fb)](MW(0x334),getCountryMin()),ER[MW(0xb1c)][MW(0x80b)][MW(0x1fb)](MW(0x334),getCountryMin()),ER[MW(0xb1c)][MW(0x390)][MW(0x1fb)](MW(0x334),getCountryMin())),ER[MW(0xb1c)][MW(0x379)][MW(0x152)]=![];if(this[MW(0xae7)]||El&&El[MW(0x734)]){ER[MW(0xb1c)][MW(0x71a)][MW(0xb20)](M6[MW(0x565)]()[MW(0x2c4)]),ER[MW(0xb1c)][MW(0x444)][MW(0xb20)](M6[MW(0x565)]()[MW(0x2c4)]),ER[MW(0xb1c)][MW(0x379)][MW(0x152)]=!![];var Mg=EE[MW(0xc4d)][MW(0xc86)](MN=>MN[MW(0x212)]>=0x1&&MN[MW(0x630)]>=Math[MW(0x6c2)](0x3d090,M6[MW(0x565)]()[MW(0x303)]+0x1));Mg&&Mg[MW(0x16a)]?ER[MW(0xb1c)][MW(0x21b)][MW(0xb20)](Mg[0x0][MW(0x212)]):ER[MW(0xb1c)][MW(0x21b)][MW(0xb20)](M6[MW(0x565)]()[MW(0x212)]),M6[MW(0x565)]()[MW(0x822)]&&Me?.[MW(0x49c)]?.[MW(0x571)]?.[MW(0xa6e)]?.[MW(0x334)]?.[MW(0x800)][MW(0x46e)](getCountryMin(M6[MW(0x565)]()[MW(0x822)]))&&(ER[MW(0xb1c)][MW(0x719)][MW(0x1fb)](MW(0x334),getCountryMin(M6[MW(0x565)]()[MW(0x822)])),ER[MW(0xb1c)][MW(0x825)][MW(0x1fb)](MW(0x334),getCountryMin(M6[MW(0x565)]()[MW(0x822)])));}ER[MW(0xb1c)][MW(0xb8a)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0xcf0)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x320)][MW(0x152)]=![],this[MW(0x139)](),this[MW(0x914)](),ER[MW(0xb1c)][MW(0x70c)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0xcba)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x7ef)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0xd2b)][MW(0x152)]=![],EV=![],this[MW(0x6b0)][MW(0x837)]=![],this[MW(0xa76)]=![],this[MW(0x28d)]=![],this[MW(0xbb2)]=[],this[MW(0x1e2)]=[],this[MW(0xa3b)]=0x0,this[MW(0x578)]=[],Eb=-0x1,this['ai'][MW(0x4d8)]=RC,this['ai'][MW(0xa23)]=0x0,this[MW(0xac9)]=![],this[MW(0xc08)]=![],this[MW(0x2f0)]=![],this[MW(0xc8d)]=R2[MW(0x58d)],this[MW(0x40a)]=[],this[MW(0x1ff)]=![],this[MW(0x7e7)]=RC,this[MW(0x230)]=![],this[MW(0xa89)]=![],ER[MW(0xb1c)][MW(0x5c5)][MW(0x152)]=![],this[MW(0x3c1)](),this[MW(0xcd9)]=0x0,this[MW(0x545)]=EE[MW(0xc4d)][ER[MW(0x182)][MW(0x532)][MW(0x8ae)]-0x1],ER[MW(0xb1c)][MW(0x70c)][MW(0xb20)](0x0),ER[MW(0xb1c)][MW(0xcba)][MW(0xb20)](0x0),ER[MW(0xb1c)][MW(0x6a6)][MW(0x2da)]=MW(0xca4)+this[MW(0x545)][MW(0x2a1)][MW(0x54e)],ER[MW(0xb1c)][MW(0x1df)][MW(0x2da)]=MW(0xca4)+this[MW(0x545)][MW(0x2a1)][MW(0x54e)];var MJ={};this[MW(0xc64)]=this[MW(0x545)][MW(0x2a1)][MW(0xc64)],this[MW(0xc64)]!==this[MW(0x37e)][MW(0x876)]&&(ER[MW(0xb1c)][MW(0x70c)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0xcba)][MW(0x152)]=!![]),(this[MW(0x6b0)][MW(0x660)][0x0][MW(0xa46)]=this[MW(0x58e)][MW(0xc86)](MN=>MN&&MN[MW(0x6b1)]&&MN[MW(0x6b1)]===this[MW(0x545)][MW(0x2a1)][MW(0xe5)][0x0][MW(0x6b1)])[0x0],this[MW(0x6b0)][MW(0x660)][0x0][MW(0x1fb)](MW(0x1b9),this[MW(0x6b0)][MW(0x660)][0x0][MW(0xa46)][MW(0x6b1)]),this[MW(0x6b0)][MW(0xcaa)][MW(0x1fb)](MW(0x1b9),this[MW(0x6b0)][MW(0x660)][0x0][MW(0xa46)][MW(0x6b1)]),this[MW(0x6b0)][MW(0x660)][0x1][MW(0xa46)]=this[MW(0x58e)][MW(0xc86)](MN=>MN&&MN[MW(0x6b1)]&&MN[MW(0x6b1)]===this[MW(0x545)][MW(0x2a1)][MW(0xe5)][0x0][MW(0x6b1)])[0x0],this[MW(0x6b0)][MW(0x660)][0x1][MW(0x1fb)](MW(0x1b9),this[MW(0x6b0)][MW(0x660)][0x1][MW(0xa46)][MW(0x6b1)]));if(Dj){let MN=this[MW(0x944)][MW(0xc86)](MG=>MG&&MG[MW(0x6b1)]&&MG[MW(0x6b1)]===Dj);MN&&MN[MW(0x16a)]?(this[MW(0x6b0)][MW(0x660)][0x0][MW(0xa46)]=MN[0x0],this[MW(0x6b0)][MW(0x660)][0x0][MW(0x1fb)](MW(0x1b9),this[MW(0x6b0)][MW(0x660)][0x0][MW(0xa46)][MW(0x6b1)]),this[MW(0x6b0)][MW(0xcaa)][MW(0x1fb)](MW(0x1b9),this[MW(0x6b0)][MW(0x660)][0x0][MW(0xa46)][MW(0x6b1)])):Dj=![];}if((this[MW(0xae7)]||El&&El[MW(0x734)])&&M6[MW(0x565)]()[MW(0x57b)]){let MG=this[MW(0xe5)][MW(0xc86)](MF=>MF&&MF[MW(0x6b1)]&&MF[MW(0x6b1)]===M6[MW(0x565)]()[MW(0x57b)]);MG&&MG[MW(0x16a)]&&(this[MW(0x6b0)][MW(0x660)][0x1][MW(0xa46)]=MG[0x0],this[MW(0x6b0)][MW(0x660)][0x1][MW(0x1fb)](MW(0x1b9),this[MW(0x6b0)][MW(0x660)][0x1][MW(0xa46)][MW(0x6b1)]));}else{if(!(this[MW(0xae7)]||El&&El[MW(0x734)])){if(Dj){let MF=this[MW(0x944)][MW(0xc86)](Mi=>Mi&&Mi[MW(0x6b1)]&&Mi[MW(0x6b1)]===Dj);if(MF&&MF[MW(0x16a)])this[MW(0x6b0)][MW(0x660)][0x1][MW(0xa46)]=MF[0x0],this[MW(0x6b0)][MW(0x660)][0x1][MW(0x1fb)](MW(0x1b9),this[MW(0x6b0)][MW(0x660)][0x0][MW(0xa46)][MW(0x6b1)]);else{}}}}var MB=MW(0x176),Ms=ER[MW(0x182)][MW(0x532)][MW(0x8ae)];DO=ER[MW(0x182)][MW(0x532)][MW(0x8ae)],this[MW(0x315)]=![];if(Ms===0x1||Ms===0x2)MB=MW(0x176),MJ={'x_offset':0x53,'y_offset':0x51,'dlzkaTejDlhej':0xf6,'width':0x366-0x10,'height':0x1c2,'widthLine':0x17a-0x16,'heightLine':0x17a-0x14,'marginY':0x27,'marginX':0x3f+0x7+0xe,'paddingY':0x17+0x16,'paddingX':0x17+0x15,'pocket':0x78,'pocketMid':0x2f+0x32,'angleMid':0x46,'angleConriner':0xdc-0x3,'BALL_RADIUS2':parseFloat(MW(0x435)),'widthCornersBounds':0x50,'paddingCorners':parseFloat('15'),'lengthHole':0x2a},MJ={'margin':{'x':0xaa,'y':0x78},'padding':{'x':-(0x20*1.5),'y':0x20*1.5},'offset':{'x':0x0,'y':0x0},'lenBand':0x28,'lenWidth':0x16b,'lenHeight':0x163,'lenPocketMid':0x22*2.3,'width':0x258,'height':0x190,'angle':0xd7,'angleL':0xb4+0x30,'angleMid':-0x46,'lenInsideTable':0xf,'lenOutsideTable':0x3c,'paddingCornersX':0x0,'paddingCornersY':0x8};else{if(Ms===0x3||Ms===0x4)MB=MW(0x803),MJ={'x_offset':0x53,'y_offset':0x51,'dlzkaTejDlhej':0xf6,'width':0x366-0x15,'height':0x1c2,'widthLine':0x17a-0x16,'heightLine':0x17a-0x14,'marginY':0x27,'marginX':0x3f+0x7+0xe,'paddingY':0x17+0x16,'paddingX':0x17+0x17,'pocket':0x78,'pocketMid':0x2f+0x29,'angleMid':0x46,'angleConriner':0xdc-0x3,'BALL_RADIUS2':parseFloat(MW(0x435)),'widthCornersBounds':0x50,'paddingCorners':parseFloat('11'),'lengthHole':0x2a},MJ={'margin':{'x':0xaa,'y':0x78},'padding':{'x':-(0x21*1.5),'y':0x20*1.5},'offset':{'x':0x0,'y':0x0},'lenBand':0x28,'lenWidth':0x168,'lenHeight':0x163,'lenPocketMid':0x22*2.3,'width':0x258,'height':0x190,'angle':0xd7,'angleL':0xb4+0x30,'angleMid':-0x46,'lenInsideTable':0xf,'lenOutsideTable':0x3c,'paddingCornersX':0x0,'paddingCornersY':0x8};else{if(Ms===0x5||Ms===0x6)MB=MW(0x5fc),MJ={'x_offset':0x53-0x8,'y_offset':0x51-0xd,'dlzkaTejDlhej':0xf6,'width':0x366+0x1c,'height':0x1c2+0x1f-0xe,'widthLine':0x17a+0xe,'heightLine':0x17a+0xb,'marginY':0x27,'marginX':0x3f+0x7,'paddingY':0x17+0x10,'paddingX':0x17+0x10,'pocket':0x78,'pocketMid':0x2f+0x19,'angleMid':0x46,'angleConriner':0xdc,'BALL_RADIUS2':parseFloat(MW(0x435)),'widthCornersBounds':0x50,'paddingCorners':parseFloat(MW(0x4b7)),'lengthHole':0x24},MJ={'margin':{'x':0x93,'y':0x69},'padding':{'x':-(0x1c*1.5),'y':0x1c*1.5},'offset':{'x':0x0,'y':0x0},'lenBand':0x28,'lenWidth':0x188,'lenHeight':0x181,'lenPocketMid':0x1d*2.3,'width':0x258,'height':0x190,'angle':0xd7,'angleL':0xb4+0x30,'angleMid':-0x46,'lenInsideTable':0xf,'lenOutsideTable':0x32,'paddingCornersX':0x0,'paddingCornersY':0x8};else{if(Ms===0x7||Ms===0x8)MB=MW(0x8ef),MJ={'x_offset':0x53-0x8,'y_offset':0x51-0xf,'dlzkaTejDlhej':0xf6,'width':0x366+0x1c,'height':0x1c2+0x1f-0xe,'widthLine':0x17a+0xe,'heightLine':0x17a+0xb,'marginY':0x27,'marginX':0x3f+0x7,'paddingY':0x17+0x10,'paddingX':0x17+0x10,'pocket':0x78,'pocketMid':0x2f+0x19,'angleMid':0x46,'angleConriner':0xdc,'BALL_RADIUS2':parseFloat(MW(0x435)),'widthCornersBounds':0x50,'paddingCorners':parseFloat(MW(0x4b7)),'lengthHole':0x24},MJ={'margin':{'x':0x93,'y':0x68},'padding':{'x':-(0x1e*1.5),'y':0x1b*1.5},'offset':{'x':0x0,'y':0x0},'lenBand':0x28,'lenWidth':0x188,'lenHeight':0x182,'lenPocketMid':0x1d*2.3,'width':0x258,'height':0x190,'angle':0xd7,'angleL':0xb4+0x30,'angleMid':-0x46,'lenInsideTable':0xf,'lenOutsideTable':0x32,'paddingCornersX':0x0,'paddingCornersY':0x8};else{if(Ms===0x9||Ms===0xa)MB=MW(0x26b),MJ={'x_offset':0x53-0x1e,'y_offset':0x51-0x1e,'dlzkaTejDlhej':0xf6,'width':0x366+0x20+0x19,'height':0x1c2+0x1f-0x8,'widthLine':0x17a+0x26,'heightLine':0x17a+0x25,'marginY':0x27,'marginX':0x3f+0x7,'paddingY':0x17+0x8,'paddingX':0x17+0xb,'pocket':0x78,'pocketMid':0x2f+0xe,'angleMid':0x46,'angleConriner':0xdc,'BALL_RADIUS2':parseFloat(MW(0x435)),'widthCornersBounds':0x3c,'paddingCorners':parseFloat('6'),'lengthHole':0x23},MJ={'margin':{'x':0x7a,'y':0x59},'padding':{'x':-(0x16*1.5),'y':0x15*1.5},'offset':{'x':0x0,'y':0x0},'lenBand':0x28,'lenWidth':0x1a6,'lenHeight':0x19f,'lenPocketMid':0x16*2.3,'width':0x258,'height':0x190,'angle':0xd7,'angleL':0xb4+0x30,'angleMid':-0x46,'lenInsideTable':0xf,'lenOutsideTable':0x28,'paddingCornersX':0x0,'paddingCornersY':0x8};else{if(Ms===0xb||Ms===0xc)MB=MW(0x339),MJ={'x_offset':0x53-0x1c,'y_offset':0x51-0x1e,'dlzkaTejDlhej':0xf6,'width':0x366+0x20+0x24,'height':0x1c2+0x1f-0x8+0x12,'widthLine':0x17a+0x2d,'heightLine':0x17a+0x2f,'marginY':0x27,'marginX':0x3f+0x7,'paddingY':0x17+0xa,'paddingX':0x17+0xb,'pocket':0x78,'pocketMid':0x2f+0xe,'angleMid':0x46,'angleConriner':0xdc,'BALL_RADIUS2':parseFloat(MW(0x435)),'widthCornersBounds':0x3c,'paddingCorners':parseFloat('6'),'lengthHole':0x32},MJ={'margin':{'x':0x7a,'y':0x59},'padding':{'x':-(0x14*1.5),'y':0x18*1.5},'offset':{'x':0x0,'y':0x0},'lenBand':0x28,'lenWidth':0x1ae,'lenHeight':0x1a6,'lenPocketMid':0x17*2.3,'width':0x258,'height':0x190,'angle':0xde,'angleL':0xb4+0x2d,'angleMid':-0x46,'lenInsideTable':0xf,'lenOutsideTable':0x28,'paddingCornersX':0x0,'paddingCornersY':0x8};else{if(Ms===0xd||Ms===0xe)MB=MW(0x7ad),MJ={'x_offset':0x53-0x2a,'y_offset':0x51-0x2b,'dlzkaTejDlhej':0xf6,'width':0x366+0x20+0x32,'height':0x1c2+0x1f-0x8+0x12,'widthLine':0x17a+0x30+0xa,'heightLine':0x17a+0x30+0x8,'marginY':0x25,'marginX':0x3f+0x3,'paddingY':0x17+0x3,'paddingX':0x17+0xb,'pocket':0x78,'pocketMid':0x2f+0x9-0x6,'angleMid':0x37,'angleConriner':0xdc,'BALL_RADIUS2':parseFloat(MW(0x435)),'widthCornersBounds':0x2f,'paddingCorners':parseFloat(MW(0x6fe)),'lengthHole':0x32},MJ={'margin':{'x':0x69,'y':0x4b},'padding':{'x':-(0x14*1.5),'y':0x15*1.5},'offset':{'x':0x0,'y':0x0},'lenBand':0x28,'lenWidth':0x1b7,'lenHeight':0x1b0,'lenPocketMid':0x14*2.3,'width':0x258,'height':0x190,'angle':0xd7,'angleL':0xb4+0x30,'angleMid':-0x46,'lenInsideTable':0xf,'lenOutsideTable':0x22,'paddingCornersX':0x0,'paddingCornersY':0x8};else(Ms===0xf||Ms===0x10)&&(MB=MW(0x975),MJ={'x_offset':0x53-0x1c,'y_offset':0x51-0x1e,'dlzkaTejDlhej':0xf6,'width':0x366+0x20+0x24,'height':0x1c2+0x1f-0x8+0x12,'widthLine':0x17a+0x2d,'heightLine':0x17a+0x2f,'marginY':0x27,'marginX':0x3f+0x7,'paddingY':0x17+0xa,'paddingX':0x17+0xb,'pocket':0x78,'pocketMid':0x2f+0xe,'angleMid':0x46,'angleConriner':0xdc,'BALL_RADIUS2':parseFloat(MW(0x435)),'widthCornersBounds':0x3c,'paddingCorners':parseFloat('6'),'lengthHole':0x32},MJ={'margin':{'x':0x7a,'y':0x59},'padding':{'x':-(0x14*1.5),'y':0x18*1.5},'offset':{'x':0x0,'y':0x0},'lenBand':0x28,'lenWidth':0x1ae,'lenHeight':0x1a6,'lenPocketMid':0x17*2.3,'width':0x258,'height':0x190,'angle':0xde,'angleL':0xb4+0x2d,'angleMid':-0x46,'lenInsideTable':0xf,'lenOutsideTable':0x28,'paddingCornersX':0x0,'paddingCornersY':0x8});}}}}}}this[MW(0x315)]=MJ;var My=0x0;for(var Mq in MJ){ixx=MJ[Mq];if(typeof ixx===MW(0x4cd))for(var Mx in ixx){My+=ixx[Mx];}else My+=MJ[Mq];}this[MW(0x315)][MW(0x3a9)]=My,RJ=MJ[MW(0x766)]*0.247,(Ms===0xd||Ms===0xe)&&(RJ=MJ[MW(0x766)]*0.206),(Ms===0x9||Ms===0xa)&&(RJ=MJ[MW(0x766)]*0.232),(Ms===0xb||Ms===0xc||Ms===0xf||Ms===0x10)&&(RJ=MJ[MW(0x766)]*0.232),(ER[MW(0xb1c)][MW(0x56b)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0xaac)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x670)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x934)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x4e7)][MW(0x3e9)]=MB,ER[MW(0xb1c)][MW(0x1cd)][MW(0x1fb)](M4({'keyImage':MW(0x7c2),'keyFrame':MB},{'keyImage':MW(0x375),'keyFrame':ER[MW(0xb1c)][MW(0x50e)][Du]})),ER[MW(0xb1c)][MW(0xc5f)][MW(0x1fb)](MW(0x13a),MB),ER[MW(0xb1c)][MW(0x4e7)][MW(0x1fb)](MW(0x7c2),MB),RJ+=parseFloat('.6'),RB=RJ*0x2+0x1,Rs=Lh(RJ),this[MW(0x84a)][MW(0x82c)]=ER[MW(0xb1c)][MW(0xc5f)][MW(0x3ab)],this[MW(0x84a)][MW(0x601)]=ER[MW(0xb1c)][MW(0xc5f)][MW(0x4ca)],this[MW(0x84a)][MW(0xa70)]=L9(this[MW(0x84a)][MW(0x82c)]/0x2),this[MW(0x84a)][MW(0x8e5)]=L9(this[MW(0x84a)][MW(0x601)]/0x2),this[MW(0x84a)][MW(0x2ab)]=this[MW(0x315)][MW(0x5e5)]['x']+this[MW(0x315)][MW(0x6ca)]['x']+L9(this[MW(0x315)][MW(0xd43)]*0.5),this[MW(0x84a)][MW(0x7d1)]=this[MW(0x315)][MW(0x5e5)]['x']+this[MW(0x315)][MW(0x6ca)]['x']+L9(this[MW(0x315)][MW(0xd43)]*1.7)),this[MW(0xc64)]===this[MW(0x37e)][MW(0x863)]&&(this[MW(0x84a)][MW(0x7d1)]=this[MW(0x315)][MW(0x5e5)]['x']+this[MW(0x315)][MW(0x6ca)]['x']+L9(this[MW(0x315)][MW(0xd43)]*1.67)),(ER[MW(0xb1c)][MW(0x4e7)][MW(0x3ab)]=ER[MW(0xb1c)][MW(0xc5f)][MW(0x3ab)],ER[MW(0xb1c)][MW(0x4e7)][MW(0x4ca)]=ER[MW(0xb1c)][MW(0xc5f)][MW(0x4ca)],this[MW(0xc2c)](MJ));if(Ms===0xf||Ms===0x10){}else{}var MZ=this[MW(0x545)];ER[MW(0xb1c)][MW(0xd0a)][MW(0xb20)](LL(MZ[MW(0x630)]*0x1,0x1)),ER[MW(0xb1c)][MW(0xf6)][MW(0xb20)](LL(MZ[MW(0x630)]*0x2,0x1)),(this[MW(0xae7)]||El&&El[MW(0x734)])&&this[MW(0x613)]===M6[MW(0x565)]()[MW(0x605)]&&ER[MW(0xb1c)][MW(0xd0a)][MW(0xb20)](LL(0x0,0x1)),(this[MW(0x6ce)]=document[MW(0x174)](MW(0x3d0)),this[MW(0x6ce)]['id']=MW(0xaa2),this[MW(0x6ce)][MW(0xced)]=MW(0x638),this[MW(0x6ce)][MW(0x228)][MW(0x5cf)]=MW(0x949),document[MW(0xa96)](MW(0x38a))[MW(0x736)](this[MW(0x6ce)]),this[MW(0x761)]=(Mi=![])=>{var Mr=MW;if(Mi!==![]&&!ER[Mr(0xb1c)][Mr(0xc5c)][Mr(0x35c)])return;if(Date[Mr(0xb21)]()-ER[Mr(0xb1c)][Mr(0x69f)][Mr(0xbb9)]>=0x7d0&&ER[Mr(0xb1c)][Mr(0x695)][Mr(0x152)]||ER[Mr(0xb1c)][Mr(0x69f)][Mr(0xbb9)]===undefined){ER[Mr(0xb1c)][Mr(0x69f)][Mr(0xbb9)]===undefined&&(ER[Mr(0xb1c)][Mr(0x69f)][Mr(0xbb9)]=Date[Mr(0xb21)]());let Mt=Mi===![]?this[Mr(0x6ce)][Mr(0x632)][Mr(0xa43)]():Mi[Mr(0xa43)]();Mt[Mr(0x16a)]>=0x3&&Mt[Mr(0x16a)]<=0x50&&(ER[Mr(0x5fa)](ER[Mr(0xb1c)][Mr(0x9d6)]),ER[Mr(0x918)](ER[Mr(0xb1c)][Mr(0x9d6)],![]),ER[Mr(0xb1c)][Mr(0xc5c)][Mr(0x35c)]=![],ER[Mr(0xb1c)][Mr(0x1d2)][Mr(0xb20)](Mt),ER[Mr(0xb1c)][Mr(0x1d2)][Mr(0x152)]=!![],this[Mr(0x6ce)][Mr(0x632)]='',clearTimeout(ER[Mr(0xb1c)][Mr(0x69f)][Mr(0x83a)]),nu['en']=![],no=!![],nu[Mr(0x353)](Mr(0x716),{'user_id':M6[Mr(0x234)]()[Mr(0x605)],'match_id':El[Mr(0x4d7)],'msg':Mt}),nu['en']=!![],ER[Mr(0xb1c)][Mr(0x69f)][Mr(0x83a)]=setTimeout(()=>{var MC=Mr;ER[MC(0xb1c)][MC(0x1d2)][MC(0x152)]=![];},0xfa0*(Mt[Mr(0x16a)]+0x32)/0x50)),Mt[Mr(0x16a)]>=0x3&&(this[Mr(0x6ce)][Mr(0x632)]='',ER[Mr(0xb1c)][Mr(0x69f)][Mr(0xbb9)]=Date[Mr(0xb21)]());}},this[MW(0x6ce)][MW(0xab8)](MW(0xb10),Mi=>{var Mr=MW;(Mi[Mr(0xbbc)]===0xd||Mi[Mr(0x325)]==Mr(0x3c8)||Mi[Mr(0xb22)]==Mr(0x3c8))&&EE[Mr(0x761)]();}));if(this[MW(0x6ce)])scaleBox(this[MW(0x6ce)],ER[MW(0xb1c)][MW(0xa9e)][MW(0x505)]['x']+0x13b,ER[MW(0xb1c)][MW(0xa9e)][MW(0x505)]['y']+0x10);Ds(),this[MW(0x973)]();},R5[n2(0xa3a)][n2(0x973)]=function(){var MS=n2;ED=DY[MS(0x829)],EL=DI[MS(0x45b)],EV=Db(0x0,0x1),(this[MS(0xae7)]||El&&El[MS(0x734)])&&(El[MS(0x9ce)]===M6[MS(0x234)]()[MS(0x605)]?EV=0x0:EV=0x1),this[MS(0xb62)](EV),R1=String(EV),this[MS(0x7b0)](!![]),this[MS(0x6b0)][MS(0x746)](this[MS(0xbeb)](EV)),this[MS(0xba8)][0x0][MS(0x37a)]=RC,this[MS(0xba8)][0x0][MS(0x7de)]=[],this[MS(0xba8)][0x0][MS(0x547)]=[],this[MS(0xba8)][0x1][MS(0x37a)]=RC,this[MS(0xba8)][0x1][MS(0x7de)]=[],this[MS(0xba8)][0x1][MS(0x547)]=[],this[MS(0xba8)][0x0][MS(0x460)]=RC,this[MS(0xba8)][0x1][MS(0x460)]=RC,this[MS(0xba8)][0x0][MS(0x52a)]='',this[MS(0xba8)][0x0][MS(0x352)]=0x0,this[MS(0xba8)][0x0][MS(0xa53)]=0x0,this[MS(0xba8)][0x0][MS(0xb90)]=0x0,this[MS(0xba8)][0x0][MS(0x4f5)]=0x0,this[MS(0xba8)][0x0][MS(0x933)]=0x0,this[MS(0xba8)][0x0][MS(0xee)]=0x0,this[MS(0xba8)][0x0][MS(0x8e2)]=0x0,this[MS(0xba8)][0x0][MS(0x636)]=0x0,this[MS(0xba8)][0x0][MS(0xb00)]=0x0,this[MS(0xba8)][0x0][MS(0x6d1)]=[],this[MS(0xba8)][0x0][MS(0x230)]=![],this[MS(0xba8)][0x0]['id']='',this[MS(0xba8)][0x0][MS(0x96a)]='',this[MS(0xba8)][0x1][MS(0x52a)]='',this[MS(0xba8)][0x1][MS(0x352)]=0x0,this[MS(0xba8)][0x1][MS(0xa53)]=0x0,this[MS(0xba8)][0x1][MS(0xb90)]=0x0,this[MS(0xba8)][0x1][MS(0x4f5)]=0x0,this[MS(0xba8)][0x1][MS(0x933)]=0x0,this[MS(0xba8)][0x1][MS(0xee)]=0x0,this[MS(0xba8)][0x1][MS(0x8e2)]=0x0,this[MS(0xba8)][0x1][MS(0x636)]=0x0,this[MS(0xba8)][0x1][MS(0xb00)]=0x0,this[MS(0xba8)][0x1][MS(0x6d1)]=[],this[MS(0xba8)][0x1][MS(0x230)]=![],this[MS(0xba8)][0x1]['id']='',this[MS(0xba8)][0x1][MS(0x96a)]='',this[MS(0xc64)]===this[MS(0x37e)][MS(0x876)]&&(this[MS(0xcc3)]=0x1,this[MS(0xba8)][0x0][MS(0x37a)]=RN,this[MS(0xba8)][0x1][MS(0x37a)]=RN),this[MS(0xc64)]===this[MS(0x37e)][MS(0x863)]&&(this[MS(0xcc3)]=0x2,this[MS(0xba8)][0x0][MS(0x37a)]=RT,this[MS(0xba8)][0x1][MS(0x37a)]=RT),this[MS(0x6b8)](),ER[MS(0xb1c)][MS(0xa83)]['x']=ER[MS(0xb1c)][MS(0x9dc)]['x']+ER[MS(0xb1c)][MS(0x9dc)][MS(0x3ab)]+0xf,ER[MS(0xb1c)][MS(0x848)]['x']=ER[MS(0xb1c)][MS(0x71a)]['x']-ER[MS(0xb1c)][MS(0x71a)][MS(0x3ab)]-0xf,ER[MS(0xb1c)][MS(0xa83)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0x848)][MS(0x152)]=![],(M6[MS(0x234)]()[MS(0x20f)]===0x1||M6[MS(0x234)]()[MS(0x20f)]===0x2)&&(ER[MS(0xb1c)][MS(0xa83)][MS(0x152)]=!![],ER[MS(0xb1c)][MS(0xa83)][MS(0x1fb)](MS(0xa14),M6[MS(0x234)]()[MS(0x20f)]===0x1?MS(0x805):MS(0xb5c))),(this[MS(0xae7)]&&M6[MS(0x565)]()[MS(0x20f)]===0x1||this[MS(0xae7)]&&M6[MS(0x565)]()[MS(0x20f)]===0x2)&&(ER[MS(0xb1c)][MS(0x848)][MS(0x152)]=!![],ER[MS(0xb1c)][MS(0x848)][MS(0x1fb)](MS(0xa14),M6[MS(0x565)]()[MS(0x20f)]===0x1?MS(0x805):MS(0xb5c))),ER[MS(0xb1c)][MS(0x301)][MS(0x4ea)](MW=>MW[MS(0x197)]=!![]);},R5[n2(0xa3a)][n2(0x6b8)]=function(){var MS=n2;this[MS(0x9f0)]={},Me[MS(0x177)][MS(0x26a)](),this[MS(0x61f)]=!![];if(this[MS(0xc64)]===this[MS(0x37e)][MS(0x876)]){let MW=![];EV===0x0?MW=ER[MS(0xb1c)][MS(0x7ef)]:MW=ER[MS(0xb1c)][MS(0xd2b)],MW[MS(0x152)]=!![],ER[MS(0xb1c)][MS(0x7ef)][MS(0x152)]=!![],ER[MS(0xb1c)][MS(0xd2b)][MS(0x152)]=!![],this[MS(0xcc3)]===0x9?(ER[MS(0xb1c)][MS(0x7ef)][MS(0x1fb)](MS(0x77c),MS(0xcea)),ER[MS(0xb1c)][MS(0xd2b)][MS(0x1fb)](MS(0x77c),MS(0xcea))):(ER[MS(0xb1c)][MS(0x7ef)][MS(0x1fb)](MS(0x77c),MS(0xfc)+this[MS(0xcc3)]+MS(0xb47)),ER[MS(0xb1c)][MS(0xd2b)][MS(0x1fb)](MS(0x77c),MS(0xfc)+this[MS(0xcc3)]+MS(0xb47)));}this[MS(0x63e)]=Date[MS(0xb21)](),ER[MS(0xb1c)][MS(0xc11)]=this[MS(0x6b0)][MS(0x660)][EV][MS(0xa46)][MS(0x2a1)][MS(0x9a8)],this[MS(0xae7)]&&(this[MS(0x28d)]=!![],this[MS(0xa76)]=![],no=!![],nu[MS(0x353)](MS(0x165),{'status':MS(0x973),'user_id':M6[MS(0x234)]()[MS(0x605)],'match_id':El[MS(0x4d7)]}),setTimeout(()=>{var Mv=MS;this[Mv(0xae7)]&&El&&EV!==![]&&nu[Mv(0x353)](Mv(0x165),{'status':Mv(0x2ca),'user_id':M6[Mv(0x234)]()[Mv(0x605)],'match_id':El[Mv(0x4d7)]});},parseFloat(MS(0x58a)))),clearInterval(this[MS(0xbb1)]),clearInterval(this[MS(0x8cf)]),this[MS(0xbb1)]=null,this[MS(0x8cf)]=null,this[MS(0x667)](),this[MS(0xbb1)]=setInterval(()=>{var Mv=MS;if(EL===DI[Mv(0x45b)]||EL===DI[Mv(0x25a)]){if(this[Mv(0x6b0)][Mv(0x81d)]===![])this[Mv(0x367)]();}else{}},0x834),this[MS(0x8cf)]=setInterval(()=>{var Mv=MS;no=!![];if(R1==='1'){if(RX[RX[Mv(0x16a)]-0x1])nu[Mv(0x353)](Mv(0xd28),Li({...RX[RX[Mv(0x16a)]-0x1]}));}},0xf*0x3e8),Me[MS(0xac4)]&&Me[MS(0xc0c)]();},R5[n2(0xa3a)][n2(0x2f8)]=function(MS){switch(MS){case 0x1:return 0x6;break;case 0x2:return 0x5;break;case 0x3:return 0x4;break;case 0x4:return 0x3;break;case 0x5:return 0x2;break;case 0x6:return 0x1;break;}},(R5[n2(0xa3a)][n2(0x3c1)]=function(){var MS=n2;ER[MS(0xb1c)][MS(0x5c5)][MS(0xa3f)][MS(0x4ea)]((MW,Mv)=>{var Mg=MS;let MJ=Mv+0x1,MB=MW;MW[Mg(0x152)]=!![];});},R5[n2(0xa3a)][n2(0x139)]=function(){var MS=n2;ER[MS(0xb1c)][MS(0x59a)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0x20d)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0xbe8)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0x25b)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0x202)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0xc24)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0x2af)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0x93c)][MS(0x152)]=![];}),R5[n2(0xa3a)][n2(0xbfa)]=function(MS){var MW=n2;if(MS===0x0)ER[MW(0xb1c)][MW(0x59a)][MW(0x152)]=!![];else MS===0x1&&(ER[MW(0xb1c)][MW(0x20d)][MW(0x152)]=!![]);},R5[n2(0xa3a)][n2(0x422)]=function(MS){var MW=n2;if(MS===0x0)ER[MW(0xb1c)][MW(0x202)][MW(0x152)]=!![];else MS===0x1&&(ER[MW(0xb1c)][MW(0xc24)][MW(0x152)]=!![]);},R5[n2(0xa3a)][n2(0x914)]=function(MS){var MW=n2;if(MS===0x0)ER[MW(0xb1c)][MW(0xbe8)][MW(0x152)]=!![];else MS===0x1?ER[MW(0xb1c)][MW(0x25b)][MW(0x152)]=!![]:(ER[MW(0xb1c)][MW(0xbe8)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0x25b)][MW(0x152)]=!![]);},R5[n2(0xa3a)][n2(0x4c2)]=function(MS,MW){var Mv=n2,Mg=MS===0x0?ER[Mv(0xb1c)][Mv(0x2af)]:ER[Mv(0xb1c)][Mv(0x93c)];ER[Mv(0xb1c)][Mv(0x2af)][Mv(0xa3f)][0x0][Mv(0x2da)]=Mv(0xab0),ER[Mv(0xb1c)][Mv(0x93c)][Mv(0xa3f)][0x0][Mv(0x2da)]=Mv(0xab0),MW&&(MW==Mv(0x45d)&&(Mg[Mv(0xa3f)][0x0][Mv(0x2da)]=Mv(0xae1)),MW==Mv(0xc20)&&(Mg[Mv(0xa3f)][0x0][Mv(0x2da)]=Mv(0x733)),MW==Mv(0x61e)&&(Mg[Mv(0xa3f)][0x0][Mv(0x2da)]=Mv(0xad3)),MW==Mv(0xa48)&&(Mg[Mv(0xa3f)][0x0][Mv(0x2da)]=Mv(0x898)),MW==Mv(0x4c2)&&(Mg[Mv(0xa3f)][0x0][Mv(0x2da)]=Mv(0xab0)));if(MS===0x0)Mg[Mv(0x152)]=!![];else MS===0x1&&(Mg[Mv(0x152)]=!![]);},R5[n2(0xa3a)][n2(0xb62)]=function(MS){var MW=n2;ER[MW(0xb1c)][MW(0xa92)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x4fc)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0xb88)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x4cb)][MW(0x152)]=![],MS===0x0?(ER[MW(0xb1c)][MW(0xa92)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0x4fc)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0xa92)][MW(0x2de)]=0xdb09,ER[MW(0xb1c)][MW(0x4fc)][MW(0x2de)]=0xdb09):(ER[MW(0xb1c)][MW(0xb88)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0x4cb)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0xb88)][MW(0x2de)]=0xdb09,ER[MW(0xb1c)][MW(0x4cb)][MW(0x2de)]=0xdb09);},R5[n2(0xa3a)][n2(0x381)]=function(MS){var MW=n2;if(EL===DI[MW(0x1e5)]){this[MW(0x63e)]=Date[MW(0xb21)]();return;}if(EV!==![]){var Mv=Date[MW(0xb21)]()-this[MW(0x63e)],Mg=this[MW(0xba8)][EV][MW(0xb00)];if(Math[MW(0x996)](Mv/parseFloat(MW(0xa69)))>=this[MW(0x545)][MW(0x2a1)][MW(0x54e)]+0x7){if((this[MW(0xae7)]||El&&El[MW(0x734)])&&EV===0x0){nu[MW(0x226)[MW(0x711)](',','')]();return;}}this[MW(0xba8)][EV][MW(0xb00)]=Math[MW(0x996)](Mv/parseFloat(MW(0xa69)));if(this[MW(0xba8)][EV][MW(0xb00)]>=this[MW(0x545)][MW(0x2a1)][MW(0x54e)]&&!this[MW(0x6b0)][MW(0x739)]){E6[MW(0x3f4)](MW(0x648),0x1);if(this[MW(0xae7)]&&EV===0x0||!this[MW(0xae7)]){ER[MW(0xb1c)][MW(0x6a6)][MW(0x2da)]=this[MW(0x545)][MW(0x2a1)][MW(0x54e)],ER[MW(0xb1c)][MW(0x1df)][MW(0x2da)]=this[MW(0x545)][MW(0x2a1)][MW(0x54e)],this[MW(0x6b0)][MW(0x81d)]=![];var MJ=ER[MW(0xb1c)][MW(0x9f4)],MB=this[MW(0x6b0)][MW(0x7dc)],Ms=this[MW(0x6b0)][MW(0x678)];this[MW(0x6b0)][MW(0x3f0)](0x0),this[MW(0x6b0)][MW(0x3f0)](0x1);if(this[MW(0xae7)])this[MW(0xcd1)](),this[MW(0x6b0)][MW(0x838)]({'vec':this[MW(0x287)][MW(0x96f)](0.1,Ms),'power':0.1,'rotation':MJ?ER[MW(0xb1c)][MW(0xba7)][MW(0xbcb)]:MB,'rotationShot':Ms});else{var My=0.1,Ms=this[MW(0x6b0)][MW(0x678)],Mq=this[MW(0x6b0)][MW(0x7dc)];this[MW(0x6b0)][MW(0x739)]=!![],this[MW(0x6b0)][MW(0xadb)](EV,{'onComplete':()=>{var Mx=MW;this[Mx(0x6b0)][Mx(0xfa)]({'power':My,'rotation':Mq,'rotationShot':MJ?ER[Mx(0xb1c)][Mx(0xba7)][Mx(0xbcb)]:Ms});}});}this[MW(0x6b0)][MW(0x2e9)]=0x0,this[MW(0x6b0)][MW(0x90b)]=0x0,this[MW(0xae7)]&&(this[MW(0xa00)]=!![]);}else this[MW(0x28d)]=!![];}else Mg!==Math[MW(0x996)](Mv/parseFloat(MW(0xa69)))&&(this[MW(0xba8)][EV][MW(0xb00)]>=this[MW(0x545)][MW(0x2a1)][MW(0x54e)]-0x5&&E6[MW(0x3f4)](MW(0xae4),0x1),Math[MW(0x996)](Mv/parseFloat(MW(0xa69)))>=0x0&&(EV===0x0?Dm!==!![]&&(ER[MW(0xb1c)][MW(0x941)][MW(0x6b3)](),ER[MW(0xb1c)][MW(0x941)][MW(0x19e)](0x0),ER[MW(0xb1c)][MW(0x941)][MW(0x65b)](0x0,0x0,ER[MW(0xb1c)][MW(0x42b)][MW(0x3ab)]/0x2,Phaser[MW(0xca9)][MW(0x306)](-0x5a+0x168*Math[MW(0x996)](Mv)/(this[MW(0x545)][MW(0x2a1)][MW(0x54e)]*parseFloat(MW(0xa69)))),Phaser[MW(0xca9)][MW(0x306)](-0x5a),0x1)):Dm!==!![]&&(ER[MW(0xb1c)][MW(0xc2a)][MW(0x6b3)](),ER[MW(0xb1c)][MW(0xc2a)][MW(0x19e)](0x0),ER[MW(0xb1c)][MW(0xc2a)][MW(0x65b)](0x0,0x0,ER[MW(0xb1c)][MW(0x1ad)][MW(0x3ab)]/0x2,Phaser[MW(0xca9)][MW(0x306)](-0x5a+0x168*Math[MW(0x996)](Mv)/(this[MW(0x545)][MW(0x2a1)][MW(0x54e)]*parseFloat(MW(0xa69)))),Phaser[MW(0xca9)][MW(0x306)](-0x5a),0x1)))),Math[MW(0x996)](Mv/parseFloat(MW(0xa69)))>=0x0&&(EV===0x0?ER[MW(0xb1c)][MW(0x6a6)][MW(0x2da)]=LD(this[MW(0x545)][MW(0x2a1)][MW(0x54e)]-Math[MW(0x996)](Mv/parseFloat(MW(0xa69)))):ER[MW(0xb1c)][MW(0x1df)][MW(0x2da)]=LD(this[MW(0x545)][MW(0x2a1)][MW(0x54e)]-Math[MW(0x996)](Mv/parseFloat(MW(0xa69)))));}},R5[n2(0xa3a)][n2(0xb73)]=function(MS=!![]){var MW=n2;ER[MW(0xb1c)][MW(0xa92)][MW(0x2de)]=0xffffff,ER[MW(0xb1c)][MW(0x4fc)][MW(0x2de)]=0xffffff,ER[MW(0xb1c)][MW(0xb88)][MW(0x2de)]=0xffffff,ER[MW(0xb1c)][MW(0x4cb)][MW(0x2de)]=0xffffff,ER[MW(0xb1c)][MW(0x941)][MW(0x6b3)](),ER[MW(0xb1c)][MW(0xc2a)][MW(0x6b3)](),E6[MW(0x3f4)](MW(0xbe4)),this[MW(0xd35)](),this[MW(0x6b0)][MW(0x81d)]=![],this[MW(0x6b0)][MW(0x7f6)]=![];let Mv=EV;if(this[MW(0x1ff)])this[MW(0xba8)][EV][MW(0xee)]++;this[MW(0xba8)][EV][MW(0x933)]++,this[MW(0xba8)][0x0][MW(0xa53)]=0x0,this[MW(0xba8)][0x1][MW(0xa53)]=0x0;if(this[MW(0xc64)]===this[MW(0x37e)][MW(0x863)]){}else this[MW(0xba8)][EV][MW(0x8e2)]-=0x64;(this[MW(0xba8)][Mv][MW(0x8e2)]<=0x0||this[MW(0xba8)][Mv][MW(0x8e2)]===NaN)&&(this[MW(0xba8)][Mv][MW(0x8e2)]=0x0),(this[MW(0xba8)][EV][MW(0x8e2)]<=0x0||this[MW(0xba8)][EV][MW(0x8e2)]===NaN)&&(this[MW(0xba8)][EV][MW(0x8e2)]=0x0),(ER[MW(0xb1c)][MW(0x5c5)][MW(0x152)]=![],this[MW(0x3c1)]());var Mg=function(MB){if(MB===0x0)return 0x1;return 0x0;};this[MW(0x6b0)][MW(0x3f0)](0x0),this[MW(0x6b0)][MW(0x3f0)](0x1),this[MW(0x6b0)][MW(0x739)]=!![],this[MW(0x6b0)][MW(0x746)](EV,{'onComplete':()=>{var MB=MW;this[MB(0x6b0)][MB(0x739)]=![];}}),EV=Mg(EV),R1=String(EV);if(this[MW(0xc64)]===this[MW(0x37e)][MW(0x863)]){}ER[MW(0xb1c)][MW(0xa92)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x4fc)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0xb88)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x4cb)][MW(0x152)]=![],EV===0x0?(ER[MW(0xb1c)][MW(0xa92)][MW(0x2de)]=0xdb09,ER[MW(0xb1c)][MW(0x4fc)][MW(0x2de)]=0xdb09,ER[MW(0xb1c)][MW(0xa92)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0x4fc)][MW(0x152)]=!![]):(ER[MW(0xb1c)][MW(0xb88)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0x4cb)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0xb88)][MW(0x2de)]=0xdb09,ER[MW(0xb1c)][MW(0x4cb)][MW(0x2de)]=0xdb09),(ER[MW(0xb1c)][MW(0x6a6)][MW(0x2da)]=MW(0xca4)+this[MW(0x545)][MW(0x2a1)][MW(0x54e)],ER[MW(0xb1c)][MW(0x1df)][MW(0x2da)]=MW(0xca4)+this[MW(0x545)][MW(0x2a1)][MW(0x54e)]);var MJ=Date[MW(0xb21)]()-this[MW(0x63e)];this[MW(0x63e)]=Date[MW(0xb21)](),this[MW(0xba8)][EV][MW(0xb90)]+=Math[MW(0x996)](MJ/parseFloat(MW(0xa69))),this[MW(0x28d)]=![],this[MW(0xa76)]=![],this[MW(0xae7)]&&El&&EV===0x1&&(this[MW(0x28d)]=!![]),ER[MW(0xb1c)][MW(0xc11)]=this[MW(0x6b0)][MW(0x660)][EV][MW(0xa46)][MW(0x2a1)][MW(0x9a8)];if(this[MW(0xae7)]&&El&&MS&&EV===0x1){}this[MW(0xae7)]&&El&&MS&&(no=!![],nu[MW(0x353)](MW(0x1c5),{'user_id':M6[MW(0x234)]()[MW(0x605)],'match_id':El[MW(0x4d7)],'ch':R1==='0'?M6[MW(0x234)]()[MW(0x605)]:M6[MW(0x565)]()[MW(0x605)]})),this[MW(0xa00)]=![],this[MW(0x500)]&&(EV===0x1&&(this['ai'][MW(0xa23)]=0x0)),Du!=DU&&(EE[MW(0xae7)]||El&&El[MW(0x734)])&&(ER[MW(0xb1c)][MW(0x301)][MW(0x4ea)](MB=>MB[MW(0x197)]=![]),ER[MW(0xb1c)][MW(0x1cd)][MW(0x1fb)](M4({'keyImage':MW(0x7c2),'keyFrame':ER[MW(0xb1c)][MW(0x4e7)][MW(0x3e9)]},{'keyImage':MW(0x375),'keyFrame':ER[MW(0xb1c)][MW(0x50e)][EV===0x0?Du:DU]})),ER[MW(0xb1c)][MW(0x301)][MW(0x4ea)](MB=>MB[MW(0x197)]=!![])),ER[MW(0xb1c)][MW(0x7e8)][MW(0x878)]=EE[MW(0x6b0)][MW(0x968)][EV][MW(0x878)];},R5[n2(0xa3a)][n2(0xa28)]=function(){var MS=n2;ER[MS(0x19a)][MS(0x973)]=![],EL=DI[MS(0x167)],ED=DY[MS(0x6ad)],this[MS(0x208)]();},R5[n2(0xa3a)][n2(0x1f4)]=function(MS=![]){var MW=n2;ER[MW(0x19a)][MW(0x973)]=![],EL=DI[MW(0x167)],ED=DY[MW(0x6ad)],ER[MW(0xb1c)][MW(0xb8a)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0xcf0)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0x8a4)][MW(0x152)]=![],ER[MW(0xb1c)][MW(0x13d)][MW(0x9f1)](),ER[MW(0x918)](ER[MW(0xb1c)][MW(0x695)],![]),ER[MW(0x918)](ER[MW(0xb1c)][MW(0xcf0)],!![]),ER[MW(0xb1c)][MW(0x320)][MW(0x152)]=!![],ER[MW(0xb1c)][MW(0x5a4)][MW(0xb20)](this[MW(0xba8)][0x0][MW(0x8e2)][MW(0x86a)]()),ER[MW(0xb1c)][MW(0xd0f)][MW(0xb20)](this[MW(0xba8)][0x1][MW(0x8e2)][MW(0x86a)]()),ER[MW(0xb1c)][MW(0x1bb)][MW(0xb20)](this[MW(0xba8)][0x0][MW(0x7de)][MW(0x16a)]),ER[MW(0xb1c)][MW(0x2bd)][MW(0xb20)](this[MW(0xba8)][0x1][MW(0x7de)][MW(0x16a)]),ER[MW(0xb1c)][MW(0x584)][MW(0xb20)](0x0),ER[MW(0xb1c)][MW(0xa7b)][MW(0xb20)](0x0);var Mv=Date[MW(0xb21)]()-this[MW(0x63e)];ER[MW(0xb1c)][MW(0x7b7)][MW(0xb20)](this[MW(0xba8)][0x0][MW(0x933)]+'/'+this[MW(0xba8)][0x0][MW(0x4f5)]+'\x20('+Math[MW(0xaa6)]((this[MW(0xba8)][0x0][MW(0x4f5)]-this[MW(0xba8)][0x0][MW(0x933)])/(this[MW(0xba8)][0x0][MW(0x4f5)]||0x1)*0x64)+'%)'),ER[MW(0xb1c)][MW(0x6d4)][MW(0xb20)](this[MW(0xba8)][0x1][MW(0x933)]+'/'+this[MW(0xba8)][0x1][MW(0x4f5)]+'\x20('+Math[MW(0xaa6)]((this[MW(0xba8)][0x1][MW(0x4f5)]-this[MW(0xba8)][0x1][MW(0x933)])/(this[MW(0xba8)][0x1][MW(0x4f5)]||0x1)*0x64)+'%)'),ER[MW(0xb1c)][MW(0x4c5)][MW(0xb20)](this[MW(0xba8)][0x0][MW(0xa53)]),ER[MW(0xb1c)][MW(0x292)][MW(0xb20)](this[MW(0xba8)][0x1][MW(0xa53)]),ER[MW(0xb1c)][MW(0x191)][MW(0xb20)](this[MW(0xba8)][0x0][MW(0xee)]),ER[MW(0xb1c)][MW(0xc68)][MW(0xb20)](this[MW(0xba8)][0x1][MW(0xee)]),ER[MW(0xb1c)][MW(0xc56)][MW(0xb20)](LD(this[MW(0xba8)][0x0][MW(0xb90)])),ER[MW(0xb1c)][MW(0x309)][MW(0xb20)](LD(this[MW(0xba8)][0x1][MW(0xb90)])),this[MW(0x139)](),Eb!==-0x1&&E6[MW(0x3f4)](MW(0xbfa)),this[MW(0xbfa)](Eb),MS&&(EE[MW(0xae7)]||El&&El[MW(0x734)])&&El&&Eb!==-0x1&&(no=!![],this[MW(0xc64)]===this[MW(0x37e)][MW(0x863)]?nu[MW(0x353)](MW(0x18a),{'match_id':El[MW(0x4d7)],'user_id':M6[MW(0x234)]()[MW(0x605)],'winnerID':Eb===0x0?M6[MW(0x234)]()[MW(0x605)]:M6[MW(0x565)]()[MW(0x605)],'a':this[MW(0xba8)][0x0][MW(0x8e2)],'b':this[MW(0xba8)][0x1][MW(0x8e2)]}):nu[MW(0x353)](MW(0x18a),{'match_id':El[MW(0x4d7)],'user_id':M6[MW(0x234)]()[MW(0x605)],'winnerID':Eb===0x0?M6[MW(0x234)]()[MW(0x605)]:M6[MW(0x565)]()[MW(0x605)]})),this[MW(0x208)]();},R5[n2(0xa3a)][n2(0x208)]=function(){var MS=n2;Ro=[],RX=[],RQ=[],clearInterval(this[MS(0xbb1)]),clearInterval(this[MS(0x8cf)]),this[MS(0x613)]=![],Ds(),ER[MS(0xb1c)][MS(0x13d)][MS(0x9f1)](),ER[MS(0xb1c)][MS(0x941)][MS(0x6b3)](),ER[MS(0xb1c)][MS(0xc2a)][MS(0x6b3)](),this[MS(0x7ee)](),El=![],R0=JSON[MS(0x689)](El),ER[MS(0x19a)][MS(0xa97)][MS(0x152)]=!![],ER[MS(0x182)][MS(0x886)](ER[MS(0x182)][MS(0x532)][MS(0x8ae)]-0x1,0x0,0x12c),Me[MS(0xac4)]&&setTimeout(()=>{var MW=MS;Me[MW(0xac4)]&&Me[MW(0xa93)]();},0x7d0);},R5[n2(0xa3a)][n2(0x7b0)]=function(MS=![],MW=![]){var Mv=n2;if(MS)this[Mv(0x9e9)]={};for(let Mc=0x0;Mc<this[Mv(0x13c)][Mv(0xa3f)][Mv(0x16a)];Mc++){var Mg=this[Mv(0x13c)][Mv(0xa3f)][Mv(0x16a)];Mg<=Mc&&(Mc=Mg-0x1),this[Mv(0x13c)][Mv(0xa3f)][Mc]&&(this[Mv(0x13c)][Mv(0xa3f)][Mc][Mv(0x6ac)]&&Me[Mv(0x177)][Mv(0x7dd)](this[Mv(0x13c)][Mv(0xa3f)][Mc][Mv(0x6ac)]),this[Mv(0x13c)][Mv(0xa3f)][Mc][Mv(0x187)]());}this[Mv(0x13c)][Mv(0xa3f)]=[],this[Mv(0xafd)]=[],this[Mv(0x287)]=new Rc(this[Mv(0x13c)],0x0,0x0);var MJ=0xa;this[Mv(0x287)][Mv(0xc77)]=MJ,MJ++,this[Mv(0xafd)][Mv(0x526)](this[Mv(0x287)]),this[Mv(0x16d)]=[];var MB=this[Mv(0xc64)]===this[Mv(0x37e)][Mv(0x863)]?!![]:![],Ms=this[Mv(0xc64)]===this[Mv(0x37e)][Mv(0x876)]?Mv(0x8fe):Mv(0x8ea);for(var My=0x0;My<(Ms===Mv(0x8fe)?0x9:0xf);My++){var Mq=new Rc(this[Mv(0x13c)],0x0,0x0);Mq[Mv(0xc77)]=MJ,MJ++,this[Mv(0xafd)][Mv(0x526)](Mq);}var Mx=Ms===Mv(0x8fe)?[0x2,0x3,0x4,0x5,0x6,0x7]:[0x2,0x3,0x4,0x5,0x6,0x7,0x9,0xa,0xb,0xc,0xd,0xe,0xf],MZ=[...Mx],Mf=[];if(Ms==Mv(0x8fe))Mf[Mv(0x526)](Db(0x2,0x8));else{Mf[Mv(0x526)](Db(0x2,0x7)),Mf[Mv(0x526)](Db(0x9,0xf));for(var MN=0x0;MN<Mf[Mv(0x16a)];MN++){var MG=Mx[Mv(0x2c8)](Mf[MN]);Mx[Mv(0x20a)](MG,0x1);}}var MF=0x1;this[Mv(0x7e3)]={'x':0x0,'y':0x0},this[Mv(0x87c)]={'x':0x0,'y':0x0};var Mi=Math[Mv(0x483)](0xa,Math[Mv(0x665)](Math[Mv(0x219)]()*0x21));for(var Mr=0x0;Mr<0x5;Mr++){var Mt=Mr+0x1,MC=this[Mv(0x84a)][Mv(0x8e5)]-(Mt-0x1)/0x2*(RB-0x1)+(RJ-0.5);for(var MT=0x0;MT<Mt;MT++){var Mz=this[Mv(0x84a)][Mv(0x7d1)]+Mr*(RB-0x2),Mh=MC+RB*(Mr-MT-0.5);if(Ms===Mv(0x8fe)){Mz+=-Mi;var Mq=this[Mv(0xafd)][MF],Mm=![];if(!Mq)continue;if(Mr===0x2&&MT===0x1)Mq[Mv(0xf2)](Mz,Mh,0x9),Mm=!![];else{if(Mr===0x0)Mq[Mv(0xf2)](Mz,Mh,0x1),Mm=!![];else{if(Mr===0x1&&MT===0x0)Mq[Mv(0xf2)](Mz,Mh,0x8),Mm=!![];else(Mr<=0x2||Mr===0x3&&MT>=0x1&&MT<=0x2||Mr===0x4&&MT>0x1)&&(Mq[Mv(0xf2)](Mz,Mh,Mx[Mv(0xbdb)]()),Mm=!![]);}}Mm&&(this[Mv(0x16d)][Mv(0x526)](Mq[Mv(0x912)]),MF+=0x1);}else{if(MB){this[Mv(0x4c4)]=0x3,this[Mv(0xcf4)]=![];var Mq=this[Mv(0xafd)][MF],Mm=![];Mr===0x2&&MT===0x1?(Mq[Mv(0xf2)](Mz,Mh,0x1),Mm=!![]):Mr===0x4&&MT===0x0?(Mq[Mv(0xf2)](Mz,Mh,0x1),Mm=!![]):(Mr===0x4&&MT===0x2&&(this[Mv(0x87c)]['x']=Mz,this[Mv(0x87c)]['y']=Mh),Mr===0x4&&MT===0x4?(Mq[Mv(0xf2)](Mz,Mh,0x1),Mm=!![]):Mr===0x0?(this[Mv(0x7e3)]['x']=Mz,this[Mv(0x7e3)]['y']=Mh,Mq[Mv(0xf2)](Mz,Mh,0x1),Mm=!![]):(Mq[Mv(0xf2)](Mz,Mh,0x1),Mm=!![])),Mm&&(this[Mv(0x16d)][Mv(0x526)](Mq[Mv(0x912)]),MF+=0x1);}else{var Mq=this[Mv(0xafd)][MF],Mm=![];Mr===0x2&&MT===0x1?(Mq[Mv(0xf2)](Mz,Mh,0x8),Mm=!![]):Mr===0x4&&MT===0x0?(Mq[Mv(0xf2)](Mz,Mh,MZ[Mv(0xbdb)]()||L1(Mf)),Mm=!![]):(Mr===0x4&&MT===0x2&&(this[Mv(0x87c)]['x']=Mz,this[Mv(0x87c)]['y']=Mh),Mr===0x4&&MT===0x4?(Mq[Mv(0xf2)](Mz,Mh,MZ[Mv(0xbdb)]()||L1(Mf)),Mm=!![]):Mr===0x0?(this[Mv(0x7e3)]['x']=Mz,this[Mv(0x7e3)]['y']=Mh,Mq[Mv(0xf2)](Mz,Mh,0x1),Mm=!![]):(Mq[Mv(0xf2)](Mz,Mh,MZ[Mv(0xbdb)]()||L1(Mx)),Mm=!![])),Mm&&(this[Mv(0x16d)][Mv(0x526)](Mq[Mv(0x912)]),MF+=0x1);}}}}if(MB){EL=DI[Mv(0x45b)];var Mq=new Rc(this[Mv(0x13c)]);this[Mv(0xafd)][Mv(0x526)](Mq),Mq[Mv(0xf2)](this[Mv(0x84a)][Mv(0x8e5)]-0x30,this[Mv(0x84a)][Mv(0x2ab)]-0x53,0x3),Mq[Mv(0xc77)]=MJ,MJ++;var Mq=new Rc(this[Mv(0x13c)]);this[Mv(0xafd)][Mv(0x526)](Mq),Mq[Mv(0xf2)](this[Mv(0x84a)][Mv(0x8e5)]-0x30,this[Mv(0x84a)][Mv(0x2ab)],0x4),Mq[Mv(0xc77)]=MJ,MJ++;var Mq=new Rc(this[Mv(0x13c)]);this[Mv(0xafd)][Mv(0x526)](Mq),Mq[Mv(0xf2)](this[Mv(0x84a)][Mv(0x8e5)]-0x30,this[Mv(0x84a)][Mv(0x2ab)]+0x53,0x2),Mq[Mv(0xc77)]=MJ,MJ++;var Mq=new Rc(this[Mv(0x13c)]);this[Mv(0xafd)][Mv(0x526)](Mq),Mq[Mv(0xf2)](this[Mv(0x84a)][Mv(0xa70)],this[Mv(0x84a)][Mv(0x2ab)],0x5),Mq[Mv(0xc77)]=MJ,MJ++;var Mq=new Rc(this[Mv(0x13c)]);this[Mv(0xafd)][Mv(0x526)](Mq),Mq[Mv(0xf2)](this[Mv(0x7e3)]['x']-RB,this[Mv(0x7e3)]['y'],0x6),Mq[Mv(0xc77)]=MJ,MJ++;var Mq=new Rc(this[Mv(0x13c)]);this[Mv(0xafd)][Mv(0x526)](Mq),Mq[Mv(0xf2)](this[Mv(0x87c)]['x']+RB*1.35,this[Mv(0x7e3)]['y'],0x7),Mq[Mv(0xc77)]=MJ,MJ++;}if(Ms===Mv(0x8fe))this[Mv(0x287)][Mv(0xf2)](this[Mv(0x84a)][Mv(0x2ab)],this[Mv(0x84a)][Mv(0x8e5)],Rr);else MB?this[Mv(0x287)][Mv(0xf2)](this[Mv(0x84a)][Mv(0x8e5)]-0x30,this[Mv(0x84a)][Mv(0x2ab)]+0x19+0xf,Rr):this[Mv(0x287)][Mv(0xf2)](this[Mv(0x84a)][Mv(0x2ab)],this[Mv(0x84a)][Mv(0x8e5)],Rr);this[Mv(0x6b0)][Mv(0x471)](EV,this[Mv(0x287)]['x'],this[Mv(0x287)]['y']),this[Mv(0x45f)](),this[Mv(0x9c7)](),ER[Mv(0xb1c)][Mv(0x542)]();},R5[n2(0xa3a)][n2(0x480)]=function(){var MS=n2;for(var MW=0x0;MW<this[MS(0xafd)][MS(0x16a)];MW++){var Mv=this[MS(0xafd)][MS(0x16a)];Mv<=MW&&(MW=Mv-0x1),this[MS(0xafd)][MW][MS(0x5b3)]();}return![];},R5[n2(0xa3a)][n2(0xc60)]=function(){var MS=n2;this[MS(0x8c4)]=generateUUID();if(Math[MS(0x836)](this[MS(0x85f)][MS(0x16a)]-this[MS(0x40a)][MS(0x16a)])>=0x5||Math[MS(0x836)](this[MS(0xa4b)][MS(0x16a)]-this[MS(0xba8)][0x0][MS(0x7de)][MS(0x16a)])>=0x5||Math[MS(0x836)](this[MS(0x251)][MS(0x16a)]-this[MS(0xba8)][0x1][MS(0x7de)][MS(0x16a)])>=0x5){}this[MS(0xba8)][0x0][MS(0x7de)]=Ek,this[MS(0xba8)][0x1][MS(0x7de)]=Ew,Me[MS(0xac4)]&&Me[MS(0xc01)](),(this[MS(0x9f0)]={},R6(),this[MS(0xea)]=0x0,this[MS(0x73d)]=0x1),EV!==![]&EE[MS(0x61f)]&&(EV===0x0?ER[MS(0xb1c)][MS(0x934)][MS(0x152)]=![]:ER[MS(0xb1c)][MS(0x670)][MS(0x152)]=![]),(this[MS(0xaf5)](),this[MS(0x7f6)]=!![],this[MS(0xd35)](),this[MS(0x287)][MS(0x90d)][MS(0x152)]=![],this[MS(0x287)][MS(0x1ff)]=![],this[MS(0x287)][MS(0xc10)]=![],this[MS(0x287)][MS(0x338)]=![],this[MS(0x1ff)]=![],this[MS(0x8a8)]=0x0,this[MS(0x4e9)]=!![],this[MS(0xa89)]=![],this[MS(0xa76)]=![],ER[MS(0xb1c)][MS(0x5c5)][MS(0x152)]=![],this[MS(0x3c1)](),this[MS(0x28d)]=![],this[MS(0xba8)][EV][MS(0x352)]=this[MS(0xba8)][EV][MS(0x4f5)]-this[MS(0xba8)][EV][MS(0x933)],this[MS(0xba8)][EV][MS(0x4f5)]++,this[MS(0xbb2)]=[],this[MS(0x5ec)]=0x0,this[MS(0x74d)]=[],this[MS(0x9c5)]=![],this[MS(0x103)]=![],this[MS(0x568)]=![],this[MS(0x994)]=![],this[MS(0x172)]=![],this[MS(0x7f7)]=[],this[MS(0x7e7)]=RC);var MW=Date[MS(0xb21)]()-this[MS(0x63e)];this[MS(0x63e)]=Date[MS(0xb21)](),EV!==![]&&(this[MS(0xba8)][EV][MS(0x6d1)]=[],this[MS(0xba8)][EV][MS(0xb90)]+=Math[MS(0x996)](MW/parseFloat(MS(0xa69))));if(this[MS(0xc64)]===this[MS(0x37e)][MS(0x876)]){var Mv=[];for(var Mg=0x0;Mg<this[MS(0xafd)][MS(0x16a)];Mg++){var MJ=this[MS(0xafd)][MS(0x16a)];MJ<=Mg&&(Mg=MJ-0x1);var MB=this[MS(0xafd)][Mg];MB[MS(0x912)]>0x0&&MB[MS(0xb1a)]!=!![]&&MB[MS(0x7ec)]==!![]&&Mv[MS(0x526)](MB[MS(0x912)]);}this[MS(0xcc3)]=Math[MS(0x6c2)](...Mv);}},R5[n2(0xa3a)][n2(0x921)]=function(MS,MW,Mv){var Mg=n2;R6(),this[Mg(0x7f7)][Mg(0x526)](MS[Mg(0x912)]),this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0x863)]&&(EV===0x0?this[Mg(0xba8)][0x0][Mg(0x7de)][Mg(0x526)](MS[Mg(0x912)]):this[Mg(0xba8)][0x1][Mg(0x7de)][Mg(0x526)](MS[Mg(0x912)]));},R5[n2(0xa3a)][n2(0x32f)]=function(){var MS=n2;this[MS(0xba8)][EV][MS(0xb00)]=0x0,this[MS(0x690)]=![],R6(),ER[MS(0xb1c)][MS(0x941)][MS(0x6b3)](),ER[MS(0xb1c)][MS(0xc2a)][MS(0x6b3)]();if(this[MS(0x287)]&&this[MS(0x287)][MS(0x7ec)]===!![]&&this[MS(0x287)][MS(0xb1a)]!==!![]&&EV===0x0&&El&&this[MS(0xae7)]){var MW=[];for(let Mr=0x0;Mr<this[MS(0xafd)][MS(0x16a)];Mr++){var Mv=this[MS(0xafd)][MS(0x16a)];Mv<=Mr&&(Mr=Mv-0x1),(this[MS(0xafd)][Mr][MS(0x7ec)]===!![]&&this[MS(0xafd)][Mr][MS(0xb1a)]!==!![]||this[MS(0xafd)][Mr][MS(0x912)]===0x0)&&MW[MS(0x526)]({'id':this[MS(0xafd)][Mr][MS(0x912)],'x':this[MS(0xafd)][Mr]['x'],'y':this[MS(0xafd)][Mr]['y']});}no=!![],nu[MS(0x353)](MS(0x32f),{'match_id':El[MS(0x4d7)],'user_id':M6[MS(0x234)]()[MS(0x605)],'rank':this[MS(0x545)][MS(0x212)],'balls':MW});}var Mg=EV,MJ=this[MS(0xbeb)](Mg),MB=this[MS(0xba8)][Mg][MS(0x7de)][MS(0x16a)],Ms=this[MS(0xc8d)],My=![],Mq=![],Mx=![],MZ=[],Mf=[],MN=[],MG=[];if(this[MS(0x7f7)][MS(0x16a)]>0x0)for(let Mt=0x0;Mt<this[MS(0x7f7)][MS(0x16a)];Mt++){let MC=this[MS(0x7f7)][Mt];if(MC===Rr){My=!![];continue;}MN[MS(0x526)](this[MS(0x5e3)](this[MS(0xc53)](MC))),MG[MS(0x526)](this[MS(0xc53)](MC));if(MC===RF&&this[MS(0xc64)]!==this[MS(0x37e)][MS(0x876)]||MC===Ri&&this[MS(0xc64)]===this[MS(0x37e)][MS(0x876)]){if(this[MS(0xc64)]!==this[MS(0x37e)][MS(0x876)]){Mq=!![];if(this[MS(0xc64)]===this[MS(0x37e)][MS(0x863)]){}continue;}else{if(this[MS(0xc64)]===this[MS(0x37e)][MS(0x876)]){Mx=!![],Mf[MS(0x526)](MC),MZ[MS(0x526)](this[MS(0x5b2)](MC));continue;}}}MZ[MS(0x526)](this[MS(0x5b2)](MC)),Mf[MS(0x526)](MC),this[MS(0x40a)][MS(0x526)](MC);}this[MS(0x1ff)]=![],this[MS(0x500)]&&this['ai'][MS(0xa23)]++,(this[MS(0x27b)](Mg,MJ,My,Mq,MZ,Mf,Mx,MN,MG),Ek=this[MS(0xba8)][0x0][MS(0x7de)],Ew=this[MS(0xba8)][0x1][MS(0x7de)],ER[MS(0xb1c)][MS(0x70c)][MS(0xb20)](this[MS(0xba8)][0x0][MS(0x7de)][MS(0x16a)]),ER[MS(0xb1c)][MS(0xcba)][MS(0xb20)](this[MS(0xba8)][0x1][MS(0x7de)][MS(0x16a)])),EV===0x1&&this[MS(0xae7)]&&(this[MS(0x28d)]=!![]);if(EV===Mg){var MF=![];if(this[MS(0xba8)][Mg][MS(0x7de)][MS(0x16a)]===0x0){for(let Mz=0x0;Mz<this[MS(0x40a)][MS(0x16a)];Mz++){E6[MS(0x3f4)](MS(0x4a3));}if(this[MS(0x40a)][MS(0x16a)]>0x0)MF=!![];}this[MS(0xba8)][EV][MS(0xa53)]++;let MT=0x0;for(let Mh=0x0;Mh<Math[MS(0x483)](0x0,this[MS(0xba8)][Mg][MS(0x7de)][MS(0x16a)]-MB);Mh++){if(MF===![])E6[MS(0x3f4)](MS(0x4a3));MT+=Db(parseFloat(MS(0xa69)),parseFloat(MS(0x346)));}if(this[MS(0xc64)]===this[MS(0x37e)][MS(0x863)]){var Mi=0x0;MG[MS(0x4ea)](Mm=>{if(Mm!==0x1)Mi+=Mm;else Mm===0x1&&Mi++;});}else this[MS(0xba8)][EV][MS(0x8e2)]+=(this[MS(0xba8)][EV][MS(0xa53)]||0x1)*MT;if(this[MS(0xba8)][EV][MS(0x8e2)]>0x0&&MT>0x0){}}else{if(this[MS(0xc64)]===this[MS(0x37e)][MS(0x863)]){var Mi=0x0;MG[MS(0x4ea)](Mm=>{if(Mm!==0x1)Mi+=Mm;else Mm===0x1&&Mi++;}),(this[MS(0xba8)][Mg][MS(0x8e2)]<=0x0||this[MS(0xba8)][Mg][MS(0x8e2)]===NaN)&&(this[MS(0xba8)][Mg][MS(0x8e2)]=0x0);}}this[MS(0xae7)]&&nO[MS(0x16a)]===0x0&&(no=!![],nu[MS(0x353)](MS(0x165),{'status':MS(0x26f),'user_id':M6[MS(0x234)]()[MS(0x605)],'match_id':El[MS(0x4d7)],'time':nG()[MS(0x470)]()})),(ER[MS(0xb1c)][MS(0x579)][MS(0xb20)](this[MS(0xba8)][0x0][MS(0x8e2)][MS(0x86a)]()),ER[MS(0xb1c)][MS(0x95f)][MS(0xb20)](this[MS(0xba8)][0x1][MS(0x8e2)][MS(0x86a)]()),this[MS(0x230)]=![]),Eb===-0x1&&this[MS(0xba8)][EV][MS(0x37a)]===RF&&(this[MS(0xc64)]===this[MS(0x37e)][MS(0x271)]||this[MS(0xc64)]===this[MS(0x37e)][MS(0x2ee)])&&(ER[MS(0xb1c)][MS(0x5c5)][MS(0x152)]=!![],this[MS(0x6b0)][MS(0x3f0)](EV),this[MS(0x6b0)][MS(0x471)](EV,this[MS(0x287)]['x'],this[MS(0x287)]['y']),this[MS(0x6b0)][MS(0x43f)]=![],setTimeout(Mm=>{var Mc=MS;if(Mm===0x0)this[Mc(0x3c1)]();else Mm===0x1&&EE[Mc(0xae7)]&&this[Mc(0x2f4)]!==![]?(this[Mc(0x230)]=this[Mc(0x2f4)],this[Mc(0x3c1)](),ER[Mc(0xb1c)][Mc(0x5c5)][Mc(0x152)]=!![],ER[Mc(0xb1c)][Mc(0x5c5)][Mc(0xa3f)][Mc(0x4ea)]((Mj,MO)=>{var Mu=Mc;MO+0x1!==this[Mu(0x2f4)]&&(Mj[Mu(0x152)]=![]);})):this[Mc(0x3c1)]();},0x190,EV));if(this[MS(0xc64)]===this[MS(0x37e)][MS(0x876)]&&Eb===-0x1){let Mm=![];EV===0x0?Mm=ER[MS(0xb1c)][MS(0x7ef)]:Mm=ER[MS(0xb1c)][MS(0xd2b)],Mm[MS(0x152)]=!![],ER[MS(0xb1c)][MS(0x7ef)][MS(0x152)]=!![],ER[MS(0xb1c)][MS(0xd2b)][MS(0x152)]=!![],this[MS(0xcc3)]===0x9?(ER[MS(0xb1c)][MS(0x7ef)][MS(0x1fb)](MS(0x77c),MS(0xcea)),ER[MS(0xb1c)][MS(0xd2b)][MS(0x1fb)](MS(0x77c),MS(0xcea))):(ER[MS(0xb1c)][MS(0x7ef)][MS(0x1fb)](MS(0x77c),MS(0xfc)+this[MS(0xcc3)]+MS(0xb47)),ER[MS(0xb1c)][MS(0xd2b)][MS(0x1fb)](MS(0x77c),MS(0xfc)+this[MS(0xcc3)]+MS(0xb47)));}if((this[MS(0xc64)]===this[MS(0x37e)][MS(0xb92)]||this[MS(0xc64)]===this[MS(0x37e)][MS(0x271)]||this[MS(0xc64)]===this[MS(0x37e)][MS(0x2ee)])&&Eb===-0x1&&this[MS(0xc8d)]===R2[MS(0x9a4)]){let Mc=![];EV===0x0?Mc=ER[MS(0xb1c)][MS(0x7ef)]:Mc=ER[MS(0xb1c)][MS(0xd2b)],Mc[MS(0x152)]=!![],ER[MS(0xb1c)][MS(0x7ef)][MS(0x152)]=!![],ER[MS(0xb1c)][MS(0xd2b)][MS(0x152)]=!![],this[MS(0xba8)][0x0][MS(0x37a)]===RN&&ER[MS(0xb1c)][MS(0x7ef)][MS(0x1fb)](MS(0x77c),MS(0xc22)),this[MS(0xba8)][0x0][MS(0x37a)]===RG&&ER[MS(0xb1c)][MS(0x7ef)][MS(0x1fb)](MS(0x77c),MS(0x432)),this[MS(0xba8)][0x0][MS(0x37a)]===RF&&(ER[MS(0xb1c)][MS(0x70c)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0x7ef)][MS(0x1fb)](MS(0x77c),MS(0xb6e))),this[MS(0xba8)][0x1][MS(0x37a)]===RN&&ER[MS(0xb1c)][MS(0xd2b)][MS(0x1fb)](MS(0x77c),MS(0xc22)),this[MS(0xba8)][0x1][MS(0x37a)]===RG&&ER[MS(0xb1c)][MS(0xd2b)][MS(0x1fb)](MS(0x77c),MS(0x432)),this[MS(0xba8)][0x1][MS(0x37a)]===RF&&(ER[MS(0xb1c)][MS(0xcba)][MS(0x152)]=![],ER[MS(0xb1c)][MS(0xd2b)][MS(0x1fb)](MS(0x77c),MS(0xb6e)));}(this[MS(0xba8)][0x0][MS(0x37a)]!==RC||this[MS(0xba8)][0x1][MS(0x37a)]!==RC)&&Ms===R2[MS(0x928)]&&E6[MS(0x3f4)](MS(0x6dc)),this[MS(0x9c7)]();},R5[n2(0xa3a)][n2(0x367)]=function(){var MS=n2;for(var MW=0x1;MW<this[MS(0xafd)][MS(0x16a)];MW++){var Mv=this[MS(0xafd)][MS(0x16a)];Mv<=MW&&(MW=Mv-0x1);if(this[MS(0xafd)][MW][MS(0xb1a)]||this[MS(0xafd)][MW][MS(0x7ec)]!==!![]&&this[MS(0xafd)][MW][MS(0x152)]!==!![])continue;let Mg=this[MS(0xafd)][MW];this[MS(0xc64)]===this[MS(0x37e)][MS(0x876)]&&(Mg[MS(0x912)]===this[MS(0xcc3)]&&Mg[MS(0xa25)]()),this[MS(0xc64)]===this[MS(0x37e)][MS(0x863)]&&((this[MS(0xba8)][EV][MS(0x37a)]===0x5&&Mg[MS(0xc0a)]!==![]&&Mg[MS(0xc0a)]===this[MS(0xcc3)]||this[MS(0xba8)][EV][MS(0x37a)]!==0x5&&Mg[MS(0xc0a)]!==![]&&this[MS(0x5e3)](Mg[MS(0xc0a)])===this[MS(0xba8)][EV][MS(0x37a)])&&Mg[MS(0xa25)]()),(this[MS(0xc64)]===this[MS(0x37e)][MS(0xb92)]||this[MS(0xc64)]===this[MS(0x37e)][MS(0x271)]||this[MS(0xc64)]===this[MS(0x37e)][MS(0x2ee)])&&((this[MS(0x5b2)](Mg[MS(0x912)])===this[MS(0xba8)][EV][MS(0x37a)]||this[MS(0xba8)][EV][MS(0x37a)]===RC)&&Mg[MS(0xa25)]());}},R5[n2(0xa3a)][n2(0x358)]=function(MS,MW){var Mv=n2;this[Mv(0xafd)][MW][Mv(0x912)]===RF&&(this[Mv(0x994)]=!![]),(this[Mv(0x7e7)]=this[Mv(0xafd)][MW][Mv(0x4b5)],this[Mv(0x172)]=this[Mv(0xafd)][MW]);if(this[Mv(0xafd)][MW][Mv(0x912)]===RF)this[Mv(0xa89)]=this[Mv(0xafd)][MW];},R5[n2(0xa3a)][n2(0x27b)]=function(MS,MW,Mv,Mg,MJ,MB,Ms,My,Mq){var Mx=n2,MZ=this[Mx(0xcc3)],Mf=![],MN=this[Mx(0xc8d)],MG=![],MF=![],Mi=this[Mx(0xba8)][MS][Mx(0x37a)];if(this[Mx(0xc64)]===this[Mx(0x37e)][Mx(0x863)]){var Mr=0x0,Mt=0x0,MC=0x0,MT=0x0,Mz=[],Mh=[],Mm=[],Mc=[];for(var Mj=0x0;Mj<Mq[Mx(0x16a)];Mj++){var MO=Mq[Mj];this[Mx(0x5e3)](MO)===Rz?(Mz[Mx(0x526)](MO),MT++):(Mh[Mx(0x526)](MO),MC++);if(this[Mx(0x5e3)](MO)!==this[Mx(0xba8)][MS][Mx(0x37a)])Mr+=MO,MG=!![],Mm[Mx(0x526)](MO),this[Mx(0x172)][Mx(0xc0a)]!==MO&&this[Mx(0xba8)][MS][Mx(0x37a)]===Rz&&Mc[Mx(0x526)](this[Mx(0x172)][Mx(0xc0a)]);else this[Mx(0x5e3)](MO)===this[Mx(0xba8)][MS][Mx(0x37a)]&&(Mt+=MO);}if(this[Mx(0xba8)][MS][Mx(0x37a)]===0x5&&(this[Mx(0x172)]===![]||MZ!==this[Mx(0x172)][Mx(0xc0a)]||Mq[Mx(0x16a)]>0x1||Mq[Mx(0x16a)]&&Mq[0x0]!=MZ||Mv)||this[Mx(0xba8)][MS][Mx(0x37a)]!==0x5&&(MG||Mv||this[Mx(0x172)]===![]||this[Mx(0x172)]&&this[Mx(0x5e3)](this[Mx(0xc53)](this[Mx(0x172)][Mx(0x912)]))!==this[Mx(0xba8)][MS][Mx(0x37a)]||this[Mx(0xba8)][MS][Mx(0x37a)]===Rz&&Mq[Mx(0x16a)]>0x1)){Mf=!![],this[Mx(0x1ff)]=!![],this[Mx(0xbb2)][Mx(0x526)](this[Mx(0x287)]);if(Mm[Mx(0x16a)])this[Mx(0xba8)][MW][Mx(0x8e2)]+=Math[Mx(0x483)](...Mm);else{if(this[Mx(0x172)]===![])this[Mx(0xba8)][MS][Mx(0x8e2)]-=0x4,(this[Mx(0xba8)][MS][Mx(0x8e2)]<=0x0||this[Mx(0xba8)][MS][Mx(0x8e2)]===NaN)&&(this[Mx(0xba8)][MS][Mx(0x8e2)]=0x0);else{if(this[Mx(0xba8)][MS][Mx(0x37a)]!==0x5&&MG){}}}}else Mq[Mx(0x16a)]===0x0&&(Mf=!![]);Mf?(this[Mx(0xba8)][MS][Mx(0x37a)]!==0x5&&(this[Mx(0xba8)][0x0][Mx(0x37a)]=RT,this[Mx(0xba8)][0x1][Mx(0x37a)]=RT),this[Mx(0xb73)]()):(Mi===Rz?this[Mx(0xba8)][MS][Mx(0x37a)]!==0x5&&(this[Mx(0xba8)][0x0][Mx(0x37a)]=RT,this[Mx(0xba8)][0x1][Mx(0x37a)]=RT):this[Mx(0xba8)][MS][Mx(0x37a)]!==0x5&&(this[Mx(0xba8)][0x0][Mx(0x37a)]=Rz,this[Mx(0xba8)][0x1][Mx(0x37a)]=Rz),Mq[Mx(0xd25)](Ma=>{var MK=Mx;this[MK(0xba8)][MS][MK(0x8e2)]+=Ma;})),Mz[Mx(0xd25)](Ma=>{var MK=Mx;this[MK(0xafd)][MK(0xc86)](Ml=>{var MV=MK;(this[MV(0xba8)][MS][MV(0x37a)]===0x5&&Ml[MV(0xc0a)]===Ma&&Ma!==MZ||this[MV(0xba8)][MS][MV(0x37a)]!==0x5&&Ml[MV(0xc0a)]===Ma)&&(Ml[MV(0xf2)](Ml[MV(0x6c5)]['x'],Ml[MV(0x6c5)]['y'],Ml[MV(0xc0a)]),this[MV(0x13c)][MV(0xb51)](Ml),this[MV(0xbb2)][MV(0x526)](Ml));});});var Mu=![];for(var MU=0x0;MU<this[Mx(0xafd)][Mx(0x16a)];MU++){if(this[Mx(0xafd)][MU][Mx(0x912)]===0x3&&this[Mx(0xafd)][MU][Mx(0xb1a)]!==!![]&&this[Mx(0xafd)][MU][Mx(0x7ec)]){Mu=!![];break;}}if(Mu===![]&&this[Mx(0xba8)][MS][Mx(0x37a)]===0x5){var MY=[];for(let Ma=0x0;Ma<this[Mx(0xafd)][Mx(0x16a)];Ma++){let MK=this[Mx(0xafd)][Ma];MK[Mx(0x912)]>0x0&&MK[Mx(0xb1a)]!=!![]&&MK[Mx(0x7ec)]==!![]&&MK[Mx(0xc0a)]!==![]&&MY[Mx(0x526)](MK[Mx(0xc0a)]);}this[Mx(0xcc3)]=Math[Mx(0x6c2)](...MY);}if(Mu===![]&&this[Mx(0xba8)][MS][Mx(0x37a)]!==0x5){var MY=[];for(let Ml=0x0;Ml<this[Mx(0xafd)][Mx(0x16a)];Ml++){let MV=this[Mx(0xafd)][Ml];MV[Mx(0x912)]>0x0&&MV[Mx(0xb1a)]!=!![]&&MV[Mx(0x7ec)]==!![]&&MV[Mx(0xc0a)]!==![]&&MY[Mx(0x526)](MV[Mx(0xc0a)]);}this[Mx(0xcc3)]=Math[Mx(0x6c2)](...MY),this[Mx(0xba8)][0x0][Mx(0x37a)]=0x5,this[Mx(0xba8)][0x1][Mx(0x37a)]=0x5;}let MQ=![];if(Mu===![]&&this[Mx(0xba8)][MS][Mx(0x37a)]===0x5){for(var MU=0x0;MU<this[Mx(0xafd)][Mx(0x16a)];MU++){if(this[Mx(0xafd)][MU][Mx(0xc0a)]!==![]&&this[Mx(0xafd)][MU][Mx(0xc0a)]>=0x0&&this[Mx(0xafd)][MU][Mx(0xb1a)]!==!![]&&this[Mx(0xafd)][MU][Mx(0x7ec)]){MQ=!![];break;}}MQ===![]&&(Eb=MS,this[Mx(0xba8)][MS][Mx(0x8e2)]<this[Mx(0xba8)][MW][Mx(0x8e2)]&&(Eb=MW),this[Mx(0x1f4)](!![]));}}if(this[Mx(0xc64)]===this[Mx(0x37e)][Mx(0x876)]){var MY=[];for(var MI=0x0;MI<this[Mx(0xafd)][Mx(0x16a)];MI++){var Md=this[Mx(0xafd)][MI];Md[Mx(0x912)]>0x0&&Md[Mx(0xb1a)]!=!![]&&Md[Mx(0x7ec)]==!![]&&MY[Mx(0x526)](Md[Mx(0x912)]);}this[Mx(0xcc3)]=Math[Mx(0x6c2)](...MY),this[Mx(0xba8)][MS][Mx(0x37a)]=this[Mx(0x5b2)](this[Mx(0xcc3)]),this[Mx(0xba8)][MW][Mx(0x37a)]=this[Mx(0x5b2)](this[Mx(0xcc3)]);if(this[Mx(0x500)]){}if(Mv||this[Mx(0x172)]===![]||MZ!==this[Mx(0x172)][Mx(0x912)])Mf=!![],this[Mx(0x1ff)]=!![],this[Mx(0xbb2)][Mx(0x526)](this[Mx(0x287)]);else{if(MJ[Mx(0x16a)]==0x0)Mf=!![];else{}}if(Mf)this[Mx(0xb73)]();else{}for(var Mj=0x0;Mj<MB[Mx(0x16a)];Mj++){var MA=MB[Mj];MF=!![];let Mk=!![];if(Ms&&MZ===this[Mx(0x172)][Mx(0x912)]&&!Mv){}else Ms&&(Mk=![]);if(Mk===![]&&MA===0x9)continue;this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x526)](MA);}if(Ms&&MZ===this[Mx(0x172)][Mx(0x912)]&&!Mv){Eb=MS,this[Mx(0x1f4)](!![]);return;}else{if(Ms){var Mo=this[Mx(0xafd)][Mx(0xc86)](Mw=>Mw[Mx(0x912)]===Ri)[0x0];Mo[Mx(0xf2)](Mo[Mx(0x6f6)]['x'],Mo[Mx(0x6f6)]['y'],Ri),this[Mx(0x13c)][Mx(0xb51)](Mo);if(Ms)this[Mx(0xbb2)][Mx(0x526)](Mo);}}var MY=[];for(var MI=0x0;MI<this[Mx(0xafd)][Mx(0x16a)];MI++){var Md=this[Mx(0xafd)][MI];Md[Mx(0x912)]>0x0&&Md[Mx(0xb1a)]!=!![]&&Md[Mx(0x7ec)]==!![]&&MY[Mx(0x526)](Md[Mx(0x912)]);}this[Mx(0xcc3)]=Math[Mx(0x6c2)](...MY);}if(this[Mx(0xc64)]===this[Mx(0x37e)][Mx(0xb92)]){var MX=![];if(MJ[Mx(0x16a)]){if(this[Mx(0xc8d)]===R2[Mx(0x58d)])this[Mx(0xba8)][MS][Mx(0x37a)]=MJ[0x0];if(this[Mx(0xc8d)]===R2[Mx(0x58d)])this[Mx(0xba8)][MW][Mx(0x37a)]=this[Mx(0xbea)](MJ[0x0]);for(let Mw=0x0;Mw<MB[Mx(0x16a)];Mw++){let MH=MB[Mw];if(MH!==Rr&&MH!==RF){let Mb=this[Mx(0x5b2)](MH);Mb===this[Mx(0xba8)][MS][Mx(0x37a)]?this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x526)](MH):(MG=!![],this[Mx(0xba8)][MW][Mx(0x7de)][Mx(0x526)](MH));}}}if(Mg){this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x16a)]>=0x7&&this[Mx(0xc8d)]===R2[Mx(0x9a4)]&&!Mv&&!MG?(Eb=MS,this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x526)](0x8)):(Eb=MW,this[Mx(0xba8)][MW][Mx(0x7de)][Mx(0x526)](0x8)),this[Mx(0x1f4)](!![]);return;}else{if(Mv||this[Mx(0x7e7)]===RC||this[Mx(0x7e7)]!==this[Mx(0xba8)][MS][Mx(0x37a)]&&this[Mx(0xc8d)]===R2[Mx(0x9a4)]||this[Mx(0xba8)][MS][Mx(0x37a)]===RC&&this[Mx(0x7e7)]===RF)Mf=!![],this[Mx(0x1ff)]=!![],this[Mx(0xbb2)][Mx(0x526)](this[Mx(0x287)]);else{if(MJ[Mx(0x16a)]==0x0)Mf=!![];else{if(MJ[Mx(0x16a)]>0x0&&this[Mx(0xc8d)]===R2[Mx(0x58d)])MN=R2[Mx(0x9a4)];else MJ[Mx(0x16a)]>0x0&&this[Mx(0xc8d)]===R2[Mx(0x9a4)]&&(MJ[0x0]!==this[Mx(0xba8)][MS][Mx(0x37a)]&&(Mf=!![]));}}}this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x16a)]>0x6&&(this[Mx(0xba8)][MS][Mx(0x37a)]=RF),this[Mx(0xba8)][MW][Mx(0x7de)][Mx(0x16a)]>0x6&&(this[Mx(0xba8)][MW][Mx(0x37a)]=RF),Mf&&this[Mx(0xb73)]();}if(this[Mx(0xc64)]===this[Mx(0x37e)][Mx(0x271)]||this[Mx(0xc64)]===this[Mx(0x37e)][Mx(0x2ee)]){var MX=![];if(MJ[Mx(0x16a)]){if(this[Mx(0xc8d)]===R2[Mx(0x928)]){this[Mx(0xba8)][MS][Mx(0x37a)]=MJ[0x0],this[Mx(0xba8)][MW][Mx(0x37a)]=this[Mx(0xbea)](MJ[0x0]);if(this[Mx(0x7e7)]!==RF)this[Mx(0x7e7)]=MJ[0x0];for(let P0=0x0;P0<this[Mx(0x40a)][Mx(0x16a)];P0++){let P1=this[Mx(0x40a)][P0],P2=this[Mx(0x5b2)](P1);P1!==Rr&&P1!==RF&&(P2===this[Mx(0xba8)][MS][Mx(0x37a)]?this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x526)](P1):this[Mx(0xba8)][MW][Mx(0x7de)][Mx(0x526)](P1));}MN=R2[Mx(0x9a4)];}else{if(this[Mx(0xc8d)]===R2[Mx(0x9a4)])for(let P3=0x0;P3<MB[Mx(0x16a)];P3++){let P4=MB[P3];if(P4!==Rr&&P4!==RF){let P5=this[Mx(0x5b2)](P4);P5===this[Mx(0xba8)][MS][Mx(0x37a)]?this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x526)](P4):(MG=!![],this[Mx(0xba8)][MW][Mx(0x7de)][Mx(0x526)](P4));}}}}if(Mg){this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x16a)]>=0x7&&this[Mx(0xc8d)]===R2[Mx(0x9a4)]&&!Mv&&!MG&&this[Mx(0x230)]===this[Mx(0xa89)][Mx(0xd1d)]+0x1?(Eb=MS,this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x526)](0x8)):(Eb=MW,this[Mx(0xba8)][MW][Mx(0x7de)][Mx(0x526)](0x8)),this[Mx(0x1f4)](!![]);return;}else{if(Mv||this[Mx(0x7e7)]===RC||this[Mx(0x7e7)]!==this[Mx(0xba8)][MS][Mx(0x37a)]&&this[Mx(0xba8)][MS][Mx(0x37a)]!==RC||this[Mx(0xba8)][MS][Mx(0x37a)]===RC&&this[Mx(0x7e7)]===RF)Mf=!![],this[Mx(0x1ff)]=!![],this[Mx(0xbb2)][Mx(0x526)](this[Mx(0x287)]);else{if(MJ[Mx(0x16a)]==0x0)Mf=!![];else{if(this[Mx(0xc8d)]===R2[Mx(0x58d)])MN=R2[Mx(0x928)];else MJ[Mx(0x16a)]>0x0&&this[Mx(0xc8d)]===R2[Mx(0x9a4)]&&(MJ[0x0]!==this[Mx(0xba8)][MS][Mx(0x37a)]&&(Mf=!![]));}}}this[Mx(0xba8)][MS][Mx(0x7de)][Mx(0x16a)]>0x6&&(this[Mx(0xba8)][MS][Mx(0x37a)]=RF),this[Mx(0xba8)][MW][Mx(0x7de)][Mx(0x16a)]>0x6&&(this[Mx(0xba8)][MW][Mx(0x37a)]=RF),Mf&&this[Mx(0xb73)]();}EL=DI[Mx(0x45b)],this[Mx(0xc8d)]=MN;},R5[n2(0xa3a)][n2(0xcd1)]=function(){var MS=n2;this[MS(0xafd)][MS(0xd25)](MW=>{var Mv=MS;try{var Mg=JSON[Mv(0x5c2)](MW[Mv(0x889)]);Mg&&Number(Math[Mv(0x836)](Mg['x']))>=0x0&&Number(Math[Mv(0x836)](Mg['y']))>=0x0&&!MW[Mv(0xb1a)]&&(MW[Mv(0x6f6)]={'x':Mg['x'],'y':Mg['y']},MW['x']=Mg['x'],MW['y']=Mg['y'],MW[Mv(0x63a)]=new LT());}catch(MJ){}});},R5[n2(0xa3a)][n2(0x45f)]=function(){var MS=n2;this[MS(0xafd)][MS(0xd25)](MW=>{var Mv=MS;!MW[Mv(0xb1a)]&&(MW[Mv(0x6c5)]={'x':MW['x'],'y':MW['y']},MW[Mv(0xcde)]=JSON[Mv(0x689)](MW[Mv(0x6c5)]));});},R5[n2(0xa3a)][n2(0x9c7)]=function(){var MS=n2;this[MS(0xafd)][MS(0xd25)](MW=>{var Mv=MS;!MW[Mv(0xb1a)]&&(MW[Mv(0x6f6)]={'x':MW['x'],'y':MW['y']},MW[Mv(0x889)]=JSON[Mv(0x689)](MW[Mv(0x6f6)]));});};function R6(){var MS=n2;if(!EE||!EE[MS(0x545)])return![];var MW=![],Mv=EE[MS(0x545)][MS(0x212)],Mg=String(EE[MS(0x486)]);return(Mv===0x1||Mv===0x2)&&(MS(0x491)!==Mg&&(MW=!![])),(Mv===0x3||Mv===0x4)&&(MS(0x31d)!==Mg&&(MW=!![])),(Mv===0x5||Mv===0x6)&&(MS(0x87b)!==Mg&&(MW=!![])),(Mv===0x7||Mv===0x8)&&(MS(0x4af)!==Mg&&(MW=!![])),(Mv===0x9||Mv===0xa)&&(MS(0x785)!==Mg&&(MW=!![])),(Mv===0xb||Mv===0xc)&&(MS(0x37d)!==Mg&&(MW=!![])),(Mv===0xd||Mv===0xe)&&(MS(0x5f2)!==Mg&&(MW=!![])),(Mv===0xf||Mv===0x10)&&(MS(0x37d)!==Mg&&(MW=!![])),MW&&(EE[MS(0xae7)]||El&&El[MS(0x734)])&&nu[MS(0x226)[MS(0x711)](',','')](),MW;}R5[n2(0xa3a)][n2(0xc2c)]=function(MS){var MW=n2,Mv=MS?.[MW(0x402)]||0x11,Mg=MS?.[MW(0x5d3)]||0xf,MJ=MS?.[MW(0x2a8)]||0xf6,MB=MS?.[MW(0x3ab)]||0x233-0x2,Ms=MS?.[MW(0x4ca)]||0x124,My=MS?.[MW(0xd02)]||0xf6-0x8,Mq=MS?.[MW(0x361)]||0xf6-0xe,Mx=MS?.[MW(0x445)]||0x28,MZ=MS?.[MW(0x252)]||0x3f+0x2,Mf=MS?.[MW(0xb60)]||0x17+0x8,MN=MS?.[MW(0x2a7)]||0x17+0x4,MG=MS?.[MW(0x952)]||0x28,MF=MS?.[MW(0xbd9)]||0x2f+0xb,Mi=MS?.[MW(0x884)]||0x3c,Mr=MS?.[MW(0x740)]||0xdc,Mt=MS?.[MW(0x21d)]||MS?.[MW(0x740)]+0x9,MC=MS?.[MW(0x6fb)]||parseFloat(MW(0x435)),MT=MC*0x2+0x1,Mz=MS?.[MW(0x52f)]||0x2f,Mh=MS?.[MW(0xc66)]||0x1,Mm=MS?.[MW(0x6f4)]||0x2d,Mc=LQ(new LT(Mz*parseFloat(MW(0x4cc)),0x0),-Mt),Mj=LQ(new LT(Mz*parseFloat(MW(0x4cc)),0x0),-Mr),MO=LQ(new LT(Mz*parseFloat(MW(0x4cc)),0x0),-Mt),Mu=LQ(new LT(Mz*parseFloat(MW(0x4cc)),0x0),-Mr),MU=LQ(new LT(Mz*parseFloat('.3'),0x0),Mi),MY=LQ(new LT(Mz*parseFloat('.3'),0x0),Mi),MI=LQ(new LT(Mz*parseFloat('.3'),0x0),Mi),Md=LQ(new LT(Mz*parseFloat('.3'),0x0),Mi),MA=LQ(new LT(Mz*parseFloat(MW(0x4cc)),0x0),-Mt),Mo=LQ(new LT(Mz*parseFloat(MW(0x4cc)),0x0),-Mr),MX=LQ(new LT(Mz*parseFloat(MW(0x4cc)),0x0),-Mt),MQ=LQ(new LT(Mz*parseFloat(MW(0x4cc)),0x0),-Mr);this[MW(0x62f)]={'left':{'x1':Mv+MZ-MN,'y1':Mg+Mx+Mf,'x2':Mv+MZ-MN,'y2':Mg+Mx+Mf+Mq},'top1':{'x1':Mv+MZ,'y1':Mg+Mx,'x2':Mv+MZ+My,'y2':Mg+Mx},'top2':{'x1':Mv+MZ+My+MF,'y1':Mg+Mx,'x2':Mv+MZ+My+MF+My,'y2':Mg+Mx},'right':{'x1':Mv+MZ+MB,'y1':Mg+Mx+Mf,'x2':Mv+MZ+MB,'y2':Mg+Mx+Mf+Mq},'bottom1':{'x1':Mv+MZ,'y1':Mg+Mx+Ms,'x2':Mv+MZ+My,'y2':Mg+Mx+Ms},'bottom2':{'x1':Mv+MZ+My+MF,'y1':Mg+Mx+Ms,'x2':Mv+MZ+My+MF+My,'y2':Mg+Mx+Ms}},this[MW(0x314)]={'top_left1':{'x1':Mv+0x28,'y1':Mg+0x28,'x2':Mv+0x3f,'y2':Mg+0x28,'isCornerLock':!![],'cornerID':0x0},'top_left2':{'x1':Mv+0x28,'y1':Mg+0x28,'x2':Mv+0x28,'y2':Mg+0x3f,'isCornerLock':!![],'cornerID':0x0},'top_center':{'x1':Mv+0x164,'y1':Mg+0x28,'x2':Mv+0x3f+MJ,'y2':Mg+0x28,'isCornerLock':!![],'cornerID':0x1},'top_right1':{'x1':Mv+0x272,'y1':Mg+0x28,'x2':Mv+0x164+MJ,'y2':Mg+0x28,'isCornerLock':!![],'cornerID':0x2},'top_right2':{'x1':Mv+0x272,'y1':Mg+0x3f,'x2':Mv+0x272,'y2':Mg+0x28,'isCornerLock':!![],'cornerID':0x2},'bottom_left1':{'x1':Mv+0x28,'y1':Mg+0x14c,'x2':Mv+0x3f,'y2':Mg+0x14c,'isCornerLock':!![],'cornerID':0x3},'bottom_left2':{'x1':Mv+0x28,'y1':Mg+0x3f+MJ,'x2':Mv+0x28,'y2':Mg+0x14c,'isCornerLock':!![],'cornerID':0x3},'bottom_center':{'x1':Mv+0x164,'y1':Mg+0x14c,'x2':Mv+0x3f+MJ,'y2':Mg+0x14c,'isCornerLock':!![],'cornerID':0x4},'bottom_right1':{'x1':Mv+0x272,'y1':Mg+0x3f+MJ,'x2':Mv+0x272,'y2':Mg+0x14c,'isCornerLock':!![],'cornerID':0x5},'bottom_right2':{'x1':Mv+0x272,'y1':Mg+0x14c,'x2':Mv+0x164+MJ,'y2':Mg+0x14c,'isCornerLock':!![],'cornerID':0x5}},this[MW(0x199)]={'top_left':[{'x1':this[MW(0x62f)][MW(0x94b)]['x1'],'y1':this[MW(0x62f)][MW(0x94b)]['y1'],'x2':this[MW(0x62f)][MW(0x94b)]['x1']+Mc['x'],'y2':this[MW(0x62f)][MW(0x94b)]['y1']+Mc['y']},{'x1':this[MW(0x62f)][MW(0x94b)]['x1']+Mc['x'],'y1':this[MW(0x62f)][MW(0x94b)]['y1']+Mc['y'],'x2':this[MW(0x62f)][MW(0x282)]['x1']+Mj['x'],'y2':this[MW(0x62f)][MW(0x282)]['y1']+Mj['y'],'no_aim':!![]},{'x1':this[MW(0x62f)][MW(0x282)]['x1'],'y1':this[MW(0x62f)][MW(0x282)]['y1'],'x2':this[MW(0x62f)][MW(0x282)]['x1']+Mj['x'],'y2':this[MW(0x62f)][MW(0x282)]['y1']+Mj['y']}],'top_center':[{'x1':this[MW(0x62f)][MW(0x282)]['x2'],'y1':this[MW(0x62f)][MW(0x282)]['y2'],'x2':this[MW(0x62f)][MW(0x282)]['x2']+MU['x'],'y2':this[MW(0x62f)][MW(0x282)]['y2']+MU['y']},{'x1':this[MW(0x62f)][MW(0x282)]['x2']+MU['x'],'y1':this[MW(0x62f)][MW(0x282)]['y2']+MU['y'],'x2':this[MW(0x62f)][MW(0x282)]['x2']+MU['x'],'y2':this[MW(0x62f)][MW(0x282)]['y2']+MU['y']-0xf},{'x1':this[MW(0x62f)][MW(0x282)]['x2']+MU['x'],'y1':this[MW(0x62f)][MW(0x282)]['y2']+MU['y']-0xf,'x2':this[MW(0x62f)][MW(0xc29)]['x1']-MY['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y1']+MY['y']-0xf,'no_aim':!![]},{'x1':this[MW(0x62f)][MW(0xc29)]['x1']-MY['x'],'y1':this[MW(0x62f)][MW(0xc29)]['y1']+MY['y'],'x2':this[MW(0x62f)][MW(0xc29)]['x1']-MY['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y1']+MY['y']-0x14},{'x1':this[MW(0x62f)][MW(0xc29)]['x1'],'y1':this[MW(0x62f)][MW(0xc29)]['y1'],'x2':this[MW(0x62f)][MW(0xc29)]['x1']-MY['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y1']+MY['y']}],'top_right':[{'x1':this[MW(0x62f)][MW(0x35d)]['x1'],'y1':this[MW(0x62f)][MW(0x35d)]['y1'],'x2':this[MW(0x62f)][MW(0x35d)]['x1']-MA['x'],'y2':this[MW(0x62f)][MW(0x35d)]['y1']+MA['y']},{'x1':this[MW(0x62f)][MW(0x35d)]['x1']-MA['x'],'y1':this[MW(0x62f)][MW(0x35d)]['y1']+MA['y'],'x2':this[MW(0x62f)][MW(0xc29)]['x2']-Mo['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y2']+Mo['y'],'no_aim':!![]},{'x1':this[MW(0x62f)][MW(0xc29)]['x2'],'y1':this[MW(0x62f)][MW(0xc29)]['y2'],'x2':this[MW(0x62f)][MW(0xc29)]['x2']-Mo['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y2']+Mo['y']}],'bottom_left':[{'x1':this[MW(0x62f)][MW(0x94b)]['x2'],'y1':this[MW(0x62f)][MW(0x94b)]['y2'],'x2':this[MW(0x62f)][MW(0x94b)]['x2']+MO['x'],'y2':this[MW(0x62f)][MW(0x94b)]['y2']-MO['y']},{'x1':this[MW(0x62f)][MW(0x94b)]['x2']+MO['x'],'y1':this[MW(0x62f)][MW(0x94b)]['y2']-MO['y'],'x2':this[MW(0x62f)][MW(0x286)]['x1']+Mu['x'],'y2':this[MW(0x62f)][MW(0x286)]['y1']-Mu['y'],'no_aim':!![]},{'x1':this[MW(0x62f)][MW(0x286)]['x1'],'y1':this[MW(0x62f)][MW(0x286)]['y1'],'x2':this[MW(0x62f)][MW(0x286)]['x1']+Mu['x'],'y2':this[MW(0x62f)][MW(0x286)]['y1']-Mu['y']}],'bottom_center':[{'x1':this[MW(0x62f)][MW(0x286)]['x2'],'y1':this[MW(0x62f)][MW(0x286)]['y2'],'x2':this[MW(0x62f)][MW(0x286)]['x2']+MI['x'],'y2':this[MW(0x62f)][MW(0x286)]['y2']-MI['y']},{'x1':this[MW(0x62f)][MW(0x286)]['x2']+MI['x'],'y1':this[MW(0x62f)][MW(0x286)]['y2']-MI['y'],'x2':this[MW(0x62f)][MW(0x286)]['x2']+MI['x'],'y2':this[MW(0x62f)][MW(0x286)]['y2']-MI['y']+0x14},{'x1':this[MW(0x62f)][MW(0x286)]['x2']+MI['x'],'y1':this[MW(0x62f)][MW(0x286)]['y2']-MI['y']+0x14,'x2':this[MW(0x62f)][MW(0xc26)]['x1']-Md['x'],'y2':this[MW(0x62f)][MW(0xc26)]['y1']-Md['y']+0x14,'no_aim':!![]},{'x1':this[MW(0x62f)][MW(0xc26)]['x1']-Md['x'],'y1':this[MW(0x62f)][MW(0xc26)]['y1']-Md['y'],'x2':this[MW(0x62f)][MW(0xc26)]['x1']-Md['x'],'y2':this[MW(0x62f)][MW(0xc26)]['y1']-Md['y']+0x14},{'x1':this[MW(0x62f)][MW(0xc26)]['x1'],'y1':this[MW(0x62f)][MW(0xc26)]['y1'],'x2':this[MW(0x62f)][MW(0xc26)]['x1']-Md['x'],'y2':this[MW(0x62f)][MW(0xc26)]['y1']-Md['y']}],'bottom_right':[{'x1':this[MW(0x62f)][MW(0x35d)]['x2'],'y1':this[MW(0x62f)][MW(0x35d)]['y2'],'x2':this[MW(0x62f)][MW(0x35d)]['x2']-MO['x'],'y2':this[MW(0x62f)][MW(0x35d)]['y2']-MO['y']},{'x1':this[MW(0x62f)][MW(0x35d)]['x2']-MO['x'],'y1':this[MW(0x62f)][MW(0x35d)]['y2']-MO['y'],'x2':this[MW(0x62f)][MW(0xc26)]['x2']-Mu['x'],'y2':this[MW(0x62f)][MW(0xc26)]['y2']-Mu['y'],'no_aim':!![]},{'x1':this[MW(0x62f)][MW(0xc26)]['x2'],'y1':this[MW(0x62f)][MW(0xc26)]['y2'],'x2':this[MW(0x62f)][MW(0xc26)]['x2']-Mu['x'],'y2':this[MW(0x62f)][MW(0xc26)]['y2']-Mu['y']}]},this[MW(0x5f6)]={'top_left':[{'x':this[MW(0x62f)][MW(0x94b)]['x1']-(MC+Mh),'y':this[MW(0x62f)][MW(0x94b)]['y1']+MC*0.22},{'x':this[MW(0x62f)][MW(0x282)]['x1']+MC*0.45,'y':this[MW(0x62f)][MW(0x282)]['y2']-(MC+Mh)}],'top_center':[{'x':this[MW(0x62f)][MW(0x282)]['x2']-MC*0.65,'y':this[MW(0x62f)][MW(0x282)]['y2']-(MC+Mh)},{'x':this[MW(0x62f)][MW(0x282)]['x2']-MC*0.05,'y':this[MW(0x62f)][MW(0x282)]['y2']-MC*0x8},{'x':this[MW(0x62f)][MW(0xc29)]['x1']+MC*0.05,'y':this[MW(0x62f)][MW(0xc29)]['y1']-MC*0x8},{'x':this[MW(0x62f)][MW(0xc29)]['x1']+MC*0.65,'y':this[MW(0x62f)][MW(0xc29)]['y1']-(MC+Mh)}],'top_right':[{'x':this[MW(0x62f)][MW(0x35d)]['x1']+(MC+Mh),'y':this[MW(0x62f)][MW(0x35d)]['y1']+MC*0.22},{'x':this[MW(0x62f)][MW(0xc29)]['x2']-MC*0.45,'y':this[MW(0x62f)][MW(0xc29)]['y2']-(MC+Mh)}],'bottom_left':[{'x':this[MW(0x62f)][MW(0x94b)]['x2']-(MC+Mh),'y':this[MW(0x62f)][MW(0x94b)]['y2']-MC*0.22},{'x':this[MW(0x62f)][MW(0x286)]['x1']+MC*0.45,'y':this[MW(0x62f)][MW(0x286)]['y2']+(MC+Mh)}],'bottom_center':[{'x':this[MW(0x62f)][MW(0x286)]['x2']-MC*0.6,'y':this[MW(0x62f)][MW(0x286)]['y2']+(MC+Mh)},{'x':this[MW(0x62f)][MW(0x286)]['x2']-MC*0.05,'y':this[MW(0x62f)][MW(0x286)]['y2']+MC*0x8},{'x':this[MW(0x62f)][MW(0xc26)]['x1']+MC*0.05,'y':this[MW(0x62f)][MW(0xc26)]['y1']+MC*0x8},{'x':this[MW(0x62f)][MW(0xc26)]['x1']+MC*0.6,'y':this[MW(0x62f)][MW(0xc26)]['y1']+(MC+Mh)}],'bottom_right':[{'x':this[MW(0x62f)][MW(0x35d)]['x2']+(MC+Mh),'y':this[MW(0x62f)][MW(0x35d)]['y2']-MC*0.22},{'x':this[MW(0x62f)][MW(0xc26)]['x2']-MC*0.45,'y':this[MW(0x62f)][MW(0xc26)]['y2']+(MC+Mh)}]},this[MW(0xd36)]=[],this[MW(0x6c6)]=[{'x':Lz(this[MW(0x199)][MW(0x12f)][0x1]['x1'],this[MW(0x199)][MW(0x12f)][0x1]['y1'],this[MW(0x199)][MW(0x12f)][0x1]['x2'],this[MW(0x199)][MW(0x12f)][0x1]['y2'])['x'],'y':Lz(this[MW(0x199)][MW(0x12f)][0x1]['x1'],this[MW(0x199)][MW(0x12f)][0x1]['y1'],this[MW(0x199)][MW(0x12f)][0x1]['x2'],this[MW(0x199)][MW(0x12f)][0x1]['y2'])['y'],'lowSpeedFallDist':RJ*1.9,'higherSpeedFallDist':RJ*1.9,'x1':Lz(this[MW(0x199)][MW(0x12f)][0x1]['x1'],this[MW(0x199)][MW(0x12f)][0x1]['y1'],this[MW(0x199)][MW(0x12f)][0x1]['x2'],this[MW(0x199)][MW(0x12f)][0x1]['y2'])['x'],'y1':Lz(this[MW(0x199)][MW(0x12f)][0x1]['x1'],this[MW(0x199)][MW(0x12f)][0x1]['y1'],this[MW(0x199)][MW(0x12f)][0x1]['x2'],this[MW(0x199)][MW(0x12f)][0x1]['y2'])['y'],'x2':Lz(this[MW(0x199)][MW(0x12f)][0x1]['x1'],this[MW(0x199)][MW(0x12f)][0x1]['y1'],this[MW(0x199)][MW(0x12f)][0x1]['x2'],this[MW(0x199)][MW(0x12f)][0x1]['y2'])['x']+LQ(new LT(Mz*0.8,0x0),-0x2d)['x'],'y2':Lz(this[MW(0x199)][MW(0x12f)][0x1]['x1'],this[MW(0x199)][MW(0x12f)][0x1]['y1'],this[MW(0x199)][MW(0x12f)][0x1]['x2'],this[MW(0x199)][MW(0x12f)][0x1]['y2'])['y']+LQ(new LT(Mz*0.8,0x0),-0x2d)['y'],'x_ai':Mv+0x30,'y_ai':Mg+0x30},{'x':Lz(this[MW(0x199)][MW(0x12c)][0x2]['x1'],this[MW(0x199)][MW(0x12c)][0x2]['y1'],this[MW(0x199)][MW(0x12c)][0x2]['x2'],this[MW(0x199)][MW(0x12c)][0x2]['y2'])['x'],'y':Lz(this[MW(0x199)][MW(0x12c)][0x2]['x1'],this[MW(0x199)][MW(0x12c)][0x2]['y1'],this[MW(0x199)][MW(0x12c)][0x2]['x2'],this[MW(0x199)][MW(0x12c)][0x2]['y2'])['y']+0x0,'lowSpeedFallDist':RJ*2.2,'higherSpeedFallDist':RJ*2.2,'x1':Lz(this[MW(0x199)][MW(0x12c)][0x2]['x1'],this[MW(0x199)][MW(0x12c)][0x2]['y1'],this[MW(0x199)][MW(0x12c)][0x2]['x2'],this[MW(0x199)][MW(0x12c)][0x2]['y2'])['x'],'y1':Lz(this[MW(0x199)][MW(0x12c)][0x2]['x1'],this[MW(0x199)][MW(0x12c)][0x2]['y1'],this[MW(0x199)][MW(0x12c)][0x2]['x2'],this[MW(0x199)][MW(0x12c)][0x2]['y2'])['y']+0x0,'x2':Lz(this[MW(0x199)][MW(0x12c)][0x2]['x1'],this[MW(0x199)][MW(0x12c)][0x2]['y1'],this[MW(0x199)][MW(0x12c)][0x2]['x2'],this[MW(0x199)][MW(0x12c)][0x2]['y2'])['x']+LQ(new LT(Mz*0.75,0x0),-0x5a)['x'],'y2':Lz(this[MW(0x199)][MW(0x12c)][0x2]['x1'],this[MW(0x199)][MW(0x12c)][0x2]['y1'],this[MW(0x199)][MW(0x12c)][0x2]['x2'],this[MW(0x199)][MW(0x12c)][0x2]['y2'])['y']+LQ(new LT(Mz*0.75,0x0),-0x5a)['y'],'x_ai':Mv+0x14d,'y_ai':Mg+0x2c},{'x':Lz(this[MW(0x199)][MW(0xb71)][0x1]['x1'],this[MW(0x199)][MW(0xb71)][0x1]['y1'],this[MW(0x199)][MW(0xb71)][0x1]['x2'],this[MW(0x199)][MW(0xb71)][0x1]['y2'])['x'],'y':Lz(this[MW(0x199)][MW(0xb71)][0x1]['x1'],this[MW(0x199)][MW(0xb71)][0x1]['y1'],this[MW(0x199)][MW(0xb71)][0x1]['x2'],this[MW(0x199)][MW(0xb71)][0x1]['y2'])['y'],'lowSpeedFallDist':RJ*1.9,'higherSpeedFallDist':RJ*1.9,'x1':Lz(this[MW(0x199)][MW(0xb71)][0x1]['x1'],this[MW(0x199)][MW(0xb71)][0x1]['y1'],this[MW(0x199)][MW(0xb71)][0x1]['x2'],this[MW(0x199)][MW(0xb71)][0x1]['y2'])['x'],'y1':Lz(this[MW(0x199)][MW(0xb71)][0x1]['x1'],this[MW(0x199)][MW(0xb71)][0x1]['y1'],this[MW(0x199)][MW(0xb71)][0x1]['x2'],this[MW(0x199)][MW(0xb71)][0x1]['y2'])['y'],'x2':Lz(this[MW(0x199)][MW(0xb71)][0x1]['x1'],this[MW(0x199)][MW(0xb71)][0x1]['y1'],this[MW(0x199)][MW(0xb71)][0x1]['x2'],this[MW(0x199)][MW(0xb71)][0x1]['y2'])['x']+LQ(new LT(Mz*0.8,0x0),-0x87)['x'],'y2':Lz(this[MW(0x199)][MW(0xb71)][0x1]['x1'],this[MW(0x199)][MW(0xb71)][0x1]['y1'],this[MW(0x199)][MW(0xb71)][0x1]['x2'],this[MW(0x199)][MW(0xb71)][0x1]['y2'])['y']+LQ(new LT(Mz*0.8,0x0),-0x87)['y'],'x_ai':Mv+0x268,'y_ai':Mg+0x30},{'x':Lz(this[MW(0x199)][MW(0x6c4)][0x1]['x1'],this[MW(0x199)][MW(0x6c4)][0x1]['y1'],this[MW(0x199)][MW(0x6c4)][0x1]['x2'],this[MW(0x199)][MW(0x6c4)][0x1]['y2'])['x'],'y':Lz(this[MW(0x199)][MW(0x6c4)][0x1]['x1'],this[MW(0x199)][MW(0x6c4)][0x1]['y1'],this[MW(0x199)][MW(0x6c4)][0x1]['x2'],this[MW(0x199)][MW(0x6c4)][0x1]['y2'])['y'],'lowSpeedFallDist':RJ*1.9,'higherSpeedFallDist':RJ*1.9,'x1':Lz(this[MW(0x199)][MW(0x6c4)][0x1]['x1'],this[MW(0x199)][MW(0x6c4)][0x1]['y1'],this[MW(0x199)][MW(0x6c4)][0x1]['x2'],this[MW(0x199)][MW(0x6c4)][0x1]['y2'])['x'],'y1':Lz(this[MW(0x199)][MW(0x6c4)][0x1]['x1'],this[MW(0x199)][MW(0x6c4)][0x1]['y1'],this[MW(0x199)][MW(0x6c4)][0x1]['x2'],this[MW(0x199)][MW(0x6c4)][0x1]['y2'])['y'],'x2':Lz(this[MW(0x199)][MW(0x6c4)][0x1]['x1'],this[MW(0x199)][MW(0x6c4)][0x1]['y1'],this[MW(0x199)][MW(0x6c4)][0x1]['x2'],this[MW(0x199)][MW(0x6c4)][0x1]['y2'])['x']+LQ(new LT(Mz*0.8,0x0),-0x2d)['x'],'y2':Lz(this[MW(0x199)][MW(0x6c4)][0x1]['x1'],this[MW(0x199)][MW(0x6c4)][0x1]['y1'],this[MW(0x199)][MW(0x6c4)][0x1]['x2'],this[MW(0x199)][MW(0x6c4)][0x1]['y2'])['y']-LQ(new LT(Mz*0.8,0x0),-0x2d)['y'],'x_ai':Mv+0x30,'y_ai':Mg+0x144},{'x':Lz(this[MW(0x199)][MW(0xd30)][0x2]['x1'],this[MW(0x199)][MW(0xd30)][0x2]['y1'],this[MW(0x199)][MW(0xd30)][0x2]['x2'],this[MW(0x199)][MW(0xd30)][0x2]['y2'])['x'],'y':Lz(this[MW(0x199)][MW(0xd30)][0x2]['x1'],this[MW(0x199)][MW(0xd30)][0x2]['y1'],this[MW(0x199)][MW(0xd30)][0x2]['x2'],this[MW(0x199)][MW(0xd30)][0x2]['y2'])['y']-0x0,'lowSpeedFallDist':RJ*2.2,'higherSpeedFallDist':RJ*2.2,'x1':Lz(this[MW(0x199)][MW(0xd30)][0x2]['x1'],this[MW(0x199)][MW(0xd30)][0x2]['y1'],this[MW(0x199)][MW(0xd30)][0x2]['x2'],this[MW(0x199)][MW(0xd30)][0x2]['y2'])['x'],'y1':Lz(this[MW(0x199)][MW(0xd30)][0x2]['x1'],this[MW(0x199)][MW(0xd30)][0x2]['y1'],this[MW(0x199)][MW(0xd30)][0x2]['x2'],this[MW(0x199)][MW(0xd30)][0x2]['y2'])['y']-0x0,'x2':Lz(this[MW(0x199)][MW(0xd30)][0x2]['x1'],this[MW(0x199)][MW(0xd30)][0x2]['y1'],this[MW(0x199)][MW(0xd30)][0x2]['x2'],this[MW(0x199)][MW(0xd30)][0x2]['y2'])['x']+LQ(new LT(Mz*0.75,0x0),-0x5a)['x'],'y2':Lz(this[MW(0x199)][MW(0xd30)][0x2]['x1'],this[MW(0x199)][MW(0xd30)][0x2]['y1'],this[MW(0x199)][MW(0xd30)][0x2]['x2'],this[MW(0x199)][MW(0xd30)][0x2]['y2'])['y']-LQ(new LT(Mz*0.75,0x0),-0x5a)['y'],'x_ai':Mv+0x14d,'y_ai':Mg+0x148},{'x':Lz(this[MW(0x199)][MW(0x24b)][0x1]['x1'],this[MW(0x199)][MW(0x24b)][0x1]['y1'],this[MW(0x199)][MW(0x24b)][0x1]['x2'],this[MW(0x199)][MW(0x24b)][0x1]['y2'])['x'],'y':Lz(this[MW(0x199)][MW(0x24b)][0x1]['x1'],this[MW(0x199)][MW(0x24b)][0x1]['y1'],this[MW(0x199)][MW(0x24b)][0x1]['x2'],this[MW(0x199)][MW(0x24b)][0x1]['y2'])['y'],'lowSpeedFallDist':RJ*1.9,'higherSpeedFallDist':RJ*1.9,'x1':Lz(this[MW(0x199)][MW(0x24b)][0x1]['x1'],this[MW(0x199)][MW(0x24b)][0x1]['y1'],this[MW(0x199)][MW(0x24b)][0x1]['x2'],this[MW(0x199)][MW(0x24b)][0x1]['y2'])['x'],'y1':Lz(this[MW(0x199)][MW(0x24b)][0x1]['x1'],this[MW(0x199)][MW(0x24b)][0x1]['y1'],this[MW(0x199)][MW(0x24b)][0x1]['x2'],this[MW(0x199)][MW(0x24b)][0x1]['y2'])['y'],'x2':Lz(this[MW(0x199)][MW(0x24b)][0x1]['x1'],this[MW(0x199)][MW(0x24b)][0x1]['y1'],this[MW(0x199)][MW(0x24b)][0x1]['x2'],this[MW(0x199)][MW(0x24b)][0x1]['y2'])['x']+LQ(new LT(Mz*0.8,0x0),-0x87)['x'],'y2':Lz(this[MW(0x199)][MW(0x24b)][0x1]['x1'],this[MW(0x199)][MW(0x24b)][0x1]['y1'],this[MW(0x199)][MW(0x24b)][0x1]['x2'],this[MW(0x199)][MW(0x24b)][0x1]['y2'])['y']-LQ(new LT(Mz*0.8,0x0),-0x87)['y'],'x_ai':Mv+0x269,'y_ai':Mg+0x143}];if(MS&&!MS[MW(0x22b)])var Ma={'x':0x0,'y':0x0},MK={'x':-(0x14*1.5),'y':0x14*1.5},Ml={'x':0x32,'y':0x32},MV=0xf,Mk=0x12c,Mw=0x12c,MH=0x14*2.3,MB=0x258,Ms=0x190,Mb=0xdc,P0=0xb4+0x32,Mi=-0x46,P1=0xf,P2=0x14;else var P3=MS[MW(0x3b5)],P4=MS[MW(0xb0a)],Ma=MS[MW(0x6ca)],MK=MS[MW(0x541)],Ml=MS[MW(0x5e5)],MV=MS[MW(0x22b)],Mk=MS[MW(0xd43)],Mw=MS[MW(0xc38)],MH=MS[MW(0x766)],MB=MS[MW(0x3ab)],Ms=MS[MW(0x4ca)],Mb=MS[MW(0x51f)],P0=MS[MW(0x9f5)],Mi=MS[MW(0x884)],P1=MS[MW(0x93d)],P2=MS[MW(0x821)];this[MW(0x62f)]={'left':{'x1':Ml['x']+Ma['x']+MK['x'],'y1':Ml['y']+Ma['y']+MK['y'],'x2':Ml['x']+Ma['x']+MK['x'],'y2':Ml['y']+Ma['y']+La(0x5a,Mw)['y']+MK['y']},'top1':{'x1':Ml['x']+Ma['x'],'y1':Ml['y']+Ma['y'],'x2':Ml['x']+Ma['x']+La(0x0,Mk)['x'],'y2':Ml['y']+Ma['y']},'top2':{'x1':Ml['x']+Ma['x']+La(0x0,Mk)['x']+MH,'y1':Ml['y']+Ma['y'],'x2':Ml['x']+Ma['x']+La(0x5a,Mk)['y']+MH+La(0x5a,Mk)['y'],'y2':Ml['y']+Ma['y']},'bottom1':{'x1':Ml['x']+Ma['x'],'y1':Ml['y']+Ma['y']+La(0x5a,Mw)['y']+MK['y']*0x2,'x2':Ml['x']+Ma['x']+La(0x0,Mk)['x'],'y2':Ml['y']+Ma['y']+La(0x5a,Mw)['y']+MK['y']*0x2},'bottom2':{'x1':MH+Ml['x']+Ma['x']+La(0x0,Mk)['x'],'y1':Ml['y']+Ma['y']+La(0x5a,Mw)['y']+MK['y']*0x2,'x2':Ml['x']+Ma['x']+La(0x5a,Mk)['y']+MH+La(0x5a,Mk)['y'],'y2':Ml['y']+Ma['y']+La(0x5a,Mw)['y']+MK['y']*0x2},'right':{'x1':Ml['x']+Ma['x']+La(0x0,Mk)['x']+MH+La(0x0,Mk)['x']-MK['x'],'y1':Ml['y']+Ma['y']+MK['y'],'x2':Ml['x']+Ma['x']+La(0x0,Mk)['x']+MH+La(0x0,Mk)['x']-MK['x'],'y2':Ml['y']+Ma['y']+La(0x5a,Mw)['y']+MK['y']}};var P5=0x0;this[MW(0x6c6)]=[{'x':Lz(this[MW(0x62f)][MW(0x282)]['x1'],this[MW(0x62f)][MW(0x282)]['y1'],this[MW(0x62f)][MW(0x94b)]['x1'],this[MW(0x62f)][MW(0x94b)]['y1'])['x'],'y':Lz(this[MW(0x62f)][MW(0x282)]['x1'],this[MW(0x62f)][MW(0x282)]['y1'],this[MW(0x62f)][MW(0x94b)]['x1'],this[MW(0x62f)][MW(0x94b)]['y1'])['y'],'x1':Lz(this[MW(0x62f)][MW(0x282)]['x1'],this[MW(0x62f)][MW(0x282)]['y1'],this[MW(0x62f)][MW(0x94b)]['x1'],this[MW(0x62f)][MW(0x94b)]['y1'])['x']+P1,'y1':Lz(this[MW(0x62f)][MW(0x282)]['x1'],this[MW(0x62f)][MW(0x282)]['y1'],this[MW(0x62f)][MW(0x94b)]['x1'],this[MW(0x62f)][MW(0x94b)]['y1'])['y']+P1,'x2':Lz(this[MW(0x62f)][MW(0x282)]['x1'],this[MW(0x62f)][MW(0x282)]['y1'],this[MW(0x62f)][MW(0x94b)]['x1'],this[MW(0x62f)][MW(0x94b)]['y1'])['x']-P2,'y2':Lz(this[MW(0x62f)][MW(0x282)]['x1'],this[MW(0x62f)][MW(0x282)]['y1'],this[MW(0x62f)][MW(0x94b)]['x1'],this[MW(0x62f)][MW(0x94b)]['y1'])['y']-P2},{'x':Lz(this[MW(0x62f)][MW(0x282)]['x2'],this[MW(0x62f)][MW(0x282)]['y2'],this[MW(0x62f)][MW(0xc29)]['x1'],this[MW(0x62f)][MW(0xc29)]['y1'])['x'],'y':Lz(this[MW(0x62f)][MW(0x282)]['x2'],this[MW(0x62f)][MW(0x282)]['y2'],this[MW(0x62f)][MW(0xc29)]['x1'],this[MW(0x62f)][MW(0xc29)]['y1'])['y'],'x1':Lz(this[MW(0x62f)][MW(0x282)]['x2'],this[MW(0x62f)][MW(0x282)]['y2'],this[MW(0x62f)][MW(0xc29)]['x1'],this[MW(0x62f)][MW(0xc29)]['y1'])['x'],'y1':Lz(this[MW(0x62f)][MW(0x282)]['x2'],this[MW(0x62f)][MW(0x282)]['y2'],this[MW(0x62f)][MW(0xc29)]['x1'],this[MW(0x62f)][MW(0xc29)]['y1'])['y']+P1,'x2':Lz(this[MW(0x62f)][MW(0x282)]['x2'],this[MW(0x62f)][MW(0x282)]['y2'],this[MW(0x62f)][MW(0xc29)]['x1'],this[MW(0x62f)][MW(0xc29)]['y1'])['x'],'y2':Lz(this[MW(0x62f)][MW(0x282)]['x2'],this[MW(0x62f)][MW(0x282)]['y2'],this[MW(0x62f)][MW(0xc29)]['x1'],this[MW(0x62f)][MW(0xc29)]['y1'])['y']-P2*0.95},{'x':Lz(this[MW(0x62f)][MW(0xc29)]['x2'],this[MW(0x62f)][MW(0xc29)]['y2'],this[MW(0x62f)][MW(0x35d)]['x1'],this[MW(0x62f)][MW(0x35d)]['y1'])['x'],'y':Lz(this[MW(0x62f)][MW(0xc29)]['x2'],this[MW(0x62f)][MW(0xc29)]['y2'],this[MW(0x62f)][MW(0x35d)]['x1'],this[MW(0x62f)][MW(0x35d)]['y1'])['y'],'x1':Lz(this[MW(0x62f)][MW(0xc29)]['x2'],this[MW(0x62f)][MW(0xc29)]['y2'],this[MW(0x62f)][MW(0x35d)]['x1'],this[MW(0x62f)][MW(0x35d)]['y1'])['x']-P1,'y1':Lz(this[MW(0x62f)][MW(0xc29)]['x2'],this[MW(0x62f)][MW(0xc29)]['y2'],this[MW(0x62f)][MW(0x35d)]['x1'],this[MW(0x62f)][MW(0x35d)]['y1'])['y']+P1,'x2':Lz(this[MW(0x62f)][MW(0xc29)]['x2'],this[MW(0x62f)][MW(0xc29)]['y2'],this[MW(0x62f)][MW(0x35d)]['x1'],this[MW(0x62f)][MW(0x35d)]['y1'])['x']+P2,'y2':Lz(this[MW(0x62f)][MW(0xc29)]['x2'],this[MW(0x62f)][MW(0xc29)]['y2'],this[MW(0x62f)][MW(0x35d)]['x1'],this[MW(0x62f)][MW(0x35d)]['y1'])['y']-P2},{'x':Lz(this[MW(0x62f)][MW(0x286)]['x1'],this[MW(0x62f)][MW(0x286)]['y1'],this[MW(0x62f)][MW(0x94b)]['x2'],this[MW(0x62f)][MW(0x94b)]['y2'])['x'],'y':Lz(this[MW(0x62f)][MW(0x286)]['x1'],this[MW(0x62f)][MW(0x286)]['y1'],this[MW(0x62f)][MW(0x94b)]['x2'],this[MW(0x62f)][MW(0x94b)]['y2'])['y'],'x1':Lz(this[MW(0x62f)][MW(0x286)]['x1'],this[MW(0x62f)][MW(0x286)]['y1'],this[MW(0x62f)][MW(0x94b)]['x2'],this[MW(0x62f)][MW(0x94b)]['y2'])['x']+P1,'y1':Lz(this[MW(0x62f)][MW(0x286)]['x1'],this[MW(0x62f)][MW(0x286)]['y1'],this[MW(0x62f)][MW(0x94b)]['x2'],this[MW(0x62f)][MW(0x94b)]['y2'])['y']-P1,'x2':Lz(this[MW(0x62f)][MW(0x286)]['x1'],this[MW(0x62f)][MW(0x286)]['y1'],this[MW(0x62f)][MW(0x94b)]['x2'],this[MW(0x62f)][MW(0x94b)]['y2'])['x']-P2,'y2':Lz(this[MW(0x62f)][MW(0x286)]['x1'],this[MW(0x62f)][MW(0x286)]['y1'],this[MW(0x62f)][MW(0x94b)]['x2'],this[MW(0x62f)][MW(0x94b)]['y2'])['y']+P2},{'x':Lz(this[MW(0x62f)][MW(0x286)]['x2'],this[MW(0x62f)][MW(0x286)]['y2'],this[MW(0x62f)][MW(0xc26)]['x1'],this[MW(0x62f)][MW(0xc26)]['y1'])['x'],'y':Lz(this[MW(0x62f)][MW(0x286)]['x2'],this[MW(0x62f)][MW(0x286)]['y2'],this[MW(0x62f)][MW(0xc26)]['x1'],this[MW(0x62f)][MW(0xc26)]['y1'])['y'],'x1':Lz(this[MW(0x62f)][MW(0x286)]['x2'],this[MW(0x62f)][MW(0x286)]['y2'],this[MW(0x62f)][MW(0xc26)]['x1'],this[MW(0x62f)][MW(0xc26)]['y1'])['x'],'y1':Lz(this[MW(0x62f)][MW(0x286)]['x2'],this[MW(0x62f)][MW(0x286)]['y2'],this[MW(0x62f)][MW(0xc26)]['x1'],this[MW(0x62f)][MW(0xc26)]['y1'])['y']-P1,'x2':Lz(this[MW(0x62f)][MW(0x286)]['x2'],this[MW(0x62f)][MW(0x286)]['y2'],this[MW(0x62f)][MW(0xc26)]['x1'],this[MW(0x62f)][MW(0xc26)]['y1'])['x'],'y2':Lz(this[MW(0x62f)][MW(0x286)]['x2'],this[MW(0x62f)][MW(0x286)]['y2'],this[MW(0x62f)][MW(0xc26)]['x1'],this[MW(0x62f)][MW(0xc26)]['y1'])['y']+P2*0.95},{'x':Lz(this[MW(0x62f)][MW(0xc26)]['x2'],this[MW(0x62f)][MW(0xc26)]['y2'],this[MW(0x62f)][MW(0x35d)]['x2'],this[MW(0x62f)][MW(0x35d)]['y2'])['x'],'y':Lz(this[MW(0x62f)][MW(0xc26)]['x2'],this[MW(0x62f)][MW(0xc26)]['y2'],this[MW(0x62f)][MW(0x35d)]['x2'],this[MW(0x62f)][MW(0x35d)]['y2'])['y'],'x1':Lz(this[MW(0x62f)][MW(0xc26)]['x2'],this[MW(0x62f)][MW(0xc26)]['y2'],this[MW(0x62f)][MW(0x35d)]['x2'],this[MW(0x62f)][MW(0x35d)]['y2'])['x']-P1,'y1':Lz(this[MW(0x62f)][MW(0xc26)]['x2'],this[MW(0x62f)][MW(0xc26)]['y2'],this[MW(0x62f)][MW(0x35d)]['x2'],this[MW(0x62f)][MW(0x35d)]['y2'])['y']-P1,'x2':Lz(this[MW(0x62f)][MW(0xc26)]['x2'],this[MW(0x62f)][MW(0xc26)]['y2'],this[MW(0x62f)][MW(0x35d)]['x2'],this[MW(0x62f)][MW(0x35d)]['y2'])['x']+P2,'y2':Lz(this[MW(0x62f)][MW(0xc26)]['x2'],this[MW(0x62f)][MW(0xc26)]['y2'],this[MW(0x62f)][MW(0x35d)]['x2'],this[MW(0x62f)][MW(0x35d)]['y2'])['y']+P2}],this[MW(0x6c6)][MW(0x4ea)]((PE,PR)=>{var PM=MW;PE[PM(0x43e)]=PE['x2'],PE[PM(0xc70)]=PE['y2'],PE['x']=PE['x2'],PE['y']=PE['y2'],PR===0x1||PR===0x4?(PE[PM(0x7b8)]=RJ*parseFloat(PM(0x926)),PE[PM(0x34d)]=RJ*parseFloat(PM(0x926))):(PE[PM(0x7b8)]=RJ*parseFloat(PM(0x3af)),PE[PM(0x34d)]=RJ*parseFloat(PM(0x3af))),P5+=LI({'x':PE['x1'],'y':PE['y1']},{'x':PE['x2'],'y':PE['y2']});}),this[MW(0x314)]={'top_left1':{'x1':this[MW(0x62f)][MW(0x94b)]['x1'],'y1':this[MW(0x62f)][MW(0x94b)]['y1'],'x2':this[MW(0x62f)][MW(0x94b)]['x1'],'y2':this[MW(0x62f)][MW(0x94b)]['y1']-MK['y'],'isCornerLock':!![],'cornerID':0x0},'top_left2':{'x1':this[MW(0x62f)][MW(0x94b)]['x1'],'y1':this[MW(0x62f)][MW(0x94b)]['y1']-MK['y'],'x2':this[MW(0x62f)][MW(0x282)]['x1'],'y2':this[MW(0x62f)][MW(0x282)]['y1'],'isCornerLock':!![],'cornerID':0x0},'top_center':{'x1':this[MW(0x62f)][MW(0x282)]['x2'],'y1':this[MW(0x62f)][MW(0x282)]['y2'],'x2':this[MW(0x62f)][MW(0xc29)]['x1'],'y2':this[MW(0x62f)][MW(0xc29)]['y1'],'isCornerLock':!![],'cornerID':0x1},'top_right1':{'x1':this[MW(0x62f)][MW(0x35d)]['x1'],'y1':this[MW(0x62f)][MW(0x35d)]['y1'],'x2':this[MW(0x62f)][MW(0x35d)]['x1'],'y2':this[MW(0x62f)][MW(0x35d)]['y1']-MK['y'],'isCornerLock':!![],'cornerID':0x2},'top_right2':{'x1':this[MW(0x62f)][MW(0x35d)]['x1'],'y1':this[MW(0x62f)][MW(0x35d)]['y1']-MK['y'],'x2':this[MW(0x62f)][MW(0x282)]['x1'],'y2':this[MW(0x62f)][MW(0x282)]['y1'],'isCornerLock':!![],'cornerID':0x2},'bottom_left1':{'x1':this[MW(0x62f)][MW(0x94b)]['x2'],'y1':this[MW(0x62f)][MW(0x94b)]['y2'],'x2':this[MW(0x62f)][MW(0x94b)]['x2'],'y2':this[MW(0x62f)][MW(0x94b)]['y2']+MK['y'],'isCornerLock':!![],'cornerID':0x3},'bottom_left2':{'x1':this[MW(0x62f)][MW(0x94b)]['x2'],'y1':this[MW(0x62f)][MW(0x94b)]['y2']+MK['y'],'x2':this[MW(0x62f)][MW(0x286)]['x1'],'y2':this[MW(0x62f)][MW(0x286)]['y1'],'isCornerLock':!![],'cornerID':0x3},'bottom_center':{'x1':this[MW(0x62f)][MW(0x286)]['x2'],'y1':this[MW(0x62f)][MW(0x286)]['y2'],'x2':this[MW(0x62f)][MW(0xc26)]['x1'],'y2':this[MW(0x62f)][MW(0xc26)]['y1'],'isCornerLock':!![],'cornerID':0x4},'bottom_right1':{'x1':this[MW(0x62f)][MW(0x35d)]['x2'],'y1':this[MW(0x62f)][MW(0x35d)]['y2'],'x2':this[MW(0x62f)][MW(0x35d)]['x2'],'y2':this[MW(0x62f)][MW(0x35d)]['y2']+MK['y'],'isCornerLock':!![],'cornerID':0x5},'bottom_right2':{'x1':this[MW(0x62f)][MW(0x35d)]['x2'],'y1':this[MW(0x62f)][MW(0x35d)]['y2']+MK['y'],'x2':this[MW(0x62f)][MW(0xc26)]['x2'],'y2':this[MW(0x62f)][MW(0xc26)]['y2'],'isCornerLock':!![],'cornerID':0x5}},this[MW(0x199)]={'top_left':[{'isCorner':!![],'cornerID':0x0,'x1':this[MW(0x62f)][MW(0x282)]['x1'],'y1':this[MW(0x62f)][MW(0x282)]['y1'],'x2':this[MW(0x62f)][MW(0x282)]['x1']+La(Mb,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x282)]['y1']+La(Mb,MV*0x2)['y']},{'x1':this[MW(0x62f)][MW(0x282)]['x1']+La(Mb,MV*0x2)['x'],'y1':this[MW(0x62f)][MW(0x282)]['y1']+La(Mb,MV*0x2)['y'],'x2':this[MW(0x62f)][MW(0x94b)]['x1']+La(P0,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x94b)]['y1']+La(P0,MV*0x2)['y'],'no_aim':!![]},{'isCorner':!![],'cornerID':0x0,'x1':this[MW(0x62f)][MW(0x94b)]['x1'],'y1':this[MW(0x62f)][MW(0x94b)]['y1'],'x2':this[MW(0x62f)][MW(0x94b)]['x1']+La(P0,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x94b)]['y1']+La(P0,MV*0x2)['y']}],'top_center':[{'isCorner':!![],'cornerID':0x1,'x1':this[MW(0x62f)][MW(0x282)]['x2'],'y1':this[MW(0x62f)][MW(0x282)]['y2'],'x2':this[MW(0x62f)][MW(0x282)]['x2']+La(Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0x282)]['y2']+La(Mi,MV*0x1)['y']},{'x1':this[MW(0x62f)][MW(0x282)]['x2']+La(Mi,MV*0x1)['x'],'y1':this[MW(0x62f)][MW(0x282)]['y2']+La(Mi,MV*0x1)['y'],'x2':this[MW(0x62f)][MW(0x282)]['x2']+La(Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0x282)]['y2']+La(Mi,MV*0x1)['y']-MV},{'x1':this[MW(0x62f)][MW(0x282)]['x2']+La(Mi,MV*0x1)['x'],'y1':this[MW(0x62f)][MW(0x282)]['y2']+La(Mi,MV*0x1)['y']-MV,'x2':this[MW(0x62f)][MW(0xc29)]['x1']-La(-Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y1']+La(Mi,MV*0x1)['y']-MV,'no_aim':!![]},{'x1':this[MW(0x62f)][MW(0xc29)]['x1']-La(-Mi,MV*0x1)['x'],'y1':this[MW(0x62f)][MW(0xc29)]['y1']-La(-Mi,MV*0x1)['y'],'x2':this[MW(0x62f)][MW(0xc29)]['x1']-La(-Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y1']+La(Mi,MV*0x1)['y']-MV},{'isCorner':!![],'cornerID':0x1,'x1':this[MW(0x62f)][MW(0xc29)]['x1'],'y1':this[MW(0x62f)][MW(0xc29)]['y1'],'x2':this[MW(0x62f)][MW(0xc29)]['x1']-La(-Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y1']-La(-Mi,MV*0x1)['y']}],'top_right':[{'isCorner':!![],'cornerID':0x2,'x1':this[MW(0x62f)][MW(0xc29)]['x2'],'y1':this[MW(0x62f)][MW(0xc29)]['y2'],'x2':this[MW(0x62f)][MW(0xc29)]['x2']-La(-Mb,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0xc29)]['y2']+La(Mb,MV*0x2)['y']},{'x1':this[MW(0x62f)][MW(0xc29)]['x2']-La(-Mb,MV*0x2)['x'],'y1':this[MW(0x62f)][MW(0xc29)]['y2']-La(-Mb,MV*0x2)['y'],'x2':this[MW(0x62f)][MW(0x35d)]['x1']-La(-P0,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x35d)]['y1']-La(-P0,MV*0x2)['y'],'no_aim':!![]},{'isCorner':!![],'cornerID':0x2,'x1':this[MW(0x62f)][MW(0x35d)]['x1'],'y1':this[MW(0x62f)][MW(0x35d)]['y1'],'x2':this[MW(0x62f)][MW(0x35d)]['x1']-La(-P0,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x35d)]['y1']-La(-P0,MV*0x2)['y']}],'bottom_left':[{'isCorner':!![],'cornerID':0x3,'x1':this[MW(0x62f)][MW(0x286)]['x1'],'y1':this[MW(0x62f)][MW(0x286)]['y1'],'x2':this[MW(0x62f)][MW(0x286)]['x1']+La(-Mb,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x286)]['y1']+La(-Mb,MV*0x2)['y']},{'x1':this[MW(0x62f)][MW(0x286)]['x1']+La(-Mb,MV*0x2)['x'],'y1':this[MW(0x62f)][MW(0x286)]['y1']+La(-Mb,MV*0x2)['y'],'x2':this[MW(0x62f)][MW(0x94b)]['x2']+La(-P0,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x94b)]['y2']+La(-P0,MV*0x2)['y'],'no_aim':!![]},{'isCorner':!![],'cornerID':0x3,'x1':this[MW(0x62f)][MW(0x94b)]['x2'],'y1':this[MW(0x62f)][MW(0x94b)]['y2'],'x2':this[MW(0x62f)][MW(0x94b)]['x2']+La(-P0,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x94b)]['y2']+La(-P0,MV*0x2)['y']}],'bottom_center':[{'isCorner':!![],'cornerID':0x4,'x1':this[MW(0x62f)][MW(0x286)]['x2'],'y1':this[MW(0x62f)][MW(0x286)]['y2'],'x2':this[MW(0x62f)][MW(0x286)]['x2']+La(-Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0x286)]['y2']+La(-Mi,MV*0x1)['y']},{'x1':this[MW(0x62f)][MW(0x286)]['x2']+La(-Mi,MV*0x1)['x'],'y1':this[MW(0x62f)][MW(0x286)]['y2']+La(-Mi,MV*0x1)['y'],'x2':this[MW(0x62f)][MW(0x286)]['x2']+La(-Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0x286)]['y2']+La(-Mi,MV*0x1)['y']+MV},{'x1':this[MW(0x62f)][MW(0x286)]['x2']+La(-Mi,MV*0x1)['x'],'y1':this[MW(0x62f)][MW(0x286)]['y2']+La(-Mi,MV*0x1)['y']+MV,'x2':this[MW(0x62f)][MW(0xc26)]['x1']-La(-Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0x286)]['y2']+La(-Mi,MV*0x1)['y']+MV,'no_aim':!![]},{'x1':this[MW(0x62f)][MW(0xc26)]['x1']-La(Mi,MV*0x1)['x'],'y1':this[MW(0x62f)][MW(0xc26)]['y1']-La(Mi,MV*0x1)['y'],'x2':this[MW(0x62f)][MW(0xc26)]['x1']-La(-Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0x286)]['y2']+La(-Mi,MV*0x1)['y']+MV},{'isCorner':!![],'cornerID':0x4,'x1':this[MW(0x62f)][MW(0xc26)]['x1'],'y1':this[MW(0x62f)][MW(0xc26)]['y1'],'x2':this[MW(0x62f)][MW(0xc26)]['x1']-La(Mi,MV*0x1)['x'],'y2':this[MW(0x62f)][MW(0xc26)]['y1']-La(Mi,MV*0x1)['y']}],'bottom_right':[{'isCorner':!![],'cornerID':0x5,'x1':this[MW(0x62f)][MW(0xc26)]['x2'],'y1':this[MW(0x62f)][MW(0xc26)]['y2'],'x2':this[MW(0x62f)][MW(0xc26)]['x2']-La(-Mb,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0xc26)]['y2']+La(-Mb,MV*0x2)['y']},{'x1':this[MW(0x62f)][MW(0xc26)]['x2']-La(-Mb,MV*0x2)['x'],'y1':this[MW(0x62f)][MW(0xc26)]['y2']+La(-Mb,MV*0x2)['y'],'x2':this[MW(0x62f)][MW(0x35d)]['x2']-La(P0,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x35d)]['y2']-La(P0,MV*0x2)['y'],'no_aim':!![]},{'isCorner':!![],'cornerID':0x5,'x1':this[MW(0x62f)][MW(0x35d)]['x2'],'y1':this[MW(0x62f)][MW(0x35d)]['y2'],'x2':this[MW(0x62f)][MW(0x35d)]['x2']-La(P0,MV*0x2)['x'],'y2':this[MW(0x62f)][MW(0x35d)]['y2']-La(P0,MV*0x2)['y']}]},this[MW(0x5f6)]={'top_left':[{'x':this[MW(0x62f)][MW(0x282)]['x1']+(RJ*0.5-P3),'y':this[MW(0x62f)][MW(0x282)]['y1']-(RJ+0x1)},{'x':this[MW(0x62f)][MW(0x94b)]['x1']-(RJ+0x1),'y':this[MW(0x62f)][MW(0x94b)]['y1']+(RJ*0.5+0x6)-P4}],'top_center':[{'x':this[MW(0x62f)][MW(0x282)]['x2']-(RJ*0.5+0x5-P3),'y':this[MW(0x62f)][MW(0x282)]['y2']-(RJ+0x1)},{'x':this[MW(0x62f)][MW(0x282)]['x2']-MC*0.05,'y':this[MW(0x62f)][MW(0x282)]['y2']-MC*0x8},{'x':this[MW(0x62f)][MW(0xc29)]['x1']+MC*0.05,'y':this[MW(0x62f)][MW(0xc29)]['y1']-MC*0x8},{'x':this[MW(0x62f)][MW(0xc29)]['x1']+(RJ*0.5+0x5-P3),'y':this[MW(0x62f)][MW(0xc29)]['y1']-(RJ+0x1)}],'top_right':[{'x':this[MW(0x62f)][MW(0xc29)]['x2']-(RJ*0.5-0x2-P3),'y':this[MW(0x62f)][MW(0xc29)]['y2']-(RJ+0x1)},{'x':this[MW(0x62f)][MW(0x35d)]['x1']+(RJ+0x1),'y':this[MW(0x62f)][MW(0x35d)]['y1']+(RJ*0.5+0x5-P4)}],'bottom_left':[{'x':this[MW(0x62f)][MW(0x286)]['x1']+(RJ*0.5-P3),'y':this[MW(0x62f)][MW(0x286)]['y1']+(RJ+0x1)},{'x':this[MW(0x62f)][MW(0x94b)]['x2']-(RJ+0x1),'y':this[MW(0x62f)][MW(0x94b)]['y2']-RJ*0x1+P4}],'bottom_center':[{'x':this[MW(0x62f)][MW(0x286)]['x2']-(RJ*0.5+0x5-P3),'y':this[MW(0x62f)][MW(0x286)]['y2']+(RJ+0x1)},{'x':this[MW(0x62f)][MW(0x286)]['x2']-MC*0.05,'y':this[MW(0x62f)][MW(0x286)]['y2']+MC*0x8},{'x':this[MW(0x62f)][MW(0xc26)]['x1']+MC*0.05,'y':this[MW(0x62f)][MW(0xc26)]['y1']+MC*0x8},{'x':this[MW(0x62f)][MW(0xc26)]['x1']+(RJ*0.5+0x5-P3),'y':this[MW(0x62f)][MW(0xc26)]['y1']+(RJ+0x1)}],'bottom_right':[{'x':this[MW(0x62f)][MW(0xc26)]['x2']-(RJ*0.5-0x2-P3),'y':this[MW(0x62f)][MW(0xc26)]['y2']+(RJ+0x1)},{'x':this[MW(0x62f)][MW(0x35d)]['x2']+(RJ+0x1),'y':this[MW(0x62f)][MW(0x94b)]['y2']-RJ*0x1+P4}]};for(var P6 in this[MW(0x62f)]){if(this[MW(0x62f)][MW(0x239)](P6)){var P7=this[MW(0x62f)][P6];this[MW(0x62f)][P6][MW(0xca6)]=LI({'x':P7['x1'],'y':P7['y1']},{'x':P7['x2'],'y':P7['y2']}),P5+=this[MW(0x62f)][P6][MW(0xca6)],this[MW(0x62f)][P6][MW(0x38e)]=[];}}for(var P6 in this[MW(0x314)]){if(this[MW(0x314)][MW(0x239)](P6)){var P7=this[MW(0x314)][P6];this[MW(0x314)][P6][MW(0xca6)]=LI({'x':P7['x1'],'y':P7['y1']},{'x':P7['x2'],'y':P7['y2']}),this[MW(0x314)][P6][MW(0x38e)]=[];}}for(var P6 in this[MW(0x199)]){if(this[MW(0x199)][MW(0x239)](P6))for(var P8=0x0;P8<this[MW(0x199)][P6][MW(0x16a)];P8++){var P7=this[MW(0x199)][P6][P8];this[MW(0x199)][P6][P8][MW(0xca6)]=LI({'x':P7['x1'],'y':P7['y1']},{'x':P7['x2'],'y':P7['y2']}),this[MW(0x199)][P6][P8][MW(0x38e)]=[],P5+=this[MW(0x199)][P6][P8][MW(0xca6)];}}for(var P6 in this[MW(0x5f6)]){if(this[MW(0x5f6)][MW(0x239)](P6))for(var P8=0x0;P8<this[MW(0x5f6)][P6][MW(0x16a)];P8++){var P7=this[MW(0x5f6)][P6][P8];this[MW(0x5f6)][P6][P8][MW(0x38e)]=[],this[MW(0x5f6)][P6][P8][MW(0x536)]=MT,P5+=P7['x']+P7['y'];}}this[MW(0x486)]=P5;var P9=this[MW(0x62f)][MW(0x282)]['x1'],Pe=this[MW(0x62f)][MW(0x35d)]['x1'],Pn=this[MW(0x62f)][MW(0x282)]['y1'],Pp=this[MW(0x62f)][MW(0x286)]['y1'],P9=this[MW(0x62f)][MW(0x286)]['x1'],Pe=this[MW(0x62f)][MW(0x282)]['x1'],Pn=this[MW(0x62f)][MW(0x94b)]['y1'],Pp=this[MW(0x62f)][MW(0x35d)]['y1'],PD=Pe-this[MW(0x6c6)][0x0]['x2'],PL=Pp-this[MW(0x6c6)][0x0]['y2'];this[MW(0xb0d)]=[{'right':{'reflect':{'x':Pe+PD-RB,'y':this[MW(0x6c6)][0x0]['y2']},'hitPoint':{'x':Pe,'y':this[MW(0x6c6)][0x0]['y2']}},'down':{'reflect':{'x':this[MW(0x6c6)][0x0]['x2'],'y':Pp+PL-RB},'hitPoint':{'x':this[MW(0x6c6)][0x0]['x2'],'y':Pp}}},{'right':{'reflect':{'x':Pe+PD-RB,'y':this[MW(0x6c6)][0x1]['y2']},'hitPoint':{'x':Pe,'y':this[MW(0x6c6)][0x1]['y2']}}},{'right':{'reflect':{'x':Pe+PD-RB,'y':this[MW(0x6c6)][0x2]['y2']},'hitPoint':{'x':Pe,'y':this[MW(0x6c6)][0x2]['y2']}},'up':{'reflect':{'x':this[MW(0x6c6)][0x2]['x2'],'y':Pn-PL+RB},'hitPoint':{'x':this[MW(0x6c6)][0x2]['x2'],'y':Pn}}},{'left':{'reflect':{'x':P9-PD+RB,'y':this[MW(0x6c6)][0x3]['y2']},'hitPoint':{'x':P9,'y':this[MW(0x6c6)][0x3]['y2']}},'down':{'reflect':{'x':this[MW(0x6c6)][0x3]['x2'],'y':Pp+PL-RB},'hitPoint':{'x':this[MW(0x6c6)][0x3]['x2'],'y':Pp}}},{'left':{'reflect':{'x':P9-PD+RB,'y':this[MW(0x6c6)][0x4]['y2']},'hitPoint':{'x':P9,'y':this[MW(0x6c6)][0x4]['y2']}}},{'left':{'reflect':{'x':P9-PD+RB,'y':this[MW(0x6c6)][0x5]['y2']},'hitPoint':{'x':P9,'y':this[MW(0x6c6)][0x5]['y2']}},'up':{'reflect':{'x':this[MW(0x6c6)][0x5]['x2'],'y':Pn-PL+RB},'hitPoint':{'x':this[MW(0x6c6)][0x5]['x2'],'y':Pn}}}],ER[MW(0xb1c)][MW(0x542)]();},R5[n2(0xa3a)][n2(0xa6a)]=function(){var MS=n2;if(!ER[MS(0xb1c)][MS(0x6f5)])ER[MS(0xb1c)][MS(0x6f5)]=Me[MS(0xb51)][MS(0x4da)](ER[MS(0xb1c)][MS(0xc5f)][MS(0x3ab)],ER[MS(0xb1c)][MS(0xc5f)][MS(0x4ca)]),ER[MS(0xb1c)][MS(0x3f3)]=Me[MS(0x74e)][MS(0x46a)](0x0,0x0,ER[MS(0xb1c)][MS(0x6f5)]),this[MS(0x84a)][MS(0x6a8)](ER[MS(0xb1c)][MS(0x3f3)]);else{}this[MS(0x854)]=ER[MS(0xb1c)][MS(0x6f5)],ER[MS(0xb1c)][MS(0x3f3)][MS(0x2a0)]=0x1;const MW=0xffff00,Mv=0x2,Mg=0x1;this[MS(0x854)][MS(0x6b3)]();let MJ=RJ-1.7;for(var MB=0x0;MB<this[MS(0x6c6)][MS(0x16a)];MB++){My=this[MS(0x6c6)][MB];let Mx={...My},MZ=MB;Mq=MS(0x1b3),My[MS(0xd21)]>0x0&&(My[MS(0xd21)]--,Mq=MS(0x6dd)),this[MS(0x854)][MS(0x331)](Mx['x'],Mx['y'],RJ,Mq);}for(var MB=0x0;MB<this[MS(0x6c6)][MS(0x16a)];MB++){My=this[MS(0x6c6)][MB];let Mf={...My},MN=MB;Mq=MS(0x1b3),My[MS(0xd21)]>0x0&&(My[MS(0xd21)]--,Mq=MS(0x6dd)),this[MS(0x854)][MS(0x331)](Mf['x'],Mf['y'],RJ,Mq),this[MS(0x854)][MS(0x1c0)](My['x1'],My['y1'],My['x2'],My['y2'],Mq,0x2);}for(var Ms in this[MS(0x62f)]){if(this[MS(0x62f)][MS(0x239)](Ms)){var My=this[MS(0x62f)][Ms],Mq=MS(0x2f5);My[MS(0xd21)]>0x0&&(My[MS(0xd21)]--,Mq=MS(0x6dd)),this[MS(0x854)][MS(0x1c0)](My['x1'],My['y1'],My['x2'],My['y2'],Mq,0x2);}}for(var Ms in this[MS(0x199)]){if(this[MS(0x199)][MS(0x239)](Ms))for(var MB=0x0;MB<this[MS(0x199)][Ms][MS(0x16a)];MB++){My=this[MS(0x199)][Ms][MB],Mq=MS(0x2f5),My[MS(0xd21)]>0x0&&(My[MS(0xd21)]--,Mq=MS(0x6dd)),this[MS(0x854)][MS(0x1c0)](My['x1'],My['y1'],My['x2'],My['y2'],Mq,0x2);}}for(var Ms in this[MS(0x5f6)]){if(this[MS(0x5f6)][MS(0x239)](Ms))for(var MB=0x0;MB<this[MS(0x5f6)][Ms][MS(0x16a)];MB++){My=this[MS(0x5f6)][Ms][MB],Mq=MS(0x2f5),My[MS(0xd21)]>0x0&&(My[MS(0xd21)]--,Mq=MS(0x6dd)),this[MS(0x854)][MS(0x331)](My['x'],My['y'],RJ,Mq);}}},R5[n2(0xa3a)][n2(0xd17)]=function(){var MS=n2;this[MS(0xb14)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0xc7f)]=Me[MS(0x74e)][MS(0xa6e)](0x0,0x0,MS(0x7f8),MS(0x76d)),this[MS(0xc7f)][MS(0xc25)][MS(0x304)](0.5),this[MS(0x484)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0x11a)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0x36f)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0x333)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0x922)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0x106)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0xa40)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0x2db)]=Me[MS(0x74e)][MS(0xb9c)]();function MW(MN,MG,MF,Mi,Mr,Mt,MC,MT,Mz){var Mh=MS;MN[Mh(0x5b7)](MG+Mt,MF),MN[Mh(0x189)](MG+Mi-MC,MF),MN[Mh(0x39a)](MG+Mi,MF,MG+Mi,MF+MC),MN[Mh(0x189)](MG+Mi,MF+Mr-MT),MN[Mh(0x39a)](MG+Mi,MF+Mr,MG+Mi-MT,MF+Mr),MN[Mh(0x189)](MG+Mz,MF+Mr),MN[Mh(0x39a)](MG,MF+Mr,MG,MF+Mr-Mz),MN[Mh(0x189)](MG,MF+Mt);}function Mv(MN,MG,MF,Mi,Mr,Mt,MC,MT,Mz){var Mh=MS;MN[Mh(0x5b7)](MG+Mt,MF),MN[Mh(0x189)](MG+Mi-MC,MF),MC>0x0&&MN[Mh(0xc9f)](MG+Mi,MF,MG+Mi,MF+MC,MC),MN[Mh(0x189)](MG+Mi,MF+Mr-MT),MT>0x0&&MN[Mh(0xc9f)](MG+Mi,MF+Mr,MG+Mi-MT,MF+Mr,MT),MN[Mh(0x189)](MG+Mz,MF+Mr),Mz>0x0&&MN[Mh(0xc9f)](MG,MF+Mr,MG,MF+Mr-Mz,Mz),MN[Mh(0x189)](MG,MF+Mt),Mt>0x0&&MN[Mh(0xc9f)](MG,MF,MG+Mt,MF,Mt);}this[MS(0x333)]['y']=-5.3,this[MS(0x71c)]=Me[MS(0x74e)][MS(0xb9c)](),this[MS(0x2db)][MS(0xb51)](this[MS(0x333)]),this[MS(0x71c)][MS(0xb51)](this[MS(0x922)]),this[MS(0x922)]['y']=-5.3,this[MS(0x58c)][MS(0xb51)](this[MS(0x71c)]),this[MS(0x58c)][MS(0xb51)](this[MS(0x2db)]),this[MS(0x834)][MS(0xb51)](this[MS(0xb14)]),this[MS(0x834)][MS(0xb51)](this[MS(0xa40)]);var Mg=RJ*0x6,MJ=RJ*1.7,MB=Me[MS(0x74e)][MS(0x4da)](Mg,MJ),Ms=MB[MS(0xa8f)][MS(0x9b5)](0x0,0x0,Mg,MJ);Ms[MS(0x90e)](0x0,MS(0x39c)),Ms[MS(0x90e)](0x1,MS(0x582));var My=MB[MS(0xa8f)];My[MS(0xbee)]=Ms,My[MS(0x3c0)]();var Mq=MJ*0.5,Mx=0x0,MZ=0x0,Mf=MJ*0.5;Mv(My,0x0,0x0,Mg,MJ,Mq,Mx,MZ,Mf),My[MS(0x68c)](),My[MS(0x1bc)](),this[MS(0x724)]=Me[MS(0x74e)][MS(0xa6e)](0x0,0x0,MS(0x7f8),MS(0x94c)),this[MS(0x724)][MS(0xc25)][MS(0x304)](0.123,0.47),this[MS(0x724)][MS(0x2a0)]=0x1,this[MS(0x22a)]=Me[MS(0x74e)][MS(0xa6e)](0x0,0x0,MS(0x7f8),MS(0x94c)),this[MS(0x22a)][MS(0xc25)][MS(0x304)](0.123,0.47),this[MS(0x22a)][MS(0x2a0)]=0.42,this[MS(0x834)][MS(0xb51)](this[MS(0x106)]),this[MS(0x834)][MS(0xb51)](this[MS(0x724)]),this[MS(0x834)][MS(0xb51)](this[MS(0x22a)]),this[MS(0x834)][MS(0xb51)](this[MS(0xc7f)]),this[MS(0x58c)][MS(0xb51)](this[MS(0x11a)]),this[MS(0x58c)][MS(0xb51)](this[MS(0x484)]);return;},R5[n2(0xa3a)][n2(0xd35)]=function(){var MS=n2;this[MS(0xb14)][MS(0x6b3)](),this[MS(0x484)][MS(0x6b3)](),this[MS(0x11a)][MS(0x6b3)](),this[MS(0x333)][MS(0x6b3)](),this[MS(0xafd)][MS(0xd25)](MW=>{var Mv=MS;MW[Mv(0x7e4)][Mv(0x152)]=![];}),this[MS(0x922)][MS(0x6b3)](),this[MS(0x724)][MS(0x152)]=![],this[MS(0x22a)][MS(0x152)]=![],this[MS(0xc7f)][MS(0x152)]=![],this[MS(0xc7f)][MS(0x552)][MS(0x304)](RJ*parseFloat(String(MS(0x125)))),this[MS(0x724)][MS(0x3ab)]=RJ*(parseFloat(String('7'))+parseFloat('.7')),this[MS(0x724)][MS(0x4ca)]=RJ*0x2+0.8,this[MS(0x22a)][MS(0x3ab)]=RJ*(parseFloat(String('7'))+parseFloat('.7')),this[MS(0x22a)][MS(0x4ca)]=RJ*0x2+0.8;},R5[n2(0xa3a)][n2(0xa4d)]=function(MS=this[n2(0x287)]['x'],MW=this[n2(0x287)]['y'],Mv=this[n2(0x6b0)][n2(0x678)]){var Mg=n2,MJ=![],MB=![],Ms=![];this[Mg(0x2db)][Mg(0x152)]=!![],this[Mg(0x71c)][Mg(0x152)]=!![],this[Mg(0x459)]=![],this[Mg(0x73e)]=![];var My=this[Mg(0x6b0)][Mg(0x90b)];this[Mg(0xd35)]();if(My<0x1)return;!this[Mg(0x9f0)]&&(this[Mg(0x9f0)]={});var Mq=this[Mg(0x287)][Mg(0x96f)](My||0x64,Mv);let Mx=Mv+(My||0x64)+Mq['x']+Mq['y']+this[Mg(0x287)][Mg(0x86f)]+this[Mg(0x287)][Mg(0x888)];var MZ=this[Mg(0x9f0)][Mx]||this[Mg(0xc17)](this[Mg(0x287)],this[Mg(0x287)][Mg(0x96f)](My||0x64,Mv));if(MZ&&MZ[Mg(0x1cb)]&&MZ[Mg(0x1cb)][Mg(0x16a)]>=0x1){if(MZ[Mg(0x1cb)][0x0]&&MZ[Mg(0x1cb)][0x0][Mg(0x7a2)]&&MZ[Mg(0x1cb)][0x0][Mg(0x835)]==Mg(0x9df)){var Mf=MZ[Mg(0x1cb)][0x0],MN=Mf[Mg(0x10d)][Mg(0xb51)](Mf[Mg(0x54f)][Mg(0xb84)](0xa));MJ=MN,MJ['ck']=Mf;var MG=Mf[Mg(0xc94)][Mg(0xb51)](Mf[Mg(0x6e1)][Mg(0xb84)](0x64));MB=MG,MB['ck']=Mf;}if(MZ[Mg(0x1cb)][0x0]&&MZ[Mg(0x1cb)][0x0][Mg(0x7a2)]&&(MZ[Mg(0x1cb)][0x0][Mg(0x835)]==Mg(0x1c0)||MZ[Mg(0x1cb)][0x0][Mg(0x835)]==Mg(0xb12))){var Mf=MZ[Mg(0x1cb)][0x0],MN=Mf[Mg(0x5a5)][Mg(0xb51)](Mf[Mg(0x54f)][Mg(0xb84)](0xa));Ms=MN,Ms['ck']=Mf;}if(MZ[Mg(0x1cb)][0x0]&&MZ[Mg(0x1cb)][0x0][Mg(0x7a2)]&&MZ[Mg(0x1cb)][0x0][Mg(0x835)]==Mg(0x31f)){}if(MZ[Mg(0x1cb)][0x0]&&MZ[Mg(0x1cb)][0x0][Mg(0x7a2)]&&MZ[Mg(0x1cb)][0x0][Mg(0x835)]==Mg(0xb12)){}if(MZ[Mg(0xc8c)]&&MZ[Mg(0xc8c)]['x']!==0x0&&MZ[Mg(0xc8c)]['y']!==0x0){this[Mg(0xb14)][Mg(0x6b3)](),this[Mg(0xb14)][Mg(0x19e)](0xffffff,0.45),this[Mg(0xb14)][Mg(0xbf9)](-(RJ*0.5),-(RJ*0.9),Phaser[Mg(0xca9)][Mg(0x7db)](MS,MW,MZ[Mg(0xc8c)]['x'],MZ[Mg(0xc8c)]['y'])+RJ*1.45,RB*0.93,RB*0.9*0.5,0x0,RB*0.9*0.5,0x0),this[Mg(0xb14)]['x']=MZ[Mg(0x3db)]['x'],this[Mg(0xb14)]['y']=MZ[Mg(0x3db)]['y'],this[Mg(0xb14)][Mg(0x878)]=Mv,this[Mg(0xc7f)][Mg(0x31f)][Mg(0x304)](MZ[Mg(0xc8c)]['x'],MZ[Mg(0xc8c)]['y']),this[Mg(0xc7f)][Mg(0x152)]=!![];if(MJ&&MJ['ck'][Mg(0x7a2)]&&MJ['ck'][Mg(0x7a2)][Mg(0x912)]===RF&&this[Mg(0x81e)]===![]){}}if(MZ[Mg(0x63f)]){}}var MF=this[Mg(0x6b0)][Mg(0x660)][EV][Mg(0xa46)][Mg(0x2a1)];if(MB){this[Mg(0x11a)][Mg(0x6b3)](),this[Mg(0x922)][Mg(0x6b3)]();var Mi=MJ['ck'][Mg(0x6e1)][Mg(0xb84)](Number(Mg(0x107))*MF[Mg(0x899)]/0x8);if(this[Mg(0x545)][Mg(0x212)]%0x2===0x1&&this[Mg(0x545)][Mg(0x7ce)][Mg(0xbcd)](Mg(0x774))<0x0){var Mr=MB['ck'][Mg(0x7a2)]['bl'][Mg(0x703)];if(Mr===undefined&&MB['ck'][Mg(0x7a2)]['bl'][Mg(0x6ac)]&&Me[Mg(0x347)]||Mr===undefined&&Me[Mg(0x347)]!==!![])Mr=Me[Mg(0x347)]?MB['ck'][Mg(0x7a2)]['bl'][Mg(0x2dc)][Mg(0x2ff)](MB['ck'][Mg(0x7a2)]['bl'][Mg(0x6ac)][Mg(0x5fd)][Mg(0x643)][Mg(0x4ea)][Mg(0xd29)]):MB['ck'][Mg(0x7a2)]['bl'][Mg(0x2dc)][Mg(0xa84)]();MB['ck'][Mg(0x7a2)]['bl'][Mg(0x703)]=Mr,this[Mg(0x459)]=Mi[Mg(0x16a)](),this[Mg(0x11a)][Mg(0x700)](0x4,Mr,0x1),this[Mg(0x11a)][Mg(0x5b7)](MB['ck'][Mg(0xc94)]['x'],MB['ck'][Mg(0xc94)]['y']),this[Mg(0x11a)][Mg(0x189)](MB['ck'][Mg(0xc94)]['x']+Mi['x'],MB['ck'][Mg(0xc94)]['y']+Mi['y']),this[Mg(0x724)][Mg(0x152)]=!![],this[Mg(0x724)][Mg(0x31f)][Mg(0x304)](MB['ck'][Mg(0xc94)]['x'],MB['ck'][Mg(0xc94)]['y']),this[Mg(0x724)][Mg(0x878)]=Math[Mg(0xc35)](MB['y']-MB['ck'][Mg(0x10d)]['y'],MB['x']-MB['ck'][Mg(0x10d)]['x']),this[Mg(0x724)][Mg(0x2de)]=Mr,this[Mg(0x71c)][Mg(0x31f)][Mg(0x304)](MB['ck'][Mg(0xc94)]['x']+Mi['x'],MB['ck'][Mg(0xc94)]['y']+Mi['y']),this[Mg(0x71c)][Mg(0x878)]=this[Mg(0x724)][Mg(0x878)],this[Mg(0x922)][Mg(0x19e)](Mr);var Mt=[new Phaser[(Mg(0xb6f))](0x0,0x0),new Phaser[(Mg(0xb6f))](0x28*0.3,0x14*0.3),new Phaser[(Mg(0xb6f))](0x0,0x28*0.3)];this[Mg(0x922)][Mg(0x507)](Mt),this[Mg(0x922)][Mg(0x366)]();var MC=parseFloat(String(Mg(0x559)))*Math[Mg(0x6c2)](parseFloat(Mg(0xc85)),Mi[Mg(0x16a)]())/0x2;this[Mg(0x922)]['y']=-MC/parseFloat(String(Mg(0x215))),this[Mg(0x922)][Mg(0x552)][Mg(0x304)](MC),MF&&MF[Mg(0x899)]<=0x4&&(this[Mg(0x71c)][Mg(0x152)]=![],this[Mg(0x922)][Mg(0x6b3)](),this[Mg(0x11a)][Mg(0x6b3)]());}if(EV!==![]&&(this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0xb92)]||this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0x271)]||this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0x2ee)])){if(MB['ck'][Mg(0x7a2)][Mg(0x912)]===RF&&this[Mg(0xba8)][EV][Mg(0x7de)][Mg(0x16a)]<0x7){let Mh=this[Mg(0xafd)][Mg(0xc86)](Mm=>Mm[Mg(0x912)]===MB['ck'][Mg(0x7a2)][Mg(0x912)])[0x0];Mh[Mg(0x7e4)][Mg(0x152)]=!![];}}if(EV!==![]&&this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0x863)]&&this[Mg(0x5e3)](this[Mg(0xc53)](MB['ck'][Mg(0x7a2)][Mg(0x912)]))!==this[Mg(0xba8)][EV][Mg(0x37a)]&&this[Mg(0xba8)][EV][Mg(0x37a)]!==0x5||EV!==![]&&this[Mg(0xba8)][EV][Mg(0x37a)]===0x5&&this[Mg(0xcc3)]!==MB['ck'][Mg(0x7a2)][Mg(0xc0a)]){if(MB['ck'][Mg(0x7a2)][Mg(0xc0a)]===0x1)this[Mg(0xafd)][Mg(0xc86)](Mm=>Mm[Mg(0x912)]===0x3&&Mm[Mg(0xc77)]===MB['ck'][Mg(0x7a2)][Mg(0xc77)])[Mg(0xd25)](Mm=>{var Mc=Mg;Mm[Mc(0x7e4)][Mc(0x152)]=!![];});else{let Mm=this[Mg(0xafd)][Mg(0xc86)](Mc=>Mc[Mg(0xc0a)]!==![]&&Mc[Mg(0xc0a)]===MB['ck'][Mg(0x7a2)][Mg(0xc0a)])[0x0];Mm[Mg(0x7e4)][Mg(0x152)]=!![];}}if(EV!==![]&&(this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0x876)]&&this[Mg(0xcc3)]!==MB['ck'][Mg(0x7a2)][Mg(0x912)]||(this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0xb92)]||this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0x271)]||this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0x2ee)])&&this[Mg(0x5b2)](MB['ck'][Mg(0x7a2)][Mg(0x912)])!==this[Mg(0xba8)][EV][Mg(0x37a)]&&this[Mg(0xba8)][EV][Mg(0x37a)]!==RC)){let Mc=this[Mg(0xafd)][Mg(0xc86)](Mj=>Mj[Mg(0x912)]===MB['ck'][Mg(0x7a2)][Mg(0x912)])[0x0];MB['ck'][Mg(0x7a2)][Mg(0x912)],Mc[Mg(0x7e4)][Mg(0x152)]=!![];}}if(MJ){this[Mg(0x484)][Mg(0x6b3)]();var Mi=MJ['ck'][Mg(0x54f)][Mg(0xb84)](Number(Mg(0x107))*MF[Mg(0x899)]/0x8);this[Mg(0x73e)]=Mi[Mg(0x16a)]();var MT=new LT(MJ['x']-MZ[Mg(0x63f)]['x'],MJ['y']-MZ[Mg(0x63f)]['y']);this[Mg(0x484)][Mg(0x700)](0x4,0xffffff,0x1),this[Mg(0x484)][Mg(0x5b7)](MJ['ck'][Mg(0x10d)]['x'],MJ['ck'][Mg(0x10d)]['y']),this[Mg(0x484)][Mg(0x189)](MJ['ck'][Mg(0x10d)]['x']+Mi['x'],MJ['ck'][Mg(0x10d)]['y']+Mi['y']),this[Mg(0x2db)][Mg(0x31f)][Mg(0x304)](MJ['ck'][Mg(0x10d)]['x']+Mi['x'],MJ['ck'][Mg(0x10d)]['y']+Mi['y']),this[Mg(0x2db)][Mg(0x878)]=Math[Mg(0xc35)](MJ['ck'][Mg(0x54f)]['y'],MJ['ck'][Mg(0x54f)]['x']),this[Mg(0x333)][Mg(0x19e)](0xffffff,0x1);var Mt=[new Phaser[(Mg(0xb6f))](0x0,0x0),new Phaser[(Mg(0xb6f))](0x28*0.3,0x14*0.3),new Phaser[(Mg(0xb6f))](0x0,0x28*0.3)];this[Mg(0x333)][Mg(0x507)](Mt),this[Mg(0x333)][Mg(0x366)]();var MC=parseFloat(String(Mg(0x559)))*Math[Mg(0x6c2)](parseFloat(Mg(0xc85)),Mi[Mg(0x16a)]())/0x2;this[Mg(0x333)]['y']=-MC/parseFloat(String(Mg(0x215))),this[Mg(0x333)][Mg(0x552)][Mg(0x304)](MC),this[Mg(0x22a)][Mg(0x152)]=!![],MF&&MF[Mg(0x899)]<=0x6&&(this[Mg(0x2db)][Mg(0x152)]=![],MF&&MF[Mg(0x899)]<=0x4&&(this[Mg(0x22a)][Mg(0x152)]=![]),this[Mg(0x484)][Mg(0x6b3)](),this[Mg(0x333)][Mg(0x6b3)]()),this[Mg(0x22a)][Mg(0x878)]=Math[Mg(0xc35)](MJ['ck'][Mg(0x54f)]['y'],MJ['ck'][Mg(0x54f)]['x']),this[Mg(0x22a)][Mg(0x31f)][Mg(0x304)](MJ['ck'][Mg(0x10d)]['x'],MJ['ck'][Mg(0x10d)]['y']);}if(Ms){this[Mg(0x484)][Mg(0x6b3)]();var Mz=Number(Mg(0x9aa));if(this[Mg(0x545)][Mg(0x212)]>=0x9){}this[Mg(0x484)][Mg(0x19e)](0xffffff,0x1);var Mi=Ms['ck'][Mg(0x54f)][Mg(0xb84)](Number(Mz)*MF[Mg(0x899)]/0x8);this[Mg(0x73e)]=Mi[Mg(0x16a)](),this[Mg(0x484)][Mg(0x700)](0x4,0xffffff,0x1),this[Mg(0x484)][Mg(0x5b7)](Ms['ck'][Mg(0x10d)]['x'],Ms['ck'][Mg(0x10d)]['y']),this[Mg(0x484)][Mg(0x189)](Ms['ck'][Mg(0x10d)]['x']+Mi['x'],Ms['ck'][Mg(0x10d)]['y']+Mi['y']),this[Mg(0x2db)][Mg(0x31f)][Mg(0x304)](Ms['ck'][Mg(0x10d)]['x']+Mi['x'],Ms['ck'][Mg(0x10d)]['y']+Mi['y']),this[Mg(0x2db)][Mg(0x878)]=Math[Mg(0xc35)](Ms['ck'][Mg(0x54f)]['y'],Ms['ck'][Mg(0x54f)]['x']),this[Mg(0x22a)][Mg(0x878)]=Math[Mg(0xc35)](Ms['ck'][Mg(0x54f)]['y'],Ms['ck'][Mg(0x54f)]['x']),this[Mg(0x22a)][Mg(0x31f)][Mg(0x304)](Ms['ck'][Mg(0x10d)]['x'],Ms['ck'][Mg(0x10d)]['y']),this[Mg(0xc7f)][Mg(0x31f)][Mg(0x304)](Ms['ck'][Mg(0x10d)]['x'],Ms['ck'][Mg(0x10d)]['y']),this[Mg(0xc7f)][Mg(0x152)]=!![],this[Mg(0x333)][Mg(0x19e)](0xffffff,0x1);var Mt=[new Phaser[(Mg(0xb6f))](0x0,0x0),new Phaser[(Mg(0xb6f))](0x28*0.3,0x14*0.3),new Phaser[(Mg(0xb6f))](0x0,0x28*0.3)];this[Mg(0x333)][Mg(0x507)](Mt),this[Mg(0x333)][Mg(0x366)]();var MC=parseFloat(String(Mg(0x559)))*Math[Mg(0x6c2)](parseFloat(Mg(0xc85)),Mi[Mg(0x16a)]())/0x2;this[Mg(0x333)]['y']=-MC/parseFloat(String(Mg(0x215))),this[Mg(0x333)][Mg(0x552)][Mg(0x304)](MC),this[Mg(0x22a)][Mg(0x152)]=!![],MF&&MF[Mg(0x899)]<=0x6&&(this[Mg(0x2db)][Mg(0x152)]=![],this[Mg(0x484)][Mg(0x6b3)](),this[Mg(0x333)][Mg(0x6b3)](),MF&&MF[Mg(0x899)]<=0x4&&(this[Mg(0x22a)][Mg(0x152)]=![]));}},R5[n2(0xa3a)][n2(0x7a8)]=function(MS,MW,Mv=![]){var Mg=n2;function MJ(MH,Mb,P0,P1){var P2=Lw,P3=[],P4=[],P5=P1,P6=MH;P6[P2(0x55d)]=Mb;if(P6[P2(0x7ec)]===![])return;if(P6[P2(0xb1a)])return;if(P6[P2(0x478)]===!![]){var P7=P6[P2(0x3d5)][P2(0x369)]();P6[P2(0x3d5)]=P6[P2(0x3d5)][P2(0xb84)](P1[P2(0x924)]);var P8=P6[P2(0x3d5)][P2(0x16a)](),P9=0x1,Pe=P6[P2(0x3d5)],Pn=parseFloat('2');P8>Pn&&(P9=Math[P2(0xaa6)](P8/Pn),Pe=P6[P2(0x3d5)][P2(0xb84)](0x1/P9)),P6[P2(0x3d5)]=P7[P2(0x369)]();var Pp,PD=[],PL=[],PE=[],PR=P1[P2(0xc1e)]*1.5,PM=![];for(var PP=0x0;PP<P9;PP++){P6['x']+=Pe['x'],P6['y']+=Pe['y'],P6[P2(0xc45)]=Pe;var PS=P5[P2(0x687)](P6,P1[P2(0x211)]);PS&&PS[P2(0x16a)]&&PE[P2(0x526)](...PS);if(PE[P2(0x16a)]>0x0)break;if(P5[P2(0x77d)](P6,Pe[P2(0x369)](),(Pf,PN)=>{var PG=P2;P6[PG(0xb1a)]=!![],P6[PG(0x478)]=![],P6[PG(0x931)]=PG(0x952),P6[PG(0xd1d)]=PN,P6[PG(0xaf4)]=P1[PG(0x6c6)][PN],P1[PG(0x7de)][PG(0x526)](P6),P6[PG(0x27f)][PG(0x526)]({'typeCol':PG(0x952),'Col':P1[PG(0x6c6)][PN]}),P1[PG(0xa61)][PG(0x526)]({'ball':P6,'coll':P1[PG(0x6c6)][PN],'type':PG(0x952)}),!P1[PG(0xa41)]&&(P1[PG(0xa41)]=new LT(P6['x'],P6['y'])),(P1[PG(0x596)][PG(0x526)](P6[PG(0x912)]),P1[PG(0xd1c)][PG(0x526)]({'ball':P6,'coll':P1[PG(0x6c6)][PN],'type':PG(0x952)})),(P1[PG(0xc64)]!==P1[PG(0x37e)][PG(0x863)]&&P1[PG(0xc64)]!==P1[PG(0x37e)][PG(0x876)]&&P1[PG(0x37a)]!==P1[PG(0x5b2)](P6[PG(0x912)])&&P1[PG(0x37a)]!==P1[PG(0xad1)]||P1[PG(0xc64)]!==P1[PG(0x37e)][PG(0x863)]&&P1[PG(0xc64)]!==P1[PG(0x37e)][PG(0x876)]&&P1[PG(0x37a)]===-0x1&&P1[PG(0x5b2)](P6[PG(0x912)])===P1[PG(0x93f)]||(P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x876)]&&(P1[PG(0x358)]===P1[PG(0xad1)]&&P6[PG(0x912)]!==P1[PG(0xcc3)])||P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x876)]&&P1[PG(0x358)]!==P1[PG(0xad1)]&&P1[PG(0x358)][PG(0x912)]!==P1[PG(0xcc3)])||(P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x863)]&&(P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x1||P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x2)&&P1[PG(0x5e3)](P6[PG(0xc0a)])!==P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]||P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x863)]&&P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x5&&P6[PG(0xc0a)]!==P1[PG(0xcc3)]))&&(P1[PG(0x4ae)]=!![]),P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x863)]&&P1[PG(0x596)][PG(0x16a)]>0x1&&(P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x2||P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x5)&&(P1[PG(0x4ae)]=!![]),P0===P6&&(P1[PG(0x4ae)]=!![]);if(!P1[PG(0x4ae)])P1[PG(0xc1a)]++;if(P1[PG(0x10d)]===![])P1[PG(0x10d)]=new LT(P6['x'],P6['y']);P3[PG(0x526)](P6);}))return;var PW=P5[P2(0x4b3)](P6),Pv=P5[P2(0x20b)](P6),Pg=P5[P2(0x5c4)](P6);PW&&PW[P2(0x16a)]&&PD[P2(0x526)](...PW);if(Pv&&Pv[P2(0x16a)]){if(Pv[P2(0x9cf)]){}PD[P2(0x526)](...Pv);}Pg&&Pg[P2(0x16a)]&&PL[P2(0x526)](...Pg);if(PD[P2(0x16a)]>0x0||PL[P2(0x16a)]>0x0)break;}if(PD[P2(0x16a)]>0x0||PL[P2(0x16a)]>0x0||PE[P2(0x16a)]>0x0){var PJ=![];P6['x']-=Pe['x'],P6['y']-=Pe['y'];var PB=Pe[P2(0x16a)](),Ps=0x1,Py=Pe[P2(0x369)](),Pq=parseFloat(P2(0x6f2));PB>Pq&&(Ps=Math[P2(0xaa6)](PB/Pq),Py=Pe[P2(0xb84)](0x1/Ps));var Px=0x14;for(var PP=0x0;PP<Ps;PP++){if(PJ===!![])break;P6['x']+=Py['x'],P6['y']+=Py['y'],P6[P2(0x61d)]=Py;if(P5[P2(0x77d)](P6,Py[P2(0x369)](),(Pf,PN)=>{var PG=P2;P6[PG(0xb1a)]=!![],P6[PG(0x478)]=![],P6[PG(0x931)]=PG(0x952),P6[PG(0xd1d)]=PN,P6[PG(0xaf4)]=P1[PG(0x6c6)][PN],P1[PG(0x7de)][PG(0x526)](P6),P6[PG(0x27f)][PG(0x526)]({'typeCol':PG(0x952),'Col':P1[PG(0x6c6)][PN]}),P1[PG(0xa61)][PG(0x526)]({'ball':P6,'coll':P1[PG(0x6c6)][PN],'type':PG(0x952)}),!P1[PG(0xa41)]&&(P1[PG(0xa41)]=new LT(P6['x'],P6['y'])),(P1[PG(0x596)][PG(0x526)](P6[PG(0x912)]),P1[PG(0xd1c)][PG(0x526)]({'ball':P6,'coll':P1[PG(0x6c6)][PN],'type':PG(0x952)})),(P1[PG(0xc64)]!==P1[PG(0x37e)][PG(0x863)]&&P1[PG(0xc64)]!==P1[PG(0x37e)][PG(0x876)]&&P1[PG(0x37a)]!==P1[PG(0x5b2)](P6[PG(0x912)])&&P1[PG(0x37a)]!==P1[PG(0xad1)]||P1[PG(0xc64)]!==P1[PG(0x37e)][PG(0x863)]&&P1[PG(0xc64)]!==P1[PG(0x37e)][PG(0x876)]&&P1[PG(0x37a)]===-0x1&&P1[PG(0x5b2)](P6[PG(0x912)])===P1[PG(0x93f)]||(P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x876)]&&(P1[PG(0x358)]===P1[PG(0xad1)]&&P6[PG(0x912)]!==P1[PG(0xcc3)])||P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x876)]&&P1[PG(0x358)]!==P1[PG(0xad1)]&&P1[PG(0x358)][PG(0x912)]!==P1[PG(0xcc3)])||(P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x863)]&&(P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x1||P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x2)&&P1[PG(0x5e3)](P6[PG(0xc0a)])!==P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]||P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x863)]&&P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x5&&P6[PG(0xc0a)]!==P1[PG(0xcc3)]))&&(P1[PG(0x4ae)]=!![]),P1[PG(0xc64)]===P1[PG(0x37e)][PG(0x863)]&&P1[PG(0x596)][PG(0x16a)]>0x1&&(P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x2||P1[PG(0xba8)][P1[PG(0xd27)]][PG(0x37a)]===0x5)&&(P1[PG(0x4ae)]=!![]),P0===P6&&(P1[PG(0x4ae)]=!![]);if(!P1[PG(0x4ae)])P1[PG(0xc1a)]++;if(P1[PG(0x10d)]===![])P1[PG(0x10d)]=new LT(P6['x'],P6['y']);P3[PG(0x526)](P6);}))return;if(PJ===!![]){}if(PE[P2(0x16a)]>0x0)for(var PZ=0x0;PZ<PE[P2(0x16a)];PZ++){Pp=P5[P2(0x4b6)](P6,P1[P2(0x211)][PE[PZ]],P1[P2(0xc1e)]);if(Pp===!![]){P5[P2(0x874)](P6,P1[P2(0x211)][PE[PZ]]),PP=Px,PJ=!![],P1[P2(0xbe2)]=P1[P2(0x6aa)],P1[P2(0x211)][PE[PZ]][P2(0x931)]=P2(0x9df);if(P1[P2(0x963)]===![])P1[P2(0x963)]=new LT(P6['x'],P6['y']);if(P1[P2(0x10d)]===![])P1[P2(0x10d)]=new LT(P6['x'],P6['y']);P6[P2(0x27f)][P2(0x526)]({'typeCol':P2(0x9df),'Col':P1[P2(0x211)][PE[PZ]]}),P3[P2(0x526)](P1[P2(0x211)][PE[PZ]]),P1[P2(0x642)][P2(0x526)]({'ball':P6,'coll':P1[P2(0x211)][PE[PZ]],'type':P2(0x9df)});if(P1[P2(0x358)]===P1[P2(0xad1)]||P1[P2(0x358)]===P6)P1[P2(0x1fa)][P2(0x526)]({'ball':P6,'coll':P1[P2(0x211)][PE[PZ]],'type':P2(0x9df)});!P1[P2(0xa41)]&&(P1[P2(0xa41)]=new LT(P6['x'],P6['y'])),P1[P2(0xa61)][P2(0x526)]({'ball':P6,'coll':P1[P2(0x211)][PE[PZ]],'type':P2(0x9df)});if(P1[P2(0xc64)]!==P1[P2(0x37e)][P2(0x863)]&&P1[P2(0xc64)]!==P1[P2(0x37e)][P2(0x876)]&&P1[P2(0x37a)]!==P1[P2(0x5b2)](P1[P2(0x211)][PE[PZ]][P2(0x912)])&&P1[P2(0x37a)]!==P1[P2(0xad1)]&&P1[P2(0x358)]===P1[P2(0xad1)]||P1[P2(0xc64)]!==P1[P2(0x37e)][P2(0x863)]&&P1[P2(0xc64)]!==P1[P2(0x37e)][P2(0x876)]&&P1[P2(0x37a)]===-0x1&&P1[P2(0x5b2)](P1[P2(0x211)][PE[PZ]][P2(0x912)])===P1[P2(0x93f)]||(P1[P2(0xc64)]===P1[P2(0x37e)][P2(0x876)]&&(P1[P2(0x358)]===P1[P2(0xad1)]&&P1[P2(0x211)][PE[PZ]][P2(0x912)]!==P1[P2(0xcc3)])||P1[P2(0xc64)]===P1[P2(0x37e)][P2(0x876)]&&P1[P2(0x358)]!==P1[P2(0xad1)]&&P1[P2(0x358)][P2(0x912)]!==P1[P2(0xcc3)])||(P1[P2(0xc64)]===P1[P2(0x37e)][P2(0x863)]&&(P1[P2(0xba8)][P1[P2(0xd27)]][P2(0x37a)]===0x1||P1[P2(0xba8)][P1[P2(0xd27)]][P2(0x37a)]===0x2)&&P1[P2(0x358)]===P1[P2(0xad1)]&&P1[P2(0x5e3)](P1[P2(0x211)][PE[PZ]][P2(0xc0a)])!==P1[P2(0xba8)][P1[P2(0xd27)]][P2(0x37a)]||P1[P2(0xc64)]===P1[P2(0x37e)][P2(0x863)]&&P1[P2(0xba8)][P1[P2(0xd27)]][P2(0x37a)]===0x5&&P1[P2(0x211)][PE[PZ]][P2(0xc0a)]!==P1[P2(0xcc3)]))return P1[P2(0x4ae)]=!![],P3;P1[P2(0x358)]===P1[P2(0xad1)]&&(P1[P2(0xb8b)][P2(0x526)]({'ball':P6,'coll':P1[P2(0x211)][PE[PZ]],'type':P2(0x9df)}),P1[P2(0x358)]=P1[P2(0x211)][PE[PZ]]),P6[P2(0x358)]=P0[P2(0x358)];}}if(PJ===!![])break;if(PD[P2(0x16a)]>0x0)for(var PZ=0x0;PZ<PD[P2(0x16a)];PZ++){Pp=P5[P2(0xc09)](P6,PD[PZ]);if(Pp!==![]&&!PD[PZ][P2(0x72c)]){PP=Px;if(P1[P2(0x10d)]===![])P1[P2(0x10d)]=new LT(P6['x'],P6['y']);P6[P2(0x3d5)]=P5[P2(0x264)](P6,Pp,P6[P2(0x3d5)]),PJ=!![],!P1[P2(0xa41)]&&(P1[P2(0xa41)]=new LT(P6['x'],P6['y'])),P5[P2(0x336)](P6,Pp),(P1[P2(0x358)]===P1[P2(0xad1)]||P1[P2(0x358)]===P6)&&P1[P2(0x1fa)][P2(0x526)]({'ball':P6,'coll':PD[PZ],'type':P2(0x1c0)}),(P1[P2(0x462)][P2(0x526)]({'ball':P6,'coll':PD[PZ],'type':P2(0x1c0)}),P1[P2(0xa61)][P2(0x526)]({'ball':P6,'coll':PD[PZ],'type':P2(0x1c0)})),P1[P2(0x358)]===P1[P2(0xad1)]&&P1[P2(0xb8b)][P2(0x526)]({'ball':P6,'coll':PD[PZ],'type':P2(0x1c0)}),P6[P2(0x27f)][P2(0x526)]({'typeCol':P2(0x1c0),'Col':PD[PZ]});break;}}if(PJ===!![])break;if(PL[P2(0x16a)]>0x0)for(var PZ=0x0;PZ<PL[P2(0x16a)];PZ++){Pp=P5[P2(0x4b6)](P6,PL[PZ],PL[PZ][P2(0x536)]);if(Pp===!![]){PP=Px,P1[P2(0x10d)]===![]&&(P1[P2(0x10d)]=new LT(P6['x'],P6['y'])),(P6[P2(0x3d5)]=P5[P2(0x264)](P6,PL[PZ],P6[P2(0x3d5)]),PJ=!![]),!P1[P2(0xa41)]&&(P1[P2(0xa41)]=new LT(P6['x'],P6['y'])),(P5[P2(0xc40)](P6,PL[PZ]),P1[P2(0xa61)][P2(0x526)]({'ball':P6,'coll':PL[PZ],'type':P2(0x2e7)}),P1[P2(0x49a)][P2(0x526)]({'ball':P6,'coll':PL[PZ],'type':P2(0x2e7)}));if(P1[P2(0x358)]===P1[P2(0xad1)])P1[P2(0xb8b)][P2(0x526)]({'ball':P6,'coll':PL[PZ],'type':P2(0x2e7)});if(P1[P2(0x358)]===P1[P2(0xad1)]||P1[P2(0x358)]===P6)P1[P2(0x1fa)][P2(0x526)]({'ball':P6,'coll':PL[PZ],'type':P2(0x2e7)});P6[P2(0x27f)][P2(0x526)]({'typeCol':P2(0x2e7),'Col':PL[PZ]});break;}}if(PJ===!![])break;}}else{}P1[P2(0x4a5)](P6);}return P3;};var MB=![],Ms=![],My=![],Mq=![],Mx={'ballID':0x0},MZ=![],Mf=[],MN=[],MG=-0x1,MF=![];if(!Mv[Mg(0x385)])return;Mv[Mg(0x385)][Mg(0x3d5)]=Mv[Mg(0x8ca)][Mg(0x369)](),Mv[Mg(0x385)][Mg(0x478)]=!![];var Mi=[],Mr=[],Mt=[],MC=0x0,MT=0x1;while(Mv[Mg(0xa21)]()&&!Mv[Mg(0x4ae)]){var Mz=[];for(var Mh=0x0;Mh<Mv[Mg(0x211)][Mg(0x16a)];Mh++){var Mm=Mv[Mg(0x211)][Mg(0x16a)];Mm<=Mh&&(Mh=Mm-0x1);var Mc=MJ(Mv[Mg(0x211)][Mh],Mv[Mg(0x8ca)][Mg(0x369)](),Mv[Mg(0x385)],Mv);}Mv[Mg(0x6aa)]++;if(Mv[Mg(0x358)]===Mv[Mg(0xad1)])Mv[Mg(0x329)]=Mv[Mg(0x385)][Mg(0x27f)][Mg(0x16a)];MC++;}return[Mv];while(MC===0x37def10){let MH=![];MH=this[Mg(0x211)][MC%(this[Mg(0x211)][Mg(0x16a)]-0x1)],MC++;if(this[Mg(0x5b2)](MH[Mg(0x912)])===RG){}if(MH[Mg(0x478)]===!![]){var Mj=MH[Mg(0x3d5)][Mg(0x16a)](),MO=0x1,Mu=MH[Mg(0x3d5)],MU=0x5;Mj>MU&&(MO=Math[Mg(0xaa6)](Mj/MU),Mu=MH[Mg(0x3d5)][Mg(0xb84)](0x1/MO));var MY,MI=[],Md=[],MA=[];MH[Mg(0x61d)]=![];for(var Mh=0x0;Mh<MO;Mh++){MH['x']+=Mu['x'],MH['y']+=Mu['y'];for(var Mo=0x0;Mo<this[Mg(0x211)][Mg(0x16a)];Mo++){var Mm=this[Mg(0x211)][Mg(0x16a)];Mm<=Mo&&(Mo=Mm-0x1);if(this[Mg(0x211)][Mo]===MH)continue;if(this[Mg(0x211)][Mo][Mg(0x7ec)]===![])continue;if(this[Mg(0x211)][Mo][Mg(0xb1a)]===!![])continue;MY=this[Mg(0x4b6)](MH,this[Mg(0x211)][Mo],RB),MY===!![]&&MA[Mg(0x526)](Mo);}if(MA[Mg(0x16a)]>0x0)break;for(var Mo=0x0;Mo<this[Mg(0x6c6)][Mg(0x16a)];Mo++){var MX=new LT(MH['x']-this[Mg(0x6c6)][Mo]['x'],MH['y']-this[Mg(0x6c6)][Mo]['y']);MX[Mg(0x16a)]()<this[Mg(0x6c6)][Mo][Mg(0x7b8)]&&MH[Mg(0x3d5)][Mg(0x16a)]()<0x5&&!MN[Mg(0x355)](MH[Mg(0x912)])&&(this[Mg(0x6c6)][Mo][Mg(0x835)]=Mg(0x952),!![]&&(MZ=!![],MH[Mg(0xd1d)]=Mo,Mf[Mg(0x526)]({'type':Mg(0x952),'bl':MH,'collision':this[Mg(0x6c6)][Mo],'fallHoleIdx':Mo}),Mf[Mf[Mg(0x16a)]-0x1][Mg(0xa16)]=MH[Mg(0x3d5)][Mg(0x369)](),Mf[Mf[Mg(0x16a)]-0x1][Mg(0x54f)]=MH[Mg(0x3d5)][Mg(0x369)](),MH[Mg(0x8ca)]=vecPower[Mg(0x369)](),MH[Mg(0x478)]=![],MH[Mg(0x7ec)]=![],MH[Mg(0x3d5)]=new LT(),MH[Mg(0xb1a)]=!![],MN[Mg(0x526)](MH[Mg(0x912)]))),MX[Mg(0x16a)]()<this[Mg(0x6c6)][Mo][Mg(0x34d)]&&!MN[Mg(0x355)](MH[Mg(0x912)])&&(this[Mg(0x6c6)][Mo][Mg(0x835)]=Mg(0x952),!![]&&(MZ=!![],MH[Mg(0xd1d)]=Mo,Mf[Mg(0x526)]({'type':Mg(0x952),'bl':MH,'collision':this[Mg(0x6c6)][Mo],'fallHoleIdx':Mo}),Mf[Mf[Mg(0x16a)]-0x1][Mg(0xa16)]=MH[Mg(0x3d5)][Mg(0x369)](),Mf[Mf[Mg(0x16a)]-0x1][Mg(0x54f)]=MH[Mg(0x3d5)][Mg(0x369)](),MH[Mg(0x8ca)]=vecPower[Mg(0x369)](),MH[Mg(0x478)]=![],MH[Mg(0x7ec)]=![],MH[Mg(0xb1a)]=!![],MH[Mg(0x3d5)]=new LT(),MN[Mg(0x526)](MH[Mg(0x912)])));}if(!MH[Mg(0xb1a)]){for(var MQ in this[Mg(0x62f)]){this[Mg(0x62f)][Mg(0x239)](MQ)&&(MY=this[Mg(0xc09)](MH,this[Mg(0x62f)][MQ]),MY!==![]?this[Mg(0x62f)][MQ][Mg(0x38e)][Mg(0x2c8)](MH[Mg(0x912)])===-0x1&&(this[Mg(0x62f)][MQ][Mg(0x835)]=Mg(0x1c0),MI[Mg(0x526)](this[Mg(0x62f)][MQ])):this[Mg(0x62f)][MQ][Mg(0x38e)][Mg(0x20a)](this[Mg(0x62f)][MQ][Mg(0x38e)][Mg(0x2c8)](MH[Mg(0x912)]),0x1));}if(MI[Mg(0x16a)]>0x0)break;for(var MQ in this[Mg(0x199)]){if(this[Mg(0x199)][Mg(0x239)](MQ))for(var Mo=0x0;Mo<this[Mg(0x199)][MQ][Mg(0x16a)];Mo++){MY=this[Mg(0xc09)](MH,this[Mg(0x199)][MQ][Mo]),MY!==![]?this[Mg(0x199)][MQ][Mo][Mg(0x38e)][Mg(0x2c8)](MH[Mg(0x912)])===-0x1&&(this[Mg(0x199)][MQ][Mo][Mg(0x835)]=Mg(0x1c0),MI[Mg(0x526)](this[Mg(0x199)][MQ][Mo])):this[Mg(0x199)][MQ][Mo][Mg(0x38e)][Mg(0x20a)](this[Mg(0x199)][MQ][Mo][Mg(0x38e)][Mg(0x2c8)](MH[Mg(0x912)]),0x1);}}if(MI[Mg(0x16a)]>0x0)break;for(var MQ in this[Mg(0x5f6)]){if(this[Mg(0x5f6)][Mg(0x239)](MQ))for(var Mo=0x0;Mo<this[Mg(0x5f6)][MQ][Mg(0x16a)];Mo++){MY=this[Mg(0x4b6)](MH,this[Mg(0x5f6)][MQ][Mo],this[Mg(0x5f6)][MQ][Mo][Mg(0x536)]),MY===!![]?this[Mg(0x5f6)][MQ][Mo][Mg(0x38e)][Mg(0x2c8)](MH[Mg(0x912)])===-0x1&&(this[Mg(0x5f6)][MQ][Mo][Mg(0x835)]=Mg(0xb12),Md[Mg(0x526)](this[Mg(0x5f6)][MQ][Mo])):this[Mg(0x5f6)][MQ][Mo][Mg(0x38e)][Mg(0x20a)](this[Mg(0x5f6)][MQ][Mo][Mg(0x38e)][Mg(0x2c8)](MH[Mg(0x912)]),0x1);}}if(Md[Mg(0x16a)]>0x0)break;}}var Ma=![];if((MI[Mg(0x16a)]>0x0||Md[Mg(0x16a)]>0x0||MA[Mg(0x16a)]>0x0)&&!MH[Mg(0xb1a)]){MH['x']-=Mu['x'],MH['y']-=Mu['y'];var MK=Mu[Mg(0x16a)](),Ml=0x1,MV=Mu[Mg(0x369)](),Mk=Number(String('.5'));MK>Mk&&(Ml=Math[Mg(0xaa6)](MK/Mk),MV=Mu[Mg(0xb84)](0x1/Ml));var Mw=0x14;MH[Mg(0xb1a)]&&(Ml=0x0);for(var Mh=0x0;Mh<Ml;Mh++){if(Ma===!![])break;MH['x']+=MV['x'],MH['y']+=MV['y'],MH[Mg(0x61d)]=MV;for(var Mo=0x0;Mo<this[Mg(0x6c6)][Mg(0x16a)];Mo++){var MX=new LT(MH['x']-this[Mg(0x6c6)][Mo]['x'],MH['y']-this[Mg(0x6c6)][Mo]['y']);MX[Mg(0x16a)]()<this[Mg(0x6c6)][Mo][Mg(0x7b8)]&&MH[Mg(0x3d5)][Mg(0x16a)]()<0x5&&!MH[Mg(0xb1a)]&&(MZ=!![],MH[Mg(0xd1d)]=Mo,Mf[Mg(0x526)]({'type':Mg(0x952),'bl':MH,'collision':this[Mg(0x6c6)][Mo],'fallHoleIdx':Mo}),Mf[Mf[Mg(0x16a)]-0x1][Mg(0xa16)]=MH[Mg(0x3d5)][Mg(0x369)](),Mf[Mf[Mg(0x16a)]-0x1][Mg(0x54f)]=MH[Mg(0x3d5)][Mg(0x369)](),MH[Mg(0x8ca)]=vecPower[Mg(0x369)](),MH[Mg(0x478)]=![],MH[Mg(0x7ec)]=![],MH[Mg(0xb1a)]=!![],MH[Mg(0x3d5)]=new LT(),MN[Mg(0x526)](MH[Mg(0x912)])),MX[Mg(0x16a)]()<this[Mg(0x6c6)][Mo][Mg(0x34d)]&&!MH[Mg(0xb1a)]&&(MZ=!![],MH[Mg(0xd1d)]=Mo,Mf[Mg(0x526)]({'type':Mg(0x952),'bl':MH,'collision':this[Mg(0x6c6)][Mo],'fallHoleIdx':Mo}),Mf[Mf[Mg(0x16a)]-0x1][Mg(0xa16)]=MH[Mg(0x3d5)][Mg(0x369)](),Mf[Mf[Mg(0x16a)]-0x1][Mg(0x54f)]=MH[Mg(0x3d5)][Mg(0x369)](),MH[Mg(0x8ca)]=vecPower[Mg(0x369)](),MH[Mg(0x478)]=![],MH[Mg(0x7ec)]=![],MH[Mg(0xb1a)]=!![],MH[Mg(0x3d5)]=new LT(),MN[Mg(0x526)](MH[Mg(0x912)]));}if(Ma===!![])break;if(!MH[Mg(0xb1a)]){if(MA[Mg(0x16a)]>0x0)for(var Mo=0x0;Mo<MA[Mg(0x16a)];Mo++){MY=this[Mg(0x4b6)](MH,this[Mg(0x211)][MA[Mo]],RB);if(MY===!![]){this[Mg(0x874)](MH,this[Mg(0x211)][MA[Mo]]);if(MH[Mg(0x912)]===0x0){}Mh=Mw,Ma=!![],CollisionsEnable=![];}}if(Ma===!![])break;if(MI[Mg(0x16a)]>0x0)for(var Mo=0x0;Mo<MI[Mg(0x16a)];Mo++){MY=this[Mg(0xc09)](MH,MI[Mo]);if(MY!==![]){Mh=Mw;if(MI[Mo][Mg(0x38e)][Mg(0x2c8)](MH[Mg(0x912)])===-0x1){MI[Mo][Mg(0x38e)][Mg(0x526)](MH[Mg(0x912)]),MI[Mo][Mg(0xd21)]=0xf,MH[Mg(0x3d5)]=this[Mg(0x264)](MH,MY,MH[Mg(0x3d5)]),this[Mg(0x336)](MH,MY),Ma=!![];break;}}}if(Ma===!![])break;if(Md[Mg(0x16a)]>0x0)for(var Mo=0x0;Mo<Md[Mg(0x16a)];Mo++){MY=this[Mg(0x4b6)](MH,Md[Mo],Md[Mo][Mg(0x536)]);if(MY===!![]){Mh=Mw;if(Md[Mo][Mg(0x38e)][Mg(0x2c8)](MH[Mg(0x912)])===-0x1){Md[Mo][Mg(0x38e)][Mg(0x526)](MH[Mg(0x912)]),Md[Mo][Mg(0xd21)]=0xf,MH[Mg(0x3d5)]=this[Mg(0x264)](MH,Md[Mo],MH[Mg(0x3d5)]),EE[Mg(0x4a5)](MH),this[Mg(0xc40)](MH,Md[Mo]),Ma=!![];break;}}}}if(Ma===!![])break;}if(Ma===!![]){}}else{}this[Mg(0x4a5)](MH);}}return Mf;},R5[n2(0xa3a)][n2(0xc17)]=function(MS,MW,Mv){var Mg=n2;this[Mg(0xaf5)]();var MJ=![],MB=[],Ms=[],My={'x':MS['x'],'y':MS['y']},Mq=![],Mx=[],MZ=[];function Mf(Mi,Mr,Mt=[],MC=![]){var MT=Mg;this[MT(0x385)]=![],this[MT(0x211)]=[],this[MT(0xafd)][MT(0xd25)](PD=>{var PL=MT;let PE=PD[PL(0x369)]();PE[PL(0x3d5)]=new LT(),PE[PL(0x478)]=![],PE[PL(0x7ec)]&&!PE[PL(0xb1a)]&&(this[PL(0x211)][PL(0x526)](PE),PE[PL(0x912)]===Mi[PL(0x912)]&&(this[PL(0x385)]=PE));});if(!this[MT(0x385)])return;this[MT(0x385)][MT(0x3d5)]=Mr[MT(0x369)](),this[MT(0x385)][MT(0x478)]=!![],this[MT(0x385)][MT(0x7a2)]=![];var Mz=![],Mh=0x0,Mm=this[MT(0x385)][MT(0x3d5)],Mc=null,Mj=null,MO={},Mu=!![],MU=[],MY=[],MI=[];let Md=0x0,MA=![],Mo=![];var MX=0x0,MQ=![],Ma=![];while(Mo!=!![]&&Mt[MT(0x16a)]<=0x0&&this[MT(0x385)][MT(0x478)]){Mu==![]&&MX++;let PD=![];PD=this[MT(0x211)][Md%(this[MT(0x211)][MT(0x16a)]-0x1)],Md++;if(!PD)continue;var MK=()=>{var PL=MT,PE=![],PR=![],PM=EE[PL(0x287)],PP={'validBallsInsertedOnTurn':0x0},PS=PM,PW=PD;if(ED!==DY[PL(0x829)])return;if(PW[PL(0x7ec)]===![])return;if(PW[PL(0xb1a)])return;if(PW[PL(0x478)]===!![]){var Pv=PW[PL(0x3d5)][PL(0x369)]();PW[PL(0x3d5)]=PW[PL(0x3d5)][PL(0xb84)](this[PL(0x924)]);var Pg=PW[PL(0x3d5)][PL(0x16a)](),PJ=0x1,PB=PW[PL(0x3d5)],Ps=parseFloat('2');Pg>Ps&&(PJ=Math[PL(0xaa6)](Pg/Ps),PB=PW[PL(0x3d5)][PL(0xb84)](0x1/PJ)),PW[PL(0x3d5)]=Pv[PL(0x369)]();var Py,Pq=[],Px=[],PZ=[];for(var Pf=0x0;Pf<PJ;Pf++){if(Mt[PL(0x16a)]>=0x1)break;PW['x']+=PB['x'],PW['y']+=PB['y'];var PN=PS[PL(0x687)](PW,EE[PL(0x211)]);PN&&PN[PL(0x16a)]&&PZ[PL(0x526)](...PN);if(PZ[PL(0x16a)]>0x0)break;if(PS[PL(0x77d)](PW,PB[PL(0x369)](),PO=>{var Pu=PL;PW[Pu(0xb1a)]=!![],PW[Pu(0x478)]=![],Mt[Pu(0x526)]({'type':Pu(0x952),'collision':PO}),Mt[Mt[Pu(0x16a)]-0x1][Pu(0xa16)]=PW[Pu(0x3d5)][Pu(0x369)](),Mt[Mt[Pu(0x16a)]-0x1][Pu(0x54f)]=PW[Pu(0x3d5)][Pu(0x369)]();}))return;var PG=PS[PL(0x4b3)](PW),PF=PS[PL(0x20b)](PW),Pi=PS[PL(0x5c4)](PW);PG&&PG[PL(0x16a)]&&Pq[PL(0x526)](...PG),PF&&PF[PL(0x16a)]&&Pq[PL(0x526)](...PF),Pi&&Pi[PL(0x16a)]&&Px[PL(0x526)](...Pi);if(Pq[PL(0x16a)]>0x0||Px[PL(0x16a)]>0x0)break;}if((Pq[PL(0x16a)]>0x0||Px[PL(0x16a)]>0x0||PZ[PL(0x16a)]>0x0)&&Mt[PL(0x16a)]<=0x0){PW['x']-=PB['x'],PW['y']-=PB['y'];var Pr=PB[PL(0x16a)](),Pt=0x1,PC=PB[PL(0x369)](),PT=parseFloat('.5');Pr>PT&&(Pt=Math[PL(0xaa6)](Pr/PT),PC=PB[PL(0xb84)](0x1/Pt));var Pz=![];for(var Pf=0x0;Pf<Pt;Pf++){if(Mt[PL(0x16a)]>=0x1)break;if(Pz===!![])break;PW['x']+=PC['x'],PW['y']+=PC['y'];if(PS[PL(0x77d)](PW,PB[PL(0x369)](),PO=>{var Pu=PL;PW[Pu(0xb1a)]=!![],PW[Pu(0x478)]=![],Mt[Pu(0x526)]({'type':Pu(0x952),'collision':PO}),Mt[Mt[Pu(0x16a)]-0x1][Pu(0xa16)]=PW[Pu(0x3d5)][Pu(0x369)](),Mt[Mt[Pu(0x16a)]-0x1][Pu(0x54f)]=PW[Pu(0x3d5)][Pu(0x369)]();}))return;if(PZ[PL(0x16a)]>0x0)for(var Ph=0x0;Ph<PZ[PL(0x16a)];Ph++){var Pm=EE[PL(0x211)][PZ[Ph]];Py=PS[PL(0x4b6)](PW,Pm);if(Py===!![]){let PO={'type':PL(0x9df),'collision':this[PL(0x211)][PZ[Ph]]};PO[PL(0xa16)]=PW[PL(0x3d5)][PL(0x369)](),PO[PL(0x10d)]=new LT(PW['x'],PW['y']);if(Mz==![])Mz=this[PL(0x211)][PZ[Ph]];PO[PL(0xc94)]=new LT(this[PL(0x211)][PZ[Ph]]['x'],this[PL(0x211)][PZ[Ph]]['y']),PO[PL(0x6e1)]=this[PL(0x211)][PZ[Ph]][PL(0x3d5)][PL(0x369)](),PS[PL(0x874)](PW,Pm),PO[PL(0xb4c)]=new LT(this[PL(0x211)][PZ[Ph]]['x'],this[PL(0x211)][PZ[Ph]]['y']),PO[PL(0x6e1)]=this[PL(0x211)][PZ[Ph]][PL(0x3d5)][PL(0x369)](),PO[PL(0x5a5)]=new LT(PW['x'],PW['y']),PO[PL(0x54f)]=PW[PL(0x3d5)][PL(0x369)](),Mt[PL(0x526)](PO),Pz=!![];if(PW[PL(0x912)]===Rr&&EE[PL(0x7e7)]===-0x1){}}}if(Pz===!![])break;if(Pq[PL(0x16a)]>0x0)for(var Ph=0x0;Ph<Pq[PL(0x16a)];Ph++){Py=PS[PL(0xc09)](PW,Pq[Ph]);if(Py!==![]&&!Pq[Ph][PL(0x72c)]){let Pu={'type':PL(0x1c0),'collision':Py};Pu[PL(0xa16)]=PW[PL(0x3d5)][PL(0x369)](),Pu[PL(0x10d)]=new LT(PW['x'],PW['y']),PW[PL(0x3d5)]=PS[PL(0x264)](PW,Py,PW[PL(0x3d5)]),Pz=!![],PS[PL(0x336)](PW,Py),Pu[PL(0x54f)]=PW[PL(0x3d5)][PL(0x369)](),Pu[PL(0x5a5)]=new LT(PW['x'],PW['y']),Mt[PL(0x526)](Pu);break;}if(Pq[Ph][PL(0xcdb)]&&!Pq[Ph][PL(0x72c)])var Pc=EE[PL(0x6c6)][Pq[Ph][PL(0xb5e)]],Pj=new LT(PW['x'],PW['y'])[PL(0x5d7)](new LT(Pc['x2'],Pc['y2']))[PL(0x76c)]();}if(Pz===!![])break;if(Px[PL(0x16a)]>0x0)for(var Ph=0x0;Ph<Px[PL(0x16a)];Ph++){Py=PS[PL(0x4b6)](PW,Px[Ph]);if(Py===!![]){let PU={'type':PL(0xb12),'collision':Px[Ph]};PU[PL(0xa16)]=PW[PL(0x3d5)][PL(0x369)](),PU[PL(0x10d)]=new LT(PW['x'],PW['y']),PW[PL(0x3d5)]=PS[PL(0x264)](PW,Px[Ph],PW[PL(0x3d5)]),Pz=!![],PS[PL(0xc40)](PW,Px[Ph]),PU[PL(0x54f)]=PW[PL(0x3d5)][PL(0x369)](),PU[PL(0x5a5)]=new LT(PW['x'],PW['y']),Mt[PL(0x526)](PU);break;}}if(Pz===!![])break;}}EE[PL(0x4a5)](PW);return;PW[PL(0x3d5)]=PW[PL(0x3d5)][PL(0xb84)](0.98),PW[PL(0x3d5)][PL(0x16a)]()<0.1&&(PW[PL(0x478)]=![],PW[PL(0x3d5)]=new LT());}};MK();if(PD[MT(0x478)]===0x3b9ac9ff){var Ml=PD[MT(0x3d5)][MT(0x16a)](),MV=0x1,Mm=PD[MT(0x3d5)],Mk=0x5;Ml>Mk&&(MV=Math[MT(0xaa6)](Ml/Mk),Mm=PD[MT(0x3d5)][MT(0xb84)](0x1/MV));var Mw,MH=[],Mb=[],P0=[];PD[MT(0x61d)]=![];var P1=new LT(PD['x'],PD['y']);for(var P2=0x0;P2<MV;P2++){if(Mt[MT(0x16a)]>=0x1)break;PD['x']+=Mm['x'],PD['y']+=Mm['y'];if(Mt[MT(0x16a)]<=0x0){for(var P3=0x0;P3<this[MT(0x211)][MT(0x16a)];P3++){var P4=this[MT(0x211)][MT(0x16a)];P4<=P3&&(P3=P4-0x1);if(this[MT(0x211)][P3]===PD)continue;if(MC&&this[MT(0x211)][P3][MT(0x912)]===MC[MT(0x912)])continue;if(this[MT(0x211)][P3][MT(0x7ec)]===![])continue;if(this[MT(0x211)][P3][MT(0xb1a)]===!![])continue;Mw=this[MT(0x4b6)](PD,this[MT(0x211)][P3],RB),Mw===!![]&&P0[MT(0x526)](P3);}if(P0[MT(0x16a)]>0x0)break;for(var P3=0x0;P3<this[MT(0x6c6)][MT(0x16a)];P3++){var P5=new LT(PD['x']-this[MT(0x6c6)][P3]['x'],PD['y']-this[MT(0x6c6)][P3]['y']);P5[MT(0x16a)]()<this[MT(0x6c6)][P3][MT(0x7b8)]&&PD[MT(0x3d5)][MT(0x16a)]()<0x5&&(this[MT(0x6c6)][P3][MT(0x835)]=MT(0x952),MA==![]&&(MA=!![],Mt[MT(0x526)]({'type':MT(0x952),'collision':this[MT(0x6c6)][P3]}),Mt[Mt[MT(0x16a)]-0x1][MT(0xa16)]=PD[MT(0x3d5)][MT(0x369)](),Mt[Mt[MT(0x16a)]-0x1][MT(0x54f)]=PD[MT(0x3d5)][MT(0x369)]())),P5[MT(0x16a)]()<this[MT(0x6c6)][P3][MT(0x34d)]&&(this[MT(0x6c6)][P3][MT(0x835)]=MT(0x952),MA==![]&&(MA=!![],Mt[MT(0x526)]({'type':MT(0x952),'collision':this[MT(0x6c6)][P3]}),Mt[Mt[MT(0x16a)]-0x1][MT(0xa16)]=PD[MT(0x3d5)][MT(0x369)](),Mt[Mt[MT(0x16a)]-0x1][MT(0x54f)]=PD[MT(0x3d5)][MT(0x369)]()));}if(!PD[MT(0xb1a)]){for(var P6 in this[MT(0x62f)]){this[MT(0x62f)][MT(0x239)](P6)&&(Mw=this[MT(0xc09)](PD,this[MT(0x62f)][P6]),Mw!==![]&&(this[MT(0x62f)][P6][MT(0x835)]=MT(0x1c0),MH[MT(0x526)](this[MT(0x62f)][P6])));}if(MH[MT(0x16a)]>0x0)break;for(var P6 in this[MT(0x199)]){if(this[MT(0x199)][MT(0x239)](P6))for(var P3=0x0;P3<this[MT(0x199)][P6][MT(0x16a)];P3++){Mw=this[MT(0xc09)](PD,this[MT(0x199)][P6][P3]),Mw!==![]&&(this[MT(0x199)][P6][P3][MT(0x835)]=MT(0x1c0),MH[MT(0x526)](this[MT(0x199)][P6][P3]));}}if(MH[MT(0x16a)]>0x0)break;for(var P6 in this[MT(0x5f6)]){if(this[MT(0x5f6)][MT(0x239)](P6))for(var P3=0x0;P3<this[MT(0x5f6)][P6][MT(0x16a)];P3++){Mw=![],Mw===!![]&&(this[MT(0x5f6)][P6][P3][MT(0x835)]=MT(0xb12),Mb[MT(0x526)](this[MT(0x5f6)][P6][P3]));}}if(Mb[MT(0x16a)]>0x0)break;}}else break;}var P7=![];if((MH[MT(0x16a)]>0x0||Mb[MT(0x16a)]>0x0||P0[MT(0x16a)]>0x0)&&!PD[MT(0xb1a)]){PD['x']-=Mm['x'],PD['y']-=Mm['y'];var P8=Mm[MT(0x16a)](),P9=0x1,Pe=Mm[MT(0x369)](),Pn=Number(String('.5'));P8>Pn&&(P9=Math[MT(0xaa6)](P8/Pn),Pe=Mm[MT(0xb84)](0x1/P9));var Pp=0x14;for(var P2=0x0;P2<P9;P2++){if(Mt[MT(0x16a)]>=0x1)break;if(P7===!![])break;PD['x']+=Pe['x'],PD['y']+=Pe['y'],PD[MT(0x61d)]=Pe;if(PD[MT(0x7a2)]==![]){for(var P3=0x0;P3<this[MT(0x6c6)][MT(0x16a)];P3++){var P5=new LT(PD['x']-this[MT(0x6c6)][P3]['x'],PD['y']-this[MT(0x6c6)][P3]['y']);P5[MT(0x16a)]()<this[MT(0x6c6)][P3][MT(0x7b8)]&&PD[MT(0x3d5)][MT(0x16a)]()<0x5&&(MA==![]&&(MA=!![],PD[MT(0xb1a)]=!![],Mt[MT(0x526)]({'type':MT(0x952),'collision':this[MT(0x6c6)][P3]}),Mt[Mt[MT(0x16a)]-0x1][MT(0xa16)]=PD[MT(0x3d5)][MT(0x369)](),Mt[Mt[MT(0x16a)]-0x1][MT(0x54f)]=PD[MT(0x3d5)][MT(0x369)](),P7=!![])),P5[MT(0x16a)]()<this[MT(0x6c6)][P3][MT(0x34d)]&&(MA==![]&&(MA=!![],PD[MT(0xb1a)]=!![],Mt[MT(0x526)]({'type':MT(0x952),'collision':this[MT(0x6c6)][P3]}),Mt[Mt[MT(0x16a)]-0x1][MT(0xa16)]=PD[MT(0x3d5)][MT(0x369)](),Mt[Mt[MT(0x16a)]-0x1][MT(0x54f)]=PD[MT(0x3d5)][MT(0x369)](),P7=!![]));}if(P7===!![])break;if(!PD[MT(0xb1a)]){if(P0[MT(0x16a)]>0x0)for(var P3=0x0;P3<P0[MT(0x16a)];P3++){Mw=this[MT(0x4b6)](PD,this[MT(0x211)][P0[P3]],RB);if(Mw===!![]){PD[MT(0x912)]===0x0&&MZ[MT(0x526)]({'x':this[MT(0x211)][P0[P3]]['x'],'y':this[MT(0x211)][P0[P3]]['y']});let PL={'type':MT(0x9df),'collision':this[MT(0x211)][P0[P3]]};PL[MT(0xa16)]=PD[MT(0x3d5)][MT(0x369)](),PL[MT(0x10d)]=new LT(PD['x'],PD['y']);if(Mz==![])Mz=this[MT(0x211)][P0[P3]];PL[MT(0x6e1)]=PD[MT(0x3d5)][MT(0x369)](),this[MT(0x874)](PD,this[MT(0x211)][P0[P3]]),PL[MT(0xc94)]=new LT(this[MT(0x211)][P0[P3]]['x'],this[MT(0x211)][P0[P3]]['y']),PL[MT(0xb4c)]=new LT(this[MT(0x211)][P0[P3]]['x'],this[MT(0x211)][P0[P3]]['y']),PL[MT(0x6e1)]=this[MT(0x211)][P0[P3]][MT(0x3d5)][MT(0x369)](),PL[MT(0x5a5)]=new LT(PD['x'],PD['y']),PL[MT(0x54f)]=PD[MT(0x3d5)][MT(0x369)](),Mt[MT(0x526)](PL),P7=!![],Mu=![];}}if(P7===!![])break;if(MH[MT(0x16a)]>0x0)for(var P3=0x0;P3<MH[MT(0x16a)];P3++){Mw=this[MT(0xc09)](PD,MH[P3]);if(Mw!==![]){Mt[MT(0x526)]({'type':MT(0x1c0),'collision':Mw}),Mt[Mt[MT(0x16a)]-0x1][MT(0xa16)]=PD[MT(0x3d5)][MT(0x369)](),Mt[Mt[MT(0x16a)]-0x1][MT(0x10d)]=new LT(PD['x'],PD['y']),PD[MT(0x3d5)]=this[MT(0x264)](PD,Mw,PD[MT(0x3d5)]),this[MT(0x336)](PD,Mw),Mt[Mt[MT(0x16a)]-0x1][MT(0x5a5)]=new LT(PD['x'],PD['y']),Mt[Mt[MT(0x16a)]-0x1][MT(0x54f)]=PD[MT(0x3d5)][MT(0x369)](),P7=!![],Mu=![];break;}}if(P7===!![])break;if(Mb[MT(0x16a)]>0x0)for(var P3=0x0;P3<Mb[MT(0x16a)];P3++){Mw=this[MT(0x4b6)](PD,Mb[P3]);if(Mw===!![]){Mt[MT(0x526)]({'type':MT(0xb12),'collision':Mb[P3]}),Mt[Mt[MT(0x16a)]-0x1][MT(0xa16)]=PD[MT(0x3d5)][MT(0x369)](),Mt[Mt[MT(0x16a)]-0x1][MT(0x10d)]=new LT(PD['x'],PD['y']),PD[MT(0x3d5)]=this[MT(0x264)](PD,Mb[P3],PD[MT(0x3d5)]),this[MT(0xc40)](PD,Mb[P3]),Mt[Mt[MT(0x16a)]-0x1][MT(0x5a5)]=new LT(PD['x'],PD['y']),Mt[Mt[MT(0x16a)]-0x1][MT(0x54f)]=PD[MT(0x3d5)][MT(0x369)](),P7=!![],Mu=![];break;}}}if(P7===!![])break;}}P7===!![]&&(Mu=![],Mh++);}P7===!![]&&Mq===![]&&(Mq=new LT(PD['x'],PD['y'])),this[MT(0x4a5)](PD),PD[MT(0x478)]&&(PD[MT(0x912)]===0x0&&Mx[MT(0x526)]({'x':PD['x'],'y':PD['y']}),Mt[MT(0x16a)]>=0x1&&PD[MT(0x912)]!==0x0&&MZ[MT(0x526)]({'x':PD['x'],'y':PD['y']}));}if(Mz&&Mz[MT(0x478)]!=!![]){}}}this[Mg(0x4d4)]=Mf[Mg(0xb0f)](this);if(this[Mg(0xafd)][Mg(0x16a)]<=0x1)return;this[Mg(0x4d4)](MS,MW,MB,Mv),MB[Mg(0x16a)]<=0x0&&MB[Mg(0x526)]({'type':Mg(0x31f),'collision':new LT(this[Mg(0x385)]['x'],this[Mg(0x385)]['y'])});var MN=![];let MG=new LT(this[Mg(0x385)]['x'],this[Mg(0x385)]['y']),MF=![];return MB[Mg(0xd25)]((Mi,Mr)=>{var Mt=Mg;if(Mr<=0x0){if(Mi[Mt(0x835)]===Mt(0x9df))MN==0x257b&&(MN=!![],MS['x']=Mi[Mt(0x7a2)]['x'],MS['y']=Mi[Mt(0x7a2)]['y'],this[Mt(0x4d4)](MS,Mi[Mt(0x6e1)],Ms,Mi[Mt(0x7a2)]),MF=new LT(MS['x'],MS['y']),Ms[Mt(0x16a)]<=0x0&&Ms[Mt(0x526)]({'type':Mt(0x31f),'collision':new LT(MS['x'],MS['y'])}),MS['x']=MG['x'],MS['y']=MG['y']);else{}}if(Mi[Mt(0x835)]===Mt(0x9df)){}else{}}),{'CueBallPoints':Mx,'TargetPoints':MZ,'FirstPoint':Mq,'Collisions':MB,'startPosition':new LT(My['x'],My['y']),'lastPosition':new LT(this[Mg(0x385)]['x'],this[Mg(0x385)]['y'])};},R5[n2(0xa3a)][n2(0x7ee)]=function(){var MS=n2;if(!this[MS(0xafd)]){this[MS(0xafd)]=[],this[MS(0x211)]=[];return;}this[MS(0xafd)][MS(0xd25)](MW=>{var Mv=MS;if(MW[Mv(0x6ac)])Me[Mv(0x177)][Mv(0x7dd)](MW[Mv(0x6ac)]);MW[Mv(0x187)]();}),this[MS(0x13c)][MS(0xa3f)][MS(0x4ea)](MW=>{var Mv=MS;if(MW[Mv(0x6ac)])Me[Mv(0x177)][Mv(0x7dd)](MW[Mv(0x6ac)]);MW[Mv(0x187)]();}),this[MS(0xafd)]=[],this[MS(0x211)]=[];},R5[n2(0xa3a)][n2(0xbeb)]=function(MS){if(MS===0x0)return 0x1;return 0x0;},R5[n2(0xa3a)][n2(0xbea)]=function(MS){if(MS===0x1)return 0x2;return 0x1;},R5[n2(0xa3a)][n2(0x5b2)]=function(MS){if(MS>=0x1&&MS<=0x7)return RN;if(MS>=0x9&&MS<=0xf)return RG;if(MS===RF)return RF;if(MS===Rr)return Rr;},R5[n2(0xa3a)][n2(0x5e3)]=function(MS){if(MS===0x1)return RT;if(MS>0x1)return Rz;if(MS===Rr)return Rr;},R5[n2(0xa3a)][n2(0xae8)]=function(MS){var MW=![];if(MS===0x1)MW=0x3;else{if(MS===0x2)MW=0x1;else{if(MS===0x3)MW=0x6;else{if(MS===0x4)MW=0x7;else{if(MS===0x5)MW=0x2;else{if(MS===0x6)MW=0x4;else MS===0x7&&(MW=0x8);}}}}}return MW;},R5[n2(0xa3a)][n2(0xc53)]=function(MS){if(MS===0x1)return 0x2;if(MS===0x2)return 0x5;if(MS===0x3)return 0x1;if(MS===0x4)return 0x6;if(MS===0x6)return 0x3;if(MS===0x7)return 0x4;if(MS===0x8)return 0x7;if(MS===Rr)return 0x0;return![];},R5[n2(0xa3a)][n2(0x46d)]=function(MS){var MW=n2;if(this[MW(0x81e)])return![];if(Booster_UnlockHoles[MW(0x368)])return![];return levelsProps[MW(0x808)][EE[MW(0x314)][MS][MW(0xb5e)]]===0x1;},R5[n2(0xa3a)][n2(0x4b6)]=function(MS,MW,Mv=RB){var Mg=n2,MJ=new LT(MS['x']-MW['x'],MS['y']-MW['y']),MB=MJ[Mg(0x16a)]();return EE[Mg(0x4b6)]=EE[Mg(0x4b6)],MB<=(Mv||RB);},R5[n2(0xa3a)][n2(0xc09)]=function(MS,MW){var Mv=n2;const Mg=Rs,MJ={'x':MW['x2']-MW['x1'],'y':MW['y2']-MW['y1']},MB=MW[Mv(0xca6)],Ms=((MS['x']-MW['x1'])*MJ['x']+(MS['y']-MW['y1'])*MJ['y'])/MB;let My;if(Ms<0x0)My={'x':MW['x1'],'y':MW['y1']};else Ms>0x1?My={'x':MW['x2'],'y':MW['y2']}:My={'x':MW['x1']+Ms*MJ['x'],'y':MW['y1']+Ms*MJ['y']};const Mq=LI(MS,My);if(Mq<=Mg)return My;return![];},R5[n2(0xa3a)][n2(0x15d)]=function(MS,MW){var Mv=n2,Mg=((MS['x']-MW['x1'])*(MW['x2']-MW['x1'])+(MS['y']-MW['y1'])*(MW['y2']-MW['y1']))/MW[Mv(0xca6)],MJ=0xbb8,MB=null;return Mg>0x0&&Mg<0x1&&(MB={'x':MW['x1']+Mg*(MW['x2']-MW['x1']),'y':MW['y1']+Mg*(MW['y2']-MW['y1'])},MJ=LI({'x':MS['x'],'y':MS['y']},MB)),MJ<=Rs?MB:![];},R5[n2(0xa3a)][n2(0x264)]=function(MS,MW,Mv){var Mg=n2;MS[Mg(0x3ef)]=![];var MJ=new LT(MS['x']-MW['x'],MS['y']-MW['y']),MB=MJ[Mg(0xb84)](0x1/MJ[Mg(0x16a)]()),Ms=new LT(-MB['y'],MB['x']),My=parseFloat(this[Mg(0x3dd)]),Mq=new LT(MW['x'],MW['y'])[Mg(0x5d7)](new LT(MS['x'],MS['y']))[Mg(0x76c)](),Mx=new LT(Mq['x'],Mq['y']),MZ=Ms,Mf=Mx[Mg(0xb84)](MS[Mg(0x3d5)][Mg(0xc13)](Mx)),MN=MZ[Mg(0xb84)](MS[Mg(0x3d5)][Mg(0xc13)](MZ)),MG=Mx[Mg(0xb84)](new LT(0x0,0x0)[Mg(0xc13)](Mx)),MF=MZ[Mg(0xb84)](new LT(0x0,0x0)[Mg(0xc13)](MZ));MS[Mg(0xba4)]+=-MS[Mg(0x3d5)][Mg(0xc13)](MZ)/(0x1a/0.028);var Mi=0x32;MS[Mg(0xba4)]>Mi&&(MS[Mg(0xba4)]=Mi),MS[Mg(0xba4)]<-Mi&&(MS[Mg(0xba4)]=-Mi);var Mr=MG[Mg(0xb84)](My)[Mg(0xb51)](Mf[Mg(0xb84)](0x1-My));return MS[Mg(0x912)]===0x0&&MS[Mg(0x888)]!==0x0&&MS[Mg(0x888)]!==undefined&&(Mr=MG[Mg(0xb84)](My)[Mg(0xb51)](Mf[Mg(0xb84)](0x1-My))[Mg(0xb51)](Mf[Mg(0xb84)](-MS[Mg(0x888)]*Number(String(Mg(0x881))))),MS[Mg(0x888)]=0x0),MS[Mg(0x912)]===0x0&&MS[Mg(0x86f)]!==0x0&&(MN=MN[Mg(0xb51)](MZ[Mg(0xb84)](LC(-MS[Mg(0x86f)]*Number(String(Mg(0x73c)))*MS[Mg(0x3d5)][Mg(0x16a)]()))),MS[Mg(0x86f)]=LC(MS[Mg(0x86f)]*Number(String(Mg(0xc76)))),MS[Mg(0x86f)]>-Number(String(Mg(0x841)))&&MS[Mg(0x86f)]<Number(String(Mg(0x841)))&&(MS[Mg(0x86f)]=0x0)),Mf[Mg(0x16a)]()>0x1a*0.14&&(MS[Mg(0x38d)]=0x0),Mf[Mg(0xb84)](-My)[Mg(0xb51)](MN[Mg(0xb51)](Mr));},R5[n2(0xa3a)][n2(0x874)]=function(MS,MW,Mv=RB){var Mg=n2,MJ=new LT(MS['x']-MW['x'],MS['y']-MW['y']),MB=MJ[Mg(0x16a)](),Ms=![];if(MB>Mv){}MS[Mg(0x3ef)]=![];var My=parseFloat(this[Mg(0x3b1)]);if(this[Mg(0x9f9)]==!![]){this[Mg(0x9f9)]=![];if(this[Mg(0xc64)]===this[Mg(0x37e)][Mg(0x876)]){}else{}}var Mq=MJ[Mg(0xb84)]((Mv+0x0-MB)/MB),Mx=Mq[Mg(0xb84)](0x1/0x2);MS['x']+=Mx['x'],MS['y']+=Mx['y'],MW['x']-=Mx['x'],MW['y']-=Mx['y'];var MZ=MJ[Mg(0x76c)](),Mf=new LT(-MZ['y'],MZ['x']),MN=new LT(MW['x'],MW['y'])[Mg(0x5d7)](new LT(MS['x'],MS['y']))[Mg(0x76c)](),MG=new LT(MN['x'],MN['y']),MF=Mf,Mi=MG[Mg(0xb84)](MS[Mg(0x3d5)][Mg(0xc13)](MG)),Mr=MF[Mg(0xb84)](MS[Mg(0x3d5)][Mg(0xc13)](MF)),Mt=MG[Mg(0xb84)](MW[Mg(0x3d5)][Mg(0xc13)](MG)),MC=MF[Mg(0xb84)](MW[Mg(0x3d5)][Mg(0xc13)](MF)),MT=Mt[Mg(0xb84)](My)[Mg(0xb51)](Mi[Mg(0xb84)](0x1-My));MS[Mg(0x912)]===0x0&&MS[Mg(0x888)]!==0x0&&MS[Mg(0x888)]!==undefined&&(MT=Mt[Mg(0xb84)](My)[Mg(0xb51)](Mi[Mg(0xb84)](0x1-My))[Mg(0xb51)](Mi[Mg(0xb84)](-MS[Mg(0x888)])),MS[Mg(0x888)]=0x0),MS[Mg(0x912)]==0x0&&MS[Mg(0x86f)]!==0x0&&(Mr=Mr[Mg(0xb51)](MF[Mg(0xb84)](LC(-MS[Mg(0x86f)]*Number(String(Mg(0x73c)))*MS[Mg(0x3d5)][Mg(0x16a)]()))),MS[Mg(0x86f)]=LC(MS[Mg(0x86f)]*Number(String(Mg(0x6f2)))),MS[Mg(0x86f)]>-Number(String(Mg(0x841)))&&MS[Mg(0x86f)]<Number(String(Mg(0x841)))&&(MS[Mg(0x86f)]=0x0),MS[Mg(0x86f)]=0x0);var Mz=Mi[Mg(0xb84)](My)[Mg(0xb51)](Mt[Mg(0xb84)](0x1-My));return Math[Mg(0x836)](MW[Mg(0xba4)])<Math[Mg(0x836)](MS[Mg(0xba4)])&&(MW[Mg(0xba4)]=MS[Mg(0xba4)]*-0.5),Mz[Mg(0x16a)]()>0x1a*0.085&&(MW[Mg(0x38d)]=0x0),EL===DI[Mg(0x1e5)]&&!MW[Mg(0x478)]&&this[Mg(0x73d)]++,MS[Mg(0x3d5)]=Mr[Mg(0xb51)](MT),MW[Mg(0x3d5)]=MC[Mg(0xb51)](Mz),MS[Mg(0x478)]=!![],MW[Mg(0x478)]=!![],!![];},R5[n2(0xa3a)][n2(0xc06)]=function(MS,MW){var Mv=n2,Mg=new LT(MS['x']-MW['x'],MS['y']-MW['y']),MJ=Mg[Mv(0x16a)](),MB=![];if(MJ>RB)return![];var Ms=Number(this[Mv(0x3b1)]),My=Mg[Mv(0xb84)]((RB+0x1-MJ)/MJ),Mq=My[Mv(0xb84)](0x1/0x2);MS['x']+=Mq['x'],MS['y']+=Mq['y'],MW['x']-=Mq['x'],MW['y']-=Mq['y'];var Mx=Mg[Mv(0x76c)](),MZ=new LT(-Mx['y'],Mx['x']),Mf=new LT(MW['x'],MW['y'])[Mv(0x5d7)](new LT(MS['x'],MS['y']))[Mv(0x76c)](),MN=new LT(Mf['x'],Mf['y']),MG=MZ,MF=MN[Mv(0xb84)](MS[Mv(0x3d5)][Mv(0xc13)](MN)),Mi=MG[Mv(0xb84)](MS[Mv(0x3d5)][Mv(0xc13)](MG)),Mr=MN[Mv(0xb84)](MW[Mv(0x3d5)][Mv(0xc13)](MN)),Mt=MG[Mv(0xb84)](MW[Mv(0x3d5)][Mv(0xc13)](MG)),MC=Mr[Mv(0xb84)](Ms)[Mv(0xb51)](MF[Mv(0xb84)](0x1-Ms));MS[Mv(0x912)]===0x0&&MS[Mv(0x888)]!==0x0&&MS[Mv(0x888)]!==undefined&&!LO(MS,RJ+1.5)&&(MC=Mr[Mv(0xb84)](Ms)[Mv(0xb51)](MF[Mv(0xb84)](0x1-Ms))[Mv(0xb51)](MF[Mv(0xb84)](-MS[Mv(0x888)])),MS[Mv(0x888)]=0x0),MS[Mv(0x912)]==0x0&&MS[Mv(0x86f)]!==0x0&&!LO(MS,RJ+1.5)&&(Mi=Mi[Mv(0xb51)](MG[Mv(0xb84)](LC(-MS[Mv(0x86f)]*Number(String(Mv(0x73c)))*MS[Mv(0x3d5)][Mv(0x16a)]()))),MS[Mv(0x86f)]=LC(MS[Mv(0x86f)]*Number(String(Mv(0x6f2)))),MS[Mv(0x86f)]>-Number(String(Mv(0x841)))&&MS[Mv(0x86f)]<Number(String(Mv(0x841)))&&(MS[Mv(0x86f)]=0x0),MS[Mv(0x86f)]=0x0);var MT=MF[Mv(0xb84)](Ms)[Mv(0xb51)](Mr[Mv(0xb84)](0x1-Ms));return Math[Mv(0x836)](MW[Mv(0xba4)])<Math[Mv(0x836)](MS[Mv(0xba4)])&&(MW[Mv(0xba4)]=MS[Mv(0xba4)]*-0.5),MT[Mv(0x16a)]()>0x5/1.5&&(MW[Mv(0x38d)]=0x0),MS[Mv(0x912)]===0x0&&(MS[Mv(0x888)]=0x0,MS[Mv(0x86f)]=0x0),MS[Mv(0x3d5)]=Mi[Mv(0xb51)](MC),MW[Mv(0x3d5)]=Mt[Mv(0xb51)](MT),MS[Mv(0x478)]=!![],EL===DI[Mv(0x1e5)]&&this[Mv(0x73d)]++,MW[Mv(0x478)]=!![],MS[Mv(0x9bc)]=![],MW[Mv(0x478)]==![]&&(MW[Mv(0x9bc)]=![],MW[Mv(0x909)]=MW[Mv(0x3d5)][Mv(0x369)]()),!![];},R5[n2(0xa3a)][n2(0x4a5)]=function(MS){var MW=n2;MS[MW(0x909)]&&MS[MW(0x3d5)][MW(0x16a)]()<=MS[MW(0x909)][MW(0x16a)]()/parseFloat(MW(0xa0e))&&MS[MW(0x9bc)]==![]&&(MS[MW(0x9bc)]=!![]);if(MS[MW(0x3d5)][MW(0x16a)]()>=parseFloat(MW(0x6ed))){}else{}if(MS[MW(0x3d5)][MW(0x16a)]()<0x17){}else{if(MS[MW(0x3d5)][MW(0x16a)]()<0xf){}else{if(MS[MW(0x3d5)][MW(0x16a)]()<0xa){}}}var Mv=MS[MW(0x3d5)][MW(0x369)]();Mv=Mv[MW(0x76c)](),MS[MW(0x3d5)]=MS[MW(0x3d5)][MW(0xb84)](this[MW(0xa55)]),MS[MW(0x7a3)]===undefined?MS[MW(0x7a3)]=Me[MW(0x639)][MW(0x7a3)]:MS[MW(0x7a3)]+=Me[MW(0x639)][MW(0x7a3)];if(MS[MW(0x6bb)]){}else{}MS[MW(0x38d)]<0x1&&(MS[MW(0x38d)]+=0.02),MS[MW(0xba4)]>=0.2&&(MS[MW(0xba4)]-=0.2),MS[MW(0xba4)]<=-0.2&&(MS[MW(0xba4)]+=0.2),MS[MW(0xba4)]>=-0.2&&MS[MW(0xba4)]<=0.2&&(MS[MW(0xba4)]=0x0);if(MS[MW(0xba4)]!=0x0)var Mg=MS[MW(0x3d5)][MW(0x2eb)]()[MW(0x76c)](),MJ=Mg[MW(0xb84)](0.3*MS[MW(0xba4)]*MS[MW(0x3d5)][MW(0x16a)]()/0x3);MS[MW(0x3d5)][MW(0x16a)]()<parseFloat(this[MW(0x512)])&&(EL===DI[MW(0x1e5)]&&MS[MW(0x478)]===!![]&&this[MW(0xea)]++,MS[MW(0x7a3)]=0x0,MS[MW(0x478)]=![],MS[MW(0x9bc)]=![],MS[MW(0x3d5)]=new LT());},R5[n2(0xa3a)][n2(0xc40)]=function(MS,MW,Mv=RB){var Mg=n2,MJ=new LT(MS['x']-MW['x'],MS['y']-MW['y']),MB=MJ[Mg(0x16a)](),Ms=MJ[Mg(0xb84)]((Mv-MB)/MB);MS['x']+=Ms['x'],MS['y']+=Ms['y'];},R5[n2(0xa3a)][n2(0x336)]=function(MS,MW){var Mv=n2,Mg=new LT(MS['x']-MW['x'],MS['y']-MW['y']),MJ=Mg[Mv(0x16a)](),MB=Mg[Mv(0xb84)]((RJ-MJ)/MJ);MS['x']+=MB['x'],MS['y']+=MB['y'];},R5[n2(0xa3a)][n2(0xaf5)]=function(){var MS=n2;return;for(var MW in this[MS(0x62f)]){this[MS(0x62f)][MS(0x239)](MW)&&(this[MS(0x62f)][MW][MS(0x38e)]=[]);}for(var MW in this[MS(0x199)]){this[MS(0x199)][MS(0x239)](MW)&&(this[MS(0x199)][MW][MS(0x38e)]=[]);}for(var MW in this[MS(0x5f6)]){this[MS(0x5f6)][MS(0x239)](MW)&&(this[MS(0x5f6)][MW][MS(0x38e)]=[]);}},R5[n2(0xa3a)][n2(0x667)]=function(){var MS=n2;if(this[MS(0x6ce)])scaleBox(this[MS(0x6ce)],ER[MS(0xb1c)][MS(0xa9e)][MS(0x505)]['x']+0x13b,ER[MS(0xb1c)][MS(0xa9e)][MS(0x505)]['y']+0x10);ER[MS(0xb1c)][MS(0x5c5)][MS(0xa3f)][MS(0x4ea)]((MW,Mv)=>{var Mg=MS;let MJ=Mv+0x1,MB=MW;this[Mg(0x6c6)]&&this[Mg(0x6c6)][Mv]&&(MB['x']=this[Mg(0x6c6)][Mv]['x'],MB['y']=this[Mg(0x6c6)][Mv]['y']);}),!DZ&&(ER[MS(0x182)][MS(0x695)][MS(0x552)][MS(0x304)](1.55),ER[MS(0xb1c)][MS(0xb8a)][MS(0x552)][MS(0x304)](1.1),ER[MS(0x164)][MS(0x695)][MS(0x552)][MS(0x304)](1.3),ER[MS(0xb1c)][MS(0xcf0)][MS(0x552)][MS(0x304)](0x1),ER[MS(0x19a)][MS(0x695)][MS(0x552)][MS(0x304)](1.5),ER[MS(0x19a)][MS(0x695)]['x']=Me[MS(0x3ab)]-ER[MS(0x19a)][MS(0x695)][MS(0x3ab)]*1.1,ER[MS(0x19a)][MS(0x695)]['y']=Me[MS(0x4ca)]-ER[MS(0x19a)][MS(0x695)][MS(0x4ca)]*0.85);},R5[n2(0xa3a)][n2(0xb26)]=function(MS){var MW=n2,Mv=0x0,Mg=0x0,MJ=0x0,MB=0x0,Ms=0x0,My=0x0,Mq=function(Mx){var MZ=Lw;for(var Mf=0x0;Mf<Mx[MZ(0xa3f)][MZ(0x16a)];Mf++){if(Mx[MZ(0xae3)](Mf)instanceof Phaser[MZ(0x674)])Ms++;else{if(Mx[MZ(0xae3)](Mf)instanceof Phaser[MZ(0x955)])Mg++;else{if(Mx[MZ(0xae3)](Mf)instanceof Phaser[MZ(0x38f)])MB++;else{if(Mx[MZ(0xae3)](Mf)instanceof Phaser[MZ(0x3d4)])Mv++;else Mx[MZ(0xae3)](Mf)instanceof Phaser[MZ(0xae2)]?MJ++:My++;}}}if(Mx[MZ(0xae3)]&&Mx[MZ(0xae3)][MZ(0x16a)])Mq(Mx[MZ(0xae3)](Mf));}};MS==undefined?Mq(Me[MW(0x126)]):Mq(MS),console[MW(0x738)](Mv,Mg,MB,Ms,MJ,My);},R5[n2(0xa3a)][n2(0x83c)]=function(MS){let MW=0x32,Mv=0x12c;return MW+(Mv-MW)*(0x1-MS/0x64);};function R7(){}R7[n2(0xa3a)][n2(0x7d6)]=function(){var MS=n2;if(!this['AI'][MS(0x308)])return;this['AI'][MS(0x8b0)][MS(0x358)]===RC&&(this['AI'][MS(0x8b0)][MS(0x4ae)]=!![]),(this['AI'][MS(0x308)]=![],this['AI'][MS(0xc1a)]=0x0);if(EE[MS(0x500)]&&EV===0x1&&EE[MS(0x61f)]&&RD[MS(0x9e7)]){}},R7[n2(0xa3a)][n2(0xcc9)]=function(MS){var MW=n2;let Mv=0x1;for(var Mg=0x0;Mg<MS[MW(0x240)][MW(0x211)][MW(0x16a)];Mg++){for(var MJ=Mg+0x1;MJ<MS[MW(0x240)][MW(0x211)][MW(0x16a)];MJ++){let MB=MS[MW(0x240)][MW(0x211)][Mg],Ms=MS[MW(0x240)][MW(0x211)][MJ];if(MB===MS[MW(0x240)][MW(0x385)]||Ms===MS[MW(0x240)][MW(0x385)]||MB[MW(0xb1a)]||Ms[MW(0xb1a)])continue;Mv+=new LT(MB['x'],MB['y'])[MW(0x5d7)](new LT(Ms['x'],Ms['y']))[MW(0x16a)]();}}return Mv=Mv/(0x16a8*0x1),MS[MW(0x240)][MW(0x358)]!==MS[MW(0x240)][MW(0xad1)]&&(Mv+=0x64),Mv+=0x7d0*MS[MW(0x240)][MW(0xc1a)],MS[MW(0x240)][MW(0x1cf)]===0x22b8&&(!MS[MW(0x240)][MW(0x4ae)]?Mv+=0x2710:Mv-=0x2710),MS[MW(0x240)][MW(0x4ae)]&&(Mv=Mv-0xbb8),Mv;};function R8(){var MS=n2;this[MS(0x308)]=![],this[MS(0x21f)]=new R7(),this[MS(0x21f)]['AI']=this,this[MS(0x12e)]=0x46,this[MS(0x3ad)]={},this[MS(0x9f9)]=![],this[MS(0x862)]=![];}function n1(e,n){var p=n0();return n1=function(D,L){D=D-0xaa;var E=p[D];return E;},n1(e,n);}R8[n2(0xa3a)][n2(0x26a)]=function(MS){var MW=n2;this[MW(0x454)]=[],this['rn']=0x0,this[MW(0x55e)]=[],this[MW(0xbbd)]=new Re(),this[MW(0x9e7)]=!![],this[MW(0x1f5)]=0x0,this[MW(0xc6d)]=[],this[MW(0x4b0)]=0x0,this[MW(0x3cd)]=0x0,this[MW(0x407)]=0x5,this[MW(0xc1b)]=0x0,this[MW(0xbe2)]=Infinity,this[MW(0x5e8)]={'balls':[]},EE[MW(0xafd)][MW(0xd25)](Mv=>{var Mg=MW;let MJ=Mv[Mg(0xc04)]();MJ[Mg(0x3d5)]=new LT(),MJ[Mg(0x478)]=![],MJ[Mg(0x27f)]=[],MJ[Mg(0x358)]=-0x1,MJ[Mg(0x5c0)]=-0x1;if(MJ[Mg(0x7ec)]&&!MJ[Mg(0xb1a)]&&MJ!==Mv){if(EE[Mg(0x545)][Mg(0x212)]<=0xa&&EE[Mg(0xba8)][EV][Mg(0x37a)]===EE[Mg(0x5b2)](MJ[Mg(0x912)])||EE[Mg(0x545)][Mg(0x212)]<=0xa&&EE[Mg(0xba8)][EV][Mg(0x37a)]===RC)this[Mg(0x5e8)][Mg(0x6e4)][Mg(0x526)](MJ);MJ[Mg(0x912)]===Rr&&(this[Mg(0x5e8)][Mg(0x385)]=MJ);}}),this[MW(0x5e8)][MW(0x6e4)][MW(0x4ea)](Mv=>{var Mg=MW;let MJ=Mv[Mg(0x31f)]['x']-this[Mg(0x5e8)][Mg(0x385)][Mg(0x31f)]['x'],MB=Mv[Mg(0x31f)]['y']-this[Mg(0x5e8)][Mg(0x385)][Mg(0x31f)]['y'];if(this[Mg(0x5e8)][Mg(0x385)]!==Mv)this[Mg(0x55e)][Mg(0x526)](Math[Mg(0xc35)](MB,MJ));});},R8[n2(0xa3a)][n2(0xa21)]=function(){var MS=n2;for(let Mv=0x0;Mv<this['AI'][MS(0x8b0)][MS(0x211)][MS(0x16a)];Mv++){var MW=this['AI'][MS(0x8b0)][MS(0x211)][MS(0x16a)];MW<=Mv&&(Mv=MW-0x1),this['AI'][MS(0x8b0)][MS(0x211)][Mv][MS(0x3d5)][MS(0x16a)]()<parseFloat(this['AI'][MS(0x8b0)][MS(0x512)])&&(this['AI'][MS(0x8b0)][MS(0x211)][Mv][MS(0x478)]=![],this['AI'][MS(0x8b0)][MS(0x211)][Mv][MS(0x9bc)]=![],this['AI'][MS(0x8b0)][MS(0x211)][Mv][MS(0x3d5)]=new LT());if(this['AI'][MS(0x8b0)][MS(0x211)][Mv][MS(0x7ec)]===![])return![];if(this['AI'][MS(0x8b0)][MS(0x211)][Mv][MS(0x478)])return!![];if(this['AI'][MS(0x8b0)][MS(0x211)][Mv][MS(0xb1a)])continue;}return![];},R8[n2(0xa3a)][n2(0x350)]=function(){var MS=n2,MW=![];if(this[MS(0x1f5)]===this[MS(0x12e)]){this[MS(0x9e7)]=!![],this[MS(0xbaf)]();return;}if(!this[MS(0x308)]){this[MS(0x1f5)]!==0x0&&(this[MS(0xbbd)][MS(0x44b)]=this[MS(0x21f)][MS(0xcc9)](this[MS(0xbbd)]),this[MS(0x454)][MS(0x526)](this[MS(0xbbd)]),this[MS(0xbbd)][MS(0x44b)]>this[MS(0x3cd)]&&(this[MS(0x3cd)]=this[MS(0xbbd)][MS(0x44b)],this[MS(0x4b0)]=this[MS(0x454)][MS(0x16a)]-0x1),MW&&(console[MS(0x738)](MS(0xd19)+new Number(this[MS(0x1f5)]+0x1)+MS(0x673)),console[MS(0x738)](MS(0x17f)+this[MS(0xbbd)][MS(0x44b)]),console[MS(0x738)](MS(0x180)+this[MS(0xbbd)][MS(0x2e9)]),console[MS(0x738)](MS(0x32e)+this[MS(0xbbd)][MS(0x878)]),console[MS(0x738)](MS(0x96c)+this[MS(0xbbd)][MS(0x8ca)]),console[MS(0x738)](MS(0xbed)))),(this[MS(0xd07)](),this[MS(0x8c0)]());var Mv=this[MS(0x454)][this[MS(0x4b0)]];if(this[MS(0x1f5)]>=0x0&&Mv&&Mv[MS(0x240)]&&(Mv[MS(0x240)][MS(0xc1a)]>=0x1&&this[MS(0x1f5)]<=this[MS(0x12e)]*0.5||Mv[MS(0x240)][MS(0xc1a)]>=0x2&&this[MS(0x1f5)]<=this[MS(0x12e)]*0.7)&&Mv[MS(0x240)][MS(0x358)]!==Mv[MS(0x240)][MS(0xad1)]&&!Mv[MS(0x240)][MS(0x4ae)]){this[MS(0x9e7)]=!![],this[MS(0xbaf)](this[MS(0x454)][this[MS(0x4b0)]]);return;if(this[MS(0xc1b)]>=this[MS(0x12e)]*0.1){this[MS(0xc1b)]=0x0;return;}this[MS(0xc1b)]++;}}},R8[n2(0xa3a)][n2(0xd07)]=function(){var MS=n2;if(this[MS(0x1f5)]%0xa===0x0){this[MS(0xbbd)]=new Re(),this[MS(0x1f5)]++;return;}let MW=this[MS(0x454)][this[MS(0x4b0)]],Mv=MW[MS(0x2e9)];Mv+=+(Math[MS(0x219)]()*0x1e-0xf),Mv=Mv<0x37?0x37:Mv,Mv=Mv>0x63?0x63:Mv;let Mg=MW[MS(0x878)];MW[MS(0x44b)]>0x0?Mg+=0x1/MW[MS(0x44b)]*(Math[MS(0x219)]()*0x2*Math['PI']-Math['PI']):Mg=Math[MS(0x219)]()*0x2*Math['PI']-Math['PI'],this[MS(0xbbd)]=new Re(Mv,Mg),this[MS(0x1f5)]++;},R8[n2(0xa3a)][n2(0x8c0)]=async function(){var MS=n2,MW=[0x64,0x55,0x50,0x4b],Mv={'validBallsInsertedOnTurn':0x0,'steps':0x0,'startPos':![],'ballIDs':[],'firstHitCollisioons':[],'firstHitCollisioons2':[],'Collisioons':[],'BallsCollisioon':[],'VetrexCollisioon':[],'PocketsCollisioon':[],'LinesCollisioon':[],'rotation':0x0,'vec':new LT(),'firstHit':-0x1,'ballsType':EE[MS(0xba8)][EV][MS(0x37a)],'collectedBalls':[],'foul':![],'firstHitBallNum':EE[MS(0xcc3)]};Mv[MS(0x7fc)]=EE[MS(0x7fc)],Mv[MS(0x8c4)]=EE[MS(0x8c4)],Mv[MS(0x302)]=Number(RJ),Mv[MS(0xc1e)]=RJ*0x2+0x1,Mv[MS(0xaf3)]=Lh(RJ),Mv[MS(0x86f)]=Math[MS(0x219)]()*0xa>=0x3?Number((Math[MS(0x219)]()*(1.3597*0x2/0x8*ER[MS(0xb1c)][MS(0xc11)])-1.3597/0x8*ER[MS(0xb1c)][MS(0xc11)])[MS(0x1f2)](0x4)):0x0,Mv[MS(0x888)]=Math[MS(0x219)]()*0xa>=0x3?Number((Math[MS(0x219)]()*(0.6802*0x2/0x8*ER[MS(0xb1c)][MS(0xc11)])-0.6802/0x8*ER[MS(0xb1c)][MS(0xc11)])[MS(0x1f2)](0x4)):0x0,Mv[MS(0xa46)]=EE[MS(0x6b0)][MS(0x660)][EV][MS(0xa46)],Mv[MS(0xba8)]=EE[MS(0xba8)],Mv[MS(0xd27)]=EV;var Mg=MW[Math[MS(0x996)](Math[MS(0x219)]()*(MW[MS(0x16a)]-0x1))];Mv[MS(0xc64)]=EE[MS(0xc64)],Mv[MS(0x37e)]=EE[MS(0x37e)];var MJ=function(Mu){var MU=MS;if(Mu>=0x1&&Mu<=0x7)return Mv[MU(0xad7)];if(Mu>=0x9&&Mu<=0xf)return Mv[MU(0x73a)];if(Mu===Mv[MU(0x93f)])return Mv[MU(0x93f)];if(Mu===Mv[MU(0x1ea)])return Mv[MU(0x1ea)];},MB=function(Mu){var MU=MS;if(Mu===0x1)return Mv[MU(0x33f)];if(Mu>0x1)return Mv[MU(0x16b)];if(Mu===Mv[MU(0x1ea)])return Mv[MU(0x1ea)];},Ms=function(Mu){var MU=![];if(Mu===0x1)MU=0x3;else{if(Mu===0x2)MU=0x1;else{if(Mu===0x3)MU=0x6;else{if(Mu===0x4)MU=0x7;else{if(Mu===0x5)MU=0x2;else{if(Mu===0x6)MU=0x4;else Mu===0x7&&(MU=0x8);}}}}}return MU;},My=function(Mu){var MU=MS;if(Mu===0x1)return 0x2;if(Mu===0x2)return 0x5;if(Mu===0x3)return 0x1;if(Mu===0x4)return 0x6;if(Mu===0x6)return 0x3;if(Mu===0x7)return 0x4;if(Mu===0x8)return 0x7;if(Mu===Mv[MU(0x1ea)])return 0x0;return![];},Mq=function(Mu=![],MU=Mv[MS(0x62f)]){var MY=MS,MI=Mu||this;return MI['y']<MU[MY(0x282)]['y1']-Mv[MY(0x302)]*0x2||MI['y']>MU[MY(0x286)]['y1']+Mv[MY(0x302)]*0x2||MI['x']<MU[MY(0x94b)]['x1']-Mv[MY(0x302)]*0x2||MI['x']>MU[MY(0x35d)]['x1']+Mv[MY(0x302)]*0x2;},Mx=function(Mu,MU,MY,MI,Md,MA,Mo){var MX=MS;let MQ={'x1':Mu,'y1':MU,'x2':MY,'y2':MI},Ma=new LT(MQ['x2']-MQ['x1'],MQ['y2']-MQ['y1']),MK=new LT(MQ['x1']-Md,MQ['y1']-MA),Ml=Ma[MX(0xc13)](Ma),MV=0x2*MK[MX(0xc13)](Ma),Mk=MK[MX(0xc13)](MK)-Mo*Mo,Mw=MV*MV-0x4*Ml*Mk;if(Mw<0x0)return![];else{Mw=Math[MX(0xba2)](Mw);let P0=(-MV+Mw)/(0x2*Ml),P1=(-MV-Mw)/(0x2*Ml),P2=[];if(P0>=0x0&&P0<=0x1){let P3=new LT(Mu+P0*Ma['x'],MU+P0*Ma['y']);P2[MX(0x526)](P3);}if(P1>=0x0&&P1<=0x1){let P4=new LT(Mu+P1*Ma['x'],MU+P1*Ma['y']);P2[MX(0x526)](P4);}var MH=Infinity,Mb=![];return P2[MX(0x4ea)](P5=>{var P6=MX;let P7=new LT(P5['x'],P5['y'])[P6(0x5d7)](new LT(Mu,MU))[P6(0x16a)]();MH>=P7&&(MH=P7,Mb=P5);}),Mb?Mb:![];}return![];},MZ=function(Mu=![],MU,MY=function(){}){var MI=MS,Md=Mu,Mu=Mu||this,MA=Number[MI(0xc2e)],Mo=![];Mu[MI(0x8cb)]=MU[MI(0x369)]();for(let MQ=0x0;MQ<Mv[MI(0x6c6)][MI(0x16a)];MQ++){let Ma=Mv[MI(0x6c6)][MQ],MK=new LT(Mu['x']-Ma['x'],Mu['y']-Ma['y']);var MX=Mv[MI(0x29b)](Mu['x'],Mu['y'],Mu['x']+MU['x'],Mu['y']+MU['y'],Ma['x'],Ma['y'],Mv[MI(0x302)]*0x2);MX&&(MK=new LT(Mu['x']-MX['x'],Mu['y']-MX['y']),MA>=MK[MI(0x16a)]()&&(MA=MK[MI(0x16a)](),Mo=Ma,Mo[MI(0x7b3)]=MQ));if(MK[MI(0x16a)]()<Ma[MI(0x7b8)]&&Mu[MI(0x3d5)][MI(0x16a)]()<0x5)return MY(Ma,MQ),Ma;if(MK[MI(0x16a)]()<Ma[MI(0x34d)])return MY(Ma,MQ),Ma;}if(MA!==Number[MI(0xc2e)]&&Mo)return MY(Mo,Mo[MI(0x7b3)]),Mo;else{if(Mv[MI(0x608)](Mu)){MA=Number[MI(0xc2e)],Mo=![];for(let Ml=0x0;Ml<Mv[MI(0x6c6)][MI(0x16a)];Ml++){let MV=Mv[MI(0x6c6)][Ml],Mk=new LT(Mu['x']-MV['x'],Mu['y']-MV['y']);MA>=Mk[MI(0x16a)]()&&(MA=Mk[MI(0x16a)](),Mo=MV,Mo[MI(0x7b3)]=Ml);}if(MA!==Number[MI(0xc2e)]&&Mo)return MA[MI(0x16a)]>0x96&&(Mu['x']=Mo['x'],Mu['y']=Mo['y']),MY(Mo,Mo[MI(0x7b3)]),Mo;}}return![];},Mf=function(Mu=![],MU){var MY=MS,Mu=Mu||this,MI=[];return MU[MY(0x4ea)]((Md,MA)=>{var Mo=MY;Md!==Mu&&Md[Mo(0x7ec)]&&!Md[Mo(0xb1a)]&&Mv[Mo(0x4b6)](Mu,Md)&&MI[Mo(0x526)](MA);}),MI;},MN=function(Mu=![]){var MU=MS,Mu=Mu||this;return Object[MU(0x796)](Mv[MU(0x62f)])[MU(0xc86)](MY=>Mv[MU(0xc09)](Mu,MY)!==![]&&MY);},MG=function(Mu=![]){var MU=MS,Mu=Mu||this;return Object[MU(0x796)](Mv[MU(0x314)])[MU(0x4d1)]()[MU(0xc86)]((MY,MI)=>Mv[MU(0xc09)](Mu,MY)!==![]&&MY);return![];return Object[MU(0x796)](EE[MU(0x314)])[MU(0x4d1)]()[MU(0xc86)]((MY,MI)=>EE[MU(0x46d)](MI)!==![]&&EE[MU(0xc09)](Mu,MY)!==![]&&MY);},MF=function(Mu=![]){var MU=MS,Mu=Mu||this;return Object[MU(0x796)](Mv[MU(0x199)])[MU(0x4d1)]()[MU(0xc86)](MY=>Mv[MU(0xc09)](Mu,MY)!==![]&&MY);},Mi=function(Mu=![]){var MU=MS,MY=[],Mu=Mu||this;Object[MU(0x796)](Mv[MU(0x5f6)])[MU(0x4d1)]()[MU(0xc86)]((MI,Md)=>{var MA=MU;Mv[MA(0x4b6)](Mu,MI)&&MY[MA(0x526)](MI);});return MY;return Object[MU(0x796)](EE[MU(0x5f6)])[MU(0x4d1)]()[MU(0x9be)](MI=>this[MU(0x4b6)](this,MI)&&[MI]);},Mr=function(Mu,MU,MY=Mv[MS(0xc1e)]){var MI=MS,Md=new LT(Mu['x']-MU['x'],Mu['y']-MU['y']),MA=Md[MI(0x16a)]();return Mv[MI(0x4b6)]=Mv[MI(0x4b6)],MA<=MY;},Mt=function(Mu,MU){var MY=MS;const MI=Mv[MY(0xaf3)],Md={'x':MU['x2']-MU['x1'],'y':MU['y2']-MU['y1']},MA=MU[MY(0xca6)],Mo=((Mu['x']-MU['x1'])*Md['x']+(Mu['y']-MU['y1'])*Md['y'])/MA;let MX;if(Mo<0x0)MX={'x':MU['x1'],'y':MU['y1']};else Mo>0x1?MX={'x':MU['x2'],'y':MU['y2']}:MX={'x':MU['x1']+Mo*Md['x'],'y':MU['y1']+Mo*Md['y']};const MQ=LI(Mu,MX);if(MQ<=MI)return MX;return![];},MC=function(Mu,MU,MY){var MI=MS;Mu[MI(0x3ef)]=![];var Md=new LT(Mu['x']-MU['x'],Mu['y']-MU['y']),MA=Md[MI(0xb84)](0x1/Md[MI(0x16a)]()),Mo=new LT(-MA['y'],MA['x']),MX=parseFloat(Mv[MI(0x3dd)]),MQ=new LT(MU['x'],MU['y'])[MI(0x5d7)](new LT(Mu['x'],Mu['y']))[MI(0x76c)](),Ma=new LT(MQ['x'],MQ['y']),MK=Mo,Ml=Ma[MI(0xb84)](Mu[MI(0x3d5)][MI(0xc13)](Ma)),MV=MK[MI(0xb84)](Mu[MI(0x3d5)][MI(0xc13)](MK)),Mk=Ma[MI(0xb84)](new LT(0x0,0x0)[MI(0xc13)](Ma)),Mw=MK[MI(0xb84)](new LT(0x0,0x0)[MI(0xc13)](MK));Mu[MI(0xba4)]+=-Mu[MI(0x3d5)][MI(0xc13)](MK)/(0x1a/0.028);var MH=0x32;Mu[MI(0xba4)]>MH&&(Mu[MI(0xba4)]=MH),Mu[MI(0xba4)]<-MH&&(Mu[MI(0xba4)]=-MH);var Mb=Mk[MI(0xb84)](MX)[MI(0xb51)](Ml[MI(0xb84)](0x1-MX));return Mu[MI(0x912)]===0x0&&Mu[MI(0x888)]!==0x0&&Mu[MI(0x888)]!==undefined&&(Mb=Mk[MI(0xb84)](MX)[MI(0xb51)](Ml[MI(0xb84)](0x1-MX))[MI(0xb51)](Ml[MI(0xb84)](-Mu[MI(0x888)]*Number(String(MI(0x881))))),Mu[MI(0x888)]=0x0),Mu[MI(0x912)]===0x0&&Mu[MI(0x86f)]!==0x0&&(MV=MV[MI(0xb51)](MK[MI(0xb84)](LC(-Mu[MI(0x86f)]*Number(String(MI(0x73c)))*Mu[MI(0x3d5)][MI(0x16a)]()))),Mu[MI(0x86f)]=LC(Mu[MI(0x86f)]*Number(String(MI(0xc76)))),Mu[MI(0x86f)]>-Number(String(MI(0x841)))&&Mu[MI(0x86f)]<Number(String(MI(0x841)))&&(Mu[MI(0x86f)]=0x0)),Ml[MI(0x16a)]()>0x1a*0.14&&(Mu[MI(0x38d)]=0x0),Ml[MI(0xb84)](-MX)[MI(0xb51)](MV[MI(0xb51)](Mb));},MT=function(Mu,MU,MY=Mv[MS(0xc1e)]){var MI=MS,Md=new LT(Mu['x']-MU['x'],Mu['y']-MU['y']),MA=Md[MI(0x16a)](),Mo=![];if(MA>MY){}Mu[MI(0x3ef)]=![];var MX=parseFloat(Mv[MI(0x3b1)]),MQ=Md[MI(0xb84)]((MY+0x0-MA)/MA),Ma=MQ[MI(0xb84)](0x1/0x2);Mu['x']+=Ma['x'],Mu['y']+=Ma['y'],MU['x']-=Ma['x'],MU['y']-=Ma['y'];var MK=Md[MI(0x76c)](),Ml=new LT(-MK['y'],MK['x']),MV=new LT(MU['x'],MU['y'])[MI(0x5d7)](new LT(Mu['x'],Mu['y']))[MI(0x76c)](),Mk=new LT(MV['x'],MV['y']),Mw=Ml,MH=Mk[MI(0xb84)](Mu[MI(0x3d5)][MI(0xc13)](Mk)),Mb=Mw[MI(0xb84)](Mu[MI(0x3d5)][MI(0xc13)](Mw)),P0=Mk[MI(0xb84)](MU[MI(0x3d5)][MI(0xc13)](Mk)),P1=Mw[MI(0xb84)](MU[MI(0x3d5)][MI(0xc13)](Mw)),P2=P0[MI(0xb84)](MX)[MI(0xb51)](MH[MI(0xb84)](0x1-MX));Mu[MI(0x912)]===0x0&&Mu[MI(0x888)]!==0x0&&Mu[MI(0x888)]!==undefined&&(P2=P0[MI(0xb84)](MX)[MI(0xb51)](MH[MI(0xb84)](0x1-MX))[MI(0xb51)](MH[MI(0xb84)](-Mu[MI(0x888)])),Mu[MI(0x888)]=0x0),Mu[MI(0x912)]==0x0&&Mu[MI(0x86f)]!==0x0&&(Mb=Mb[MI(0xb51)](Mw[MI(0xb84)](LC(-Mu[MI(0x86f)]*Number(String(MI(0x73c)))*Mu[MI(0x3d5)][MI(0x16a)]()))),Mu[MI(0x86f)]=LC(Mu[MI(0x86f)]*Number(String(MI(0x6f2)))),Mu[MI(0x86f)]>-Number(String(MI(0x841)))&&Mu[MI(0x86f)]<Number(String(MI(0x841)))&&(Mu[MI(0x86f)]=0x0),Mu[MI(0x86f)]=0x0);var P3=MH[MI(0xb84)](MX)[MI(0xb51)](P0[MI(0xb84)](0x1-MX));return Math[MI(0x836)](MU[MI(0xba4)])<Math[MI(0x836)](Mu[MI(0xba4)])&&(MU[MI(0xba4)]=Mu[MI(0xba4)]*-0.5),P3[MI(0x16a)]()>0x1a*0.085&&(MU[MI(0x38d)]=0x0),Mu[MI(0x3d5)]=Mb[MI(0xb51)](P2),MU[MI(0x3d5)]=P1[MI(0xb51)](P3),Mu[MI(0x478)]=!![],MU[MI(0x478)]=!![],!![];},Mz=function(Mu){var MU=MS;Mu[MU(0x909)]&&Mu[MU(0x3d5)][MU(0x16a)]()<=Mu[MU(0x909)][MU(0x16a)]()/parseFloat(MU(0xa0e))&&Mu[MU(0x9bc)]==![]&&(Mu[MU(0x9bc)]=!![]);if(Mu[MU(0x3d5)][MU(0x16a)]()>=parseFloat(MU(0x6ed))){}else{}if(Mu[MU(0x3d5)][MU(0x16a)]()<0x17){}else{if(Mu[MU(0x3d5)][MU(0x16a)]()<0xf){}else{if(Mu[MU(0x3d5)][MU(0x16a)]()<0xa){}}}var MY=Mu[MU(0x3d5)][MU(0x369)]();MY=MY[MU(0x76c)](),Mu[MU(0x3d5)]=Mu[MU(0x3d5)][MU(0xb84)](Mv[MU(0xa55)]),Mu[MU(0x38d)]<0x1&&(Mu[MU(0x38d)]+=0.02),Mu[MU(0xba4)]>=0.2&&(Mu[MU(0xba4)]-=0.2),Mu[MU(0xba4)]<=-0.2&&(Mu[MU(0xba4)]+=0.2),Mu[MU(0xba4)]>=-0.2&&Mu[MU(0xba4)]<=0.2&&(Mu[MU(0xba4)]=0x0);if(Mu[MU(0xba4)]!=0x0)var MI=Mu[MU(0x3d5)][MU(0x2eb)]()[MU(0x76c)](),Md=MI[MU(0xb84)](0.3*Mu[MU(0xba4)]*Mu[MU(0x3d5)][MU(0x16a)]()/0x3);Mu[MU(0x3d5)][MU(0x16a)]()<parseFloat(this[MU(0x512)])&&(Mu[MU(0x7a3)]=0x0,Mu[MU(0x478)]=![],Mu[MU(0x9bc)]=![],Mu[MU(0x3d5)]=new LT());},Mh=function(Mu,MU,MY=Mv[MS(0xc1e)]){var MI=MS,Md=new LT(Mu['x']-MU['x'],Mu['y']-MU['y']),MA=Md[MI(0x16a)](),Mo=Md[MI(0xb84)]((MY-MA)/MA);Mu['x']+=Mo['x'],Mu['y']+=Mo['y'];},Mm=function(Mu,MU){var MY=MS,MI=new LT(Mu['x']-MU['x'],Mu['y']-MU['y']),Md=MI[MY(0x16a)](),MA=MI[MY(0xb84)]((Mv[MY(0x302)]-Md)/Md);Mu['x']+=MA['x'],Mu['y']+=MA['y'];},Mc=()=>{var Mu=MS;for(let MY=0x0;MY<Mv[Mu(0x211)][Mu(0x16a)];MY++){var MU=Mv[Mu(0x211)][Mu(0x16a)];MU<=MY&&(MY=MU-0x1),Mv[Mu(0x211)][MY][Mu(0x3d5)][Mu(0x16a)]()<parseFloat(Mv[Mu(0x512)])&&(Mv[Mu(0x211)][MY][Mu(0x478)]=![],Mv[Mu(0x211)][MY][Mu(0x9bc)]=![],Mv[Mu(0x211)][MY][Mu(0x3d5)]=new LT());if(Mv[Mu(0x211)][MY][Mu(0x7ec)]===![])return![];if(Mv[Mu(0x211)][MY][Mu(0x478)])return!![];if(Mv[Mu(0x211)][MY][Mu(0xb1a)])continue;}return![];};Mv[MS(0x212)]=EE[MS(0x545)][MS(0x212)],Mv[MS(0x3b1)]=MS(0x3bb),Mv[MS(0xfe)]=MS(0x3bb),Mv[MS(0x7b6)]=MS(0xcad),Mv[MS(0x3dd)]=String(MS(0xb63)),Mv[MS(0xa55)]=String(MS(0xd13)),Mv[MS(0x924)]=0x1/0x64,Mv[MS(0x512)]='4',Mv[MS(0x62f)]=EE[MS(0x62f)],Mv[MS(0x6c6)]=EE[MS(0x6c6)],Mv[MS(0x199)]=EE[MS(0x199)],Mv[MS(0x5f6)]=EE[MS(0x5f6)],Mv[MS(0xad7)]=0x1,Mv[MS(0x73a)]=0x2,Mv[MS(0x93f)]=0x8,Mv[MS(0x6bc)]=0x9,Mv[MS(0x1ea)]=0x0,Mv[MS(0x28e)]=0x3039,Mv[MS(0xad1)]=-0x1,Mv[MS(0x33f)]=0x1,Mv[MS(0x16b)]=0x2;var Mj=this[MS(0xbbd)][MS(0x8ca)];Mv[MS(0x8ca)]=Mj[MS(0x369)](),Mv[MS(0x878)]=this[MS(0xbbd)][MS(0x878)],Mv[MS(0x2e9)]=this[MS(0xbbd)][MS(0x2e9)],Mv[MS(0x211)]=[],Mv[MS(0x385)]=![],EE[MS(0xafd)][MS(0xd25)](Mu=>{var MU=MS;let MY=Mu[MU(0xc04)]();MY[MU(0x3d5)]=new LT(),MY[MU(0x478)]=![],MY[MU(0x27f)]=[],MY[MU(0x358)]=-0x1,MY[MU(0x5c0)]=-0x1,MY[MU(0x7ec)]&&!MY[MU(0xb1a)]&&MY!==Mu&&(Mv[MU(0x211)][MU(0x526)](MY),MY[MU(0x912)]===Mv[MU(0x1ea)]&&(Mv[MU(0x385)]=MY));}),Mv[MS(0x385)][MS(0x3d5)]=Mv[MS(0x8ca)][MS(0x369)](),Mv[MS(0x385)][MS(0x478)]=!![],this[MS(0xbbd)][MS(0x240)]=Mv,this[MS(0x8b0)]=this[MS(0xbbd)][MS(0x240)],Mv[MS(0x5b2)]=MJ,Mv[MS(0x5e3)]=MB,Mv[MS(0xae8)]=Ms,Mv[MS(0xc53)]=My,Mv[MS(0x608)]=Mq,Mv[MS(0x29b)]=Mx,Mv[MS(0x77d)]=MZ,Mv[MS(0x687)]=Mf,Mv[MS(0x4b3)]=MN,Mv[MS(0xbc2)]=MG,Mv[MS(0x20b)]=MF,Mv[MS(0x5c4)]=Mi,Mv[MS(0x4b6)]=Mr,Mv[MS(0xc09)]=Mt,Mv[MS(0x264)]=MC,Mv[MS(0x874)]=MT,Mv[MS(0x4a5)]=Mz,Mv[MS(0xc40)]=Mh,Mv[MS(0x336)]=Mm,Mv[MS(0xa21)]=Mc,EE[MS(0x7a8)](this[MS(0xbbd)][MS(0x2e9)],this[MS(0xbbd)][MS(0x878)],this[MS(0xbbd)][MS(0x240)]);if(worker&&worker[MS(0x9b2)]){}async function MO(){var Mu=MS;eval(scsss),result=await hawf(EE[Mu(0x7a8)],this[Mu(0xbbd)][Mu(0x2e9)],this[Mu(0xbbd)][Mu(0x878)],Mv,MJ,MB,Ms,My,Mq,Mx,MZ,Mf,MN,MG,MF,Mi,Mr,Mt,MC,MT,Mz,Mh,Mm,Mc);var MU=new Re();MU[Mu(0x878)]=result[Mu(0x878)],MU[Mu(0x2e9)]=result[Mu(0x2e9)],MU[Mu(0x8ca)]['x']=result[Mu(0x8ca)]['x'],MU[Mu(0x8ca)]['y']=result[Mu(0x8ca)]['y'],MU[Mu(0x44b)]=0x0,MU[Mu(0x240)]=result,!R9[Mu(0x9e7)]&&result[Mu(0x8c4)]==EE[Mu(0x8c4)]?(R9[Mu(0xbbd)]=MU,R9[Mu(0x350)]()):R9[Mu(0x9e7)]=!![];}Mv[MS(0x5b2)]=MJ,Mv[MS(0x5e3)]=MB,Mv[MS(0xae8)]=Ms,Mv[MS(0xc53)]=My,Mv[MS(0x608)]=Mq,Mv[MS(0x29b)]=Mx,Mv[MS(0x77d)]=MZ,Mv[MS(0x687)]=Mf,Mv[MS(0x4b3)]=MN,Mv[MS(0xbc2)]=MG,Mv[MS(0x20b)]=MF,Mv[MS(0x5c4)]=Mi,Mv[MS(0x4b6)]=Mr,Mv[MS(0xc09)]=Mt,Mv[MS(0x264)]=MC,Mv[MS(0x874)]=MT,Mv[MS(0x4a5)]=Mz,Mv[MS(0xc40)]=Mh,Mv[MS(0x336)]=Mm,Mv[MS(0xa21)]=Mc,this[MS(0x308)]=![];},R8[n2(0xa3a)][n2(0xbaf)]=function(MS,MW=![]){var Mv=n2;ER[Mv(0xb1c)][Mv(0x84a)][Mv(0x197)]=!!![],MS=this[Mv(0x454)][this[Mv(0x4b0)]];var Mg=[],MJ=[],MB=[];let Ms=![];var My=![];let Mq=Infinity;var Mx=[];MS[Mv(0xc1a)]==0x0&&MS[Mv(0x4ae)]===![]&&R9[Mv(0x454)][Mv(0x4ea)](Mc=>{var Mj=Mv;if(!Mc[Mj(0x240)][Mj(0x4ae)]&&Mc[Mj(0x240)][Mj(0xc1a)])MJ[Mj(0x526)](Mc);else{if(!Mc[Mj(0x240)][Mj(0x4ae)]){Mg[Mj(0x526)](Mc);const MO=Mc[Mj(0x44b)];MO<Mq&&(Mq=MO,My=Mc);}else Mc[Mj(0x240)][Mj(0x4ae)]&&MB[Mj(0x526)](Mc);}}),My&&(MS=My);if(MS&&MS[Mv(0x240)]&&MS[Mv(0x240)][Mv(0x8c4)]==EE[Mv(0x8c4)]){}else return;var MZ=Infinity,Mf=Infinity,MN=![];sa=0x0;var MG=[];MG[0x0]=MS[Mv(0x240)];if(this[Mv(0x9f9)]===![]&&MG[0x0]&&MG[0x0][Mv(0xc1a)]>=0x1){this[Mv(0x9f9)]=!![];if(MS&&MS[Mv(0x369)]){var MF=MS,Mi=0x0;EE[Mv(0xafd)][Mv(0x4ea)](Mc=>{var Mj=Mv;if(!Mc[Mj(0x912)]==0x0)Mi+=Math[Mj(0x996)](Mc['x']+Mc['y']);}),this[Mv(0x3ad)][Mi]=MF;}}else{if(this[Mv(0x9f9)]===![]&&MG[0x0]&&MG[0x0][Mv(0xc1a)]==0x0){}}this[Mv(0x9f9)]=!![],MG[sa][Mv(0xa61)]&&MG[sa][Mv(0xa61)][0x0]&&MG[sa][Mv(0xa61)][0x0][Mv(0x835)]!=Mv(0x9df)&&(MG[sa][Mv(0x86f)]=0x0,MG[sa][Mv(0x888)]=0x0),(EE[Mv(0x6b0)][Mv(0x31e)]=0x0,EE[Mv(0x6b0)][Mv(0x2e9)]=0x0,EE[Mv(0xd35)](),EE[Mv(0x6b0)][Mv(0x81d)]=!![],EE[Mv(0x6b0)][Mv(0x7f6)]=!![],EE[Mv(0x6b0)][Mv(0x2e9)]=0x0,EE[Mv(0x6b0)][Mv(0x90b)]=0x0,EE[Mv(0x6b0)][Mv(0xce5)](),EE[Mv(0x6b0)][Mv(0x649)](0x0),EE[Mv(0x6b0)][Mv(0xa26)](EV));var Mr=Math[Mv(0xc35)](MG[sa][Mv(0x8ca)]['y'],MG[sa][Mv(0x8ca)]['x']);EE[Mv(0x6b0)][Mv(0x734)]=!![];var Mt=0x0,MC=![],MT=Math[Mv(0x219)]()*0xc,Mz=Math[Mv(0x665)](Math[Mv(0x219)]()*ER[Mv(0xb1c)][Mv(0x50e)][Du][Mv(0x16a)]),Mh={};Mh[Mv(0x7dc)]=EE[Mv(0x6b0)][Mv(0x7dc)]=Mh[Mv(0x678)]=EE[Mv(0x6b0)][Mv(0x678)],Mh[Mv(0x90b)]=EE[Mv(0x6b0)][Mv(0x90b)],Mh[Mv(0x2e9)]=EE[Mv(0x6b0)][Mv(0x2e9)];var Mm=Me[Mv(0xb51)][Mv(0x2b1)](Mh)['to']({'rotationRealTime':Mr+Math['PI']/0x2,'rotationShot':Mr,'tempPower':MG[sa][Mv(0x2e9)],'power':MG[sa][Mv(0x2e9)]},parseFloat(Mv(0x8f6))+Math[Mv(0x219)]()*parseFloat(Mv(0xa69)),Phaser[Mv(0x19c)][Mv(0xa0d)][Mv(0x28c)],!![],0x0);this[Mv(0x449)]=Mm,Mm[Mv(0x873)]((Mc,Mj)=>{var MO=Mv;(Mt%0xb===0x0&&EE[MO(0xae7)]||El&&El[MO(0x734)]||!(EE[MO(0xae7)]||El&&El[MO(0x734)]))&&(EE[MO(0x6b0)][MO(0x7dc)]=Mh[MO(0x7dc)],EE[MO(0x6b0)][MO(0x678)]=Mh[MO(0x678)],EE[MO(0x6b0)][MO(0x90b)]=Mh[MO(0x90b)],EE[MO(0x6b0)][MO(0x2e9)]=Mh[MO(0x2e9)]);if(EE&&EE[MO(0x7fc)]===MG[sa][MO(0x7fc)]&&ER[MO(0xb1c)][MO(0x695)][MO(0x152)]&&(EE[MO(0x500)]||EE[MO(0x87a)])){MC===![]&&EV===0x1&&DU!==Mz&&MT<=0x3&&(MC=!![],DU=Mz,ER[MO(0xb1c)][MO(0x301)][MO(0x4ea)](MY=>MY[MO(0x197)]=![]),ER[MO(0xb1c)][MO(0x1cd)][MO(0x1fb)](M4({'keyImage':MO(0x7c2),'keyFrame':ER[MO(0xb1c)][MO(0x4e7)][MO(0x3e9)]},{'keyImage':MO(0x375),'keyFrame':ER[MO(0xb1c)][MO(0x50e)][EV===0x0?Du:DU]})),ER[MO(0xb1c)][MO(0x301)][MO(0x4ea)](MY=>MY[MO(0x197)]=!![])),(EE[MO(0xa4d)](),EE[MO(0x6b0)][MO(0xa26)](EV));var Mu=Math[MO(0x6c2)](0x64,Mj*0x64);EE[MO(0x6b0)][MO(0x968)][EV][MO(0x878)]=EE[MO(0x6b0)][MO(0x7dc)],ER[MO(0xb1c)][MO(0x7e8)][MO(0x878)]=EE[MO(0x6b0)][MO(0x678)];if(El&&EV===0x0&&EE[MO(0x87a)]&&(EE[MO(0xae7)]||El&&El[MO(0x734)])){if(Mt%0x5===0x0){let MY={'x':EE[MO(0x287)]['x'],'y':EE[MO(0x287)]['y'],'rotation':EE[MO(0x6b0)][MO(0x968)][0x0][MO(0x878)],'rotationShot':EE[MO(0x6b0)][MO(0x678)],'power':EE[MO(0x6b0)][MO(0x90b)],'screw':EE[MO(0x287)][MO(0x888)],'english':EE[MO(0x287)][MO(0x86f)]};MY[MO(0x605)]=M6[MO(0x234)]()[MO(0x605)],MY[MO(0x4d7)]=El[MO(0x4d7)],MY[MO(0xb77)]={'x':ER[MO(0xb1c)][MO(0xb77)]['x'],'y':ER[MO(0xb1c)][MO(0xb77)]['y']},MY[MO(0x9a8)]=![]||ER[MO(0xb1c)][MO(0x9f4)],MY[MO(0x5f4)]=EE[MO(0x6b0)][MO(0x660)][0x0][MO(0x5f4)],MY[MO(0x459)]=EE[MO(0x459)],MY[MO(0x73e)]=EE[MO(0x73e)],MY={...MY,...{'ballD':RB,'sizeB':RJ,'sizeBSQR':Rs,'ballR':Number(EE[MO(0x3b1)]),'cushionR':Number(EE[MO(0x3dd)])}};var MU=EE[MO(0x287)][MO(0x96f)](MY[MO(0x2e9)],MY[MO(0x678)]);MY[MO(0x8ca)]=MU[MO(0x369)](),MY[MO(0x1fc)]=Du;if(EE[MO(0x6b0)][MO(0x660)][0x0][MO(0xa46)]||Dj)Dj?MY[MO(0x6b1)]=Dj:EE[MO(0x6b0)][MO(0x660)][0x0][MO(0xa46)][MO(0x6b1)];no=!![],nu[MO(0x353)](MO(0x3b0),Li(MY));}}Mt++;}else Mm[MO(0x256)](),EE[MO(0x6b0)][MO(0x734)]=![];}),Mm[Mv(0xabe)][Mv(0x663)](function(){var Mc=Mv;if(MG[sa][Mc(0x358)]&&MG[sa][Mc(0xc1a)]>=0x1&&ER[Mc(0xb1c)][Mc(0x5c5)][Mc(0x152)]&&MG[sa][Mc(0x358)][Mc(0xd1d)]>=0x0)EE[Mc(0x2f4)]=MG[sa][Mc(0x358)][Mc(0xd1d)],ER[Mc(0xb1c)][Mc(0x130)+(MG[sa][Mc(0x358)][Mc(0xd1d)]+0x1)][Mc(0xa9f)][Mc(0x910)]();else{var Mj=Math[Mc(0x996)](Math[Mc(0x219)]()*0x4);EE[Mc(0x2f4)]=Mj;if(ER[Mc(0xb1c)][Mc(0x5c5)][Mc(0x152)])ER[Mc(0xb1c)][Mc(0x130)+(0x1+Mj)][Mc(0xa9f)][Mc(0x910)]();}EE[Mc(0x6b0)][Mc(0x7dc)]=Mr+Math['PI']/0x2,EE[Mc(0x6b0)][Mc(0x678)]=Mr,EE[Mc(0x6b0)][Mc(0x90b)]=MG[sa][Mc(0x2e9)],EE[Mc(0x6b0)][Mc(0x2e9)]=MG[sa][Mc(0x2e9)];if(EV!==![]&&EE[Mc(0x61f)]){if(EV===0x0){}else{}}Mt=0x0;var MO=Me[Mc(0xb51)][Mc(0x2b1)](ER[Mc(0xb1c)][Mc(0xb77)])['to']({'x':LC(MG[sa][Mc(0x86f)]*0x32),'y':LC(MG[sa][Mc(0x888)]*0x32)},Math[Mc(0x836)](LC(MG[sa][Mc(0x86f)]*0x32))>0x14||Math[Mc(0x836)](LC(MG[sa][Mc(0x888)]*0x32))>0x14?parseFloat(Mc(0x8f6))+Math[Mc(0x219)]()*parseFloat(Mc(0xa69)):parseFloat(Mc(0x6ea)),Phaser[Mc(0x19c)][Mc(0x707)][Mc(0x28c)],!![],0x0);this[Mc(0x988)]=MO,MO[Mc(0x873)]((Mu,MU)=>{var MY=Mc;EE[MY(0x287)][MY(0x86f)]=MG[sa][MY(0x86f)]*MU,EE[MY(0x287)][MY(0x888)]=MG[sa][MY(0x888)]*MU;if(EE&&EE[MY(0x7fc)]===MG[sa][MY(0x7fc)]&&ER[MY(0xb1c)][MY(0x695)][MY(0x152)]&&(EE[MY(0x500)]||EE[MY(0x87a)])){if(El&&EV===0x0&&EE[MY(0x87a)]&&(EE[MY(0xae7)]||El&&El[MY(0x734)])){if(Mt%0x5===0x0){let Md={'x':EE[MY(0x287)]['x'],'y':EE[MY(0x287)]['y'],'rotation':EE[MY(0x6b0)][MY(0x968)][0x0][MY(0x878)],'rotationShot':EE[MY(0x6b0)][MY(0x678)],'power':EE[MY(0x6b0)][MY(0x90b)],'screw':EE[MY(0x287)][MY(0x888)],'english':EE[MY(0x287)][MY(0x86f)]};Md[MY(0x605)]=M6[MY(0x234)]()[MY(0x605)],Md[MY(0x4d7)]=El[MY(0x4d7)],Md[MY(0xb77)]={'x':ER[MY(0xb1c)][MY(0xb77)]['x'],'y':ER[MY(0xb1c)][MY(0xb77)]['y']},Md[MY(0x9a8)]=![]||ER[MY(0xb1c)][MY(0x9f4)],Md[MY(0x5f4)]=EE[MY(0x6b0)][MY(0x660)][0x0][MY(0x5f4)],Md[MY(0x459)]=EE[MY(0x459)],Md[MY(0x73e)]=EE[MY(0x73e)],Md={...Md,...{'ballD':RB,'sizeB':RJ,'sizeBSQR':Rs,'ballR':Number(EE[MY(0x3b1)]),'cushionR':Number(EE[MY(0x3dd)])}};var MI=EE[MY(0x287)][MY(0x96f)](Md[MY(0x2e9)],Md[MY(0x678)]);Md[MY(0x8ca)]=MI[MY(0x369)](),Md[MY(0x1fc)]=Du;if(EE[MY(0x6b0)][MY(0x660)][0x0][MY(0xa46)]||Dj)Dj?Md[MY(0x6b1)]=Dj:EE[MY(0x6b0)][MY(0x660)][0x0][MY(0xa46)][MY(0x6b1)];no=!![],nu[MY(0x353)](MY(0x3b0),Li(Md));}Mt++;}EE[MY(0xa4d)]();}else Mm[MY(0x256)](),MO[MY(0x256)](),EE[MY(0x6b0)][MY(0x734)]=![];}),MO[Mc(0xabe)][Mc(0x663)](function(){var Mu=Mc;if(EE&&EE[Mu(0x7fc)]===MG[sa][Mu(0x7fc)]&&EE[Mu(0xba8)][EV][Mu(0xb00)]<=EE[Mu(0x545)][Mu(0x2a1)][Mu(0x54e)]-0x1&&ER[Mu(0xb1c)][Mu(0x695)][Mu(0x152)]&&(EE[Mu(0x500)]||EE[Mu(0x87a)])){var MU=EE[Mu(0x6b0)][Mu(0x678)],MY=EE[Mu(0x6b0)][Mu(0x968)][EV][Mu(0x878)];EE[Mu(0x6b0)][Mu(0xadb)](EV,{'onComplete':()=>{var MI=Mu;EE[MI(0xae7)]||El&&El[MI(0x734)]?EE[MI(0x6b0)][MI(0x838)]({'vec':MG[sa][MI(0x8ca)][MI(0x369)](),'rotation':MY,'power':MG[sa][MI(0x2e9)],'rotationShot':MU},![]):EE[MI(0x6b0)][MI(0xfa)]({'vec':MG[sa][MI(0x8ca)],'power':MG[sa][MI(0x2e9)]}),EE[MI(0x690)]=!![],EE[MI(0x6b0)][MI(0x734)]=!!![],Mm[MI(0x256)](),MO[MI(0x256)]();}});}});});},R8[n2(0xa3a)][n2(0x499)]=function(){var MS=n2,MW=0x0;while(!this[MS(0x9e7)]&&MW<=0xb){MW++,this[MS(0x350)]();}setTimeout(()=>{var Mv=MS;!this[Mv(0x9e7)]&&this[Mv(0x499)]();},0x28);},R8[n2(0xa3a)][n2(0xabd)]=function(MS,MW){var Mv=n2;console[Mv(0x738)](MS,MW);if(this[Mv(0x6e4)]&&this[Mv(0x6e4)][Mv(0x16a)]){}else{}this[Mv(0x385)]=MW,this[Mv(0x6e4)]=MS;},R8[n2(0xa3a)][n2(0x310)]=function(){var MS=n2;if(!ER[MS(0xb1c)][MS(0x84a)][MS(0x197)])ER[MS(0xb1c)][MS(0x84a)][MS(0x197)]=!![];EE[MS(0x545)][MS(0x212)]<=0x8?this[MS(0x12e)]=0x32:this[MS(0x12e)]=0x4b;var MW=0x0;EE[MS(0xafd)][MS(0x4ea)](Mv=>{var Mg=MS;if(!Mv[Mg(0x912)]==0x0)MW+=Math[Mg(0x996)](Mv['x']+Mv['y']);}),this[MS(0x862)]=this[MS(0x9f9)],this[MS(0x3ad)][MW]&&this[MS(0x3ad)][MW][MS(0x8ca)]&&EE[MS(0x287)][MS(0x96f)](this[MS(0x3ad)][MW][MS(0x2e9)],this[MS(0x3ad)][MW][MS(0x878)])[MS(0x16a)]()>=this[MS(0x3ad)][MW][MS(0x8ca)][MS(0x16a)]()?(this[MS(0x26a)](),this[MS(0x9f9)]=!![],this[MS(0x4b0)]=0x0,this[MS(0x454)][MS(0x526)](this[MS(0x3ad)][MW]),this[MS(0x9e7)]=!![],this[MS(0x3ad)][MW][MS(0x240)][MS(0x7fc)]=EE[MS(0x7fc)],this[MS(0xbbd)]=this[MS(0x3ad)][MW],this[MS(0xbaf)](this[MS(0x454)][this[MS(0x4b0)]]),this[MS(0x3ad)][MW]):(this[MS(0x26a)](),this[MS(0x9e7)]=![],this[MS(0x499)]());};const R9=new R8();function Re(MS,MW,Mv=0x0){var Mg=n2;this[Mg(0x2e9)]=MS||Math[Mg(0x219)]()*0x63+0x1,this[Mg(0x2e9)]>=0x64&&(this[Mg(0x2e9)]=0x64),this[Mg(0x878)]=MW||Math[Mg(0x219)]()*6.283-3.141,!MW&&(R9['rn']>=R9[Mg(0x55e)][Mg(0x16a)]?(this[Mg(0x878)]=MW||Math[Mg(0x219)]()*6.283-3.141,R9['rn']=0x0):(this[Mg(0x878)]=R9[Mg(0x55e)][R9['rn']],R9['rn']++)),this[Mg(0x44b)]=Mv,this[Mg(0x8ca)]=EE[Mg(0x287)][Mg(0x96f)](this[Mg(0x2e9)],this[Mg(0x878)]),this[Mg(0x369)]=()=>{var MJ=Mg,MB=new Re();return MB[MJ(0x2e9)]=this[MJ(0x2e9)],MB[MJ(0x878)]=this[MJ(0x878)],MB[MJ(0x44b)]=this[MJ(0x44b)],MB[MJ(0x212)]=this[MJ(0x212)]||0x0,MB;};}function Rn(){var MS=n2,MW=[];ix=0x168*0x1;var Mv=[],Mg=0x3,MJ=0x0,MB=[],Ms=[],My=[],Mq=[0x64,0x55,0x4b];EE[MS(0xc64)]===EE[MS(0x37e)][MS(0x863)]&&(Mq=[0x64,0x55]);var Mx=0x0,MZ=0x0;let Mf=0x168,MN=0x5,MG=Mf/MN,MF=0x0;function Mi(){var MT=MS,Mz=!![];for(let Mc=0x1;Mc<=MG;Mc++){var Mh=Db(0x0,Mr[MT(0x16a)]-0x1),Mm=Mt(Mr[MT(0x20a)](Mh,0x1));if(Mm===![]){Mz=![];break;}}MF++,MF<MN&&Mz?setTimeout(Mi,0x4b0):MC();}const Mr=[];for(let MT=0x0;MT<=0x168;MT++){Mr[MS(0x526)](MT);}var Mt=Mz=>{var Mh=MS,Mm=Mz;MZ++;var Mc={'validBallsInsertedOnTurn':0x0,'steps':0x0,'startPos':![],'ballIDs':[],'firstHitCollisioons':[],'firstHitCollisioons2':[],'Collisioons':[],'BallsCollisioon':[],'VetrexCollisioon':[],'PocketsCollisioon':[],'LinesCollisioon':[],'rotation':0x0,'vec':new LT(),'firstHit':-0x1,'ballsType':EE[Mh(0xba8)][EV][Mh(0x37a)],'collectedBalls':[],'foul':![],'firstHitBallNum':EE[Mh(0xcc3)]};Mc[Mh(0x7fc)]=EE[Mh(0x7fc)],Mc[Mh(0x302)]=Number(RJ),Mc[Mh(0xc1e)]=RJ*0x2+0x1,Mc[Mh(0xaf3)]=Lh(RJ),Mc[Mh(0x86f)]=Math[Mh(0x219)]()*0xa>=0x4?Number((Math[Mh(0x219)]()*(1.3597*0x2/0x8*ER[Mh(0xb1c)][Mh(0xc11)])-1.3597/0x8*ER[Mh(0xb1c)][Mh(0xc11)])[Mh(0x1f2)](0x4)):0x0,Mc[Mh(0xba8)]=EE[Mh(0xba8)],Mc[Mh(0xd27)]=EV;var Mj=Mq[Math[Mh(0x996)](Math[Mh(0x219)]()*(Mq[Mh(0x16a)]-0x1))];Mc[Mh(0xc64)]=EE[Mh(0xc64)],Mc[Mh(0x37e)]=EE[Mh(0x37e)],Mc[Mh(0x5b2)]=function(MU){var MY=Mh;if(MU>=0x1&&MU<=0x7)return Mc[MY(0xad7)];if(MU>=0x9&&MU<=0xf)return Mc[MY(0x73a)];if(MU===Mc[MY(0x93f)])return Mc[MY(0x93f)];if(MU===Mc[MY(0x1ea)])return Mc[MY(0x1ea)];},Mc[Mh(0x5e3)]=function(MU){var MY=Mh;if(MU===0x1)return Mc[MY(0x33f)];if(MU>0x1)return Mc[MY(0x16b)];if(MU===Mc[MY(0x1ea)])return Mc[MY(0x1ea)];},Mc[Mh(0xae8)]=function(MU){var MY=![];if(MU===0x1)MY=0x3;else{if(MU===0x2)MY=0x1;else{if(MU===0x3)MY=0x6;else{if(MU===0x4)MY=0x7;else{if(MU===0x5)MY=0x2;else{if(MU===0x6)MY=0x4;else MU===0x7&&(MY=0x8);}}}}}return MY;},Mc[Mh(0xc53)]=function(MU){var MY=Mh;if(MU===0x1)return 0x2;if(MU===0x2)return 0x5;if(MU===0x3)return 0x1;if(MU===0x4)return 0x6;if(MU===0x6)return 0x3;if(MU===0x7)return 0x4;if(MU===0x8)return 0x7;if(MU===Mc[MY(0x1ea)])return 0x0;return![];},Mc[Mh(0x608)]=function(MU=![],MY=Mc[Mh(0x62f)]){var MI=Mh,Md=MU||this;return Md['y']<MY[MI(0x282)]['y1']-Mc[MI(0x302)]*0x2||Md['y']>MY[MI(0x286)]['y1']+Mc[MI(0x302)]*0x2||Md['x']<MY[MI(0x94b)]['x1']-Mc[MI(0x302)]*0x2||Md['x']>MY[MI(0x35d)]['x1']+Mc[MI(0x302)]*0x2;},Mc[Mh(0x29b)]=function(MU,MY,MI,Md,MA,Mo,MX){var MQ=Mh;let Ma={'x1':MU,'y1':MY,'x2':MI,'y2':Md},MK=new LT(Ma['x2']-Ma['x1'],Ma['y2']-Ma['y1']),Ml=new LT(Ma['x1']-MA,Ma['y1']-Mo),MV=MK[MQ(0xc13)](MK),Mk=0x2*Ml[MQ(0xc13)](MK),Mw=Ml[MQ(0xc13)](Ml)-MX*MX,MH=Mk*Mk-0x4*MV*Mw;if(MH<0x0)return![];else{MH=Math[MQ(0xba2)](MH);let P1=(-Mk+MH)/(0x2*MV),P2=(-Mk-MH)/(0x2*MV),P3=[];if(P1>=0x0&&P1<=0x1){let P4=new LT(MU+P1*MK['x'],MY+P1*MK['y']);P3[MQ(0x526)](P4);}if(P2>=0x0&&P2<=0x1){let P5=new LT(MU+P2*MK['x'],MY+P2*MK['y']);P3[MQ(0x526)](P5);}var Mb=Infinity,P0=![];return P3[MQ(0x4ea)](P6=>{var P7=MQ;let P8=new LT(P6['x'],P6['y'])[P7(0x5d7)](new LT(MU,MY))[P7(0x16a)]();Mb>=P8&&(Mb=P8,P0=P6);}),P0?P0:![];}return![];},Mc[Mh(0x77d)]=function(MU=![],MY,MI=function(){}){var Md=Mh,MA=MU,MU=MU||this,Mo=Number[Md(0xc2e)],MX=![];MU[Md(0x8cb)]=MY[Md(0x369)]();for(let Ma=0x0;Ma<Mc[Md(0x6c6)][Md(0x16a)];Ma++){let MK=Mc[Md(0x6c6)][Ma],Ml=new LT(MU['x']-MK['x'],MU['y']-MK['y']);var MQ=Mc[Md(0x29b)](MU['x'],MU['y'],MU['x']+MY['x'],MU['y']+MY['y'],MK['x'],MK['y'],Mc[Md(0x302)]*0x2);MQ&&(Ml=new LT(MU['x']-MQ['x'],MU['y']-MQ['y']),Mo>=Ml[Md(0x16a)]()&&(Mo=Ml[Md(0x16a)](),MX=MK,MX[Md(0x7b3)]=Ma));if(Ml[Md(0x16a)]()<MK[Md(0x7b8)]&&MU[Md(0x3d5)][Md(0x16a)]()<0x5)return MI(MK,Ma),MK;if(Ml[Md(0x16a)]()<MK[Md(0x34d)])return MI(MK,Ma),MK;}if(Mo!==Number[Md(0xc2e)]&&MX)return MI(MX,MX[Md(0x7b3)]),MX;else{if(Mc[Md(0x608)](MU)){Mo=Number[Md(0xc2e)],MX=![];for(let MV=0x0;MV<Mc[Md(0x6c6)][Md(0x16a)];MV++){let Mk=Mc[Md(0x6c6)][MV],Mw=new LT(MU['x']-Mk['x'],MU['y']-Mk['y']);Mo>=Mw[Md(0x16a)]()&&(Mo=Mw[Md(0x16a)](),MX=Mk,MX[Md(0x7b3)]=MV);}if(Mo!==Number[Md(0xc2e)]&&MX)return Mo[Md(0x16a)]>0x96&&(MU['x']=MX['x'],MU['y']=MX['y']),MI(MX,MX[Md(0x7b3)]),MX;}}return![];},Mc[Mh(0x687)]=function(MU=![],MY){var MI=Mh,MU=MU||this,Md=[];return MY[MI(0x4ea)]((MA,Mo)=>{var MX=MI;MA!==MU&&MA[MX(0x7ec)]&&!MA[MX(0xb1a)]&&Mc[MX(0x4b6)](MU,MA)&&Md[MX(0x526)](Mo);}),Md;},Mc[Mh(0x4b3)]=function(MU=![]){var MY=Mh,MU=MU||this;return Object[MY(0x796)](Mc[MY(0x62f)])[MY(0xc86)](MI=>Mc[MY(0xc09)](MU,MI)!==![]&&MI);},Mc[Mh(0xbc2)]=function(MU=![]){var MY=Mh,MU=MU||this;return Object[MY(0x796)](Mc[MY(0x314)])[MY(0x4d1)]()[MY(0xc86)]((MI,Md)=>Mc[MY(0xc09)](MU,MI)!==![]&&MI);return![];return Object[MY(0x796)](EE[MY(0x314)])[MY(0x4d1)]()[MY(0xc86)]((MI,Md)=>EE[MY(0x46d)](Md)!==![]&&EE[MY(0xc09)](MU,MI)!==![]&&MI);},Mc[Mh(0x20b)]=function(MU=![]){var MY=Mh,MU=MU||this;return Object[MY(0x796)](Mc[MY(0x199)])[MY(0x4d1)]()[MY(0xc86)](MI=>Mc[MY(0xc09)](MU,MI)!==![]&&MI);},Mc[Mh(0x5c4)]=function(MU=![]){var MY=Mh,MI=[],MU=MU||this;Object[MY(0x796)](Mc[MY(0x5f6)])[MY(0x4d1)]()[MY(0xc86)]((Md,MA)=>{var Mo=MY;Mc[Mo(0x4b6)](MU,Md)&&MI[Mo(0x526)](Md);});return MI;return Object[MY(0x796)](EE[MY(0x5f6)])[MY(0x4d1)]()[MY(0x9be)](Md=>this[MY(0x4b6)](this,Md)&&[Md]);},Mc[Mh(0x4b6)]=function(MU,MY,MI=Mc[Mh(0xc1e)]){var Md=Mh,MA=new LT(MU['x']-MY['x'],MU['y']-MY['y']),Mo=MA[Md(0x16a)]();return Mc[Md(0x4b6)]=Mc[Md(0x4b6)],Mo<=MI;},Mc[Mh(0xc09)]=function(MU,MY){var MI=Mh;const Md=Mc[MI(0xaf3)],MA={'x':MY['x2']-MY['x1'],'y':MY['y2']-MY['y1']},Mo=MY[MI(0xca6)],MX=((MU['x']-MY['x1'])*MA['x']+(MU['y']-MY['y1'])*MA['y'])/Mo;let MQ;if(MX<0x0)MQ={'x':MY['x1'],'y':MY['y1']};else MX>0x1?MQ={'x':MY['x2'],'y':MY['y2']}:MQ={'x':MY['x1']+MX*MA['x'],'y':MY['y1']+MX*MA['y']};const Ma=LI(MU,MQ);if(Ma<=Md)return MQ;return![];},Mc[Mh(0x264)]=function(MU,MY,MI){var Md=Mh;MU[Md(0x3ef)]=![];var MA=new LT(MU['x']-MY['x'],MU['y']-MY['y']),Mo=MA[Md(0xb84)](0x1/MA[Md(0x16a)]()),MX=new LT(-Mo['y'],Mo['x']),MQ=parseFloat(Mc[Md(0x3dd)]),Ma=new LT(MY['x'],MY['y'])[Md(0x5d7)](new LT(MU['x'],MU['y']))[Md(0x76c)](),MK=new LT(Ma['x'],Ma['y']),Ml=MX,MV=MK[Md(0xb84)](MU[Md(0x3d5)][Md(0xc13)](MK)),Mk=Ml[Md(0xb84)](MU[Md(0x3d5)][Md(0xc13)](Ml)),Mw=MK[Md(0xb84)](new LT(0x0,0x0)[Md(0xc13)](MK)),MH=Ml[Md(0xb84)](new LT(0x0,0x0)[Md(0xc13)](Ml));MU[Md(0xba4)]+=-MU[Md(0x3d5)][Md(0xc13)](Ml)/(0x1a/0.028);var Mb=0x32;MU[Md(0xba4)]>Mb&&(MU[Md(0xba4)]=Mb),MU[Md(0xba4)]<-Mb&&(MU[Md(0xba4)]=-Mb);var P0=Mw[Md(0xb84)](MQ)[Md(0xb51)](MV[Md(0xb84)](0x1-MQ));return MU[Md(0x912)]===0x0&&MU[Md(0x888)]!==0x0&&MU[Md(0x888)]!==undefined&&(P0=Mw[Md(0xb84)](MQ)[Md(0xb51)](MV[Md(0xb84)](0x1-MQ))[Md(0xb51)](MV[Md(0xb84)](-MU[Md(0x888)]*Number(String(Md(0x881))))),MU[Md(0x888)]=0x0),MU[Md(0x912)]===0x0&&MU[Md(0x86f)]!==0x0&&(Mk=Mk[Md(0xb51)](Ml[Md(0xb84)](LC(-MU[Md(0x86f)]*Number(String(Md(0x73c)))*MU[Md(0x3d5)][Md(0x16a)]()))),MU[Md(0x86f)]=LC(MU[Md(0x86f)]*Number(String(Md(0xc76)))),MU[Md(0x86f)]>-Number(String(Md(0x841)))&&MU[Md(0x86f)]<Number(String(Md(0x841)))&&(MU[Md(0x86f)]=0x0)),MV[Md(0x16a)]()>0x1a*0.14&&(MU[Md(0x38d)]=0x0),MV[Md(0xb84)](-MQ)[Md(0xb51)](Mk[Md(0xb51)](P0));},Mc[Mh(0x874)]=function(MU,MY,MI=Mc[Mh(0xc1e)]){var Md=Mh,MA=new LT(MU['x']-MY['x'],MU['y']-MY['y']),Mo=MA[Md(0x16a)](),MX=![];if(Mo>MI){}MU[Md(0x3ef)]=![];var MQ=parseFloat(Mc[Md(0x3b1)]),Ma=MA[Md(0xb84)]((MI+0x0-Mo)/Mo),MK=Ma[Md(0xb84)](0x1/0x2);MU['x']+=MK['x'],MU['y']+=MK['y'],MY['x']-=MK['x'],MY['y']-=MK['y'];var Ml=MA[Md(0x76c)](),MV=new LT(-Ml['y'],Ml['x']),Mk=new LT(MY['x'],MY['y'])[Md(0x5d7)](new LT(MU['x'],MU['y']))[Md(0x76c)](),Mw=new LT(Mk['x'],Mk['y']),MH=MV,Mb=Mw[Md(0xb84)](MU[Md(0x3d5)][Md(0xc13)](Mw)),P0=MH[Md(0xb84)](MU[Md(0x3d5)][Md(0xc13)](MH)),P1=Mw[Md(0xb84)](MY[Md(0x3d5)][Md(0xc13)](Mw)),P2=MH[Md(0xb84)](MY[Md(0x3d5)][Md(0xc13)](MH)),P3=P1[Md(0xb84)](MQ)[Md(0xb51)](Mb[Md(0xb84)](0x1-MQ));MU[Md(0x912)]===0x0&&MU[Md(0x888)]!==0x0&&MU[Md(0x888)]!==undefined&&(P3=P1[Md(0xb84)](MQ)[Md(0xb51)](Mb[Md(0xb84)](0x1-MQ))[Md(0xb51)](Mb[Md(0xb84)](-MU[Md(0x888)])),MU[Md(0x888)]=0x0),MU[Md(0x912)]==0x0&&MU[Md(0x86f)]!==0x0&&(P0=P0[Md(0xb51)](MH[Md(0xb84)](LC(-MU[Md(0x86f)]*Number(String(Md(0x73c)))*MU[Md(0x3d5)][Md(0x16a)]()))),MU[Md(0x86f)]=LC(MU[Md(0x86f)]*Number(String(Md(0x6f2)))),MU[Md(0x86f)]>-Number(String(Md(0x841)))&&MU[Md(0x86f)]<Number(String(Md(0x841)))&&(MU[Md(0x86f)]=0x0),MU[Md(0x86f)]=0x0);var P4=Mb[Md(0xb84)](MQ)[Md(0xb51)](P1[Md(0xb84)](0x1-MQ));return Math[Md(0x836)](MY[Md(0xba4)])<Math[Md(0x836)](MU[Md(0xba4)])&&(MY[Md(0xba4)]=MU[Md(0xba4)]*-0.5),P4[Md(0x16a)]()>0x1a*0.085&&(MY[Md(0x38d)]=0x0),MU[Md(0x3d5)]=P0[Md(0xb51)](P3),MY[Md(0x3d5)]=P2[Md(0xb51)](P4),MU[Md(0x478)]=!![],MY[Md(0x478)]=!![],!![];},Mc[Mh(0x4a5)]=function(MU){var MY=Mh;MU[MY(0x909)]&&MU[MY(0x3d5)][MY(0x16a)]()<=MU[MY(0x909)][MY(0x16a)]()/parseFloat(MY(0xa0e))&&MU[MY(0x9bc)]==![]&&(MU[MY(0x9bc)]=!![]);if(MU[MY(0x3d5)][MY(0x16a)]()>=parseFloat(MY(0x6ed))){}else{}if(MU[MY(0x3d5)][MY(0x16a)]()<0x17){}else{if(MU[MY(0x3d5)][MY(0x16a)]()<0xf){}else{if(MU[MY(0x3d5)][MY(0x16a)]()<0xa){}}}var MI=MU[MY(0x3d5)][MY(0x369)]();MI=MI[MY(0x76c)](),MU[MY(0x3d5)]=MU[MY(0x3d5)][MY(0xb84)](Mc[MY(0xa55)]),MU[MY(0x38d)]<0x1&&(MU[MY(0x38d)]+=0.02),MU[MY(0xba4)]>=0.2&&(MU[MY(0xba4)]-=0.2),MU[MY(0xba4)]<=-0.2&&(MU[MY(0xba4)]+=0.2),MU[MY(0xba4)]>=-0.2&&MU[MY(0xba4)]<=0.2&&(MU[MY(0xba4)]=0x0);if(MU[MY(0xba4)]!=0x0)var Md=MU[MY(0x3d5)][MY(0x2eb)]()[MY(0x76c)](),MA=Md[MY(0xb84)](0.3*MU[MY(0xba4)]*MU[MY(0x3d5)][MY(0x16a)]()/0x3);MU[MY(0x3d5)][MY(0x16a)]()<parseFloat(this[MY(0x512)])&&(MU[MY(0x7a3)]=0x0,MU[MY(0x478)]=![],MU[MY(0x9bc)]=![],MU[MY(0x3d5)]=new LT());},Mc[Mh(0xc40)]=function(MU,MY,MI=Mc[Mh(0xc1e)]){var Md=Mh,MA=new LT(MU['x']-MY['x'],MU['y']-MY['y']),Mo=MA[Md(0x16a)](),MX=MA[Md(0xb84)]((MI-Mo)/Mo);MU['x']+=MX['x'],MU['y']+=MX['y'];},Mc[Mh(0x336)]=function(MU,MY){var MI=Mh,Md=new LT(MU['x']-MY['x'],MU['y']-MY['y']),MA=Md[MI(0x16a)](),Mo=Md[MI(0xb84)]((Mc[MI(0x302)]-MA)/MA);MU['x']+=Mo['x'],MU['y']+=Mo['y'];},Mc[Mh(0xa21)]=()=>{var MU=Mh;for(let MI=0x0;MI<Mc[MU(0x211)][MU(0x16a)];MI++){var MY=Mc[MU(0x211)][MU(0x16a)];MY<=MI&&(MI=MY-0x1),Mc[MU(0x211)][MI][MU(0x3d5)][MU(0x16a)]()<parseFloat(Mc[MU(0x512)])&&(Mc[MU(0x211)][MI][MU(0x478)]=![],Mc[MU(0x211)][MI][MU(0x9bc)]=![],Mc[MU(0x211)][MI][MU(0x3d5)]=new LT());if(Mc[MU(0x211)][MI][MU(0x7ec)]===![])return![];if(Mc[MU(0x211)][MI][MU(0x478)])return!![];if(Mc[MU(0x211)][MI][MU(0xb1a)])continue;}return![];},Mc[Mh(0x888)]=Math[Mh(0x219)]()*0xa>=0x4?Number((Math[Mh(0x219)]()*(0.6802*0x2)-0.6802)[Mh(0x1f2)](0x4)):0x0,Mc[Mh(0x3b1)]=Mh(0x3bb),Mc[Mh(0xfe)]=Mh(0x3bb),Mc[Mh(0x7b6)]=Mh(0xcad),Mc[Mh(0x3dd)]=String(Mh(0xb63)),Mc[Mh(0xa55)]=String(Mh(0xd13)),Mc[Mh(0x924)]=0x1/0x64,Mc[Mh(0x512)]='4',Mc[Mh(0x62f)]=EE[Mh(0x62f)],Mc[Mh(0x6c6)]=EE[Mh(0x6c6)],Mc[Mh(0x199)]=EE[Mh(0x199)],Mc[Mh(0x5f6)]=EE[Mh(0x5f6)],Mc[Mh(0xad7)]=0x1,Mc[Mh(0x73a)]=0x2,Mc[Mh(0x93f)]=0x8,Mc[Mh(0x6bc)]=0x9,Mc[Mh(0x1ea)]=0x0,Mc[Mh(0x28e)]=0x3039,Mc[Mh(0xad1)]=-0x1,Mc[Mh(0x33f)]=0x1,Mc[Mh(0x16b)]=0x2;var MO=EE[Mh(0x287)][Mh(0x96f)](Mj,Mm*(0x168/ ix));Mc[Mh(0x8ca)]=MO[Mh(0x369)](),Mc[Mh(0x878)]=Mm*(0x168/ ix),Mc[Mh(0x2e9)]=Mj,Mc[Mh(0x211)]=[],Mc[Mh(0x385)]=![],EE[Mh(0xafd)][Mh(0xd25)](MU=>{var MY=Mh;let MI=MU[MY(0x369)]();MI[MY(0x3d5)]=new LT(),MI[MY(0x478)]=![],MI[MY(0x27f)]=[],MI[MY(0x358)]=-0x1,MI[MY(0x5c0)]=-0x1,MI[MY(0x7ec)]&&!MI[MY(0xb1a)]&&MI!==MU&&(Mc[MY(0x211)][MY(0x526)](MI),MI[MY(0x912)]===Mc[MY(0x1ea)]&&(Mc[MY(0x385)]=MI));}),Mc[Mh(0x385)][Mh(0x3d5)]=Mc[Mh(0x8ca)][Mh(0x369)](),Mc[Mh(0x385)][Mh(0x478)]=!![];var Mu=EE[Mh(0x7a8)](Mq[Math[Mh(0x996)](Math[Mh(0x219)]()*(Mq[Mh(0x16a)]-0x1))],Mm*(0x168/ ix),Mc);if(Mu){}if(Mu&&Mu[Mh(0x16a)]&&!Mu[0x0][Mh(0x4ae)]&&Mu[0x0][Mh(0x358)]!==Mc[Mh(0xad1)]){if(Mu[0x0][Mh(0xc1a)]){Ms[Mh(0x526)](Mu);if(Ms[Mh(0x16a)]>=0x2)return![];}else My[Mh(0x526)](Mu);MB[Mh(0x526)](Mu);if(MJ===Mg){}}else{if(Mu&&Mu[Mh(0x16a)]&&!Mu[0x0][Mh(0x4ae)]){}}};Mi();function MC(){var Mz=MS;MB[Mz(0x16a)]&&(MW=MB);var Mh=Infinity,Mm=![];Ms[Mz(0x4ea)](MY=>{var MI=Mz,Md=MY[0x0][MI(0x329)]+MY[0x0][MI(0xd1c)][0x0][MI(0x9df)][MI(0x27f)][MI(0x16a)];Mh>=Md&&(Mh=Md,Mm=[MY[0x0]]);});if(Ms[Mz(0x16a)])Mm=Ms[Math[Mz(0x665)](Math[Mz(0x219)]()*Ms[Mz(0x16a)])];if(Mm===![]){Mh=Infinity,Mm=![],My[Mz(0x4ea)](MY=>{var MI=Mz,Md=MY[0x0][MI(0x462)][MI(0x16a)]+MY[0x0][MI(0x49a)][MI(0x16a)];Mh>=Md&&(Mh=Md,Mm=[MY[0x0]]);});if(My[Mz(0x16a)])Mm=My[Math[Mz(0x665)](Math[Mz(0x219)]()*My[Mz(0x16a)])];}Mm===![]&&(MW=[{'vec':new LT(0x1f4+Math[Mz(0x219)]()*0xbb8,0x1f4+Math[Mz(0x219)]()*0xbb8)}],MW[0x0][Mz(0x2e9)]=MW[0x0][Mz(0x8ca)][Mz(0xb84)](EE[Mz(0x924)])[Mz(0x16a)](),MW[0x0][Mz(0xc1a)]=0x0,MW[0x0][Mz(0x86f)]=0x0,MW[0x0][Mz(0x888)]=0x0,MW[0x0][Mz(0x2e9)]>=0x64&&(MW[0x0][Mz(0x2e9)]=0x64)),Mm!==![]&&(MW=Mm);if(Ms[Mz(0x16a)]===0x0){var Mh=0x0,Mc=0x0;EE[Mz(0xafd)][Mz(0x4ea)](MY=>{Mc+=MY['x']+MY['y'];});var Mj=![];My[Mz(0x4ea)](MY=>{var MI=Mz,Md=0x0;MY[0x0][MI(0x211)][MI(0x4ea)](MA=>{Md+=MA['x']+MA['y'];}),Mh<=Math[MI(0x836)](Mc-Md)&&(Mh=Math[MI(0x836)](Mc-Md),Mj=MY);});if(Mj)MW=Mj;}sa=0x0,MW[sa][Mz(0xa61)]&&MW[sa][Mz(0xa61)][0x0]&&MW[sa][Mz(0xa61)][0x0][Mz(0x835)]!=Mz(0x9df)&&(MW[sa][Mz(0x86f)]=0x0,MW[sa][Mz(0x888)]=0x0),(EE[Mz(0x6b0)][Mz(0x31e)]=0x0,EE[Mz(0x6b0)][Mz(0x2e9)]=0x0,EE[Mz(0xd35)](),EE[Mz(0x6b0)][Mz(0x81d)]=!![],EE[Mz(0x6b0)][Mz(0x7f6)]=!![],EE[Mz(0x6b0)][Mz(0x2e9)]=0x0,EE[Mz(0x6b0)][Mz(0x90b)]=0x0,EE[Mz(0x6b0)][Mz(0x649)](0x0),EE[Mz(0x6b0)][Mz(0xa26)](EV));var MO=Math[Mz(0xc35)](MW[sa][Mz(0x8ca)]['y'],MW[sa][Mz(0x8ca)]['x']);EE[Mz(0x6b0)][Mz(0x734)]=!![];var Mu=0x0,MU=Me[Mz(0xb51)][Mz(0x2b1)](EE[Mz(0x6b0)])['to']({'rotationRealTime':MO+Math['PI']/0x2,'rotationShot':MO,'tempPower':MW[sa][Mz(0x2e9)],'power':MW[sa][Mz(0x2e9)]},parseFloat(Mz(0x8f6))+Math[Mz(0x219)]()*parseFloat(Mz(0xa69)),Phaser[Mz(0x19c)][Mz(0x707)][Mz(0x28c)],!![],0x0);MU[Mz(0x873)]((MY,MI)=>{var Md=Mz;if(EE&&EE[Md(0x7fc)]===MW[sa][Md(0x7fc)]&&ER[Md(0xb1c)][Md(0x695)][Md(0x152)]&&(EE[Md(0x500)]||EE[Md(0x87a)])){EE[Md(0xa4d)](),EE[Md(0x6b0)][Md(0xa26)](EV);var MA=Math[Md(0x6c2)](0x64,MI*0x64);EE[Md(0x6b0)][Md(0x968)][EV][Md(0x878)]=EE[Md(0x6b0)][Md(0x7dc)],ER[Md(0xb1c)][Md(0x7e8)][Md(0x878)]=EE[Md(0x6b0)][Md(0x678)];if(El&&EV===0x0&&EE[Md(0x87a)]&&EE[Md(0xae7)]){if(Mu%0x5===0x0){let MX={'x':EE[Md(0x287)]['x'],'y':EE[Md(0x287)]['y'],'rotation':EE[Md(0x6b0)][Md(0x968)][0x0][Md(0x878)],'rotationShot':EE[Md(0x6b0)][Md(0x678)],'power':EE[Md(0x6b0)][Md(0x90b)],'screw':EE[Md(0x287)][Md(0x888)],'english':EE[Md(0x287)][Md(0x86f)]};MX[Md(0x605)]=M6[Md(0x234)]()[Md(0x605)],MX[Md(0x4d7)]=El[Md(0x4d7)],MX[Md(0xb77)]={'x':ER[Md(0xb1c)][Md(0xb77)]['x'],'y':ER[Md(0xb1c)][Md(0xb77)]['y']},MX[Md(0x9a8)]=![]||ER[Md(0xb1c)][Md(0x9f4)],MX[Md(0x5f4)]=EE[Md(0x6b0)][Md(0x660)][0x0][Md(0x5f4)],MX[Md(0x459)]=EE[Md(0x459)],MX[Md(0x73e)]=EE[Md(0x73e)],MX={...MX,...{'ballD':RB,'sizeB':RJ,'sizeBSQR':Rs,'ballR':Number(EE[Md(0x3b1)]),'cushionR':Number(EE[Md(0x3dd)])}};var Mo=EE[Md(0x287)][Md(0x96f)](MX[Md(0x2e9)],MX[Md(0x678)]);MX[Md(0x1fc)]=Du;if(EE[Md(0x6b0)][Md(0x660)][0x0][Md(0xa46)]||Dj)Dj?MX[Md(0x6b1)]=Dj:EE[Md(0x6b0)][Md(0x660)][0x0][Md(0xa46)][Md(0x6b1)];no=!![],nu[Md(0x353)](Md(0x3b0),Li(MX));}Mu++;}}else MU[Md(0x256)](),EE[Md(0x6b0)][Md(0x734)]=![];}),MU[Mz(0xabe)][Mz(0x663)](function(){var MY=Mz;if(MW[sa][MY(0x358)]&&MW[sa][MY(0xc1a)]>=0x1&&ER[MY(0xb1c)][MY(0x5c5)][MY(0x152)])ER[MY(0xb1c)][MY(0x130)+(MW[sa][MY(0x358)][MY(0xd1d)]+0x1)][MY(0xa9f)][MY(0x910)]();MW[sa][MY(0xc1a)]===0x0&&ER[MY(0xb1c)][MY(0x5c5)][MY(0x152)]&&ER[MY(0xb1c)][MY(0x130)+(0x1+Math[MY(0x996)](Math[MY(0x219)]()*0x4))][MY(0xa9f)][MY(0x910)](),EE[MY(0x6b0)][MY(0x7dc)]=MO+Math['PI']/0x2;if(EV!==![]&&EE[MY(0x61f)]){if(EV===0x0){}else{}}Mu=0x0;var MI=Me[MY(0xb51)][MY(0x2b1)](ER[MY(0xb1c)][MY(0xb77)])['to']({'x':LC(MW[sa][MY(0x86f)]*0x32),'y':LC(MW[sa][MY(0x888)]*0x32)},Math[MY(0x836)](LC(MW[sa][MY(0x86f)]*0x32))>0x14||Math[MY(0x836)](LC(MW[sa][MY(0x888)]*0x32))>0x14?parseFloat(MY(0x8f6))+Math[MY(0x219)]()*parseFloat(MY(0xa69)):parseFloat(MY(0x6ea)),Phaser[MY(0x19c)][MY(0x707)][MY(0x28c)],!![],0x0);MI[MY(0x873)]((Md,MA)=>{var Mo=MY;EE[Mo(0x287)][Mo(0x86f)]=MW[sa][Mo(0x86f)]*MA,EE[Mo(0x287)][Mo(0x888)]=MW[sa][Mo(0x888)]*MA;if(EE&&EE[Mo(0x7fc)]===MW[sa][Mo(0x7fc)]&&ER[Mo(0xb1c)][Mo(0x695)][Mo(0x152)]&&(EE[Mo(0x500)]||EE[Mo(0x87a)])){if(El&&EV===0x0&&EE[Mo(0x87a)]&&EE[Mo(0xae7)]){if(Mu%0x5===0x0){let MQ={'x':EE[Mo(0x287)]['x'],'y':EE[Mo(0x287)]['y'],'rotation':EE[Mo(0x6b0)][Mo(0x968)][0x0][Mo(0x878)],'rotationShot':EE[Mo(0x6b0)][Mo(0x678)],'power':EE[Mo(0x6b0)][Mo(0x90b)],'screw':EE[Mo(0x287)][Mo(0x888)],'english':EE[Mo(0x287)][Mo(0x86f)]};MQ[Mo(0x605)]=M6[Mo(0x234)]()[Mo(0x605)],MQ[Mo(0x4d7)]=El[Mo(0x4d7)],MQ[Mo(0xb77)]={'x':ER[Mo(0xb1c)][Mo(0xb77)]['x'],'y':ER[Mo(0xb1c)][Mo(0xb77)]['y']},MQ[Mo(0x9a8)]=![]||ER[Mo(0xb1c)][Mo(0x9f4)],MQ[Mo(0x5f4)]=EE[Mo(0x6b0)][Mo(0x660)][0x0][Mo(0x5f4)],MQ[Mo(0x459)]=EE[Mo(0x459)],MQ[Mo(0x73e)]=EE[Mo(0x73e)],MQ={...MQ,...{'ballD':RB,'sizeB':RJ,'sizeBSQR':Rs,'ballR':Number(EE[Mo(0x3b1)]),'cushionR':Number(EE[Mo(0x3dd)])}};var MX=EE[Mo(0x287)][Mo(0x96f)](MQ[Mo(0x2e9)],MQ[Mo(0x678)]);MQ[Mo(0x1fc)]=Du;if(EE[Mo(0x6b0)][Mo(0x660)][0x0][Mo(0xa46)]||Dj)Dj?MQ[Mo(0x6b1)]=Dj:EE[Mo(0x6b0)][Mo(0x660)][0x0][Mo(0xa46)][Mo(0x6b1)];no=!![],nu[Mo(0x353)](Mo(0x3b0),Li(MQ));}Mu++;}EE[Mo(0xa4d)]();}else MU[Mo(0x256)](),MI[Mo(0x256)](),EE[Mo(0x6b0)][Mo(0x734)]=![];}),MI[MY(0xabe)][MY(0x663)](function(){var Md=MY;if(EE&&EE[Md(0x7fc)]===MW[sa][Md(0x7fc)]&&EE[Md(0xba8)][EV][Md(0xb00)]<=EE[Md(0x545)][Md(0x2a1)][Md(0x54e)]-0x1&&ER[Md(0xb1c)][Md(0x695)][Md(0x152)]&&(EE[Md(0x500)]||EE[Md(0x87a)])){var MA=EE[Md(0x6b0)][Md(0x678)],Mo=EE[Md(0x6b0)][Md(0x968)][0x0][Md(0x878)];EE[Md(0x6b0)][Md(0xadb)](EV,{'onComplete':()=>{var MX=Md;EE[MX(0xae7)]?EE[MX(0x6b0)][MX(0x838)]({'vec':MW[sa][MX(0x8ca)],'rotation':Mo,'power':MW[sa][MX(0x2e9)],'rotationShot':MA},![]):EE[MX(0x6b0)][MX(0xfa)]({'vec':MW[sa][MX(0x8ca)],'power':MW[sa][MX(0x2e9)]}),EE[MX(0x6b0)][MX(0x734)]=!!![],MU[MX(0x256)](),MI[MX(0x256)]();}});}});});}}function Rp(MS,MW){var Mv=n2,Mg=[];ix=0x168*0x1;var MJ=[],MB=0x3,Ms=0x0,My=[],Mq=[],Mx=[],MZ=EE[Mv(0x7a8)](MS,MW);if(MZ){}if(MZ&&MZ[Mv(0x16a)]&&!MZ[0x0][Mv(0x4ae)]&&MZ[0x0][Mv(0x358)]!==RC){MZ[0x0][Mv(0xc1a)]?Mq[Mv(0x526)](MZ):Mx[Mv(0x526)](MZ),My[Mv(0x526)](MZ);if(Ms===MB){}}My[Mv(0x16a)]&&(Mg=My);var Mf=Infinity,MN=![];Mq[Mv(0x4ea)](Mi=>{var Mr=Mv;console[Mr(0x738)](Mi[0x0][Mr(0xd1c)]);var Mt=Mi[0x0][Mr(0x329)]+Mi[0x0][Mr(0xd1c)][0x0][Mr(0x9df)][Mr(0x27f)][Mr(0x16a)];Mf>=Mt&&(Mf=Mt,MN=[Mi[0x0]]);}),MN===![]&&(Mf=Infinity,MN=![],Mx[Mv(0x4ea)](Mi=>{var Mr=Mv,Mt=Mi[0x0][Mr(0x462)][Mr(0x16a)]+Mi[0x0][Mr(0x49a)][Mr(0x16a)];Mf>=Mt&&(Mf=Mt,MN=[Mi[0x0]]);})),MN===![]&&(Mg=[{'vec':new LT(Math[Mv(0x219)]()*0x14,Math[Mv(0x219)]()*0x14)}]),MN!==![]&&(Mg=MN),(sa=Math[Mv(0x665)](Math[Mv(0x219)]()*Mg[Mv(0x16a)]),EE[Mv(0x6b0)][Mv(0x31e)]=0x0,EE[Mv(0x6b0)][Mv(0x2e9)]=0x0,EE[Mv(0xd35)](),EE[Mv(0x6b0)][Mv(0x81d)]=!![],EE[Mv(0x6b0)][Mv(0x7f6)]=!![],EE[Mv(0x6b0)][Mv(0x2e9)]=0x0,EE[Mv(0x6b0)][Mv(0x90b)]=0x0,EE[Mv(0x6b0)][Mv(0x649)](0x0),EE[Mv(0x6b0)][Mv(0xa26)](EV));var MG=Math[Mv(0xc35)](Mg[sa][Mv(0x8ca)]['y'],Mg[sa][Mv(0x8ca)]['x']),MF=Me[Mv(0xb51)][Mv(0x2b1)](EE[Mv(0x6b0)])['to']({'rotationRealTime':MG+Math['PI']/0x2,'rotationShot':MG,'tempPower':0x64,'power':0x64},0x708+Math[Mv(0x219)]()*0x3e8,Phaser[Mv(0x19c)][Mv(0x707)][Mv(0x28c)],!![],0x0);MF[Mv(0x873)]((Mi,Mr)=>{var Mt=Mv;EE[Mt(0xa4d)](),EE[Mt(0x6b0)][Mt(0xa26)](0x1);var MC=Math[Mt(0x6c2)](0x64,Mr*0x64);EE[Mt(0x6b0)][Mt(0x968)][EV][Mt(0x878)]=EE[Mt(0x6b0)][Mt(0x7dc)],ER[Mt(0xb1c)][Mt(0x7e8)][Mt(0x878)]=EE[Mt(0x6b0)][Mt(0x678)];}),MF[Mv(0xabe)][Mv(0x663)](function(){var Mi=Mv;if(EV!==![]&&EE[Mi(0x61f)]){if(EV===0x0){}else{}}EE[Mi(0x6b0)][Mi(0xadb)](EV,{'onComplete':()=>{var Mr=Mi;EE[Mr(0x6b0)][Mr(0xfa)]({'vec':Mg[sa][Mr(0x8ca)],'power':0x64});}});});}var RD=function(){var MS=n2;this[MS(0x4d8)]=RC,this[MS(0xbbf)]=![],this[MS(0x210)]=![],this[MS(0x845)]=![],this[MS(0x5bc)]=![],this[MS(0xc1c)]=![],this[MS(0x64d)]=![],this[MS(0x7ab)]=0x3e8,this[MS(0xcc0)]=0x28a,this[MS(0xb74)]=0x0,this[MS(0x7c6)]=0x9,this[MS(0x2d8)]=[0x1e,0x1e,0x19,0x19,0x14,0x14,0xf,0xf,0xa,0xa],this[MS(0x34a)]=[![],![],![],![],![],![],![],![],!![],!![]],this[MS(0x5a9)]=[![],![],![],![],![],![],!![],!![],!![],!![]],this[MS(0xc03)]=[[1.5,0x2],[1.3,1.8],[0x1,1.5],[0x1,1.2],[0.8,1.1],[0.6,0x1],[0.5,0.9],[0.4,0.7],[0.3,0.5],[0.1,0.3]],this[MS(0x819)]=[[0xa,0x1e],[0x5,0x1b],[0x0,0x18],[0x0,0x15],[0x0,0x13],[0x0,0x10],[0x0,0xd],[0x0,0xa],[0x0,0x7],[0x0,0x4]],this[MS(0xa51)]=[[0.01,0.01,0.01,0x0],[0.2,0.25,0.3,0x0],[0.25,0.35,0.2,0.05],[0.5,0.4,0.45,0.03],[0.4,0.5,0.6,0.05],[0.7,0.7,0.7,0.07],[0.5,0.6,0x1,0.1],[0.9,0.8,0.9,0.05],[0.75,0x1,0.7,0.03],[0x1,0.8,0.4,0.07]],this[MS(0x661)]=![],this[MS(0xa23)]=0x0;};RD[n2(0xa3a)]={'constructor':RD,'bestGhost':function(MS,MW=0x2d){var Mv=n2;for(let Mq=0x0;Mq<MS[Mv(0x16a)];Mq++){let Mx=MS[Mq];ghostBall=MS[Mq];var Mg=new LT(ghostBall[Mv(0x31f)]['x']-EE[Mv(0x287)]['x'],ghostBall[Mv(0x31f)]['y']-EE[Mv(0x287)]['y']),MJ=Math[Mv(0xc35)](Mg['y'],Mg['x']),MB=this[Mv(0x32a)](ghostBall),Ms=MB*1.3;forceOffset=Db(this[Mv(0x819)][this[Mv(0x7c6)]][0x0],this[Mv(0x819)][this[Mv(0x7c6)]][0x1])/0x64;let MZ=-(0.0111111*0x2d);for(let Mf=0x0;Mf<MW;Mf++){if(Mf===0x0){var My=EE[Mv(0x7a8)](Math[Mv(0x6c2)](0x64,Ms),MJ);if(My&&My[Mv(0x16a)]&&!My[0x0][Mv(0x4ae)]&&My[0x0][Mv(0xc1a)])return ghostBall[Mv(0x656)]=My[0x0],ghostBall[Mv(0x3f5)]=MJ,console[Mv(0x738)](ghostBall,My[0x0],Mf),ghostBall;}My=EE[Mv(0x7a8)](Math[Mv(0x6c2)](0x64,Ms),MJ+0.0111111*(Mf+0x1));if(My&&My[Mv(0x16a)]&&!My[0x0][Mv(0x4ae)]&&My[0x0][Mv(0xc1a)])return ghostBall[Mv(0x656)]=My[0x0],ghostBall[Mv(0x3f5)]=Math[Mv(0xc35)](Math[Mv(0xa56)](MJ+0.0111111*(Mf+0x1)),Math[Mv(0xa2d)](MJ+0.0111111*(Mf+0x1))),console[Mv(0x738)](ghostBall,My[0x0],Mf),ghostBall;if(My&&!My[Mv(0x16a)]||!My)My=EE[Mv(0x7a8)](Math[Mv(0x6c2)](0x64,Ms),MJ+0.0111111*-(Mf+0x1));if(My&&My[Mv(0x16a)]&&!My[0x0][Mv(0x4ae)]&&My[0x0][Mv(0xc1a)])return ghostBall[Mv(0x656)]=My[0x0],ghostBall[Mv(0x3f5)]=Math[Mv(0xc35)](Math[Mv(0xa56)](MJ+0.0111111*-(Mf+0x1)),Math[Mv(0xa2d)](MJ+0.0111111*-(Mf+0x1))),console[Mv(0x738)](ghostBall,My[0x0],Mf),ghostBall;}}return![];},'getGhostBall':function(){var MS=n2,MW;this[MS(0x661)]=![],this[MS(0xbbf)]=![],this[MS(0x210)]=![],this[MS(0x845)]=![],this[MS(0x5bc)]=![],this[MS(0xc1c)]=![],this[MS(0x64d)]=![];var Mv;EE[MS(0xba8)][0x1][MS(0x37a)]===RG?Mv=RN:Mv=RG;var Mg=this[MS(0x502)](),MJ=this[MS(0x372)](Mg),MB=this[MS(0xa85)](MJ),Ms=this[MS(0xcd3)](MB),My=this[MS(0xc5b)](MB),Mq=this[MS(0x5fb)](EE[MS(0x287)][MS(0x31f)]),Mx=this[MS(0x48c)](),MZ=this[MS(0xd37)](),Mf=[],MN=[],MG=[],MF=[];if(My[MS(0x16a)]>0x0)Mf[MS(0x526)](...My);else{if(Mx[MS(0x16a)]>0x0)Mf[MS(0x526)](...Mx);else{var Mi=!![];MN=this[MS(0x5a1)](Mg),MN[MS(0x16a)]>0x0&&this[MS(0x5a9)][this[MS(0x7c6)]]&&Mf[MS(0x526)](...MN),MG=this[MS(0x5d9)](Mg),MG[MS(0x16a)]>0x0&&Mi&&this[MS(0x34a)][this[MS(0x7c6)]]&&Mf[MS(0x526)](...MG),MZ[MS(0x16a)]>0x0&&Mi&&this[MS(0x34a)][this[MS(0x7c6)]]&&Mf[MS(0x526)](...MZ),Ms[MS(0x16a)]>0x0&&Mi&&Mf[MS(0x526)](...Ms),Mq[MS(0x16a)]>0x0&&Mi&&Mf[MS(0x526)](...Mq),MF=this[MS(0x2b8)](),MF[MS(0x16a)]>0x0&&Mi&&this[MS(0x34a)][this[MS(0x7c6)]]&&Mf[MS(0x526)](...Mq);}}var Mr=![];Mf[MS(0x4ea)](Mh=>{var Mm=MS;Ms[Mm(0x355)](Mh)&&(Mh[Mm(0x461)]=Mh[Mm(0x986)]),Mq[Mm(0x355)](Mh)&&(Mh[Mm(0x461)]=Mh[Mm(0x986)]);}),Mi=!![];if(Mf[MS(0x16a)])Mr=this[MS(0xb38)](Mf,0x0);if(Mf[MS(0x16a)]&&Mr){if(Mx[MS(0x355)](Mr))this[MS(0xc1c)]=!![];else{if(MN[MS(0x355)](Mr))this[MS(0x845)]=!![];else{if(MG[MS(0x355)](Mr))this[MS(0xbbf)]=!![],this[MS(0x210)]=!![];else{if(MZ[MS(0x355)](Mr))this[MS(0x64d)]=!![];else{if(Ms[MS(0x355)](Mr))this[MS(0x5bc)]=!![];else{if(Mq[MS(0x355)](Mr))this[MS(0x5bc)]=!![];else MF[MS(0x355)](Mr)&&(this[MS(0xbbf)]=!![]);}}}}}Mi=![];}MW=Mr;if(Mi&&!Mr){var Mt=[],MC=![];for(var MT=0x1;MT<EE[MS(0xafd)][MS(0x16a)];MT++){if(EE[MS(0x5b2)](EE[MS(0xafd)][MT][MS(0x912)])===EE[MS(0xba8)][0x1][MS(0x37a)]&&EE[MS(0xafd)][MT][MS(0x7ec)]||EE[MS(0xba8)][0x1][MS(0x37a)]===RC&&EE[MS(0x5b2)](EE[MS(0xafd)][MT][MS(0x912)])!==RF){MC=new LT(EE[MS(0xafd)][MT]['x'],EE[MS(0xafd)][MT]['y']);var Mz=new RL();Mz[MS(0x31f)]=Mz[MS(0x986)]=Mz[MS(0x461)]=MC[MS(0x5d7)](MC[MS(0x5d7)](new LT(EE[MS(0x287)][MS(0x31f)]))[MS(0x76c)]()[MS(0xb84)](0x2*0.17)),Mt[MS(0x526)](Mz);}}var MW=this[MS(0xb38)](Mt,0x168*0.5);if(MW)return MW;this[MS(0x5bc)]=!![],MW=Mt[Dw(Mt[MS(0x16a)])];}return MW;},'GetGhostBalls':function(){var MS=n2,MW=[];for(var Mv=0x0;Mv<EE[MS(0x6c6)][MS(0x16a)];Mv++){for(var Mg=0x1;Mg<EE[MS(0xafd)][MS(0x16a)];Mg++){if(EE[MS(0xafd)][Mg][MS(0x4b5)]===EE[MS(0xba8)][0x1][MS(0x37a)]&&EE[MS(0xafd)][Mg][MS(0x7ec)]||EE[MS(0xba8)][0x1][MS(0x37a)]===RC&&EE[MS(0xafd)][Mg][MS(0x4b5)]!==RF){var MJ=new LT(EE[MS(0xafd)][Mg]['x'],EE[MS(0xafd)][Mg]['y']),MB=new LT(EE[MS(0x6c6)][Mv][MS(0x43e)],EE[MS(0x6c6)][Mv][MS(0xc70)]),Ms=MJ[MS(0x5d7)](MB[MS(0x5d7)](MJ)[MS(0x76c)]()[MS(0xb84)](RB)),My=new RL();My[MS(0x31f)]=Ms,My[MS(0x461)]=MB,My[MS(0x986)]=MJ,My[MS(0xa1d)]=EE[MS(0xafd)][Mg][MS(0x912)],MW[MS(0x526)](My);}}}return MW;},'GetGhostBallsByAngle':function(MS){var MW=n2,Mv=[];for(var Mg=0x0;Mg<MS[MW(0x16a)];Mg++){var MJ=MS[Mg][MW(0x31f)][MW(0x5d7)](new LT(EE[MW(0x287)]['x'],EE[MW(0x287)]['y'])),MB=MS[Mg][MW(0x461)][MW(0x5d7)](MS[Mg][MW(0x31f)]),Ms=MJ[MW(0x76c)](),My=MB[MW(0x76c)](),Mq=My[MW(0xac8)](Ms);Mq<0x3c*Math['PI']/0xb4&&Mv[MW(0x526)](MS[Mg]);}return Mv;},'GetGhostBallsNoCueBlock':function(MS){var MW=n2,Mv=[];if(MS[MW(0x16a)]!==0x0)for(var Mg=0x0;Mg<MS[MW(0x16a)];Mg++){this[MW(0x650)](EE[MW(0x287)][MW(0x31f)],MS[Mg][MW(0x31f)],MS[Mg][MW(0xa1d)])===![]&&Mv[MW(0x526)](MS[Mg]);}return Mv;},'GetGhostBallsNoCueBlockGoodBallLock':function(MS){var MW=n2,Mv;EE[MW(0xba8)][0x1][MW(0x37a)]===RG?Mv=RN:Mv=RG;var Mg=[];for(var MJ=0x0;MJ<MS[MW(0x16a)];MJ++){var MB=MS[MJ][MW(0x986)],Ms=MS[MJ][MW(0x461)],My=this[MW(0x142)](MB,Ms,MS[MJ][MW(0xa1d)]);if(EE[MW(0xba8)][0x1][MW(0x37a)]===RF)My!==![]&&Mg[MW(0x526)](MS[MJ]);else{if(My[MW(0xbde)]!==null){var Mq=My[MW(0xbde)][MW(0x835)];Mq!==Mv&&(Mq!==RF&&Mg[MW(0x526)](MS[MJ]));}}}return Mg;},'GetGhostBallsNoBallHoleBlock':function(MS){var MW=n2,Mv=[];for(var Mg=0x0;Mg<MS[MW(0x16a)];Mg++){this[MW(0x650)](MS[Mg][MW(0x986)],MS[Mg][MW(0x461)],MS[Mg][MW(0xa1d)])===![]&&Mv[MW(0x526)](MS[Mg]);}return Mv;},'GetGhostBallsNoAngleNoCueBlock':function(MS){var MW=n2,Mv=[];for(var Mg=0x1;Mg<EE[MW(0xafd)][MW(0x16a)];Mg++){if(EE[MW(0x5b2)](EE[MW(0xafd)][Mg][MW(0x912)])===EE[MW(0xba8)][0x1][MW(0x37a)]&&EE[MW(0xafd)][Mg][MW(0x7ec)]||EE[MW(0xba8)][0x1][MW(0x37a)]===RC&&EE[MW(0x5b2)](EE[MW(0xafd)][Mg][MW(0x912)])!==RF){var MJ=MS,MB=new LT(EE[MW(0xafd)][Mg]['x'],EE[MW(0xafd)][Mg]['y']),Ms=MB[MW(0x5d7)](MB[MW(0x5d7)](MJ)[MW(0x76c)]()[MW(0xb84)](RB));if(this[MW(0x650)](MJ,Ms,EE[MW(0xafd)][Mg][MW(0x912)])===![]){var My=new RL();My[MW(0x31f)]=Ms,My[MW(0x461)]=MB,My[MW(0x986)]=MB,My[MW(0xa1d)]=EE[MW(0xafd)][Mg][MW(0x912)],Mv[MW(0x526)](My);}var Mq=MB[MW(0x5d7)](MJ)[MW(0x76c)](),Mx=new LT(-Mq['y'],Mq['x']),MZ;MZ=MB[MW(0xb51)](Mx[MW(0xb84)](-RJ))[MW(0x5d7)](MJ)[MW(0x76c)]();var Mf=this[MW(0x872)](MJ,MZ,0x1f4);Mf[MW(0xbde)]!==null&&(Mf[MW(0xbde)][MW(0x835)]===EE[MW(0xba8)][0x1][MW(0x37a)]&&(My=new RL(),My[MW(0x31f)]=Mf[MW(0x34e)],My[MW(0x461)]=MB,My[MW(0x986)]=MB,My[MW(0xa1d)]=EE[MW(0xafd)][Mg][MW(0x912)],Mv[MW(0x526)](My))),MZ=MB[MW(0xb51)](Mx[MW(0xb84)](-RJ*1.5))[MW(0x5d7)](MJ)[MW(0x76c)]();var Mf=this[MW(0x872)](MJ,MZ,0x1f4);Mf[MW(0xbde)]!==null&&(Mf[MW(0xbde)][MW(0x835)]===EE[MW(0xba8)][0x1][MW(0x37a)]&&(My=new RL(),My[MW(0x31f)]=Mf[MW(0x34e)],My[MW(0x461)]=MB,My[MW(0x986)]=MB,My[MW(0xa1d)]=EE[MW(0xafd)][Mg][MW(0x912)],Mv[MW(0x526)](My))),MZ=MB[MW(0xb51)](Mx[MW(0xb84)](RJ))[MW(0x5d7)](MJ)[MW(0x76c)]();var Mf=this[MW(0x872)](MJ,MZ,0x1f4);Mf[MW(0xbde)]!==null&&(Mf[MW(0xbde)][MW(0x835)]===EE[MW(0xba8)][0x1][MW(0x37a)]&&(My=new RL(),My[MW(0x31f)]=Mf[MW(0x34e)],My[MW(0x461)]=MB,My[MW(0x986)]=MB,My[MW(0xa1d)]=EE[MW(0xafd)][Mg][MW(0x912)],Mv[MW(0x526)](My))),MZ=MB[MW(0xb51)](Mx[MW(0xb84)](RJ*1.5))[MW(0x5d7)](MJ)[MW(0x76c)]();var Mf=this[MW(0x872)](MJ,MZ,0x1f4);Mf[MW(0xbde)]!==null&&(Mf[MW(0xbde)][MW(0x835)]===EE[MW(0xba8)][0x1][MW(0x37a)]&&(My=new RL(),My[MW(0x31f)]=Mf[MW(0x34e)],My[MW(0x461)]=MB,My[MW(0x986)]=MB,My[MW(0xa1d)]=EE[MW(0xafd)][Mg][MW(0x912)],Mv[MW(0x526)](My)));}}return Mv;},'GetBallsCloseToHoles':function(){var MS=n2,MW=[];for(var Mv=0x1;Mv<EE[MS(0xafd)][MS(0x16a)];Mv++){if(EE[MS(0x5b2)](EE[MS(0xafd)][Mv][MS(0x912)])===EE[MS(0xba8)][0x1][MS(0x37a)]&&EE[MS(0xafd)][Mv][MS(0x7ec)]||EE[MS(0xba8)][0x1][MS(0x37a)]===RC&&EE[MS(0x5b2)](EE[MS(0xafd)][Mv][MS(0x912)])!==RF){var Mg=new RL(),MJ=![],MB=0x0;EE[MS(0xafd)][Mv]['x']<EE[MS(0x6c6)][MB]['x']&&EE[MS(0xafd)][Mv]['y']<EE[MS(0x6c6)][MB]['y']?(Mg[MS(0x31f)]=Mg[MS(0x986)]=new LT(EE[MS(0xafd)][Mv]['x'],EE[MS(0xafd)][Mv]['y']),Mg[MS(0x461)]=new LT(EE[MS(0x6c6)][MB][MS(0x43e)],EE[MS(0x6c6)][MB][MS(0xc70)]),Mg[MS(0xa1d)]=EE[MS(0xafd)][Mv][MS(0x912)],MJ=!![]):(MB=0x3,EE[MS(0xafd)][Mv]['x']>EE[MS(0x6c6)][MB]['x']&&EE[MS(0xafd)][Mv]['y']<EE[MS(0x6c6)][MB]['y']?(Mg[MS(0x31f)]=Mg[MS(0x986)]=new LT(EE[MS(0xafd)][Mv]['x'],EE[MS(0xafd)][Mv]['y']),Mg[MS(0x461)]=new LT(EE[MS(0x6c6)][MB][MS(0x43e)],EE[MS(0x6c6)][MB][MS(0xc70)]),Mg[MS(0xa1d)]=EE[MS(0xafd)][Mv][MS(0x912)],MJ=!![]):(MB=0x2,EE[MS(0xafd)][Mv]['x']<EE[MS(0x6c6)][MB]['x']&&EE[MS(0xafd)][Mv]['y']>EE[MS(0x6c6)][MB]['y']?(Mg[MS(0x31f)]=Mg[MS(0x986)]=new LT(EE[MS(0xafd)][Mv]['x'],EE[MS(0xafd)][Mv]['y']),Mg[MS(0x461)]=new LT(EE[MS(0x6c6)][MB][MS(0x43e)],EE[MS(0x6c6)][MB][MS(0xc70)]),Mg[MS(0xa1d)]=EE[MS(0xafd)][Mv][MS(0x912)],MJ=!![]):(MB=0x5,EE[MS(0xafd)][Mv]['x']>EE[MS(0x6c6)][MB]['x']&&EE[MS(0xafd)][Mv]['y']>EE[MS(0x6c6)][MB]['y']&&(Mg[MS(0x31f)]=Mg[MS(0x986)]=new LT(EE[MS(0xafd)][Mv]['x'],EE[MS(0xafd)][Mv]['y']),Mg[MS(0x461)]=new LT(EE[MS(0x6c6)][MB][MS(0x43e)],EE[MS(0x6c6)][MB][MS(0xc70)]),Mg[MS(0xa1d)]=EE[MS(0xafd)][Mv][MS(0x912)],MJ=!![]))));if(MJ===!![]){var Ms=Mg[MS(0x31f)][MS(0x5d7)](new LT(EE[MS(0x287)]['x'],EE[MS(0x287)]['y']))[MS(0x76c)](),My=Mg[MS(0x31f)][MS(0x5d7)](Ms[MS(0xb84)](0x2*0.17));this[MS(0x650)](new LT(EE[MS(0x287)]['x'],EE[MS(0x287)]['y']),My,Mg[MS(0xa1d)])===![]&&(Mg[MS(0x31f)]=My,MW[MS(0x526)](Mg));}}}return MW;},'GetGhostBallsFromCushionPot':function(MS){var MW=n2,Mv=this[MW(0xc5b)](MS),Mg=[];if(Mv[MW(0x16a)]===0x0)return Mg;for(var MJ=0x0;MJ<0x4;MJ++){for(var MB=0x0;MB<Mv[MW(0x16a)];MB++){if(MJ===0x0)var Ms=Mv[MB][MW(0x31f)]['y']-EE[MW(0x62f)][MW(0x94b)]['y1']-RB,My=new LT(Mv[MB][MW(0x31f)]['x'],EE[MW(0x62f)][MW(0x94b)]['y1']-Ms);else MJ===0x1?(Ms=EE[MW(0x62f)][MW(0x35d)]['y1']-Mv[MB][MW(0x31f)]['y']-RB,My=new LT(Mv[MB][MW(0x31f)]['x'],EE[MW(0x62f)][MW(0x35d)]['y1']+Ms)):MJ===0x2?(Ms=Mv[MB][MW(0x31f)]['x']-EE[MW(0x62f)][MW(0x286)]['x1']-RB,My=new LT(EE[MW(0x62f)][MW(0x286)]['x1']-Ms,Mv[MB][MW(0x31f)]['y'])):(Ms=EE[MW(0x62f)][MW(0x282)]['x1']-Mv[MB][MW(0x31f)]['x']-RB,My=new LT(EE[MW(0x62f)][MW(0x282)]['x1']+Ms,Mv[MB][MW(0x31f)]['y']));var Mq=My[MW(0x5d7)](EE[MW(0x287)][MW(0x31f)]),Mx=this[MW(0x872)](EE[MW(0x287)][MW(0x31f)],Mq[MW(0x76c)](),0x3e8,Rr);if(Mx[MW(0x4a0)]!==null){var MZ=new LT(Mx[MW(0x34e)]);if(this[MW(0x650)](MZ,Mv[MB][MW(0x31f)],Mv[MB][MW(0xa1d)])===![]){var Mf=Mv[MB][MW(0x31f)][MW(0x5d7)](MZ)[MW(0x76c)](),MN=LA(Mv[MB][MW(0x461)],Mv[MB][MW(0x31f)])[MW(0x76c)](),MG=MN[MW(0xac8)](Mf);if(MG<0x4b*Math['PI']/0xb4){var MF=new RL();MF[MW(0x31f)]=MZ,MF[MW(0x986)]=Mv[MB][MW(0x31f)],MF[MW(0x461)]=Mv[MB][MW(0x461)],MF[MW(0xa1d)]=Mv[MB][MW(0xa1d)],Mg[MW(0x526)](MF);}}}}}return Mg;},'GetGhostBallsFromCushionBallFirstPot':function(){var MS=n2,MW=[],Mv=RJ*0x5;for(var Mg=0x0;Mg<EE[MS(0x6c6)][MS(0x16a)];Mg++){for(var MJ=0x1;MJ<EE[MS(0xafd)][MS(0x16a)];MJ++){if(EE[MS(0xafd)][MJ][MS(0x4b5)]===this[MS(0x4d8)]&&EE[MS(0xafd)][MJ][MS(0x7ec)]||this[MS(0x4d8)]===RC&&EE[MS(0xafd)][MJ][MS(0x4b5)]!==RF){var MB=LA({'x':EE[MS(0x6c6)][Mg][MS(0x43e)],'y':EE[MS(0x6c6)][Mg][MS(0xc70)]},EE[MS(0xafd)][MJ][MS(0x31f)]),Ms=this[MS(0x872)](EE[MS(0xafd)][MJ][MS(0x31f)],MB[MS(0x76c)](),0x3e8,EE[MS(0xafd)][MJ][MS(0x912)]);if(Ms[MS(0x4a0)]!==null){var My=new LT(Ms[MS(0x34e)]),Mq=LA(EE[MS(0xafd)][MJ][MS(0x31f)],LA(My,EE[MS(0xafd)][MJ][MS(0x31f)])[MS(0x76c)]()[MS(0xb84)](RB)),Mx=Ld(Mq,My);if(this[MS(0x650)](EE[MS(0x287)][MS(0x31f)],Mq,EE[MS(0xafd)][MJ][MS(0x912)])===![]&&this[MS(0x650)](My,new LT(EE[MS(0x6c6)][Mg][MS(0x43e)],EE[MS(0x6c6)][Mg][MS(0xc70)]),EE[MS(0xafd)][MJ][MS(0x912)])===![]&&Mx>=Mv){var MZ=My[MS(0x5d7)](Mq);MZ=new LT(MZ['x'],MZ['y'])[MS(0x76c)]();var Mf=LA(EE[MS(0x287)][MS(0x31f)],Mq)[MS(0x76c)](),MN=MZ[MS(0xac8)](Mf);if(MN>0x73*Math['PI']/0xb4){var MG=new RL();MG[MS(0x853)]=new LT(EE[MS(0xafd)][MJ]['x'],EE[MS(0xafd)][MJ]['y']),MG[MS(0x986)]=Mq,MG[MS(0x31f)]=My,MG[MS(0x461)]=EE[MS(0x6c6)][Mg],MG[MS(0xa1d)]=EE[MS(0xafd)][MJ][MS(0x912)],MW[MS(0x526)](MG);}}}}}}return MW;},'GetGhostBallFromCushion':function(){var MS=n2,MW=[];for(var Mv=0x0;Mv<0x4;Mv++){for(var Mg=0x1;Mg<EE[MS(0xafd)][MS(0x16a)];Mg++){if(EE[MS(0x5b2)](EE[MS(0xafd)][Mg][MS(0x912)])===EE[MS(0xba8)][0x1][MS(0x37a)]&&EE[MS(0xafd)][Mg][MS(0x7ec)]||EE[MS(0xba8)][0x1][MS(0x37a)]===RC&&EE[MS(0x5b2)](EE[MS(0xafd)][Mg][MS(0x912)])!==RF){if(Mv===0x0)var MJ=EE[MS(0xafd)][Mg]['y']-EE[MS(0x62f)][MS(0x94b)]['y1']-RB,MB=new LT(EE[MS(0xafd)][Mg]['x'],EE[MS(0x62f)][MS(0x94b)]['y1']-MJ);else Mv===0x1?(MJ=EE[MS(0x62f)][MS(0x35d)]['y1']-EE[MS(0xafd)][Mg]['y']-RB,MB=new LT(EE[MS(0xafd)][Mg][MS(0x31f)]['x'],EE[MS(0x62f)][MS(0x35d)]['y1']+MJ)):Mv===0x2?(MJ=EE[MS(0xafd)][Mg]['x']-EE[MS(0x62f)][MS(0x286)]['x1']-RB,MB=new LT(EE[MS(0x62f)][MS(0x286)]['x1']-MJ,EE[MS(0xafd)][Mg]['y'])):(MJ=EE[MS(0x62f)][MS(0x282)]['x1']-EE[MS(0xafd)][Mg]['x']-RB,MB=new LT(EE[MS(0x62f)][MS(0x282)]['x1']+MJ,EE[MS(0xafd)][Mg]['y']));var Ms=MB[MS(0x5d7)](EE[MS(0x287)][MS(0x31f)]),My=this[MS(0x872)](EE[MS(0x287)][MS(0x31f)],Ms[MS(0x76c)](),0x3e8,Rr);if(My[MS(0x4a0)]!==null){var Mq=new LT(My[MS(0x34e)]),Mx=new LT(EE[MS(0xafd)][Mg][MS(0x31f)])[MS(0x5d7)](new LT(EE[MS(0xafd)][Mg][MS(0x31f)])[MS(0x5d7)](Mq)[MS(0x76c)]()[MS(0xb84)](RB));if(this[MS(0x650)](Mq,Mx,EE[MS(0xafd)][Mg][MS(0x912)])===![]){var MZ=new RL();MZ[MS(0x31f)]=Mq,MZ[MS(0x986)]=EE[MS(0xafd)][Mg][MS(0x31f)],MZ[MS(0x461)]=Mx,MZ[MS(0xa1d)]=EE[MS(0xafd)][Mg][MS(0x912)],MW[MS(0x526)](MZ);}}}}}return MW;},'GetBallInHandGhostBall':function(){var MS=n2;this[MS(0xbbf)]=![],this[MS(0x210)]=![],this[MS(0x845)]=![],this[MS(0x5bc)]=![],this[MS(0xc1c)]=![],this[MS(0x64d)]=![];var MW=RJ*1.5,Mv=EE[MS(0x62f)][MS(0x282)]['y1']+MW,Mg=EE[MS(0x62f)][MS(0x286)]['y1']-MW,MJ=EE[MS(0x62f)][MS(0x94b)]['x1']+MW,MB=EE[MS(0x62f)][MS(0x35d)]['x1']-MW,Ms=[];for(var My=0x0;My<EE[MS(0x6c6)][MS(0x16a)];My++){for(var Mq=0x1;Mq<EE[MS(0xafd)];Mq++){if(EE[MS(0xafd)][Mq][MS(0x4b5)]===EE[MS(0xba8)][0x1][MS(0x37a)]&&EE[MS(0xafd)][Mq][MS(0x7ec)]||EE[MS(0xba8)][0x1][MS(0x37a)]===RC&&EE[MS(0xafd)][Mq][MS(0x4b5)]!==RF){var Mx=new LT(EE[MS(0xafd)][Mq][MS(0x31f)]),MZ=new LT(EE[MS(0x6c6)][My][MS(0x43e)],EE[MS(0x6c6)][My][MS(0xc70)]),Mf=Mx[MS(0x5d7)](MZ[MS(0x5d7)](Mx)[MS(0x76c)]()[MS(0xb84)](RB)),MN=Mx[MS(0x5d7)](MZ[MS(0x5d7)](Mx)[MS(0x76c)]()[MS(0xb84)](RJ*Db(0x1f4,0x320)/0x64));if(MN['x']<MB&&MN['x']>MJ&&MN['y']>Mv&&MN['y']<Mg){var MG=new RL();MG[MS(0x31f)]=Mf,MG[MS(0x461)]=MZ,MG[MS(0x986)]=Mx,MG[MS(0x2a9)]=new LT(MN['x'],MN['y']),MG[MS(0xa1d)]=EE[MS(0xafd)][Mq][MS(0x912)],Ms[MS(0x526)](MG);}var MF=Mx[MS(0x5d7)](MZ[MS(0x5d7)](Mx)[MS(0x76c)]()[MS(0xb84)](RJ*Db(0x1f4,0x320)/0x64));MN=Lo(MF,Mx,Db(0x5,0xf));if(MN['x']<MB&&MN['x']>MJ&&MN['y']>Mv&&MN['y']<Mg){var MG=new RL();MG[MS(0x31f)]=Mf,MG[MS(0x461)]=MZ,MG[MS(0x986)]=Mx,MG[MS(0x2a9)]=new LT(MN['x'],MN['y']),MG[MS(0xa1d)]=EE[MS(0xafd)][Mq][MS(0x912)],Ms[MS(0x526)](MG);}MF=Mx[MS(0x5d7)](MZ[MS(0x5d7)](Mx)[MS(0x76c)]()[MS(0xb84)](RJ*Db(0x1f4,0x320)/0x64)),MN=Lo(MF,Mx,Db(0xf,0x14));if(MN['x']<MB&&MN['x']>MJ&&MN['y']>Mv&&MN['y']<Mg){var MG=new RL();MG[MS(0x31f)]=Mf,MG[MS(0x461)]=MZ,MG[MS(0x986)]=Mx,MG[MS(0x2a9)]=new LT(MN['x'],MN['y']),MG[MS(0xa1d)]=EE[MS(0xafd)][Mq][MS(0x912)],Ms[MS(0x526)](MG);}var MF=Mx[MS(0x5d7)](MZ[MS(0x5d7)](Mx)[MS(0x76c)]()[MS(0xb84)](RJ*Db(0x1f4,0x320)/0x64));MN=Lo(MF,Mx,-Db(0x5,0xf));if(MN['x']<MB&&MN['x']>MJ&&MN['y']>Mv&&MN['y']<Mg){var MG=new RL();MG[MS(0x31f)]=Mf,MG[MS(0x461)]=MZ,MG[MS(0x986)]=Mx,MG[MS(0x2a9)]=new LT(MN['x'],MN['y']),MG[MS(0xa1d)]=EE[MS(0xafd)][Mq][MS(0x912)],Ms[MS(0x526)](MG);}MF=Mx[MS(0x5d7)](MZ[MS(0x5d7)](Mx)[MS(0x76c)]()[MS(0xb84)](RJ*Db(0x1f4,0x320)/0x64)),MN=Lo(MF,Mx,-Db(0xf,0x14));if(MN['x']<MB&&MN['x']>MJ&&MN['y']>Mv&&MN['y']<Mg){var MG=new RL();MG[MS(0x31f)]=Mf,MG[MS(0x461)]=MZ,MG[MS(0x986)]=Mx,MG[MS(0x2a9)]=new LT(MN['x'],MN['y']),MG[MS(0xa1d)]=EE[MS(0xafd)][Mq][MS(0x912)],Ms[MS(0x526)](MG);}}}}var Mi=[],Mr=!![];for(var Mt=0x0;Mt<Ms[MS(0x16a)];Mt++){for(var MC=0x1;MC<EE[MS(0xafd)][MS(0x16a)];MC++){this[MS(0x5a8)](Ms[Mt][MS(0x2a9)],EE[MS(0xafd)][MC][MS(0x31f)])&&(Mr=![]);}Mr&&Mi[MS(0x526)](Ms[Mt]),Mr=!![];}var MT=[];for(var Mt=0x0;Mt<Mi[MS(0x16a)];Mt++){this[MS(0x650)](Mi[Mt][MS(0x2a9)],Mi[Mt][MS(0x31f)],Mi[Mt][MS(0xa1d)])===![]&&MT[MS(0x526)](Mi[Mt]);}var Mz=[];for(var Mt=0x0;Mt<MT[MS(0x16a)];Mt++){this[MS(0x650)](MT[Mt][MS(0x986)],MT[Mt][MS(0x461)],MT[Mt][MS(0xa1d)])===![]&&Mz[MS(0x526)](MT[Mt]);}if(Mz[MS(0x16a)]>0x0)return L0(Mz);else{if(MT[MS(0x16a)]>0x0)return L0(MT);else{for(var My=0x0;My<EE[MS(0x6c6)][MS(0x16a)];My++){for(var Mq=0x1;Mq<EE[MS(0xafd)][MS(0x16a)];Mq++){if(EE[MS(0xafd)][Mq][MS(0x4b5)]===EE[MS(0xba8)][0x1][MS(0x37a)]&&EE[MS(0xafd)][Mq][MS(0x7ec)]||EE[MS(0xba8)][0x1][MS(0x37a)]===RC&&EE[MS(0xafd)][Mq][MS(0x4b5)]!==RF){var Mx=new LT(EE[MS(0xafd)][Mq][MS(0x31f)]),MZ=new LT(EE[MS(0x6c6)][My][MS(0x43e)],EE[MS(0x6c6)][My][MS(0xc70)]),Mf=Mx[MS(0x5d7)](MZ[MS(0x5d7)](Mx)[MS(0x76c)]()[MS(0xb84)](RB)),MN=Mx[MS(0x5d7)](MZ[MS(0x5d7)](Mx)[MS(0x76c)]()[MS(0xb84)](RJ*Db(0xd2,0x12c)/0x64));if(MN['x']<MB&&MN['x']>MJ&&MN['y']>Mv&&MN['y']<Mg){var MG=new RL();MG[MS(0x31f)]=Mf,MG[MS(0x461)]=MZ,MG[MS(0x986)]=Mx,MG[MS(0x2a9)]=new LT(MN['x'],MN['y']),MG[MS(0xa1d)]=EE[MS(0xafd)][Mq][MS(0x912)],Ms[MS(0x526)](MG);}}}}Mi=[],Mr=!![];for(var Mt=0x0;Mt<Ms[MS(0x16a)];Mt++){for(var MC=0x1;MC<EE[MS(0xafd)][MS(0x16a)];MC++){this[MS(0x5a8)](Ms[Mt][MS(0x2a9)],EE[MS(0xafd)][MC][MS(0x31f)])&&(Mr=![]);}Mr&&Mi[MS(0x526)](Ms[Mt]),Mr=!![];}MT=[];for(var Mt=0x0;Mt<Mi[MS(0x16a)];Mt++){this[MS(0x650)](Mi[Mt][MS(0x2a9)],Mi[Mt][MS(0x31f)],Mi[Mt][MS(0xa1d)])===![]&&MT[MS(0x526)](Mi[Mt]);}var Mz=[];for(var Mt=0x0;Mt<MT[MS(0x16a)];Mt++){this[MS(0x650)](MT[Mt][MS(0x986)],MT[Mt][MS(0x461)],MT[Mt][MS(0xa1d)])===![]&&Mz[MS(0x526)](MT[Mt]);}return Mz[MS(0x16a)]>0x0?L0(Mz):MT[MS(0x16a)]>0x0?L0(MT):(ghostBall=new RL(),ghostBall);}}},'GetGhostBalls2BallPot':function(MS){var MW=n2,Mv=this[MW(0xc5b)](MS),Mg=[];for(var MJ=0x0;MJ<Mv[MW(0x16a)];MJ++){for(var MB=0x1;MB<EE[MW(0xafd)][MW(0x16a)];MB++){if(EE[MW(0xafd)][MB][MW(0x4b5)]===EE[MW(0xba8)][0x1][MW(0x37a)]&&EE[MW(0xafd)][MB][MW(0x7ec)]||EE[MW(0xba8)][0x1][MW(0x37a)]===RC&&EE[MW(0xafd)][MB][MW(0x4b5)]!==RF){if(EE[MW(0xafd)][MB][MW(0x912)]===Mv[MJ][MW(0xa1d)])continue;var Ms=new RL();Ms[MW(0x31f)]=new LT(EE[MW(0xafd)][MB][MW(0x31f)]),Ms[MW(0x853)]=new LT(EE[MW(0xafd)][MB][MW(0x31f)]),Ms[MW(0x986)]=Mv[MJ][MW(0x31f)],Ms[MW(0x190)]=Mv[MJ][MW(0x986)],Ms[MW(0x461)]=Mv[MJ][MW(0x461)],Ms[MW(0xa1d)]=EE[MW(0xafd)][MB][MW(0x912)],Ms[MW(0x39d)]=Mv[MJ][MW(0xa1d)];var My=Ms[MW(0x31f)],Mq=My[MW(0x5d7)](Ms[MW(0x986)][MW(0x5d7)](My)[MW(0x76c)]()[MW(0xb84)](RB));Ms[MW(0x31f)]=Mq;var Mx=My[MW(0x5d7)](Ms[MW(0x986)])[MW(0x76c)](),MZ=Ms[MW(0x461)][MW(0x5d7)](Ms[MW(0x986)])[MW(0x76c)](),Mf=Mx[MW(0xac8)](MZ);Mf>0x8c*Math['PI']/0xb4&&(this[MW(0x650)](My,Ms[MW(0x986)],[Ms[MW(0xa1d)],Ms[MW(0x39d)]])===![]&&Mg[MW(0x526)](Ms));}}}var MN=[];for(var MJ=0x0;MJ<Mg[MW(0x16a)];MJ++){var MG=Mg[MJ][MW(0x31f)];if(this[MW(0x650)](new LT(EE[MW(0x287)][MW(0x31f)]),MG,Mg[MJ][MW(0xa1d)])===![]){var Mx=new LT(EE[MW(0x287)][MW(0x31f)])[MW(0x5d7)](MG)[MW(0x76c)](),MZ=new LT(Mg[MJ][MW(0x986)])[MW(0x5d7)](MG)[MW(0x76c)](),Mf=Mx[MW(0xac8)](MZ);Mf>0x87*Math['PI']/0xb4&&MN[MW(0x526)](Mg[MJ]);}}return MN;},'_IsObstacleBetween':function(MS,MW,Mv){var Mg=n2,MJ=this[Mg(0x142)](MS,MW,Mv);if(MJ[Mg(0xbde)]===null&&MJ[Mg(0x4a0)]===null)return![];return!![];},'_circleCast_fromTo':function(MS,MW,Mv){var Mg=n2,MJ=MW[Mg(0x5d7)](MS),MB=MJ[Mg(0x16a)](),Ms=MJ[Mg(0x76c)](),My=this[Mg(0x572)](MS,Ms,MB,Mv),Mq=this[Mg(0x68b)](My,Ms);return Mq;},'_circleCast_directVect':function(MS,MW,Mv,Mg){var MJ=n2,MB=this[MJ(0x572)](MS,MW,Mv,Mg),Ms=this[MJ(0x68b)](MB,MW);return Ms;},'_circleCast_bigStep':function(MS,MW,Mv,Mg){var MJ=n2,MB=[],Ms=[],My=[];typeof Mg!==MJ(0x4cd)&&(Mg=[Mg]);var Mq=0x1,Mx=MW[MJ(0xb84)](Mv),MZ=0x3;Mv>MZ&&(Mq=Math[MJ(0xaa6)](Mv/MZ),Mx=MW[MJ(0xb84)](MZ));var Mf={'x':MS['x'],'y':MS['y']};for(var MN=0x0;MN<Mq;MN++){Mf['x']+=Mx['x'],Mf['y']+=Mx['y'];for(var MG=0x1;MG<EE[MJ(0xafd)][MJ(0x16a)];MG++){if(EE[MJ(0xafd)][MG][MJ(0x7ec)]===![])continue;if(EE[MJ(0xafd)][MG][MJ(0x912)]===Rr)continue;var MF=![];for(var Mi=0x0;Mi<Mg[MJ(0x16a)];Mi++){EE[MJ(0xafd)][MG][MJ(0x912)]===Mg[Mi]&&(MF=!![]);}if(MF)continue;ret=EE[MJ(0x4b6)](Mf,EE[MJ(0xafd)][MG]),ret===!![]&&MB[MJ(0x526)](MG);}if(MB[MJ(0x16a)]>0x0)break;for(var Mr in EE[MJ(0x62f)]){if(EE[MJ(0x62f)][MJ(0x239)](Mr)){ret=EE[MJ(0xc09)](Mf,EE[MJ(0x62f)][Mr]);if(ret!==![]){Ms[MJ(0x526)](EE[MJ(0x62f)][Mr]);break;}}}for(var Mr in EE[MJ(0x199)]){if(EE[MJ(0x199)][MJ(0x239)](Mr))for(var MG=0x0;MG<EE[MJ(0x199)][Mr][MJ(0x16a)];MG++){ret=EE[MJ(0xc09)](Mf,EE[MJ(0x199)][Mr][MG]);if(ret!==![]){Ms[MJ(0x526)](EE[MJ(0x199)][Mr][MG]);break;}}}if(Ms[MJ(0x16a)]>0x0||My[MJ(0x16a)]>0x0)break;}return Mf['x']-=Mx['x'],Mf['y']-=Mx['y'],[MB,Ms,My,Mf];},'_circleCast_smallStep':function(MS,MW){var Mv=n2,Mg=MS[0x0],MJ=MS[0x1],MB=MS[0x2],Ms=MS[0x3],My=MW[Mv(0xb84)](0.5),Mq=null,Mx=null,MZ={'colidePosition_ballCenter':null,'colidedBall':null,'colidedWall':null};for(var Mf=0x0;Mf<0x14;Mf++){Ms['x']+=My['x'],Ms['y']+=My['y'];if(Mg[Mv(0x16a)]>0x0)for(var MN=0x0;MN<Mg[Mv(0x16a)];MN++){ret=EE[Mv(0x4b6)](Ms,EE[Mv(0xafd)][Mg[MN]]);if(ret===!![]){Mf=0x14,MZ[Mv(0xbde)]={'id':EE[Mv(0xafd)][Mg[MN]][Mv(0x912)],'type':EE[Mv(0xafd)][Mg[MN]][Mv(0x4b5)],'pos':new LT(EE[Mv(0xafd)][Mg[MN]]['x'],EE[Mv(0xafd)][Mg[MN]]['y'])};break;}}if(MB[Mv(0x16a)]>0x0)for(var MN=0x0;MN<MB[Mv(0x16a)];MN++){ret=EE[Mv(0x4b6)](Ms,MB[MN]);if(ret===!![]){Mf=0x14,MZ[Mv(0x4a0)]=!![];break;}}if(MJ[Mv(0x16a)]>0x0)for(var MN=0x0;MN<MJ[Mv(0x16a)];MN++){ret=EE[Mv(0xc09)](Ms,MJ[MN]);if(ret!==![]){Mf=0x14,MJ[MN][Mv(0x9cf)]!==!![]&&(MZ[Mv(0x4a0)]=!![]);break;}}}return MZ[Mv(0x34e)]=Ms,MZ;},'IsBallOnPosition':function(MS,MW){var Mv=n2,Mg=new LT(MS['x']-MW['x'],MS['y']-MW['y']);if(Mg[Mv(0x16a)]()<RB*1.2)return!![];return![];},'isAIturn':function(){var MS=n2;return EE[MS(0x87a)]===!![]&&EV===0x0||EE[MS(0x500)]===!![]&&EV===0x1;},'calculateNextNormalShoot':function(){var MS=n2,MW=this[MS(0x4d2)]();MW&&MW[MS(0x31f)]instanceof LT===![]&&(MW[MS(0x31f)]=new LT(MW[MS(0x31f)]));if(MW)this[MS(0x11b)](MW,Db(0x258,0x4b0));},'calculateShootAfterFaul':function(){var MS=n2,MW=RJ*1.5,Mv=this[MS(0x669)]();if(Mv[MS(0x2a9)]!=null){console[MS(0x738)](MS(0x2a9));if(EE[MS(0x287)][MS(0x77f)]){if(Mv[MS(0x2a9)]['y']>EE[MS(0x84a)][MS(0x2ab)]-MW){}}var Mg=Mv[MS(0x2a9)][MS(0xbf2)](EE[MS(0x287)][MS(0x31f)]),MJ=Mg/0x96*0x3e8;this[MS(0x6a9)]=Me[MS(0xb51)][MS(0x2b1)](EE[MS(0x287)])['to']({'x':Mv[MS(0x2a9)]['x'],'y':Mv[MS(0x2a9)]['y']},MJ,Phaser[MS(0x19c)][MS(0xb78)][MS(0x793)],!![],Db(0x258,0x3e8)),EE[MS(0x6b0)][MS(0x968)][0x1][MS(0x152)]=![],EE[MS(0xd35)](),this[MS(0x6a9)][MS(0x873)]((MG,MF)=>{var Mi=MS;ER[Mi(0xb1c)][Mi(0x7e8)][Mi(0x152)]=!!![];var Mr=Math[Mi(0x6c2)](0x64,MF*0x64);},this),this[MS(0x6a9)][MS(0xabe)][MS(0x663)](function(){var MG=MS;EL=DI[MG(0x25a)],EE[MG(0xd35)](),EE[MG(0x6b0)][MG(0x968)][0x1][MG(0x152)]=!![],EE[MG(0x6b0)][MG(0x471)](0x1,EE[MG(0x287)]['x'],EE[MG(0x287)]['y']),ER[MG(0xb1c)][MG(0x7e8)][MG(0x152)]=!![],EE[MG(0xad5)]=-0xbb8,Mv[MG(0x31f)]instanceof LT===![]&&(Mv[MG(0x31f)]=new LT(Mv[MG(0x31f)])),this[MG(0x11b)](Mv,Db(0x96,0x12c));},this);}else{var MB=EE[MS(0x62f)][MS(0x94b)]['y1']+MW,Ms=EE[MS(0x62f)][MS(0x35d)]['y1']-MW;EE[MS(0x287)][MS(0x77f)]&&(Ms=EE[MS(0x84a)][MS(0x2ab)]-MW);var My=EE[MS(0x62f)][MS(0x286)]['x1']+MW,Mq=EE[MS(0x62f)][MS(0x282)]['x1']-MW,Mx=!![];do{var MZ=Db(My,Mq),Mf=Db(MB,Ms);Mx=!![];for(var MN=0x1;MN<EE[MS(0xafd)][MS(0x16a)];MN++){if(this[MS(0x5a8)](new LT(MZ,Mf),EE[MS(0xafd)][MN][MS(0x31f)])){Mx=![];break;}}}while(Mx===![]);Mg=new LT(MZ,Mf)[MS(0xbf2)](EE[MS(0x287)][MS(0x31f)]),MJ=Mg/0x96*0x3e8,this[MS(0x6a9)]=Me[MS(0xb51)][MS(0x2b1)](EE[MS(0x287)])['to']({'x':MZ,'y':Mf},MJ,Phaser[MS(0x19c)][MS(0xb78)][MS(0x793)],!![],Db(0x258,0x3e8)),this[MS(0x6a9)][MS(0x873)]((MG,MF)=>{var Mi=MS;ER[Mi(0xb1c)][Mi(0x7e8)][Mi(0x152)]=!!![];}),this[MS(0x6a9)][MS(0xabe)][MS(0x663)](function(){var MG=MS;EE[MG(0x6b0)][MG(0x471)](0x1,EE[MG(0x287)]['x'],EE[MG(0x287)]['y']),ER[MG(0xb1c)][MG(0x7e8)][MG(0x152)]=!![],EE[MG(0xad5)]=-0xbb8;var MF=this[MG(0x4d2)]();MF[MG(0x31f)]instanceof LT===![]&&(MF[MG(0x31f)]=new LT(MF[MG(0x31f)])),this[MG(0x11b)](MF,Db(0x96,0x12c));},this);}},'CalculateDistance':function(MS){var MW=n2,Mv=new LT(EE[MW(0x287)][MW(0x31f)]),Mg=Ld(Mv,MS[MW(0x31f)]),MJ=Ld(MS[MW(0x986)],MS[MW(0x461)]),MB=0x1;if(this[MW(0x5bc)])MB=Mg*0.95;else{if(this[MW(0xc1c)])MB=Mg*0.55+MJ*0.45;else{if(this[MW(0xbbf)])MJ=Ld(MS[MW(0x986)],MS[MW(0x31f)]),MB=Mg*0.9+MJ*0.8;else{if(this[MW(0x64d)]){Mg=Ld(Mv,MS[MW(0x986)]),MJ=Ld(MS[MW(0x461)],MS[MW(0x31f)]);var Ms=Ld(MS[MW(0x853)],MS[MW(0x31f)]);MB=Mg*0.85+MJ*0.45+Ms*0.15;}else{if(this[MW(0x845)]){Mg=Ld(Mv,MS[MW(0x853)]),MJ=Ld(MS[MW(0x190)],MS[MW(0x461)]);var My=Ld(MS[MW(0x853)],MS[MW(0x190)]);MB=Mg*0.95+MJ*0.55+My*0.65;}else MB=Mg+MJ;}}}}return MB*=0.17,MB;},'Shoot':function(MS,MW){var Mv=n2,Mg=new LT(MS[Mv(0x31f)]['x']-EE[Mv(0x287)]['x'],MS[Mv(0x31f)]['y']-EE[Mv(0x287)]['y']),MJ=MS[Mv(0x3f5)]||Math[Mv(0xc35)](Mg['y'],Mg['x']),MB=this[Mv(0x32a)](MS),Ms=MB*1.3,My=![];this[Mv(0xa23)]===0x0?Math[Mv(0x219)]()<0.4&&(My=!![]):this[Mv(0xa23)]===0x1?Math[Mv(0x219)]()<0.75&&(My=!![]):My=!![],My=![];if(My){this[Mv(0x661)]=!![];var Mq=0.8*0xa,Mx=2.5*0xa,MZ=Db(Mq,Mx)/0xa;Db(0x0,0x64)<0x32&&(MZ*=-0x1);var Mf=Db(this[Mv(0x819)][this[Mv(0x7c6)]][0x0],this[Mv(0x819)][this[Mv(0x7c6)]][0x1])/0x64;Ms*=0x1-Mf;}else Mq=0.05*0xa,Mx=0.2*0xa,MZ=Db(Mq,Mx)/0xa,Db(0x0,0x64)<0x32&&(MZ*=-0x1),Mf=Db(this[Mv(0x819)][this[Mv(0x7c6)]][0x0],this[Mv(0x819)][this[Mv(0x7c6)]][0x1])/0x64,Ms*=0x1-Mf;var MN=Math[Mv(0x836)](Lk(EE[Mv(0x6b0)][Mv(0x878)],MJ)),MG=MN/Math['PI']*0x7d0;EE[Mv(0x6b0)][Mv(0x31e)]=0x0,EE[Mv(0x6b0)][Mv(0x2e9)]=0x0,EE[Mv(0xd35)](),EE[Mv(0x6b0)][Mv(0x81d)]=!![],EE[Mv(0x6b0)][Mv(0x7f6)]=!![],EE[Mv(0x6b0)][Mv(0x2e9)]=0x0,EE[Mv(0x6b0)][Mv(0x90b)]=0x0,EE[Mv(0x6b0)][Mv(0x649)](0x0),EE[Mv(0x6b0)][Mv(0xa26)](EV),this[Mv(0x449)]=Me[Mv(0xb51)][Mv(0x2b1)](EE[Mv(0x6b0)])['to']({'rotationRealTime':MJ+Math['PI']/0x2,'rotationShot':MJ,'tempPower':Ms,'power':Ms},0x7d0,Phaser[Mv(0x19c)][Mv(0x707)][Mv(0x28c)],!![],MW),this[Mv(0x449)][Mv(0x873)]((MF,Mi)=>{var Mr=Mv;EE[Mr(0xa4d)](),EE[Mr(0x6b0)][Mr(0xa26)](0x1);var Mt=Math[Mr(0x6c2)](0x64,Mi*0x64);EE[Mr(0x6b0)][Mr(0x968)][EV][Mr(0x878)]=EE[Mr(0x6b0)][Mr(0x7dc)],ER[Mr(0xb1c)][Mr(0x7e8)][Mr(0x878)]=EE[Mr(0x6b0)][Mr(0x678)];return;EV!==![]&EE[Mr(0x61f)]&&this[Mr(0x8eb)]!==Mt&&Mt>0x0?EV===0x0?(ER[Mr(0xb1c)][Mr(0x830)][Mr(0x152)]=!![],ER[Mr(0xb1c)][Mr(0x706)][Mr(0x152)]=![],ER[Mr(0xb1c)][Mr(0x56d)][Mr(0xc63)][Mr(0x8b2)][Mr(0x3ab)]=ER[Mr(0xb1c)][Mr(0x56d)][Mr(0xc63)][Mr(0x311)][Mr(0x3ab)]*Math[Mr(0x6c2)](0x64,Mt)/0x64):(ER[Mr(0xb1c)][Mr(0xbf1)][Mr(0x152)]=!![],ER[Mr(0xb1c)][Mr(0x52d)][Mr(0x152)]=![],ER[Mr(0xb1c)][Mr(0x520)][Mr(0xc63)][Mr(0x8b2)][Mr(0x3ab)]=ER[Mr(0xb1c)][Mr(0x520)][Mr(0xc63)][Mr(0x311)][Mr(0x3ab)]*Math[Mr(0x6c2)](0x64,Mt)/0x64):EV!==![]&&EE[Mr(0x61f)]&&(EV===0x0?(ER[Mr(0xb1c)][Mr(0x830)][Mr(0x152)]=![],ER[Mr(0xb1c)][Mr(0x706)][Mr(0x152)]=!![]):(ER[Mr(0xb1c)][Mr(0xbf1)][Mr(0x152)]=![],ER[Mr(0xb1c)][Mr(0x52d)][Mr(0x152)]=!![]));},this),this[Mv(0x449)][Mv(0xabe)][Mv(0x663)](function(){var MF=Mv;if(EV!==![]&&EE[MF(0x61f)]){if(EV===0x0){}else{}}MS[MF(0x656)]?EE[MF(0x6b0)][MF(0xfa)]({'vec':MS[MF(0x656)][MF(0x8ca)],'power':MS[MF(0x656)][MF(0x2e9)]}):EE[MF(0x6b0)][MF(0x759)](Ms);},this);}};function RL(){var MS=n2;this[MS(0x31f)]=null,this[MS(0x461)]=null,this[MS(0x986)]=null,this[MS(0x2a9)]=null,this[MS(0xa1d)]=null,this[MS(0x39d)]=null,this[MS(0x853)]=null,this[MS(0x190)]=null;}function RE(){var MS=n2;this[MS(0x695)]=null,this[MS(0x76b)]=MS(0x182),this[MS(0x436)]={0x0:{'scale':0.98,'scaleX':0.98,'y':0x0},0x1:{'scale':0.31,'scaleX':0.31,'y':-0x19},0x2:{'scale':0.35,'y':0x28}},this[MS(0x436)]={0x0:{'scale':0.98,'scaleX':0.98,'y':-0x37},0x1:{'scale':0.31,'scaleX':0.31,'y':-0x32},0x2:{'scale':0.35,'y':0x32}},this[MS(0x2bb)]={0x0:{'scale':0x1,'y':0x0},0x1:{'scale':0.9,'y':-0x14},0x2:{'scale':0.75,'y':-0x28}};}RE[n2(0xa3a)][n2(0x26a)]=function(){},RE[n2(0xa3a)][n2(0x8a5)]=function(){},RE[n2(0xa3a)][n2(0x5ed)]=function(MS=!![]){var MW=n2;if(MS===!![])Rb='',EY[MW(0x6de)][MW(0x9f2)][MW(0xd25)](Mv=>{M2(Mv);}),Rb=Rb[MW(0x711)](';',MW(0x477)),eval(Rb),console[MW(0x738)](new Function(Rb));else{this[MW(0x852)]=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xafe)),this[MW(0x852)][MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0x7c9),'fill':MW(0xa42),'align':MW(0xce6)}),this[MW(0x852)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x852)][MW(0x552)][MW(0x304)](1.136797826610148),this[MW(0x695)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x695)][MW(0x7e1)]=MW(0x6de),this[MW(0xad2)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0xad2)][MW(0x19e)](0x323232,0x1),this[MW(0xad2)][MW(0x298)](0x0,0x0,0x500,0x438),this[MW(0xad2)][MW(0x366)](),this[MW(0xad2)][MW(0x2a0)]=0.78,this[MW(0xad2)][MW(0x152)]=![],this[MW(0x695)][MW(0x6a8)](this[MW(0xad2)]),this[MW(0xb36)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0xb36)][MW(0x19e)](0x163165,0x1),this[MW(0xb36)][MW(0x298)](0x0,0x0,0x500,0x438),this[MW(0xb36)][MW(0x366)](),this[MW(0x695)][MW(0x6a8)](this[MW(0xb36)]),this[MW(0xa98)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xa98)]['x']=0x26,this[MW(0xa98)]['y']=-0x2,this[MW(0xcf3)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x617)]=Me[MW(0xb51)][MW(0x46a)](0x2d5,0x2c7,MW(0x7f8),MW(0x98d)),this[MW(0x617)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xcf3)][MW(0x6a8)](this[MW(0x617)]),this[MW(0xbe7)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xbe7)]['x']=-0x1d,this[MW(0xbe7)]['y']=0x2,this[MW(0x61a)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x61a)]['x']=0x6,this[MW(0x61a)]['y']=0x18b,this[MW(0xbe7)][MW(0x6a8)](this[MW(0x61a)]),this[MW(0xcf3)][MW(0x6a8)](this[MW(0xbe7)]),this[MW(0x625)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x625)]['x']=0x241,this[MW(0x625)]['y']=0x3fe;const Mv=Me[MW(0xb51)][MW(0x267)]();Mv['x']=-0x1,Mv['y']=0x2,Mv[MW(0x19e)](0x2b3757,0x1),Mv[MW(0x700)](0x3,0x3530a6),Mv[MW(0x298)](0x0,0x0,0x3e8,0x190),Mv[MW(0x366)](),Mv[MW(0x3d9)](0.5),this[MW(0x625)][MW(0x6a8)](Mv),this[MW(0x90c)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x90c)]['x']=-0x1fe,this[MW(0x90c)]['y']=0x3,this[MW(0x4f3)]=Me[MW(0xb51)][MW(0xa6e)](0x5,0x3,MW(0xc82),MW(0x954)),this[MW(0x4f3)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x4f3)][MW(0x552)][MW(0x304)](0.698080369066251),this[MW(0x90c)][MW(0x6a8)](this[MW(0x4f3)]);const Mg=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0xc3f));Mg[MW(0xc25)][MW(0x304)](0.5),Mg[MW(0x552)][MW(0x304)](-0.7513064656817293,0.7513064656817293),this[MW(0x90c)][MW(0x6a8)](Mg),this[MW(0x625)][MW(0x6a8)](this[MW(0x90c)]),this[MW(0x413)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x413)]['x']=0x1f0,this[MW(0x413)]['y']=0x3,this[MW(0x18e)]=Me[MW(0xb51)][MW(0xa6e)](0x5,0x3,MW(0xc82),MW(0x954)),this[MW(0x18e)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x18e)][MW(0x552)][MW(0x304)](0.698080369066251),this[MW(0x413)][MW(0x6a8)](this[MW(0x18e)]);const MJ=Me[MW(0xb51)][MW(0xa6e)](0x5,0x0,MW(0xc82),MW(0xc3f));MJ[MW(0xc25)][MW(0x304)](0.5),MJ[MW(0x552)][MW(0x304)](0.7513064656817293),this[MW(0x413)][MW(0x6a8)](MJ),this[MW(0x625)][MW(0x6a8)](this[MW(0x413)]);const MB=Me[MW(0xb51)][MW(0x2da)](0x1,-0xa0,MW(0xb39));MB[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c1),'fill':MW(0x39c)}),MB[MW(0xc25)][MW(0x304)](0.5),this[MW(0x625)][MW(0x6a8)](MB),this[MW(0x1fd)]=Me[MW(0xb51)][MW(0x2da)](0x1ca,-0x9a,MW(0x2fd)),this[MW(0x1fd)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c)}),this[MW(0x1fd)][MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0x625)][MW(0x6a8)](this[MW(0x1fd)]),this[MW(0x242)]=Me[MW(0xb51)][MW(0x2da)](-0x107,-0x9b,MW(0xa03)),this[MW(0x242)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0xa42)}),this[MW(0x242)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x625)][MW(0x6a8)](this[MW(0x242)]),this[MW(0x324)]=Me[MW(0xb51)][MW(0x2da)](-0x16a,-0x9b,MW(0x53a)),this[MW(0x324)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x3b7)}),this[MW(0x324)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x625)][MW(0x6a8)](this[MW(0x324)]),this[MW(0xaab)]=Me[MW(0xb51)][MW(0x2da)](-0x1cb,-0x9b,MW(0xb2b)),this[MW(0xaab)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x3b7)}),this[MW(0xaab)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x625)][MW(0x6a8)](this[MW(0xaab)]),this[MW(0x83b)]=Me[MW(0xb51)][MW(0x2da)](-0x182,-0x9c,'|'),this[MW(0x83b)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x3b7)}),this[MW(0x83b)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x625)][MW(0x6a8)](this[MW(0x83b)]),this[MW(0x4a6)]=Me[MW(0xb51)][MW(0x2da)](-0x11c,-0x9c,'|'),this[MW(0x4a6)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x3b7)}),this[MW(0x4a6)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x625)][MW(0x6a8)](this[MW(0x4a6)]),this[MW(0x60f)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x60f)]['x']=-0x1a5,this[MW(0x60f)]['y']=0x18,this[MW(0x43b)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x43b)][MW(0x552)][MW(0x304)](0.8613186787842909);const Ms=Me[MW(0xb51)][MW(0xa6e)](0x35,0x0,MW(0xc82),MW(0x995));Ms[MW(0xc25)][MW(0x304)](0.5),Ms[MW(0x552)][MW(0x304)](0.9243628235009962),this[MW(0x43b)][MW(0x6a8)](Ms);const My=Me[MW(0xb51)][MW(0xa6e)](0x34,-0x1b,MW(0xc82),MW(0xd2a));My[MW(0xc25)][MW(0x304)](0.5),My[MW(0x552)][MW(0x304)](1.5557406939800273),this[MW(0x43b)][MW(0x6a8)](My);const Mq=Me[MW(0xb51)][MW(0xa6e)](0x4,0x67,MW(0xc82),MW(0x599));Mq[MW(0xc25)][MW(0x304)](0.5),this[MW(0x43b)][MW(0x6a8)](Mq);const Mx=Me[MW(0xb51)][MW(0x2da)](0x1f,0x67,MW(0x376));Mx[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0xa42),'strokeThickness':0x4,'stroke':MW(0x3e3)}),Mx[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x43b)][MW(0x6a8)](Mx);const MZ=Me[MW(0xb51)][MW(0x2da)](0x36,-0x8a,MW(0x1eb));MZ[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x8c7),'fill':MW(0xa42),'wordWrapWidth':0xc6,'maxLines':0x1,'stroke':MW(0xa42)}),MZ[MW(0xc25)][MW(0x304)](0.5),this[MW(0x43b)][MW(0x6a8)](MZ);const Mf=Me[MW(0xb51)][MW(0xa6e)](-0x19,-0x66,MW(0xc82),MW(0x129));Mf[MW(0xc25)][MW(0x304)](0.5),Mf[MW(0x552)][MW(0x304)](0.6379203384594854),this[MW(0x43b)][MW(0x6a8)](Mf);const MN=Me[MW(0xb51)][MW(0x2da)](-0x1b,-0x66,MW(0x323));MN[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x141),'fill':MW(0x2f5)}),MN[MW(0xc25)][MW(0x304)](0.5),this[MW(0x43b)][MW(0x6a8)](MN);const MG=Me[MW(0xb51)][MW(0xa6e)](0x82,-0x64,MW(0x334),MW(0x812));MG[MW(0x152)]=![],MG[MW(0xc25)][MW(0x304)](0.5),MG[MW(0x552)][MW(0x304)](0.22415083302423616),this[MW(0x43b)][MW(0x6a8)](MG),this[MW(0x60f)][MW(0x6a8)](this[MW(0x43b)]),this[MW(0x625)][MW(0x6a8)](this[MW(0x60f)]),this[MW(0xcf3)][MW(0x6a8)](this[MW(0x625)]),this[MW(0x318)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x318)]['x']=0x3d,this[MW(0x318)]['y']=0x56,this[MW(0x101)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x101)]['x']=0x1a6,this[MW(0x101)]['y']=0x115,this[MW(0x101)][MW(0x552)][MW(0x304)](0.7068974371628621),this[MW(0x137)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x137)]['x']=0x84,this[MW(0x137)]['y']=0x1cd,this[MW(0x66c)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x66c)]['x']=-0x89,this[MW(0x66c)]['y']=0x1c,this[MW(0xb3f)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0xaa9)),this[MW(0xb3f)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x66c)][MW(0x6a8)](this[MW(0xb3f)]),this[MW(0x8c1)]=Me[MW(0xb51)][MW(0xa6e)](0x1e,0x0,MW(0xc82),MW(0x296)),this[MW(0x8c1)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x8c1)][MW(0x552)][MW(0x304)](34.54708459892079,0x1),this[MW(0x66c)][MW(0x6a8)](this[MW(0x8c1)]),this[MW(0x7bf)]=Me[MW(0xb51)][MW(0xa6e)](0x12f,0x0,MW(0xc82),MW(0x412)),this[MW(0x7bf)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x66c)][MW(0x6a8)](this[MW(0x7bf)]),this[MW(0x137)][MW(0x6a8)](this[MW(0x66c)]);const MF=Me[MW(0xb51)][MW(0x2da)](0x23,0x0,MW(0xb29));MF[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd45),'fill':MW(0x39c)}),MF[MW(0xc25)][MW(0x304)](0.5),MF[MW(0x552)][MW(0x304)](1.136797826610148),this[MW(0x137)][MW(0x6a8)](MF);const Mi=Me[MW(0xb51)][MW(0xa6e)](0x0,0x3a,MW(0xc82),MW(0xd0c));Mi[MW(0xc25)][MW(0x304)](0.5),Mi[MW(0x552)][MW(0x304)](0.6687819542011542),this[MW(0x137)][MW(0x6a8)](Mi),this[MW(0x467)]=Me[MW(0xb51)][MW(0x2da)](0x3b,0x39,MW(0x6ea)),this[MW(0x467)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7cb),'fill':MW(0x39c)}),this[MW(0x467)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x467)][MW(0x552)][MW(0x304)](1.136797826610148),this[MW(0x137)][MW(0x6a8)](this[MW(0x467)]);const Mr=Me[MW(0xb51)][MW(0x2da)](43.300875255197525,126.73444140678555,MW(0x74a));Mr[MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0x7c9),'fill':MW(0xd0d),'align':MW(0xce6)}),Mr[MW(0xc25)][MW(0x304)](0.5),Mr[MW(0x552)][MW(0x304)](1.136797826610148),this[MW(0x137)][MW(0x6a8)](Mr),this[MW(0x101)][MW(0x6a8)](this[MW(0x137)]),this[MW(0x764)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x764)]['x']=0x211,this[MW(0x764)]['y']=0x20c;const Mt=Me[MW(0xb51)][MW(0xa6e)](0x0,0xb,MW(0xc82),MW(0x2c6));Mt[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x764)][MW(0x6a8)](Mt),this[MW(0x360)]=Me[MW(0xb51)][MW(0xa6e)](0x25,0xb,MW(0xc82),MW(0x85d)),this[MW(0x360)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x360)][MW(0x552)][MW(0x304)](37.49497347985175,0x1),this[MW(0x764)][MW(0x6a8)](this[MW(0x360)]);const MC=Me[MW(0xb51)][MW(0xa6e)](0x151,0xb,MW(0xc82),MW(0x64a));MC[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x764)][MW(0x6a8)](MC);const MT=Me[MW(0xb51)][MW(0x2da)](0xb6,0x2,MW(0x767));MT[MW(0x67b)]({'font':MW(0x50a),'fontStyle':MW(0x285),'fontSize':MW(0x7cb),'fill':MW(0x39c)}),MT[MW(0xc25)][MW(0x304)](0.5),this[MW(0x764)][MW(0x6a8)](MT),this[MW(0x101)][MW(0x6a8)](this[MW(0x764)]),this[MW(0xbdf)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xbdf)]['x']=-0x24b,this[MW(0xbdf)]['y']=0x209,this[MW(0x44e)]=Me[MW(0xb51)][MW(0xa6e)](0xbb,0xb,MW(0xc82),MW(0x85d)),this[MW(0x44e)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x44e)][MW(0x552)][MW(0x304)](37.49497347985175,0x1),this[MW(0xbdf)][MW(0x6a8)](this[MW(0x44e)]);const Mz=Me[MW(0xb51)][MW(0xa6e)](0x0,0xb,MW(0xc82),MW(0x2c6));Mz[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xbdf)][MW(0x6a8)](Mz);const Mh=Me[MW(0xb51)][MW(0xa6e)](0x151,0xb,MW(0xc82),MW(0x64a));Mh[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xbdf)][MW(0x6a8)](Mh);const Mm=Me[MW(0xb51)][MW(0x2da)](0xd4,0x2,MW(0xbb4));Mm[MW(0x67b)]({'font':MW(0x50a),'fontStyle':MW(0x285),'fontSize':MW(0x7cb),'fill':MW(0x39c)}),Mm[MW(0xc25)][MW(0x304)](0.5),this[MW(0xbdf)][MW(0x6a8)](Mm);const Mc=Me[MW(0xb51)][MW(0xa6e)](0x35,0x0,MW(0xc82),MW(0x4f0));Mc[MW(0xc25)][MW(0x304)](0.5),this[MW(0xbdf)][MW(0x6a8)](Mc),this[MW(0x101)][MW(0x6a8)](this[MW(0xbdf)]);const Mj=Me[MW(0xb51)][MW(0xb9c)]();Mj['x']=0x318,Mj['y']=0x6,this[MW(0x3ed)]=Me[MW(0xb51)][MW(0xa6e)](-0x1,0x5,MW(0xc82),MW(0x954)),this[MW(0x3ed)][MW(0xc25)][MW(0x304)](0.5),Mj[MW(0x6a8)](this[MW(0x3ed)]);const MO=Me[MW(0xb51)][MW(0xa6e)](0x1,0x0,MW(0xc82),MW(0xc3f));MO[MW(0xc25)][MW(0x304)](0.5),Mj[MW(0x6a8)](MO),this[MW(0x101)][MW(0x6a8)](Mj);const Mu=Me[MW(0xb51)][MW(0xb9c)]();Mu['x']=-0x1b2,Mu['y']=-0x10,this[MW(0x2b2)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x5,MW(0xc82),MW(0x954)),this[MW(0x2b2)][MW(0xc25)][MW(0x304)](0.5),Mu[MW(0x6a8)](this[MW(0x2b2)]);const MU=Me[MW(0xb51)][MW(0xa6e)](-0x6,0x0,MW(0xc82),MW(0xc3f));MU[MW(0xc25)][MW(0x304)](0.5),MU[MW(0x552)][MW(0x304)](-0x1,0x1),Mu[MW(0x6a8)](MU),this[MW(0x101)][MW(0x6a8)](Mu),this[MW(0x7fb)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x7fb)]['x']=0xd6,this[MW(0x7fb)]['y']=0x183,this[MW(0x101)][MW(0x6a8)](this[MW(0x7fb)]),this[MW(0xc05)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xc05)]['y']=-1.1368683772161603e-13,this[MW(0x532)]=Me[MW(0xb51)][MW(0xa6e)](0xb3,0x6,MW(0x12a),MW(0xd00)),this[MW(0x532)][MW(0x152)]=![],this[MW(0x532)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x532)][MW(0x552)][MW(0x304)](0.8987445999520114),this[MW(0xc05)][MW(0x6a8)](this[MW(0x532)]);const MY=Me[MW(0xb51)][MW(0xa6e)](0x28d,-0x10b,MW(0xc82),MW(0x129));MY[MW(0xc25)][MW(0x304)](0.5),MY[MW(0x552)][MW(0x304)](0.8708813138195354),this[MW(0xc05)][MW(0x6a8)](MY),this[MW(0x371)]=Me[MW(0xb51)][MW(0x2da)](0x28a,-0x10d,'4'),this[MW(0x371)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa08),'fill':MW(0xae5)}),this[MW(0x371)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x371)][MW(0x552)][MW(0x304)](0.9251585337990689),this[MW(0xc05)][MW(0x6a8)](this[MW(0x371)]),this[MW(0x101)][MW(0x6a8)](this[MW(0xc05)]),this[MW(0x318)][MW(0x6a8)](this[MW(0x101)]),this[MW(0xcf3)][MW(0x6a8)](this[MW(0x318)]),this[MW(0xa98)][MW(0x6a8)](this[MW(0xcf3)]),this[MW(0x801)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x801)]['x']=0x3d,this[MW(0x801)]['y']=0x56,this[MW(0xadd)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xadd)][MW(0x552)][MW(0x304)](0.9);const MI=Me[MW(0xb51)][MW(0xb9c)]();MI['x']=0x1cd;const Md=Me[MW(0xb51)][MW(0xa6e)](0x55,0x2,MW(0xc82),MW(0x8e6));Md[MW(0xc25)][MW(0x304)](0.5),Md[MW(0x552)][MW(0x304)](17.905810970564406,0x1),MI[MW(0x6a8)](Md),this[MW(0x262)]=Me[MW(0xb51)][MW(0x2da)](0x1e,0x2,MW(0xb57)),this[MW(0x262)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa08),'fill':MW(0xa42),'strokeThickness':0x3,'stroke':MW(0x2c0),'shadowStroke':!![],'shadowBlur':0x1,'shadowColor':MW(0xcfe)}),this[MW(0x262)][MW(0xc25)][MW(0x304)](0x0,0.5),MI[MW(0x6a8)](this[MW(0x262)]);const MA=Me[MW(0xb51)][MW(0xa6e)](-0x4,0x3,MW(0xc82),MW(0xd0c));MA[MW(0xc25)][MW(0x304)](0.5),MI[MW(0x6a8)](MA),this[MW(0x44a)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x44a)]['x']=0xa2;const Mo=Me[MW(0xb51)][MW(0xa6e)](0x0,0x3,MW(0xc82),MW(0x50b));Mo[MW(0xc25)][MW(0x304)](0.5),this[MW(0x44a)][MW(0x6a8)](Mo);const MX=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,'+');MX[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa19),'fill':MW(0xa42)}),MX[MW(0xc25)][MW(0x304)](0.5),this[MW(0x44a)][MW(0x6a8)](MX),MI[MW(0x6a8)](this[MW(0x44a)]),this[MW(0xb01)]=Me[MW(0xb51)][MW(0x2da)](0x49,0x27,MW(0x84e)),this[MW(0xb01)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xcf7),'fill':MW(0x92c),'align':MW(0xce6)}),this[MW(0xb01)][MW(0xc25)][MW(0x304)](0.5),MI[MW(0x6a8)](this[MW(0xb01)]),this[MW(0xadd)][MW(0x6a8)](MI);const MQ=Me[MW(0xb51)][MW(0xb9c)]();MQ['x']=0x2c3,MQ['y']=0x2;const Ma=Me[MW(0xb51)][MW(0xa6e)](0x55,0x2,MW(0xc82),MW(0x140));Ma[MW(0xc25)][MW(0x304)](0.5),Ma[MW(0x552)][MW(0x304)](18.57488366210204,0x1),MQ[MW(0x6a8)](Ma),this[MW(0xa32)]=Me[MW(0xb51)][MW(0x2da)](0x22,-0x1,MW(0xb57)),this[MW(0xa32)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa08),'fill':MW(0xa42),'strokeThickness':0x3,'stroke':MW(0x501),'shadowStroke':!![],'shadowBlur':0x1,'shadowColor':MW(0xcfe)}),this[MW(0xa32)][MW(0xc25)][MW(0x304)](0x0,0.5),MQ[MW(0x6a8)](this[MW(0xa32)]);const MK=Me[MW(0xb51)][MW(0xa6e)](-0x3,-0x1,MW(0xc82),MW(0x9c4));MK[MW(0xc25)][MW(0x304)](0.5),MQ[MW(0x6a8)](MK),this[MW(0x9c0)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x9c0)]['x']=0xac,this[MW(0x9c0)]['y']=-0x2;const Ml=Me[MW(0xb51)][MW(0xa6e)](0x0,0x3,MW(0xc82),MW(0x813));Ml[MW(0xc25)][MW(0x304)](0.5),this[MW(0x9c0)][MW(0x6a8)](Ml);const MV=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,'+');MV[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa19),'fill':MW(0xa42)}),MV[MW(0xc25)][MW(0x304)](0.5),this[MW(0x9c0)][MW(0x6a8)](MV),MQ[MW(0x6a8)](this[MW(0x9c0)]),this[MW(0xadd)][MW(0x6a8)](MQ),this[MW(0x6fc)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x6fc)]['x']=0x3ae,this[MW(0x6fc)]['y']=0x1,this[MW(0x969)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x969)]['x']=0xca,this[MW(0x4db)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x4,MW(0xc82),MW(0x2d7)),this[MW(0x4db)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x969)][MW(0x6a8)](this[MW(0x4db)]);const Mk=Me[MW(0xb51)][MW(0xa6e)](0x0,0x2,MW(0xc82),MW(0x3ce));Mk[MW(0xc25)][MW(0x304)](0.5),Mk[MW(0x552)][MW(0x304)](1.0052430473143428),this[MW(0x969)][MW(0x6a8)](Mk),this[MW(0x6fc)][MW(0x6a8)](this[MW(0x969)]),this[MW(0x364)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x364)]['x']=0x64,this[MW(0x364)]['y']=0x1,this[MW(0xbaa)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x4,MW(0xc82),MW(0x2d7)),this[MW(0xbaa)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x364)][MW(0x6a8)](this[MW(0xbaa)]);const Mw=Me[MW(0xb51)][MW(0xa6e)](0x0,0x3,MW(0xc82),MW(0xcd7));Mw[MW(0xc25)][MW(0x304)](0.5),Mw[MW(0x552)][MW(0x304)](0.8143152393298843),this[MW(0x364)][MW(0x6a8)](Mw),this[MW(0x6fc)][MW(0x6a8)](this[MW(0x364)]),this[MW(0x401)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x401)]['y']=0x2,this[MW(0x401)][MW(0x152)]=![],this[MW(0x4f4)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x3,MW(0xc82),MW(0x2d7)),this[MW(0x4f4)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x401)][MW(0x6a8)](this[MW(0x4f4)]);const MH=Me[MW(0xb51)][MW(0x2da)](0x0,0x2,'?');MH[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x244),'fill':MW(0x39c)}),MH[MW(0xc25)][MW(0x304)](0.5),this[MW(0x401)][MW(0x6a8)](MH),this[MW(0x6fc)][MW(0x6a8)](this[MW(0x401)]),this[MW(0xadd)][MW(0x6a8)](this[MW(0x6fc)]),this[MW(0xc0e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xc0e)]['x']=-0x8,this[MW(0xc0e)]['y']=0x84,this[MW(0xc0e)][MW(0x552)][MW(0x304)](0.9350050077226982),this[MW(0x8db)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x8db)]['x']=-2.999997998840101,this[MW(0xb5d)]=Me[MW(0xb51)][MW(0xa6e)](0x0,-0x4,MW(0x95d)),this[MW(0xb5d)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb5d)][MW(0x552)][MW(0x304)](0.1),this[MW(0x8db)][MW(0x6a8)](this[MW(0xb5d)]);const Mb=Me[MW(0xb51)][MW(0x2da)](0x0,47.00001560904701,MW(0x1f3));Mb[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa08),'fill':MW(0x39c)}),Mb[MW(0xc25)][MW(0x304)](0.5),this[MW(0x8db)][MW(0x6a8)](Mb),this[MW(0xc0e)][MW(0x6a8)](this[MW(0x8db)]),this[MW(0x117)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x117)]['x']=103.00001240719122,this[MW(0x117)]['y']=2.999997998840172,this[MW(0x590)]=Me[MW(0xb51)][MW(0xa6e)](2.999985191416954,0x0,MW(0xc82),MW(0x755)),this[MW(0x590)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x590)][MW(0x552)][MW(0x304)](0.9415927167126431),this[MW(0x117)][MW(0x6a8)](this[MW(0x590)]);const P0=Me[MW(0xb51)][MW(0x2da)](0x0,44.00001761020687,MW(0xb75));P0[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa08),'fill':MW(0x39c)}),P0[MW(0xc25)][MW(0x304)](0.5),this[MW(0x117)][MW(0x6a8)](P0),this[MW(0xc0e)][MW(0x6a8)](this[MW(0x117)]),this[MW(0x9e6)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x9e6)]['x']=200.0000032018558,this[MW(0xa73)]=Me[MW(0xb51)][MW(0xa6e)](2.0000072041755743,0x0,MW(0xc82),MW(0xa8d)),this[MW(0xa73)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa73)][MW(0x552)][MW(0x304)](0.8308047018162231),this[MW(0x9e6)][MW(0x6a8)](this[MW(0xa73)]);const P1=Me[MW(0xb51)][MW(0x2da)](0x0,47.99999359628842,MW(0x11e));P1[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa08),'fill':MW(0x39c)}),P1[MW(0xc25)][MW(0x304)](0.5),this[MW(0x9e6)][MW(0x6a8)](P1),this[MW(0xc0e)][MW(0x6a8)](this[MW(0x9e6)]),this[MW(0x2d1)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x2d1)]['x']=0x3f8,this[MW(0x2d1)]['y']=-0x84,this[MW(0x594)]=Me[MW(0xb51)][MW(0xa6e)](0x1,-0x3,MW(0xc82),MW(0x2d7)),this[MW(0x594)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x2d1)][MW(0x6a8)](this[MW(0x594)]),this[MW(0x44c)]=Me[MW(0xb51)][MW(0xa6e)](-0x2,-0x6,MW(0x44c)),this[MW(0x44c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x2d1)][MW(0x6a8)](this[MW(0x44c)]),this[MW(0xc0e)][MW(0x6a8)](this[MW(0x2d1)]),this[MW(0xadd)][MW(0x6a8)](this[MW(0xc0e)]),this[MW(0x7b9)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x7b9)]['x']=0x1a,this[MW(0xa57)]=Me[MW(0xb51)][MW(0xa6e)](0x3d,0x6,MW(0xc82),MW(0xa8b)),this[MW(0xa57)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xa57)][MW(0x552)][MW(0x304)](32.87928497930689,1.193811699259513),this[MW(0x7b9)][MW(0x6a8)](this[MW(0xa57)]),this[MW(0x31a)]=Me[MW(0xb51)][MW(0xa6e)](0x3d,0x2,MW(0xc82),MW(0x384)),this[MW(0x31a)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x31a)][MW(0x552)][MW(0x304)](25.557467503109017,1.2335679452614643),this[MW(0x7b9)][MW(0x6a8)](this[MW(0x31a)]),this[MW(0xcb6)]=Me[MW(0xb51)][MW(0x2da)](0x43,0x2,MW(0xa80)),this[MW(0xcb6)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xac0),'fill':MW(0x39c)}),this[MW(0xcb6)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x7b9)][MW(0x6a8)](this[MW(0xcb6)]);const P2=Me[MW(0xb51)][MW(0xa6e)](0x153,0x6,MW(0xc82),MW(0x792));P2[MW(0xc25)][MW(0x304)](0.5),P2[MW(0x552)][MW(0x304)](0x1,1.193811699259513),this[MW(0x7b9)][MW(0x6a8)](P2);const P3=Me[MW(0xb51)][MW(0xa6e)](0x168,0x0,MW(0xc82),MW(0x129));P3[MW(0xc25)][MW(0x304)](0.5),P3[MW(0x552)][MW(0x304)](1.1573444701958828),this[MW(0x7b9)][MW(0x6a8)](P3),this[MW(0x6e6)]=Me[MW(0xb51)][MW(0x2da)](0x165,0x0,'65'),this[MW(0x6e6)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa08),'fill':MW(0xae5)}),this[MW(0x6e6)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x7b9)][MW(0x6a8)](this[MW(0x6e6)]),this[MW(0xacc)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xacc)]['x']=0x2,this[MW(0x8c6)]=Me[MW(0xb51)][MW(0x2da)](-0x1,0x51,MW(0x6c3)),this[MW(0x8c6)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x8c7),'fill':MW(0x39c)}),this[MW(0x8c6)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xacc)][MW(0x6a8)](this[MW(0x8c6)]),this[MW(0x7b9)][MW(0x6a8)](this[MW(0xacc)]);const P4=Me[MW(0xb51)][MW(0xb9c)]();P4['x']=5.684341886080802e-14,P4['y']=3.999998410542787,this[MW(0xd2a)]=Me[MW(0xb51)][MW(0xa6e)](-0x3,0x3,MW(0xc82),MW(0xd2a)),this[MW(0xd2a)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xd2a)][MW(0x552)][MW(0x304)](1.0751745907074532),P4[MW(0x6a8)](this[MW(0xd2a)]),this[MW(0xbc8)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0xbc8)]['y']=-0x5,this[MW(0xbc8)][MW(0x19e)](0xffffff,0x1),this[MW(0xbc8)][MW(0x298)](0x0,0x0,0x80,0x80),this[MW(0xbc8)][MW(0x366)](),this[MW(0xbc8)][MW(0x3d9)](0.5),P4[MW(0x6a8)](this[MW(0xbc8)]),this[MW(0x7b9)][MW(0x6a8)](P4),this[MW(0x96e)]=Me[MW(0xb51)][MW(0x2da)](0x3e,-0x19,MW(0x30c)),this[MW(0x96e)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x8c7),'fill':MW(0x39c),'wordWrapWidth':0x12c,'maxLines':0x1}),this[MW(0x96e)][MW(0xc25)][MW(0x304)](0x0,0x1),this[MW(0x7b9)][MW(0x6a8)](this[MW(0x96e)]),this[MW(0x4c9)]=Me[MW(0xb51)][MW(0xa6e)](267.33333871982734,-36.66666763800164,MW(0xa14),MW(0xb5c)),this[MW(0x4c9)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x4c9)][MW(0x552)][MW(0x304)](0.5184983495413268),this[MW(0x7b9)][MW(0x6a8)](this[MW(0x4c9)]),this[MW(0xadd)][MW(0x6a8)](this[MW(0x7b9)]),this[MW(0x801)][MW(0x6a8)](this[MW(0xadd)]),this[MW(0xa98)][MW(0x6a8)](this[MW(0x801)]),this[MW(0x695)][MW(0x6a8)](this[MW(0xa98)]),this[MW(0xa5e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xa5e)]['x']=0x265,this[MW(0xa5e)]['y']=0x1fc,this[MW(0xa5e)][MW(0x152)]=![];const P5=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x8a9));P5[MW(0xc25)][MW(0x304)](0.5),P5[MW(0x552)][MW(0x304)](1.491006105222411),this[MW(0xa5e)][MW(0x6a8)](P5),this[MW(0xd12)]=Me[MW(0xb51)][MW(0x2da)](-0xa,-0x188,MW(0x930)),this[MW(0xd12)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x79e),'fill':MW(0x39c),'wordWrapWidth':0x2e6,'maxLines':0x1,'align':MW(0xce6)}),this[MW(0xd12)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa5e)][MW(0x6a8)](this[MW(0xd12)]),this[MW(0x891)]=Me[MW(0xb51)][MW(0xa6e)](0x209,-0x184,MW(0xc82),MW(0x96b)),this[MW(0x891)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x891)][MW(0x552)][MW(0x304)](0.4601748558550454,0.48848554811179906),this[MW(0xa5e)][MW(0x6a8)](this[MW(0x891)]);const P6=Me[MW(0xb51)][MW(0x2da)](0x209,-0x188,'x');P6[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xcf7),'fill':MW(0x39c),'wordWrapWidth':0x2e6}),P6[MW(0xc25)][MW(0x304)](0.5),P6[MW(0x552)][MW(0x304)](1.6988012465983668),this[MW(0xa5e)][MW(0x6a8)](P6),this[MW(0x4df)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x4df)]['x']=-0x20f,this[MW(0x4df)]['y']=-0x151,this[MW(0x258)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x258)]['y']=0x24,this[MW(0x551)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x2,MW(0xc82),MW(0xd0c)),this[MW(0x551)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x551)][MW(0x552)][MW(0x304)](0.39227117851023885),this[MW(0x258)][MW(0x6a8)](this[MW(0x551)]),this[MW(0xc14)]=Me[MW(0xb51)][MW(0x2da)](0x1e,0x2,MW(0x8d6)),this[MW(0xc14)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa9d),'fill':MW(0x9a7),'wordWrapWidth':0x2e6}),this[MW(0xc14)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x258)][MW(0x6a8)](this[MW(0xc14)]),this[MW(0xccb)]=Me[MW(0xb51)][MW(0x2da)](0x7f,0x1,MW(0xd08)),this[MW(0xccb)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa9d),'fill':MW(0x39c),'wordWrapWidth':0x2e6,'maxLines':0x1}),this[MW(0xccb)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x258)][MW(0x6a8)](this[MW(0xccb)]),this[MW(0x420)]=Me[MW(0xb51)][MW(0x2da)](0x397,0x0,MW(0xb05)),this[MW(0x420)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa9d),'fill':MW(0x39c),'wordWrapWidth':0x2e6}),this[MW(0x420)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x258)][MW(0x6a8)](this[MW(0x420)]),this[MW(0x4df)][MW(0x6a8)](this[MW(0x258)]),this[MW(0x23a)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xaf8)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x2,MW(0xc82),MW(0xd0c)),this[MW(0xaf8)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xaf8)][MW(0x552)][MW(0x304)](0.39227117851023885),this[MW(0x23a)][MW(0x6a8)](this[MW(0xaf8)]),this[MW(0x562)]=Me[MW(0xb51)][MW(0x2da)](0x1e,0x2,MW(0x340)),this[MW(0x562)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa9d),'fill':MW(0x241),'wordWrapWidth':0x2e6}),this[MW(0x562)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x23a)][MW(0x6a8)](this[MW(0x562)]),this[MW(0x597)]=Me[MW(0xb51)][MW(0x2da)](0x7f,0x1,MW(0xc27)),this[MW(0x597)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa9d),'fill':MW(0x39c),'wordWrapWidth':0x2e6,'maxLines':0x1}),this[MW(0x597)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x23a)][MW(0x6a8)](this[MW(0x597)]),this[MW(0xc4c)]=Me[MW(0xb51)][MW(0x2da)](0x397,0x0,MW(0xb05)),this[MW(0xc4c)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa9d),'fill':MW(0x39c),'wordWrapWidth':0x2e6}),this[MW(0xc4c)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x23a)][MW(0x6a8)](this[MW(0xc4c)]),this[MW(0x4df)][MW(0x6a8)](this[MW(0x23a)]),this[MW(0xa5e)][MW(0x6a8)](this[MW(0x4df)]),this[MW(0x7ca)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x7ca)][MW(0x7e1)]=MW(0x7ca),this[MW(0x7ca)][MW(0x152)]=![],this[MW(0xa47)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0xa47)][MW(0x19e)](0x0,0x1),this[MW(0xa47)][MW(0x298)](0x0,0x0,0xa,0xa),this[MW(0xa47)][MW(0x366)](),this[MW(0xa47)][MW(0x2a0)]=0.75,this[MW(0xa47)][MW(0x3d9)](0.5),this[MW(0x7ca)][MW(0x6a8)](this[MW(0xa47)]),this[MW(0xc23)]=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xaa3)),this[MW(0xc23)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb86),'fill':MW(0x39c),'align':MW(0xce6)}),this[MW(0xc23)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x7ca)][MW(0x6a8)](this[MW(0xc23)]),this[MW(0xa5d)]=Me[MW(0xb51)][MW(0xa6e)](0x159,0x2a8,MW(0xa8a)),this[MW(0xa5d)][MW(0xc25)][MW(0x304)](0.1025,0.035),this[MW(0xa5d)][MW(0x552)][MW(0x304)](0.07798276667885662);}this[MW(0xb36)][MW(0x62d)]=![];},RE[n2(0xa3a)][n2(0xabd)]=function(){var MS=n2;this[MS(0x91b)]=!![],this[MS(0xa1a)]=!![],this[MS(0xaf9)]=![],this[MS(0x343)]=-0x1,this[MS(0x25d)]=![],this[MS(0x2a5)]=![],this[MS(0x5ed)](Dy),this[MS(0x61a)]['y']=DZ?L9(Me[MS(0x4ca)]*0.4):L9(Me[MS(0x4ca)]*0.1),this[MS(0x61a)][MS(0x2df)]=DZ===!![]?Me[MS(0x3ab)]*0.38:Me[MS(0x3ab)]*0.45,this[MS(0x61a)][MS(0xd2d)]=0x0,this[MS(0x4a1)]=[];for(var MW=0x0;MW<EE[MS(0xc4d)][MS(0x16a)];MW++){this[MS(0x4a1)][MS(0x526)](ER[MS(0xa88)][MS(0xb1e)](MW*this[MS(0x61a)][MS(0x2df)],this[MS(0x436)][0x2]['y'],this[MS(0x436)][0x2][MS(0x552)],MW,0x0,this[MS(0x85a)],this,this[MS(0x61a)]));}this[MS(0x61a)][MS(0x82c)]=this[MS(0x61a)][MS(0x2df)]*(EE[MS(0xc4d)][MS(0x16a)]-0x1),this[MS(0x61a)]['x']=DZ?L9(Me[MS(0x3ab)]*0.5)-this[MS(0x61a)][MS(0xd2d)]*this[MS(0x61a)][MS(0x2df)]:-this[MS(0x61a)][MS(0xd2d)]*this[MS(0x61a)][MS(0x2df)],this[MS(0x532)][MS(0x7f0)]=0x1,this[MS(0x532)][MS(0x59b)]=EE[MS(0xc4d)][MS(0x16a)],this[MS(0x532)][MS(0x8ae)]=DO||0x1,this[MS(0x545)]=EE[MS(0xc4d)][this[MS(0x532)][MS(0x8ae)]-0x1],EE[MS(0x545)]=this[MS(0x545)],this[MS(0x14a)]=Me[MS(0x74e)][MS(0x267)](),this[MS(0x14a)][MS(0x19e)](0xffffff,0x1),this[MS(0x14a)][MS(0xbf9)](0x0,0x0,this[MS(0x532)][MS(0x3ab)]-0x14,this[MS(0x532)][MS(0x4ca)]+0x14,0x23),this[MS(0x14a)][MS(0x3d9)](-0.5),this[MS(0x14a)]['x']=0x22b,this[MS(0x532)][MS(0xa33)]=this[MS(0x14a)],this[MS(0x3fc)]=Me[MS(0xb51)][MS(0xb9c)](),this[MS(0x371)][MS(0xb20)](this[MS(0x532)][MS(0x8ae)]),this[MS(0x2b2)][MS(0x983)]=!![],this[MS(0x2b2)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;E6[Ms(0x3f4)](Ms(0xdf));if(this[Ms(0x89a)])return;this[Ms(0x532)][Ms(0x8ae)]--;if(this[Ms(0x532)][Ms(0x8ae)]<0x1){this[Ms(0x532)][Ms(0x8ae)]=0x1;return;}this[Ms(0x61b)]();}),this[MS(0x3ed)][MS(0x983)]=!![],this[MS(0x3ed)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;E6[Ms(0x3f4)](Ms(0xdf));if(this[Ms(0x89a)])return;this[Ms(0x532)][Ms(0x8ae)]++;if(this[Ms(0x532)][Ms(0x8ae)]>this[Ms(0x532)][Ms(0x59b)]){this[Ms(0x532)][Ms(0x8ae)]=this[Ms(0x532)][Ms(0x59b)];return;}this[Ms(0x61b)]();}),ER[MS(0x892)](this[MS(0x8db)],!![]),this[MS(0x8db)][MS(0x3ea)]=!![],this[MS(0x891)][MS(0x983)]=!![],this[MS(0x891)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x891)][Ms(0x552)][Ms(0x304)](0.4601748558550454);}),ER[MS(0x918)](this[MS(0x891)],!![]),this[MS(0x4df)][MS(0xa3f)][MS(0x4ea)](Ms=>{var My=MS;Ms[My(0x187)]();}),this[MS(0x4df)][MS(0xa3f)]=[],this[MS(0x44c)][MS(0x983)]=!![],this[MS(0x44c)][MS(0xa9f)][MS(0x19b)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x891)][Ms(0xa9f)][Ms(0x19b)][Ms(0x663)](()=>{var My=Ms;E6[My(0x3f4)](My(0xdf)),this[My(0x891)][My(0x552)][My(0x304)](0.5601748558550455),this[My(0xa5e)][My(0x7ba)](),ER[My(0x892)](this[My(0x891)],!!![]),ER[My(0x892)](this[My(0x891)][My(0x155)],!![]);}),E6[Ms(0x3f4)](Ms(0xdf)),this[Ms(0x44c)][Ms(0x552)][Ms(0x304)](0x1),no=!![],EE[Ms(0x935)][Ms(0x120)](0x1),nu[Ms(0x353)](Ms(0x1ac),{'user_id':M6[Ms(0x234)]()[Ms(0x605)]},async My=>{var Mq=Ms;EE[Mq(0x935)][Mq(0x9f1)]();if(My&&My[Mq(0xbfd)]!==!![]&&My[Mq(0x16a)]>=0x0){ER[Mq(0x182)][Mq(0x891)][Mq(0x155)]=this[Mq(0x695)],this[Mq(0xa5e)][Mq(0xc99)](),ER[Mq(0x918)](this[Mq(0x695)],!!![]),ER[Mq(0x918)](this[Mq(0x891)],!![]),this[Mq(0x4df)][Mq(0xa3f)][Mq(0x4ea)](MZ=>{var Mf=Mq;MZ[Mf(0x187)]();}),this[Mq(0x4df)][Mq(0xa3f)]=[];var Mx=0x0;My[Mq(0x4ea)]((MZ,Mf)=>{var MN=Mq;Mx=Mf%0x3;let MG=Me[MN(0xb51)][MN(0xb9c)](0x0,0x0);MG['y']=0x24*Mf,Mf>=0x9&&(MG['y']=0x24*Mf+0x9);let MF=MZ[MN(0x48b)]===MN(0xbfa)?MN(0xbce):MN(0x844);MZ[MN(0x51a)]&&(MF=MN(0x472));let Mi=Me[MN(0xb51)][MN(0xa6e)](0x0,0x2,MN(0xc82),MN(0xd0c));Mi[MN(0xc25)][MN(0x304)](0.5),Mi[MN(0x552)][MN(0x304)](0.39227117851023885),MG[MN(0x6a8)](Mi);var Mr=MZ[MN(0x48b)]===MN(0xbfa)?'+':'-';MZ[MN(0x51a)]&&(Mr='');let Mt=Me[MN(0xb51)][MN(0x2da)](0x1e,0x2,Mr+'\x20'+MZ[MN(0x630)][MN(0x86a)]()),MC=MZ[MN(0x48b)]===MN(0xbfa)?MN(0x241):MN(0x9a7);MZ[MN(0x51a)]&&(MC=MN(0xa45)),(Mt[MN(0x67b)]({'font':MN(0xac2),'fontStyle':MN(0x285),'fontSize':MN(0xa9d),'fill':MC,'wordWrapWidth':0x2e6}),Mt[MN(0xc25)][MN(0x304)](0x0,0.5),MG[MN(0x6a8)](Mt));let MT=Me[MN(0xb51)][MN(0x2da)](0x7f,0x1,MF+MZ[MN(0x4ac)]);MT[MN(0x67b)]({'font':MN(0xac2),'fontStyle':MN(0x285),'fontSize':MN(0xa9d),'fill':MN(0x39c),'wordWrapWidth':0x2e6,'maxLines':0x1}),MT[MN(0xc25)][MN(0x304)](0x0,0.5),MG[MN(0x6a8)](MT);let Mz=Me[MN(0xb51)][MN(0x2da)](0x397,0x0,MZ[MN(0x1ab)]);Mz[MN(0x67b)]({'font':MN(0xac2),'fontStyle':MN(0x285),'fontSize':MN(0xa9d),'fill':MN(0x39c),'wordWrapWidth':0x2e6}),Mz[MN(0xc25)][MN(0x304)](0x0,0.5),MG[MN(0x6a8)](Mz),this[MN(0x4df)][MN(0x6a8)](MG);});}else{}});}),this[MS(0x44c)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x44c)][Ms(0x552)][Ms(0x304)](1.06);}),this[MS(0x44c)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x44c)][Ms(0x552)][Ms(0x304)](0x1);}),this[MS(0x44c)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x44c)][Ms(0x552)][Ms(0x304)](1.06);}),ER[MS(0x892)](this[MS(0x44c)],!![]),this[MS(0x8db)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x8db)][Ms(0x552)][Ms(0x304)](1.2),E6[Ms(0x3f4)](Ms(0xdf));},this),this[MS(0x8db)][MS(0x5db)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x8db)][Ms(0x552)][Ms(0x304)](0x1),no=!![],nu[Ms(0x353)](Ms(0xb53),{'user_id':M6[Ms(0x234)]()[Ms(0x605)]},async My=>{var Mq=Ms;if(My&&My['id'])window[Mq(0x120)](Mq(0x2ec)+My['id']);});},this),this[MS(0x8db)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x8db)][Ms(0x552)][Ms(0x304)](1.2);},this),this[MS(0x8db)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x8db)][Ms(0x552)][Ms(0x304)](0x1);},this),ER[MS(0x892)](this[MS(0x117)],!![]),this[MS(0x117)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x117)][Ms(0x552)][Ms(0x304)](1.2),E6[Ms(0x3f4)](Ms(0xdf));},this),this[MS(0x117)][MS(0x5db)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x117)][Ms(0x552)][Ms(0x304)](0x1);},this),this[MS(0x117)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x117)][Ms(0x552)][Ms(0x304)](1.2);},this),this[MS(0x117)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x117)][Ms(0x552)][Ms(0x304)](0x1);},this),ER[MS(0x892)](this[MS(0x9e6)],!![]),this[MS(0x9e6)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x9e6)][Ms(0x552)][Ms(0x304)](0x1),E6[Ms(0x3f4)](Ms(0xdf)),ER[Ms(0x225)](ER[Ms(0x164)]);},this),this[MS(0x9e6)][MS(0x5db)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x9e6)][Ms(0x552)][Ms(0x304)](0x1);},this),this[MS(0x9e6)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x9e6)][Ms(0x552)][Ms(0x304)](1.2);},this),this[MS(0x9e6)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x9e6)][Ms(0x552)][Ms(0x304)](0x1);},this),this[MS(0x262)][MS(0x983)]=!![],this[MS(0x262)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x262)][Ms(0xb20)](Number(this[Ms(0x262)][Ms(0x753)])[Ms(0x86a)]()),this[Ms(0x262)][Ms(0x552)][Ms(0x304)](0.7);}),this[MS(0x262)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x262)][Ms(0xb20)](LL(this[Ms(0x262)][Ms(0x753)],0x1)),this[Ms(0x262)][Ms(0x552)][Ms(0x304)](0x1);}),this[MS(0xa32)][MS(0x983)]=!![],this[MS(0xa32)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0xa32)][Ms(0xb20)](Number(this[Ms(0xa32)][Ms(0x753)])[Ms(0x86a)]()),this[Ms(0xa32)][Ms(0x552)][Ms(0x304)](0.7);}),this[MS(0xa32)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0xa32)][Ms(0xb20)](LL(this[Ms(0xa32)][Ms(0x753)],0x1)),this[Ms(0xa32)][Ms(0x552)][Ms(0x304)](0x1);}),this[MS(0xcb6)][MS(0x983)]=!![],this[MS(0xcb6)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0xcb6)][Ms(0xb20)](Number(this[Ms(0xcb6)][Ms(0x753)])[Ms(0x86a)]()),this[Ms(0xcb6)][Ms(0x552)][Ms(0x304)](0.7);}),this[MS(0xcb6)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0xcb6)][Ms(0xb20)](LL(this[Ms(0xcb6)][Ms(0x753)],0x1)),this[Ms(0xcb6)][Ms(0x552)][Ms(0x304)](0x1);}),ER[MS(0x892)](this[MS(0x401)],!![]),this[MS(0x401)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;E6[Ms(0x3f4)](Ms(0xdf)),this[Ms(0x401)][Ms(0x552)][Ms(0x304)](0x1);}),this[MS(0x401)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x401)][Ms(0x552)][Ms(0x304)](1.08);}),this[MS(0x401)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x401)][Ms(0x552)][Ms(0x304)](0x1);}),ER[MS(0x892)](this[MS(0x364)],!![]),this[MS(0x364)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;E6[Ms(0x3f4)](Ms(0xdf)),this[Ms(0x364)][Ms(0x552)][Ms(0x304)](0x1),ER[Ms(0x225)](ER[Ms(0x6d3)]);}),this[MS(0x364)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x364)][Ms(0x552)][Ms(0x304)](1.08);}),this[MS(0x364)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x364)][Ms(0x552)][Ms(0x304)](0x1);}),ER[MS(0x892)](this[MS(0x969)],!![]),this[MS(0x969)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;E6[Ms(0x3f4)](Ms(0xdf)),this[Ms(0x969)][Ms(0x552)][Ms(0x304)](0x1),screenfull[Ms(0x136)](document[Ms(0x958)](Ms(0x883)));}),this[MS(0x969)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x969)][Ms(0x552)][Ms(0x304)](1.08);}),this[MS(0x969)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x969)][Ms(0x552)][Ms(0x304)](0x1);}),ER[MS(0x892)](this[MS(0xbdf)],!![]),this[MS(0xbdf)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;Me[Ms(0xac4)]&&Me[Ms(0xbff)](),this[Ms(0xbdf)][Ms(0x552)][Ms(0x304)](0x1),E6[Ms(0x3f4)](Ms(0xdf)),this[Ms(0xaf9)]=!![],EE[Ms(0xae7)]=![],EE[Ms(0x500)]=![],ER[Ms(0x19a)][Ms(0x973)]=![],EE[Ms(0x783)](0x3e8),ER[Ms(0x8be)](ER[Ms(0xb1c)]);}),this[MS(0xbdf)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0xbdf)][Ms(0x552)][Ms(0x304)](1.08);}),this[MS(0xbdf)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0xbdf)][Ms(0x552)][Ms(0x304)](0x1);}),ER[MS(0x892)](this[MS(0x66c)],!![]),this[MS(0x66c)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x66c)][Ms(0x552)][Ms(0x304)](0x1),E6[Ms(0x3f4)](Ms(0xdf));if(!this[Ms(0x7e9)])return;ER[Ms(0x19a)][Ms(0x973)]=!![],ER[Ms(0x225)](ER[Ms(0x19a)]),EE[Ms(0xae7)]=!![],EE[Ms(0x500)]=![];}),this[MS(0x66c)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x66c)][Ms(0x552)][Ms(0x304)](1.08);}),this[MS(0x66c)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x66c)][Ms(0x552)][Ms(0x304)](0x1);}),ER[MS(0x892)](this[MS(0x764)],!![]),this[MS(0x764)][MS(0x38c)][MS(0xb51)](()=>{var Ms=MS;E6[Ms(0x3f4)](Ms(0xdf)),this[Ms(0x764)][Ms(0x552)][Ms(0x304)](0x1),this[Ms(0xaf9)]=!![],EE[Ms(0xae7)]=![],EE[Ms(0x500)]=!![],EE[Ms(0x783)](0x3e8),ER[Ms(0x8be)](ER[Ms(0xb1c)]);}),this[MS(0x764)][MS(0x6d9)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x764)][Ms(0x552)][Ms(0x304)](1.08);}),this[MS(0x764)][MS(0x105)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x764)][Ms(0x552)][Ms(0x304)](0x1);}),this[MS(0x8c6)][MS(0x983)]=!![],this[MS(0x8c6)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;E6[Ms(0x3f4)](Ms(0xdf)),n9();}),this[MS(0x8c6)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x8c6)][Ms(0x1bc)]=Ms(0x9c2);}),this[MS(0x8c6)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x8c6)][Ms(0x1bc)]=Ms(0x153);}),this[MS(0xd2a)][MS(0xa33)]=this[MS(0xbc8)],this[MS(0xd2a)][MS(0x6a8)](this[MS(0xbc8)]),this[MS(0xc89)](),this[MS(0x61b)](),this[MS(0x617)][MS(0x3ab)]=Ef['x']+0x190,this[MS(0x617)][MS(0x4ca)]=Ef['y']+0x190,this[MS(0x617)][MS(0x983)]=!![],this[MS(0x617)][MS(0x6d7)]={'startPos':{'x':0x0,'y':0x0},'down':![],'min':0x0,'y':0x0,'max':0x172*this[MS(0x695)][MS(0x552)]['y']},this[MS(0x617)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x617)][Ms(0x6d7)][Ms(0x4ba)]=!![],this[Ms(0x617)][Ms(0x6d7)][Ms(0x10d)]['x']=Me[Ms(0x3d0)]['x'],this[Ms(0x617)][Ms(0x6d7)][Ms(0x10d)]['y']=Me[Ms(0x3d0)]['y'];},this),Me[MS(0x3d0)][MS(0x114)](()=>{var Ms=MS;this[Ms(0xa5d)][Ms(0x31f)][Ms(0x304)](Me[Ms(0x3d0)][Ms(0x6d2)]['x'],Me[Ms(0x3d0)][Ms(0x6d2)]['y']),Me[Ms(0x126)][Ms(0xa3f)][Me[Ms(0x126)][Ms(0xa3f)][Ms(0x16a)]-0x1]!==this[Ms(0xa5d)]&&Me[Ms(0x126)][Ms(0x4a2)](this[Ms(0xa5d)]);if(this[Ms(0x617)][Ms(0x6d7)][Ms(0x4ba)]){this[Ms(0x617)][Ms(0x6d7)][Ms(0x4ba)]=Me[Ms(0x3d0)][Ms(0x6d2)][Ms(0xbf6)],this[Ms(0x617)][Ms(0x6d7)]['y']+=this[Ms(0x617)][Ms(0x6d7)][Ms(0x10d)]['y']-Me[Ms(0x3d0)]['y'];if(this[Ms(0x617)][Ms(0x6d7)]['y']>=this[Ms(0x617)][Ms(0x6d7)][Ms(0x483)])this[Ms(0x617)][Ms(0x6d7)]['y']=this[Ms(0x617)][Ms(0x6d7)][Ms(0x483)];else this[Ms(0x617)][Ms(0x6d7)]['y']<=0x0&&(this[Ms(0x617)][Ms(0x6d7)]['y']=0x0);this[Ms(0x695)]['y']=-this[Ms(0x617)][Ms(0x6d7)]['y'],this[Ms(0x617)][Ms(0x6d7)][Ms(0x10d)]['x']=Me[Ms(0x3d0)]['x'],this[Ms(0x617)][Ms(0x6d7)][Ms(0x10d)]['y']=Me[Ms(0x3d0)]['y'];}}),DZ&&(ER[MS(0x5fa)](this[MS(0xa5d)]),Me[MS(0x5e2)][MS(0x228)][MS(0xa8a)]=''),(this[MS(0x617)][MS(0xa9f)][MS(0x19b)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x617)][Ms(0x6d7)][Ms(0x4ba)]=![];},this),this[MS(0x96e)][MS(0xb20)](M6[MS(0x234)]()[MS(0x2c4)]),this[MS(0xa47)][MS(0x983)]=!![],this[MS(0xa47)][MS(0x374)]=!![],this[MS(0x7ca)][MS(0xc20)]=0x1f40,this[MS(0x7ca)][MS(0x83a)]=null,this[MS(0x7ca)][MS(0x120)]=(Ms=![],My=this[MS(0x7ca)][MS(0xc20)])=>{var Mq=MS;Me[Mq(0x126)][Mq(0x4a2)](this[Mq(0x7ca)]),E6[Mq(0x3f4)](Mq(0x576)),clearTimeout(this[Mq(0x7ca)][Mq(0x83a)]),this[Mq(0xa47)][Mq(0x35c)]=!![],this[Mq(0xa47)][Mq(0x3ab)]=Me[Mq(0x950)][Mq(0x3ab)],this[Mq(0xa47)][Mq(0x4ca)]=Me[Mq(0x950)][Mq(0x4ca)],this[Mq(0xa47)]['x']=Me[Mq(0x3ab)]*0.5,this[Mq(0xa47)]['y']=Me[Mq(0x4ca)]*0.5,this[Mq(0xc23)]['x']=this[Mq(0xa47)]['x'],this[Mq(0xc23)]['y']=this[Mq(0xa47)]['y'],this[Mq(0x6a4)]&&this[Mq(0x6a4)][Mq(0x6ba)]&&(this[Mq(0x6a4)][Mq(0x6ba)][Mq(0x228)][Mq(0x9ab)]=Mq(0x438)),Ms&&My>=0x0&&(this[Mq(0x7ca)][Mq(0x83a)]=setTimeout(()=>{var Mx=Mq;this[Mx(0x7ca)][Mx(0x9f1)]();},My)),this[Mq(0x7ca)][Mq(0x152)]=!![];},this[MS(0x7ca)][MS(0x9f1)]=()=>{var Ms=MS;E6[Ms(0x3f4)](Ms(0x521)),clearTimeout(this[Ms(0x7ca)][Ms(0x83a)]),this[Ms(0xa47)][Ms(0x35c)]=![],this[Ms(0x7ca)][Ms(0x152)]=![];},EE[MS(0x935)]=this[MS(0x7ca)],Me[MS(0x126)][MS(0x4a2)](this[MS(0x7ca)]),EE[MS(0x935)][MS(0x120)](0x1),no=!![],nu[MS(0x353)](MS(0x3cb),{'user_id':M6[MS(0x234)]()[MS(0x605)]},Ms=>{var My=MS;EE[My(0x935)][My(0x9f1)](),Ms&&!Ms[My(0xbfd)]&&(Ms[My(0xd25)](Mq=>{var Mx=My;M6[Mx(0xbb8)][Mx(0x10a)][Mx(0x526)](EE[Mx(0xe5)][Mx(0x2c8)](EE[Mx(0x5e6)][Mq[Mx(0x6b1)]]));}),M6[My(0x602)]({'cuesOrg':Ms}),M6[My(0x234)]()[My(0x10a)]&&M6[My(0x234)]()[My(0x10a)][My(0xd25)](Mq=>{var Mx=My;EE[Mx(0x944)][Mx(0x526)](EE[Mx(0xe5)][Mq]);}));}),Lt(Me,{'cache':!![],'card':this[MS(0xd2a)],'name':MS(0xcd2)+M6[MS(0x234)]()[MS(0x605)],'url':M6[MS(0x234)]()[MS(0x410)]},Ms=>{var My=MS;if(Ms[My(0x3dc)])Ms[My(0x227)][My(0x266)]&&(Ms[My(0x227)][My(0x266)][My(0x1fb)](Ms[My(0x227)][My(0x7e1)]),Ms[My(0x227)][My(0x266)][My(0xa33)]=this[My(0xbc8)],Ms[My(0x227)][My(0x266)][My(0x552)][My(0x304)](0x1),Ms[My(0x227)][My(0x266)][My(0x3ab)]=0x82,Ms[My(0x227)][My(0x266)][My(0x4ca)]=0x82);else Ms[My(0x227)][My(0x266)]&&(Ms[My(0x227)][My(0x266)][My(0x1fb)](My(0xc82),My(0xd2a)),Ms[My(0x227)][My(0x266)][My(0x552)][My(0x304)](1.0751745907074532));}));var Mv=new Date(),Mg=Ms=>{var My=MS;LN({'timeDate':nG()[My(0x470)](),'totalTime':nT-nG(),'updateInterval':parseFloat(My(0xa69)),'onUpdate':(Mq,Mx,MZ)=>{var Mf=My;if(this[Mf(0x1fd)])this[Mf(0x1fd)][Mf(0xb20)](MZ);},'onComplete':(Mq,Mx,MZ)=>{var Mf=My;if(this[Mf(0x1fd)])this[Mf(0x1fd)][Mf(0xb20)](Mf(0x749));setTimeout(()=>{Ms=nG()+(nT-nG()),Mg(Ms);},0x1388);}});};setTimeout(()=>{var Ms=MS;Mg(Mv);if(Number(M6[Ms(0x234)]()[Ms(0x72d)])>=0x0)MB(M6[Ms(0x234)]()[Ms(0x72d)]);},0x7d0);let MJ=null;var MB=Ms=>{var My=MS;let Mq=Ms-nG()[My(0x470)]();LN({'totalTime':Mq>=0xbb8?Mq:0xbb8,'updateInterval':parseFloat(My(0xa69)),'onComplete':()=>{var Mx=My;if(this[Mx(0xb01)])this[Mx(0xb01)][Mx(0xb20)](Mx(0xc12));setTimeout(()=>{var MZ=Mx;no=!![],nu[MZ(0x353)](MZ(0xaec),{'user_id':M6[MZ(0x234)]()[MZ(0x605)],'timeBonus':Ms},Mf=>{var MN=MZ;try{Mf=Dv(Mf);if(Mf&&Mf[MN(0x72d)]){M6[MN(0xbb8)][MN(0x72d)]=Mf[MN(0x72d)];if(Mf[MN(0x4e5)]){this[MN(0x846)](this[MN(0x262)],0x0,this[MN(0x262)][MN(0x753)]+Mf[MN(0x4e5)],0x320);if(this[MN(0xb01)])this[MN(0xb01)][MN(0xb20)](MN(0x592));clearTimeout(MJ);}}else{}}catch(MG){}clearTimeout(MJ),MJ=setTimeout(()=>{var MF=MN;MB(M6[MF(0x234)]()[MF(0x72d)]);},0x1388);}),clearTimeout(MJ),MJ=setTimeout(()=>{var Mf=MZ;MB(M6[Mf(0x234)]()[Mf(0x72d)]);},0x3a98);},0xbb8);},'onUpdate':(Mx,MZ)=>{var Mf=My;if(this[Mf(0xb01)])this[Mf(0xb01)][Mf(0xb20)](Mf(0xc71)+Mx);}});};this[MS(0x604)]=()=>{var Ms=MS;this[Ms(0xaab)][Ms(0x1bc)]=Ms(0x3b7),this[Ms(0x324)][Ms(0x1bc)]=Ms(0x3b7),this[Ms(0x242)][Ms(0x1bc)]=Ms(0x3b7),this[Ms(0x3e2)]=0x0;},this[MS(0x397)]=(Ms=MS(0x78a),My=0x0)=>{var Mq=MS;for(let MG=0x0;MG<this[Mq(0x60f)][Mq(0xa3f)][Mq(0x16a)];MG++){if(this[Mq(0x60f)][Mq(0xa3f)][MG])this[Mq(0x60f)][Mq(0xa3f)][MG][Mq(0x187)]();}this[Mq(0x60f)][Mq(0xa3f)]=[],this[Mq(0x413)][Mq(0x152)]=![],this[Mq(0x90c)][Mq(0x152)]=![];if(!M6[Mq(0x25f)])return;if(!M6[Mq(0x25f)][Ms])return;if(!M6[Mq(0x25f)][Ms][My]||!M6[Mq(0x25f)][Ms][My][Mq(0x16a)])return;var Mx=0x0;M6[Mq(0x25f)][Ms][My][Mq(0x16a)]>=0x5&&(this[Mq(0x413)][Mq(0x152)]=!![]),M6[Mq(0x25f)][Ms][My-0x1]&&M6[Mq(0x25f)][Ms][My-0x1][Mq(0x16a)]&&(this[Mq(0x90c)][Mq(0x152)]=!![]);for(let MF=0x0;MF<M6[Mq(0x25f)][Ms][My][Mq(0x16a)];MF++){let Mi=M6[Mq(0x25f)][Ms][My][MF];const Mr=Me[Mq(0xb51)][Mq(0xb9c)]();Mr['x']=Mx,Mr[Mq(0x552)][Mq(0x304)](0.8613186787842909);const Mt=Me[Mq(0xb51)][Mq(0xa6e)](0x35,0x0,Mq(0xc82),Mq(0x995));Mt[Mq(0xc25)][Mq(0x304)](0.5),Mt[Mq(0x552)][Mq(0x304)](0.9243628235009962),Mr[Mq(0x6a8)](Mt);const MC=Me[Mq(0xb51)][Mq(0xa6e)](0x34,-0x1b,Mq(0xc82),Mq(0xd2a));MC[Mq(0xc25)][Mq(0x304)](0.5),MC[Mq(0x552)][Mq(0x304)](1.5557406939800273),Lt(Me,{'cache':!![],'card':MC,'name':Mq(0x9cb)+String(Mi[Mq(0x605)]),'url':Mi[Mq(0x410)]},MO=>{var Mu=Mq;MO[Mu(0x3dc)]&&(MO[Mu(0x227)][Mu(0x266)]&&(MO[Mu(0x227)][Mu(0x266)][Mu(0x1fb)](MO[Mu(0x227)][Mu(0x7e1)]),MO[Mu(0x227)][Mu(0x266)][Mu(0x552)][Mu(0x304)](1.9010853635777774),MO[Mu(0x227)][Mu(0x266)][Mu(0x3ab)]=0x73*1.66,MO[Mu(0x227)][Mu(0x266)][Mu(0x4ca)]=0x73*1.6));}),Mr[Mq(0x6a8)](MC);const MT=Me[Mq(0xb51)][Mq(0xa6e)](0x4,0x67,Mq(0xc82),Mq(0x599));MT[Mq(0xc25)][Mq(0x304)](0.5),Mr[Mq(0x6a8)](MT);const Mz=Me[Mq(0xb51)][Mq(0x2da)](0x1f,0x67,LL(Mi[Mq(0x303)],0x1));Mz[Mq(0x67b)]({'font':Mq(0xac2),'fontStyle':Mq(0x285),'fontSize':Mq(0xb64),'fill':Mq(0xa42),'strokeThickness':0x4,'stroke':Mq(0x3e3)}),Mz[Mq(0xc25)][Mq(0x304)](0x0,0.5),Mr[Mq(0x6a8)](Mz);const Mh=Me[Mq(0xb51)][Mq(0x2da)](0x36,-0x8a,My*0x5+MF+0x1+'.'+(M6[Mq(0x234)]()[Mq(0x605)]===Mi[Mq(0x605)]?Mq(0xc18):Mi[Mq(0x2c4)]));Mh[Mq(0x67b)]({'font':Mq(0xac2),'fontStyle':Mq(0x285),'fontSize':Mq(0x8c7),'fill':Mq(0xa42),'wordWrapWidth':0xc6,'wordWrap':!![],'maxLines':0x1,'stroke':Mq(0xa42)}),Mh[Mq(0xc25)][Mq(0x304)](0.5),Mr[Mq(0x6a8)](Mh);const Mm=Me[Mq(0xb51)][Mq(0xa6e)](-0x19,-0x66,Mq(0xc82),Mq(0x129));Mm[Mq(0xc25)][Mq(0x304)](0.5),Mm[Mq(0x552)][Mq(0x304)](0.6379203384594854),Mr[Mq(0x6a8)](Mm);var MZ=0x0,Mf=EE[Mq(0xc4d)][Mq(0xc86)](MO=>MO[Mq(0x212)]>=0x1&&MO[Mq(0x630)]>=Math[Mq(0x6c2)](0x3d090,Mi[Mq(0x9cd)]+0x1));Mf&&Mf[Mq(0x16a)]&&(MZ=Mf[0x0][Mq(0x212)]);const Mc=Me[Mq(0xb51)][Mq(0x2da)](-0x1b,-0x66,MZ);Mc[Mq(0x67b)]({'font':Mq(0xac2),'fontStyle':Mq(0x285),'fontSize':Mq(0x141),'fill':Mq(0x2f5)}),Mc[Mq(0xc25)][Mq(0x304)](0.5),Mr[Mq(0x6a8)](Mc);const Mj=Me[Mq(0xb51)][Mq(0xa6e)](0x82,-0x64,Mq(0x334),Mq(0x812));Mj[Mq(0x152)]=![],Mj[Mq(0xc25)][Mq(0x304)](0.5),Mj[Mq(0x552)][Mq(0x304)](0.22415083302423616),Mr[Mq(0x6a8)](Mj),this[Mq(0x60f)][Mq(0x6a8)](Mr),Mx+=0xb4;}return;for(let MO=0x0;MO<M6[Mq(0x25f)][Ms][My][Mq(0x16a)];MO++){var MN=M6[Mq(0x25f)][Ms][My][MO];const Mu=this[Mq(0xb51)][Mq(0xa36)](Mx,0x0);Mu[Mq(0x40d)]=0.8613186787842909,Mu[Mq(0x97e)]=0.8613186787842909,this[Mq(0x60f)][Mq(0xb51)](Mu);const MU=this[Mq(0xb51)][Mq(0xa6e)](0x35,0x0,Mq(0xc82),Mq(0x995));MU[Mq(0x40d)]=0.9243628235009962,MU[Mq(0x97e)]=0.9243628235009962,Mu[Mq(0xb51)](MU);const MY=this[Mq(0xb51)][Mq(0xa6e)](0x34,-0x1b,Mq(0xc82),Mq(0xd2a));MY[Mq(0x40d)]=1.5557406939800273,MY[Mq(0x97e)]=1.5557406939800273,Mu[Mq(0xb51)](MY),lazzyLoading(this,{'card':MY,'name':Mq(0xcd2)+MN[Mq(0x605)],'url':MN[Mq(0x410)]},Ma=>{var MK=Mq;Ma[MK(0x3dc)]&&(Ma[MK(0x266)][MK(0x799)](Ma[MK(0x7e1)]),Ma[MK(0x266)][MK(0x9e8)](1.9010853635777774),Ma[MK(0x266)][MK(0xcbb)]=0x73*1.66,Ma[MK(0x266)][MK(0x57f)]=0x73*1.6);});const MI=this[Mq(0xb51)][Mq(0xa6e)](0x4,0x67,Mq(0xc82),Mq(0x599));Mu[Mq(0xb51)](MI);const Md=this[Mq(0xb51)][Mq(0x2da)](0x1f,0x67,'',{});Md[Mq(0x94d)](0x0,0.5),Md[Mq(0x2da)]=LL(MN[Mq(0x303)],0x1),Md[Mq(0x67b)]({'color':Mq(0xa42),'fontFamily':Mq(0xac2),'fontSize':Mq(0xb64),'fontStyle':Mq(0x285),'stroke':Mq(0x3e3),'strokeThickness':0x4}),Mu[Mq(0xb51)](Md);const MA=this[Mq(0xb51)][Mq(0x2da)](0x36,-0x8a,'',{});MA[Mq(0x94d)](0.5,0.5),MA[Mq(0x2da)]=My*0x5+MO+0x1+'.'+(M6[Mq(0x234)]()[Mq(0x605)]===MN[Mq(0x605)]?Mq(0xc18):MN[Mq(0x2c4)]),MA[Mq(0x67b)]({'color':Mq(0xa42),'fontFamily':Mq(0xac2),'fontSize':Mq(0x8c7),'fontStyle':Mq(0x285),'maxLines':0x1,'stroke':Mq(0xa42)}),MA[Mq(0xa79)](0xc6,!![]),Mu[Mq(0xb51)](MA);const Mo=this[Mq(0xb51)][Mq(0xa6e)](-0x19,-0x66,Mq(0xc82),Mq(0x129));Mo[Mq(0x40d)]=0.6379203384594854,Mo[Mq(0x97e)]=0.6379203384594854,Mu[Mq(0xb51)](Mo);var MZ=0x0,Mf=this[Mq(0xc4d)][Mq(0xc86)](Ma=>Ma[Mq(0x212)]>=0x1&&Ma[Mq(0x630)]>=Math[Mq(0x6c2)](0x3d090,MN[Mq(0x9cd)]+0x1));Mf&&Mf[Mq(0x16a)]&&(MZ=Mf[0x0][Mq(0x212)]);const MX=this[Mq(0xb51)][Mq(0x2da)](-0x1b,-0x66,'',{});MX[Mq(0x94d)](0.5,0.5),MX[Mq(0x2da)]=MZ,MX[Mq(0x67b)]({'color':Mq(0x2f5),'fontFamily':Mq(0xac2),'fontSize':Mq(0x141),'fontStyle':Mq(0x285)}),Mu[Mq(0xb51)](MX);const MQ=this[Mq(0xb51)][Mq(0xa6e)](0x82,-0x64,Mq(0x334),Mq(0x812));MQ[Mq(0x40d)]=0.22415083302423616,MQ[Mq(0x97e)]=0.22415083302423616,MQ[Mq(0x152)]=![],Mu[Mq(0xb51)](MQ),this[Mq(0x60f)][Mq(0xb51)](Mu),Mx+=0xb4;}},this[MS(0x604)](),this[MS(0xaab)][MS(0x983)]=!![],this[MS(0xaab)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x3a5)]=Ms(0x1c4),this[Ms(0x604)](),this[Ms(0xaab)][Ms(0x1bc)]=Ms(0x153),EE[Ms(0x935)][Ms(0x120)](),no=!![],nu[Ms(0x353)](Ms(0x397),{'user_id':M6[Ms(0x234)]()[Ms(0x605)],'sort':this[Ms(0x3a5)],'offset':0x5*this[Ms(0x3e2)]},My=>{var Mq=Ms;if(My&&!My[Mq(0xbfd)])M6[Mq(0x25f)][this[Mq(0x3a5)]][this[Mq(0x3e2)]]=My;else{}this[Mq(0x397)](this[Mq(0x3a5)],this[Mq(0x3e2)]),EE[Mq(0x935)][Mq(0x9f1)]();});}),this[MS(0x324)][MS(0x983)]=!![],this[MS(0x324)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x3a5)]=Ms(0xc6b),this[Ms(0x604)](),this[Ms(0x324)][Ms(0x1bc)]=Ms(0x153),EE[Ms(0x935)][Ms(0x120)](),no=!![],nu[Ms(0x353)](Ms(0x397),{'user_id':M6[Ms(0x234)]()[Ms(0x605)],'sort':this[Ms(0x3a5)],'offset':0x5*this[Ms(0x3e2)]},My=>{var Mq=Ms;if(My&&!My[Mq(0xbfd)])M6[Mq(0x25f)][this[Mq(0x3a5)]][this[Mq(0x3e2)]]=My;else{}this[Mq(0x397)](this[Mq(0x3a5)],this[Mq(0x3e2)]),EE[Mq(0x935)][Mq(0x9f1)]();});}),this[MS(0x242)][MS(0x983)]=!![],this[MS(0x242)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS;this[Ms(0x3a5)]=Ms(0x78a),this[Ms(0x604)](),this[Ms(0x242)][Ms(0x1bc)]=Ms(0x153),EE[Ms(0x935)][Ms(0x120)](),no=!![],nu[Ms(0x353)](Ms(0x397),{'user_id':M6[Ms(0x234)]()[Ms(0x605)],'sort':this[Ms(0x3a5)],'offset':0x5*this[Ms(0x3e2)]},My=>{var Mq=Ms;if(My&&!My[Mq(0xbfd)])M6[Mq(0x25f)][this[Mq(0x3a5)]][this[Mq(0x3e2)]]=My;else{}this[Mq(0x397)](this[Mq(0x3a5)],this[Mq(0x3e2)]),EE[Mq(0x935)][Mq(0x9f1)]();});}),this[MS(0x242)][MS(0xa9f)][MS(0x79f)](),this[MS(0x4f3)][MS(0x983)]=!![],this[MS(0x4f3)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS,My=this[Ms(0x3e2)];if(this[Ms(0x3e2)]<=0x0)return;this[Ms(0x3e2)]--,this[Ms(0x3e2)]<=0x0&&(this[Ms(0x3e2)]=0x0),EE[Ms(0x935)][Ms(0x120)](),no=!![],nu[Ms(0x353)](Ms(0x397),{'user_id':M6[Ms(0x234)]()[Ms(0x605)],'sort':this[Ms(0x3a5)],'offset':0x5*this[Ms(0x3e2)]},Mq=>{var Mx=Ms;Mq&&!Mq[Mx(0xbfd)]?(M6[Mx(0x25f)][this[Mx(0x3a5)]][this[Mx(0x3e2)]]=Mq,this[Mx(0x397)](this[Mx(0x3a5)],this[Mx(0x3e2)])):this[Mx(0x3e2)]=My,EE[Mx(0x935)][Mx(0x9f1)]();});}),this[MS(0x18e)][MS(0x983)]=!![],this[MS(0x18e)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Ms=MS,My=this[Ms(0x3e2)];if(this[Ms(0x3a5)]===Ms(0x78a)&&this[Ms(0x3e2)]>=0xc8||this[Ms(0x3a5)]!==Ms(0x78a)&&this[Ms(0x3e2)]>=0x14)return;this[Ms(0x3e2)]++;if(this[Ms(0x3a5)]===Ms(0x78a)&&this[Ms(0x3e2)]>=0xc8||this[Ms(0x3a5)]!==Ms(0x78a)&&this[Ms(0x3e2)]>=0x14){this[Ms(0x3e2)]=0x14;if(this[Ms(0x3a5)]==Ms(0x78a))this[Ms(0x3e2)]=0xc8;}EE[Ms(0x935)][Ms(0x120)](),no=!![],nu[Ms(0x353)](Ms(0x397),{'user_id':M6[Ms(0x234)]()[Ms(0x605)],'sort':this[Ms(0x3a5)],'offset':0x5*this[Ms(0x3e2)]},Mq=>{var Mx=Ms;Mq&&!Mq[Mx(0xbfd)]?(M6[Mx(0x25f)][this[Mx(0x3a5)]][this[Mx(0x3e2)]]=Mq,this[Mx(0x397)](this[Mx(0x3a5)],this[Mx(0x3e2)])):this[Mx(0x3e2)]=My,EE[Mx(0x935)][Mx(0x9f1)]();});}),this[MS(0x4c9)][MS(0x152)]=![],(M6[MS(0x234)]()[MS(0x20f)]===0x1||M6[MS(0x234)]()[MS(0x20f)]===0x2)&&(this[MS(0x4c9)][MS(0x152)]=!![],this[MS(0x4c9)][MS(0x1fb)](MS(0xa14),M6[MS(0x234)]()[MS(0x20f)]===0x1?MS(0x805):MS(0xb5c)));},RE[n2(0xa3a)][n2(0x61b)]=function(MS=!![]){var MW=n2;let Mv=0x0;this[MW(0x3fc)][MW(0x187)](),this[MW(0x3fc)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x3fc)]['y']=0x50,this[MW(0x3fc)]['x']=-0x5a,this[MW(0xc05)][MW(0x6a8)](this[MW(0x3fc)]);for(let Mg=0x0;Mg<this[MW(0x532)][MW(0x59b)];Mg++){const MJ=Me[MW(0xb51)][MW(0x267)]();MJ[MW(0x983)]=!![],MJ[MW(0x6eb)]=Mg+0x1,MJ[MW(0xa9f)][MW(0xd10)][MW(0xb51)](()=>{var MB=MW;if(this[MB(0x89a)]||this[MB(0x532)][MB(0x8ae)]===Mg+0x1)return;this[MB(0x532)][MB(0x8ae)]=Mg+0x1,this[MB(0x61b)]();}),MJ[MW(0x31f)][MW(0x304)](-0x122+Mv,0x136),MJ[MW(0x19e)](0xffffff,0.5);if(this[MW(0x532)][MW(0x8ae)]==Mg+0x1)MJ[MW(0x19e)](0xffffff,0x1);MJ[MW(0x173)](0x0,0x0,0xc*1.5),MJ[MW(0x366)](),Mv+=0x48,this[MW(0x3fc)][MW(0x6a8)](MJ);}if(MS)this[MW(0x886)](this[MW(0x532)][MW(0x8ae)]-0x1,0x0,0x12c);ER[MW(0x892)](this[MW(0x3fc)],!![]),this[MW(0x89a)]=![];},RE[n2(0xa3a)][n2(0x846)]=function(MS,MW=0x0,Mv=0x0,Mg=0x258){var MJ=n2;MS[MJ(0x753)]=Mv;if(MS[MJ(0xfb)]&&MS[MJ(0xfb)][MJ(0xaee)]){MS[MJ(0xfb)][MJ(0xbe1)][MJ(0x632)]=Mv;return;}var MB=Me[MJ(0xb51)][MJ(0x2b1)]({'value':MW})['to']({'value':Mv},Mg,Phaser[MJ(0x19c)][MJ(0xb78)][MJ(0x793)],!![]);return MB[MJ(0xafa)][MJ(0x663)](function(){var Ms=MJ;MS[Ms(0xb20)](LL(MW,0x1));}),MB[MJ(0x873)](function(Ms,My){var Mq=MJ;MS[Mq(0xba0)]=MB[Mq(0xbe1)][Mq(0x632)]*(Math[Mq(0x996)](My*0x64)/0x64),MS[Mq(0xba0)]=Math[Mq(0x665)](MS[Mq(0xba0)]),MS[Mq(0xb20)](LL(MS[Mq(0xba0)],0x1));}),MB[MJ(0xabe)][MJ(0x663)](function(Ms,My){var Mq=MJ;MS[Mq(0xb20)](LL(MS[Mq(0x753)],0x1));}),MS[MJ(0xfb)]=MB,MS[MJ(0xfb)];},RE[n2(0xa3a)][n2(0x79d)]=function(){},RE[n2(0xa3a)][n2(0x9ef)]=function(){var MS=n2;this[MS(0x60b)](),ER[MS(0x5bf)](this[MS(0x695)],!![],0xdc,0x1,this);},RE[n2(0xa3a)][n2(0x60b)]=function(){var MS=n2;ER[MS(0x918)](this[MS(0x695)],![]),this[MS(0xaf9)]=![],this[MS(0xcbe)](this[MS(0x91b)]);},RE[n2(0xa3a)][n2(0x866)]=function(){var MS=n2;ER[MS(0x918)](this[MS(0x695)],!![]),this[MS(0x695)][MS(0x152)]=!![],this[MS(0x846)](this[MS(0x262)],0x0,M6[MS(0x234)]()[MS(0x4e5)],0x5dc),this[MS(0x846)](this[MS(0xa32)],0x0,M6[MS(0x234)]()[MS(0x14e)],0x5dc),this[MS(0x846)](this[MS(0xcb6)],0x0,M6[MS(0x234)]()[MS(0x303)],0x5dc),this[MS(0x846)](this[MS(0x6e6)],0x0,M6[MS(0x234)]()[MS(0x212)],0x5dc),this[MS(0x27d)]();},RE[n2(0xa3a)][n2(0x88c)]=function(MS){var MW=n2;this[MW(0x89d)](MS),ER[MW(0x21e)](this[MW(0x695)],!![],0x96,0x1,this);},RE[n2(0xa3a)][n2(0x89d)]=function(MS){var MW=n2;ER[MW(0x918)](this[MW(0x695)],![]),this[MW(0x695)][MW(0x4a4)]=MS;},RE[n2(0xa3a)][n2(0xad4)]=function(){var MS=n2;this[MS(0x695)][MS(0x152)]=![];},RE[n2(0xa3a)][n2(0x667)]=function(){var MS=n2,MW=L9(Me[MS(0x3ab)]/0x2);this[MS(0xb36)][MS(0x3ab)]=Me[MS(0x3ab)],this[MS(0xb36)][MS(0x4ca)]=Me[MS(0x4ca)],this[MS(0x852)]['x']=Me[MS(0x3ab)]*0.5,this[MS(0x852)]['y']=Me[MS(0x4ca)]*0.98,!DZ&&(ER[MS(0x182)][MS(0xbe7)]['x']=Me[MS(0x3ab)]*0.22,ER[MS(0x182)][MS(0xbe7)]['y']=Me[MS(0x4ca)]*0.5),this[MS(0x27d)](),!DZ&&ER[MS(0x182)][MS(0xa98)][MS(0x552)][MS(0x304)](0.66);},RE[n2(0xa3a)][n2(0xcbe)]=function(MS){var MW=n2;if(MS!=!![]){if(this[MW(0x695)][MW(0x152)]===![]){this[MW(0x91b)]=!![];return;}}this[MW(0x91b)]=![];},RE[n2(0xa3a)][n2(0xc89)]=function(){var MS=n2;this[MS(0x6b5)]={'dragTime':0x514,'grp':this[MS(0x61a)],'minScrollX':Me[MS(0x3ab)]/0x2,'maxScrollX':-this[MS(0x61a)][MS(0x82c)]+Me[MS(0x3ab)]/0x2},this[MS(0x6b5)][MS(0x514)][MS(0x6b2)]=0x0,ER[MS(0x892)](this[MS(0x61a)],!![]),this[MS(0x61a)][MS(0x38c)][MS(0xb51)](function(){var MW=MS;return;if(!this[MW(0x695)][MW(0x152)])return;if(!this[MW(0x695)][MW(0x26d)])return;if(this[MW(0xaf9)]===!![]){this[MW(0x6b5)][MW(0xcca)]=![];return;}this[MW(0x61a)][MW(0xc6c)]&&(this[MW(0x61a)][MW(0xc6c)][MW(0x256)](),this[MW(0x61a)][MW(0xc6c)]=null),this[MW(0x6b5)][MW(0x151)]=-this[MW(0x61a)][MW(0x82c)]+Me[MW(0x3ab)]/0x2,this[MW(0x6b5)][MW(0x514)][MW(0x6b2)]=0x0,Me[MW(0x3d0)]['x']>0x0&&Me[MW(0x3d0)]['x']<Me[MW(0x3ab)]&&!this[MW(0x6b5)][MW(0xcca)]&&(this[MW(0x6b5)][MW(0x450)]&&(this[MW(0x6b5)][MW(0x450)][MW(0x256)](),this[MW(0x6b5)][MW(0x450)]=null),this[MW(0x6b5)][MW(0x4fe)]=0x0,this[MW(0x6b5)][MW(0x790)]=0x0,this[MW(0x6b5)][MW(0x1a5)]=0x0,this[MW(0x6b5)][MW(0x71e)]=Me[MW(0x3d0)]['x'],this[MW(0x6b5)][MW(0x895)]=Me[MW(0x3d0)]['x'],this[MW(0x6b5)][MW(0x5f1)]=![],this[MW(0x6b5)][MW(0xcca)]=!![]),this[MW(0xa9c)]=![];},this),Me[MS(0x3d0)][MS(0xb2e)][MS(0xb51)](function(){var MW=MS;return;this[MW(0x6b5)][MW(0x1ba)]=Math[MW(0x836)](this[MW(0x6b5)][MW(0x895)]-Me[MW(0x3d0)]['x']),this[MW(0xaf9)]===!![]&&(this[MW(0xaf9)]=![]);if(!this[MW(0x695)][MW(0x152)])return;if(!this[MW(0x695)][MW(0x26d)])return;if(this[MW(0x6b5)][MW(0xcca)]){this[MW(0x6b5)][MW(0xcca)]=![],!this[MW(0x6b5)][MW(0x5f1)]?this[MW(0x6b5)][MW(0x1a5)]=0x0:(this[MW(0x6b5)][MW(0x1a5)]=this[MW(0x6b5)][MW(0x4fe)]/this[MW(0x6b5)][MW(0x790)],Me[MW(0x387)][MW(0xabb)]?this[MW(0x6b5)][MW(0x1a5)]*=0x6:this[MW(0x6b5)][MW(0x1a5)]*=0x3,this[MW(0x6b5)][MW(0x1a5)]=this[MW(0x98b)](this[MW(0x6b5)][MW(0x514)]['x']+this[MW(0x6b5)][MW(0x1a5)]));if(Math[MW(0x836)](this[MW(0x6b5)][MW(0x1a5)])!==0x0){var Mv={'a':this[MW(0x6b5)][MW(0x514)]['x']};this[MW(0x6b5)][MW(0x450)]=Me[MW(0xb51)][MW(0x2b1)](Mv)['to']({'a':this[MW(0x6b5)][MW(0x1a5)]},this[MW(0x6b5)][MW(0x743)],Phaser[MW(0x19c)][MW(0x73f)][MW(0x28c)],!![]),this[MW(0x6b5)][MW(0x450)][MW(0x873)](function(Mg,MJ,MB){var Ms=MW;this[Ms(0x715)](null,Mv['a']);},this),this[MW(0x6b5)][MW(0x450)][MW(0xabe)][MW(0x663)](function(){var Mg=MW;this[Mg(0x715)](null,this[Mg(0x6b5)][Mg(0x1a5)]);},this);}else this[MW(0xc54)]();this[MW(0x6b5)][MW(0x450)]==null&&this[MW(0x715)](0x0);}this[MW(0x6b5)][MW(0x514)]['x']>=this[MW(0x6b5)][MW(0x2c1)]&&Me[MW(0xb51)][MW(0x2b1)](this[MW(0x6b5)][MW(0x514)])['to']({'x':this[MW(0x6b5)][MW(0x2c1)]},0x96,Phaser[MW(0x19c)][MW(0x370)][MW(0x28c)],!![]),this[MW(0x6b5)][MW(0x514)]['x']<=this[MW(0x6b5)][MW(0x151)]&&Me[MW(0xb51)][MW(0x2b1)](this[MW(0x6b5)][MW(0x514)])['to']({'x':this[MW(0x6b5)][MW(0x151)]},0x96,Phaser[MW(0x19c)][MW(0x370)][MW(0x28c)],!![]);},this),Me[MS(0x3d0)][MS(0x114)](function(){var MW=MS;return;if(!this[MW(0x695)][MW(0x152)])return;if(!this[MW(0x695)][MW(0x26d)])return;if(this[MW(0xaf9)]===!![]){this[MW(0x6b5)][MW(0xcca)]=![];return;}Math[MW(0x836)](this[MW(0x6b5)][MW(0x895)]-Me[MW(0x3d0)]['x'])>0xf&&(this[MW(0xa9c)]=!![]);if(this[MW(0x6b5)][MW(0xcca)]){var Mv=Me[MW(0x3d0)]['x']-this[MW(0x6b5)][MW(0x71e)];this[MW(0x6b5)][MW(0x71e)]=Me[MW(0x3d0)]['x'],this[MW(0x6b5)][MW(0x1a5)]=Mv,this[MW(0x6b5)][MW(0x4fe)]+=Mv,this[MW(0x6b5)][MW(0x790)]++,Math[MW(0x836)](Mv)>0x5?this[MW(0x6b5)][MW(0x5f1)]=!![]:this[MW(0x6b5)][MW(0x4fe)]/=0x2,this[MW(0x715)](Mv,null,!![]);}},this);},RE[n2(0xa3a)][n2(0x715)]=function(MS,MW,Mv){var Mg=n2,MJ=this[Mg(0x6b5)][Mg(0x514)];MS!=null&&(MJ['x']+=MS),MW!=null&&(MJ['x']=MW),MJ['x']=L9(MJ['x']),Mv?MJ['x']<=this[Mg(0x6b5)][Mg(0x151)]&&MS<0x0?(MJ[Mg(0x6b2)]-=MS,MJ['x']=this[Mg(0x6b5)][Mg(0x151)]-L9(MJ[Mg(0x6b2)]/0x3)):MJ['x']>=this[Mg(0x6b5)][Mg(0x2c1)]&&MS>0x0?(MJ[Mg(0x6b2)]+=MS,MJ['x']=this[Mg(0x6b5)][Mg(0x2c1)]+L9(MJ[Mg(0x6b2)]/0x3)):MJ[Mg(0x6b2)]=0x0:MJ['x']<=this[Mg(0x6b5)][Mg(0x151)]?(MJ['x']=this[Mg(0x6b5)][Mg(0x151)],this[Mg(0xb18)]=0x0):MJ['x']>=this[Mg(0x6b5)][Mg(0x2c1)]?(MJ['x']=this[Mg(0x6b5)][Mg(0x2c1)],this[Mg(0xb18)]=0x0):MJ[Mg(0x6b2)]=0x0;var MB=Math[Mg(0x996)]((Me[Mg(0x3ab)]/0x2-MJ['x'])/this[Mg(0x61a)][Mg(0x2df)]);MB!==this[Mg(0x343)]&&(this[Mg(0x343)]=MB,this[Mg(0xd11)](MB));},RE[n2(0xa3a)][n2(0xc54)]=function(){var MS=n2;this[MS(0x86e)]=Date[MS(0xb21)]();var MW=this[MS(0x98b)](this[MS(0x61a)]['x']);Me[MS(0xb51)][MS(0x2b1)](this[MS(0x61a)])['to']({'x':MW},0x64,Phaser[MS(0x19c)][MS(0x707)][MS(0x28c)],!![]);},RE[n2(0xa3a)][n2(0x98b)]=function(MS){var MW=n2,Mv=Math[MW(0x996)]((Me[MW(0x3ab)]/0x2-MS)/this[MW(0x61a)][MW(0x2df)]);return Mv<0x0&&(Mv=0x0),Mv>0x31&&(Mv=0x31),this[MW(0x61a)][MW(0xd2d)]=Mv,Me[MW(0x3ab)]/0x2-Mv*this[MW(0x61a)][MW(0x2df)];},RE[n2(0xa3a)][n2(0x971)]=function(){var MS=n2;this[MS(0x545)]&&this[MS(0x545)][MS(0x212)]&&(this[MS(0x545)][MS(0xb3e)]===0x0&&M6[MS(0x234)]()[MS(0x4e5)]>=this[MS(0x545)][MS(0x630)]||M6[MS(0x234)]()[MS(0x303)]>=this[MS(0x545)][MS(0xb3e)]&&M6[MS(0x234)]()[MS(0x4e5)]>=this[MS(0x545)][MS(0x630)]?(this[MS(0x7e9)]=!![],this[MS(0x8c1)][MS(0x2de)]=0xffffff,this[MS(0xb3f)][MS(0x2de)]=0xffffff,this[MS(0x7bf)][MS(0x2de)]=0xffffff):(this[MS(0x7e9)]=![],this[MS(0x8c1)][MS(0x2de)]=0x777777,this[MS(0xb3f)][MS(0x2de)]=0x777777,this[MS(0x7bf)][MS(0x2de)]=0x777777));},RE[n2(0xa3a)][n2(0xd11)]=function(MS){var MW=n2,Mv=0xf4240,Mg=0xf4240;if(0x1+MS<=EE[MW(0xc4d)][MW(0x16a)]&&MS>=0x0){if(ER[MW(0x19a)][MW(0x695)][MW(0x152)]===!![]||ER[MW(0xb1c)][MW(0x695)][MW(0x152)]===!![])return;this[MW(0x545)]=EE[MW(0xc4d)][MS],EE[MW(0x545)]=this[MW(0x545)],this[MW(0x2c7)]=EE[MW(0xc4d)][MS+0x1],this[MW(0x532)][MW(0x8ae)]=MS+0x1,this[MW(0x532)][MW(0x1fb)](MW(0x12a),this[MW(0x545)][MW(0x7ce)][MW(0x10b)](MW(0x774),'')+MW(0x732)),this[MW(0x371)][MW(0xb20)](this[MW(0x545)][MW(0x212)]),this[MW(0x467)][MW(0xb20)](LL(this[MW(0x545)][MW(0x630)],0x1)),this[MW(0x61b)](![]);var MJ=MW(0x907)+this[MW(0x545)][MW(0x7ce)][MW(0x10b)](MW(0x774),'');this[MW(0x971)]();try{Me[MW(0x7f1)][MW(0xa8f)][MW(0x74c)]()[MW(0x6ae)](function(){var MZ=MW;E6[MZ(0x6bd)](MJ);});}catch(MZ){}}else return![];var MB,Ms=-this[MW(0x61a)][MW(0xa3f)][0x0][MW(0x3ab)],My=Me[MW(0x3ab)]+this[MW(0x61a)][MW(0xa3f)][0x0][MW(0x3ab)],Mq;for(var Mx=0x0;Mx<this[MW(0x61a)][MW(0xa3f)][MW(0x16a)];Mx++){Mq=this[MW(0x61a)]['x']+this[MW(0x61a)][MW(0xa3f)][Mx]['x'],Mq<Ms?this[MW(0x61a)][MW(0xa3f)][Mx][MW(0x152)]=![]:Mq>My?this[MW(0x61a)][MW(0xa3f)][Mx][MW(0x152)]=![]:(this[MW(0x61a)][MW(0xa3f)][Mx][MW(0x152)]=!![],MB=Math[MW(0x836)](Mx-MS),this[MW(0x171)](Mx,MB>0x1?0x2:MB));}E6[MW(0x916)](!![]);},RE[n2(0xa3a)][n2(0x171)]=function(MS,MW){var Mv=n2;if(MS[Mv(0xbc7)]!==MW){MS[Mv(0xbc7)]=MW,this[Mv(0x86e)]=Date[Mv(0xb21)](),Ln(this[Mv(0x61a)][Mv(0xa3f)][MS]);var Mg=Me[Mv(0xb51)][Mv(0x2b1)](this[Mv(0x61a)][Mv(0xa3f)][MS])['to']({'y':this[Mv(0x436)][MW]['y'],'scl':this[Mv(0x436)][MW][Mv(0x552)],'sclX':this[Mv(0x436)][MW][Mv(0x40d)],'sclY':this[Mv(0x436)][MW][Mv(0x97e)]},0xc8,Phaser[Mv(0x19c)][Mv(0x707)][Mv(0x28c)],!![]);Mg[Mv(0xabe)][Mv(0x663)](()=>{var MJ=Mv;this[MJ(0x86e)]=Date[MJ(0xb21)]();});}},RE[n2(0xa3a)][n2(0x148)]=function(MS){var MW=n2;this[MW(0x61a)][MW(0xd2d)]=MS,DZ&&(this[MW(0x61a)]['x']=Me[MW(0x3ab)]/0x2-this[MW(0x61a)][MW(0xd2d)]*this[MW(0x61a)][MW(0x2df)]);},(RE[n2(0xa3a)][n2(0x85a)]=function(MS){var MW=n2;if(this[MW(0xa9c)]===!![]||Date[MW(0xb21)]()-this[MW(0x86e)]<=parseFloat(MW(0xa69)))return;return;E6[MW(0x3f4)](MW(0xdf));if(MS[MW(0x92e)]===this[MW(0x61a)][MW(0xd2d)])this[MW(0x959)]();else{this[MW(0x61a)][MW(0xd2d)]=MS[MW(0x92e)];var Mv=Me[MW(0x3ab)]/0x2-MS[MW(0x92e)]*this[MW(0x61a)][MW(0x2df)],Mg={'a':this[MW(0x6b5)][MW(0x514)]['x']},MJ=Me[MW(0xb51)][MW(0x2b1)](Mg)['to']({'a':Mv},0x1f4,Phaser[MW(0x19c)][MW(0x73f)][MW(0x28c)],!![]);MJ[MW(0x873)](function(MB,Ms,My){var Mq=MW;this[Mq(0x715)](null,Mg['a']);},this),MJ[MW(0xabe)][MW(0x663)](function(){var MB=MW;this[MB(0x715)](null,Mv);},this);}},RE[n2(0xa3a)][n2(0x886)]=function(MS,MW=0x0,Mv=0x3e8){var Mg=n2;this[Mg(0x61a)][Mg(0xd2d)]=MS;var MJ=Me[Mg(0x3ab)]/0x2-this[Mg(0x61a)][Mg(0xd2d)]*this[Mg(0x61a)][Mg(0x2df)],MB={'a':this[Mg(0x61a)]['x']};this[Mg(0x6b5)][Mg(0x450)]=Me[Mg(0xb51)][Mg(0x2b1)](MB)['to']({'a':MJ},Mv,Phaser[Mg(0x19c)][Mg(0x147)][Mg(0x28c)],!![],MW),this[Mg(0x6b5)][Mg(0x450)][Mg(0x873)](function(Ms,My,Mq){var Mx=Mg;this[Mx(0x715)](null,MB['a']);},this),this[Mg(0x6b5)][Mg(0x450)][Mg(0xabe)][Mg(0x663)](function(){var Ms=Mg;this[Ms(0x715)](null,MJ);},this);}),RE[n2(0xa3a)][n2(0x27d)]=function(){var MS=n2;this[MS(0x4c9)]['x']=this[MS(0x96e)]['x']+this[MS(0x96e)][MS(0x3ab)]+0xf,this[MS(0x6b5)][MS(0x2c1)]=Me[MS(0x3ab)]/0x2,DZ&&(this[MS(0x61a)]['x']=Me[MS(0x3ab)]/0x2-this[MS(0x61a)][MS(0xd2d)]*this[MS(0x61a)][MS(0x2df)]),this[MS(0xd11)](this[MS(0x343)]),this[MS(0x617)][MS(0x6d7)][MS(0x483)]=0x172*this[MS(0x695)][MS(0x552)]['y'],this[MS(0x971)]();};function RR(){var MS=n2;this[MS(0x695)]=null,this[MS(0x76b)]=MS(0x820);}RR[n2(0xa3a)][n2(0x26a)]=function(){},RR[n2(0xa3a)][n2(0x8a5)]=function(){},RR[n2(0xa3a)][n2(0x5ed)]=function(MS=!![]){var MW=n2;if(MS===!![])Rb='',EY[MW(0x820)][MW(0x9f2)][MW(0xd25)](Mv=>{M2(Mv);}),Rb=Rb[MW(0x711)](';',MW(0x477)),eval(Rb),console[MW(0x738)](new Function(Rb));else{const Mv=Me[MW(0xb51)][MW(0xb9c)]();Mv[MW(0x7e1)]=MW(0x820),this[MW(0x695)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x695)][MW(0x7e1)]=MW(0x820),this[MW(0x742)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0x742)][MW(0x19e)](0x30303,0x1),this[MW(0x742)][MW(0x298)](0x0,0x0,0x500,0x438),this[MW(0x742)][MW(0x366)](),this[MW(0x742)][MW(0x2a0)]=0.5,this[MW(0x695)][MW(0x6a8)](this[MW(0x742)]),this[MW(0xa36)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xa36)]['x']=0xfe,this[MW(0xa36)]['y']=0x154,this[MW(0xa77)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0xa77)]['x']=0x19a,this[MW(0xa77)]['y']=0xd0,this[MW(0xa77)][MW(0x19e)](0xffffff,0x1),this[MW(0xa77)][MW(0x298)](0x0,0x0,0x80,0x80),this[MW(0xa77)][MW(0x366)](),this[MW(0xa77)][MW(0x2a0)]=0.00001,this[MW(0xa77)][MW(0x3d9)](0.5),this[MW(0xa77)][MW(0x552)][MW(0x304)](6.412466710676821,3.1467412457498467),this[MW(0xa36)][MW(0x6a8)](this[MW(0xa77)]);const Mg=Me[MW(0xb51)][MW(0xa6e)](0x196,0xca,MW(0xc82),MW(0xcfb));Mg[MW(0xc25)][MW(0x304)](0.5),this[MW(0xa36)][MW(0x6a8)](Mg);const MJ=Me[MW(0xb51)][MW(0x2da)](0x4a,0x82,MW(0x474));MJ[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa94),'fill':MW(0xa42)}),MJ[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xa36)][MW(0x6a8)](MJ);const MB=Me[MW(0xb51)][MW(0x2da)](0x47,0xdf,MW(0x71b));MB[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa94),'fill':MW(0xa42)}),MB[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xa36)][MW(0x6a8)](MB);const Ms=Me[MW(0xb51)][MW(0x2da)](0x46,0x136,MW(0xb25));Ms[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa94),'fill':MW(0xa42)}),Ms[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xa36)][MW(0x6a8)](Ms);const My=Me[MW(0xb51)][MW(0x2da)](0x191,0x1c,MW(0x196));My[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa94),'fill':MW(0x529)}),My[MW(0xc25)][MW(0x304)](0.5),this[MW(0xa36)][MW(0x6a8)](My),this[MW(0x43d)]=Me[MW(0xb51)][MW(0xa6e)](0x2c7,0x81,MW(0xc82),MW(0x43d)),this[MW(0x43d)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x43d)][MW(0x552)][MW(0x304)](1.2258123837691428),this[MW(0xa36)][MW(0x6a8)](this[MW(0x43d)]),this[MW(0x9db)]=Me[MW(0xb51)][MW(0xa6e)](0x2c6,0xdb,MW(0xc82),MW(0x6fa)),this[MW(0x9db)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x9db)][MW(0x552)][MW(0x304)](1.0842130726479011),this[MW(0xa36)][MW(0x6a8)](this[MW(0x9db)]),this[MW(0x20e)]=Me[MW(0xb51)][MW(0xa6e)](0x2c7,0x135,MW(0xc82),MW(0x763)),this[MW(0x20e)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x20e)][MW(0x552)][MW(0x304)](1.0950751087471442),this[MW(0xa36)][MW(0x6a8)](this[MW(0x20e)]),this[MW(0x14b)]=Me[MW(0xb51)][MW(0x2da)](0x2a6,0x7f,'ON'),this[MW(0x14b)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0xbc3)}),this[MW(0x14b)][MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0xa36)][MW(0x6a8)](this[MW(0x14b)]),this[MW(0xa68)]=Me[MW(0xb51)][MW(0x2da)](0x2a6,0xdd,'ON'),this[MW(0xa68)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0xbc3)}),this[MW(0xa68)][MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0xa36)][MW(0x6a8)](this[MW(0xa68)]),this[MW(0x1da)]=Me[MW(0xb51)][MW(0x2da)](0x2a6,0x132,'ON'),this[MW(0x1da)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0xbc3)}),this[MW(0x1da)][MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0xa36)][MW(0x6a8)](this[MW(0x1da)]),this[MW(0x695)][MW(0x6a8)](this[MW(0xa36)]),Mv[MW(0x6a8)](this[MW(0x695)]);}},RR[n2(0xa3a)][n2(0xabd)]=function(){var MS=n2;this[MS(0x5ed)](Dy),this[MS(0x136)]=function(MW,Mv){var Mg=MS;MW[Mg(0x35c)]!==![]&&MW[Mg(0x35c)]!==!![]&&(MW[Mg(0x35c)]=!![]);if(MW&&MW[Mg(0x35c)])MW[Mg(0x35c)]=!!![],MW[Mg(0x1fb)](Mg(0xc82),Mv[0x1]);else MW&&!MW[Mg(0x35c)]&&(MW[Mg(0x1fb)](Mg(0xc82),Mv[0x0]),MW[Mg(0x35c)]=!![]);},this[MS(0x742)][MS(0x983)]=!![],this[MS(0xa77)][MS(0x983)]=!![],this[MS(0x742)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf)),ER[MW(0x54d)](this);}),this[MS(0x43d)][MS(0x983)]=!![],Dq&&(E6[MS(0xcfd)]?(this[MS(0x43d)][MS(0x35c)]=!!![],this[MS(0x14b)][MS(0xb20)]('ON'),this[MS(0x14b)][MS(0x1bc)]=MS(0xbc3)):(this[MS(0x43d)][MS(0x35c)]=!![],this[MS(0x14b)][MS(0xb20)](MS(0x612)),this[MS(0x14b)][MS(0x1bc)]=MS(0x679)),this[MS(0x136)](this[MS(0x43d)],[MS(0x43d),MS(0x39f)])),Dq&&(E6[MS(0x22f)]?(this[MS(0x9db)][MS(0x35c)]=!!![],this[MS(0xa68)][MS(0xb20)]('ON'),this[MS(0xa68)][MS(0x1bc)]=MS(0xbc3)):(this[MS(0x9db)][MS(0x35c)]=!![],this[MS(0xa68)][MS(0xb20)](MS(0x612)),this[MS(0xa68)][MS(0x1bc)]=MS(0x679)),this[MS(0x136)](this[MS(0x9db)],[MS(0x6fa),MS(0x72b)])),this[MS(0x43d)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf)),E6[MW(0xcb9)](),Dq&&(this[MW(0x136)](this[MW(0x43d)],[MW(0x43d),MW(0x39f)]),E6[MW(0xcfd)]?(this[MW(0x14b)][MW(0xb20)]('ON'),this[MW(0x14b)][MW(0x1bc)]=MW(0xbc3)):(this[MW(0x14b)][MW(0xb20)](MW(0x612)),this[MW(0x14b)][MW(0x1bc)]=MW(0x679)));if(this[MW(0x43d)][MW(0x35c)]){}else{}Ds();}),this[MS(0x9db)][MS(0x983)]=!![],this[MS(0x9db)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf)),E6[MW(0x65f)](),Dq&&(this[MW(0x136)](this[MW(0x9db)],[MW(0x6fa),MW(0x72b)]),E6[MW(0x22f)]?(this[MW(0xa68)][MW(0xb20)]('ON'),this[MW(0xa68)][MW(0x1bc)]=MW(0xbc3)):(this[MW(0xa68)][MW(0xb20)](MW(0x612)),this[MW(0xa68)][MW(0x1bc)]=MW(0x679))),Ds();}),this[MS(0x20e)][MS(0x983)]=!![],Dc?(this[MS(0x20e)][MS(0x35c)]=![],this[MS(0x1da)][MS(0xb20)]('ON'),this[MS(0x1da)][MS(0x1bc)]=MS(0xbc3)):(this[MS(0x20e)][MS(0x35c)]=!![],this[MS(0x1da)][MS(0xb20)](MS(0x612)),this[MS(0x1da)][MS(0x1bc)]=MS(0x679)),this[MS(0x136)](this[MS(0x20e)],[MS(0x763),MS(0x80f)]),this[MS(0x20e)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf)),this[MW(0x136)](this[MW(0x20e)],[MW(0x763),MW(0x80f)]);if(this[MW(0x20e)][MW(0x35c)])this[MW(0x1da)][MW(0xb20)]('ON'),this[MW(0x1da)][MW(0x1bc)]=MW(0xbc3),Di=0x1,Dc=!![];else{this[MW(0x1da)][MW(0xb20)](MW(0x612)),this[MW(0x1da)][MW(0x1bc)]=MW(0x679),Di=0x2;if(M6&&M6[MW(0xbb8)]&&M6[MW(0xbb8)][MW(0x20f)]==0x1){}Dc=![];}Ds();});},RR[n2(0xa3a)][n2(0x9ef)]=function(){var MS=n2;this[MS(0x60b)](),ER[MS(0x5bf)](this[MS(0x695)],!![],0xdc,0x1,this);},RR[n2(0xa3a)][n2(0x60b)]=function(){var MS=n2;ER[MS(0x918)](this[MS(0x695)],![]),this[MS(0xaf9)]=![],this[MS(0xcbe)](this[MS(0x91b)]),E6[MS(0x3f4)](MS(0x576));},RR[n2(0xa3a)][n2(0x866)]=function(){var MS=n2;ER[MS(0x918)](this[MS(0x695)],!![]);},RR[n2(0xa3a)][n2(0x88c)]=function(MS){var MW=n2;this[MW(0x89d)](MS),ER[MW(0x21e)](this[MW(0x695)],!![],0x96,0x1,this);},RR[n2(0xa3a)][n2(0x89d)]=function(MS){var MW=n2;ER[MW(0x918)](this[MW(0x695)],![]),this[MW(0x695)][MW(0x4a4)]=MS,E6[MW(0x3f4)](MW(0x521));},RR[n2(0xa3a)][n2(0xad4)]=function(){var MS=n2;this[MS(0x695)][MS(0x152)]=![];},RR[n2(0xa3a)][n2(0x667)]=function(){var MS=n2,MW=L9(Me[MS(0x3ab)]/0x2);this[MS(0xa36)]['x']=Me[MS(0x3ab)]*0.5-this[MS(0xa36)][MS(0x3ab)]*0.5,189.60213051668347,this[MS(0xa36)]['y']=Me[MS(0x4ca)]*0.5-this[MS(0xa36)][MS(0x4ca)]*0.5,this[MS(0x742)][MS(0x3ab)]=Me[MS(0x3ab)],this[MS(0x742)][MS(0x4ca)]=Me[MS(0x4ca)];if(!DZ){}},RR[n2(0xa3a)][n2(0xcbe)]=function(){};function RM(){var MS=n2;this[MS(0x695)]=null,this[MS(0x76b)]=MS(0x3eb);}RM[n2(0xa3a)][n2(0x26a)]=function(){},RM[n2(0xa3a)][n2(0x8a5)]=function(){},RM[n2(0xa3a)][n2(0x5ed)]=function(MS=!![]){var MW=n2;if(MS===!![])Rb='',EY[MW(0x3eb)][MW(0x9f2)][MW(0xd25)](Mv=>{M2(Mv);}),Rb=Rb[MW(0x711)](';',MW(0x477)),eval(Rb),console[MW(0x738)](new Function(Rb));else{const Mv=Me[MW(0xb51)][MW(0xb9c)]();Mv['x']=0x286,Mv['y']=0x187,this[MW(0x695)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x695)][MW(0x7e1)]=MW(0x19a),this[MW(0x641)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x641)]['x']=-0x223,this[MW(0x641)]['y']=-0x12f,this[MW(0x108)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x108)]['x']=0x223,this[MW(0x108)]['y']=0x17d;const Mg=Me[MW(0xb51)][MW(0xb9c)]();Mg['x']=-0x164,Mg['y']=-0xa1,this[MW(0xb08)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xb08)]['x']=0x175,this[MW(0xb08)]['y']=0xae;const MJ=Me[MW(0xb51)][MW(0x267)]();MJ['x']=0x2,MJ['y']=0x1,MJ[MW(0x19e)](0x0,0x1),MJ[MW(0x298)](0x0,0x0,0xaa,0x78),MJ[MW(0x366)](),MJ[MW(0x2a0)]=0.7,MJ[MW(0x3d9)](0.5),this[MW(0xb08)][MW(0x6a8)](MJ),this[MW(0xd16)]=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,'vs'),this[MW(0xd16)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c1),'fill':MW(0x4a8)}),this[MW(0xd16)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb08)][MW(0x6a8)](this[MW(0xd16)]),this[MW(0x496)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x496)]['x']=-0x1a,this[MW(0x496)]['y']=-0x23;const MB=Me[MW(0xb51)][MW(0xa6e)](0x0,0x1,MW(0xc82),MW(0x599));MB[MW(0xc25)][MW(0x304)](0.5),MB[MW(0x552)][MW(0x304)](0.6816841002444557),this[MW(0x496)][MW(0x6a8)](MB),this[MW(0x9d0)]=Me[MW(0xb51)][MW(0x2da)](0x14,0x0,MW(0x429)),this[MW(0x9d0)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0xbe9),'strokeThickness':0x4,'stroke':MW(0xa42)}),this[MW(0x9d0)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x496)][MW(0x6a8)](this[MW(0x9d0)]),this[MW(0xb08)][MW(0x6a8)](this[MW(0x496)]),this[MW(0xafb)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xafb)]['x']=-0x1c,this[MW(0xafb)]['y']=0x21,this[MW(0xd23)]=Me[MW(0xb51)][MW(0x2da)](0x14,0x0,MW(0x166)),this[MW(0xd23)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0xc93),'strokeThickness':0x4,'stroke':MW(0xa42)}),this[MW(0xd23)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xafb)][MW(0x6a8)](this[MW(0xd23)]);const Ms=Me[MW(0xb51)][MW(0xa6e)](0x0,0x1,MW(0xc82),MW(0xd0c));Ms[MW(0xc25)][MW(0x304)](0.5),Ms[MW(0x552)][MW(0x304)](0.4925042036795592),this[MW(0xafb)][MW(0x6a8)](Ms),this[MW(0xb08)][MW(0x6a8)](this[MW(0xafb)]),Mg[MW(0x6a8)](this[MW(0xb08)]),this[MW(0xb85)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x78b)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x78b)]['x']=0x80,this[MW(0x78b)]['y']=0x95;const My=Me[MW(0xb51)][MW(0x267)]();My['y']=0x17,My[MW(0x19e)](0x0,0x1),My[MW(0x298)](0x0,0x0,0xfa,0x15e),My[MW(0x366)](),My[MW(0x2a0)]=0.7,My[MW(0x3d9)](0.5),this[MW(0x78b)][MW(0x6a8)](My),this[MW(0xce4)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0xce4)]['y']=0x70,this[MW(0xce4)][MW(0x19e)](0x212121,0x1),this[MW(0xce4)][MW(0x298)](0x0,0x0,0xfa,0x28),this[MW(0xce4)][MW(0x366)](),this[MW(0xce4)][MW(0x3d9)](0.5),this[MW(0x78b)][MW(0x6a8)](this[MW(0xce4)]),this[MW(0xd39)]=Me[MW(0xb51)][MW(0x2da)](0x2,0x70,MW(0x30c)),this[MW(0xd39)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x8c7),'fill':MW(0x39c)}),this[MW(0xd39)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x78b)][MW(0x6a8)](this[MW(0xd39)]),this[MW(0x9e0)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x9e0)]['x']=-0x2b,this[MW(0x9e0)]['y']=0xa2;const Mq=Me[MW(0xb51)][MW(0xa6e)](0x0,0x1,MW(0xc82),MW(0xd0c));Mq[MW(0xc25)][MW(0x304)](0.5),Mq[MW(0x552)][MW(0x304)](0.4925042036795592),this[MW(0x9e0)][MW(0x6a8)](Mq),this[MW(0x2d9)]=Me[MW(0xb51)][MW(0x2da)](0x14,0x0,MW(0x429)),this[MW(0x2d9)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0xc93),'strokeThickness':0x4,'stroke':MW(0xa42)}),this[MW(0x2d9)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x9e0)][MW(0x6a8)](this[MW(0x2d9)]),this[MW(0x78b)][MW(0x6a8)](this[MW(0x9e0)]),this[MW(0xf7)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xf7)]['y']=-0x1f,this[MW(0x5ac)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0xd2a)),this[MW(0x5ac)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ac)][MW(0x552)][MW(0x304)](1.9010853635777774),this[MW(0xf7)][MW(0x6a8)](this[MW(0x5ac)]),this[MW(0x62b)]=Me[MW(0xb51)][MW(0xa6e)](0x57,-0x59,MW(0x334),MW(0x6fd)),this[MW(0x62b)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x62b)][MW(0x552)][MW(0x304)](0.293240973090759),this[MW(0xf7)][MW(0x6a8)](this[MW(0x62b)]);const Mx=Me[MW(0xb51)][MW(0xa6e)](-0x62,-0x58,MW(0xc82),MW(0x129));Mx[MW(0xc25)][MW(0x304)](0.5),Mx[MW(0x552)][MW(0x304)](0.6162658620719572),this[MW(0xf7)][MW(0x6a8)](Mx),this[MW(0x942)]=Me[MW(0xb51)][MW(0x2da)](-0x64,-0x58,MW(0x323)),this[MW(0x942)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x141),'fill':MW(0xae5)}),this[MW(0x942)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xf7)][MW(0x6a8)](this[MW(0x942)]),this[MW(0x78b)][MW(0x6a8)](this[MW(0xf7)]),this[MW(0x65d)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x65d)]['x']=-0x16,this[MW(0x65d)]['y']=-0xb7,this[MW(0x65d)][MW(0x152)]=![];const MZ=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xc92));MZ[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c),'strokeThickness':0x2,'stroke':MW(0x9c6)}),MZ[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x65d)][MW(0x6a8)](MZ);const Mf=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x599));Mf[MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0x65d)][MW(0x6a8)](Mf);const MN=Me[MW(0xb51)][MW(0x267)]();MN[MW(0x19e)](0xffffff,0x1),MN[MW(0x298)](0x0,0x0,0x80,0x80),MN[MW(0x366)](),MN[MW(0x152)]=![],MN[MW(0x3d9)](0.5),MN[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0x65d)][MW(0x6a8)](MN),this[MW(0x78b)][MW(0x6a8)](this[MW(0x65d)]),this[MW(0xb85)][MW(0x6a8)](this[MW(0x78b)]),this[MW(0xcda)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xcda)]['x']=0x26d,this[MW(0xcda)]['y']=0x95;const MG=Me[MW(0xb51)][MW(0x267)]();MG['y']=0x17,MG[MW(0x19e)](0x0,0x1),MG[MW(0x298)](0x0,0x0,0xfa,0x15e),MG[MW(0x366)](),MG[MW(0x2a0)]=0.7,MG[MW(0x3d9)](0.5),this[MW(0xcda)][MW(0x6a8)](MG);const MF=Me[MW(0xb51)][MW(0x267)]();MF['y']=0x70,MF[MW(0x19e)](0x212121,0x1),MF[MW(0x298)](0x0,0x0,0xfa,0x28),MF[MW(0x366)](),MF[MW(0x3d9)](0.5),this[MW(0xcda)][MW(0x6a8)](MF),this[MW(0x3b4)]=Me[MW(0xb51)][MW(0x2da)](0x2,0x70,MW(0x30c)),this[MW(0x3b4)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x8c7),'fill':MW(0x39c)}),this[MW(0x3b4)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xcda)][MW(0x6a8)](this[MW(0x3b4)]),this[MW(0x3f9)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x3f9)]['y']=-0x20,this[MW(0x64c)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0xd2a)),this[MW(0x64c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x64c)][MW(0x552)][MW(0x304)](1.9010853635777774),this[MW(0x3f9)][MW(0x6a8)](this[MW(0x64c)]);const Mi=Me[MW(0xb51)][MW(0xa6e)](-0x60,-0x5a,MW(0xc82),MW(0x129));Mi[MW(0xc25)][MW(0x304)](0.5),Mi[MW(0x552)][MW(0x304)](0.6162658620719572),this[MW(0x3f9)][MW(0x6a8)](Mi),this[MW(0x63c)]=Me[MW(0xb51)][MW(0x2da)](-0x62,-0x5a,MW(0x323)),this[MW(0x63c)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x141),'fill':MW(0xae5)}),this[MW(0x63c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x3f9)][MW(0x6a8)](this[MW(0x63c)]),this[MW(0x48d)]=Me[MW(0xb51)][MW(0xa6e)](0x59,-0x5b,MW(0x334),MW(0x6fd)),this[MW(0x48d)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x48d)][MW(0x552)][MW(0x304)](0.293240973090759),this[MW(0x3f9)][MW(0x6a8)](this[MW(0x48d)]),this[MW(0xcda)][MW(0x6a8)](this[MW(0x3f9)]),this[MW(0xbae)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xbae)]['x']=-0x23,this[MW(0xbae)]['y']=0xa3;const Mr=Me[MW(0xb51)][MW(0xa6e)](0x0,0x1,MW(0xc82),MW(0xd0c));Mr[MW(0xc25)][MW(0x304)](0.5),Mr[MW(0x552)][MW(0x304)](0.4925042036795592),this[MW(0xbae)][MW(0x6a8)](Mr),this[MW(0x789)]=Me[MW(0xb51)][MW(0x2da)](0x14,0x0,MW(0x429)),this[MW(0x789)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0xc93),'strokeThickness':0x4,'stroke':MW(0xa42)}),this[MW(0x789)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xbae)][MW(0x6a8)](this[MW(0x789)]),this[MW(0xcda)][MW(0x6a8)](this[MW(0xbae)]),this[MW(0x6e7)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x6e7)]['x']=-0x1b,this[MW(0x6e7)]['y']=-0xb9,this[MW(0x6e7)][MW(0x152)]=![];const Mt=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xc92));Mt[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c),'strokeThickness':0x2,'stroke':MW(0x9c6)}),Mt[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x6e7)][MW(0x6a8)](Mt);const MC=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x599));MC[MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0x6e7)][MW(0x6a8)](MC);const MT=Me[MW(0xb51)][MW(0x267)]();MT[MW(0x19e)](0xffffff,0x1),MT[MW(0x298)](0x0,0x0,0x80,0x80),MT[MW(0x366)](),MT[MW(0x152)]=![],MT[MW(0x3d9)](0.5),MT[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0x6e7)][MW(0x6a8)](MT),this[MW(0xcda)][MW(0x6a8)](this[MW(0x6e7)]),this[MW(0xb85)][MW(0x6a8)](this[MW(0xcda)]),Mg[MW(0x6a8)](this[MW(0xb85)]),this[MW(0x879)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x879)]['x']=0x16a,this[MW(0x879)]['y']=0x1b4,this[MW(0xc6e)]=Me[MW(0xb51)][MW(0x2da)](0x4,0x0,MW(0x431)),this[MW(0xc6e)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c)}),this[MW(0xc6e)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x879)][MW(0x6a8)](this[MW(0xc6e)]),this[MW(0xa97)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xa97)]['y']=0x47,this[MW(0xb95)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x1,MW(0xc82),MW(0x65a)),this[MW(0xb95)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb95)][MW(0x552)][MW(0x304)](2.3356710329795454),this[MW(0xa97)][MW(0x6a8)](this[MW(0xb95)]);const Mz=Me[MW(0xb51)][MW(0x2da)](0x3,0x0,MW(0x4e6));Mz[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c)}),Mz[MW(0xc25)][MW(0x304)](0.5),this[MW(0xa97)][MW(0x6a8)](Mz),this[MW(0x879)][MW(0x6a8)](this[MW(0xa97)]),Mg[MW(0x6a8)](this[MW(0x879)]),this[MW(0x108)][MW(0x6a8)](Mg),this[MW(0x641)][MW(0x6a8)](this[MW(0x108)]),this[MW(0x6a7)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x641)][MW(0x6a8)](this[MW(0x6a7)]),this[MW(0x695)][MW(0x6a8)](this[MW(0x641)]),Mv[MW(0x6a8)](this[MW(0x695)]);}},RM[n2(0xa3a)][n2(0xabd)]=function(){var MS=n2;this[MS(0x5ed)](Dy),ER[MS(0x892)](this[MS(0xa97)],!![]),this[MS(0xa97)][MS(0x5db)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf));let Mv=()=>{var Mg=MW;clearTimeout(this[Mg(0xb5a)]),clearTimeout(this[Mg(0x75d)]),El=![],R0=JSON[Mg(0x689)](El),EE[Mg(0x61f)]=![],this[Mg(0x879)][Mg(0x152)]=!![],this[Mg(0x9e0)][Mg(0x152)]=![],this[Mg(0xbae)][Mg(0x152)]=![],this[Mg(0xafb)][Mg(0x152)]=![],this[Mg(0x3b4)][Mg(0x152)]=![],this[Mg(0x3f9)][Mg(0x152)]=![],this[Mg(0xd16)][Mg(0x152)]=![],this[Mg(0x496)][Mg(0x152)]=![],this[Mg(0xa97)][Mg(0x152)]=!![];};clearTimeout(this[MW(0xb5a)]),this[MW(0xb5a)]=null,EE[MW(0xae7)]||El&&El[MW(0x734)]?(this[MW(0xa97)][MW(0x152)]=![],El&&(EE[MW(0x935)][MW(0x120)](0x1),no=!![],nu[MW(0x353)](MW(0x380),{'user_id':M6[MW(0x234)]()[MW(0x605)],'levelID':EE[MW(0x545)][MW(0x7ce)],'match_id':El[MW(0x4d7)],'modeID':El[MW(0x96d)]},async Mg=>{var MJ=MW;EE[MJ(0x935)][MJ(0x9f1)]();try{Mg=Dv(Mg),console[MJ(0x738)](MJ(0x380),Mg);if(Mg&&Mg[MJ(0x546)])Mv(),ER[MJ(0x54d)](this);else{}}catch(MB){console[MJ(0x738)](MJ(0x380),MB);}clearTimeout(this[MJ(0xb5a)]),clearTimeout(this[MJ(0x75d)]);}))):(clearTimeout(this[MW(0xb5a)]),clearTimeout(this[MW(0x75d)]),Mv()),this[MW(0xa97)][MW(0x552)][MW(0x304)](0x1);}),this[MS(0xa97)][MS(0x6d9)][MS(0xb51)](()=>{var MW=MS;this[MW(0xa97)][MW(0x552)][MW(0x304)](1.04);}),this[MS(0xa97)][MS(0x105)][MS(0xb51)](()=>{var MW=MS;this[MW(0xa97)][MW(0x552)][MW(0x304)](0x1);}),this[MS(0xd39)][MS(0xb20)](M6[MS(0x234)]()[MS(0x2c4)]);},RM[n2(0xa3a)][n2(0xcc2)]=function(MS,MW=0x249f0){var Mv=n2;this[Mv(0xa97)][Mv(0x152)]=![],this[Mv(0x9e0)]['x']=this[Mv(0x9e0)][Mv(0x3d3)],this[Mv(0x9e0)]['y']=this[Mv(0x9e0)][Mv(0x2d5)],this[Mv(0xbae)]['x']=this[Mv(0xbae)][Mv(0x3d3)],this[Mv(0xbae)]['y']=this[Mv(0xbae)][Mv(0x2d5)],this[Mv(0x9d0)][Mv(0xb20)](LL(MW,0x1)),this[Mv(0xd23)][Mv(0xb20)](LL(MW*0x2,0x1)),this[Mv(0x2d9)][Mv(0xb20)](LL(MW*0x2,0x1)),this[Mv(0x789)][Mv(0xb20)](LL(MW*0x2,0x1)),this[Mv(0x3b4)][Mv(0x152)]=!![],this[Mv(0x3f9)][Mv(0x152)]=!![],this[Mv(0x9e0)][Mv(0x152)]=![],this[Mv(0xbae)][Mv(0x152)]=![];if(MS===0x0){this[Mv(0xafb)][Mv(0x152)]=!![],this[Mv(0xd16)][Mv(0x152)]=!![],this[Mv(0x496)][Mv(0x152)]=!![],this[Mv(0x9e0)][Mv(0x152)]=!![],this[Mv(0x65d)][Mv(0x152)]=!![];if(this[Mv(0x9e0)][Mv(0xf0)]){if(this[Mv(0x9e0)][Mv(0xf0)][Mv(0x256)])this[Mv(0x9e0)][Mv(0xf0)][Mv(0x256)]();}this[Mv(0x9e0)][Mv(0xf0)]=Me[Mv(0xb51)][Mv(0x2b1)](this[Mv(0x9e0)])['to']({'x':this[Mv(0x9e0)][Mv(0x583)],'y':this[Mv(0x9e0)][Mv(0xaa4)]},parseFloat(Mv(0xa69)),Phaser[Mv(0x19c)][Mv(0xb78)][Mv(0x793)],!![],parseFloat(Mv(0x569))),this[Mv(0x9e0)][Mv(0xf0)][Mv(0xabe)][Mv(0xb51)](()=>{setTimeout(()=>{var Mg=Lw;this[Mg(0x879)][Mg(0x152)]=!![],this[Mg(0x9e0)][Mg(0x152)]=![],this[Mg(0xbae)][Mg(0x152)]=![],this[Mg(0xafb)][Mg(0x152)]=![],this[Mg(0x3b4)][Mg(0x152)]=![],this[Mg(0x3f9)][Mg(0x152)]=![],this[Mg(0xd16)][Mg(0x152)]=![],this[Mg(0x496)][Mg(0x152)]=![],this[Mg(0xa97)][Mg(0x152)]=!![],ER[Mg(0x54d)](this),ER[Mg(0x182)][Mg(0x730)]();},0x12c);});}else{if(MS===0x1){this[Mv(0xafb)][Mv(0x152)]=!![],this[Mv(0xd16)][Mv(0x152)]=!![],this[Mv(0x496)][Mv(0x152)]=!![],this[Mv(0xbae)][Mv(0x152)]=!![],this[Mv(0x6e7)][Mv(0x152)]=!![];if(this[Mv(0xbae)][Mv(0xf0)]){if(this[Mv(0xbae)][Mv(0xf0)][Mv(0x256)])this[Mv(0xbae)][Mv(0xf0)][Mv(0x256)]();}this[Mv(0xbae)][Mv(0xf0)]=Me[Mv(0xb51)][Mv(0x2b1)](this[Mv(0xbae)])['to']({'x':this[Mv(0xbae)][Mv(0x583)],'y':this[Mv(0xbae)][Mv(0xaa4)]},parseFloat(Mv(0xa69)),Phaser[Mv(0x19c)][Mv(0xb78)][Mv(0x793)],!![],parseFloat(Mv(0x569))),this[Mv(0xbae)][Mv(0xf0)][Mv(0xabe)][Mv(0xb51)](()=>{var Mg=Mv;this[Mg(0xbae)][Mg(0x152)]=![],setTimeout(()=>{var MJ=Mg;this[MJ(0x879)][MJ(0x152)]=!![],this[MJ(0x9e0)][MJ(0x152)]=![],this[MJ(0xbae)][MJ(0x152)]=![],this[MJ(0xafb)][MJ(0x152)]=![],this[MJ(0x3b4)][MJ(0x152)]=![],this[MJ(0x3f9)][MJ(0x152)]=![],this[MJ(0xd16)][MJ(0x152)]=![],this[MJ(0x496)][MJ(0x152)]=![],this[MJ(0xa97)][MJ(0x152)]=!![],ER[MJ(0x54d)](this),ER[MJ(0x182)][MJ(0x730)]();},0x12c);});}}},RM[n2(0xa3a)][n2(0x61c)]=function(){var MS=n2;!this[MS(0x9e0)][MS(0x35c)]&&(this[MS(0x9e0)][MS(0x35c)]=!![],this[MS(0x9e0)][MS(0x583)]=this[MS(0x9e0)]['x'],this[MS(0x9e0)][MS(0xaa4)]=this[MS(0x9e0)]['y']),!this[MS(0xbae)][MS(0x35c)]&&(this[MS(0xbae)][MS(0x35c)]=!![],this[MS(0xbae)][MS(0x583)]=this[MS(0xbae)]['x'],this[MS(0xbae)][MS(0xaa4)]=this[MS(0xbae)]['y']),!this[MS(0x9e0)][MS(0x5e4)]&&(this[MS(0x9e0)][MS(0x5e4)]=!![],this[MS(0x9e0)][MS(0x3d3)]=0xd0,this[MS(0x9e0)][MS(0x2d5)]=0x3a),!this[MS(0xbae)][MS(0x5e4)]&&(this[MS(0xbae)][MS(0x5e4)]=!![],this[MS(0xbae)][MS(0x3d3)]=-0x102,this[MS(0xbae)][MS(0x2d5)]=0x3a),this[MS(0x9e0)]['x']=this[MS(0x9e0)][MS(0x583)],this[MS(0x9e0)]['y']=this[MS(0x9e0)][MS(0xaa4)],this[MS(0xbae)]['x']=this[MS(0xbae)][MS(0x583)],this[MS(0xbae)]['y']=this[MS(0xbae)][MS(0xaa4)],this[MS(0x9e0)][MS(0x152)]=!![],this[MS(0xbae)][MS(0x152)]=!![],this[MS(0xafb)][MS(0x152)]=![],this[MS(0x65d)][MS(0x152)]=![],this[MS(0x6e7)][MS(0x152)]=![];},RM[n2(0xa3a)][n2(0xcac)]=function(MS,MW=0x249f0){var Mv=n2;if(!this[Mv(0x108)][Mv(0x152)])return;this[Mv(0xa97)][Mv(0x152)]=![],this[Mv(0x61c)](),this[Mv(0x9d0)][Mv(0xb20)](LL(MW,0x1)),this[Mv(0x2d9)][Mv(0xb20)](LL(MW,0x1)),this[Mv(0x789)][Mv(0xb20)](LL(MW,0x1)),this[Mv(0xd23)][Mv(0xb20)](LL(MW*0x2,0x1));if(MS===0x0){if(this[Mv(0x9e0)][Mv(0xf0)]){if(this[Mv(0x9e0)][Mv(0xf0)][Mv(0x256)])this[Mv(0x9e0)][Mv(0xf0)][Mv(0x256)]();}this[Mv(0x9e0)][Mv(0xf0)]=Me[Mv(0xb51)][Mv(0x2b1)](this[Mv(0x9e0)])['to']({'x':0xd0,'y':0x3a},0x320,Phaser[Mv(0x19c)][Mv(0xb78)][Mv(0x793)],!![],0x0),this[Mv(0x9e0)][Mv(0xf0)][Mv(0xabe)][Mv(0xb51)](()=>{var Mg=Mv;this[Mg(0x9e0)][Mg(0x152)]=![];});}else{if(MS===0x1){Me[Mv(0xac4)]&&Me[Mv(0xbff)](),(this[Mv(0x9e0)][Mv(0x152)]=!![],this[Mv(0xbae)][Mv(0x152)]=!![],this[Mv(0xafb)][Mv(0x152)]=!![],this[Mv(0x3b4)][Mv(0x152)]=!![],this[Mv(0x3f9)][Mv(0x152)]=!![],this[Mv(0xd16)][Mv(0x152)]=![],this[Mv(0x496)][Mv(0x152)]=!![]);if(this[Mv(0xbae)][Mv(0xf0)]){if(this[Mv(0xbae)][Mv(0xf0)][Mv(0x256)])this[Mv(0xbae)][Mv(0xf0)][Mv(0x256)]();}this[Mv(0xbae)][Mv(0xf0)]=Me[Mv(0xb51)][Mv(0x2b1)](this[Mv(0xbae)])['to']({'x':-0x11d,'y':0x3a},0x320,Phaser[Mv(0x19c)][Mv(0xb78)][Mv(0x793)],!![],0x0),this[Mv(0xbae)][Mv(0xf0)][Mv(0xabe)][Mv(0xb51)](()=>{var Mg=Mv;this[Mg(0xbae)][Mg(0x152)]=![],this[Mg(0xafb)][Mg(0x152)]=!![],ER[Mg(0x182)][Mg(0x846)](this[Mg(0xd23)],0x0,MW*0x2,0x320),setTimeout(()=>{var MJ=Mg;this[MJ(0xc6e)][MJ(0xb20)](MJ(0x356));},0x12c),setTimeout(()=>{var MJ=Mg;this[MJ(0xc6e)][MJ(0xb20)](MJ(0xb87)),setTimeout(()=>{var MB=MJ;this[MB(0x879)][MB(0x152)]=![],EE[MB(0xae7)]=!![],El&&El[MB(0x734)]&&(EE[MB(0xae7)]=![],EE[MB(0x500)]=!![]),EE[MB(0x783)](0x3e8),ER[MB(0x8be)](ER[MB(0xb1c)]),this[MB(0xc6e)][MB(0xb20)](MB(0x431));},parseFloat(MJ(0x313)));},parseFloat(Mg(0xa69)));});}}},RM[n2(0xa3a)][n2(0x9ef)]=function(){var MS=n2;if(this[MS(0x973)]===!![]){}this[MS(0x60b)](),ER[MS(0x5bf)](this[MS(0x695)],!![],0xdc,0x1,this);},RM[n2(0xa3a)][n2(0x60b)]=function(){var MS=n2;ER[MS(0x918)](this[MS(0x695)],![]),this[MS(0xaf9)]=![],ER[MS(0x19a)][MS(0x6a7)][MS(0x6a8)](ER[MS(0x182)][MS(0xadd)]),ER[MS(0x918)](ER[MS(0x19a)][MS(0x6a7)],!![]),ER[MS(0x182)][MS(0xc0e)][MS(0x152)]=![],ER[MS(0x182)][MS(0x6fc)][MS(0x152)]=![],ER[MS(0x182)][MS(0x8c6)][MS(0x152)]=![],this[MS(0xcbe)](this[MS(0x91b)]),E6[MS(0x3f4)](MS(0x576)),Ez();},RM[n2(0xa3a)][n2(0x866)]=function(){var MS=n2;this[MS(0x973)]===!![]&&(this[MS(0x973)]===![],Me?.[MS(0x49c)]?.[MS(0x571)]?.[MS(0xa6e)]?.[MS(0x334)]?.[MS(0x800)][MS(0x46e)](getCountryMin())&&this[MS(0x62b)][MS(0x1fb)](MS(0x334),getCountryMin()),Lt(Me,{'cache':!![],'card':this[MS(0x5ac)],'name':MS(0xcd2)+M6[MS(0x234)]()[MS(0x605)],'url':M6[MS(0x234)]()[MS(0x410)]},MW=>{var Mv=MS;MW[Mv(0x3dc)]&&MW[Mv(0x227)][Mv(0x266)]&&(MW[Mv(0x227)][Mv(0x266)][Mv(0x1fb)](MW[Mv(0x227)][Mv(0x7e1)]),MW[Mv(0x227)][Mv(0x266)][Mv(0x552)][Mv(0x304)](1.9010853635777774),MW[Mv(0x227)][Mv(0x266)][Mv(0x3ab)]=0x73*1.86,MW[Mv(0x227)][Mv(0x266)][Mv(0x4ca)]=0x73*1.8);}),this[MS(0xd39)][MS(0xb20)](M6[MS(0x234)]()[MS(0x2c4)]),this[MS(0x9e0)][MS(0x152)]=![],this[MS(0xbae)][MS(0x152)]=![],this[MS(0xafb)][MS(0x152)]=![],this[MS(0x3b4)][MS(0x152)]=![],this[MS(0x3f9)][MS(0x152)]=![],this[MS(0x496)][MS(0x152)]=![],this[MS(0xd16)][MS(0x152)]=!![],this[MS(0x65d)][MS(0x152)]=![],this[MS(0x6e7)][MS(0x152)]=![],this[MS(0xa97)][MS(0x152)]=!![],clearTimeout(this[MS(0x75d)]),this[MS(0x75d)]=setTimeout(()=>{var MW=MS;this[MW(0xa97)][MW(0x5db)][MW(0x8d9)]();},0x109a0*0x1),no=!![],nu[MS(0x353)](MS(0x46c),{'cue':Dj,'country':getCountry(),'user_id':M6[MS(0x234)]()[MS(0x605)],'levelID':EE[MS(0x545)][MS(0x7ce)],'skp':EE[MS(0x58b)]?EE[MS(0x58b)]:![],'modeID':MS(0x675)},async MW=>{var Mv=MS;try{MW=Dv(MW);if(MW&&MW[Mv(0xbfd)]){}else(MW[Mv(0x762)]||MW[Mv(0xabd)])&&(MW[Mv(0xabd)]&&(El=MW,R0=JSON[Mv(0x689)](El)),clearTimeout(this[Mv(0x75d)]));}catch(Mg){}})),ER[MS(0x918)](this[MS(0x695)],!![]);},RM[n2(0xa3a)][n2(0x88c)]=function(MS){var MW=n2;this[MW(0x89d)](MS),ER[MW(0x21e)](this[MW(0x695)],!![],0x96,0x1,this);},RM[n2(0xa3a)][n2(0x89d)]=function(MS){var MW=n2;ER[MW(0x918)](this[MW(0x695)],![]),this[MW(0x695)][MW(0x4a4)]=MS,E6[MW(0x3f4)](MW(0x521));},RM[n2(0xa3a)][n2(0xad4)]=function(){var MS=n2;this[MS(0x695)][MS(0x152)]=![],ER[MS(0x182)][MS(0x801)][MS(0x6a8)](ER[MS(0x182)][MS(0xadd)]),ER[MS(0x918)](ER[MS(0x19a)][MS(0x6a7)],!![]),ER[MS(0x182)][MS(0xc0e)][MS(0x152)]=!![],ER[MS(0x182)][MS(0x6fc)][MS(0x152)]=!![],ER[MS(0x182)][MS(0x8c6)][MS(0x152)]=!![],ER[MS(0x182)][MS(0x886)](ER[MS(0x182)][MS(0x532)][MS(0x8ae)]-0x1,0x0,0x12c),this[MS(0xa97)][MS(0x152)]=!![],this[MS(0x879)][MS(0x152)]=!![],this[MS(0x973)]===![]&&El===![]&&setTimeout(()=>{},0x190);},RM[n2(0xa3a)][n2(0x667)]=function(){var MS=n2,MW=L9(Me[MS(0x3ab)]/0x2);!DZ&&(ER[MS(0x19a)][MS(0x641)][MS(0x552)][MS(0x304)](0.6),ER[MS(0x19a)][MS(0x641)]['y']=-0x154,ER[MS(0x19a)][MS(0x108)]['y']=0xfa);},RM[n2(0xa3a)][n2(0xcbe)]=function(){};function RP(){var MS=n2;this[MS(0x695)]=null,this[MS(0x76b)]=MS(0x558);}RP[n2(0xa3a)][n2(0x26a)]=function(){},RP[n2(0xa3a)][n2(0x8a5)]=function(){},RP[n2(0xa3a)][n2(0x5ed)]=function(MS=!![]){var MW=n2;if(MS===!![])Rb='',EY[MW(0x558)][MW(0x9f2)][MW(0xd25)](Mv=>{M2(Mv);}),Rb=Rb[MW(0x711)](';',MW(0x477)),eval(Rb),console[MW(0x738)](new Function(Rb));else{const Mv=Me[MW(0xb51)][MW(0xb9c)]();Mv[MW(0x7e1)]=MW(0x558),this[MW(0x695)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x695)][MW(0x7e1)]=MW(0x558),this[MW(0x695)][MW(0x152)]=![],this[MW(0x742)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0x742)][MW(0x19e)](0xffffff,0x1),this[MW(0x742)][MW(0x298)](0x0,0x0,0x42b,0x258),this[MW(0x742)][MW(0x366)](),this[MW(0x742)][MW(0x2a0)]=0.1,this[MW(0x695)][MW(0x6a8)](this[MW(0x742)]),this[MW(0xa36)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xa36)]['x']=0xc1,this[MW(0xa36)]['y']=0x77,this[MW(0xa36)][MW(0x552)][MW(0x304)](0.6928992996895015),this[MW(0xa77)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0xa77)]['x']=0x1e1,this[MW(0xa77)]['y']=0x104,this[MW(0xa77)][MW(0x19e)](0xffffff,0x1),this[MW(0xa77)][MW(0x298)](0x0,0x0,0x80,0x80),this[MW(0xa77)][MW(0x366)](),this[MW(0xa77)][MW(0x2a0)]=0.001,this[MW(0xa77)][MW(0x3d9)](0.5),this[MW(0xa77)][MW(0x552)][MW(0x304)](10.16116298312183,6.67344819327025),this[MW(0xa36)][MW(0x6a8)](this[MW(0xa77)]);const Mg=Me[MW(0xb51)][MW(0xa6e)](-0x84,-0x65,MW(0xc82),MW(0xc8f));Mg[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xa36)][MW(0x6a8)](Mg);const MJ=Me[MW(0xb51)][MW(0x267)]();MJ['x']=-0x84,MJ['y']=-0x17,MJ[MW(0x19e)](0x0,0x1),MJ[MW(0x298)](0x0,0x0,0x4eb,0x2bc),MJ[MW(0x366)](),this[MW(0xa36)][MW(0x6a8)](MJ);const MB=Me[MW(0xb51)][MW(0xb9c)]();MB['x']=0x23e,MB['y']=0x98,this[MW(0x780)]=Me[MW(0xb51)][MW(0xa6e)](-0x1cb,-0xce,MW(0xc82),MW(0x29e)),this[MW(0x780)][MW(0xc25)][MW(0x304)](0.5),MB[MW(0x6a8)](this[MW(0x780)]),this[MW(0x7ae)]=Me[MW(0xb51)][MW(0xa6e)](-0x3b,-0xcf,MW(0xc82),MW(0x29e)),this[MW(0x7ae)][MW(0xc25)][MW(0x304)](0.5),MB[MW(0x6a8)](this[MW(0x7ae)]);const Ms=Me[MW(0xb51)][MW(0x2da)](-0x1c9,-0xcf,MW(0x11e));Ms[MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0x244),'fill':MW(0x39c)}),Ms[MW(0xc25)][MW(0x304)](0.5),MB[MW(0x6a8)](Ms);const My=Me[MW(0xb51)][MW(0x2da)](-0x40,-0xd2,MW(0x5ee));My[MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0x7c1),'fill':MW(0x39c)}),My[MW(0xc25)][MW(0x304)](0.5),MB[MW(0x6a8)](My),this[MW(0x405)]=Me[MW(0xb51)][MW(0xa6e)](0x162,-0xd0,MW(0xc82),MW(0x29e)),this[MW(0x405)][MW(0xc25)][MW(0x304)](0.5),MB[MW(0x6a8)](this[MW(0x405)]);const Mq=Me[MW(0xb51)][MW(0x2da)](0x168,-0xd0,MW(0x2e8));Mq[MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0x7c1),'fill':MW(0x39c)}),Mq[MW(0xc25)][MW(0x304)](0.5),MB[MW(0x6a8)](Mq);const Mx=Me[MW(0xb51)][MW(0x2da)](-0x40,-0x123,MW(0xae6));Mx[MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0x1ca),'fill':MW(0x993)}),Mx[MW(0xc25)][MW(0x304)](0.5),MB[MW(0x6a8)](Mx),this[MW(0xa36)][MW(0x6a8)](MB),this[MW(0x75f)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x75f)]['x']=-0x84,this[MW(0x75f)]['y']=0x11f,this[MW(0x96b)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x5,MW(0xc82),MW(0x96b)),this[MW(0x96b)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x75f)][MW(0x6a8)](this[MW(0x96b)]);const MZ=Me[MW(0xb51)][MW(0xa6e)](-0x3,0x0,MW(0xc82),MW(0xc3f));MZ[MW(0xc25)][MW(0x304)](0.5),MZ[MW(0x552)][MW(0x304)](-0x1,0x1),this[MW(0x75f)][MW(0x6a8)](MZ),this[MW(0xa36)][MW(0x6a8)](this[MW(0x75f)]),this[MW(0x595)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x595)]['x']=0x480,this[MW(0x595)]['y']=0x118,this[MW(0x17d)]=Me[MW(0xb51)][MW(0xa6e)](-0x29,0x2,MW(0xc82),MW(0x96b)),this[MW(0x17d)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x595)][MW(0x6a8)](this[MW(0x17d)]);const Mf=Me[MW(0xb51)][MW(0xa6e)](-0x2c,-0x3,MW(0xc82),MW(0xc3f));Mf[MW(0xc25)][MW(0x304)](0.5),this[MW(0x595)][MW(0x6a8)](Mf),this[MW(0xa36)][MW(0x6a8)](this[MW(0x595)]),this[MW(0x65e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x65e)]['y']=0x25;const MN=Me[MW(0xb51)][MW(0xb9c)]();MN['x']=0xa,MN[MW(0x152)]=![];const MG=Me[MW(0xb51)][MW(0xa6e)](0x2f,0x7c,MW(0xc82),MW(0x729));MG[MW(0xc25)][MW(0x304)](0.5),MG[MW(0x552)][MW(0x304)](0.7843890946285113),MN[MW(0x6a8)](MG);const MF=Me[MW(0xb51)][MW(0x2da)](0x2e,-0xc,MW(0xc6a));MF[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x209),'fill':MW(0x39c)}),MF[MW(0xc25)][MW(0x304)](0.5),MN[MW(0x6a8)](MF);const Mi=Me[MW(0xb51)][MW(0xa6e)](0x30,0xfc,MW(0xc82),MW(0xe8));Mi[MW(0xc25)][MW(0x304)](0.5),Mi[MW(0x552)][MW(0x304)](0.7826838817582207),MN[MW(0x6a8)](Mi);const Mr=Me[MW(0xb51)][MW(0xb9c)]();Mr['x']=0x55,Mr['y']=0x97,Mr[MW(0x552)][MW(0x304)](0.8226029469014757);const Mt=Me[MW(0xb51)][MW(0xa6e)](0x1,0x0,MW(0xc82),MW(0x603));Mt[MW(0xc25)][MW(0x304)](0.5),Mr[MW(0x6a8)](Mt);const MC=Me[MW(0xb51)][MW(0xa6e)](0x13,0x0,MW(0xc82),MW(0xb9b));MC[MW(0xc25)][MW(0x304)](0x0,0.5),Mr[MW(0x6a8)](MC);const MT=Me[MW(0xb51)][MW(0xa6e)](0x0,0x14,MW(0xc82),MW(0x756));MT[MW(0xc25)][MW(0x304)](0.5),Mr[MW(0x6a8)](MT);const Mz=Me[MW(0xb51)][MW(0xa6e)](0x13,0x16,MW(0xc82),MW(0xb9b));Mz[MW(0xc25)][MW(0x304)](0x0,0.5),Mr[MW(0x6a8)](Mz);const Mh=Me[MW(0xb51)][MW(0xa6e)](0x2,0x2c,MW(0xc82),MW(0x7be));Mh[MW(0xc25)][MW(0x304)](0.5),Mr[MW(0x6a8)](Mh);const Mm=Me[MW(0xb51)][MW(0xa6e)](0x13,0x2c,MW(0xc82),MW(0xb9b));Mm[MW(0xc25)][MW(0x304)](0x0,0.5),Mr[MW(0x6a8)](Mm);const Mc=Me[MW(0xb51)][MW(0xa6e)](0x1,0x41,MW(0xc82),MW(0x41e));Mc[MW(0xc25)][MW(0x304)](0.5),Mr[MW(0x6a8)](Mc);const Mj=Me[MW(0xb51)][MW(0xa6e)](0x1b,0x40,MW(0xc82),MW(0xd0c));Mj[MW(0xc25)][MW(0x304)](0.5),Mj[MW(0x552)][MW(0x304)](0.2880238052798464),Mr[MW(0x6a8)](Mj);const MO=Me[MW(0xb51)][MW(0x2da)](0x25,0x3f,MW(0x323));MO[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0x39c),'strokeThickness':0x3,'stroke':MW(0x9b7),'shadowStroke':!![]}),MO[MW(0xc25)][MW(0x304)](0x0,0.5),Mr[MW(0x6a8)](MO),MN[MW(0x6a8)](Mr);const Mu=Me[MW(0xb51)][MW(0xa6e)](0x19,0xf6,MW(0xc82),MW(0xd0c));Mu[MW(0xc25)][MW(0x304)](0.5),Mu[MW(0x552)][MW(0x304)](0.36682992585534274),MN[MW(0x6a8)](Mu);const MU=Me[MW(0xb51)][MW(0x2da)](0x2a,0xf5,MW(0x323));MU[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c),'strokeThickness':0x3,'stroke':MW(0x9b7),'shadowStroke':!![]}),MU[MW(0xc25)][MW(0x304)](0x0,0.5),MN[MW(0x6a8)](MU);const MY=Me[MW(0xb51)][MW(0xb9c)]();MY['x']=-57.99999638707223,MY['y']=231.00002623673743;const MI=Me[MW(0xb51)][MW(0xa6e)](10.000011526960037,7.999982795582014,MW(0x1b9),MW(0x951));MI[MW(0x2a0)]=0.5,MI[MW(0x2de)]=0x0,MI[MW(0x51f)]=0x29,MI[MW(0xc25)][MW(0x304)](0.5,0x1),MY[MW(0x6a8)](MI);const Md=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x1b9),MW(0x951));Md[MW(0x51f)]=0x29,Md[MW(0xc25)][MW(0x304)](0.5,0x1),MY[MW(0x6a8)](Md),MN[MW(0x6a8)](MY);const MA=Me[MW(0xb51)][MW(0x267)]();MA['x']=-0x50,MA['y']=-0x1f,MA[MW(0x19e)](0xffffff,0x1),MA[MW(0x298)](0x0,0x0,0xfa,0x131),MA[MW(0x366)](),MN[MW(0x6a8)](MA),this[MW(0x65e)][MW(0x6a8)](MN),this[MW(0xa36)][MW(0x6a8)](this[MW(0x65e)]),this[MW(0x695)][MW(0x6a8)](this[MW(0xa36)]),Mv[MW(0x6a8)](this[MW(0x695)]);}},RP[n2(0xa3a)][n2(0xabd)]=function(){var MS=n2;this[MS(0x5ed)](Dy),this[MS(0x6a0)]=MS(0x10a),this[MS(0xa77)][MS(0x983)]=!![],this[MS(0x742)][MS(0x983)]=!![],this[MS(0x742)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;ER[MW(0x54d)](this);}),this[MS(0x96b)][MS(0x983)]=!![],this[MS(0x96b)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf));if(this[MW(0x6a0)]==MW(0x10a)){if(this[MW(0xbf4)]-this[MW(0xbd0)]<0x0)return;this[MW(0xbf4)]-=this[MW(0xbd0)];}if(this[MW(0x6a0)]==MW(0xf8)){if(this[MW(0x9d8)]-this[MW(0xbd0)]<0x0)return;this[MW(0x9d8)]-=this[MW(0xbd0)];}if(this[MW(0x6a0)]==MW(0xc2f)){if(this[MW(0xf5)]-this[MW(0xbd0)]<0x0)return;this[MW(0xf5)]-=this[MW(0xbd0)];}this[MW(0xcc8)](this[MW(0x6a0)]==MW(0xf8)?!![]:![]);}),this[MS(0x17d)][MS(0x983)]=!![],this[MS(0x17d)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf));if(this[MW(0x6a0)]==MW(0x10a)){if(this[MW(0xbf4)]+this[MW(0xbd0)]>EE[MW(0xe5)][MW(0x16a)])return;this[MW(0xbf4)]+=this[MW(0xbd0)];}if(this[MW(0x6a0)]==MW(0xf8)){if(this[MW(0x9d8)]+this[MW(0xbd0)]>EE[MW(0x944)][MW(0x16a)])return;this[MW(0x9d8)]+=this[MW(0xbd0)];}if(this[MW(0x6a0)]==MW(0xc2f)){if(this[MW(0xf5)]+this[MW(0xbd0)]>EE[MW(0xb75)][MW(0x16a)])return;this[MW(0xf5)]+=this[MW(0xbd0)];}this[MW(0xcc8)](this[MW(0x6a0)]==MW(0xf8)?!![]:![]);}),this[MS(0xbf4)]=0x0,this[MS(0x9d8)]=0x0,this[MS(0xf5)]=0x0,this[MS(0xbd0)]=0x8,this[MS(0x118)]=EE[MS(0x16a)],this[MS(0x780)][MS(0x983)]=!![],this[MS(0x780)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf));if(this[MW(0x6a0)]==MW(0x10a))return;this[MW(0x6a0)]=MW(0x10a),this[MW(0x9ae)](),this[MW(0x780)][MW(0x1fb)](MW(0xc82),MW(0x29e)),this[MW(0xcc8)]();}),this[MS(0x7ae)][MS(0x983)]=!![],this[MS(0x7ae)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf));if(this[MW(0x6a0)]==MW(0xc2f))return;this[MW(0x6a0)]=MW(0xc2f),this[MW(0x9ae)](),this[MW(0x7ae)][MW(0x1fb)](MW(0xc82),MW(0x29e));if(this[MW(0x65e)][MW(0x1c9)])this[MW(0x65e)][MW(0x1c9)][MW(0x187)]();}),this[MS(0x405)][MS(0x983)]=!![],this[MS(0x405)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var MW=MS;E6[MW(0x3f4)](MW(0xdf)),this[MW(0x9d8)]=0x0,this[MW(0x6a0)]=MW(0xf8),this[MW(0x9ae)](),this[MW(0x405)][MW(0x1fb)](MW(0xc82),MW(0x29e)),this[MW(0xcc8)](!![]);}),this[MS(0x9ae)]=()=>{var MW=MS;this[MW(0x780)][MW(0x1fb)](MW(0xc82),MW(0x423)),this[MW(0x7ae)][MW(0x1fb)](MW(0xc82),MW(0x423)),this[MW(0x405)][MW(0x1fb)](MW(0xc82),MW(0x423));};},RP[n2(0xa3a)][n2(0xcc8)]=function(MS=![]){var MW=n2;if(this[MW(0x65e)][MW(0x1c9)])this[MW(0x65e)][MW(0x1c9)][MW(0x187)]();var Mv=0x0,Mg=0x0,MJ=0x0;this[MW(0x65e)][MW(0x1c9)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x65e)][MW(0xb51)](this[MW(0x65e)][MW(0x1c9)]),MS&&(MS=![],M6[MW(0x234)]()[MW(0x10a)]&&(MS=!![],EE[MW(0x944)]=[],M6[MW(0x234)]()[MW(0x10a)][MW(0xd25)](Mf=>{var MN=MW;EE[MN(0x944)][MN(0x526)](EE[MN(0xe5)][Mf]);})));var MB=MS?EE[MW(0x944)]:EE[MW(0xe5)];!MS&&(MB&&MB[MW(0x16a)]&&MB[0x0]&&MB[0x0][MW(0x2a1)]&&(MB=MB[MW(0xc86)](Mf=>{var MN=MW;return Mf&&Mf[MN(0x2a1)]&&Mf[MN(0x2a1)][MN(0x899)]>=0x8&&Mf[MN(0x2a1)][MN(0x2e9)]>=0x8&&(Mf[MN(0x6b1)]!==MN(0x88d)&&Mf[MN(0x6b1)]!==MN(0x47c))&&(buy=Mf[MN(0xb30)][MN(0xc86)](MG=>MG[MN(0x7f2)]==MN(0x5c1))[0x0],buy[MN(0x53c)]=MN(0xd15)),Mf;})));let Ms=0x0;this[MW(0x6a0)]===MW(0xc2f)&&(MB=[],Ms=Math[MW(0x6c2)](Math[MW(0x483)](0x0,this[MW(0xf5)]),MB[MW(0x16a)])),this[MW(0x6a0)]===MW(0x10a)&&(Ms=Math[MW(0x6c2)](Math[MW(0x483)](0x0,this[MW(0xbf4)]),MB[MW(0x16a)])),this[MW(0x6a0)]===MW(0xf8)&&(Ms=Math[MW(0x6c2)](Math[MW(0x483)](0x0,this[MW(0x9d8)]),MB[MW(0x16a)]));for(let Mf=Ms;Mf<Math[MW(0x6c2)](Ms+this[MW(0xbd0)],MB[MW(0x16a)]);Mf++){let MN=MB[Mf],MG,MF,Mi,Mr;MG=MN[MW(0xb30)][MW(0xc86)](MQ=>MQ[MW(0x7f2)]==MW(0x5c1))[0x0],MF=MN[MW(0xb30)][MW(0xc86)](MQ=>MQ[MW(0x7f2)]==MW(0xf8))[0x0],Mi=MN[MW(0xb30)][MW(0xc86)](MQ=>MQ[MW(0x7f2)]==MW(0x95e))[0x0],MF=MN[MW(0xb30)][MW(0xc86)](MQ=>MQ[MW(0x7f2)]==MW(0xf8))[0x0];const Mt=Me[MW(0xb51)][MW(0xb9c)]();Mt[MW(0x53d)]=MN,Mt[MW(0xa8c)]=EE[MW(0xe5)][MW(0x2c8)](MN),this[MW(0x65e)][MW(0x1c9)][MW(0xb51)](Mt),Mt['x']=0xa+Mv,Mt['y']=Mg;const MC=Me[MW(0xb51)][MW(0xa6e)](0x2f,0x7c,MW(0xc82),MW(0x729));MC[MW(0xc25)][MW(0x304)](0.5),MC[MW(0x552)][MW(0x304)](0.7843890946285113),Mt[MW(0x6a8)](MC);const MT=Me[MW(0xb51)][MW(0x2da)](0x2e,-0xc,Mt[MW(0x53d)][MW(0x53e)]);MT[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x209),'fill':MW(0x39c)}),MT[MW(0xc25)][MW(0x304)](0.5);const Mz=Me[MW(0xb51)][MW(0xa6e)](0x30,0xfc,MW(0xc82),MW(0xe8));Mz[MW(0xc25)][MW(0x304)](0.5),Mz[MW(0x552)][MW(0x304)](0.7826838817582207),Mz[MW(0x35c)]=![],Mz[MW(0x983)]=!![],Mz[MW(0x374)]=!![];if(M6[MW(0x234)]()[MW(0x10a)]){let MQ=M6[MW(0x234)]()[MW(0x10a)][MW(0x355)](Mt[MW(0xa8c)]);Mz[MW(0x1fb)](MW(0xc82),MQ?MW(0x7af):MW(0xe8));if(MQ)Mz[MW(0x35c)]=!![];}Mz[MW(0xa9f)][MW(0x19b)][MW(0xb51)](()=>{var Ma=MW;E6[Ma(0x3f4)](Ma(0xdf));if(Mz[Ma(0x35c)]===!![]){let MK=![];El&&(MK=El[Ma(0x4d7)]),EE[Ma(0x935)][Ma(0x120)](0x1),no=!![],nu[Ma(0x353)](Ma(0x53b),{'match_id':MK,'group':Ma(0x57b),'productID':Mt[Ma(0x53d)][Ma(0x6b1)],'item_id':Mt[Ma(0xa8c)],'user_id':M6[Ma(0x234)]()[Ma(0x605)]},Ml=>{var MV=Ma;EE[MV(0x935)][MV(0x9f1)]();if(Ml[MV(0x6b1)]){Mz[MV(0x35c)]=![],M6[MV(0xbb8)][MV(0x10a)][MV(0x20a)](M6[MV(0xbb8)][MV(0x10a)][MV(0x2c8)](Mt[MV(0xa8c)]),0x1);if(Ml[MV(0x6b1)]===Dj){Dj=![],Ds();if(ER[MV(0xb1c)][MV(0x695)][MV(0x152)]===!![]){EE[MV(0x6b0)][MV(0x660)][0x0][MV(0xa46)]=EE[MV(0x58e)][MV(0xc86)](Mk=>Mk&&Mk[MV(0x6b1)]&&Mk[MV(0x6b1)]===EE[MV(0x545)][MV(0x2a1)][MV(0xe5)][0x0][MV(0x6b1)])[0x0],EE[MV(0x6b0)][MV(0x660)][0x0][MV(0x1fb)](MV(0x1b9),EE[MV(0x6b0)][MV(0x660)][0x0][MV(0xa46)][MV(0x6b1)]);if(EV===0x0)EE[MV(0x6b0)][MV(0x471)](0x0);}}this[MV(0x9d8)]=0x0,this[MV(0xcc8)](!![]);}else{}});}else{if(MG[Ma(0x53c)]==Ma(0xd15)){}let Ml=![];El&&(Ml=El[Ma(0x4d7)]),EE[Ma(0x935)][Ma(0x120)](0x1),no=!![],nu[Ma(0x353)](Ma(0x50c),{'match_id':Ml,'group':Ma(0x57b),'productID':Mt[Ma(0x53d)][Ma(0x6b1)],'item_id':Mt[Ma(0xa8c)],'user_id':M6[Ma(0x234)]()[Ma(0x605)]},MV=>{var Mk=Ma;EE[Mk(0x935)][Mk(0x9f1)]();if(MV[Mk(0x6b1)]){Mz[Mk(0x35c)]=!![],M6[Mk(0xbb8)][Mk(0x10a)][Mk(0x526)](EE[Mk(0xe5)][Mk(0x2c8)](EE[Mk(0x5e6)][Mt[Mk(0x53d)][Mk(0x6b1)]])),Dj=MV[Mk(0x6b1)],Ds();if(ER[Mk(0xb1c)][Mk(0x695)][Mk(0x152)]===!![]&&EE[Mk(0x5e6)][Mt[Mk(0x53d)][Mk(0x6b1)]]){EE[Mk(0x6b0)][Mk(0x660)][0x0][Mk(0xa46)]=EE[Mk(0x5e6)][Mt[Mk(0x53d)][Mk(0x6b1)]],EE[Mk(0x6b0)][Mk(0x660)][0x0][Mk(0x1fb)](Mk(0x1b9),MV[Mk(0x6b1)]);if(EV===0x0)EE[Mk(0x6b0)][Mk(0xce5)](EE[Mk(0x6b0)][Mk(0x660)][0x0][Mk(0xa46)][Mk(0x2a1)][Mk(0x2e9)]);if(EV===0x0)EE[Mk(0x6b0)][Mk(0x471)](0x0);}this[Mk(0x6a0)]===Mk(0x10a)&&this[Mk(0xcc8)]();}else{}});}});const Mh=Me[MW(0xb51)][MW(0xb9c)]();Mh['x']=0x55,Mh['y']=0x97,Mh[MW(0x552)][MW(0x304)](0.8226029469014757);const Mm=Me[MW(0xb51)][MW(0xa6e)](0x1,0x0,MW(0xc82),MW(0x603));Mm[MW(0xc25)][MW(0x304)](0.5),Mh[MW(0x6a8)](Mm);var My=Me[MW(0xb51)][MW(0xa6e)](0x13,0x0,MW(0xc82),MW(0xb9b));My[MW(0xc25)][MW(0x304)](0x0,0.5);var Mq=Me[MW(0xb51)][MW(0xa6e)](0x13,0x0,MW(0xc82),MW(0xab3));Mq[MW(0xc25)][MW(0x304)](0x0,0.5),Mq[MW(0xc63)][MW(0x8b2)][MW(0x3ab)]=Mq[MW(0x3ab)]*MN[MW(0x2a1)][MW(0x899)]/0x8+0x2,Mh[MW(0x6a8)](My),Mh[MW(0x6a8)](Mq);const Mc=Me[MW(0xb51)][MW(0xa6e)](0x0,0x14,MW(0xc82),MW(0x756));Mc[MW(0xc25)][MW(0x304)](0.5),Mh[MW(0x6a8)](Mc);var Mx=Me[MW(0xb51)][MW(0xa6e)](0x13,0x16,MW(0xc82),MW(0xb9b));Mx[MW(0xc25)][MW(0x304)](0x0,0.5);var Mq=Me[MW(0xb51)][MW(0xa6e)](0x13,0x16,MW(0xc82),MW(0xab3));Mq[MW(0xc25)][MW(0x304)](0x0,0.5),Mh[MW(0x6a8)](Mx),Mh[MW(0x6a8)](Mq),Mq[MW(0xc63)][MW(0x8b2)][MW(0x3ab)]=Mq[MW(0x3ab)]*MN[MW(0x2a1)][MW(0x2e9)]/0x8+0x2;const Mj=Me[MW(0xb51)][MW(0xa6e)](0x2,0x2c,MW(0xc82),MW(0x7be));Mj[MW(0xc25)][MW(0x304)](0.5),Mh[MW(0x6a8)](Mj);var MZ=Me[MW(0xb51)][MW(0xa6e)](0x13,0x2c,MW(0xc82),MW(0xb9b));MZ[MW(0xc25)][MW(0x304)](0x0,0.5);var Mq=Me[MW(0xb51)][MW(0xa6e)](0x13,0x2c,MW(0xc82),MW(0xab3));Mq[MW(0xc63)][MW(0x8b2)][MW(0x3ab)]=Mq[MW(0x3ab)]*MN[MW(0x2a1)][MW(0x9a8)]/0x8+0x2,Mh[MW(0x6a8)](MZ),Mq[MW(0xc25)][MW(0x304)](0x0,0.5),Mh[MW(0x6a8)](Mq);const MO=Me[MW(0xb51)][MW(0xa6e)](0x1,0x41,MW(0xc82),MW(0x41e));MO[MW(0xc25)][MW(0x304)](0.5),Mh[MW(0x6a8)](MO);const Mu=Me[MW(0xb51)][MW(0xa6e)](0x1b,0x40,MW(0xc82),MW(0xd0c));Mu[MW(0xc25)][MW(0x304)](0.5),Mu[MW(0x552)][MW(0x304)](0.2880238052798464),Mh[MW(0x6a8)](Mu);const MU=Me[MW(0xb51)][MW(0x2da)](0x25,0x3f,LL(Mi[MW(0x632)],0x1));MU[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0x39c),'strokeThickness':0x3,'stroke':MW(0x9b7),'shadowStroke':!![]}),MU[MW(0xc25)][MW(0x304)](0x0,0.5),Mh[MW(0x6a8)](MU),Mt[MW(0x6a8)](Mh);const MY=Me[MW(0xb51)][MW(0xa6e)](0x19,0xf6,MW(0xc82),MG[MW(0x53c)]==MW(0xd15)?Mz[MW(0x35c)]?MW(0xd0c):MW(0x9c4):MW(0xd0c));MY[MW(0xc25)][MW(0x304)](0.5),MY[MW(0x552)][MW(0x304)](0.36682992585534274);let MI=![];Mz[MW(0x35c)]?MI=Me[MW(0xb51)][MW(0x2da)](0x2a,0xf5,LL(Mz[MW(0x35c)]?MF[MW(0x632)]:MG[MW(0x632)],0x1)):MI=Me[MW(0xb51)][MW(0x2da)](0x2a,0xf5,MG[MW(0x53c)]==MW(0xd15)?LL(Mz[MW(0x35c)]?MF[MW(0x632)]:MG[MW(0x632)],0x1):LL(Mz[MW(0x35c)]?MF[MW(0x632)]:MG[MW(0x632)],0x1)),(MI[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c),'strokeThickness':0x3,'stroke':MW(0x9b7),'shadowStroke':!![]}),MI[MW(0xc25)][MW(0x304)](0x0,0.5));const Md=Me[MW(0xb51)][MW(0xb9c)]();Md['x']=-57.99999638707223,Md['y']=231.00002623673743;const MA=Me[MW(0xb51)][MW(0xa6e)](10.000011526960037,7.999982795582014,MW(0x1b9),MN[MW(0x6b1)]);MA[MW(0x2a0)]=0.5,MA[MW(0x2de)]=0x0,MA[MW(0x51f)]=0x29,MA[MW(0xc25)][MW(0x304)](0.5,0x1),Md[MW(0x6a8)](MA);const Mo=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x1b9),MN[MW(0x6b1)]);Mo[MW(0x51f)]=0x29,Mo[MW(0xc25)][MW(0x304)](0.5,0x1),Md[MW(0x6a8)](Mo),Mt[MW(0x6a8)](Md),Mt[MW(0x6a8)](MT),Mt[MW(0x6a8)](Mz),Mt[MW(0x6a8)](MY),Mt[MW(0x6a8)](MI);const MX=Me[MW(0xb51)][MW(0x267)]();MX['x']=-0x50,MX['y']=-0x1f,MX[MW(0x19e)](0xffffff,0x1),MX[MW(0x298)](0x0,0x0,0xfa,0x131),Mo[MW(0xa33)]=MX,MA[MW(0xa33)]=MX,Mt[MW(0x6a8)](MX),Mv+=0x118;if((Mf+0x1)%(this[MW(0xbd0)]/0x2)===0x0){if(MJ===0x0)MJ=0x1;else MJ===0x1&&(MJ=0x0);Mv=0x0,Mg=0x0;if(MJ===0x1)Mg=0x15e;}}},RP[n2(0xa3a)][n2(0x9ef)]=function(){var MS=n2;this[MS(0x60b)](),ER[MS(0x5bf)](this[MS(0x695)],!![],0xdc,0x1,this);},RP[n2(0xa3a)][n2(0x60b)]=function(){var MS=n2;ER[MS(0x918)](this[MS(0x695)],![]),this[MS(0xaf9)]=![],this[MS(0xcbe)](this[MS(0x91b)]),E6[MS(0x3f4)](MS(0x576));},RP[n2(0xa3a)][n2(0x866)]=function(){var MS=n2;if(this[MS(0x65e)][MS(0x1c9)])this[MS(0x65e)][MS(0x1c9)][MS(0x187)]();this[MS(0xcc8)](this[MS(0x6a0)]==MS(0xf8)?!![]:![]),ER[MS(0x918)](this[MS(0x695)],!![]);},RP[n2(0xa3a)][n2(0x88c)]=function(MS){var MW=n2;this[MW(0x89d)](MS),ER[MW(0x21e)](this[MW(0x695)],!![],0x96,0x1,this);},RP[n2(0xa3a)][n2(0x89d)]=function(MS){var MW=n2;ER[MW(0x918)](this[MW(0x695)],![]),this[MW(0x695)][MW(0x4a4)]=MS,E6[MW(0x3f4)](MW(0x521));},RP[n2(0xa3a)][n2(0xad4)]=function(){var MS=n2;this[MS(0x695)][MS(0x152)]=![];if(this[MS(0x65e)][MS(0x1c9)])this[MS(0x65e)][MS(0x1c9)][MS(0x187)]();},RP[n2(0xa3a)][n2(0x667)]=function(){var MS=n2,MW=L9(Me[MS(0x3ab)]/0x2);this[MS(0x742)][MS(0x3ab)]=Me[MS(0x3ab)],this[MS(0x742)][MS(0x4ca)]=Me[MS(0x4ca)],this[MS(0xa36)]['x']=Me[MS(0x3ab)]*0.23,this[MS(0xa36)]['y']=Me[MS(0x4ca)]*0.25,!DZ&&this[MS(0xa36)][MS(0x552)][MS(0x304)](0.45);},RP[n2(0xa3a)][n2(0xcbe)]=function(){};var RS={'xMin':0x0,'xMax':0x0,'yMin':0x0,'yMax':0x0},RW=0x2;function Rv(){var MS=n2;this[MS(0x695)]=null,this[MS(0x76b)]=MS(0x1c7);}Rv[n2(0xa3a)][n2(0x26a)]=function(){},Rv[n2(0xa3a)][n2(0x8a5)]=function(){},Rv[n2(0xa3a)][n2(0x2e4)]=function(MS){var MW=n2;this[MW(0x6b0)][MW(0x1d5)](Me[MW(0x3d0)][MW(0x6d2)]);},Rv[n2(0xa3a)][n2(0x664)]=function(MS){var MW=n2;this[MW(0x6b0)][MW(0x9d5)](Me[MW(0x3d0)][MW(0x6d2)]);},Rv[n2(0xa3a)][n2(0x776)]=function(){var MS=n2;this[MS(0xba7)][MS(0xbf6)]===![]&&(this[MS(0xba7)]['x']=Dm==!![]?Me[MS(0x3d0)][MS(0x6d2)]['x']:Me[MS(0x3d0)][MS(0x218)]['x'],this[MS(0xba7)]['y']=Dm==!![]?Me[MS(0x3d0)][MS(0x6d2)]['y']:Me[MS(0x3d0)][MS(0x218)]['y']);if(!EE[MS(0x6b0)][MS(0x81d)])return;if(this[MS(0x9f4)]&&this[MS(0xc11)]>=0x1&&this[MS(0xc11)]<=0x8){let MJ=(this[MS(0xba7)]['x']-(Dm==!![]?Me[MS(0x3d0)][MS(0x6d2)]['x']:Me[MS(0x3d0)][MS(0x218)]['x']))/2.5,MB=(this[MS(0xba7)]['y']-(Dm==!![]?Me[MS(0x3d0)][MS(0x6d2)]['y']:Me[MS(0x3d0)][MS(0x218)]['y']))/2.5,Ms=this[MS(0xb77)]['x']-MJ,My=this[MS(0xb77)]['y']-MB;var MW=0x32*this[MS(0xc11)]/0x8+this[MS(0xb77)][MS(0x3ab)]/0x2;this[MS(0xb77)]['x']=Ms,this[MS(0xb77)]['y']=My;var Mv=this[MS(0xb77)]['x']*this[MS(0xb77)]['x']+this[MS(0xb77)]['y']*this[MS(0xb77)]['y'];if(Mv>MW*MW){var Mg=Math[MS(0xc35)](this[MS(0xb77)]['y'],this[MS(0xb77)]['x']);this[MS(0xb77)]['x']=MW*Math[MS(0xa2d)](Mg),this[MS(0xb77)]['y']=MW*Math[MS(0xa56)](Mg);}else{}this[MS(0xba7)]['x']=Dm==!![]?Me[MS(0x3d0)][MS(0x6d2)]['x']:Me[MS(0x3d0)][MS(0x218)]['x'],this[MS(0xba7)]['y']=Dm==!![]?Me[MS(0x3d0)][MS(0x6d2)]['y']:Me[MS(0x3d0)][MS(0x218)]['y'],EE[MS(0x287)][MS(0x888)]=LC(parseFloat(MS(0x6f2))*this[MS(0xb77)]['y']/0x32),EE[MS(0x287)][MS(0x86f)]=LC(this[MS(0xb77)]['x']/0x32),this[MS(0x6b0)][MS(0x660)][EV]['x']=parseFloat('.3')*EE[MS(0x287)][MS(0x86f)]*RJ;if(Dm)this[MS(0x6b0)][MS(0x660)][EV]['y']=this[MS(0x6b0)][MS(0x660)][EV][MS(0x5f4)]-parseFloat(MS(0xa58))*EE[MS(0x287)][MS(0x888)]*RJ;this[MS(0x6b0)][MS(0x660)][EV][MS(0x552)][MS(0x304)](parseFloat('1')-parseFloat(MS(0x41c))*EE[MS(0x287)][MS(0x888)]);}},Rv[n2(0xa3a)][n2(0x5ed)]=function(MS=!![]){var MW=n2;if(MS===!![])Rb='',EY[MW(0x1c7)][MW(0x9f2)][MW(0xd25)](Mv=>{M2(Mv);}),Rb=Rb[MW(0x711)](';',MW(0x477)),eval(Rb),console[MW(0x738)](new Function(Rb));else{const Mv=Me[MW(0xb51)][MW(0xb9c)]();this[MW(0x695)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x695)][MW(0x7e1)]=MW(0x1c7),this[MW(0x1d0)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x4ed)),this[MW(0x1d0)][MW(0x552)][MW(0x304)](1.5061934645322208,1.5134002448131052),this[MW(0x695)][MW(0x6a8)](this[MW(0x1d0)]),this[MW(0x852)]=Me[MW(0xb51)][MW(0x2da)](0x286,0x40a,MW(0xafe)),this[MW(0x852)][MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0x7c9),'fill':MW(0xa42),'align':MW(0xce6)}),this[MW(0x852)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x852)][MW(0x552)][MW(0x304)](1.136797826610148),this[MW(0x695)][MW(0x6a8)](this[MW(0x852)]),this[MW(0x617)]=Me[MW(0xb51)][MW(0x46a)](0x0,0x0,MW(0x7f8),MW(0x98d)),this[MW(0x695)][MW(0x6a8)](this[MW(0x617)]),this[MW(0xb65)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xb65)]['x']=0x15,this[MW(0xb65)]['y']=0xa7,this[MW(0x206)]=Me[MW(0xb51)][MW(0x2da)](0x9,0x1c,''),this[MW(0x206)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb86),'fill':MW(0xa42),'backgroundColor':MW(0x132),'maxLines':0x1,'stroke':MW(0xae5)}),this[MW(0x206)][MW(0x2a0)]=0x0,this[MW(0x206)][MW(0x152)]=![],this[MW(0x206)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb65)][MW(0x6a8)](this[MW(0x206)]),this[MW(0x485)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xc5f)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x13a),MW(0x339)),this[MW(0xc5f)][MW(0x7e1)]=MW(0xc5f),this[MW(0x485)][MW(0x6a8)](this[MW(0xc5f)]),this[MW(0xb65)][MW(0x6a8)](this[MW(0x485)]),this[MW(0x5a2)]=Me[MW(0xb51)][MW(0xb9c)]();const Mg=Me[MW(0xb51)][MW(0xb9c)]();this[MW(0x4e7)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x7c2),MW(0x339)),this[MW(0x4e7)][MW(0x7e1)]=MW(0x4e7),Mg[MW(0x6a8)](this[MW(0x4e7)]),this[MW(0x1cd)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x375),MW(0x885)),this[MW(0x1cd)][MW(0x2a0)]=0.32,Mg[MW(0x6a8)](this[MW(0x1cd)]),this[MW(0x5a2)][MW(0x6a8)](Mg),this[MW(0xb65)][MW(0x6a8)](this[MW(0x5a2)]),this[MW(0x834)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x7e8)]=Me[MW(0xb51)][MW(0xa6e)](0x1,0xb,MW(0x9b9),MW(0x7e8)),this[MW(0x7e8)][MW(0x2de)]=MW(0x513),this[MW(0x7e8)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x834)][MW(0x6a8)](this[MW(0x7e8)]),this[MW(0xb65)][MW(0x6a8)](this[MW(0x834)]),this[MW(0xbb7)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x13c)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xbb7)][MW(0x6a8)](this[MW(0x13c)]),this[MW(0xb65)][MW(0x6a8)](this[MW(0xbb7)]),this[MW(0x58c)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xb65)][MW(0x6a8)](this[MW(0x58c)]);const MJ=Me[MW(0xb51)][MW(0x267)]();MJ['x']=0xbd,MJ['y']=0xac,MJ[MW(0x152)]=![],MJ[MW(0x3d9)](0.5),this[MW(0xb65)][MW(0x6a8)](MJ),this[MW(0x695)][MW(0x6a8)](this[MW(0xb65)]),this[MW(0x42e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x42e)]['x']=0x3c,this[MW(0x42e)]['y']=0x3b6,this[MW(0x42e)][MW(0x552)][MW(0x304)](0.89),this[MW(0x5cb)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x5cb)]['x']=0x425,this[MW(0x5cb)]['y']=0x12,this[MW(0x5cb)][MW(0x552)][MW(0x304)](0.7993250601285566),this[MW(0x3d2)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x3d2)]['x']=210.00005362601496,this[MW(0x3d2)]['y']=29.000014755087022;const MB=Me[MW(0xb51)][MW(0xa6e)](0.9999696965419389,0.9999696965417115,MW(0xc82),MW(0x2d7));MB[MW(0xc25)][MW(0x304)](0.5),this[MW(0x3d2)][MW(0x6a8)](MB);const Ms=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x3ce));Ms[MW(0xc25)][MW(0x304)](0.5),Ms[MW(0x552)][MW(0x304)](1.0890671274276171),this[MW(0x3d2)][MW(0x6a8)](Ms),this[MW(0x5cb)][MW(0x6a8)](this[MW(0x3d2)]),this[MW(0x2f1)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x2f1)]['x']=26.99999412969646,this[MW(0x2f1)]['y']=26.00002443315475;const My=Me[MW(0xb51)][MW(0xa6e)](-0x54,0x4,MW(0xc82),MW(0x2d7));My[MW(0xc25)][MW(0x304)](0.5),this[MW(0x2f1)][MW(0x6a8)](My);const Mq=Me[MW(0xb51)][MW(0x2da)](-0x56,0x0,'?');Mq[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x244),'fill':MW(0x39c)}),Mq[MW(0xc25)][MW(0x304)](0.5),this[MW(0x2f1)][MW(0x6a8)](Mq),this[MW(0x86c)]=Me[MW(0xb51)][MW(0xa6e)](0x2,0x3,MW(0xc82),MW(0x2d7)),this[MW(0x86c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x86c)][MW(0x552)][MW(0x304)](1.0231476607005672),this[MW(0x2f1)][MW(0x6a8)](this[MW(0x86c)]),this[MW(0x44c)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x2,MW(0x44c)),this[MW(0x44c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x44c)][MW(0x552)][MW(0x304)](1.1486720278406954,1.1698051826155749),this[MW(0x2f1)][MW(0x6a8)](this[MW(0x44c)]),this[MW(0x5cb)][MW(0x6a8)](this[MW(0x2f1)]),this[MW(0x3e4)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x3e4)]['x']=118.99988687766654,this[MW(0x3e4)]['y']=27.9999638262384;const Mx=Me[MW(0xb51)][MW(0xa6e)](0.9999696965417115,2.0000206253903343,MW(0xc82),MW(0x2d7));Mx[MW(0xc25)][MW(0x304)](0.5),this[MW(0x3e4)][MW(0x6a8)](Mx);const MZ=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0xcd7));MZ[MW(0xc25)][MW(0x304)](0.5),this[MW(0x3e4)][MW(0x6a8)](MZ),this[MW(0x5cb)][MW(0x6a8)](this[MW(0x3e4)]),this[MW(0x42e)][MW(0x6a8)](this[MW(0x5cb)]),this[MW(0x972)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x972)]['x']=0x20d,this[MW(0x972)]['y']=-0x82,this[MW(0x972)][MW(0x552)][MW(0x304)](0.96),this[MW(0x1c8)]=Me[MW(0xb51)][MW(0xa6e)](0x6d,0x39,MW(0xc82),MW(0x490)),this[MW(0x1c8)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x972)][MW(0x6a8)](this[MW(0x1c8)]),this[MW(0x8ec)]=Me[MW(0xb51)][MW(0xa6e)](0x6e,0x38,MW(0xc82),MW(0x3c5)),this[MW(0x8ec)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x972)][MW(0x6a8)](this[MW(0x8ec)]),this[MW(0x4e4)]=Me[MW(0xb51)][MW(0xa6e)](0x6e,0x3a,MW(0xc82),MW(0x55a)),this[MW(0x4e4)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x972)][MW(0x6a8)](this[MW(0x4e4)]),this[MW(0xc34)]=Me[MW(0xb51)][MW(0xa6e)](0x6f,0x39,MW(0xc82),MW(0xc34)),this[MW(0xc34)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xc34)][MW(0x552)][MW(0x304)](0.3587149766786456),this[MW(0x972)][MW(0x6a8)](this[MW(0xc34)]),this[MW(0x178)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x178)]['x']=0x61,this[MW(0x178)]['y']=0x71;const Mf=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x75a));Mf[MW(0xc25)][MW(0x304)](0.5),this[MW(0x178)][MW(0x6a8)](Mf),this[MW(0xba5)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x398)),this[MW(0xba5)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xba5)][MW(0x552)][MW(0x304)](1.0307766216505663),this[MW(0x178)][MW(0x6a8)](this[MW(0xba5)]),this[MW(0xb77)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0xb77)),this[MW(0xb77)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb77)][MW(0x552)][MW(0x304)](0.8795104580204576),this[MW(0x178)][MW(0x6a8)](this[MW(0xb77)]),this[MW(0x972)][MW(0x6a8)](this[MW(0x178)]),this[MW(0x42e)][MW(0x6a8)](this[MW(0x972)]),this[MW(0x379)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x379)]['x']=-0x1e,this[MW(0x379)][MW(0x152)]=![],this[MW(0x379)][MW(0x552)][MW(0x304)](1.1035114709925142);const MN=Me[MW(0xb51)][MW(0xa6e)](0x6,0x4f,MW(0xc82),MW(0x281));MN[MW(0xc25)][MW(0x304)](0x0,0x1),this[MW(0x379)][MW(0x6a8)](MN),this[MW(0x1c3)]=Me[MW(0xb51)][MW(0x2da)](0x1c,0x2,MW(0x3a3)),this[MW(0x1c3)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0x39c)}),this[MW(0x379)][MW(0x6a8)](this[MW(0x1c3)]),this[MW(0xa9e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xa9e)]['x']=21.000003080689567,this[MW(0xa9e)]['y']=44.99998700752667;const MG=Me[MW(0xb51)][MW(0x267)]();MG['x']=0xc8,MG[MW(0x19e)](0xffffff,0x1),MG[MW(0x298)](0x0,0x0,0x80,0x80),MG[MW(0x366)](),MG[MW(0x3d9)](0.5),MG[MW(0x552)][MW(0x304)](3.1297255919688585,0.30695267402506654),this[MW(0xa9e)][MW(0x6a8)](MG),this[MW(0x379)][MW(0x6a8)](this[MW(0xa9e)]),this[MW(0x69f)]=Me[MW(0xb51)][MW(0xa6e)](0x1ac,0x2d,MW(0xc82),MW(0x96b)),this[MW(0x69f)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x69f)][MW(0x552)][MW(0x304)](0.47788803932543017),this[MW(0x379)][MW(0x6a8)](this[MW(0x69f)]);const MF=Me[MW(0xb51)][MW(0xa6e)](0x1ad,0x2d,MW(0xc82),MW(0xc3f));MF[MW(0xc25)][MW(0x304)](0.5),MF[MW(0x552)][MW(0x304)](0.6017352395696165),this[MW(0x379)][MW(0x6a8)](MF),this[MW(0x9d6)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x9d6)]['x']=0x2a,this[MW(0x9d6)]['y']=-0x21f,this[MW(0x79b)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x79b)]['x']=-6.000004554062812,this[MW(0x79b)]['y']=11.000009777840773;const Mi=Me[MW(0xb51)][MW(0x267)]();Mi[MW(0x2a0)]=0.6,Mi[MW(0x19e)](0x0,0x1),Mi[MW(0x298)](0x0,0x0,0x1a4,0x1e0),Mi[MW(0x366)](),this[MW(0x79b)][MW(0x6a8)](Mi);const Mr=Me[MW(0xb51)][MW(0x267)]();Mr['x']=209.99999651748135,Mr['y']=23.999983926837103,Mr[MW(0x19e)](0x0,0x1),Mr[MW(0x298)](0x0,0x0,0x1a4,0x32),Mr[MW(0x366)](),Mr[MW(0x3d9)](0.5),this[MW(0x79b)][MW(0x6a8)](Mr);const Mt=Me[MW(0xb51)][MW(0x267)]();Mt['x']=209.99999651748135,Mt['y']=113.99995794189044,Mt[MW(0x19e)](0x0,0x1),Mt[MW(0x298)](0x0,0x0,0x1a4,0x32),Mt[MW(0x366)](),Mt[MW(0x3d9)](0.5),this[MW(0x79b)][MW(0x6a8)](Mt);const MC=Me[MW(0xb51)][MW(0x267)]();MC['x']=210.99999584776623,MC['y']=209.00001433190357,MC[MW(0x19e)](0x0,0x1),MC[MW(0x298)](0x0,0x0,0x1a4,0x32),MC[MW(0x366)](),MC[MW(0x3d9)](0.5),this[MW(0x79b)][MW(0x6a8)](MC);const MT=Me[MW(0xb51)][MW(0x267)]();MT['x']=210.99999584776623,MT['y']=301.99996919310445,MT[MW(0x19e)](0x0,0x1),MT[MW(0x298)](0x0,0x0,0x1a4,0x32),MT[MW(0x366)](),MT[MW(0x3d9)](0.5),this[MW(0x79b)][MW(0x6a8)](MT);const Mz=Me[MW(0xb51)][MW(0x267)]();Mz['x']=209.99999651748135,Mz['y']=396.0000091081257,Mz[MW(0x19e)](0x0,0x1),Mz[MW(0x298)](0x0,0x0,0x1a4,0x32),Mz[MW(0x366)](),Mz[MW(0x3d9)](0.5),this[MW(0x79b)][MW(0x6a8)](Mz);const Mh=Me[MW(0xb51)][MW(0x267)]();Mh['x']=209.99999651748135,Mh['y']=500.00000803658156,Mh[MW(0x19e)](0x0,0x1),Mh[MW(0x298)](0x0,0x0,0x1a4,0x32),Mh[MW(0x366)](),Mh[MW(0x3d9)](0.5),this[MW(0x79b)][MW(0x6a8)](Mh),this[MW(0x9d6)][MW(0x6a8)](this[MW(0x79b)]),this[MW(0x57a)]=Me[MW(0xb51)][MW(0x2da)](0xda,0x21,MW(0x253)),this[MW(0x57a)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x947),'wordWrapWidth':0xf0,'wordWrap':!![],'maxLines':0x1,'align':MW(0xce6)}),this[MW(0x57a)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x9d6)][MW(0x6a8)](this[MW(0x57a)]),this[MW(0x704)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x704)]['x']=5.999995981709304,this[MW(0x704)]['y']=78.99996423721257;const Mm=Me[MW(0xb51)][MW(0x2da)](0x0,429.0000041522338,MW(0x12d));Mm[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0x1f4,'wordWrap':!![],'align':MW(0xce6)}),Mm[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](Mm);const Mc=Me[MW(0xb51)][MW(0x2da)](0x0,378.00005545241197,MW(0x5b6));Mc[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0x1f4,'wordWrap':!![],'align':MW(0xce6)}),Mc[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](Mc);const Mj=Me[MW(0xb51)][MW(0x2da)](2.000007232923295,323.0000408526224,MW(0x7e6));Mj[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0x1f4,'wordWrap':!![],'align':MW(0xce6)}),Mj[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](Mj);const MO=Me[MW(0xb51)][MW(0x2da)](2.000007232923295,232.0000503625771,MW(0x1b0));MO[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0x1f4,'wordWrap':!![],'align':MW(0xce6)}),MO[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](MO),this[MW(0xc43)]=Me[MW(0xb51)][MW(0x2da)](0.9999993302848793,278.00005384509575,MW(0x22d)),this[MW(0xc43)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0x17c,'wordWrap':!![],'maxLines':0x1,'align':MW(0xce6)}),this[MW(0xc43)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](this[MW(0xc43)]);const Mu=Me[MW(0xb51)][MW(0x2da)](5.000005223777933,188.00001125121412,MW(0x3e0));Mu[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0x1f4,'wordWrap':!![],'align':MW(0xce6)}),Mu[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](Mu);const MU=Me[MW(0xb51)][MW(0x2da)](6.000004554062812,141.00005987253178,MW(0x8d5));MU[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0x1f4,'wordWrap':!![],'align':MW(0xce6)}),MU[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](MU),this[MW(0x737)]=Me[MW(0xb51)][MW(0x2da)](4.000005893493054,92.0000069650373,MW(0xaaa)),this[MW(0x737)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0x17c,'wordWrap':!![],'maxLines':0x1,'align':MW(0xce6)}),this[MW(0x737)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](this[MW(0x737)]);const MY=Me[MW(0xb51)][MW(0x2da)](7.0000038843476915,47.00001995751063,MW(0xb02));MY[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0xf0,'wordWrap':!![],'maxLines':0x1,'align':MW(0xce6)}),MY[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](MY);const MI=Me[MW(0xb51)][MW(0x2da)](8.00000321463257,0x0,MW(0x8c9));MI[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c),'wordWrapWidth':0xf0,'wordWrap':!![],'maxLines':0x1,'align':MW(0xce6)}),MI[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x704)][MW(0x6a8)](MI),this[MW(0x9d6)][MW(0x6a8)](this[MW(0x704)]),this[MW(0x379)][MW(0x6a8)](this[MW(0x9d6)]),this[MW(0xc5c)]=Me[MW(0xb51)][MW(0xa6e)](0x185,0xa,MW(0xc82),MW(0x96b)),this[MW(0xc5c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xc5c)][MW(0x552)][MW(0x304)](0.2747154635898707),this[MW(0x379)][MW(0x6a8)](this[MW(0xc5c)]);const Md=Me[MW(0xb51)][MW(0x2da)](0x184,0x8,'Hi');Md[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x51d),'fill':MW(0x39c)}),Md[MW(0xc25)][MW(0x304)](0.5),Md[MW(0x552)][MW(0x304)](0.6080181073190933),this[MW(0x379)][MW(0x6a8)](Md),this[MW(0x42e)][MW(0x6a8)](this[MW(0x379)]),this[MW(0x695)][MW(0x6a8)](this[MW(0x42e)]),this[MW(0x6a7)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x6a7)]['x']=-0x12,this[MW(0x6a7)][MW(0x552)][MW(0x304)](0.9432201328455019);const MA=Me[MW(0xb51)][MW(0xb9c)]();MA['x']=0x275,this[MW(0x4bc)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x1c,MW(0xc82),MW(0xab5)),this[MW(0x4bc)][MW(0xc25)][MW(0x304)](0.5),MA[MW(0x6a8)](this[MW(0x4bc)]);const Mo=Me[MW(0xb51)][MW(0x2da)](0x0,0x17,'-');Mo[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c)}),Mo[MW(0xc25)][MW(0x304)](0.5),Mo[MW(0x552)][MW(0x304)](1.9344103068885787,0x1),MA[MW(0x6a8)](Mo),this[MW(0x6a7)][MW(0x6a8)](MA),this[MW(0xa1e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xa1e)]['x']=0x66,this[MW(0xa1e)]['y']=0x16,this[MW(0x265)]=Me[MW(0xb51)][MW(0xa6e)](0x64,0x4,MW(0xc82),MW(0x556)),this[MW(0x265)][MW(0x2a0)]=0.6,this[MW(0x265)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa1e)][MW(0x6a8)](this[MW(0x265)]),this[MW(0xa92)]=Me[MW(0xb51)][MW(0xa6e)](0x62,0x5,MW(0xc82),MW(0x93e)),this[MW(0xa92)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa1e)][MW(0x6a8)](this[MW(0xa92)]),this[MW(0x9dc)]=Me[MW(0xb51)][MW(0x2da)](0x18,-0x5,MW(0x30c)),this[MW(0x9dc)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0x39c),'wordWrapWidth':0xdc,'wordWrap':!![],'maxLines':0x1}),this[MW(0xa1e)][MW(0x6a8)](this[MW(0x9dc)]);const MX=Me[MW(0xb51)][MW(0xa6e)](0x2,0x4,MW(0xc82),MW(0x129));MX[MW(0xc25)][MW(0x304)](0.5),MX[MW(0x552)][MW(0x304)](0.6149394154225455),this[MW(0xa1e)][MW(0x6a8)](MX),this[MW(0x8e7)]=Me[MW(0xb51)][MW(0x2da)](0x0,0x3,MW(0x323)),this[MW(0x8e7)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x141),'fill':MW(0xae5)}),this[MW(0x8e7)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa1e)][MW(0x6a8)](this[MW(0x8e7)]),this[MW(0x6a6)]=Me[MW(0xb51)][MW(0x2da)](0x12f,0x5,MW(0x400)),this[MW(0x6a6)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c)}),this[MW(0x6a6)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa1e)][MW(0x6a8)](this[MW(0x6a6)]),this[MW(0x4fc)]=Me[MW(0xb51)][MW(0xa6e)](0x12e,0x6,MW(0xc82),MW(0x7bb)),this[MW(0x4fc)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa1e)][MW(0x6a8)](this[MW(0x4fc)]),this[MW(0xc9a)]=Me[MW(0xb51)][MW(0xa6e)](0x18f,0x1,MW(0xc82),MW(0x3ba)),this[MW(0xc9a)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xc9a)][MW(0x552)][MW(0x304)](1.9228593891283503),this[MW(0xa1e)][MW(0x6a8)](this[MW(0xc9a)]),this[MW(0x80b)]=Me[MW(0xb51)][MW(0xa6e)](0x1b5,0x1,MW(0x334),MW(0x812)),this[MW(0x80b)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x80b)][MW(0x552)][MW(0x304)](0.26517694065035946),this[MW(0xa1e)][MW(0x6a8)](this[MW(0x80b)]),this[MW(0x579)]=Me[MW(0xb51)][MW(0x2da)](0x1ce,0x0,'0'),this[MW(0x579)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0x39c)}),this[MW(0x579)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xa1e)][MW(0x6a8)](this[MW(0x579)]),this[MW(0xa83)]=Me[MW(0xb51)][MW(0xa6e)](0xd9,0x6,MW(0xa14),MW(0xb5c)),this[MW(0xa83)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa83)][MW(0x552)][MW(0x304)](0.47510902843583536),this[MW(0xa1e)][MW(0x6a8)](this[MW(0xa83)]),this[MW(0x6a7)][MW(0x6a8)](this[MW(0xa1e)]),this[MW(0x82e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x82e)]['x']=0x3cc,this[MW(0x82e)]['y']=0x17,this[MW(0xc79)]=Me[MW(0xb51)][MW(0xa6e)](0x68,0x4,MW(0xc82),MW(0x556)),this[MW(0xc79)][MW(0x2a0)]=0.6,this[MW(0xc79)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x82e)][MW(0x6a8)](this[MW(0xc79)]),this[MW(0xb88)]=Me[MW(0xb51)][MW(0xa6e)](0x66,0x5,MW(0xc82),MW(0x93e)),this[MW(0xb88)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x82e)][MW(0x6a8)](this[MW(0xb88)]),this[MW(0x71a)]=Me[MW(0xb51)][MW(0x2da)](0xbe,-0x8,MW(0x30c)),this[MW(0x71a)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0x39c),'wordWrapWidth':0xdc,'wordWrap':!![],'maxLines':0x1}),this[MW(0x71a)][MW(0xc25)][MW(0x304)](0x1,0x0),this[MW(0x82e)][MW(0x6a8)](this[MW(0x71a)]);const MQ=Me[MW(0xb51)][MW(0xa6e)](0xd6,0x4,MW(0xc82),MW(0x129));MQ[MW(0xc25)][MW(0x304)](0.5),MQ[MW(0x552)][MW(0x304)](0.6149394154225455),this[MW(0x82e)][MW(0x6a8)](MQ),this[MW(0x21b)]=Me[MW(0xb51)][MW(0x2da)](0xd4,0x3,MW(0x323)),this[MW(0x21b)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x141),'fill':MW(0xae5)}),this[MW(0x21b)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x82e)][MW(0x6a8)](this[MW(0x21b)]),this[MW(0x1df)]=Me[MW(0xb51)][MW(0x2da)](-0x67,0x5,MW(0x400)),this[MW(0x1df)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c)}),this[MW(0x1df)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x82e)][MW(0x6a8)](this[MW(0x1df)]),this[MW(0x4cb)]=Me[MW(0xb51)][MW(0xa6e)](-0x66,0x6,MW(0xc82),MW(0x7bb)),this[MW(0x4cb)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x82e)][MW(0x6a8)](this[MW(0x4cb)]),this[MW(0xa12)]=Me[MW(0xb51)][MW(0xa6e)](-0xcf,0x1,MW(0xc82),MW(0x3ba)),this[MW(0xa12)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa12)][MW(0x552)][MW(0x304)](-1.9228593891283503,1.9228593891283503),this[MW(0x82e)][MW(0x6a8)](this[MW(0xa12)]),this[MW(0x719)]=Me[MW(0xb51)][MW(0xa6e)](-0xf4,0x1,MW(0x334),MW(0x812)),this[MW(0x719)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x719)][MW(0x552)][MW(0x304)](0.26517694065035946),this[MW(0x82e)][MW(0x6a8)](this[MW(0x719)]),this[MW(0x95f)]=Me[MW(0xb51)][MW(0x2da)](-0x10c,0x0,'0'),this[MW(0x95f)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0x39c)}),this[MW(0x95f)][MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0x82e)][MW(0x6a8)](this[MW(0x95f)]),this[MW(0x848)]=Me[MW(0xb51)][MW(0xa6e)](-0x4,0x3,MW(0xa14),MW(0xb5c)),this[MW(0x848)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x848)][MW(0x552)][MW(0x304)](0.47510902843583536),this[MW(0x82e)][MW(0x6a8)](this[MW(0x848)]),this[MW(0x6a7)][MW(0x6a8)](this[MW(0x82e)]),this[MW(0x957)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x957)]['x']=0xda,this[MW(0x957)]['y']=0x7d,this[MW(0x905)]=Me[MW(0xb51)][MW(0xa6e)](0x14,-0x42,MW(0xc82),MW(0xd2a)),this[MW(0x905)][MW(0xc25)][MW(0x304)](0.5,0x0),this[MW(0x905)][MW(0x552)][MW(0x304)](1.6698570281533527),this[MW(0x957)][MW(0x6a8)](this[MW(0x905)]),this[MW(0x1d2)]=Me[MW(0xb51)][MW(0x2da)](0x42,0xe,''),this[MW(0x1d2)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0xae5),'backgroundColor':MW(0xa42),'wordWrapWidth':0xc8,'wordWrap':!![],'maxLines':0x3,'stroke':MW(0xa42),'shadowFill':!![],'shadowBlur':0x1}),this[MW(0x1d2)][MW(0x152)]=![],this[MW(0x957)][MW(0x6a8)](this[MW(0x1d2)]),this[MW(0xa73)]=Me[MW(0xb51)][MW(0xa6e)](-0x69,0x2d,MW(0xc82),MW(0xa8d)),this[MW(0xa73)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa73)][MW(0x552)][MW(0x304)](0.6769606850429795),this[MW(0x957)][MW(0x6a8)](this[MW(0xa73)]),this[MW(0x590)]=Me[MW(0xb51)][MW(0xa6e)](-0xa0,0x2d,MW(0xc82),MW(0x755)),this[MW(0x590)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x590)][MW(0x552)][MW(0x304)](0.6769606850429795),this[MW(0x957)][MW(0x6a8)](this[MW(0x590)]),this[MW(0x6a7)][MW(0x6a8)](this[MW(0x957)]),this[MW(0xb04)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xb04)]['x']=0x437,this[MW(0xb04)]['y']=0x7d,this[MW(0x341)]=Me[MW(0xb51)][MW(0xa6e)](-0x2c,-0x42,MW(0xc82),MW(0xd2a)),this[MW(0x341)][MW(0xc25)][MW(0x304)](0.5,0x0),this[MW(0x341)][MW(0x552)][MW(0x304)](1.6698570281533527),this[MW(0xb04)][MW(0x6a8)](this[MW(0x341)]),this[MW(0x591)]=Me[MW(0xb51)][MW(0x2da)](-0x43,0xe,''),this[MW(0x591)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0xae5),'backgroundColor':MW(0xa42),'wordWrapWidth':0xc8,'wordWrap':!![],'maxLines':0x3,'stroke':MW(0xa42),'shadowFill':!![],'shadowBlur':0x1}),this[MW(0x591)][MW(0x152)]=![],this[MW(0x591)][MW(0xc25)][MW(0x304)](0x1,0x0),this[MW(0xb04)][MW(0x6a8)](this[MW(0x591)]),this[MW(0x6a7)][MW(0x6a8)](this[MW(0xb04)]),this[MW(0x335)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x335)]['x']=0x27e,this[MW(0x335)]['y']=0x77;const Ma=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x66b));Ma[MW(0xc25)][MW(0x304)](0.5),this[MW(0x335)][MW(0x6a8)](Ma),this[MW(0xd0a)]=Me[MW(0xb51)][MW(0x2da)](-0x1,-0x10,MW(0xca2)),this[MW(0xd0a)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c),'strokeThickness':0x2,'stroke':MW(0x9c6)}),this[MW(0xd0a)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x335)][MW(0x6a8)](this[MW(0xd0a)]);const MK=Me[MW(0xb51)][MW(0xa6e)](-0x1b,-0x11,MW(0xc82),MW(0x599));MK[MW(0xc25)][MW(0x304)](0.5),MK[MW(0x552)][MW(0x304)](0.8847322358498605),this[MW(0x335)][MW(0x6a8)](MK);const Ml=Me[MW(0xb51)][MW(0xa6e)](-0x1c,0x17,MW(0xc82),MW(0xd0c));Ml[MW(0xc25)][MW(0x304)](0.5),Ml[MW(0x552)][MW(0x304)](0.517462838025811),this[MW(0x335)][MW(0x6a8)](Ml),this[MW(0xf6)]=Me[MW(0xb51)][MW(0x2da)](-0x2,0x15,MW(0x76f)),this[MW(0xf6)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c),'strokeThickness':0x2,'stroke':MW(0xb3a)}),this[MW(0xf6)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x335)][MW(0x6a8)](this[MW(0xf6)]),this[MW(0x6a7)][MW(0x6a8)](this[MW(0x335)]),this[MW(0x71d)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x71d)]['x']=0x1f7,this[MW(0x71d)]['y']=0x74;const MV=Me[MW(0xb51)][MW(0x267)]();MV['x']=-0x9,MV['y']=0x4,MV[MW(0x19e)](0x7e6868,0x1),MV[MW(0x700)](0x2,0x37621),MV[MW(0x1e7)](0x0,0x0,12.5,12.5),MV[MW(0x366)](),MV[MW(0x552)][MW(0x304)](1.980209839762551),this[MW(0x71d)][MW(0x6a8)](MV),this[MW(0x7ef)]=Me[MW(0xb51)][MW(0xa6e)](-0x9,0x4,MW(0x77c),MW(0xc22)),this[MW(0x7ef)][MW(0x152)]=![],this[MW(0x7ef)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x7ef)][MW(0x552)][MW(0x304)](1.3487999518193798),this[MW(0x71d)][MW(0x6a8)](this[MW(0x7ef)]),this[MW(0x70c)]=Me[MW(0xb51)][MW(0x2da)](-0x9,0x4,'0'),this[MW(0x70c)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa94),'fill':MW(0x39c)}),this[MW(0x70c)][MW(0x152)]=![],this[MW(0x70c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x71d)][MW(0x6a8)](this[MW(0x70c)]),this[MW(0x6a7)][MW(0x6a8)](this[MW(0x71d)]),this[MW(0x74f)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x74f)]['x']=0x4aa,this[MW(0x74f)]['y']=0xa3,this[MW(0xbc0)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x1,MW(0xc82),MW(0x2d7)),this[MW(0xbc0)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xbc0)][MW(0x552)][MW(0x304)](0.6838251553098202),this[MW(0x74f)][MW(0x6a8)](this[MW(0xbc0)]),this[MW(0xc0f)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0xc0f)),this[MW(0xc0f)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xc0f)][MW(0x552)][MW(0x304)](0.6041080708562518),this[MW(0x74f)][MW(0x6a8)](this[MW(0xc0f)]),this[MW(0x6a7)][MW(0x6a8)](this[MW(0x74f)]),this[MW(0x68e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x68e)]['x']=0x31a,this[MW(0x68e)]['y']=0x8c;const Mk=Me[MW(0xb51)][MW(0x267)]();Mk['x']=-0xb,Mk['y']=-0x17,Mk[MW(0x19e)](0x7e6868,0x1),Mk[MW(0x700)](0x2,0x37621),Mk[MW(0x1e7)](0x0,0x0,12.5,12.5),Mk[MW(0x366)](),Mk[MW(0x552)][MW(0x304)](1.980209839762551),this[MW(0x68e)][MW(0x6a8)](Mk),this[MW(0xd2b)]=Me[MW(0xb51)][MW(0xa6e)](-0xa,-0x17,MW(0x77c),MW(0xc22)),this[MW(0xd2b)][MW(0x152)]=![],this[MW(0xd2b)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xd2b)][MW(0x552)][MW(0x304)](1.3487999518193798),this[MW(0x68e)][MW(0x6a8)](this[MW(0xd2b)]),this[MW(0xcba)]=Me[MW(0xb51)][MW(0x2da)](-0xa,-0x17,'0'),this[MW(0xcba)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa94),'fill':MW(0x39c)}),this[MW(0xcba)][MW(0x152)]=![],this[MW(0xcba)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x68e)][MW(0x6a8)](this[MW(0xcba)]),this[MW(0x6a7)][MW(0x6a8)](this[MW(0x68e)]),this[MW(0x695)][MW(0x6a8)](this[MW(0x6a7)]),this[MW(0x293)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x293)]['x']=0x117,this[MW(0x293)]['y']=0x31,this[MW(0x4f9)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x4f9)]['x']=0x99,this[MW(0x4f9)]['y']=-0x4,this[MW(0x293)][MW(0x6a8)](this[MW(0x4f9)]),this[MW(0x5cd)]=Me[MW(0xb51)][MW(0xb9c)]();const Mw=Me[MW(0xb51)][MW(0xb9c)]();Mw['x']=0xdc,this[MW(0x9da)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xc21)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0xd33)),this[MW(0xc21)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x9da)][MW(0x6a8)](this[MW(0xc21)]),this[MW(0x42b)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x6c1)),this[MW(0x42b)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x9da)][MW(0x6a8)](this[MW(0x42b)]),this[MW(0x56c)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x9de)),this[MW(0x56c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x9da)][MW(0x6a8)](this[MW(0x56c)]),Mw[MW(0x6a8)](this[MW(0x9da)]),this[MW(0x9d1)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0x9d1)][MW(0x19e)](0xffffff,0x1),this[MW(0x9d1)][MW(0x1e7)](0x0,0x0,0x28,0x28),this[MW(0x9d1)][MW(0x366)](),Mw[MW(0x6a8)](this[MW(0x9d1)]),this[MW(0x941)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0x941)][MW(0x2a0)]=0.6,this[MW(0x941)][MW(0x19e)](0xffffff,0x1),this[MW(0x941)][MW(0x298)](0x0,0x0,0x0,0x0),this[MW(0x941)][MW(0x366)](),this[MW(0x941)][MW(0x3d9)](0.5),Mw[MW(0x6a8)](this[MW(0x941)]),this[MW(0x5cd)][MW(0x6a8)](Mw),this[MW(0x27e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x823)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x111)),this[MW(0x823)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x27e)][MW(0x6a8)](this[MW(0x823)]),this[MW(0x670)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x830)),this[MW(0x670)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x27e)][MW(0x6a8)](this[MW(0x670)]),this[MW(0x9d7)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x56d)),this[MW(0x9d7)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x9d7)][MW(0x552)][MW(0x304)](0.8597865051395489,0x1),this[MW(0x27e)][MW(0x6a8)](this[MW(0x9d7)]),this[MW(0x56b)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x706)),this[MW(0x56b)][MW(0x152)]=![],this[MW(0x56b)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x27e)][MW(0x6a8)](this[MW(0x56b)]),this[MW(0x6c7)]=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xc51)),this[MW(0x6c7)][MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0xb64),'fill':MW(0x39c),'wordWrapWidth':0xf0,'wordWrap':!![],'maxLines':0x1}),this[MW(0x6c7)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x27e)][MW(0x6a8)](this[MW(0x6c7)]),this[MW(0x5cd)][MW(0x6a8)](this[MW(0x27e)]),this[MW(0x293)][MW(0x6a8)](this[MW(0x5cd)]),this[MW(0x145)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x145)]['x']=0x200,this[MW(0x145)]['y']=0x1,this[MW(0x22e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x22e)]['x']=-0xc4,this[MW(0x5ea)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x36e)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0xd33)),this[MW(0x36e)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ea)][MW(0x6a8)](this[MW(0x36e)]),this[MW(0x1ad)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x6c1)),this[MW(0x1ad)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ea)][MW(0x6a8)](this[MW(0x1ad)]),this[MW(0x88a)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x9de)),this[MW(0x88a)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ea)][MW(0x6a8)](this[MW(0x88a)]),this[MW(0x22e)][MW(0x6a8)](this[MW(0x5ea)]),this[MW(0x747)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0x747)][MW(0x19e)](0xffffff,0x1),this[MW(0x747)][MW(0x1e7)](0x0,0x0,0x28,0x28),this[MW(0x747)][MW(0x366)](),this[MW(0x22e)][MW(0x6a8)](this[MW(0x747)]),this[MW(0xc2a)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0xc2a)][MW(0x2a0)]=0.6,this[MW(0xc2a)][MW(0x19e)](0xffffff,0x1),this[MW(0xc2a)][MW(0x298)](0x0,0x0,0x0,0x0),this[MW(0xc2a)][MW(0x366)](),this[MW(0xc2a)][MW(0x3d9)](0.5),this[MW(0x22e)][MW(0x6a8)](this[MW(0xc2a)]),this[MW(0x145)][MW(0x6a8)](this[MW(0x22e)]),this[MW(0x43c)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x43c)]['x']=-0x6f,this[MW(0x43c)]['y']=-0x4,this[MW(0x145)][MW(0x6a8)](this[MW(0x43c)]),this[MW(0x723)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x723)]['x']=0x1f,this[MW(0x93a)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x111)),this[MW(0x93a)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x723)][MW(0x6a8)](this[MW(0x93a)]),this[MW(0x934)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x830)),this[MW(0x934)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x723)][MW(0x6a8)](this[MW(0x934)]),this[MW(0xa2a)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x56d)),this[MW(0xa2a)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa2a)][MW(0x552)][MW(0x304)](0.8597865051395489,0x1),this[MW(0x723)][MW(0x6a8)](this[MW(0xa2a)]),this[MW(0xaac)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x9b9),MW(0x706)),this[MW(0xaac)][MW(0x152)]=![],this[MW(0xaac)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x723)][MW(0x6a8)](this[MW(0xaac)]),this[MW(0x444)]=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xd18)),this[MW(0x444)][MW(0x67b)]({'font':MW(0xac2),'fontSize':MW(0xb64),'fill':MW(0x39c),'wordWrapWidth':0xf0,'wordWrap':!![],'maxLines':0x1}),this[MW(0x444)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x723)][MW(0x6a8)](this[MW(0x444)]),this[MW(0x145)][MW(0x6a8)](this[MW(0x723)]),this[MW(0x293)][MW(0x6a8)](this[MW(0x145)]),this[MW(0xd4c)]=Me[MW(0xb51)][MW(0xa6e)](-0xce,0x3,MW(0xc82),MW(0x755)),this[MW(0xd4c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xd4c)][MW(0x552)][MW(0x304)](0.9692462885656266),this[MW(0x293)][MW(0x6a8)](this[MW(0xd4c)]),this[MW(0xc5a)]=Me[MW(0xb51)][MW(0xa6e)](0x2c0,0x3,MW(0xc82),MW(0x2d7)),this[MW(0xc5a)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xc5a)][MW(0x552)][MW(0x304)](0.8),this[MW(0x293)][MW(0x6a8)](this[MW(0xc5a)]),this[MW(0x30a)]=Me[MW(0xb51)][MW(0xa6e)](0x2c0,0x3,MW(0x44c)),this[MW(0x30a)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x30a)][MW(0x552)][MW(0x304)](0.8451923988434624),this[MW(0x293)][MW(0x6a8)](this[MW(0x30a)]),this[MW(0x695)][MW(0x6a8)](this[MW(0x293)]),this[MW(0xbef)]=Me[MW(0xb51)][MW(0xa6e)](0x410,0x18,MW(0xc82),MW(0x427)),this[MW(0xbef)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x695)][MW(0x6a8)](this[MW(0xbef)]),this[MW(0xca5)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xca5)]['x']=0x1a,this[MW(0xca5)]['y']=0x211,this[MW(0x87e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x87e)]['y']=-0x12,this[MW(0xa2c)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x890)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x890)]['y']=0x129,this[MW(0x31c)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x1b9),MW(0x633)),this[MW(0x31c)][MW(0x152)]=![],this[MW(0x31c)][MW(0xc25)][MW(0x304)](0.5,0x1),this[MW(0x31c)][MW(0x552)][MW(0x304)](1.0808894328151546),this[MW(0x890)][MW(0x6a8)](this[MW(0x31c)]),this[MW(0xa2c)][MW(0x6a8)](this[MW(0x890)]),this[MW(0x87e)][MW(0x6a8)](this[MW(0xa2c)]),this[MW(0x901)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x614)),this[MW(0x901)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x87e)][MW(0x6a8)](this[MW(0x901)]),this[MW(0x59e)]=Me[MW(0xb51)][MW(0x2da)](0x6,0xb,MW(0x666)),this[MW(0x59e)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x59e)][MW(0x51f)]=0x5a,this[MW(0x59e)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x87e)][MW(0x6a8)](this[MW(0x59e)]),this[MW(0xca5)][MW(0x6a8)](this[MW(0x87e)]),this[MW(0x17c)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x17c)]['x']=0x497,this[MW(0x17c)]['y']=0x5,this[MW(0xd3b)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xd3b)]['x']=-0x1a,this[MW(0x540)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x540)]['y']=0x129,this[MW(0x9ee)]=Me[MW(0xb51)][MW(0xa6e)](0x8,0x0,MW(0x1b9),MW(0x633)),this[MW(0x9ee)][MW(0x152)]=![],this[MW(0x9ee)][MW(0xc25)][MW(0x304)](0.5,0x1),this[MW(0x9ee)][MW(0x552)][MW(0x304)](1.0808894328151546),this[MW(0x540)][MW(0x6a8)](this[MW(0x9ee)]),this[MW(0xd3b)][MW(0x6a8)](this[MW(0x540)]),this[MW(0x17c)][MW(0x6a8)](this[MW(0xd3b)]),this[MW(0x1cc)]=Me[MW(0xb51)][MW(0xa6e)](0x0,-0x1b,MW(0xc82),MW(0x614)),this[MW(0x1cc)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x1cc)][MW(0x552)][MW(0x304)](-0x1,0x1),this[MW(0x17c)][MW(0x6a8)](this[MW(0x1cc)]),this[MW(0xb0e)]=Me[MW(0xb51)][MW(0x2da)](-0x1d,-0xe,MW(0x666)),this[MW(0xb0e)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0xb0e)][MW(0x51f)]=0x5a,this[MW(0xb0e)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb0e)][MW(0x552)][MW(0x304)](-0x1),this[MW(0x17c)][MW(0x6a8)](this[MW(0xb0e)]),this[MW(0xca5)][MW(0x6a8)](this[MW(0x17c)]),this[MW(0x695)][MW(0x6a8)](this[MW(0xca5)]),this[MW(0xb8a)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xb8a)]['x']=0x27b,this[MW(0xb8a)]['y']=0x22e,this[MW(0xb8a)][MW(0x152)]=![],this[MW(0x91e)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0x91e)]['x']=-0x26,this[MW(0x91e)]['y']=-0x26,this[MW(0x91e)][MW(0x19e)](0xffffff,0x1),this[MW(0x91e)][MW(0x298)](0x0,0x0,0x4b0,0x41a),this[MW(0x91e)][MW(0x366)](),this[MW(0x91e)][MW(0x7e1)]=MW(0x91e),this[MW(0x91e)][MW(0x2a0)]=0.33,this[MW(0x91e)][MW(0x3d9)](0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x91e)]),this[MW(0x433)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x9a0)),this[MW(0x433)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x433)]),this[MW(0xa09)]=Me[MW(0xb51)][MW(0x2da)](-0x1,-0x11d,MW(0x9d4)),this[MW(0xa09)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x529)}),this[MW(0xa09)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0xa09)]),this[MW(0x858)]=Me[MW(0xb51)][MW(0x2da)](-0x19,-0xea,MW(0x875)),this[MW(0x858)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0xb61),'wordWrapWidth':0x14a,'wordWrap':!![],'maxLines':0x1}),this[MW(0x858)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x858)]),this[MW(0x4be)]=Me[MW(0xb51)][MW(0x2da)](-0x1a,-0xbb,MW(0x575)),this[MW(0x4be)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0xa42)}),this[MW(0x4be)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x4be)]),this[MW(0x390)]=Me[MW(0xb51)][MW(0xa6e)](-0x5,-0x8e,MW(0x334),MW(0x812)),this[MW(0x390)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x390)][MW(0x552)][MW(0x304)](0.26517694065035946),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x390)]),this[MW(0x1c6)]=Me[MW(0xb51)][MW(0x2da)](0x1a,-0x8f,MW(0x977)),this[MW(0x1c6)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0xa42),'wordWrapWidth':0x136,'wordWrap':!![],'maxLines':0x1}),this[MW(0x1c6)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x1c6)]),this[MW(0x7ac)]=Me[MW(0xb51)][MW(0x2da)](-0x1b,-0x70,''),this[MW(0x7ac)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0xa42),'wordWrapWidth':0x12c,'wordWrap':!![],'maxLines':0x3,'lineSpacing':0xa}),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x7ac)]),this[MW(0xd32)]=Me[MW(0xb51)][MW(0x2da)](-0x108,0xed,MW(0x530)),this[MW(0xd32)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x91c)}),this[MW(0xd32)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0xd32)]),this[MW(0x2c5)]=Me[MW(0xb51)][MW(0x2da)](-0x108,0xbd,MW(0x33b)),this[MW(0x2c5)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x91c)}),this[MW(0x2c5)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x2c5)]),this[MW(0x8f3)]=Me[MW(0xb51)][MW(0x2da)](-0x108,0x8d,MW(0xb50)),this[MW(0x8f3)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x91c)}),this[MW(0x8f3)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x8f3)]),this[MW(0x73b)]=Me[MW(0xb51)][MW(0x2da)](-0x108,0x63,MW(0x35b)),this[MW(0x73b)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x91c)}),this[MW(0x73b)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x73b)]),this[MW(0x6cf)]=Me[MW(0xb51)][MW(0x2da)](-0x108,0x35,MW(0xb94)),this[MW(0x6cf)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x91c)}),this[MW(0x6cf)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x6cf)]),this[MW(0x6e3)]=Me[MW(0xb51)][MW(0x2da)](-0x108,0xa,MW(0xc28)),this[MW(0x6e3)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x91c)}),this[MW(0x6e3)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x6e3)]);const MH=Me[MW(0xb51)][MW(0xa6e)](-0x18,0xa,MW(0xc82),MW(0x129));MH[MW(0xc25)][MW(0x304)](0.5),MH[MW(0x552)][MW(0x304)](0.623885821612211),this[MW(0xb8a)][MW(0x6a8)](MH),this[MW(0x7c0)]=Me[MW(0xb51)][MW(0x2da)](-0x1a,0xa,'65'),this[MW(0x7c0)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0xae5),'align':MW(0xce6)}),this[MW(0x7c0)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x7c0)]),this[MW(0x3bf)]=Me[MW(0xb51)][MW(0x2da)](-0x3,0x3a,MW(0x376)),this[MW(0x3bf)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x1bd)}),this[MW(0x3bf)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x3bf)]),this[MW(0x718)]=Me[MW(0xb51)][MW(0x2da)](-0x24,0x63,MW(0xcb2)),this[MW(0x718)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x718)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x718)]),this[MW(0x94e)]=Me[MW(0xb51)][MW(0x2da)](-0x24,0x91,MW(0x745)),this[MW(0x94e)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x94e)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x94e)]),this[MW(0xc42)]=Me[MW(0xb51)][MW(0x2da)](-0x24,0xc0,MW(0x982)),this[MW(0xc42)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0xc42)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0xc42)]),this[MW(0x915)]=Me[MW(0xb51)][MW(0x2da)](-0x24,0xee,MW(0x851)),this[MW(0x915)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x915)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x915)]);const Mb=Me[MW(0xb51)][MW(0xa6e)](-0x1c,0x38,MW(0xc82),MW(0x599));Mb[MW(0xc25)][MW(0x304)](0.5),Mb[MW(0x552)][MW(0x304)](0.7805725310752842),this[MW(0xb8a)][MW(0x6a8)](Mb),this[MW(0x6ff)]=Me[MW(0xb51)][MW(0x2da)](-0x106,0x10f,MW(0x919)),this[MW(0x6ff)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x91c)}),this[MW(0x6ff)][MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x6ff)][MW(0x552)][MW(0x304)](0.858213138965892),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x6ff)]),this[MW(0x72e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x72e)]['x']=-0xaa,this[MW(0x72e)]['y']=-0x87,this[MW(0x913)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0xd2a)),this[MW(0x913)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x913)][MW(0x552)][MW(0x304)](1.81719471887699),this[MW(0x72e)][MW(0x6a8)](this[MW(0x913)]),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x72e)]),this[MW(0x3d8)]=Me[MW(0xb51)][MW(0xa6e)](0xd4,-0xe7,MW(0xa14),MW(0xb5c)),this[MW(0x3d8)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x3d8)][MW(0x552)][MW(0x304)](0.5317693867548868),this[MW(0xb8a)][MW(0x6a8)](this[MW(0x3d8)]),this[MW(0x695)][MW(0x6a8)](this[MW(0xb8a)]),this[MW(0xcf0)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xcf0)]['x']=0x1b0,this[MW(0xcf0)]['y']=0xff,this[MW(0xcf0)][MW(0x152)]=![],this[MW(0x7b1)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0x7b1)]['x']=-0x1b0,this[MW(0x7b1)]['y']=-0x100,this[MW(0x7b1)][MW(0x19e)](0xffffff,0x1),this[MW(0x7b1)][MW(0x298)](0x0,0x0,0x500,0x438),this[MW(0x7b1)][MW(0x366)](),this[MW(0x7b1)][MW(0x7e1)]=MW(0x7b1),this[MW(0x7b1)][MW(0x2a0)]=0.33,this[MW(0x7b1)][MW(0x152)]=![],this[MW(0xcf0)][MW(0x6a8)](this[MW(0x7b1)]);const P0=Me[MW(0xb51)][MW(0xa6e)](0xca,0xe8,MW(0xc82),MW(0x956));P0[MW(0xc25)][MW(0x304)](0.5),P0[MW(0x552)][MW(0x304)](1.2117340421905842,1.2565219758686834),this[MW(0xcf0)][MW(0x6a8)](P0),this[MW(0x668)]=Me[MW(0xb51)][MW(0xa6e)](0x202,0x0,MW(0xc82),MW(0x96b)),this[MW(0x668)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x668)][MW(0x552)][MW(0x304)](0.4084145720273012),this[MW(0xcf0)][MW(0x6a8)](this[MW(0x668)]);const P1=Me[MW(0xb51)][MW(0x2da)](0x201,-0x4,'x');P1[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),P1[MW(0xc25)][MW(0x304)](0.5),this[MW(0xcf0)][MW(0x6a8)](P1);const P2=Me[MW(0xb51)][MW(0x2da)](0xc9,0x0,MW(0xc83));P2[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0xc2b)}),P2[MW(0xc25)][MW(0x304)](0.5),this[MW(0xcf0)][MW(0x6a8)](P2),this[MW(0x5ca)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x5ca)]['y']=0x14d,this[MW(0xc56)]=Me[MW(0xb51)][MW(0x2da)](0x0,0x28,MW(0xc19)),this[MW(0xc56)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0xc56)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ca)][MW(0x6a8)](this[MW(0xc56)]),this[MW(0x191)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x7,MW(0xc19)),this[MW(0x191)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x191)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ca)][MW(0x6a8)](this[MW(0x191)]),this[MW(0x4c5)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x35,MW(0xc19)),this[MW(0x4c5)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x4c5)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ca)][MW(0x6a8)](this[MW(0x4c5)]),this[MW(0x7b7)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x62,MW(0xc19)),this[MW(0x7b7)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x7b7)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ca)][MW(0x6a8)](this[MW(0x7b7)]),this[MW(0x584)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x91,MW(0xc19)),this[MW(0x584)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x584)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ca)][MW(0x6a8)](this[MW(0x584)]),this[MW(0x1bb)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0xbf,MW(0xc19)),this[MW(0x1bb)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x1bb)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ca)][MW(0x6a8)](this[MW(0x1bb)]),this[MW(0x5a4)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0xef,MW(0xc19)),this[MW(0x5a4)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x5a4)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x5ca)][MW(0x6a8)](this[MW(0x5a4)]),this[MW(0x389)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x389)]['x']=-0x16,this[MW(0x389)]['y']=-0x11a,this[MW(0x59a)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x59a)][MW(0x152)]=![];const P3=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xc92));P3[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c),'strokeThickness':0x2,'stroke':MW(0x9c6)}),P3[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x59a)][MW(0x6a8)](P3);const P4=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x599));P4[MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0x59a)][MW(0x6a8)](P4);const P5=Me[MW(0xb51)][MW(0x267)]();P5[MW(0x19e)](0xffffff,0x1),P5[MW(0x298)](0x0,0x0,0x80,0x80),P5[MW(0x366)](),P5[MW(0x152)]=![],P5[MW(0x3d9)](0.5),P5[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0x59a)][MW(0x6a8)](P5),this[MW(0x389)][MW(0x6a8)](this[MW(0x59a)]),this[MW(0xbe8)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xbe8)]['x']=0xb,this[MW(0xbe8)][MW(0x152)]=![];const P6=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0x82a));P6[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x6ab),'strokeThickness':0x2,'stroke':MW(0xae5)}),P6[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xbe8)][MW(0x6a8)](P6);const P7=Me[MW(0xb51)][MW(0xa6e)](-0x8,0x0,MW(0xc82),MW(0x3ba));P7[MW(0xc25)][MW(0x304)](0x1,0.5),P7[MW(0x552)][MW(0x304)](1.3639752648527508),this[MW(0xbe8)][MW(0x6a8)](P7);const P8=Me[MW(0xb51)][MW(0x267)]();P8[MW(0x19e)](0xffffff,0x1),P8[MW(0x298)](0x0,0x0,0x80,0x80),P8[MW(0x366)](),P8[MW(0x152)]=![],P8[MW(0x3d9)](0.5),P8[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0xbe8)][MW(0x6a8)](P8),this[MW(0x389)][MW(0x6a8)](this[MW(0xbe8)]),this[MW(0x202)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x202)]['x']=-0x2,this[MW(0x202)][MW(0x152)]=![];const P9=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xd1f));P9[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x768),'strokeThickness':0x2,'stroke':MW(0xae5)}),P9[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x202)][MW(0x6a8)](P9);const Pe=Me[MW(0xb51)][MW(0xa6e)](-0x8,0x0,MW(0xc82),MW(0x70f));Pe[MW(0xc25)][MW(0x304)](0x1,0.5),Pe[MW(0x552)][MW(0x304)](1.3639752648527508),this[MW(0x202)][MW(0x6a8)](Pe);const Pn=Me[MW(0xb51)][MW(0x267)]();Pn[MW(0x19e)](0xffffff,0x1),Pn[MW(0x298)](0x0,0x0,0x80,0x80),Pn[MW(0x366)](),Pn[MW(0x152)]=![],Pn[MW(0x3d9)](0.5),Pn[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0x202)][MW(0x6a8)](Pn),this[MW(0x389)][MW(0x6a8)](this[MW(0x202)]),this[MW(0x2af)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x2af)]['x']=-0x1d,this[MW(0x2af)][MW(0x152)]=![];const Pp=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xab0));Pp[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x768),'strokeThickness':0x2,'stroke':MW(0xae5)}),Pp[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x2af)][MW(0x6a8)](Pp);const PD=Me[MW(0xb51)][MW(0xa6e)](-0x8,0x0,MW(0xc82),MW(0x573));PD[MW(0xc25)][MW(0x304)](0x1,0.5),PD[MW(0x552)][MW(0x304)](1.3639752648527508),this[MW(0x2af)][MW(0x6a8)](PD);const PL=Me[MW(0xb51)][MW(0x267)]();PL[MW(0x19e)](0xffffff,0x1),PL[MW(0x298)](0x0,0x0,0x80,0x80),PL[MW(0x366)](),PL[MW(0x152)]=![],PL[MW(0x3d9)](0.5),PL[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0x2af)][MW(0x6a8)](PL),this[MW(0x389)][MW(0x6a8)](this[MW(0x2af)]),this[MW(0x5ca)][MW(0x6a8)](this[MW(0x389)]),this[MW(0xcf0)][MW(0x6a8)](this[MW(0x5ca)]),this[MW(0x76e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x76e)]['x']=0xc9,this[MW(0x76e)]['y']=0x14d;const PE=Me[MW(0xb51)][MW(0x2da)](0x0,0x28,MW(0x631));PE[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),PE[MW(0xc25)][MW(0x304)](0.5),this[MW(0x76e)][MW(0x6a8)](PE);const PR=Me[MW(0xb51)][MW(0x2da)](0x0,-0x7,MW(0xee));PR[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),PR[MW(0xc25)][MW(0x304)](0.5),this[MW(0x76e)][MW(0x6a8)](PR);const PM=Me[MW(0xb51)][MW(0x2da)](0x0,-0x35,MW(0x90a));PM[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),PM[MW(0xc25)][MW(0x304)](0.5),this[MW(0x76e)][MW(0x6a8)](PM);const PP=Me[MW(0xb51)][MW(0x2da)](0x0,-0x62,MW(0xc74));PP[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),PP[MW(0xc25)][MW(0x304)](0.5),this[MW(0x76e)][MW(0x6a8)](PP);const PS=Me[MW(0xb51)][MW(0x2da)](0x0,-0x91,MW(0x636));PS[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),PS[MW(0xc25)][MW(0x304)](0.5),this[MW(0x76e)][MW(0x6a8)](PS);const PW=Me[MW(0xb51)][MW(0x2da)](0x0,-0xbf,MW(0x2e3));PW[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),PW[MW(0xc25)][MW(0x304)](0.5),this[MW(0x76e)][MW(0x6a8)](PW);const Pv=Me[MW(0xb51)][MW(0x2da)](0x0,-0xef,MW(0x8e2));Pv[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),Pv[MW(0xc25)][MW(0x304)](0.5),this[MW(0x76e)][MW(0x6a8)](Pv),this[MW(0xcf0)][MW(0x6a8)](this[MW(0x76e)]),this[MW(0x1a1)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x1a1)]['x']=0x1a6,this[MW(0x1a1)]['y']=0x14d,this[MW(0x309)]=Me[MW(0xb51)][MW(0x2da)](0x0,0x28,MW(0xc19)),this[MW(0x309)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x309)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x1a1)][MW(0x6a8)](this[MW(0x309)]),this[MW(0xc68)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x7,MW(0xc19)),this[MW(0xc68)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0xc68)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x1a1)][MW(0x6a8)](this[MW(0xc68)]),this[MW(0x292)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x35,MW(0xc19)),this[MW(0x292)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x292)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x1a1)][MW(0x6a8)](this[MW(0x292)]),this[MW(0x6d4)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x62,MW(0xc19)),this[MW(0x6d4)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x6d4)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x1a1)][MW(0x6a8)](this[MW(0x6d4)]),this[MW(0xa7b)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x91,MW(0xc19)),this[MW(0xa7b)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0xa7b)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x1a1)][MW(0x6a8)](this[MW(0xa7b)]),this[MW(0x2bd)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0xbf,MW(0xc19)),this[MW(0x2bd)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0x2bd)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x1a1)][MW(0x6a8)](this[MW(0x2bd)]),this[MW(0xd0f)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0xef,MW(0xc19)),this[MW(0xd0f)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c)}),this[MW(0xd0f)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x1a1)][MW(0x6a8)](this[MW(0xd0f)]),this[MW(0x35e)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x35e)]['x']=-0x1d,this[MW(0x35e)]['y']=-0x117,this[MW(0x93c)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x93c)]['x']=-0x15,this[MW(0x93c)][MW(0x152)]=![];const Pg=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xab0));Pg[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x768),'strokeThickness':0x2,'stroke':MW(0xae5)}),Pg[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x93c)][MW(0x6a8)](Pg);const PJ=Me[MW(0xb51)][MW(0xa6e)](-0x8,0x0,MW(0xc82),MW(0x573));PJ[MW(0xc25)][MW(0x304)](0x1,0.5),PJ[MW(0x552)][MW(0x304)](1.3639752648527508),this[MW(0x93c)][MW(0x6a8)](PJ);const PB=Me[MW(0xb51)][MW(0x267)]();PB[MW(0x19e)](0xffffff,0x1),PB[MW(0x298)](0x0,0x0,0x80,0x80),PB[MW(0x366)](),PB[MW(0x152)]=![],PB[MW(0x3d9)](0.5),PB[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0x93c)][MW(0x6a8)](PB),this[MW(0x35e)][MW(0x6a8)](this[MW(0x93c)]),this[MW(0xc24)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0xc24)]['x']=-0x6,this[MW(0xc24)][MW(0x152)]=![];const Ps=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xd1f));Ps[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x768),'strokeThickness':0x2,'stroke':MW(0xae5)}),Ps[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0xc24)][MW(0x6a8)](Ps);const Py=Me[MW(0xb51)][MW(0xa6e)](-0x8,0x0,MW(0xc82),MW(0x70f));Py[MW(0xc25)][MW(0x304)](0x1,0.5),Py[MW(0x552)][MW(0x304)](1.3639752648527508),this[MW(0xc24)][MW(0x6a8)](Py);const Pq=Me[MW(0xb51)][MW(0x267)]();Pq[MW(0x19e)](0xffffff,0x1),Pq[MW(0x298)](0x0,0x0,0x80,0x80),Pq[MW(0x366)](),Pq[MW(0x152)]=![],Pq[MW(0x3d9)](0.5),Pq[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0xc24)][MW(0x6a8)](Pq),this[MW(0x35e)][MW(0x6a8)](this[MW(0xc24)]),this[MW(0x25b)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x25b)]['x']=0xe,this[MW(0x25b)][MW(0x152)]=![];const Px=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0x82a));Px[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x6ab),'strokeThickness':0x2,'stroke':MW(0xae5)}),Px[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x25b)][MW(0x6a8)](Px);const PZ=Me[MW(0xb51)][MW(0xa6e)](-0x8,0x0,MW(0xc82),MW(0x3ba));PZ[MW(0xc25)][MW(0x304)](0x1,0.5),PZ[MW(0x552)][MW(0x304)](1.3639752648527508),this[MW(0x25b)][MW(0x6a8)](PZ);const Pf=Me[MW(0xb51)][MW(0x267)]();Pf[MW(0x19e)](0xffffff,0x1),Pf[MW(0x298)](0x0,0x0,0x80,0x80),Pf[MW(0x366)](),Pf[MW(0x152)]=![],Pf[MW(0x3d9)](0.5),Pf[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0x25b)][MW(0x6a8)](Pf),this[MW(0x35e)][MW(0x6a8)](this[MW(0x25b)]),this[MW(0x20d)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x20d)]['x']=-0x4,this[MW(0x20d)][MW(0x152)]=![];const PN=Me[MW(0xb51)][MW(0x2da)](0x0,0x0,MW(0xc92));PN[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xd34),'fill':MW(0x39c),'strokeThickness':0x2,'stroke':MW(0x9c6)}),PN[MW(0xc25)][MW(0x304)](0x0,0.5),this[MW(0x20d)][MW(0x6a8)](PN);const PG=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x599));PG[MW(0xc25)][MW(0x304)](0x1,0.5),this[MW(0x20d)][MW(0x6a8)](PG);const PF=Me[MW(0xb51)][MW(0x267)]();PF[MW(0x19e)](0xffffff,0x1),PF[MW(0x298)](0x0,0x0,0x80,0x80),PF[MW(0x366)](),PF[MW(0x152)]=![],PF[MW(0x3d9)](0.5),PF[MW(0x552)][MW(0x304)](0.9287346161108522,0.3914627427798699),this[MW(0x20d)][MW(0x6a8)](PF),this[MW(0x35e)][MW(0x6a8)](this[MW(0x20d)]),this[MW(0x1a1)][MW(0x6a8)](this[MW(0x35e)]),this[MW(0xcf0)][MW(0x6a8)](this[MW(0x1a1)]),this[MW(0x825)]=Me[MW(0xb51)][MW(0xa6e)](0x1a2,0x5,MW(0x334),MW(0x6fd)),this[MW(0x825)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x825)][MW(0x552)][MW(0x304)](0.2854100918265164),this[MW(0xcf0)][MW(0x6a8)](this[MW(0x825)]),this[MW(0x185)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x3,MW(0x334),MW(0x6fd)),this[MW(0x185)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x185)][MW(0x552)][MW(0x304)](0.2854100918265164),this[MW(0xcf0)][MW(0x6a8)](this[MW(0x185)]),this[MW(0x320)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x320)]['x']=0xcb,this[MW(0x320)]['y']=0x1ba,this[MW(0xa1c)]=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0xc82),MW(0x65a)),this[MW(0xa1c)][MW(0xc25)][MW(0x304)](0.5),this[MW(0xa1c)][MW(0x552)][MW(0x304)](1.1714346495499208),this[MW(0x320)][MW(0x6a8)](this[MW(0xa1c)]);const Pi=Me[MW(0xb51)][MW(0x2da)](0x2,0x0,'OK');Pi[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x8c7),'fill':MW(0x39c)}),Pi[MW(0xc25)][MW(0x304)](0.5),this[MW(0x320)][MW(0x6a8)](Pi),this[MW(0xcf0)][MW(0x6a8)](this[MW(0x320)]),this[MW(0x695)][MW(0x6a8)](this[MW(0xcf0)]),this[MW(0x8a4)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x8a4)]['x']=0x277,this[MW(0x8a4)]['y']=0x21c,this[MW(0x8a4)][MW(0x152)]=![];const Pr=Me[MW(0xb51)][MW(0x267)]();Pr['x']=-0x19,Pr['y']=-0xf,Pr[MW(0x19e)](0xffffff,0x1),Pr[MW(0x298)](0x0,0x0,0x500,0x438),Pr[MW(0x366)](),Pr[MW(0x2a0)]=0.32,Pr[MW(0x3d9)](0.5),this[MW(0x8a4)][MW(0x6a8)](Pr);const Pt=Me[MW(0xb51)][MW(0x267)]();Pt['y']=-0x26,Pt[MW(0x19e)](0x0,0x1),Pt[MW(0x298)](0x0,0x0,0x244,0x118),Pt[MW(0x366)](),Pt[MW(0x3d9)](0.5),this[MW(0x8a4)][MW(0x6a8)](Pt);const PC=Me[MW(0xb51)][MW(0x2da)](0x0,-0x9c,MW(0x620));PC[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xa08),'fill':MW(0x263)}),PC[MW(0xc25)][MW(0x304)](0.5),this[MW(0x8a4)][MW(0x6a8)](PC);const PT=Me[MW(0xb51)][MW(0x2da)](0x0,-0x3b,MW(0x5e7));PT[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c),'align':MW(0xce6)}),PT[MW(0xc25)][MW(0x304)](0.5),this[MW(0x8a4)][MW(0x6a8)](PT),this[MW(0x116)]=Me[MW(0xb51)][MW(0xa6e)](-0x77,0x38,MW(0xc82),MW(0x65a)),this[MW(0x116)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x116)][MW(0x552)][MW(0x304)](1.240738634592132),this[MW(0x8a4)][MW(0x6a8)](this[MW(0x116)]);const Pz=Me[MW(0xb51)][MW(0x2da)](-119.16905975341797,54.64277267456055,MW(0x620));Pz[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x7c9),'fill':MW(0x39c),'align':MW(0xce6)}),Pz[MW(0xc25)][MW(0x304)](0.5),this[MW(0x8a4)][MW(0x6a8)](Pz),this[MW(0x421)]=Me[MW(0xb51)][MW(0xa6e)](0x70,0x37,MW(0xc82),MW(0x65a)),this[MW(0x421)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x421)][MW(0x552)][MW(0x304)](1.240738634592132),this[MW(0x8a4)][MW(0x6a8)](this[MW(0x421)]);const Ph=Me[MW(0xb51)][MW(0x2da)](0x70,0x35,MW(0x4e6));Ph[MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0x8c7),'fill':MW(0x39c),'align':MW(0xce6)}),Ph[MW(0xc25)][MW(0x304)](0.5),this[MW(0x8a4)][MW(0x6a8)](Ph),this[MW(0x695)][MW(0x6a8)](this[MW(0x8a4)]),this[MW(0x13d)]=Me[MW(0xb51)][MW(0xb9c)](),this[MW(0x13d)]['x']=0x27e,this[MW(0x13d)]['y']=0x1fe,this[MW(0x13d)][MW(0x152)]=![],this[MW(0x627)]=Me[MW(0xb51)][MW(0x267)](),this[MW(0x627)][MW(0x19e)](0x0,0x1),this[MW(0x627)][MW(0x298)](0x0,0x0,0x500,0x438),this[MW(0x627)][MW(0x366)](),this[MW(0x627)][MW(0x3d9)](0.5),this[MW(0x13d)][MW(0x6a8)](this[MW(0x627)]),this[MW(0x92d)]=Me[MW(0xb51)][MW(0x2da)](0x0,-0x3b,MW(0xb11)),this[MW(0x92d)][MW(0x67b)]({'font':MW(0xac2),'fontStyle':MW(0x285),'fontSize':MW(0xb64),'fill':MW(0x39c),'align':MW(0xce6)}),this[MW(0x92d)][MW(0xc25)][MW(0x304)](0.5),this[MW(0x13d)][MW(0x6a8)](this[MW(0x92d)]),this[MW(0x695)][MW(0x6a8)](this[MW(0x13d)]),Mv[MW(0x6a8)](this[MW(0x695)]);}this[MW(0x301)]=[this[MW(0x9da)],this[MW(0x5ea)],this[MW(0x5a2)],this[MW(0x79b)]],this[MW(0x1d0)][MW(0x2de)]=0x705070;},Rv[n2(0xa3a)][n2(0xabd)]=function(){var MS=n2;this[MS(0x5ed)](Dy),this[MS(0x44c)][MS(0x983)]=!![],this[MS(0x44c)][MS(0xa9f)][MS(0x19b)][MS(0xb51)](()=>{var Mg=MS;ER[Mg(0x182)][Mg(0x891)][Mg(0xa9f)][Mg(0x19b)][Mg(0x663)](()=>{var MJ=Mg;E6[MJ(0x3f4)](MJ(0xdf)),ER[MJ(0x182)][MJ(0x891)][MJ(0x552)][MJ(0x304)](0.5601748558550455),ER[MJ(0x182)][MJ(0xa5e)][MJ(0x7ba)](),ER[MJ(0x918)](ER[MJ(0x182)][MJ(0x891)],!!![]),ER[MJ(0x918)](this[MJ(0x695)],!![]);}),E6[Mg(0x3f4)](Mg(0xdf)),this[Mg(0x44c)][Mg(0x552)][Mg(0x304)](0x1),no=!![],EE[Mg(0x935)][Mg(0x120)](0x1),nu[Mg(0x353)](Mg(0x1ac),{'user_id':M6[Mg(0x234)]()[Mg(0x605)]},async MJ=>{var MB=Mg;ER[MB(0x182)][MB(0x891)][MB(0x155)]=this[MB(0x695)],EE[MB(0x935)][MB(0x9f1)]();if(MJ&&MJ[MB(0xbfd)]!==!![]&&MJ[MB(0x16a)]>=0x0){Me[MB(0x126)][MB(0x4a2)](ER[MB(0x182)][MB(0x7ca)]),Me[MB(0x126)][MB(0x4a2)](ER[MB(0x182)][MB(0xa5e)]),ER[MB(0x182)][MB(0xa5e)][MB(0xc99)](),ER[MB(0x918)](this[MB(0x695)],!!![]),ER[MB(0x918)](ER[MB(0x182)][MB(0x891)],!![]),ER[MB(0x182)][MB(0x4df)][MB(0xa3f)][MB(0x4ea)](My=>{var Mq=MB;My[Mq(0x187)]();}),ER[MB(0x182)][MB(0x4df)][MB(0xa3f)]=[];var Ms=0x0;MJ[MB(0x4ea)]((My,Mq)=>{var Mx=MB;Ms=Mq%0x3;let MZ=Me[Mx(0xb51)][Mx(0xb9c)](0x0,0x0);MZ['y']=0x24*Mq,Mq>=0x9&&(MZ['y']=0x24*Mq+0x9);let Mf=My[Mx(0x48b)]===Mx(0xbfa)?Mx(0xbce):Mx(0x844);My[Mx(0x51a)]&&(Mf=Mx(0x472));let MN=Me[Mx(0xb51)][Mx(0xa6e)](0x0,0x2,Mx(0xc82),Mx(0xd0c));MN[Mx(0xc25)][Mx(0x304)](0.5),MN[Mx(0x552)][Mx(0x304)](0.39227117851023885),MZ[Mx(0x6a8)](MN);var MG=My[Mx(0x48b)]===Mx(0xbfa)?'+':'-';My[Mx(0x51a)]&&(MG='');let MF=Me[Mx(0xb51)][Mx(0x2da)](0x1e,0x2,MG+'\x20'+My[Mx(0x630)][Mx(0x86a)]()),Mi=My[Mx(0x48b)]===Mx(0xbfa)?Mx(0x241):Mx(0x9a7);My[Mx(0x51a)]&&(Mi=Mx(0xa45)),(MF[Mx(0x67b)]({'font':Mx(0xac2),'fontStyle':Mx(0x285),'fontSize':Mx(0xa9d),'fill':Mi,'wordWrapWidth':0x2e6}),MF[Mx(0xc25)][Mx(0x304)](0x0,0.5),MZ[Mx(0x6a8)](MF));let Mr=Me[Mx(0xb51)][Mx(0x2da)](0x7f,0x1,Mf+My[Mx(0x4ac)]);Mr[Mx(0x67b)]({'font':Mx(0xac2),'fontStyle':Mx(0x285),'fontSize':Mx(0xa9d),'fill':Mx(0x39c),'wordWrapWidth':0x2e6,'maxLines':0x1}),Mr[Mx(0xc25)][Mx(0x304)](0x0,0.5),MZ[Mx(0x6a8)](Mr);let Mt=Me[Mx(0xb51)][Mx(0x2da)](0x397,0x0,My[Mx(0x1ab)]);Mt[Mx(0x67b)]({'font':Mx(0xac2),'fontStyle':Mx(0x285),'fontSize':Mx(0xa9d),'fill':Mx(0x39c),'wordWrapWidth':0x2e6}),Mt[Mx(0xc25)][Mx(0x304)](0x0,0.5),MZ[Mx(0x6a8)](Mt),ER[Mx(0x182)][Mx(0x4df)][Mx(0x6a8)](MZ);});}else{}});}),this[MS(0x44c)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x44c)][Mg(0x552)][Mg(0x304)](1.06);}),this[MS(0x44c)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x44c)][Mg(0x552)][Mg(0x304)](0x1);}),this[MS(0x44c)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x44c)][Mg(0x552)][Mg(0x304)](1.06);}),this[MS(0x30a)][MS(0x983)]=!![],this[MS(0x30a)][MS(0xa9f)][MS(0x19b)][MS(0xb51)](()=>{var Mg=MS;ER[Mg(0x182)][Mg(0x891)][Mg(0xa9f)][Mg(0x19b)][Mg(0x663)](()=>{var MJ=Mg;E6[MJ(0x3f4)](MJ(0xdf)),ER[MJ(0x182)][MJ(0x891)][MJ(0x552)][MJ(0x304)](0.5601748558550455),ER[MJ(0x182)][MJ(0xa5e)][MJ(0x7ba)](),ER[MJ(0x918)](ER[MJ(0x182)][MJ(0x891)],!!![]),ER[MJ(0x918)](this[MJ(0x695)],!![]);}),E6[Mg(0x3f4)](Mg(0xdf)),this[Mg(0x30a)][Mg(0x552)][Mg(0x304)](0x1),no=!![],EE[Mg(0x935)][Mg(0x120)](0x1),nu[Mg(0x353)](Mg(0x1ac),{'user_id':M6[Mg(0x234)]()[Mg(0x605)]},async MJ=>{var MB=Mg;ER[MB(0x182)][MB(0x891)][MB(0x155)]=this[MB(0x695)],EE[MB(0x935)][MB(0x9f1)]();if(MJ&&MJ[MB(0xbfd)]!==!![]&&MJ[MB(0x16a)]>=0x0){Me[MB(0x126)][MB(0x4a2)](ER[MB(0x182)][MB(0x7ca)]),Me[MB(0x126)][MB(0x4a2)](ER[MB(0x182)][MB(0xa5e)]),ER[MB(0x182)][MB(0xa5e)][MB(0xc99)](),ER[MB(0x918)](this[MB(0x695)],!!![]),ER[MB(0x918)](ER[MB(0x182)][MB(0x891)],!![]),ER[MB(0x182)][MB(0x4df)][MB(0xa3f)][MB(0x4ea)](My=>{var Mq=MB;My[Mq(0x187)]();}),ER[MB(0x182)][MB(0x4df)][MB(0xa3f)]=[];var Ms=0x0;MJ[MB(0x4ea)]((My,Mq)=>{var Mx=MB;Ms=Mq%0x3;let MZ=Me[Mx(0xb51)][Mx(0xb9c)](0x0,0x0);MZ['y']=0x24*Mq,Mq>=0x9&&(MZ['y']=0x24*Mq+0x9);let Mf=My[Mx(0x48b)]===Mx(0xbfa)?Mx(0xbce):Mx(0x844);My[Mx(0x51a)]&&(Mf=Mx(0x472));let MN=Me[Mx(0xb51)][Mx(0xa6e)](0x0,0x2,Mx(0xc82),Mx(0xd0c));MN[Mx(0xc25)][Mx(0x304)](0.5),MN[Mx(0x552)][Mx(0x304)](0.39227117851023885),MZ[Mx(0x6a8)](MN);var MG=My[Mx(0x48b)]===Mx(0xbfa)?'+':'-';My[Mx(0x51a)]&&(MG='');let MF=Me[Mx(0xb51)][Mx(0x2da)](0x1e,0x2,MG+'\x20'+My[Mx(0x630)][Mx(0x86a)]()),Mi=My[Mx(0x48b)]===Mx(0xbfa)?Mx(0x241):Mx(0x9a7);My[Mx(0x51a)]&&(Mi=Mx(0xa45)),(MF[Mx(0x67b)]({'font':Mx(0xac2),'fontStyle':Mx(0x285),'fontSize':Mx(0xa9d),'fill':Mi,'wordWrapWidth':0x2e6}),MF[Mx(0xc25)][Mx(0x304)](0x0,0.5),MZ[Mx(0x6a8)](MF));let Mr=Me[Mx(0xb51)][Mx(0x2da)](0x7f,0x1,Mf+My[Mx(0x4ac)]);Mr[Mx(0x67b)]({'font':Mx(0xac2),'fontStyle':Mx(0x285),'fontSize':Mx(0xa9d),'fill':Mx(0x39c),'wordWrapWidth':0x2e6,'maxLines':0x1}),Mr[Mx(0xc25)][Mx(0x304)](0x0,0.5),MZ[Mx(0x6a8)](Mr);let Mt=Me[Mx(0xb51)][Mx(0x2da)](0x397,0x0,My[Mx(0x1ab)]);Mt[Mx(0x67b)]({'font':Mx(0xac2),'fontStyle':Mx(0x285),'fontSize':Mx(0xa9d),'fill':Mx(0x39c),'wordWrapWidth':0x2e6}),Mt[Mx(0xc25)][Mx(0x304)](0x0,0.5),MZ[Mx(0x6a8)](Mt),ER[Mx(0x182)][Mx(0x4df)][Mx(0x6a8)](MZ);});}else{}});}),this[MS(0x30a)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x30a)][Mg(0x552)][Mg(0x304)](1.06);}),this[MS(0x30a)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x30a)][Mg(0x552)][Mg(0x304)](0x1);}),this[MS(0x30a)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x30a)][Mg(0x552)][Mg(0x304)](1.06);}),this[MS(0x704)][MS(0xd25)](Mg=>{var MJ=MS;Mg[MJ(0x983)]=!![],Mg[MJ(0xa9f)][MJ(0xd10)][MJ(0xb51)](()=>{var MB=MJ;EE[MB(0x761)](Mg[MB(0x2da)]);});}),this[MS(0xc5c)][MS(0x983)]=!![],this[MS(0xc5c)][MS(0x35c)]=![],ER[MS(0x5fa)](this[MS(0x9d6)]),ER[MS(0x918)](this[MS(0x9d6)],![]),this[MS(0xc5c)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xc5c)][Mg(0x35c)]?(this[Mg(0xc5c)][Mg(0x35c)]=![],ER[Mg(0x5fa)](this[Mg(0x9d6)]),ER[Mg(0x918)](this[Mg(0x9d6)],![])):(ER[Mg(0xa0f)](this[Mg(0x9d6)]),ER[Mg(0x918)](this[Mg(0x9d6)],!![]),this[Mg(0xc5c)][Mg(0x35c)]=!![]);}),this[MS(0x42b)][MS(0x6a8)](this[MS(0x9d1)]),this[MS(0x42b)][MS(0xa33)]=this[MS(0x9d1)],this[MS(0x1ad)][MS(0x6a8)](this[MS(0x747)]),this[MS(0x1ad)][MS(0xa33)]=this[MS(0x747)],this[MS(0xc11)]=0x8,this[MS(0x9f4)]=![],this[MS(0xba7)]={'x':0x0,'y':0x0,'isDown':![]},this[MS(0x721)]=Date[MS(0xb21)]();var MW=Me[MS(0x3d0)][MS(0x3fb)][MS(0x3f8)](Phaser[MS(0xb1d)][MS(0x694)]);MW[MS(0x7f9)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x6b0)][Mg(0x81d)]===!![]&&Me[Mg(0x3d0)][Mg(0x6d2)][Mg(0xbf6)]&&(EV===0x0&&(EE[Mg(0xae7)]||El&&El[Mg(0x734)])||!(EE[Mg(0xae7)]||El&&El[Mg(0x734)]))&&(this[Mg(0xba7)]['x']=Me[Mg(0x3d0)][Mg(0x6d2)]['x'],this[Mg(0xba7)]['y']=Me[Mg(0x3d0)][Mg(0x6d2)]['y'],this[Mg(0xba7)][Mg(0xbf6)]=!![],this[Mg(0x9f4)]=!![],this[Mg(0xba7)][Mg(0xbcb)]=this[Mg(0x6b0)][Mg(0x678)],this[Mg(0x6b0)][Mg(0x7e0)]=!![],this[Mg(0xba5)][Mg(0x1fb)](Mg(0xc82),Mg(0x6b4)));},this),MW[MS(0xb2e)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xba5)][Mg(0x1fb)](Mg(0xc82),Mg(0x398)),this[Mg(0x9f4)]=![],this[Mg(0xba7)][Mg(0xbf6)]=![];if(this[Mg(0x6b0)][Mg(0x81d)]){var MJ=Math[Mg(0xc35)](Me[Mg(0x3d0)]['y']-EE[Mg(0x287)][Mg(0x505)]['y'],Me[Mg(0x3d0)]['x']-EE[Mg(0x287)][Mg(0x505)]['x']);this[Mg(0x6b0)][Mg(0x7dc)]=MJ+Math['PI']/0x2,ER[Mg(0xb1c)][Mg(0x9f4)]!==!![]&&(this[Mg(0x6b0)][Mg(0x968)][EV][Mg(0x878)]=this[Mg(0x6b0)][Mg(0x7dc)],this[Mg(0x6b0)][Mg(0x678)]=MJ),ER[Mg(0xb1c)][Mg(0x7e8)][Mg(0x878)]=this[Mg(0x6b0)][Mg(0x678)],EE[Mg(0xa4d)]();}this[Mg(0xba7)][Mg(0x878)]=this[Mg(0xba7)][Mg(0xbcb)],this[Mg(0x6b0)][Mg(0x7e0)]=![];},this);var Mv=DQ(Phaser[MS(0xb1d)][MS(0xc62)]);Mv[MS(0x7f9)](()=>{var Mg=MS;if(EE&&EE[Mg(0x61f)]&&EV!==![])for(let MJ=0x0;MJ<EE[Mg(0xafd)][Mg(0x16a)];MJ++){const MB=EE[Mg(0xafd)][MJ];MB[Mg(0x912)]!==Rr&&MB[Mg(0x7ec)]&&MB[Mg(0xb1a)]!==!![]&&MB[Mg(0xb28)]();}},this),Mv[MS(0xb2e)](()=>{var Mg=MS;if(EE&&EE[Mg(0x61f)]&&EV!==![])for(let MJ=0x0;MJ<EE[Mg(0xafd)][Mg(0x16a)];MJ++){const MB=EE[Mg(0xafd)][MJ];MB[Mg(0x912)]!==Rr&&MB[Mg(0x7ec)]&&MB[Mg(0xb1a)]!==!![]&&MB[Mg(0x22c)]();}},this),this[MS(0x617)][MS(0x3ab)]=Ef['x']+0x190,this[MS(0x617)][MS(0x4ca)]=Ef['y']+0x190,this[MS(0x617)][MS(0x983)]=!![],this[MS(0x617)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](this[MS(0x2e4)],this),this[MS(0x617)][MS(0xa9f)][MS(0x19b)][MS(0xb51)](this[MS(0x664)],this),this[MS(0x627)][MS(0x35c)]=![],this[MS(0x627)][MS(0x983)]=!![],this[MS(0x627)][MS(0xa9f)][MS(0x19b)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0x521));try{if(this[Mg(0x84a)]&&tableGroup)this[Mg(0x84a)]['x']=tableGroup['x']+(Math[Mg(0x665)](Math[Mg(0x219)]()*0x2)==0x0?-RJ:RJ);if(this[Mg(0x84a)]&&tableGroup)this[Mg(0x84a)]['y']=tableGroup['y']+(Math[Mg(0x665)](Math[Mg(0x219)]()*0x2)==0x0?-RJ:RJ);}catch(MJ){}this[Mg(0x13d)][Mg(0x9f1)]();}),this[MS(0x13d)][MS(0x120)]=()=>{var Mg=MS;this[Mg(0x13d)][Mg(0x152)]=!![];try{if(this[Mg(0x84a)]&&tableGroup)this[Mg(0x84a)]['x']=tableGroup['x']+(Math[Mg(0x665)](Math[Mg(0x219)]()*0x2)==0x0?-RJ:RJ);if(this[Mg(0x84a)]&&tableGroup)this[Mg(0x84a)]['y']=tableGroup['y']+(Math[Mg(0x665)](Math[Mg(0x219)]()*0x2)==0x0?-RJ:RJ);}catch(MJ){}ER[Mg(0x918)](this[Mg(0x695)],![]),ER[Mg(0x918)](this[Mg(0x13d)]),E6[Mg(0x3f4)](Mg(0x576));if(EE[Mg(0x6ce)])EE[Mg(0x6ce)][Mg(0x228)][Mg(0x9ab)]=Mg(0x438);},this[MS(0x13d)][MS(0x9f1)]=()=>{var Mg=MS;this[Mg(0x13d)][Mg(0x152)]=![],ER[Mg(0x918)](this[Mg(0x695)]),E6[Mg(0x3f4)](Mg(0x521));if(EE[Mg(0x6ce)])EE[Mg(0x6ce)][Mg(0x228)][Mg(0x9ab)]='';},this[MS(0x84a)]=this[MS(0xb65)],this[MS(0x84a)][MS(0x82c)]=0x470*0x1,this[MS(0x84a)][MS(0x601)]=0x283*0x1,this[MS(0x84a)][MS(0xa70)]=L9(this[MS(0x84a)][MS(0x82c)]/0x2),this[MS(0x84a)][MS(0x8e5)]=L9(this[MS(0x84a)][MS(0x601)]/0x2),this[MS(0x84a)][MS(0x2ab)]=L9(this[MS(0x84a)][MS(0xa70)]*0.5),this[MS(0x84a)][MS(0x7d1)]=L9(this[MS(0x84a)][MS(0x82c)]*0.7),this[MS(0x5c5)]=Me[MS(0x74e)][MS(0xb9c)](),this[MS(0x8c5)]=Me[MS(0x74e)][MS(0x46a)](0x0,0x0,MS(0xc82),MS(0xca8)),this[MS(0x8c5)][MS(0xc25)][MS(0x304)](0.5,0x1),this[MS(0x8c5)][MS(0x51f)]=-0x2d,this[MS(0x8c5)][MS(0x374)]=!![],this[MS(0x8c5)][MS(0x983)]=!![],this[MS(0xbe3)]=Me[MS(0x74e)][MS(0x46a)](0x32,0x0,MS(0xc82),MS(0xca8)),this[MS(0xbe3)][MS(0xc25)][MS(0x304)](0.5,0x1),this[MS(0xbe3)][MS(0x374)]=!![],this[MS(0xbe3)][MS(0x983)]=!![],this[MS(0x99d)]=Me[MS(0x74e)][MS(0x46a)](0x32*0x2,0x0,MS(0xc82),MS(0xca8)),this[MS(0x99d)][MS(0xc25)][MS(0x304)](0.5,0x1),this[MS(0x99d)][MS(0x51f)]=0x2d,this[MS(0x99d)][MS(0x374)]=!![],this[MS(0x99d)][MS(0x983)]=!![],this[MS(0x5d1)]=Me[MS(0x74e)][MS(0x46a)](0x32*0x3,0x0,MS(0xc82),MS(0xca8)),this[MS(0x5d1)][MS(0xc25)][MS(0x304)](0.5,0x1),this[MS(0x5d1)][MS(0x374)]=!![],this[MS(0x5d1)][MS(0x983)]=!![],this[MS(0x5d1)][MS(0x51f)]=0xb4+0x2d,this[MS(0x87d)]=Me[MS(0x74e)][MS(0x46a)](0x32*0x4,0x0,MS(0xc82),MS(0xca8)),this[MS(0x87d)][MS(0xc25)][MS(0x304)](0.5,0x1),this[MS(0x87d)][MS(0x51f)]=0xb4,this[MS(0x87d)][MS(0x374)]=!![],this[MS(0x87d)][MS(0x983)]=!![],this[MS(0x991)]=Me[MS(0x74e)][MS(0x46a)](0x32*0x5,0x0,MS(0xc82),MS(0xca8)),this[MS(0x991)][MS(0xc25)][MS(0x304)](0.5,0x1),this[MS(0x991)][MS(0x51f)]=0xb4-0x2d,this[MS(0x991)][MS(0x374)]=!![],this[MS(0x991)][MS(0x983)]=!![],this[MS(0x5c5)][MS(0x6a8)](this[MS(0x8c5)]),this[MS(0x5c5)][MS(0x6a8)](this[MS(0xbe3)]),this[MS(0x5c5)][MS(0x6a8)](this[MS(0x99d)]),this[MS(0x5c5)][MS(0x6a8)](this[MS(0x5d1)]),this[MS(0x5c5)][MS(0x6a8)](this[MS(0x87d)]),this[MS(0x5c5)][MS(0x6a8)](this[MS(0x991)]),this[MS(0x84a)][MS(0x6a8)](this[MS(0x5c5)]),this[MS(0x5c5)][MS(0x152)]=![],this[MS(0x5c5)][MS(0xa3f)][MS(0x4ea)]((Mg,MJ)=>{var MB=MS;let Ms=MJ+0x1,My=Mg;Mg[MB(0xa9f)][MB(0x19b)][MB(0xb51)](()=>{var Mq=MB;if(EV!==0x0&&EE[Mq(0xae7)])return;EE[Mq(0xba8)][0x0][Mq(0x230)]=Ms,EE[Mq(0x6b0)][Mq(0x43f)]=!![],EE[Mq(0x230)]=Ms,EE[Mq(0xae7)]&&EE[Mq(0x230)]!==![]&&(no=!![],nu[Mq(0x353)](Mq(0x230),{'match_id':El[Mq(0x4d7)],'user_id':M6[Mq(0x234)]()[Mq(0x605)],'holeId':EE[Mq(0x230)]})),this[Mq(0x5c5)][Mq(0x152)]=!![],this[Mq(0x5c5)][Mq(0xa3f)][Mq(0x4ea)]((Mx,MZ)=>{var Mf=Mq;My!==Mx&&(Mx[Mf(0x152)]=![]);});},this);}),this[MS(0xbef)][MS(0x983)]=!![],this[MS(0xbef)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;if(ED===DY[Mg(0x6ad)])return;E6[Mg(0x3f4)](Mg(0xdf)),this[Mg(0xbef)][Mg(0x552)][Mg(0x304)](0x1),this[Mg(0x8a4)][Mg(0x152)]=!![],ER[Mg(0x918)](this[Mg(0x695)],![]),ER[Mg(0x918)](this[Mg(0x8a4)],!![]),E6[Mg(0x3f4)](Mg(0x576));}),this[MS(0x116)][MS(0x983)]=!![],this[MS(0x116)][MS(0x374)]=!![],this[MS(0x116)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf)),this[Mg(0x8a4)][Mg(0x152)]=![],(EE[Mg(0xae7)]||El&&El[Mg(0x734)])&&El?El[Mg(0xc47)]!==Mg(0x751)&&(EE[Mg(0x935)][Mg(0x120)](),no=!![],nu[Mg(0x353)](Mg(0xb1b),{'user_id':M6[Mg(0x234)]()[Mg(0x605)],'levelID':El[Mg(0x7ce)],'match_id':El[Mg(0x4d7)],'modeID':El[Mg(0x96d)]},async MJ=>{var MB=Mg;Eb=0x1,EE[MB(0x1f4)](),EE[MB(0x935)][MB(0x9f1)](),ER[MB(0x8be)](ER[MB(0x182)]);try{MJ=Dv(MJ);}catch(Ms){}EE[MB(0x935)][MB(0x9f1)]();})):(Eb=0x1,EE[Mg(0xa28)](),ER[Mg(0x8be)](ER[Mg(0x182)]));}),this[MS(0x421)][MS(0x983)]=!![],this[MS(0x421)][MS(0x374)]=!![],this[MS(0x421)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf)),this[Mg(0x8a4)][Mg(0x152)]=![],ER[Mg(0x918)](this[Mg(0x695)],!![]),ER[Mg(0x918)](this[Mg(0xcf0)],!![]),ER[Mg(0x918)](this[Mg(0x8a4)],!!![]);}),this[MS(0xbef)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xbef)][Mg(0x552)][Mg(0x304)](1.05);}),this[MS(0xbef)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xbef)][Mg(0x552)][Mg(0x304)](0x1);}),this[MS(0x69f)][MS(0x983)]=!![],this[MS(0x69f)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;EE[Mg(0x761)]();}),this[MS(0x668)][MS(0x983)]=!![],this[MS(0x668)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;if(ED===DY[Mg(0x6ad)]){this[Mg(0xa1c)][Mg(0xa9f)][Mg(0x79f)]();return;}ER[Mg(0x918)](this[Mg(0x695)],!![]),E6[Mg(0x3f4)](Mg(0xdf)),E6[Mg(0x3f4)](Mg(0x521)),this[Mg(0x668)][Mg(0x552)][Mg(0x304)](0.4084145720273012),this[Mg(0xcf0)][Mg(0x152)]=!!![];}),this[MS(0x668)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x668)][Mg(0x552)][Mg(0x304)](0.4984145720273012);}),this[MS(0x668)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x668)][Mg(0x552)][Mg(0x304)](0.4084145720273012);}),this[MS(0xa1c)][MS(0x983)]=!![],this[MS(0xa1c)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;ER[Mg(0x918)](this[Mg(0x695)],!![]),E6[Mg(0x3f4)](Mg(0xdf)),E6[Mg(0x3f4)](Mg(0x521)),this[Mg(0xa1c)][Mg(0x552)][Mg(0x304)](1.1714346495499208),this[Mg(0xcf0)][Mg(0x152)]=!!![],EE[Mg(0xae7)]||El&&El[Mg(0x734)]?(ER[Mg(0x19a)][Mg(0x973)]=![],ER[Mg(0x19a)][Mg(0x3c4)](),ER[Mg(0x19a)][Mg(0xcc2)](Eb,EE[Mg(0x545)][Mg(0x630)])):ER[Mg(0x182)][Mg(0x730)]();}),this[MS(0xa1c)][MS(0xa9f)][MS(0x8bf)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xa1c)][Mg(0x552)][Mg(0x304)](1.2714346495499207);}),this[MS(0xa1c)][MS(0xa9f)][MS(0x3e8)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xa1c)][Mg(0x552)][Mg(0x304)](1.1714346495499208);}),this[MS(0xbc0)][MS(0x983)]=!![],this[MS(0xbc0)][MS(0x35c)]=!![],this[MS(0xbc0)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf)),this[Mg(0xbc0)][Mg(0x35c)]===!![]?(this[Mg(0xc0f)][Mg(0x1fb)](Mg(0xc82),Mg(0x232)),this[Mg(0xbc0)][Mg(0x35c)]=![]):(this[Mg(0xc0f)][Mg(0x1fb)](Mg(0xc82),Mg(0xc0f)),this[Mg(0xbc0)][Mg(0x35c)]=!![]);}),EE[MS(0x58c)]=this[MS(0x58c)],EE[MS(0x834)]=this[MS(0x834)],EE[MS(0x84a)]=this[MS(0x84a)],this[MS(0x6b0)]=new RK(this[MS(0xb65)]),this[MS(0x6b0)][MS(0x2b0)]['x']=this[MS(0x84a)][MS(0x2ab)],this[MS(0x6b0)][MS(0x2b0)]['y']=this[MS(0x84a)][MS(0x8e5)],EE[MS(0x13c)]=this[MS(0x13c)],EE[MS(0x6b0)]=this[MS(0x6b0)],Me[MS(0x3d0)][MS(0x7f9)][MS(0xb51)](this[MS(0x6b0)][MS(0xb6c)],this[MS(0x6b0)]),this[MS(0x586)]=[],this[MS(0xaf7)]=function(){var Mg=MS;this[Mg(0x586)]=[];for(let MB=0x0;MB<0x64;MB++){this[Mg(0x586)][MB]=Me[Mg(0xb51)][Mg(0x267)](0x0,0x0),this[Mg(0x586)][MB][Mg(0x152)]=![];let Ms=MB;var MJ=this[Mg(0x586)][MB];MJ[Mg(0x6b3)](),Ms===0x0&&(Ms=0.1),Ms=Ms*(0x8/0x8)+0x3,MJ[Mg(0x19e)](0xffffff),MJ[Mg(0x65b)](this[Mg(0xc34)]['x'],this[Mg(0xc34)]['y']+this[Mg(0xc34)][Mg(0x4ca)]/0x2+0x3,this[Mg(0xc34)][Mg(0x3ab)]/0x2+0x5,Phaser[Mg(0xca9)][Mg(0x306)](-0xb4+0xb4*Ms/0x64),Phaser[Mg(0xca9)][Mg(0x306)](-0xb4),0x1),this[Mg(0x972)][Mg(0x6a8)](MJ);}},this[MS(0xbdd)]=[],this[MS(0x249)]=function(){var Mg=MS;this[Mg(0xbdd)]=[];for(let MB=0x0;MB<0x9;MB++){this[Mg(0xbdd)][MB]=Me[Mg(0xb51)][Mg(0x267)](0x0,0x0),this[Mg(0xbdd)][MB][Mg(0x152)]=![];let Ms=MB;var MJ=this[Mg(0xbdd)][MB];MJ[Mg(0x6b3)](),Ms===0x0&&(Ms=0.1),Ms=0x8*(MB/0x8),MJ[Mg(0x19e)](0xffffff),MJ[Mg(0x65b)](this[Mg(0xc34)]['x'],this[Mg(0xc34)]['y']+this[Mg(0xc34)][Mg(0x4ca)]/0x2+0x3,this[Mg(0xc34)][Mg(0x3ab)]/0x2+0x5,Phaser[Mg(0xca9)][Mg(0x306)](-0xb4+0xb4*Ms/0x8),Phaser[Mg(0xca9)][Mg(0x306)](-0xb4),0x1),this[Mg(0x972)][Mg(0x6a8)](MJ);}},DZ?(this[MS(0xaf7)](),this[MS(0x249)]()):(this[MS(0x695)][MS(0xb51)](this[MS(0x178)]),this[MS(0xc34)][MS(0x187)](),this[MS(0x4e4)][MS(0x187)](),this[MS(0x8ec)][MS(0x187)](),this[MS(0x1c8)][MS(0x187)](),this[MS(0x6a7)][MS(0x552)][MS(0x304)](0.6),this[MS(0x6a7)]['x']=-0x2,this[MS(0x905)][MS(0x552)][MS(0x304)](0.6),this[MS(0x341)][MS(0x552)][MS(0x304)](0.6),this[MS(0x335)][MS(0x552)][MS(0x304)](0.65),this[MS(0x178)][MS(0x552)][MS(0x304)](0.77)),(this[MS(0x4bc)][MS(0x983)]=!![],this[MS(0x4bc)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xcf0)][Mg(0x152)]=!![],ER[Mg(0x918)](this[Mg(0x695)],![]),ER[Mg(0x918)](this[Mg(0xcf0)],!![]);}),this[MS(0x265)][MS(0x983)]=!![],this[MS(0x433)][MS(0x983)]=!![],this[MS(0x7ef)][MS(0x983)]=!![],this[MS(0x7ef)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x4bc)][Mg(0xa9f)][Mg(0x79f)]();}),this[MS(0xd2b)][MS(0x983)]=!![],this[MS(0xd2b)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x4bc)][Mg(0xa9f)][Mg(0x79f)]();}),this[MS(0x70c)][MS(0x983)]=!![],this[MS(0x70c)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x4bc)][Mg(0xa9f)][Mg(0x79f)]();}),this[MS(0xcba)][MS(0x983)]=!![],this[MS(0xcba)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x4bc)][Mg(0xa9f)][Mg(0x79f)]();}),this[MS(0x6ff)][MS(0x983)]=!![],this[MS(0x91e)][MS(0x983)]=!![],this[MS(0x91e)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xb8a)][Mg(0x152)]=![],ER[Mg(0x918)](this[Mg(0x695)],!![]),ER[Mg(0x918)](this[Mg(0xb8a)],![]);}),this[MS(0x6ff)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf));if(navigator&&navigator[Mg(0x42a)])try{if(this[Mg(0x6ff)][Mg(0x35c)]){}else navigator[Mg(0x42a)][Mg(0xaa1)](this[Mg(0x6ff)][Mg(0x2da)])[Mg(0x6ae)](()=>{var MJ=Mg;this[MJ(0x6ff)][MJ(0xb20)](this[MJ(0x6ff)][MJ(0x2da)]+MJ(0x9eb)),this[MJ(0x6ff)][MJ(0x35c)]=!![],setTimeout(()=>{var MB=MJ;this[MB(0x6ff)][MB(0xb20)](this[MB(0x6ff)][MB(0x2da)][MB(0x10b)](MB(0x9eb),'')),this[MB(0x6ff)][MB(0x35c)]=![];},0x258);})[Mg(0xbf0)](()=>{});}catch(MJ){console[Mg(0x738)](Mg(0x62e),MJ);}}),this[MS(0x265)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;ER[Mg(0xb1c)][Mg(0x3d8)][Mg(0x152)]=![],E6[Mg(0x3f4)](Mg(0x576)),ER[Mg(0xb1c)][Mg(0x390)][Mg(0x1fb)](Mg(0x334),Mg(0x6fd)),ER[Mg(0xb1c)][Mg(0x1c6)][Mg(0xb20)](getCountry()),Me?.[Mg(0x49c)]?.[Mg(0x571)]?.[Mg(0xa6e)]?.[Mg(0x334)]?.[Mg(0x800)][Mg(0x46e)](getCountryMin())&&(ER[Mg(0xb1c)][Mg(0x185)][Mg(0x1fb)](Mg(0x334),getCountryMin()),ER[Mg(0xb1c)][Mg(0x80b)][Mg(0x1fb)](Mg(0x334),getCountryMin()),ER[Mg(0xb1c)][Mg(0x390)][Mg(0x1fb)](Mg(0x334),getCountryMin())),this[Mg(0xb8a)][Mg(0x152)]=!![],ER[Mg(0x918)](this[Mg(0x695)],![]),ER[Mg(0x918)](this[Mg(0xb8a)],!![]),this[Mg(0x858)][Mg(0xb20)](M6[Mg(0x234)]()[Mg(0x2c4)]),this[Mg(0x7c0)][Mg(0xb20)](M6[Mg(0x234)]()[Mg(0x212)]),this[Mg(0x3bf)][Mg(0xb20)](LL(M6[Mg(0x234)]()[Mg(0x303)],0x1)),this[Mg(0x6ff)][Mg(0xb20)](Mg(0x84d)+M6[Mg(0x234)]()[Mg(0x605)]),this[Mg(0x94e)][Mg(0xb20)](M6[Mg(0x234)]()[Mg(0x1bf)][Mg(0x86a)]()),this[Mg(0xc42)][Mg(0xb20)](M6[Mg(0x234)]()[Mg(0xa78)][Mg(0x86a)]()),this[Mg(0x915)][Mg(0xb20)](Lf(M6[Mg(0x234)]()[Mg(0x69e)])),Lt(Me,{'cache':!![],'card':ER[Mg(0xb1c)][Mg(0x913)],'name':Mg(0x681),'url':M6[Mg(0x234)]()[Mg(0x410)]},function(MJ){var MB=Mg;if(MJ[MB(0x3dc)])MJ[MB(0x227)][MB(0x266)]&&(MJ[MB(0x227)][MB(0x266)][MB(0x1fb)](MJ[MB(0x227)][MB(0x7e1)]),MJ[MB(0x227)][MB(0x266)][MB(0x552)][MB(0x304)](2.5));else MJ[MB(0x227)][MB(0x266)]&&(MJ[MB(0x227)][MB(0x266)][MB(0x1fb)](MB(0xc82),MB(0xd2a)),MJ[MB(0x227)][MB(0x266)][MB(0x552)][MB(0x304)](1.81719471887699));}),ER[Mg(0xb1c)][Mg(0x3d8)]['x']=ER[Mg(0xb1c)][Mg(0x858)]['x']+ER[Mg(0xb1c)][Mg(0x858)][Mg(0x3ab)]+0xf,(M6[Mg(0x234)]()[Mg(0x20f)]===0x1||M6[Mg(0x234)]()[Mg(0x20f)]===0x2)&&(ER[Mg(0xb1c)][Mg(0x3d8)][Mg(0x152)]=!![],ER[Mg(0xb1c)][Mg(0x3d8)][Mg(0x1fb)](Mg(0xa14),M6[Mg(0x234)]()[Mg(0x20f)]===0x1?Mg(0x805):Mg(0xb5c)));}),this[MS(0x6c7)][MS(0x983)]=!![],this[MS(0x6c7)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x265)][Mg(0xa9f)][Mg(0x79f)]();}),this[MS(0x444)][MS(0x983)]=!![],this[MS(0x444)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xc79)][Mg(0xa9f)][Mg(0x79f)]();}),this[MS(0xc21)][MS(0x983)]=!![],this[MS(0xc21)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0x265)][Mg(0xa9f)][Mg(0x79f)]();}),this[MS(0x36e)][MS(0x983)]=!![],this[MS(0x36e)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;this[Mg(0xc79)][Mg(0xa9f)][Mg(0x79f)]();}),this[MS(0xc79)][MS(0x983)]=!![],this[MS(0xc79)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;ER[Mg(0xb1c)][Mg(0x3d8)][Mg(0x152)]=![],E6[Mg(0x3f4)](Mg(0x576)),ER[Mg(0xb1c)][Mg(0x390)][Mg(0x1fb)](Mg(0x334),Mg(0x6fd)),EE[Mg(0xae7)]||El&&El[Mg(0x734)]?(ER[Mg(0xb1c)][Mg(0x1c6)][Mg(0xb20)](M6[Mg(0x565)]()[Mg(0x822)]),M6[Mg(0x565)]()[Mg(0x822)]&&Me?.[Mg(0x49c)]?.[Mg(0x571)]?.[Mg(0xa6e)]?.[Mg(0x334)]?.[Mg(0x800)][Mg(0x46e)](getCountryMin(M6[Mg(0x565)]()[Mg(0x822)]))&&ER[Mg(0xb1c)][Mg(0x390)][Mg(0x1fb)](Mg(0x334),getCountryMin(M6[Mg(0x565)]()[Mg(0x822)]))):(ER[Mg(0xb1c)][Mg(0x1c6)][Mg(0xb20)](getCountry()),Me?.[Mg(0x49c)]?.[Mg(0x571)]?.[Mg(0xa6e)]?.[Mg(0x334)]?.[Mg(0x800)][Mg(0x46e)](getCountryMin())&&(ER[Mg(0xb1c)][Mg(0x185)][Mg(0x1fb)](Mg(0x334),getCountryMin()),ER[Mg(0xb1c)][Mg(0x80b)][Mg(0x1fb)](Mg(0x334),getCountryMin()),ER[Mg(0xb1c)][Mg(0x390)][Mg(0x1fb)](Mg(0x334),getCountryMin()))),this[Mg(0xb8a)][Mg(0x152)]=!![],ER[Mg(0x918)](this[Mg(0x695)],![]),ER[Mg(0x918)](this[Mg(0xb8a)],!![]),EE[Mg(0xae7)]||El&&El[Mg(0x734)]?(this[Mg(0x858)][Mg(0xb20)](M6[Mg(0x565)]()[Mg(0x2c4)]),this[Mg(0x7c0)][Mg(0xb20)](M6[Mg(0x565)]()[Mg(0x212)]),this[Mg(0x3bf)][Mg(0xb20)](LL(M6[Mg(0x565)]()[Mg(0x303)],0x1)),this[Mg(0x6ff)][Mg(0xb20)](Mg(0x84d)+M6[Mg(0x565)]()[Mg(0x605)]),this[Mg(0x94e)][Mg(0xb20)](M6[Mg(0x565)]()[Mg(0x1bf)][Mg(0x86a)]()),this[Mg(0xc42)][Mg(0xb20)](M6[Mg(0x565)]()[Mg(0xa78)][Mg(0x86a)]()),this[Mg(0x915)][Mg(0xb20)](Lf(M6[Mg(0x565)]()[Mg(0x69e)])),Lt(Me,{'cache':!![],'card':ER[Mg(0xb1c)][Mg(0x913)],'name':Mg(0x354)+String(M6[Mg(0x565)]()[Mg(0xc77)]),'url':M6[Mg(0x565)]()[Mg(0x410)]},function(MJ){var MB=Mg;if(MJ[MB(0x3dc)])MJ[MB(0x227)][MB(0x266)]&&(MJ[MB(0x227)][MB(0x266)][MB(0x1fb)](MJ[MB(0x227)][MB(0x7e1)]),MJ[MB(0x227)][MB(0x266)][MB(0x552)][MB(0x304)](2.5));else MJ[MB(0x227)][MB(0x266)]&&(MJ[MB(0x227)][MB(0x266)][MB(0x1fb)](MB(0xc82),MB(0xd2a)),MJ[MB(0x227)][MB(0x266)][MB(0x552)][MB(0x304)](1.81719471887699));}),(M6[Mg(0x565)]()[Mg(0x20f)]===0x1||M6[Mg(0x565)]()[Mg(0x20f)]===0x2)&&(ER[Mg(0xb1c)][Mg(0x3d8)][Mg(0x152)]=!![],ER[Mg(0xb1c)][Mg(0x3d8)][Mg(0x1fb)](Mg(0xa14),M6[Mg(0x565)]()[Mg(0x20f)]===0x1?Mg(0x805):Mg(0xb5c)))):(this[Mg(0x858)][Mg(0xb20)](M6[Mg(0x234)]()[Mg(0x2c4)]),this[Mg(0x7c0)][Mg(0xb20)](M6[Mg(0x234)]()[Mg(0x212)]),this[Mg(0x3bf)][Mg(0xb20)](LL(M6[Mg(0x234)]()[Mg(0x303)],0x1)),this[Mg(0x6ff)][Mg(0xb20)](Mg(0x84d)+M6[Mg(0x234)]()[Mg(0x605)]),this[Mg(0x94e)][Mg(0xb20)](M6[Mg(0x234)]()[Mg(0x1bf)][Mg(0x86a)]()),this[Mg(0xc42)][Mg(0xb20)](M6[Mg(0x234)]()[Mg(0xa78)][Mg(0x86a)]()),this[Mg(0x915)][Mg(0xb20)](Lf(M6[Mg(0x234)]()[Mg(0x69e)])),Lt(Me,{'cache':!![],'card':ER[Mg(0xb1c)][Mg(0x913)],'name':Mg(0x681),'url':M6[Mg(0x234)]()[Mg(0x410)]},function(MJ){var MB=Mg;if(MJ[MB(0x3dc)])MJ[MB(0x227)][MB(0x266)]&&(MJ[MB(0x227)][MB(0x266)][MB(0x1fb)](MJ[MB(0x227)][MB(0x7e1)]),MJ[MB(0x227)][MB(0x266)][MB(0x552)][MB(0x304)](2.5));else MJ[MB(0x227)][MB(0x266)]&&(MJ[MB(0x227)][MB(0x266)][MB(0x1fb)](MB(0xc82),MB(0xd2a)),MJ[MB(0x227)][MB(0x266)][MB(0x552)][MB(0x304)](1.81719471887699));}),(M6[Mg(0x234)]()[Mg(0x20f)]===0x1||M6[Mg(0x234)]()[Mg(0x20f)]===0x2)&&(ER[Mg(0xb1c)][Mg(0x3d8)][Mg(0x152)]=!![],ER[Mg(0xb1c)][Mg(0x3d8)][Mg(0x1fb)](Mg(0xa14),M6[Mg(0x234)]()[Mg(0x20f)]===0x1?Mg(0x805):Mg(0xb5c)))),ER[Mg(0xb1c)][Mg(0x3d8)]['x']=ER[Mg(0xb1c)][Mg(0x858)]['x']+ER[Mg(0xb1c)][Mg(0x858)][Mg(0x3ab)]+0xf;}),this[MS(0x901)][MS(0x983)]=!![],this[MS(0x901)][MS(0x35c)]=![],this[MS(0x901)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;if(this[Mg(0x901)][Mg(0x35c)]){E6[Mg(0x3f4)](Mg(0x521)),this[Mg(0x901)][Mg(0x35c)]=![],this[Mg(0xa2c)][Mg(0x152)]=![],this[Mg(0x1cc)][Mg(0x35c)]=![],this[Mg(0xd3b)][Mg(0x152)]=![];if(this[Mg(0x890)])this[Mg(0x890)][Mg(0x187)]();if(this[Mg(0x540)])this[Mg(0x540)][Mg(0x187)]();this[Mg(0x6b0)][Mg(0x43f)]=!![];}else E6[Mg(0x3f4)](Mg(0x576)),this[Mg(0x901)][Mg(0x35c)]=!![],this[Mg(0xa2c)][Mg(0x152)]=!![],this[Mg(0x1cc)][Mg(0x35c)]=![],this[Mg(0xd3b)][Mg(0x152)]=![],El&&(EE[Mg(0xae7)]||El&&El[Mg(0x734)])?this[Mg(0xcc8)](0x0):this[Mg(0xcc8)](0x0);}),this[MS(0x1cc)][MS(0x983)]=!![],this[MS(0x1cc)][MS(0x35c)]=![],this[MS(0x1cc)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;if(this[Mg(0x1cc)][Mg(0x35c)]){E6[Mg(0x3f4)](Mg(0x521)),this[Mg(0x901)][Mg(0x35c)]=![],this[Mg(0xa2c)][Mg(0x152)]=![],this[Mg(0x1cc)][Mg(0x35c)]=![],this[Mg(0xd3b)][Mg(0x152)]=![];if(this[Mg(0x890)])this[Mg(0x890)][Mg(0x187)]();if(this[Mg(0x540)])this[Mg(0x540)][Mg(0x187)]();this[Mg(0x6b0)][Mg(0x43f)]=!![];}else E6[Mg(0x3f4)](Mg(0x576)),this[Mg(0x1cc)][Mg(0x35c)]=!![],this[Mg(0xd3b)][Mg(0x152)]=!![],this[Mg(0x901)][Mg(0x35c)]=![],this[Mg(0xa2c)][Mg(0x152)]=![],El&&(EE[Mg(0xae7)]||El&&El[Mg(0x734)])?this[Mg(0xcc8)](0x1):this[Mg(0xcc8)](0x1);}),this[MS(0x6a7)][MS(0x7cf)]=this[MS(0x695)][MS(0xa3f)][MS(0x2c8)](this[MS(0x6a7)]),this[MS(0x42e)][MS(0x7cf)]=this[MS(0x695)][MS(0xa3f)][MS(0x2c8)](this[MS(0x42e)]),this[MS(0xcf0)][MS(0x7cf)]=this[MS(0x695)][MS(0xa3f)][MS(0x2c8)](this[MS(0xcf0)]),this[MS(0x8a4)][MS(0x7cf)]=this[MS(0x695)][MS(0xa3f)][MS(0x2c8)](this[MS(0x8a4)]),this[MS(0xb8a)][MS(0x7cf)]=this[MS(0x695)][MS(0xa3f)][MS(0x2c8)](this[MS(0xb8a)]),ER[MS(0x892)](this[MS(0x3d2)],!![]),ER[MS(0x892)](this[MS(0x2f1)],!![]),this[MS(0x2f1)][MS(0x38c)][MS(0xb51)](()=>{var Mg=MS;if(M6[Mg(0x234)]()[Mg(0x20f)]==0x1)EE[Mg(0x87a)]=!EE[Mg(0x87a)];}),this[MS(0x3d2)][MS(0x38c)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf)),screenfull[Mg(0x136)](document[Mg(0x958)](Mg(0x883)));}),ER[MS(0x892)](this[MS(0x3e4)],!![]),this[MS(0x3e4)][MS(0x38c)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf)),ER[Mg(0x6d3)][Mg(0x3c4)]();}),this[MS(0xa73)][MS(0x983)]=!![],this[MS(0xa73)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf)),ER[Mg(0x164)][Mg(0x3c4)]();}),this[MS(0x50e)]=[MS(0x5da),MS(0x179),MS(0xb0b),MS(0x8ed),MS(0xb91),MS(0xb2c),MS(0xcee),MS(0x782),MS(0x51c),MS(0x419),MS(0xbc5),MS(0x3d6),MS(0x519),MS(0x14f),MS(0x157),MS(0x52c),MS(0xc84),MS(0x91f),MS(0x509),MS(0xc9b),MS(0xacf),MS(0xd1a),MS(0x37b),MS(0xb93),MS(0x990),MS(0xace),MS(0x832),MS(0x4e2),MS(0x1a4),MS(0xb03),MS(0x91d),MS(0xa7c),MS(0x3e1),MS(0x3c3),MS(0x104),MS(0x128),MS(0xb66),MS(0x877),MS(0x25c),MS(0x269),MS(0x8a7),MS(0x23b),MS(0x885),MS(0x23c)],this[MS(0x590)][MS(0x983)]=!![]);if(DZ){}else{}this[MS(0x590)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf));if((EE[Mg(0xae7)]||El&&El[Mg(0x734)])&&EV===0x1)return;this[Mg(0x301)][Mg(0x4ea)](MJ=>MJ[Mg(0x197)]=![]),Du=(Du+=0x1)%this[Mg(0x50e)][Mg(0x16a)],this[Mg(0x1cd)][Mg(0x1fb)](M4({'keyImage':Mg(0x7c2),'keyFrame':this[Mg(0x4e7)][Mg(0x3e9)]},{'keyImage':Mg(0x375),'keyFrame':this[Mg(0x50e)][Du]}));if(DZ){}else{}this[Mg(0x301)][Mg(0x4ea)](MJ=>MJ[Mg(0x197)]=!![]),Ds();}),this[MS(0xd4c)][MS(0x983)]=!![],this[MS(0xd4c)][MS(0xa9f)][MS(0xd10)][MS(0xb51)](()=>{var Mg=MS;E6[Mg(0x3f4)](Mg(0xdf));if((EE[Mg(0xae7)]||El&&El[Mg(0x734)])&&EV===0x1)return;this[Mg(0x301)][Mg(0x4ea)](MJ=>MJ[Mg(0x197)]=![]),Du=(Du+=0x1)%this[Mg(0x50e)][Mg(0x16a)],this[Mg(0x1cd)][Mg(0x1fb)](M4({'keyImage':Mg(0x7c2),'keyFrame':this[Mg(0x4e7)][Mg(0x3e9)]},{'keyImage':Mg(0x375),'keyFrame':this[Mg(0x50e)][Du]}));if(DZ){}else{}this[Mg(0x301)][Mg(0x4ea)](MJ=>MJ[Mg(0x197)]=!![]),Ds();}),!DZ&&(this[MS(0x4f9)][MS(0x6a8)](this[MS(0x71d)]),this[MS(0x71d)]['x']=0x0,this[MS(0x71d)]['y']=0x0,this[MS(0x43c)][MS(0x6a8)](this[MS(0x68e)]),this[MS(0x68e)]['x']=0x0,this[MS(0x68e)]['y']=0x1c);},Rv[n2(0xa3a)][n2(0x4b1)]=function(){var MS=n2;this[MS(0x776)]();},Rv[n2(0xa3a)][n2(0xcc8)]=function(MS){var MW=n2;let Mv=0x0,Mg=0x2d,MJ=0x64;this[MW(0xa2c)][MW(0xd25)](Mf=>{var MN=MW;Mf[MN(0x187)]();}),this[MW(0xd3b)][MW(0xd25)](Mf=>{var MN=MW;Mf[MN(0x187)]();});let MB=Me[MW(0xb51)][MW(0xb9c)]();MB['x']=MS===0x0?-0xa:0xa,MB['y']=0x129-0xf;let Ms=[];if(MS===0x0)M6[MW(0x234)]()[MW(0x10a)][MW(0xd25)](Mf=>{var MN=MW;EE[MN(0xe5)][Mf]&&Ms[MN(0x526)](EE[MN(0xe5)][Mf]);});else MS===0x1&&(El&&(EE[MW(0xae7)]||El&&El[MW(0x734)])&&M6[MW(0x565)]()[MW(0x10a)][MW(0xd25)](Mf=>{var MN=MW;EE[MN(0xe5)][Mf]&&Ms[MN(0x526)](EE[MN(0xe5)][Mf]);}));Ms[MW(0xa6c)](EE[MW(0x58e)][MW(0xc86)](Mf=>Mf&&Mf[MW(0x6b1)]&&Mf[MW(0x6b1)]===EE[MW(0x545)][MW(0x2a1)][MW(0xe5)][0x0][MW(0x6b1)])[0x0]);var My=Ms[MW(0x16a)];let Mq=0x0,Mx=0x0,MZ=0x0;Ms=Ms[MW(0x7fd)]((Mf,MN)=>Mf[MW(0x2a1)][MW(0x2e9)]+Mf[MW(0x2a1)][MW(0x899)]+Mf[MW(0x2a1)][MW(0x9a8)]-(MN[MW(0x2a1)][MW(0x2e9)]+MN[MW(0x2a1)][MW(0x899)]+MN[MW(0x2a1)][MW(0x9a8)]));for(let Mf of Ms){Mx++;let MN=Me[MW(0xb51)][MW(0xa6e)](0x0,0x0,MW(0x1b9),Mf[MW(0x6b1)]);MN[MW(0xa46)]=Mf,MN[MW(0xc25)][MW(0x304)](0.5,0x1),MN[MW(0x552)][MW(0x304)](1.2),MN[MW(0x983)]=!![],MN[MW(0x374)]=!![],MS==0x0?(Mv=(My>0xb?0x5a-0x3:0x2d)*Mq/(My-0x1),Mv=My<=0x5?0x2d/0x2*Mq/(My-0x1):Mv):(Mv=(My>0xb?-(0x5a-0x3):-0x2d)*Mq/(My-0x1),Mv=My<=0x5?-(0x2d/0x2)*Mq/(My-0x1):Mv),(MN[MW(0xa9f)][MW(0x3e8)][MW(0xb51)](()=>{var MF=MW;MN[MF(0x552)][MF(0x304)](1.2),E6[MF(0x3f4)](MF(0x576));}),MN[MW(0xa9f)][MW(0x8bf)][MW(0xb51)](()=>{var MF=MW;MN[MF(0x552)][MF(0x304)](1.2,1.24),MB[MF(0x4a2)](MN);}),MN[MW(0xa9f)][MW(0xd10)][MW(0xb51)](()=>{var MF=MW;E6[MF(0x3f4)](MF(0xdf)),MN[MF(0x552)][MF(0x304)](1.2),MB[MF(0x187)](),this[MF(0x890)][MF(0x187)](),this[MF(0x540)][MF(0x187)](),this[MF(0x901)][MF(0x35c)]=![],this[MF(0xa2c)][MF(0x152)]=![],this[MF(0x1cc)][MF(0x35c)]=![],this[MF(0xd3b)][MF(0x152)]=![],this[MF(0x6b0)][MF(0x43f)]=!![],MS===0x0&&(Dj=MN[MF(0xa46)][MF(0x6b1)],Ds()),(MS===0x0||!(EE[MF(0xae7)]||El&&El[MF(0x734)])||MS===0x0&&(EE[MF(0xae7)]||El&&El[MF(0x734)]))&&(this[MF(0x6b0)][MF(0x660)][MS][MF(0x1fb)](MF(0x1b9),MN[MF(0xa46)][MF(0x6b1)]),this[MF(0x6b0)][MF(0x660)][MS][MF(0xa46)]=MN[MF(0xa46)],this[MF(0x6b0)][MF(0xcaa)][MF(0x1fb)](MF(0x1b9),this[MF(0x6b0)][MF(0x660)][0x0][MF(0xa46)][MF(0x6b1)]),(MS===0x0||!(EE[MF(0xae7)]||El&&El[MF(0x734)]))&&(this[MF(0xc11)]=MN[MF(0xa46)][MF(0x2a1)][MF(0x9a8)],this[MF(0xba5)][MF(0x552)][MF(0x304)](0x1*(MN[MF(0xa46)][MF(0x2a1)][MF(0x9a8)]<=0x3&&MN[MF(0xa46)][MF(0x2a1)][MF(0x9a8)]>=0x1?0x3:MN[MF(0xa46)][MF(0x2a1)][MF(0x9a8)])/0x8),this[MF(0xb77)]['x']=0x0,this[MF(0xb77)]['y']=0x0,EE[MF(0x287)][MF(0x888)]=0x0,EE[MF(0x287)][MF(0x86f)]=0x0,this[MF(0x6b0)][MF(0x649)](EE[MF(0x6b0)][MF(0x90b)]))),EE[MF(0xae7)]||El&&El[MF(0x734)]?EV!==![]&&El&&(no=!![],nu[MF(0x353)](MF(0x831),{'match_id':El[MF(0x4d7)],'user_id':M6[MF(0x234)]()[MF(0x605)],'productID':Dj})):(this[MF(0x6b0)][MF(0x660)][0x1][MF(0x1fb)](MF(0x1b9),MN[MF(0xa46)][MF(0x6b1)]),this[MF(0x6b0)][MF(0x660)][0x1][MF(0xa46)]=MN[MF(0xa46)]);}));let MG=0x4;MG=My>0xa?0x14:0x4,MG=My>0x32?0.7:0.6,MG=My>0x50?0.9999:0.5,Mq++;if(Mq<=0x1){}MS===0x0?MZ+=0.18:MZ-=0.18,MN[MW(0x51f)]=Mv+MZ,MB[MW(0xb51)](MN);}MS===0x0?this[MW(0xa2c)][MW(0xb51)](MB):this[MW(0xd3b)][MW(0xb51)](MB);},Rv[n2(0xa3a)][n2(0x542)]=function(MS=!![]){var MW=n2;if(MS){if(DZ===![]){var Mv={'xMin':0x50,'xMax':Me[MW(0x3ab)]-0x50,'yMin':0x5a,'yMax':Me[MW(0x4ca)]-0x14};RS={'xMin':0x64,'xMax':Me[MW(0x3ab)]-0x64,'yMin':0x5a,'yMax':Me[MW(0x4ca)]-0x32};var Mg=Me[MW(0x3ab)]-ER[MW(0xb1c)][MW(0xc5f)][MW(0x3ab)];RS={'xMin':Mg/0x2,'xMax':Me[MW(0x3ab)]-Mg/0x2,'yMin':0x28,'yMax':Me[MW(0x4ca)]-0xa};}else{var Mv={'xMin':0x32,'xMax':Me[MW(0x3ab)]-0x32,'yMin':0x5a,'yMax':Me[MW(0x4ca)]-0x14},Mv={'xMin':0x32,'xMax':Me[MW(0x3ab)]-0x32,'yMin':0x5a,'yMax':Me[MW(0x4ca)]-0x14};RS={'xMin':0x64,'xMax':Me[MW(0x3ab)]-0x64,'yMin':0x9b,'yMax':Me[MW(0x4ca)]-0x7a},RS={'xMin':0x32,'xMax':Me[MW(0x3ab)]-0x2b,'yMin':0x3c,'yMax':Me[MW(0x4ca)]-0x64},xxTABLE_BOUNDRIES={'xMin':0x27+0x64,'xMax':Me[MW(0x3ab)]-(0x2b+0x64),'yMin':0x50,'yMax':Me[MW(0x4ca)]-0xb};}}var MJ=(RS[MW(0x67f)]-RS[MW(0x428)])/this[MW(0x84a)][MW(0x82c)],MB=(RS[MW(0x564)]-RS[MW(0x9fa)])/this[MW(0x84a)][MW(0x601)];MJ+=0.03,MB+=0.03;var Ms=MJ<MB?MJ:MB;Ms=Ms<RW?Ms:RW,this[MW(0x84a)][MW(0x552)][MW(0x304)](L9(Ms*0x64)/0x64),this[MW(0x84a)]['x']=L9(RS[MW(0x428)]+(RS[MW(0x67f)]-RS[MW(0x428)]-this[MW(0x84a)][MW(0x82c)]*Ms)/0x2),this[MW(0x84a)]['y']=L9(RS[MW(0x9fa)]+(RS[MW(0x564)]-RS[MW(0x9fa)]-this[MW(0x84a)][MW(0x601)]*Ms)/0x2),tableGroup['x']=this[MW(0x84a)]['x'],tableGroup['y']=this[MW(0x84a)]['y'];},Rv[n2(0xa3a)][n2(0x9ef)]=function(){var MS=n2;this[MS(0x60b)](),ER[MS(0x5bf)](this[MS(0x695)],!![],0xdc,0x1,this);},Rv[n2(0xa3a)][n2(0x60b)]=function(){var MS=n2;ER[MS(0x918)](this[MS(0x695)],![]),this[MS(0xaf9)]=![],this[MS(0xcbe)](this[MS(0x91b)]),E6[MS(0x3f4)](MS(0x576));},Rv[n2(0xa3a)][n2(0x866)]=function(){var MS=n2;!DZ?(ER[MS(0x5fa)](this[MS(0x6a7)]),ER[MS(0x5fa)](this[MS(0x42e)])):ER[MS(0x5fa)](this[MS(0x293)]),ER[MS(0x918)](this[MS(0x695)],!![]),this[MS(0x667)]();},Rv[n2(0xa3a)][n2(0x88c)]=function(MS){var MW=n2;this[MW(0x89d)](MS),ER[MW(0x21e)](this[MW(0x695)],!![],0x96,0x1,this);},Rv[n2(0xa3a)][n2(0x89d)]=function(MS){var MW=n2;ER[MW(0x918)](this[MW(0x695)],![]),this[MW(0x695)][MW(0x4a4)]=MS,E6[MW(0x3f4)](MW(0x521));},Rv[n2(0xa3a)][n2(0xad4)]=function(){var MS=n2;this[MS(0x695)][MS(0x152)]=![];if(EE[MS(0x6ce)])EE[MS(0x6ce)][MS(0x4bf)]();},Rv[n2(0xa3a)][n2(0x667)]=function(){var MS=n2;this[MS(0x301)][MS(0x4ea)](Mv=>Mv[MS(0x197)]=![]),this[MS(0x852)]['x']=Me[MS(0x3ab)]/0x2,this[MS(0x852)]['y']=Me[MS(0x4ca)]-0xa;var MW=L9(Me[MS(0x3ab)]/0x2);this[MS(0x1d0)][MS(0x3ab)]=Me[MS(0x3ab)],this[MS(0x1d0)][MS(0x4ca)]=Me[MS(0x4ca)],this[MS(0x7b1)][MS(0x3ab)]=Me[MS(0x3ab)],this[MS(0x7b1)][MS(0x4ca)]=Me[MS(0x4ca)],this[MS(0xca5)]['y']=Me[MS(0x4ca)]*0.5,this[MS(0xbef)]['x']=Me[MS(0x3ab)]-this[MS(0xbef)][MS(0x3ab)]*0.51,this[MS(0x8a4)]['x']=Me[MS(0x3ab)]*0.5,this[MS(0x8a4)]['y']=Me[MS(0x4ca)]*0.54,this[MS(0xcf0)]['y']=Me[MS(0x4ca)]*0.25,this[MS(0xcf0)]['x']=Me[MS(0x3ab)]*0.5-this[MS(0xcf0)][MS(0x3ab)]*0.3,!DZ&&(this[MS(0xcf0)][MS(0x552)][MS(0x304)](0.65),this[MS(0xcf0)]['x']=Me[MS(0x3ab)]*0.5-this[MS(0xcf0)][MS(0x3ab)]*0.3,this[MS(0xb8a)][MS(0x552)][MS(0x304)](0.6),this[MS(0x42e)][MS(0x552)][MS(0x304)](0.54),this[MS(0x42e)]['y']=Me[MS(0x4ca)]-0x2d,this[MS(0x17c)][MS(0x552)][MS(0x304)](0.7),this[MS(0x87e)][MS(0x552)][MS(0x304)](0.7),this[MS(0xcf0)]['y']=Me[MS(0x4ca)]*0.2,this[MS(0x6a7)]['x']=Me[MS(0x3ab)]*0.08,this[MS(0x293)]['y']=0x26,this[MS(0x293)][MS(0x552)][MS(0x304)](0.9),this[MS(0x293)]['x']=Me[MS(0x3ab)]*0.5-(this[MS(0x293)][MS(0x3ab)]-this[MS(0x293)][MS(0x552)]['x'])*0.3,this[MS(0x17c)]['x']=Me[MS(0x3ab)]-0x1c,this[MS(0x87e)]['x']=-0xa,this[MS(0x17c)]['y']=0x14,this[MS(0x87e)]['y']=0x14),this[MS(0xb8a)]['x']=Me[MS(0x3ab)]*0.5,this[MS(0xb8a)]['y']=Me[MS(0x4ca)]*0.5,this[MS(0x91e)][MS(0x552)][MS(0x304)](0x3),this[MS(0x542)](),DZ?(this[MS(0x379)]['y']=0x19,this[MS(0x5cb)]['y']=0x2d):(ER[MS(0xb1c)][MS(0x1d0)][MS(0x3ab)]=Me[MS(0x3ab)]*0x1,ER[MS(0xb1c)][MS(0x1d0)][MS(0x4ca)]=Me[MS(0x4ca)]),this[MS(0x17c)]['x']=Me[MS(0x3ab)]-0x1c,ER[MS(0xb1c)][MS(0x42e)]['x']=Me[MS(0x3ab)]*0.5-ER[MS(0xb1c)][MS(0x42e)][MS(0x3ab)]*0.5,ER[MS(0xb1c)][MS(0x6a7)]['x']=Me[MS(0x3ab)]*0.5-ER[MS(0xb1c)][MS(0x6a7)][MS(0x3ab)]*0.535,EE[MS(0x667)](),setTimeout(()=>{var Mv=MS;this[Mv(0x301)][Mv(0x4ea)](Mg=>Mg[Mv(0x197)]=!![]);},0x15e);},Rv[n2(0xa3a)][n2(0xcbe)]=function(){};function Rg(MS,MW,Mv,Mg,MJ,MB,Ms){var My=n2;let Mq={'x1':MS,'y1':MW,'x2':Mv,'y2':Mg},Mx=new LT(Mq['x2']-Mq['x1'],Mq['y2']-Mq['y1']),MZ=new LT(Mq['x1']-MJ,Mq['y1']-MB),Mf=Mx[My(0xc13)](Mx),MN=0x2*MZ[My(0xc13)](Mx),MG=MZ[My(0xc13)](MZ)-Ms*Ms,MF=MN*MN-0x4*Mf*MG;if(MF<0x0)return![];else{MF=Math[My(0xba2)](MF);let Mt=(-MN+MF)/(0x2*Mf),MC=(-MN-MF)/(0x2*Mf),MT=[];if(Mt>=0x0&&Mt<=0x1){let Mz=new LT(MS+Mt*Mx['x'],MW+Mt*Mx['y']);MT[My(0x526)](Mz);}if(MC>=0x0&&MC<=0x1){let Mh=new LT(MS+MC*Mx['x'],MW+MC*Mx['y']);MT[My(0x526)](Mh);}var Mi=Infinity,Mr=![];return MT[My(0x4ea)](Mm=>{var Mc=My;let Mj=new LT(Mm['x'],Mm['y'])[Mc(0x5d7)](new LT(MS,MW))[Mc(0x16a)]();Mi>=Mj&&(Mi=Mj,Mr=Mm);}),Mr?Mr:![];}return![];}var RJ=Number(n2(0xbda)),RB=RJ*0x2,Rs=Lh(RJ),Ry=0x32,Rq=-0x1,Rx=0x0,RZ=-0.65,Rf=58.8,RN=0x1,RG=0x2,RF=0x8,Ri=0x9,Rr=0x0,Rt=0x3039,RC=-0x1,RT=0x1,Rz=0x2,Rh={'Ball\x20Yellow\x20Solid':0x1,'Ball\x20Blue\x20Solid':0x2,'Ball\x20Red\x20Solid':0x3,'Ball\x20Purple\x20Solid':0x4,'Ball\x20Orange\x20Solid':0x5,'Ball\x20Green\x20Solid':0x6,'Ball\x20Brown\x20Solid':0x7,'Ball\x20Black':0x8,'Ball\x20Yellow\x20Stripe':0x9,'Ball\x20Blue\x20Stripe':0xa,'Ball\x20Red\x20Stripe':0xb,'Ball\x20Purple\x20Stripe':0xc,'Ball\x20Orange\x20Stripe':0xd,'Ball\x20Green\x20Stripe':0xe,'Ball\x20Brown\x20Stripe':0xf,'Ball\x20Rainbow':Rt};function Rm(MS,MW){var Mv=ns();return Rm=function(Mg,MJ){Mg=Mg-0x78;var MB=Mv[Mg];return MB;},Rm(MS,MW);}function Rc(MS,MW=0x0,Mv=0x0,Mg=0x0){var MJ=n2;return Phaser[MJ(0x3d4)][MJ(0xb40)](this,Me),this[MJ(0x5ed)]=function(MB=!![]){var Ms=MJ;MB===!![]?(Rb='',EY[Ms(0x3b3)][Ms(0x9f2)][Ms(0xd25)](My=>{M2(My);}),Rb=Rb[Ms(0x711)](';',Ms(0x477)),eval(Rb),console[Ms(0x738)](new Function(Rb))):(this[Ms(0x13c)]=Me[Ms(0xb51)][Ms(0xb9c)](),this[Ms(0xa36)]=Me[Ms(0xb51)][Ms(0xb9c)](),this[Ms(0xa36)][Ms(0x552)][Ms(0x304)](0.943686638273686),this[Ms(0xd24)]=Me[Ms(0xb51)][Ms(0x267)](),this[Ms(0xd24)]['y']=0x1,this[Ms(0xd24)][Ms(0x700)](0x6,0xffffff),this[Ms(0xd24)][Ms(0x1e7)](0x0,0x0,0x3,0x3),this[Ms(0xd24)][Ms(0x366)](),this[Ms(0xd24)][Ms(0x2a0)]=0.8,this[Ms(0xd24)][Ms(0x152)]=![],this[Ms(0xa36)][Ms(0x6a8)](this[Ms(0xd24)]),this[Ms(0x9df)]=Me[Ms(0xb51)][Ms(0xb9c)](),this[Ms(0x9df)][Ms(0x552)][Ms(0x304)](0.5349207402930766),this[Ms(0x659)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,0x5,Ms(0xc82),Ms(0x659)),this[Ms(0x659)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x659)][Ms(0x552)][Ms(0x304)](0.8053187238650454),this[Ms(0x9df)][Ms(0x6a8)](this[Ms(0x659)]),this[Ms(0x6f8)]=Me[Ms(0xb51)][Ms(0xb9c)](),this[Ms(0x2dc)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,0x0,Ms(0x38b),0x0),this[Ms(0x2dc)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x2dc)][Ms(0x552)][Ms(0x304)](0.68340444629176),this[Ms(0x6f8)][Ms(0x6a8)](this[Ms(0x2dc)]),this[Ms(0xb17)]=Me[Ms(0xb51)][Ms(0xb9c)](),this[Ms(0x588)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,0x0,Ms(0x198),0x0),this[Ms(0x588)][Ms(0x152)]=![],this[Ms(0x588)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x588)][Ms(0x552)][Ms(0x304)](0.5),this[Ms(0xb17)][Ms(0x6a8)](this[Ms(0x588)]),this[Ms(0x6f8)][Ms(0x6a8)](this[Ms(0xb17)]),this[Ms(0x9df)][Ms(0x6a8)](this[Ms(0x6f8)]),this[Ms(0x1f0)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,0x0,Ms(0x1f0)),this[Ms(0x1f0)][Ms(0x2a0)]=0.81,this[Ms(0x1f0)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x1f0)][Ms(0x552)][Ms(0x304)](0.666722702570915),this[Ms(0x9df)][Ms(0x6a8)](this[Ms(0x1f0)]),this[Ms(0x76d)]=Me[Ms(0xb51)][Ms(0x267)](),this[Ms(0x76d)][Ms(0x700)](0x1,0x7bc04),this[Ms(0x76d)][Ms(0x1e7)](0x0,0x0,17.5,17.5),this[Ms(0x76d)][Ms(0x366)](),this[Ms(0x76d)][Ms(0x152)]=![],this[Ms(0x9df)][Ms(0x6a8)](this[Ms(0x76d)]),this[Ms(0x7e4)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,0x0,Ms(0xc82),Ms(0x7e4)),this[Ms(0x7e4)][Ms(0x152)]=![],this[Ms(0x7e4)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x7e4)][Ms(0x552)][Ms(0x304)](1.1699664401425545),this[Ms(0x9df)][Ms(0x6a8)](this[Ms(0x7e4)]),this[Ms(0x90d)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,0x0,Ms(0xc82),Ms(0x90d)),this[Ms(0x90d)][Ms(0x152)]=![],this[Ms(0x90d)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x90d)][Ms(0x552)][Ms(0x304)](0.7855726060990129),this[Ms(0x9df)][Ms(0x6a8)](this[Ms(0x90d)]),this[Ms(0x2fb)]=Me[Ms(0xb51)][Ms(0xb9c)](),this[Ms(0x2fb)]['y']=-0x5,this[Ms(0x2fb)][Ms(0x552)][Ms(0x304)](1.502838500165212),this[Ms(0xd48)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,-0x9,Ms(0x77c),Ms(0xd48)),this[Ms(0xd48)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x2fb)][Ms(0x6a8)](this[Ms(0xd48)]),this[Ms(0x81c)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,-0xc,Ms(0x77c),Ms(0x10f)),this[Ms(0x81c)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x2fb)][Ms(0x6a8)](this[Ms(0x81c)]),this[Ms(0x3a6)]=Me[Ms(0xb51)][Ms(0x2da)](0x0,-0xd,'10'),this[Ms(0x3a6)][Ms(0x67b)]({'font':Ms(0xac2),'fontStyle':Ms(0x285),'fontSize':Ms(0x7c1),'fill':Ms(0xae5),'align':Ms(0xce6)}),this[Ms(0x3a6)][Ms(0xc25)][Ms(0x304)](0.5),this[Ms(0x3a6)][Ms(0x552)][Ms(0x304)](0.2241941586816537),this[Ms(0x2fb)][Ms(0x6a8)](this[Ms(0x3a6)]),this[Ms(0x9df)][Ms(0x6a8)](this[Ms(0x2fb)]),this[Ms(0xa36)][Ms(0x6a8)](this[Ms(0x9df)]),this[Ms(0x13c)][Ms(0x6a8)](this[Ms(0xa36)])),this[Ms(0x588)][Ms(0x152)]=!![],this[Ms(0x1f0)][Ms(0x2a0)]=0.7,this[Ms(0x2dc)][Ms(0x552)][Ms(0x304)](0.69340444629176),Me[Ms(0x347)]&&(this[Ms(0x2dc)][Ms(0x552)][Ms(0x304)](0.68340444629176),this[Ms(0x1f0)][Ms(0x2a0)]=0.32,this[Ms(0x1f0)][Ms(0x552)][Ms(0x304)](0.88*0.8),this[Ms(0x1f0)][Ms(0x152)]=![],this[Ms(0xb17)][Ms(0x152)]=![],this[Ms(0x588)][Ms(0x152)]=![],this[Ms(0xb17)][Ms(0x41a)](this[Ms(0x588)]),this[Ms(0x6f8)][Ms(0x41a)](this[Ms(0xb17)]));},this[MJ(0x5ed)](Dy),this[MJ(0x6a8)](this[MJ(0xa36)]),this[MJ(0xf2)]=function(MB=0x0,Ms=0x0,My=0x0){var Mq=MJ;this[Mq(0x703)]=undefined,this[Mq(0x2fb)][Mq(0x152)]=![],this[Mq(0x9df)][Mq(0x552)][Mq(0x304)](RJ*Number(Mq(0xb9e))),this[Mq(0xba4)]=0x1,this[Mq(0x38d)]=0x1;var Mx;this[Mq(0x478)]=![],this[Mq(0x3d5)]=new LT(),this[Mq(0x63a)]=new LT(),this[Mq(0x7a3)]=0x0,this[Mq(0x9bc)]=![],this[Mq(0x909)]=new LT(),this[Mq(0x3c7)]=new LT(),this[Mq(0xb96)]=MB,this[Mq(0x563)]=Ms,this[Mq(0xbe6)]=0x0,this[Mq(0x6f6)]={'x':MB,'y':Ms},this[Mq(0x889)]=JSON[Mq(0x689)](this[Mq(0x6f6)]),this[Mq(0x6c5)]={'x':MB,'y':Ms},this[Mq(0xcde)]=JSON[Mq(0x689)](this[Mq(0x6c5)]),this[Mq(0x912)]=this[Mq(0x912)]||My||0x0,this[Mq(0xc0a)]=![];if(My!==undefined){EE[Mq(0xc64)]===EE[Mq(0x37e)][Mq(0x863)]?(this[Mq(0xb17)][Mq(0x152)]=![],EE[Mq(0xae8)](My)!==![]&&(My=EE[Mq(0xae8)](My),this[Mq(0xc0a)]=EE[Mq(0xc53)](My))):this[Mq(0xb17)][Mq(0x152)]=!![];var MZ=0xffffff;switch(My){case 0x0:MZ=0xffffff;break;case 0x1:MZ=0xffff00;break;case 0x2:MZ=0xbb;break;case 0x3:MZ=0xff0000;break;case 0x4:MZ=0xbb00bb;break;case 0x5:MZ=0xff6600;break;case 0x6:MZ=0xbb00;break;case 0x7:MZ=0xaa2200;break;case 0x8:MZ=0x0;break;case 0x9:MZ=0xffff00;break;case 0xa:MZ=0xbb;break;case 0xb:MZ=0xff0000;break;case 0xc:MZ=0xbb00bb;break;case 0xd:MZ=0xff6600;break;case 0xe:MZ=0xbb00;break;case 0xf:MZ=0xaa2200;break;}this[Mq(0xd48)][Mq(0x2de)]=MZ,EE[Mq(0xc64)]===EE[Mq(0x37e)][Mq(0x863)]?this[Mq(0x3a6)][Mq(0xb20)](this[Mq(0xc0a)]):this[Mq(0x3a6)][Mq(0xb20)](My),(this[Mq(0x4e0)]=MZ,this[Mq(0x912)]=My),My==0x0&&(this[Mq(0x888)]=0x0,this[Mq(0x86f)]=0x0);if(My<=0x8){Mx=Mq(0x38b);if(My==0x1){}}else Mx=Mq(0x17b)+String(this[Mq(0x912)]);this[Mq(0x2dc)][Mq(0x1fb)](Mx),this[Mq(0x2dc)][Mq(0x359)]=Mx,this[Mq(0x2dc)][Mq(0x311)]=Number(this[Mq(0x912)]);}this[Mq(0x4b5)]=EE[Mq(0x5b2)](Number(My)),this[Mq(0x588)][Mq(0x311)]=Number(My),this[Mq(0x478)]=![],this[Mq(0xb1a)]=![],this[Mq(0x31f)][Mq(0x304)](MB,Ms),this[Mq(0x9a2)](),this[Mq(0x2dc)][Mq(0x311)]=Number(this[Mq(0x912)]),this[Mq(0x552)][Mq(0x304)](0x1),this[Mq(0x7ea)](),this[Mq(0xd1d)]=-0x1,this[Mq(0x268)]=[0x1,0x0,0x0,0x0],this[Mq(0xb5f)](Math[Mq(0x219)]()*0xa-0x5,Math[Mq(0x219)]()*0xa-0x5,Math[Mq(0x219)]()*0xa-0x5),this[Mq(0x912)]===Rr&&(this[Mq(0x2dc)][Mq(0x983)]=!![],this[Mq(0x2dc)][Mq(0x374)]=!![],this[Mq(0x2dc)][Mq(0xa9f)][Mq(0x187)](),this[Mq(0x2dc)][Mq(0xa9f)][Mq(0xd10)][Mq(0xb51)](()=>{var Mf=Mq;this[Mf(0x338)]===DI[Mf(0x294)]&&this[Mf(0x1ff)]&&((EE[Mf(0xae7)]||El&&El[Mf(0x734)])&&EV===0x0||!(EE[Mf(0xae7)]||El&&El[Mf(0x734)]))&&(ER[Mf(0xb1c)][Mf(0x7e8)][Mf(0x152)]=![],EE[Mf(0x287)]=this,EE[Mf(0x287)][Mf(0xc10)]=!![],EL=DI[Mf(0x294)],EE[Mf(0x6b0)][Mf(0x968)][EV][Mf(0x2a0)]=0x0,this[Mf(0x90d)][Mf(0x152)]=!![]);}),this[Mq(0x2dc)][Mq(0xa9f)][Mq(0x19b)][Mq(0xb51)](()=>{var Mf=Mq;this[Mf(0x1ff)]&&((EE[Mf(0xae7)]||El&&El[Mf(0x734)])&&EV===0x0||!(EE[Mf(0xae7)]||El&&El[Mf(0x734)]))&&(EL=DI[Mf(0x45b)],EE[Mf(0x6b0)][Mf(0x3f0)](EV),EE[Mf(0x6b0)][Mf(0x471)](EV,this['x'],this['y']),EE[Mf(0x6b0)][Mf(0x968)][0x0][Mf(0x2a0)]=0x1,EE[Mf(0x6b0)][Mf(0x968)][0x1][Mf(0x2a0)]=0x1,ER[Mf(0xb1c)][Mf(0x7e8)][Mf(0x152)]=!![],this[Mf(0x90d)][Mf(0x152)]=![]),EE[Mf(0x287)][Mf(0xc10)]=![];}),this[Mq(0x268)]=[0x1,0x0,0x0,0x0],this[Mq(0xb5f)](0.011,0.011));},this[MJ(0xd01)]=function(MB,Ms,My){var Mq=MJ;return void 0x0===My&&(My=0x1),this[Mq(0x7ec)]=!![],this[Mq(0x31f)][Mq(0x304)](MB,Ms),this[Mq(0x152)]=!0x0,this;},this[MJ(0xc04)]=function(){var MB=MJ;return{'points':this[MB(0xc0a)],'uid':this[MB(0xc77)],'fallAnimRunning':this[MB(0xb1a)],'fallHoleIdx':this[MB(0xd1d)],'orginePos':this[MB(0x6c5)],'prevPos':this[MB(0x6f6)],'ballRotation':this[MB(0x268)],'grip':this[MB(0x38d)],'ySpin':this[MB(0xba4)],'alive':this[MB(0x7ec)],'ballID':this[MB(0x912)],'position':new LT(this['x'],this['y']),'x':this['x'],'y':this['y'],'isMoving':this[MB(0x478)],'veloc_vector':new LT(this[MB(0x3d5)]['x'],this[MB(0x3d5)]['y']),'screw':this[MB(0x888)],'english':this[MB(0x86f)],'color':this[MB(0x4e0)]};},this[MJ(0x369)]=function(){var MB=MJ;return{'bl':this,'points':this[MB(0xc0a)],'uid':this[MB(0xc77)],'fallAnimRunning':this[MB(0xb1a)],'fallHoleIdx':this[MB(0xd1d)],'orginePos':this[MB(0x6c5)],'prevPos':this[MB(0x6f6)],'ballRotation':this[MB(0x268)],'grip':this[MB(0x38d)],'ySpin':this[MB(0xba4)],'alive':this[MB(0x7ec)],'ballID':this[MB(0x912)],'position':new LT(this['x'],this['y']),'x':this['x'],'y':this['y'],'isMoving':this[MB(0x478)],'veloc_vector':this[MB(0x3d5)],'screw':this[MB(0x888)],'english':this[MB(0x86f)],'color':this[MB(0x4e0)],'ball':{'points':this[MB(0xc0a)],'uid':this[MB(0xc77)],'fallAnimRunning':this[MB(0xb1a)],'fallHoleIdx':this[MB(0xd1d)],'orginePos':this[MB(0x6c5)],'prevPos':this[MB(0x6f6)],'ballRotation':this[MB(0x268)],'grip':this[MB(0x38d)],'ySpin':this[MB(0xba4)],'alive':this[MB(0x7ec)],'ballID':this[MB(0x912)],'position':new LT(this['x'],this['y']),'x':this['x'],'y':this['y'],'isMoving':this[MB(0x478)],'veloc_vector':this[MB(0x3d5)],'screw':this[MB(0x888)],'english':this[MB(0x86f)],'color':this[MB(0x4e0)]}};},this[MJ(0xb5f)]=function(MB,Ms,My){var Mq=MJ,Mx=-(MB*this[Mq(0x38d)]),MZ=this[Mq(0xba4)],Mf=Ms*this[Mq(0x38d)],MN=Math[Mq(0xba2)](Mx*Mx+MZ*MZ+Mf*Mf),MG=RJ*0.98;if(MN>0.1){this[Mq(0x268)]=this[Mq(0x452)](this[Mq(0x268)],MZ/MN,Mx/MN,Mf/MN,MN/MG),this[Mq(0x268)]=this[Mq(0x76c)](this[Mq(0x268)]);if(!Me[Mq(0x347)])this[Mq(0xc32)](this[Mq(0x268)]);}},this[MJ(0xc32)]=function(MB){var Ms=MJ,My=MB[0x0],Mq=MB[0x1],Mx=MB[0x2],MZ=MB[0x3],Mf=Math[Ms(0xc35)](0x2*My*MZ-0x2*Mq*Mx,0x1-0x2*My*My-0x2*Mx*Mx)+Math['PI'],MN=Math[Ms(0x11d)](0x2*Mq*My+0x2*Mx*MZ)+Math['PI'],MG=Math[Ms(0xc35)](0x2*Mq*MZ-0x2*My*Mx,0x1-0x2*Mq*Mq-0x2*Mx*Mx)+Math['PI'],MF=Mq*My+Mx*MZ;if(!(MF>0.499||MF<-0.499)){this[Ms(0x6f8)][Ms(0x51f)]=0xb4/Math['PI']*Mf,this[Ms(0x1f0)][Ms(0x51f)]=-this[Ms(0x2dc)][Ms(0x51f)];var Mi=(MN-0.5*Math['PI'])/Math['PI'];this[Ms(0x912)]>0x8&&(this[Ms(0xbe6)]=0x29-Math[Ms(0x996)](0x29*Mi),this[Ms(0x2dc)][Ms(0x311)]=0x29-Math[Ms(0x996)](0x29*Mi)),(this[Ms(0xb17)]['x']=0x0,this[Ms(0xb17)]['y']=0x0,this[Ms(0xb17)][Ms(0x51f)]=0x0,this[Ms(0x588)]['x']=0x0,this[Ms(0x588)]['y']=0x0,this[Ms(0x588)][Ms(0x51f)]=0x0);var Mr=RJ*0.85;this[Ms(0x588)][Ms(0x3ab)]=this[Ms(0x2dc)][Ms(0x3ab)]*0.5,this[Ms(0x588)][Ms(0x4ca)]=this[Ms(0x2dc)][Ms(0x4ca)]*0.5,MN<Math['PI']/0x2||MN>0x3*Math['PI']/0x2?MG>Math['PI']/0x2&&MG<0x3*Math['PI']/0x2?(this[Ms(0xb17)]['y']=Mr*Math[Ms(0xa2d)](MG)*Math[Ms(0xa56)](MN),this[Ms(0xb17)]['x']=Mr*Math[Ms(0xa56)](MG)):(this[Ms(0xb17)]['y']=-Mr*Math[Ms(0xa2d)](MG)*Math[Ms(0xa56)](MN),this[Ms(0xb17)]['x']=-Mr*Math[Ms(0xa56)](MG)):MG>Math['PI']/0x2&&MG<0x3*Math['PI']/0x2?(this[Ms(0xb17)]['y']=-Mr*Math[Ms(0xa2d)](MG)*Math[Ms(0xa56)](MN),this[Ms(0xb17)]['x']=-Mr*Math[Ms(0xa56)](MG)):(this[Ms(0xb17)]['y']=Mr*Math[Ms(0xa2d)](MG)*Math[Ms(0xa56)](MN),this[Ms(0xb17)]['x']=Mr*Math[Ms(0xa56)](MG));var Mt=Math[Ms(0xba2)](this[Ms(0xb17)]['x']*this[Ms(0xb17)]['x']+this[Ms(0xb17)]['y']*this[Ms(0xb17)]['y'])/Mr,MC=Math[Ms(0xa2d)](Mt*Math['PI']/0x2),MT=Math[Ms(0xc35)](this[Ms(0xb17)]['y'],this[Ms(0xb17)]['x']);this[Ms(0xb17)][Ms(0x552)][Ms(0x304)](0x1,MC),this[Ms(0xb17)][Ms(0x51f)]=0xb4/Math['PI']*MT+0x5a,this[Ms(0x588)][Ms(0x51f)]=-this[Ms(0xb17)][Ms(0x51f)],this[Ms(0x588)][Ms(0x2a0)]=MC+0.3,this[Ms(0x659)]['x']=0.2*Mr*(this['x']/(0x12c*2.4)),this[Ms(0x659)]['y']=0.2*Mr*(this['y']/(0x96*2.4));}},this[MJ(0x452)]=function(MB,Ms,My,Mq,Mx){var MZ=MJ,Mf=Math[MZ(0xba2)](Ms*Ms+My*My+Mq*Mq),MN=Ms/Mf,MG=My/Mf,MF=Mq/Mf,Mi=Math[MZ(0xa56)](0.5*Mx),Mr=MN*Mi,Mt=MG*Mi,MC=MF*Mi,MT=Math[MZ(0xa2d)](0.5*Mx),Mz=MB[0x0],Mh=MB[0x1],Mm=MB[0x2],Mc=MB[0x3],Mj=Mz*MT+Mh*MC-Mm*Mt+Mc*Mr,MO=-Mz*MC+Mh*MT+Mm*Mr+Mc*Mt,Mu=Mz*Mt-Mh*Mr+Mm*MT+Mc*MC,MU=-Mz*Mr-Mh*Mt-Mm*MC+Mc*MT,MY=new Array();return MY[0x0]=Mj,MY[0x1]=MO,MY[0x2]=Mu,MY[0x3]=MU,MY;},this[MJ(0x76c)]=function(MB){var Ms=MJ,My=Math[Ms(0xba2)](MB[0x0]*MB[0x0]+MB[0x1]*MB[0x1]+MB[0x2]*MB[0x2]+MB[0x3]*MB[0x3]),Mq=new Array();return Mq[0x0]=MB[0x0]/My,Mq[0x1]=MB[0x1]/My,Mq[0x2]=MB[0x2]/My,Mq[0x3]=MB[0x3]/My,Mq;},this[MJ(0x7e5)]=function(MB,Ms,My){var Mq=MJ;this[Mq(0xb1a)]=!![],this[Mq(0xd1d)]=Ms,My=!!![],(EE[Mq(0xae7)]||El&&El[Mq(0x734)])&&EV===0x0&&(no=!![],nu[Mq(0x353)](Mq(0x4fa),{'match_id':El[Mq(0x4d7)],'user_id':M6[Mq(0x234)]()[Mq(0x605)],'ball':{'step':{'x':this[Mq(0x8cb)]['x'],'y':this[Mq(0x8cb)]['y']},'x':this['x'],'y':this['y'],'vecLength':this[Mq(0x3d5)][Mq(0x16a)](),'holeId':Ms,'rank':EE[Mq(0x545)][Mq(0x212)]}}));if(EE[Mq(0xac9)]===!![]||EE[Mq(0xc08)]===!![]){}else{if(My){}else{ER[Mq(0xb1c)][Mq(0x485)][Mq(0xb51)](this);var Mx=Me[Mq(0xb51)][Mq(0x2b1)](this)['to']({'x':MB['x1'],'y':MB['y1']},0x190,Phaser[Mq(0x19c)][Mq(0xc96)][Mq(0x28c)],!![],0x32);Mx[Mq(0xabe)][Mq(0x663)](function(){var MN=Mq;this[MN(0x170)](),ER[MN(0x5fa)](this),EE[MN(0xea)]++;},this);}var MZ=this[Mq(0x3d5)][Mq(0x16a)](),Mf=0.1+MZ/0x64*0x3;Mf*=0.01,Mf<=0.3&&(Mf=0.3),E6[Mq(0x3f4)](Mq(0xe9)+Db(0x1,0x3),Mf),EE[Mq(0x921)](this,Ms,this[Mq(0x3d5)][Mq(0x16a)]());}},this[MJ(0xb28)]=function(){var MB=MJ,Ms=this[MB(0x703)];Ms===undefined&&(Ms=this[MB(0x4e0)]),this[MB(0xd48)][MB(0x2de)]=Ms,this[MB(0x2fb)][MB(0x152)]=!![],this[MB(0x2fb)][MB(0x552)][MB(0x304)](0x0),this['tw']&&this['tw'][MB(0x256)]&&this['tw'][MB(0x256)](),this['tw']=Me[MB(0xb51)][MB(0x2b1)](this[MB(0x2fb)][MB(0x552)])['to']({'x':2.02838500165212,'y':2.02838500165212},0x96,Phaser[MB(0x19c)][MB(0xb78)][MB(0x793)],!![]),this['tw'][MB(0xabe)][MB(0x663)](function(){},this);},this[MJ(0x22c)]=function(){var MB=MJ;this['tw']&&this['tw'][MB(0x256)]&&this['tw'][MB(0x256)](),this[MB(0x2fb)][MB(0x552)][MB(0x304)](2.02838500165212),this['tw']=Me[MB(0xb51)][MB(0x2b1)](this[MB(0x2fb)][MB(0x552)])['to']({'x':0x0,'y':0x0},0x96,Phaser[MB(0x19c)][MB(0xb78)][MB(0x793)],!![]),this['tw'][MB(0xabe)][MB(0x663)](function(){var Ms=MB;this[Ms(0x2fb)][Ms(0x152)]=![];},this);},this[MJ(0xcce)]=function(){var MB=MJ;if(this[MB(0x7ec)]===![])return;if(ED!==DY[MB(0x829)])return;if(this[MB(0xb1a)])return;if(this[MB(0x478)]===!![]){var Ms=this[MB(0x3d5)][MB(0x16a)]();this[MB(0xb5f)](this[MB(0x3d5)]['x'],this[MB(0x3d5)]['y']);var My=0x1,Mq=this[MB(0x3d5)],Mx=0x5;Ms>Mx&&(My=Math[MB(0xaa6)](Ms/Mx),Mq=this[MB(0x3d5)][MB(0xb84)](0x1/My));var MZ,Mf=[],MN=[],MG=[];for(var MF=0x0;MF<My;MF++){this[MB(0x31f)]['x']+=Mq['x'],this[MB(0x31f)]['y']+=Mq['y'];for(var Mi=0x0;Mi<EE[MB(0xafd)][MB(0x16a)];Mi++){var Mr=EE[MB(0xafd)][MB(0x16a)];Mr<=Mi&&(Mi=Mr-0x1);if(EE[MB(0xafd)][Mi]===this)continue;if(EE[MB(0xafd)][Mi][MB(0x7ec)]===![])continue;if(EE[MB(0xafd)][Mi][MB(0xb1a)]===!![])continue;MZ=this[MB(0x4b6)](this,EE[MB(0xafd)][Mi],RB),MZ===!![]&&MG[MB(0x526)](Mi);}if(MG[MB(0x16a)]>0x0)break;for(var Mi=0x0;Mi<EE[MB(0x6c6)][MB(0x16a)];Mi++){var Mt=new LT(this['x']-EE[MB(0x6c6)][Mi]['x'],this['y']-EE[MB(0x6c6)][Mi]['y']);if(Mt[MB(0x16a)]()<EE[MB(0x6c6)][Mi][MB(0x7b8)]&&this[MB(0x3d5)][MB(0x16a)]()<0x5){this[MB(0x7e5)](EE[MB(0x6c6)][Mi],Mi,!![],this[MB(0x3d5)]);return;}if(Mt[MB(0x16a)]()<EE[MB(0x6c6)][Mi][MB(0x34d)]){this[MB(0x7e5)](EE[MB(0x6c6)][Mi],Mi,![],this[MB(0x3d5)]);return;}}for(var MC in EE[MB(0x62f)]){EE[MB(0x62f)][MB(0x239)](MC)&&(MZ=this[MB(0xc09)](this,EE[MB(0x62f)][MC]),MZ!==![]?EE[MB(0x62f)][MC][MB(0x38e)][MB(0x2c8)](this[MB(0x912)])===-0x1&&Mf[MB(0x526)](EE[MB(0x62f)][MC]):EE[MB(0x62f)][MC][MB(0x38e)][MB(0x20a)](EE[MB(0x62f)][MC][MB(0x38e)][MB(0x2c8)](this[MB(0x912)]),0x1));}for(var MT=0x0;MT<EE[MB(0xd36)][MB(0x16a)];MT++){for(var Mz=0x0;Mz<EE[MB(0xd36)][MT][MB(0xc0a)][MB(0x16a)];Mz++){MZ=this[MB(0x4b6)](this,EE[MB(0xd36)][MT][MB(0xc0a)][Mz],EE[MB(0xd36)][MT][MB(0xc0a)][Mz][MB(0x536)]),MZ===!![]?EE[MB(0xd36)][MT][MB(0xc0a)][Mz][MB(0x38e)][MB(0x2c8)](this[MB(0x912)])===-0x1&&MN[MB(0x526)](EE[MB(0xd36)][MT][MB(0xc0a)][Mz]):EE[MB(0xd36)][MT][MB(0xc0a)][Mz][MB(0x38e)][MB(0x20a)](EE[MB(0xd36)][MT][MB(0xc0a)][Mz][MB(0x38e)][MB(0x2c8)](this[MB(0x912)]),0x1);}for(var Mh=0x0;Mh<EE[MB(0xd36)][MT][MB(0x10e)][MB(0x16a)];Mh++){MZ=this[MB(0xc09)](this,EE[MB(0xd36)][MT][MB(0x10e)][Mh]),MZ!==![]?EE[MB(0xd36)][MT][MB(0x10e)][Mh][MB(0x38e)][MB(0x2c8)](this[MB(0x912)])===-0x1&&Mf[MB(0x526)](EE[MB(0xd36)][MT][MB(0x10e)][Mh]):EE[MB(0xd36)][MT][MB(0x10e)][Mh][MB(0x38e)][MB(0x20a)](EE[MB(0xd36)][MT][MB(0x10e)][Mh][MB(0x38e)][MB(0x2c8)](this[MB(0x912)]),0x1);}}for(var MC in EE[MB(0x199)]){if(EE[MB(0x199)][MB(0x239)](MC))for(var Mi=0x0;Mi<EE[MB(0x199)][MC][MB(0x16a)];Mi++){MZ=this[MB(0xc09)](this,EE[MB(0x199)][MC][Mi]),MZ!==![]?EE[MB(0x199)][MC][Mi][MB(0x38e)][MB(0x2c8)](this[MB(0x912)])===-0x1&&Mf[MB(0x526)](EE[MB(0x199)][MC][Mi]):EE[MB(0x199)][MC][Mi][MB(0x38e)][MB(0x20a)](EE[MB(0x199)][MC][Mi][MB(0x38e)][MB(0x2c8)](this[MB(0x912)]),0x1);}}for(var MC in EE[MB(0x5f6)]){if(EE[MB(0x5f6)][MB(0x239)](MC))for(var Mi=0x0;Mi<EE[MB(0x5f6)][MC][MB(0x16a)];Mi++){MZ=this[MB(0x4b6)](this,EE[MB(0x5f6)][MC][Mi],EE[MB(0x5f6)][MC][Mi][MB(0x536)]),MZ===!![]?EE[MB(0x5f6)][MC][Mi][MB(0x38e)][MB(0x2c8)](this[MB(0x912)])===-0x1&&MN[MB(0x526)](EE[MB(0x5f6)][MC][Mi]):EE[MB(0x5f6)][MC][Mi][MB(0x38e)][MB(0x20a)](EE[MB(0x5f6)][MC][Mi][MB(0x38e)][MB(0x2c8)](this[MB(0x912)]),0x1);}}if(Mf[MB(0x16a)]>0x0||MN[MB(0x16a)]>0x0)break;}if((Mf[MB(0x16a)]>0x0||MN[MB(0x16a)]>0x0||MG[MB(0x16a)]>0x0)&&!this[MB(0xb1a)]){this[MB(0x31f)]['x']-=Mq['x'],this[MB(0x31f)]['y']-=Mq['y'];var Mm=Mq[MB(0x16a)](),Mc=0x1,Mj=Mq[MB(0x369)](),MO=Number(EE[MB(0x9f9)]?String('5'):String('.5'));Mm>MO&&(Mc=Math[MB(0xaa6)](Mm/MO),Mj=Mq[MB(0xb84)](0x1/Mc));var Mu=![];for(var MF=0x0;MF<Mc;MF++){if(Mu===!![])break;this[MB(0x31f)]['x']+=Mj['x'],this[MB(0x31f)]['y']+=Mj['y'];for(var Mi=0x0;Mi<EE[MB(0x6c6)][MB(0x16a)];Mi++){var Mt=new LT(this['x']-EE[MB(0x6c6)][Mi]['x'],this['y']-EE[MB(0x6c6)][Mi]['y']);if(Mt[MB(0x16a)]()<EE[MB(0x6c6)][Mi][MB(0x7b8)]&&this[MB(0x3d5)][MB(0x16a)]()<0x5){this[MB(0x7e5)](EE[MB(0x6c6)][Mi],Mi,!![],this[MB(0x3d5)]);return;}if(Mt[MB(0x16a)]()<EE[MB(0x6c6)][Mi][MB(0x34d)]){this[MB(0x7e5)](EE[MB(0x6c6)][Mi],Mi,![],this[MB(0x3d5)]);return;}}if(Mu===!![])break;if(MG[MB(0x16a)]>0x0)for(var Mi=0x0;Mi<MG[MB(0x16a)];Mi++){MZ=this[MB(0x4b6)](this,EE[MB(0xafd)][MG[Mi]],RB);if(MZ===!![]){this[MB(0x874)](this,EE[MB(0xafd)][MG[Mi]]),MF=0x14,Mu=!![];var MU=this[MB(0x3d5)][MB(0x16a)](),MY=0.2+MU/0x5*0.8;MY>0x1&&(MY=0x1),E6[MB(0x3f4)](MB(0xb0c)+Db(0x1,0x2),MY),this[MB(0x912)]===Rr&&EE[MB(0x7e7)]===-0x1&&(EE[MB(0xafd)][MG[Mi]][MB(0x912)]===RF&&(EE[MB(0x994)]=!![]),EE[MB(0x7e7)]=EE[MB(0xafd)][MG[Mi]][MB(0x4b5)],EE[MB(0x172)]=EE[MB(0xafd)][MG[Mi]],EE[MB(0x358)](this,MG[Mi]));}}if(Mu===!![])break;if(Mf[MB(0x16a)]>0x0)for(var Mi=0x0;Mi<Mf[MB(0x16a)];Mi++){MZ=this[MB(0xc09)](this,Mf[Mi]);if(MZ!==![]){MF=0x14;if(Mf[Mi][MB(0x38e)][MB(0x2c8)](this[MB(0x912)])===-0x1){Mf[Mi][MB(0x38e)][MB(0x526)](this[MB(0x912)]),Mf[Mi][MB(0xd21)]=0xf,this[MB(0x3d5)]=this[MB(0x264)](this,MZ,this[MB(0x3d5)]),EE[MB(0x4a5)](this),Mu=!![];var MU=this[MB(0x3d5)][MB(0x16a)](),MY=0.1+MU/0x64*0x3;MY<=0.3&&(MY=0.3),(E6[MB(0x3f4)](MB(0x1d3)+Db(0x1,0x2),MY),EE[MB(0x336)](this,MZ));break;}}}if(Mu===!![])break;if(MN[MB(0x16a)]>0x0)for(var Mi=0x0;Mi<MN[MB(0x16a)];Mi++){MZ=this[MB(0x4b6)](this,MN[Mi],MN[Mi][MB(0x536)]);if(MZ===!![]){MF=0x14;if(MN[Mi][MB(0x38e)][MB(0x2c8)](this[MB(0x912)])===-0x1){MN[Mi][MB(0x38e)][MB(0x526)](this[MB(0x912)]),MN[Mi][MB(0xd21)]=0xf,this[MB(0x3d5)]=this[MB(0x264)](this,MN[Mi],this[MB(0x3d5)]),EE[MB(0x4a5)](this),Mu=!![];var MU=this[MB(0x3d5)][MB(0x16a)](),MY=0.1+MU/0x64*0x3;E6[MB(0x3f4)](MB(0x1d3)+Db(0x1,0x2),MY),EE[MB(0xc40)](this,MN[Mi],MN[Mi][MB(0x536)]);break;}}}}}if(Lc(this)){}if(!this[MB(0xb1a)])EE[MB(0x4a5)](this);if(!this[MB(0xb1a)])this[MB(0xb5f)](this[MB(0x3d5)]['x'],this[MB(0x3d5)]['y']);}},this[MJ(0x7fa)]=function(MB,Ms,My,Mq){var Mx=MJ,MZ=[],Mf=[],MN=Mq,MG=MB;MG[Mx(0x55d)]=Ms;if(MG[Mx(0x7ec)]===![])return;if(MG[Mx(0xb1a)])return;if(MG[Mx(0x478)]===!![]){var MF=MG[Mx(0x3d5)][Mx(0x369)]();MG[Mx(0x3d5)]=MG[Mx(0x3d5)][Mx(0xb84)](Mq[Mx(0x924)]);var Mi=MG[Mx(0x3d5)][Mx(0x16a)](),Mr=0x1,Mt=MG[Mx(0x3d5)],MC=parseFloat('2');Mi>MC&&(Mr=Math[Mx(0xaa6)](Mi/MC),Mt=MG[Mx(0x3d5)][Mx(0xb84)](0x1/Mr)),MG[Mx(0x3d5)]=MF[Mx(0x369)]();var MT,Mz=[],Mh=[],Mm=[],Mc=Mq[Mx(0xc1e)]*1.5,Mj=![];for(var MO=0x0;MO<Mr;MO++){MG['x']+=Mt['x'],MG['y']+=Mt['y'],MG[Mx(0xc45)]=Mt;var Mu=MN[Mx(0x687)](MG,Mq[Mx(0x211)]);Mu&&Mu[Mx(0x16a)]&&Mm[Mx(0x526)](...Mu);if(Mm[Mx(0x16a)]>0x0)break;if(MN[Mx(0x77d)](MG,Mt[Mx(0x369)](),(Ml,MV)=>{var Mk=Mx;MG[Mk(0xb1a)]=!![],MG[Mk(0x478)]=![],MG[Mk(0x931)]=Mk(0x952),MG[Mk(0xd1d)]=MV,MG[Mk(0xaf4)]=Mq[Mk(0x6c6)][MV],Mq[Mk(0x7de)][Mk(0x526)](MG),MG[Mk(0x27f)][Mk(0x526)]({'typeCol':Mk(0x952),'Col':Mq[Mk(0x6c6)][MV]}),Mq[Mk(0xa61)][Mk(0x526)]({'ball':MG,'coll':Mq[Mk(0x6c6)][MV],'type':Mk(0x952)}),!Mq[Mk(0xa41)]&&(Mq[Mk(0xa41)]=new LT(MG['x'],MG['y'])),(Mq[Mk(0x596)][Mk(0x526)](MG[Mk(0x912)]),Mq[Mk(0xd1c)][Mk(0x526)]({'ball':MG,'coll':Mq[Mk(0x6c6)][MV],'type':Mk(0x952)})),(Mq[Mk(0xc64)]!==Mq[Mk(0x37e)][Mk(0x863)]&&Mq[Mk(0xc64)]!==Mq[Mk(0x37e)][Mk(0x876)]&&Mq[Mk(0x37a)]!==Mq[Mk(0x5b2)](MG[Mk(0x912)])&&Mq[Mk(0x37a)]!==Mq[Mk(0xad1)]||Mq[Mk(0xc64)]!==Mq[Mk(0x37e)][Mk(0x863)]&&Mq[Mk(0xc64)]!==Mq[Mk(0x37e)][Mk(0x876)]&&Mq[Mk(0x37a)]===-0x1&&Mq[Mk(0x5b2)](MG[Mk(0x912)])===Mq[Mk(0x93f)]||(Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x876)]&&(Mq[Mk(0x358)]===Mq[Mk(0xad1)]&&MG[Mk(0x912)]!==Mq[Mk(0xcc3)])||Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x876)]&&Mq[Mk(0x358)]!==Mq[Mk(0xad1)]&&Mq[Mk(0x358)][Mk(0x912)]!==Mq[Mk(0xcc3)])||(Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x863)]&&(Mq[Mk(0xba8)][Mq[Mk(0xd27)]][Mk(0x37a)]===0x1||Mq[Mk(0xba8)][Mq[Mk(0xd27)]][Mk(0x37a)]===0x2)&&Mq[Mk(0x5e3)](MG[Mk(0xc0a)])!==Mq[Mk(0xba8)][Mq[Mk(0xd27)]][Mk(0x37a)]||Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x863)]&&Mq[Mk(0xba8)][Mq[Mk(0xd27)]][Mk(0x37a)]===0x5&&MG[Mk(0xc0a)]!==Mq[Mk(0xcc3)]))&&(Mq[Mk(0x4ae)]=!![]),Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x863)]&&Mq[Mk(0xd1c)][Mk(0x16a)]>0x1&&(Mq[Mk(0x4ae)]=!![]),My===MG&&(Mq[Mk(0x4ae)]=!![]);if(!Mq[Mk(0x4ae)])Mq[Mk(0xc1a)]++;if(Mq[Mk(0x10d)]===![])Mq[Mk(0x10d)]=new LT(MG['x'],MG['y']);MZ[Mk(0x526)](MG);}))return MZ;var MU=MN[Mx(0x4b3)](MG),MY=MN[Mx(0x20b)](MG),MI=MN[Mx(0x5c4)](MG);MU&&MU[Mx(0x16a)]&&Mz[Mx(0x526)](...MU);if(MY&&MY[Mx(0x16a)]){if(MY[Mx(0x9cf)]){}Mz[Mx(0x526)](...MY);}MI&&MI[Mx(0x16a)]&&Mh[Mx(0x526)](...MI);if(Mz[Mx(0x16a)]>0x0||Mh[Mx(0x16a)]>0x0)break;}if(Mz[Mx(0x16a)]>0x0||Mh[Mx(0x16a)]>0x0||Mm[Mx(0x16a)]>0x0){var Md=![];MG['x']-=Mt['x'],MG['y']-=Mt['y'];var MA=Mt[Mx(0x16a)](),Mo=0x1,MX=Mt[Mx(0x369)](),MQ=Number(String('.5'));MA>MQ&&(Mo=Math[Mx(0xaa6)](MA/MQ),MX=Mt[Mx(0xb84)](0x1/Mo));var Ma=0x14;if(MG[Mx(0xb1a)]){}for(var MO=0x0;MO<Mo;MO++){if(Md===!![])break;MG['x']+=MX['x'],MG['y']+=MX['y'],MG[Mx(0x61d)]=MX;if(MN[Mx(0x77d)](MG,MX[Mx(0x369)](),(Ml,MV)=>{var Mk=Mx;MG[Mk(0xb1a)]=!![],MG[Mk(0x478)]=![],MG[Mk(0x931)]=Mk(0x952),MG[Mk(0xd1d)]=MV,MG[Mk(0xaf4)]=Mq[Mk(0x6c6)][MV],Mq[Mk(0x7de)][Mk(0x526)](MG),MG[Mk(0x27f)][Mk(0x526)]({'typeCol':Mk(0x952),'Col':Mq[Mk(0x6c6)][MV]}),Mq[Mk(0xa61)][Mk(0x526)]({'ball':MG,'coll':Mq[Mk(0x6c6)][MV],'type':Mk(0x952)}),!Mq[Mk(0xa41)]&&(Mq[Mk(0xa41)]=new LT(MG['x'],MG['y'])),(Mq[Mk(0x596)][Mk(0x526)](MG[Mk(0x912)]),Mq[Mk(0xd1c)][Mk(0x526)]({'ball':MG,'coll':Mq[Mk(0x6c6)][MV],'type':Mk(0x952)})),(Mq[Mk(0xc64)]!==Mq[Mk(0x37e)][Mk(0x863)]&&Mq[Mk(0xc64)]!==Mq[Mk(0x37e)][Mk(0x876)]&&Mq[Mk(0x37a)]!==Mq[Mk(0x5b2)](MG[Mk(0x912)])&&Mq[Mk(0x37a)]!==Mq[Mk(0xad1)]||Mq[Mk(0xc64)]!==Mq[Mk(0x37e)][Mk(0x863)]&&Mq[Mk(0xc64)]!==Mq[Mk(0x37e)][Mk(0x876)]&&Mq[Mk(0x37a)]===-0x1&&Mq[Mk(0x5b2)](MG[Mk(0x912)])===Mq[Mk(0x93f)]||(Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x876)]&&(Mq[Mk(0x358)]===Mq[Mk(0xad1)]&&MG[Mk(0x912)]!==Mq[Mk(0xcc3)])||Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x876)]&&Mq[Mk(0x358)]!==Mq[Mk(0xad1)]&&Mq[Mk(0x358)][Mk(0x912)]!==Mq[Mk(0xcc3)])||(Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x863)]&&(Mq[Mk(0xba8)][Mq[Mk(0xd27)]][Mk(0x37a)]===0x1||Mq[Mk(0xba8)][Mq[Mk(0xd27)]][Mk(0x37a)]===0x2)&&Mq[Mk(0x5e3)](MG[Mk(0xc0a)])!==Mq[Mk(0xba8)][Mq[Mk(0xd27)]][Mk(0x37a)]||Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x863)]&&Mq[Mk(0xba8)][Mq[Mk(0xd27)]][Mk(0x37a)]===0x5&&MG[Mk(0xc0a)]!==Mq[Mk(0xcc3)]))&&(Mq[Mk(0x4ae)]=!![]),Mq[Mk(0xc64)]===Mq[Mk(0x37e)][Mk(0x863)]&&Mq[Mk(0xd1c)][Mk(0x16a)]>0x1&&(Mq[Mk(0x4ae)]=!![]),My===MG&&(Mq[Mk(0x4ae)]=!![]);if(!Mq[Mk(0x4ae)])Mq[Mk(0xc1a)]++;if(Mq[Mk(0x10d)]===![])Mq[Mk(0x10d)]=new LT(MG['x'],MG['y']);MZ[Mk(0x526)](MG);}))return MZ;if(Md===!![]){}if(Mm[Mx(0x16a)]>0x0)for(var MK=0x0;MK<Mm[Mx(0x16a)];MK++){MT=MN[Mx(0x4b6)](MG,Mq[Mx(0x211)][Mm[MK]],RB);if(MT===!![]){MN[Mx(0x874)](MG,Mq[Mx(0x211)][Mm[MK]]),MO=Ma,Md=!![],Mq[Mx(0xbe2)]=Mq[Mx(0x6aa)],Mq[Mx(0x211)][Mm[MK]][Mx(0x931)]=Mx(0x9df);if(Mq[Mx(0x10d)]===![])Mq[Mx(0x10d)]=new LT(MG['x'],MG['y']);MG[Mx(0x27f)][Mx(0x526)]({'typeCol':Mx(0x9df),'Col':Mq[Mx(0x211)][Mm[MK]]}),MZ[Mx(0x526)](Mq[Mx(0x211)][Mm[MK]]),Mq[Mx(0x642)][Mx(0x526)]({'ball':MG,'coll':Mq[Mx(0x211)][Mm[MK]],'type':Mx(0x9df)});if(Mq[Mx(0x358)]===Mq[Mx(0xad1)]||Mq[Mx(0x358)]===MG)Mq[Mx(0x1fa)][Mx(0x526)]({'ball':MG,'coll':Mq[Mx(0x211)][Mm[MK]],'type':Mx(0x9df)});!Mq[Mx(0xa41)]&&(Mq[Mx(0xa41)]=new LT(MG['x'],MG['y'])),Mq[Mx(0xa61)][Mx(0x526)]({'ball':MG,'coll':Mq[Mx(0x211)][Mm[MK]],'type':Mx(0x9df)});if(Mq[Mx(0xc64)]!==Mq[Mx(0x37e)][Mx(0x863)]&&Mq[Mx(0xc64)]!==Mq[Mx(0x37e)][Mx(0x876)]&&Mq[Mx(0x37a)]!==Mq[Mx(0x5b2)](Mq[Mx(0x211)][Mm[MK]][Mx(0x912)])&&Mq[Mx(0x37a)]!==Mq[Mx(0xad1)]||Mq[Mx(0xc64)]!==Mq[Mx(0x37e)][Mx(0x863)]&&Mq[Mx(0xc64)]!==Mq[Mx(0x37e)][Mx(0x876)]&&Mq[Mx(0x37a)]===-0x1&&Mq[Mx(0x5b2)](Mq[Mx(0x211)][Mm[MK]][Mx(0x912)])===Mq[Mx(0x93f)]||(Mq[Mx(0xc64)]===Mq[Mx(0x37e)][Mx(0x876)]&&(Mq[Mx(0x358)]===Mq[Mx(0xad1)]&&Mq[Mx(0x211)][Mm[MK]][Mx(0x912)]!==Mq[Mx(0xcc3)])||Mq[Mx(0xc64)]===Mq[Mx(0x37e)][Mx(0x876)]&&Mq[Mx(0x358)]!==Mq[Mx(0xad1)]&&Mq[Mx(0x358)][Mx(0x912)]!==Mq[Mx(0xcc3)])||(Mq[Mx(0xc64)]===Mq[Mx(0x37e)][Mx(0x863)]&&(Mq[Mx(0xba8)][Mq[Mx(0xd27)]][Mx(0x37a)]===0x1||Mq[Mx(0xba8)][Mq[Mx(0xd27)]][Mx(0x37a)]===0x2)&&Mq[Mx(0x358)]===Mq[Mx(0xad1)]&&Mq[Mx(0x5e3)](Mq[Mx(0x211)][Mm[MK]][Mx(0xc0a)])!==Mq[Mx(0xba8)][Mq[Mx(0xd27)]][Mx(0x37a)]||Mq[Mx(0xc64)]===Mq[Mx(0x37e)][Mx(0x863)]&&Mq[Mx(0xba8)][Mq[Mx(0xd27)]][Mx(0x37a)]===0x5&&Mq[Mx(0x211)][Mm[MK]][Mx(0xc0a)]!==Mq[Mx(0xcc3)]))return Mq[Mx(0x4ae)]=!![],MZ;Mq[Mx(0x358)]===Mq[Mx(0xad1)]&&(Mq[Mx(0xb8b)][Mx(0x526)]({'ball':MG,'coll':Mq[Mx(0x211)][Mm[MK]],'type':Mx(0x9df)}),Mq[Mx(0x358)]=Mq[Mx(0x211)][Mm[MK]]),MG[Mx(0x358)]=My[Mx(0x358)];}}if(Md===!![])break;if(Mz[Mx(0x16a)]>0x0)for(var MK=0x0;MK<Mz[Mx(0x16a)];MK++){MT=MN[Mx(0xc09)](MG,Mz[MK]);if(MT!==![]&&!Mz[MK][Mx(0x72c)]){MO=Ma;if(Mq[Mx(0x10d)]===![])Mq[Mx(0x10d)]=new LT(MG['x'],MG['y']);MG[Mx(0x3d5)]=MN[Mx(0x264)](MG,MT,MG[Mx(0x3d5)]),Md=!![],!Mq[Mx(0xa41)]&&(Mq[Mx(0xa41)]=new LT(MG['x'],MG['y'])),MN[Mx(0x336)](MG,MT),(Mq[Mx(0x358)]===Mq[Mx(0xad1)]||Mq[Mx(0x358)]===MG)&&Mq[Mx(0x1fa)][Mx(0x526)]({'ball':MG,'coll':Mz[MK],'type':Mx(0x1c0)}),(Mq[Mx(0x462)][Mx(0x526)]({'ball':MG,'coll':Mz[MK],'type':Mx(0x1c0)}),Mq[Mx(0xa61)][Mx(0x526)]({'ball':MG,'coll':Mz[MK],'type':Mx(0x1c0)})),Mq[Mx(0x358)]===Mq[Mx(0xad1)]&&Mq[Mx(0xb8b)][Mx(0x526)]({'ball':MG,'coll':Mz[MK],'type':Mx(0x1c0)}),MG[Mx(0x27f)][Mx(0x526)]({'typeCol':Mx(0x1c0),'Col':Mz[MK]});break;}}if(Md===!![])break;if(Mh[Mx(0x16a)]>0x0)for(var MK=0x0;MK<Mh[Mx(0x16a)];MK++){MT=MN[Mx(0x4b6)](MG,Mh[MK],Mh[MK][Mx(0x536)]);if(MT===!![]){MO=Ma,Mq[Mx(0x10d)]===![]&&(Mq[Mx(0x10d)]=new LT(MG['x'],MG['y'])),(MG[Mx(0x3d5)]=MN[Mx(0x264)](MG,Mh[MK],MG[Mx(0x3d5)]),Md=!![]),!Mq[Mx(0xa41)]&&(Mq[Mx(0xa41)]=new LT(MG['x'],MG['y'])),(MN[Mx(0xc40)](MG,Mh[MK]),Mq[Mx(0xa61)][Mx(0x526)]({'ball':MG,'coll':Mh[MK],'type':Mx(0x2e7)}),Mq[Mx(0x49a)][Mx(0x526)]({'ball':MG,'coll':Mh[MK],'type':Mx(0x2e7)}));if(Mq[Mx(0x358)]===Mq[Mx(0xad1)])Mq[Mx(0xb8b)][Mx(0x526)]({'ball':MG,'coll':Mh[MK],'type':Mx(0x2e7)});if(Mq[Mx(0x358)]===Mq[Mx(0xad1)]||Mq[Mx(0x358)]===MG)Mq[Mx(0x1fa)][Mx(0x526)]({'ball':MG,'coll':Mh[MK],'type':Mx(0x2e7)});MG[Mx(0x27f)][Mx(0x526)]({'typeCol':Mx(0x2e7),'Col':Mh[MK]});break;}}if(Md===!![])break;}}else{}Mq[Mx(0x4a5)](MG);}return MZ;},this[MJ(0x5b3)]=function(){var MB=MJ;this[MB(0x61d)]=![],this[MB(0xc45)]=![];if(ED!==DY[MB(0x829)])return;if(EL!==DI[MB(0x1e5)])return;if(this[MB(0x7ec)]===![])return;if(this[MB(0xb1a)])return;if(!this[MB(0x478)])return;var Ms=()=>{var Mq=MB,Mx=this;if(Mx[Mq(0x7ec)]===![])return;if(Mx[Mq(0xb1a)])return;Mx[Mq(0xaef)]?(Mx[Mq(0xaef)]['x']=Mx['x'],Mx[Mq(0xaef)]['y']=Mx['y'],Mx[Mq(0xaef)]['v']=Mx[Mq(0x3d5)]):Mx[Mq(0xaef)]={'x':Mx['x'],'y':Mx['y'],'v':Mx[Mq(0x3d5)]};if(Mx[Mq(0x478)]===!![]){var MZ=Mx[Mq(0x3d5)][Mq(0x16a)](),Mf=0x1,MN=Mx[Mq(0x3d5)],MG=0x5;MZ>MG&&(Mf=Math[Mq(0xaa6)](MZ/MG),MN=Mx[Mq(0x3d5)][Mq(0xb84)](0x1/Mf));var MF,Mi=[],Mr=[],Mt=[],MC=new LT(Mx['x'],Mx['y']),MT=new LT(Mx['x'],Mx['y']);for(var Mz=0x0;Mz<Mf;Mz++){Mx['x']+=MN['x'],Mx['y']+=MN['y'],Mx[Mq(0xc45)]=MN,Mx[Mq(0xc45)][Mq(0xaef)]={'x':Mx['x']-MN['x'],'y':Mx['y']-MN['y']},MT['x']=Mx['x'],MT['y']=Mx['y'];for(var Mh=0x0;Mh<EE[Mq(0xafd)][Mq(0x16a)];Mh++){var Mm=EE[Mq(0xafd)][Mq(0x16a)];Mm<=Mh&&(Mh=Mm-0x1);if(EE[Mq(0xafd)][Mh]===Mx)continue;if(EE[Mq(0xafd)][Mh][Mq(0x7ec)]===![])continue;if(EE[Mq(0xafd)][Mh][Mq(0xb1a)]===!![])continue;MF=EE[Mq(0x4b6)](Mx,EE[Mq(0xafd)][Mh],RB),MF===!![]&&Mt[Mq(0x526)](Mh);}if(Mt[Mq(0x16a)]>0x0)break;MT['x']=Mx['x'],MT['y']=Mx['y'];for(var Mh=0x0;Mh<EE[Mq(0x6c6)][Mq(0x16a)];Mh++){var Mc=new LT(Mx['x']-EE[Mq(0x6c6)][Mh]['x'],Mx['y']-EE[Mq(0x6c6)][Mh]['y']);if(Mc[Mq(0x16a)]()<EE[Mq(0x6c6)][Mh][Mq(0x7b8)]&&Mx[Mq(0x3d5)][Mq(0x16a)]()<0x5){this[Mq(0x7e5)](EE[Mq(0x6c6)][Mh],Mh,!![],Mx[Mq(0x3d5)]);return;}if(Mc[Mq(0x16a)]()<EE[Mq(0x6c6)][Mh][Mq(0x34d)]){this[Mq(0x7e5)](EE[Mq(0x6c6)][Mh],Mh,!!![],Mx[Mq(0x3d5)]);return;}}for(var Mj in EE[Mq(0x62f)]){EE[Mq(0x62f)][Mq(0x239)](Mj)&&(MF=EE[Mq(0xc09)](Mx,EE[Mq(0x62f)][Mj]),MF!==![]?EE[Mq(0x62f)][Mj][Mq(0x38e)][Mq(0x2c8)](Mx[Mq(0x912)])===-0x1&&Mi[Mq(0x526)](EE[Mq(0x62f)][Mj]):EE[Mq(0x62f)][Mj][Mq(0x38e)][Mq(0x20a)](EE[Mq(0x62f)][Mj][Mq(0x38e)][Mq(0x2c8)](Mx[Mq(0x912)]),0x1));}if(Mi[Mq(0x16a)]>0x0)break;MT['x']=Mx['x'],MT['y']=Mx['y'];for(var Mj in EE[Mq(0x199)]){if(EE[Mq(0x199)][Mq(0x239)](Mj))for(var Mh=0x0;Mh<EE[Mq(0x199)][Mj][Mq(0x16a)];Mh++){MF=EE[Mq(0xc09)](Mx,EE[Mq(0x199)][Mj][Mh]),MF!==![]?EE[Mq(0x199)][Mj][Mh][Mq(0x38e)][Mq(0x2c8)](Mx[Mq(0x912)])===-0x1&&Mi[Mq(0x526)](EE[Mq(0x199)][Mj][Mh]):EE[Mq(0x199)][Mj][Mh][Mq(0x38e)][Mq(0x20a)](EE[Mq(0x199)][Mj][Mh][Mq(0x38e)][Mq(0x2c8)](Mx[Mq(0x912)]),0x1);}}if(Mi[Mq(0x16a)]>0x0)break;MT['x']=Mx['x'],MT['y']=Mx['y'];for(var Mj in EE[Mq(0x5f6)]){if(EE[Mq(0x5f6)][Mq(0x239)](Mj))for(var Mh=0x0;Mh<EE[Mq(0x5f6)][Mj][Mq(0x16a)];Mh++){MF=EE[Mq(0x4b6)](Mx,EE[Mq(0x5f6)][Mj][Mh],EE[Mq(0x5f6)][Mj][Mh][Mq(0x536)]),MF===!![]?EE[Mq(0x5f6)][Mj][Mh][Mq(0x38e)][Mq(0x2c8)](Mx[Mq(0x912)])===-0x1&&Mr[Mq(0x526)](EE[Mq(0x5f6)][Mj][Mh]):EE[Mq(0x5f6)][Mj][Mh][Mq(0x38e)][Mq(0x20a)](EE[Mq(0x5f6)][Mj][Mh][Mq(0x38e)][Mq(0x2c8)](Mx[Mq(0x912)]),0x1);}}if(Mr[Mq(0x16a)]>0x0)break;MT['x']=Mx['x'],MT['y']=Mx['y'];}var MO=![];if((Mi[Mq(0x16a)]>0x0||Mr[Mq(0x16a)]>0x0||Mt[Mq(0x16a)]>0x0)&&!Mx[Mq(0xb1a)]){Mx['x']-=MN['x'],Mx['y']-=MN['y'];var Mu=MN[Mq(0x16a)](),MU=0x1,MY=MN[Mq(0x369)](),MI=Number(String('.5'));Mu>MI&&(MU=Math[Mq(0xaa6)](Mu/MI),MY=MN[Mq(0xb84)](0x1/MU));var Md=0x14;Mx[Mq(0xb1a)]&&(MU=0x0);for(var Mz=0x0;Mz<MU;Mz++){if(MO===!![])break;Mx['x']+=MY['x'],Mx['y']+=MY['y'],Mx[Mq(0x61d)]=MY;for(var Mh=0x0;Mh<EE[Mq(0x6c6)][Mq(0x16a)];Mh++){var Mc=new LT(Mx['x']-EE[Mq(0x6c6)][Mh]['x'],Mx['y']-EE[Mq(0x6c6)][Mh]['y']);if(Mc[Mq(0x16a)]()<EE[Mq(0x6c6)][Mh][Mq(0x7b8)]&&Mx[Mq(0x3d5)][Mq(0x16a)]()<0x5){this[Mq(0x7e5)](EE[Mq(0x6c6)][Mh],Mh,!![],Mx[Mq(0x3d5)]);return;}if(Mc[Mq(0x16a)]()<EE[Mq(0x6c6)][Mh][Mq(0x34d)]){this[Mq(0x7e5)](EE[Mq(0x6c6)][Mh],Mh,!!![],Mx[Mq(0x3d5)]);return;}}if(MO===!![])break;MT['x']=Mx['x'],MT['y']=Mx['y'];if(Mt[Mq(0x16a)]>0x0)for(var Mh=0x0;Mh<Mt[Mq(0x16a)];Mh++){MF=EE[Mq(0x4b6)](Mx,EE[Mq(0xafd)][Mt[Mh]],RB);if(MF===!![]){EE[Mq(0x874)](Mx,EE[Mq(0xafd)][Mt[Mh]]),Mz=Md,MO=!![];var MA=Mx[Mq(0x3d5)][Mq(0x16a)](),Mo=0.2+MA/0x5*0.8;Mo>0x1&&(Mo=0x1),E6[Mq(0x3f4)](Mq(0xb0c)+Db(0x1,0x2),Mo),Mx[Mq(0x912)]===Rr&&EE[Mq(0x7e7)]===-0x1&&EE[Mq(0x358)](Mx,Mt[Mh]);}}if(MO===!![])break;MT['x']=Mx['x'],MT['y']=Mx['y'];if(Mi[Mq(0x16a)]>0x0)for(var Mh=0x0;Mh<Mi[Mq(0x16a)];Mh++){MF=EE[Mq(0xc09)](Mx,Mi[Mh]);if(MF!==![]){Mz=Md;if(Mi[Mh][Mq(0x38e)][Mq(0x2c8)](Mx[Mq(0x912)])===-0x1){Mi[Mh][Mq(0x38e)][Mq(0x526)](Mx[Mq(0x912)]),Mi[Mh][Mq(0xd21)]=0xf,Mx[Mq(0x3d5)]=EE[Mq(0x264)](Mx,MF,Mx[Mq(0x3d5)]),MO=!![];var MA=Mx[Mq(0x3d5)][Mq(0x16a)](),Mo=0.1+MA/0x64*0x3;Mo<=0.3&&(Mo=0.3),(E6[Mq(0x3f4)](Mq(0x1d3)+Db(0x1,0x2),Mo),EE[Mq(0x336)](Mx,MF));break;}}}if(MO===!![])break;if(Mr[Mq(0x16a)]>0x0)for(var Mh=0x0;Mh<Mr[Mq(0x16a)];Mh++){MF=EE[Mq(0x4b6)](Mx,Mr[Mh],Mr[Mh][Mq(0x536)]);if(MF===!![]){Mz=Md;if(Mr[Mh][Mq(0x38e)][Mq(0x2c8)](Mx[Mq(0x912)])===-0x1){Mr[Mh][Mq(0x38e)][Mq(0x526)](Mx[Mq(0x912)]),Mr[Mh][Mq(0xd21)]=0xf,Mx[Mq(0x3d5)]=EE[Mq(0x264)](Mx,Mr[Mh],Mx[Mq(0x3d5)]),MO=!![];var MA=Mx[Mq(0x3d5)][Mq(0x16a)](),Mo=0.1+MA/0x64*0x3;Mo<=0.3&&(Mo=0.3),(E6[Mq(0x3f4)](Mq(0x1d3)+Db(0x1,0x2),Mo),EE[Mq(0xc40)](Mx,Mr[Mh]));break;}}}if(MO===!![])break;MT['x']=Mx['x'],MT['y']=Mx['y'];}}else MC['x']=Mx['x'],MC['y']=Mx['y'],MT['x']=Mx['x'],MT['y']=Mx['y'];if(Lc(Mx)){Mx[Mq(0xc45)]=![];if(Mx[Mq(0x478)]){if(Mx[Mq(0x61d)]){}}}if(Mx[Mq(0x61d)]&&Lu(Mx)){Mx[Mq(0x61d)]=![];if(Mx[Mq(0x478)]){}}EE[Mq(0x4a5)](Mx),this[Mq(0xb5f)](Mx[Mq(0x3d5)]['x'],Mx[Mq(0x3d5)]['y']);}},My=()=>{var Mq=MB,Mx=![],MZ=![],Mf=EE[Mq(0x287)],MN={'validBallsInsertedOnTurn':0x0},MG=this,MF=this;if(ED!==DY[Mq(0x829)])return;if(MF[Mq(0x7ec)]===![])return;if(MF[Mq(0xb1a)])return;if(MF[Mq(0x478)]===!![]){let P2=null,P3=Infinity;var Mi=MF[Mq(0x3d5)][Mq(0x369)]();MF[Mq(0x3d5)]=MF[Mq(0x3d5)][Mq(0xb84)](EE[Mq(0x924)]);let P4=Me[Mq(0x639)][Mq(0xcc4)],P5=P4/0x3c;var Mr=MF[Mq(0x3d5)][Mq(0x16a)]();this[Mq(0xb5f)](MF[Mq(0x3d5)]['x'],MF[Mq(0x3d5)]['y']);var Mt=0x1,MC=MF[Mq(0x3d5)],MT=MF[Mq(0x3d5)][Mq(0x369)](),Mz=parseFloat('2');Mr>Mz&&(Mt=Math[Mq(0xaa6)](Mr/Mz),MC=MF[Mq(0x3d5)][Mq(0xb84)](0x1/Mt)),MF[Mq(0x3d5)]=Mi[Mq(0x369)]();var Mh,Mm=[],Mc=[],Mj=[];for(var MO=0x0;MO<Mt;MO++){MF['x']+=MC['x'],MF['y']+=MC['y'];var Mu=MG[Mq(0x687)](MF,EE[Mq(0xafd)]);Mu&&Mu[Mq(0x16a)]&&Mj[Mq(0x526)](...Mu);if(Mj[Mq(0x16a)]>0x0)break;if(MG[Mq(0x77d)](![],MC[Mq(0x369)](),P6=>{var P7=Mq;(MF[P7(0x912)]===Rr||MN[P7(0x37a)]!==EE[P7(0x5b2)](MF[P7(0x912)])&&MN[P7(0x37a)]!==RC||MN[P7(0x37a)]===RC&&MF[P7(0x912)]===RF)&&(MN[P7(0x4ae)]=!![]);if(!MN[P7(0x4ae)])MN[P7(0xc1a)]++;}))return;var MU=MG[Mq(0x4b3)](MF),MY=MG[Mq(0x20b)](MF),MI=MG[Mq(0x5c4)](MF);MU&&MU[Mq(0x16a)]&&Mm[Mq(0x526)](...MU);if(MY&&MY[Mq(0x16a)]){if(MY[Mq(0x9cf)]){}Mm[Mq(0x526)](...MY);}MI&&MI[Mq(0x16a)]&&Mc[Mq(0x526)](...MI);if(Mm[Mq(0x16a)]>0x0||Mc[Mq(0x16a)]>0x0)break;}if(Mm[Mq(0x16a)]>0x0||Mc[Mq(0x16a)]>0x0||Mj[Mq(0x16a)]>0x0){MF['x']-=MC['x'],MF['y']-=MC['y'];var Md=MC[Mq(0x16a)](),MA=0x1,Mo=MC[Mq(0x369)](),MX=parseFloat(Mq(0x6f2)),MQ=0x14;Md>MX&&(MA=Math[Mq(0xaa6)](Md/MX),Mo=MC[Mq(0xb84)](0x1/MA));var Ma=![];for(var MO=0x0;MO<MA;MO++){if(Ma===!![])break;MF['x']+=Mo['x'],MF['y']+=Mo['y'];if(MG[Mq(0x77d)](![],Mo[Mq(0x369)](),P6=>{var P7=Mq;(MF[P7(0x912)]===Rr||MN[P7(0x37a)]!==EE[P7(0x5b2)](MF[P7(0x912)])&&MN[P7(0x37a)]!==RC||MN[P7(0x37a)]===RC&&MF[P7(0x912)]===RF)&&(MN[P7(0x4ae)]=!![]);if(!MN[P7(0x4ae)])MN[P7(0xc1a)]++;}))return;if(Mj[Mq(0x16a)]>0x0)for(var MK=0x0;MK<Mj[Mq(0x16a)];MK++){var Ml=EE[Mq(0xafd)][Mj[MK]];Mh=MG[Mq(0x4b6)](MF,Ml);var MV=MG[Mq(0xcd4)](MF,Ml);if(Mh===!![]){MO=MQ,MG[Mq(0x874)](MF,Ml),(MN[Mq(0x37a)]!==EE[Mq(0x5b2)](Ml[Mq(0x912)])&&MN[Mq(0x37a)]!==RC||MN[Mq(0x37a)]===-0x1&&EE[Mq(0x5b2)](Ml[Mq(0x912)])===RF)&&(MN[Mq(0x4ae)]=!![]),Ma=!![];var Mk=MF[Mq(0x3d5)][Mq(0x16a)](),Mw=0.2+Mk/0x5*0.8;Mw*=0.01,Mw>0x1&&(Mw=0x1),E6[Mq(0x3f4)](Mq(0xb0c)+Db(0x1,0x2),Mw),MF[Mq(0x912)]===Rr&&EE[Mq(0x7e7)]===-0x1&&EE[Mq(0x358)](MF,Mj[MK]);}}if(Ma===!![])break;if(Mm[Mq(0x16a)]>0x0)for(var MK=0x0;MK<Mm[Mq(0x16a)];MK++){Mh=MG[Mq(0xc09)](MF,Mm[MK]);if(Mh!==![]&&!Mm[MK][Mq(0x72c)]){MO=MQ,MF[Mq(0x3d5)]=MG[Mq(0x264)](MF,Mh,MF[Mq(0x3d5)]),Ma=!![];var Mk=MF[Mq(0x3d5)][Mq(0x16a)](),Mw=0.1+Mk/0x64*0x3;Mw*=0.01,Mw<=0.3&&(Mw=0.3),(E6[Mq(0x3f4)](Mq(0x1d3)+Db(0x1,0x2),Mw),MG[Mq(0x336)](MF,Mh));var MH=RB*0x5,Mb=![];MF[Mq(0xc41)]=![],(MF[Mq(0x4b2)]===undefined||MF[Mq(0x4b2)]===0x6)&&(MF[Mq(0x4b2)]=0x0);if(MF[Mq(0x4b2)]<=0x6&&MF[Mq(0xc41)]){if(MF['x']<EE[Mq(0x62f)][Mq(0x94b)]['x1']+MH){let P6=MF['x']-EE[Mq(0x62f)][Mq(0x94b)]['x1'];MF[Mq(0x3d5)]['x']-=EE[Mq(0x83c)](-MH)*0x1,Mb=!![];}if(MF['x']>EE[Mq(0x62f)][Mq(0x35d)]['x1']-MH){let P7=EE[Mq(0x62f)][Mq(0x35d)]['x1']-MF['x'];Mb=!![],MF[Mq(0x3d5)]['x']+=EE[Mq(0x83c)](-MH)*0x1;}if(MF['y']<EE[Mq(0x62f)][Mq(0x282)]['y1']+MH){let P8=MF['y']-EE[Mq(0x62f)][Mq(0x282)]['x1'];Mb=!![],MF[Mq(0x3d5)]['y']-=EE[Mq(0x83c)](-MH)*0x1;}if(MF['y']>EE[Mq(0x62f)][Mq(0x286)]['y1']-MH){Mb=!![];let P9=EE[Mq(0x62f)][Mq(0x286)]['x1']-MF['y'];MF[Mq(0x3d5)]['y']+=EE[Mq(0x83c)](-MH)*0x1;}}break;}if(Mm[MK][Mq(0xcdb)]&&!Mm[MK][Mq(0x72c)])var P0=EE[Mq(0x6c6)][Mm[MK][Mq(0xb5e)]],P1=new LT(MF['x'],MF['y'])[Mq(0x5d7)](new LT(P0['x2'],P0['y2']))[Mq(0x76c)]();}if(Ma===!![])break;if(Mc[Mq(0x16a)]>0x0)for(var MK=0x0;MK<Mc[Mq(0x16a)];MK++){Mh=MG[Mq(0x4b6)](MF,Mc[MK]);if(Mh===!![]){MO=MQ,MF[Mq(0x3d5)]=MG[Mq(0x264)](MF,Mc[MK],MF[Mq(0x3d5)]),Ma=!![];var Mk=MF[Mq(0x3d5)][Mq(0x16a)](),Mw=0.1+Mk/0x64*0x3;Mw*=0.01,Mw<=0.3&&(Mw=0.3),(E6[Mq(0x3f4)](Mq(0x1d3)+Db(0x1,0x2),Mw),MG[Mq(0xc40)](MF,Mc[MK]));break;}}if(Ma===!![])break;}}EE[Mq(0x4a5)](MF);return;MF[Mq(0x3d5)]=MF[Mq(0x3d5)][Mq(0xb84)](0.98),MF[Mq(0x3d5)][Mq(0x16a)]()<0.1&&(MF[Mq(0x478)]=![],MF[Mq(0x3d5)]=new LT());}};My();},this[MJ(0xcd4)]=function(MB,Ms){var My=MJ;const Mq=MB['x'],Mx=MB['y'],MZ=MB[My(0x3d5)]['x'],Mf=MB[My(0x3d5)]['y'],MN=RJ,MG=Ms['x'],MF=Ms['y'],Mi=Ms[My(0x3d5)]['x'],Mr=Ms[My(0x3d5)]['y'],Mt=RJ,MC=Mq-MG,MT=Mx-MF,Mz=MZ-Mi,Mh=Mf-Mr,Mm=MN+Mt,Mc=Mz*Mz+Mh*Mh,Mj=0x2*(MC*Mz+MT*Mh),MO=MC*MC+MT*MT-Mm*Mm,Mu=Mj*Mj-0x4*Mc*MO;if(Mu<0x0)return null;const MU=Math[My(0xba2)](Mu),MY=(-Mj-MU)/(0x2*Mc),MI=(-Mj+MU)/(0x2*Mc);if(MY>=0x0&&MI>=0x0)return Math[My(0x6c2)](MY,MI);else{if(MY>=0x0)return MY;else return MI>=0x0?MI:null;}},this[MJ(0xc40)]=function(MB,Ms,My=RB){var Mq=MJ,Mx=new LT(MB['x']-Ms['x'],MB['y']-Ms['y']),MZ=Mx[Mq(0x16a)](),Mf=Mx[Mq(0xb84)]((My-MZ)/MZ);MB['x']+=Mf['x'],MB['y']+=Mf['y'];},this[MJ(0x336)]=function(MB,Ms,My=RJ){var Mq=MJ,Mx=new LT(MB['x']-Ms['x'],MB['y']-Ms['y']),MZ=Mx[Mq(0x16a)](),Mf=Mx[Mq(0xb84)]((My-MZ)/MZ);MB['x']+=Mf['x'],MB['y']+=Mf['y'];},this[MJ(0x608)]=function(MB=![],Ms=EE[MJ(0x62f)]){var My=MJ,Mq=MB||this;return Mq['y']<Ms[My(0x282)]['y1']-RJ*0x2||Mq['y']>Ms[My(0x286)]['y1']+RJ*0x2||Mq['x']<Ms[My(0x94b)]['x1']-RJ*0x2||Mq['x']>Ms[My(0x35d)]['x1']+RJ*0x2;},this[MJ(0x77d)]=function(MB=![],Ms,My=function(){}){var Mq=MJ,Mx=MB,MB=MB||this,MZ=Number[Mq(0xc2e)],Mf=![];MB[Mq(0x8cb)]=Ms[Mq(0x369)]();for(let MG=0x0;MG<EE[Mq(0x6c6)][Mq(0x16a)];MG++){let MF=EE[Mq(0x6c6)][MG],Mi=new LT(MB['x']-MF['x'],MB['y']-MF['y']);var MN=Rg(MB['x'],MB['y'],MB['x']+Ms['x'],MB['y']+Ms['y'],MF['x'],MF['y'],RJ*0x2);MN&&(Mi=new LT(MB['x']-MN['x'],MB['y']-MN['y']),MZ>=Mi[Mq(0x16a)]()&&(MZ=Mi[Mq(0x16a)](),Mf=MF,Mf[Mq(0x7b3)]=MG));if(Mi[Mq(0x16a)]()<MF[Mq(0x7b8)]&&MB[Mq(0x3d5)][Mq(0x16a)]()<0x5){if(!Mx)this[Mq(0x7e5)](MF,MG,!![]);return My(MF,MG),MF;}if(Mi[Mq(0x16a)]()<MF[Mq(0x34d)]){if(!Mx)this[Mq(0x7e5)](MF,MG);return My(MF,MG),MF;}}if(MZ!==Number[Mq(0xc2e)]&&Mf){if(!Mx)this[Mq(0x7e5)](Mf,Mf[Mq(0x7b3)]);return My(Mf,Mf[Mq(0x7b3)]),Mf;}else{if(this[Mq(0x608)](MB)){MZ=Number[Mq(0xc2e)],Mf=![];for(let Mr=0x0;Mr<EE[Mq(0x6c6)][Mq(0x16a)];Mr++){let Mt=EE[Mq(0x6c6)][Mr],MC=new LT(MB['x']-Mt['x'],MB['y']-Mt['y']);MZ>=MC[Mq(0x16a)]()&&(MZ=MC[Mq(0x16a)](),Mf=Mt,Mf[Mq(0x7b3)]=Mr);}if(MZ!==Number[Mq(0xc2e)]&&Mf){MZ[Mq(0x16a)]>0x96&&(MB['x']=Mf['x'],MB['y']=Mf['y']);if(!Mx)this[Mq(0x7e5)](Mf,Mf[Mq(0x7b3)]);return My(Mf,Mf[Mq(0x7b3)]),Mf;}}}return![];},this[MJ(0x687)]=function(MB=![],Ms){var My=MJ,MB=MB||this,Mq=[];return Ms[My(0x4ea)]((Mx,MZ)=>{var Mf=My,MN=this[Mf(0xcd4)](MB,Mx);Mx!==MB&&Mx[Mf(0x7ec)]&&!Mx[Mf(0xb1a)]&&this[Mf(0x4b6)](MB,Mx)&&Mq[Mf(0x526)](MZ);}),Mq;},this[MJ(0x4b3)]=function(MB=![]){var Ms=MJ,MB=MB||this;return Object[Ms(0x796)](EE[Ms(0x62f)])[Ms(0xc86)](My=>EE[Ms(0xc09)](MB,My)!==![]&&My);},this[MJ(0xbc2)]=function(MB=![]){var Ms=MJ,MB=MB||this;return Object[Ms(0x796)](EE[Ms(0x314)])[Ms(0x4d1)]()[Ms(0xc86)]((My,Mq)=>EE[Ms(0xc09)](MB,My)!==![]&&My);return![];return Object[Ms(0x796)](EE[Ms(0x314)])[Ms(0x4d1)]()[Ms(0xc86)]((My,Mq)=>EE[Ms(0x46d)](Mq)!==![]&&EE[Ms(0xc09)](MB,My)!==![]&&My);},this[MJ(0x20b)]=function(MB=![]){var Ms=MJ,MB=MB||this;return Object[Ms(0x796)](EE[Ms(0x199)])[Ms(0x4d1)]()[Ms(0xc86)](My=>EE[Ms(0xc09)](MB,My)!==![]&&My);},this[MJ(0x5c4)]=function(MB=![]){var Ms=MJ,My=[],MB=MB||this;Object[Ms(0x796)](EE[Ms(0x5f6)])[Ms(0x4d1)]()[Ms(0xc86)]((Mq,Mx)=>{var MZ=Ms;this[MZ(0x4b6)](MB,Mq)&&My[MZ(0x526)](Mq);});return My;return Object[Ms(0x796)](EE[Ms(0x5f6)])[Ms(0x4d1)]()[Ms(0x9be)](Mq=>this[Ms(0x4b6)](this,Mq)&&[Mq]);},this[MJ(0x96f)]=function(MB,Ms){var My=MJ,Mq=EE[My(0x6b0)][My(0x660)][EV][My(0xa46)][My(0x2a1)][My(0x2e9)]+EE[My(0x6b0)][My(0x660)][EV][My(0xa46)][My(0x2a1)][My(0x899)]+EE[My(0x6b0)][My(0x660)][EV][My(0xa46)][My(0x2a1)][My(0x9a8)];Rd=String(0.35-0.35*(Rs*0.0016)-(0x18-(EE[My(0x6b0)][My(0x660)][EV][My(0xa46)][My(0x2a1)][My(0x2e9)]+EE[My(0x6b0)][My(0x660)][EV][My(0xa46)][My(0x2a1)][My(0x899)]+EE[My(0x6b0)][My(0x660)][EV][My(0xa46)][My(0x2a1)][My(0x9a8)]))*0.003),Rd=0x49;var Mx=Number(Rd)+EE[My(0x6b0)][My(0x660)][EV][My(0xa46)][My(0x2a1)][My(0x2e9)]*Number(RA);Mx=Mx*Math[My(0x483)](0x8,Mq-0x2)/0x18,Mx*=0.75;var MZ=new LT(MB*Mx*Math[My(0xa2d)](Ms),MB*Mx*Math[My(0xa56)](Ms));this[My(0x909)]=this[My(0x3d5)][My(0x369)]();return MZ;return new LT(-2.1782247321015142,56.15777183094483);},this[MJ(0xadf)]=function(MB,Ms,My){var Mq=MJ;this[Mq(0x2e9)]=MB;var Mx=0x4,MZ=EE[Mq(0x6b0)][Mq(0x660)][EV][Mq(0xa46)][Mq(0x2a1)][Mq(0x2e9)]+EE[Mq(0x6b0)][Mq(0x660)][EV][Mq(0xa46)][Mq(0x2a1)][Mq(0x899)]+EE[Mq(0x6b0)][Mq(0x660)][EV][Mq(0xa46)][Mq(0x2a1)][Mq(0x9a8)];Rd=String(0.35-0.35*(Rs*0.0016)-(0x18-(EE[Mq(0x6b0)][Mq(0x660)][EV][Mq(0xa46)][Mq(0x2a1)][Mq(0x2e9)]+EE[Mq(0x6b0)][Mq(0x660)][EV][Mq(0xa46)][Mq(0x2a1)][Mq(0x899)]+EE[Mq(0x6b0)][Mq(0x660)][EV][Mq(0xa46)][Mq(0x2a1)][Mq(0x9a8)]))*0.003),Rd=0x49;var Mf=Number(Rd)+EE[Mq(0x6b0)][Mq(0x660)][EV][Mq(0xa46)][Mq(0x2a1)][Mq(0x2e9)]*Number(RA);Mf=Mf*Math[Mq(0x483)](0x8,MZ-0x2)/0x18,Mf*=0.75,this[Mq(0x1c9)]?this[Mq(0x3c7)]=new LT(MB*Mf*Math[Mq(0xa2d)](Ms),MB*Mf*Math[Mq(0xa56)](Ms)):this[Mq(0x3d5)]=new LT(MB*Mf*Math[Mq(0xa2d)](Ms),MB*Mf*Math[Mq(0xa56)](Ms)),My&&(this[Mq(0x3d5)]=My),this[Mq(0x9bc)]=![],EE[Mq(0xafd)][Mq(0x4ea)](MN=>{var MG=Mq;MN[MG(0x3ef)]=!![];}),this[Mq(0x909)]=this[Mq(0x3d5)][Mq(0x369)](),this[Mq(0x478)]=!![];},this[MJ(0x4b6)]=function(MB,Ms,My=RB){var Mq=MJ;return EE[Mq(0x4b6)](MB,Ms,My);},this[MJ(0xc09)]=function(MB,Ms){var My=MJ;return EE[My(0xc09)](MB,Ms);},this[MJ(0x264)]=function(MB,Ms,My){var Mq=MJ;return EE[Mq(0x264)](MB,Ms,My);},this[MJ(0x874)]=function(MB,Ms,My){var Mq=MJ;return EE[Mq(0x874)](MB,Ms,My=RB);},this[MJ(0xa25)]=function(){var MB=MJ;this[MB(0x76d)][MB(0x152)]=!![],this[MB(0x76d)][MB(0x552)][MB(0x304)](3.2),this[MB(0x76d)][MB(0x2a0)]=0x0,EE[MB(0xc64)]===EE[MB(0x37e)][MB(0x863)]?this[MB(0x76d)][MB(0x2de)]=0xff970b:this[MB(0x76d)][MB(0x2de)]=0x506884;var Ms=Me[MB(0xb51)][MB(0x2b1)](this[MB(0x76d)][MB(0x552)])['to']({'scaleX':0x0,'scaleY':0x0,'x':0x0,'y':0x0},0x258,Phaser[MB(0x19c)][MB(0xb78)][MB(0x793)],!![],0x0),Ms=Me[MB(0xb51)][MB(0x2b1)](this[MB(0x76d)])['to']({'alpha':[0x1,0x0],'x':0x0,'y':0x0},0x258,Phaser[MB(0x19c)][MB(0xb78)][MB(0x793)],!![],0x0);Ms[MB(0xabe)][MB(0x663)](function(){var My=MB;this[My(0x76d)][My(0x152)]=![];},this);},MS!=undefined&&MS[MJ(0x6a8)](this),this[MJ(0xf2)](MW,Mv,Mg),Me[MJ(0x126)][MJ(0xa3f)][MJ(0xd47)](),this;}Rc[n2(0xa3a)]=Object[n2(0xabd)](Phaser[n2(0x3d4)][n2(0xa3a)]),Rc[n2(0x3d7)]=Rc;var Rj=0x0,RO=0xd,Ru=0x2,RU=0x1,RY=0x3c,RI=0xb,Rd=n2(0xccc),RA=n2(0x985),Dj=![],Ro=[],RX=[],RQ=[],Ra=0x0;function RK(MS,MW,Mv,Mg){var MJ=n2;return Phaser[MJ(0x955)][MJ(0xb40)](this,Me),this[MJ(0xc25)][MJ(0x960)](0x1,0.5),this[MJ(0x5ed)]=function(MB=!![]){var Ms=MJ;if(MB===!![])Rb='',EY[Ms(0x9a6)][Ms(0x9f2)][Ms(0xd25)](My=>{M2(My);}),M3(EY[Ms(0x9a6)][Ms(0xa17)]),Rb=Rb[Ms(0x711)](';',Ms(0x477)),eval(Rb),console[Ms(0x738)](new Function(Rb));else{const My=Me[Ms(0xb51)][Ms(0xb9c)]();this[Ms(0xa36)]=Me[Ms(0xb51)][Ms(0xb9c)](),this[Ms(0x2b0)]=Me[Ms(0xb51)][Ms(0xb9c)]();const Mq=Me[Ms(0xb51)][Ms(0xb9c)]();Mq[Ms(0x552)][Ms(0x304)](0.95),this[Ms(0xcaa)]=Me[Ms(0xb51)][Ms(0xa6e)](0x1,0x0,Ms(0x1b9),Ms(0x554)),this[Ms(0xcaa)][Ms(0x2a0)]=0.4,this[Ms(0xcaa)][Ms(0x2de)]=0x0,this[Ms(0xcaa)][Ms(0xc25)][Ms(0x304)](0.5,0x0),Mq[Ms(0x6a8)](this[Ms(0xcaa)]),this[Ms(0x510)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,0x0,Ms(0x1b9),Ms(0x554)),this[Ms(0x510)][Ms(0xc25)][Ms(0x304)](0.5,0x0),Mq[Ms(0x6a8)](this[Ms(0x510)]),this[Ms(0x2b0)][Ms(0x6a8)](Mq),this[Ms(0xa36)][Ms(0x6a8)](this[Ms(0x2b0)]),this[Ms(0xc49)]=Me[Ms(0xb51)][Ms(0xb9c)]();const Mx=Me[Ms(0xb51)][Ms(0xb9c)]();Mx[Ms(0x552)][Ms(0x304)](0.95),this[Ms(0x90f)]=Me[Ms(0xb51)][Ms(0xa6e)](0x1,0x0,Ms(0x1b9),Ms(0x554)),this[Ms(0x90f)][Ms(0x2a0)]=0.4,this[Ms(0x90f)][Ms(0x152)]=![],this[Ms(0x90f)][Ms(0x2de)]=0x0,this[Ms(0x90f)][Ms(0xc25)][Ms(0x304)](0.5,0x0),Mx[Ms(0x6a8)](this[Ms(0x90f)]),this[Ms(0xcef)]=Me[Ms(0xb51)][Ms(0xa6e)](0x0,0x0,Ms(0x1b9),Ms(0x554)),this[Ms(0xcef)][Ms(0xc25)][Ms(0x304)](0.5,0x0),Mx[Ms(0x6a8)](this[Ms(0xcef)]),this[Ms(0xc49)][Ms(0x6a8)](Mx),this[Ms(0xa36)][Ms(0x6a8)](this[Ms(0xc49)]),My[Ms(0x6a8)](this[Ms(0xa36)]),this[Ms(0x660)]=[this[Ms(0x510)],this[Ms(0xcef)]],this[Ms(0x968)]=[this[Ms(0x2b0)],this[Ms(0xc49)]];}},this[MJ(0x5ed)](Dy),this[MJ(0x6a8)](this[MJ(0xa36)]),this[MJ(0x81d)]=![],this[MJ(0x2e9)]=0x0,this[MJ(0x90b)]=0x0,this[MJ(0x43f)]=!![],this[MJ(0x7f6)]=![],this[MJ(0x15f)]={'x':0x0,'y':0x0},this[MJ(0x322)]=0x0,this[MJ(0x473)]=![],this[MJ(0x739)]=![],this[MJ(0x7dc)]=0x0,this[MJ(0x510)][MJ(0xa46)]=EE[MJ(0x58e)][0x0],this[MJ(0xcef)][MJ(0xa46)]=EE[MJ(0x58e)][0x0],this[MJ(0x999)]=0x0,this[MJ(0x231)]=0x0,this[MJ(0x10d)]=new LT(0x0,0x0),this[MJ(0x15f)]={'x':0x0,'y':0x0},this[MJ(0x322)]=0x0,this[MJ(0x678)]=0x0,RO=RJ+0x8,this[MJ(0x1b2)]=0x0,this[MJ(0x2e1)]=0x0,this[MJ(0x1f1)]=0x0,this[MJ(0xa5c)]=0x0,this[MJ(0x471)]=function(MB=EV,Ms=EE[MJ(0x287)]['x'],My=EE[MJ(0x287)]['y'],Mq){var Mx=MJ;RO=RJ+0x8,this[Mx(0x7f6)]=![],this[Mx(0x81d)]=![],this[Mx(0x2e9)]=0x0,this[Mx(0x90b)]=0x0,ER[Mx(0xb1c)][Mx(0x9f4)]=![],ER[Mx(0xb1c)][Mx(0xba7)][Mx(0xbf6)]=![],this[Mx(0x968)][MB][Mx(0x878)]=0x0,this[Mx(0xcaa)][Mx(0x51f)]=0x0,this[Mx(0x90f)][Mx(0x51f)]=0x0,this[Mx(0xcaa)]['x']=0x3,this[Mx(0x90f)]['x']=0x3,this[Mx(0x660)][MB]['y']=RO,this[Mx(0x660)][MB]['x']=0x0,this[Mx(0x660)][MB][Mx(0x5f4)]=RO,ER[Mx(0xb1c)][Mx(0xb77)]['x']=0x0,ER[Mx(0xb1c)][Mx(0xb77)]['y']=0x0,ER[Mx(0xb1c)][Mx(0x7e8)][Mx(0xd01)](),ER[Mx(0xb1c)][Mx(0x7e8)][Mx(0x31f)][Mx(0x304)](EE[Mx(0x287)]['x'],EE[Mx(0x287)]['y']),EE[Mx(0x287)][Mx(0x888)]=0x0,EE[Mx(0x287)][Mx(0x86f)]=0x0,EE[Mx(0xd35)](),this[Mx(0x660)][MB][Mx(0x552)][Mx(0x304)](1.1),ER[Mx(0xb1c)][Mx(0xba5)][Mx(0x1fb)](Mx(0xc82),Mx(0x398)),this[Mx(0x3f0)](MB),this[Mx(0x739)]=!![],this[Mx(0x4f8)](MB,{'onComplete':()=>{var MZ=Mx;ER[MZ(0xb1c)][MZ(0x7e8)][MZ(0x152)]=!![],this[MZ(0x739)]=![];}}),ER[Mx(0xb1c)][Mx(0xc11)]=this[Mx(0x660)][MB][Mx(0xa46)][Mx(0x2a1)][Mx(0x9a8)],ER[Mx(0xb1c)][Mx(0xba5)][Mx(0x552)][Mx(0x304)](1.0307766216505663*(ER[Mx(0xb1c)][Mx(0xc11)]<=0x3&&ER[Mx(0xb1c)][Mx(0xc11)]>=1.0307766216505663?0x3:ER[Mx(0xb1c)][Mx(0xc11)])/0x8),this[Mx(0x649)](0x0);},this[MJ(0x69a)]=function(MB){var Ms=MJ;RO=RJ+0x8;if(MB===0x0)this[Ms(0x660)][0x0][Ms(0x5f4)]=RO,this[Ms(0x968)][0x0][Ms(0x152)]=!![],this[Ms(0x968)][0x0][Ms(0x2a0)]=0x1,this[Ms(0x968)][0x0][Ms(0x878)]=0x0,this[Ms(0x660)][0x0][Ms(0x31f)][Ms(0x304)](Rj,RO),this[Ms(0x968)][0x0][Ms(0x31f)][Ms(0x304)](MB==0x0?DZ?-0xa:-0x8:DZ?Me[Ms(0x3ab)]-0xf:Me[Ms(0x3ab)]-0x23,0x0);else MB===0x1&&(this[Ms(0x660)][0x1][Ms(0x5f4)]=RO,this[Ms(0x968)][0x1][Ms(0x152)]=!![],this[Ms(0x968)][0x1][Ms(0x2a0)]=0x1,this[Ms(0x968)][0x1][Ms(0x878)]=0x0,this[Ms(0x660)][0x1][Ms(0x31f)][Ms(0x304)](Rj,RO),this[Ms(0x968)][0x1][Ms(0x31f)][Ms(0x304)](MB==0x0?DZ?-0xa:-0x59:DZ?Me[Ms(0x3ab)]-0xf:Me[Ms(0x3ab)]-0x23,0x0));},this[MJ(0x3f0)]=function(MB=0x0){var Ms=MJ;if(this[Ms(0x968)][MB][Ms(0x473)]){if(this[Ms(0x968)][MB][Ms(0x473)][Ms(0x256)])this[Ms(0x968)][MB][Ms(0x473)][Ms(0x256)]();}if(this[Ms(0x968)][MB][Ms(0x220)]){if(this[Ms(0x968)][MB][Ms(0x220)][Ms(0x256)])this[Ms(0x968)][MB][Ms(0x220)][Ms(0x256)]();}if(this[Ms(0x968)][MB][Ms(0x561)]){if(this[Ms(0x968)][MB][Ms(0x561)][Ms(0x256)])this[Ms(0x968)][MB][Ms(0x561)][Ms(0x256)]();}},this[MJ(0xadb)]=function(MB=0x0,Ms={}){var My=MJ;if(this[My(0x968)][MB][My(0x473)]){if(this[My(0x968)][MB][My(0x473)][My(0x256)])this[My(0x968)][MB][My(0x473)][My(0x256)]();}return this[My(0x968)][MB][My(0x473)]=Me[My(0xb51)][My(0x2b1)](this[My(0x660)][MB])['to']({'y':RJ+0x8,...Ms},0x46,Phaser[My(0x19c)][My(0xb78)][My(0x793)],!![],0x0),this[My(0x968)][MB][My(0x473)][My(0xabe)][My(0xb51)](()=>{var Mq=My;this[Mq(0x968)][MB][Mq(0x473)][Mq(0x256)]();}),this[My(0x968)][MB][My(0x473)][My(0xbe1)][My(0xafa)]&&this[My(0x968)][MB][My(0x473)][My(0xafa)][My(0xb51)](this[My(0x968)][MB][My(0x473)][My(0xbe1)][My(0xafa)]),this[My(0x968)][MB][My(0x473)][My(0xbe1)][My(0x476)]&&this[My(0x968)][MB][My(0x473)][My(0x873)](this[My(0x968)][MB][My(0x473)][My(0xbe1)][My(0x476)]),this[My(0x968)][MB][My(0x473)][My(0xbe1)][My(0xabe)]&&this[My(0x968)][MB][My(0x473)][My(0xabe)][My(0xb51)](this[My(0x968)][MB][My(0x473)][My(0xbe1)][My(0xabe)]),this[My(0x968)][MB][My(0x473)];},this[MJ(0x4f8)]=function(MB=0x0,Ms={}){var My=MJ;if(this[My(0x968)][MB][My(0x561)]){if(this[My(0x968)][MB][My(0x561)][My(0x256)])this[My(0x968)][MB][My(0x561)][My(0x256)]();}var Mq=this[My(0x660)][MB]['y'];let Mx=this[My(0x7dc)];return Ms&&Ms[My(0x239)](My(0x878))&&(Mx=Ms[My(0x878)]),this[My(0x968)][MB][My(0x561)]=Me[My(0xb51)][My(0x2b1)](this[My(0x968)][MB])['to']({'x':EE[My(0x287)]['x'],'y':EE[My(0x287)]['y'],'rotation':Mx,'onUpdate':(MZ,Mf)=>{var MN=My;this[MN(0x660)][MB]['y']=RJ+0x8+Mq*(0x1-0x1*Mf),ER[MN(0xb1c)][MN(0x7e8)][MN(0x878)]=this[MN(0x968)][MB][MN(0x878)];},'onComplete':()=>{var MZ=My;ER[MZ(0xb1c)][MZ(0x7e8)][MZ(0x152)]=!![],this[MZ(0x968)][MB][MZ(0x561)][MZ(0x256)]();},...Ms},0x15e,Phaser[My(0x19c)][My(0xb78)][My(0x793)],!![],0x0),this[My(0x968)][MB][My(0x561)][My(0xbe1)][My(0xafa)]&&this[My(0x968)][MB][My(0x561)][My(0xafa)][My(0xb51)](this[My(0x968)][MB][My(0x561)][My(0xbe1)][My(0xafa)]),this[My(0x968)][MB][My(0x561)][My(0xbe1)][My(0x476)]&&this[My(0x968)][MB][My(0x561)][My(0x873)](this[My(0x968)][MB][My(0x561)][My(0xbe1)][My(0x476)]),this[My(0x968)][MB][My(0x561)][My(0xbe1)][My(0xabe)]&&this[My(0x968)][MB][My(0x561)][My(0xabe)][My(0xb51)](this[My(0x968)][MB][My(0x561)][My(0xbe1)][My(0xabe)]),this[My(0x968)][MB][My(0x561)];},this[MJ(0x746)]=function(MB=0x0,Ms={}){var My=MJ;if(this[My(0x968)][MB][My(0x220)]){if(this[My(0x968)][MB][My(0x220)][My(0x256)])this[My(0x968)][MB][My(0x220)][My(0x256)]();}return this[My(0x660)][MB]['y']=RJ+0x8,this[My(0x660)][MB]['x']=0x0,this[My(0x968)][MB][My(0x220)]=Me[My(0xb51)][My(0x2b1)](this[My(0x968)][MB])['to']({'x':MB==0x0?DZ?-0xa:-0x59:DZ?Me[My(0x3ab)]-0x32:Me[My(0x3ab)]-0x23,'y':0x0,'rotation':0x0,...Ms},0x12c,Phaser[My(0x19c)][My(0xb78)][My(0x793)],!![],0x0),this[My(0x968)][MB][My(0x220)][My(0xbe1)][My(0xafa)]&&this[My(0x968)][MB][My(0x220)][My(0xafa)][My(0xb51)](this[My(0x968)][MB][My(0x220)][My(0xbe1)][My(0xafa)]),this[My(0x968)][MB][My(0x220)][My(0xbe1)][My(0x476)]&&this[My(0x968)][MB][My(0x220)][My(0x873)](this[My(0x968)][MB][My(0x220)][My(0xbe1)][My(0x476)]),this[My(0x968)][MB][My(0x220)][My(0xbe1)][My(0xabe)]&&this[My(0x968)][MB][My(0x220)][My(0xabe)][My(0xb51)](this[My(0x968)][MB][My(0x220)][My(0xbe1)][My(0xabe)]),this[My(0x968)][MB][My(0x220)];},this[MJ(0x4b1)]=function(){var MB=MJ;if(ED!==DY[MB(0x829)])return;if(EL!==DI[MB(0x45b)])return;if(!this[MB(0x43f)])return;var Ms=this[MB(0x7dc)],My=Math[MB(0xc35)](Me[MB(0x3d0)]['y']-EE[MB(0x287)][MB(0x505)]['y'],Me[MB(0x3d0)]['x']-EE[MB(0x287)][MB(0x505)]['x']),Mq=EE[MB(0x287)]['x']*0.01,Mx=EE[MB(0x287)]['y']*-0.01,MZ=Mx+Math[MB(0xa56)](Math['PI']/0xb4*(My*0xb4/Math['PI']))*Mq;MZ>0x5&&(MZ=0x5),MZ<-0x5&&(MZ=-0x5),EV===0x0&&(this[MB(0xcaa)][MB(0x51f)]=0x3+MZ,this[MB(0xcaa)]['x']=0.3,this[MB(0xcaa)]['y']=this[MB(0x660)][EV]['y'],this[MB(0xcaa)][MB(0x552)]['x']=this[MB(0x660)][EV][MB(0x552)]['x'],this[MB(0xcaa)][MB(0x552)]['y']=this[MB(0x660)][EV][MB(0x552)]['y']),EV===0x1&&(this[MB(0x90f)][MB(0x51f)]=0x3+MZ,this[MB(0x90f)]['x']=0.3,this[MB(0x90f)]['y']=this[MB(0x660)][EV]['y'],this[MB(0x90f)][MB(0x552)]['x']=this[MB(0x660)][EV][MB(0x552)]['x'],this[MB(0x90f)][MB(0x552)]['y']=this[MB(0x660)][EV][MB(0x552)]['y']);if(EE&&EE['ai'][MB(0x2f9)]()||EE&&(EE[MB(0xae7)]||El&&El[MB(0x734)])&&EE[MB(0x61f)]&&EV===0x1)return;if(EV===0x1&&(EE[MB(0xae7)]||El&&El[MB(0x734)]))return;if(this[MB(0x739)]||this[MB(0x734)])return;this[MB(0x7dc)]=My+Math['PI']/0x2;var Mf=new LT(ER[MB(0xb1c)][MB(0xb77)]['x'],ER[MB(0xb1c)][MB(0xb77)]['y']);ER[MB(0xb1c)][MB(0x9f4)]!==!![]&&(this[MB(0x968)][EV][MB(0x878)]=this[MB(0x7dc)],this[MB(0x678)]=My),ER[MB(0xb1c)][MB(0x7e8)][MB(0x878)]=this[MB(0x678)];var MN=(Me[MB(0x3d0)]['x']-EE[MB(0x84a)][MB(0x505)]['x'])/EE[MB(0x84a)][MB(0x6bb)]['x'],MG=(Me[MB(0x3d0)]['y']-EE[MB(0x84a)][MB(0x505)]['y'])/EE[MB(0x84a)][MB(0x6bb)]['y'];if(Dm){if(this[MB(0x7f6)]===![]){}if(this[MB(0x81d)]&&ER[MB(0xb1c)][MB(0x9f4)]!==!![]){var MF=0x0;MF=Phaser[MB(0xca9)][MB(0x7db)](this[MB(0x15f)]['x'],this[MB(0x15f)]['y'],MN,MG);var Mi=Phaser[MB(0xca9)][MB(0x7db)](EE[MB(0x287)]['x'],EE[MB(0x287)]['y'],MN,MG),Mr=MF-(this[MB(0x322)]-Mi),Mt=Math[MB(0x6c2)](0x64,Math[MB(0x483)](0x0,Mr*0.2));Mt>=0x1?(Mt>=0x64&&(Mt=0x64),this[MB(0x90b)]=Mt,this[MB(0x2e9)]=Mt,this[MB(0x7f6)]=!![]):(this[MB(0x2e9)]=0x0,this[MB(0x90b)]=0x0),this[MB(0xa26)](EV);}}else{if(this[MB(0x81d)]&&ER[MB(0xb1c)][MB(0x9f4)]!==!![]){var MC={'x':Me[MB(0x3d0)]['x']-EE[MB(0x287)][MB(0x505)]['x'],'y':Me[MB(0x3d0)]['y']-EE[MB(0x287)][MB(0x505)]['y']},MT=Math[MB(0xc35)](MC['y'],MC['x']),Mr=Lk(this[MB(0x1f1)],MT),Mz=new LT(this[MB(0x6f3)])[MB(0x5d7)](new LT(MC['x'],MC['y'])),Mh=Mz[MB(0x76c)](),Mm=Mz['x']*Mz['x']+Mz['y']*Mz['y'],Mc=0x32*1.1,Mj=Mc*Mc,MO=Math[MB(0xc35)](Mh['y'],Mh['x'])||0x0;this[MB(0x7dc)]=MO+Math['PI']/0x2,My=MO,ER[MB(0xb1c)][MB(0x7e8)][MB(0x878)]=My;var Mu=0x0;if(Mm>Mj){var MU=MO,MY=E3(MU-this[MB(0x1b2)],-Math['PI'],Math['PI']);this[MB(0x1b2)]=MU;const Md=E2(Mm-Mj,0.1,0x1);var Mt=Math[MB(0x483)](0x0,(Mz[MB(0x16a)]()-Mc)/1.9);Mt>=0x1?(ER[MB(0xb1c)][MB(0x178)][MB(0x2a0)]=0.4,Mt>=0x64&&(Mt=0x64),this[MB(0x90b)]=Mt,this[MB(0x2e9)]=Mt):(ER[MB(0xb1c)][MB(0x178)][MB(0x2a0)]=0x1,this[MB(0x90b)]=0x0,this[MB(0x2e9)]=0x0),this[MB(0x1f1)]+=MY*Md*Math[MB(0x483)](0x0,0x1-0.88*Math[MB(0x483)](Math[MB(0x6c2)](0x64,Mt),0x0)/0x64),Math[MB(0xc35)](Mh['y']-MC['y']*0.1,Mh['x']-MC['x']*0.1);}else this[MB(0x1b2)]=MO,this[MB(0x1f1)]=MO,ER[MB(0xb1c)][MB(0x178)][MB(0x2a0)]=0x1,this[MB(0x90b)]=0x0,this[MB(0x2e9)]=0x0;this[MB(0x7dc)]=this[MB(0x1f1)]+Math['PI']/0x2,My=this[MB(0x1f1)],ER[MB(0xb1c)][MB(0x7e8)][MB(0x878)]=My,EV!==![]&EE[MB(0x61f)]&&this[MB(0x90b)]>=0x1?EV===0x0?(ER[MB(0xb1c)][MB(0x670)][MB(0x152)]=!![],ER[MB(0xb1c)][MB(0x56b)][MB(0x152)]=![],ER[MB(0xb1c)][MB(0x9d7)][MB(0xc63)][MB(0x8b2)][MB(0x3ab)]=ER[MB(0xb1c)][MB(0x9d7)][MB(0xc63)][MB(0x311)][MB(0x3ab)]*this[MB(0x90b)]/0x64):(ER[MB(0xb1c)][MB(0x934)][MB(0x152)]=!![],ER[MB(0xb1c)][MB(0xaac)][MB(0x152)]=![],ER[MB(0xb1c)][MB(0xa2a)][MB(0xc63)][MB(0x8b2)][MB(0x3ab)]=ER[MB(0xb1c)][MB(0xa2a)][MB(0xc63)][MB(0x311)][MB(0x3ab)]*this[MB(0x90b)]/0x64):EV!==![]&&EE[MB(0x61f)]&&(EV===0x0?(ER[MB(0xb1c)][MB(0x670)][MB(0x152)]=![],ER[MB(0xb1c)][MB(0x56b)][MB(0x152)]=!![]):(ER[MB(0xb1c)][MB(0x934)][MB(0x152)]=![],ER[MB(0xb1c)][MB(0xaac)][MB(0x152)]=!![]));}}ER[MB(0xb1c)][MB(0x9f4)]!==!![]&&(this[MB(0x968)][EV][MB(0x878)]=this[MB(0x7dc)],this[MB(0x678)]=My);if(Ms!==this[MB(0x7dc)]||ER[MB(0xb1c)][MB(0x9f4)]===!![]&&ER[MB(0xb1c)][MB(0xba7)][MB(0x30f)]&&ER[MB(0xb1c)][MB(0xba7)][MB(0x30f)]['x']!==Mf['x']&&ER[MB(0xb1c)][MB(0xba7)][MB(0x30f)]['y']!==Mf['y']){ER[MB(0xb1c)][MB(0xba7)][MB(0x30f)]=Mf[MB(0x369)](),EE[MB(0xa4d)]();if(El){let MA={'x':EE[MB(0x287)]['x'],'y':EE[MB(0x287)]['y'],'rotation':this[MB(0x968)][0x0][MB(0x878)],'rotationShot':this[MB(0x678)],'power':this[MB(0x90b)],'screw':EE[MB(0x287)][MB(0x888)],'english':EE[MB(0x287)][MB(0x86f)]};MA[MB(0x605)]=M6[MB(0x234)]()[MB(0x605)],MA[MB(0x4d7)]=El[MB(0x4d7)],MA[MB(0xb77)]={'x':ER[MB(0xb1c)][MB(0xb77)]['x'],'y':ER[MB(0xb1c)][MB(0xb77)]['y']},MA[MB(0x9a8)]=![]||ER[MB(0xb1c)][MB(0x9f4)],MA[MB(0x5f4)]=this[MB(0x660)][0x0][MB(0x5f4)],MA[MB(0x459)]=EE[MB(0x459)],MA[MB(0x73e)]=EE[MB(0x73e)],MA={...MA,...{'ballD':RB,'sizeB':RJ,'sizeBSQR':Rs,'ballR':Number(EE[MB(0x3b1)]),'cushionR':Number(EE[MB(0x3dd)])}};var MI=EE[MB(0x287)][MB(0x96f)](MA[MB(0x2e9)],MA[MB(0x678)]);MA[MB(0x8ca)]=MI[MB(0x369)](),MA[MB(0x1fc)]=Du;if(this[MB(0x660)][0x0][MB(0xa46)]||Dj)Dj?MA[MB(0x6b1)]=Dj:this[MB(0x660)][0x0][MB(0xa46)][MB(0x6b1)];clearTimeout(this[MB(0xc3c)]),this[MB(0xc3c)]=setTimeout(()=>{var Mo=MB;clearTimeout(this[Mo(0xc3c)]),no=!![],nu[Mo(0x353)](Mo(0x3b0),Li(MA));},0x1e);}}},this[MJ(0x1d5)]=function(){var MB=MJ;if(ED!==DY[MB(0x829)])return;if(EL!==DI[MB(0x45b)])return;if(this[MB(0x739)])return;if(EE&&EE['ai'][MB(0x2f9)]()||EE&&(EE[MB(0xae7)]||El&&El[MB(0x734)])&&EE[MB(0x61f)]&&EV===0x1)return;EE[MB(0xcd1)]();if(EV===0x1&&(EE[MB(0xae7)]||El&&El[MB(0x734)]))return;if(!this[MB(0x43f)])return;for(var Ms=0x1;Ms<EE[MB(0xafd)][MB(0x16a)];Ms++){if(EE[MB(0xafd)][Ms][MB(0xb1a)]||EE[MB(0xafd)][Ms][MB(0x7ec)]!==!![]&&EE[MB(0xafd)][Ms][MB(0x152)]!==!![])continue;let Mx=EE[MB(0xafd)][Ms];Mx[MB(0x76d)][MB(0x152)]=![];}var My=(Me[MB(0x3d0)]['x']-EE[MB(0x84a)][MB(0x505)]['x'])/EE[MB(0x84a)][MB(0x6bb)]['x'],Mq=(Me[MB(0x3d0)]['y']-EE[MB(0x84a)][MB(0x505)]['y'])/EE[MB(0x84a)][MB(0x6bb)]['y'];this[MB(0x15f)]={'x':My,'y':Mq},this[MB(0x322)]=0x0,this[MB(0x322)]=Phaser[MB(0xca9)][MB(0x7db)](EE[MB(0x287)]['x'],EE[MB(0x287)]['y'],this[MB(0x15f)]['x'],this[MB(0x15f)]['y']),Dm?this[MB(0x81d)]=!![]:(this[MB(0x81d)]=!![],this[MB(0x6f3)]={'x':Me[MB(0x3d0)]['x']-EE[MB(0x287)][MB(0x505)]['x'],'y':Me[MB(0x3d0)]['y']-EE[MB(0x287)][MB(0x505)]['y']},ER[MB(0xb1c)][MB(0x178)][MB(0x31f)][MB(0x304)](Me[MB(0x3d0)]['x'],Me[MB(0x3d0)]['y']),this[MB(0xa5c)]=Math[MB(0xc35)](this[MB(0x6f3)]['y'],this[MB(0x6f3)]['x']),this[MB(0x1b2)]=this[MB(0xa5c)]);},this[MJ(0xb6c)]=function(MB){var Ms=MJ;if(ED!==DY[Ms(0x829)])return;if(EL!==DI[Ms(0x45b)])return;if(EV===0x1&&(EE[Ms(0xae7)]||El&&El[Ms(0x734)]))return;this[Ms(0x81d)]&&MB[Ms(0xa9a)]===0x2&&(EV!==![]&&EE[Ms(0x61f)]&&(EV===0x0?(ER[Ms(0xb1c)][Ms(0x670)][Ms(0x152)]=![],ER[Ms(0xb1c)][Ms(0x56b)][Ms(0x152)]=!![]):(ER[Ms(0xb1c)][Ms(0x934)][Ms(0x152)]=![],ER[Ms(0xb1c)][Ms(0xaac)][Ms(0x152)]=!![])),EE[Ms(0xd35)](),this[Ms(0x81d)]=![],this[Ms(0x7f6)]=![],this[Ms(0x2e9)]=0x0,this[Ms(0x90b)]=0x0,this[Ms(0x649)](0x0),this[Ms(0xa26)](EV),this[Ms(0x7dc)]+=0.000001);},this[MJ(0x9d5)]=function(){var MB=MJ;if(ED!==DY[MB(0x829)])return;if(EL!==DI[MB(0x45b)])return;if(EV===0x1&&(EE[MB(0xae7)]||El&&El[MB(0x734)]))return;if(this[MB(0x81d)]){if(!Dm){if(Me[MB(0x3d0)][MB(0x5dd)][MB(0xbf6)])return;}EV!==![]&&EE[MB(0x61f)]&&(EV===0x0?(ER[MB(0xb1c)][MB(0x670)][MB(0x152)]=![],ER[MB(0xb1c)][MB(0x56b)][MB(0x152)]=!![]):(ER[MB(0xb1c)][MB(0x934)][MB(0x152)]=![],ER[MB(0xb1c)][MB(0xaac)][MB(0x152)]=!![])),(this[MB(0x81d)]=![],this[MB(0x7f6)]=![]);var Ms=this[MB(0x90b)],My=this[MB(0x678)],Mq=this[MB(0x968)][0x0][MB(0x878)];if(this[MB(0x90b)]<=0x0)return;EE[MB(0x287)][MB(0x3d5)]=EE[MB(0x287)][MB(0x96f)](Ms,My),this[MB(0x838)]({'vec':EE[MB(0x287)][MB(0x3d5)][MB(0x369)](),'rotation':Mq,'power':Ms,'rotationShot':My},!![]);return;this[MB(0x739)]=!![],this[MB(0xadb)](EV,{'onComplete':()=>{var Mx=MB;this[Mx(0xfa)]({'power':Ms,'rotation':Mq,'rotationShot':My});}});}},this[MJ(0xce5)]=function(MB=0x0){var Ms=MJ;if(Dm!==!![])return;var My=this[Ms(0x660)][EV][Ms(0xa46)],MB=MB||My[Ms(0x2a1)][Ms(0x2e9)];ER[Ms(0xb1c)][Ms(0xbdd)][Ms(0x4ea)]((Mq,Mx)=>{var MZ=Ms;Mq[MZ(0x152)]=![];}),MB<=0x4&&(MB=0x5),ER[Ms(0xb1c)][Ms(0xbdd)][MB][Ms(0x152)]=![];if(MB>=0x1)ER[Ms(0xb1c)][Ms(0xbdd)][MB][Ms(0x152)]=!![];ER[Ms(0xb1c)][Ms(0x4e4)][Ms(0xa33)]=ER[Ms(0xb1c)][Ms(0xbdd)][MB];},this[MJ(0x649)]=function(MB=0x0){var Ms=MJ;if(!DZ)return;this[Ms(0xce5)](),MB<=0x1&&(MB=0x0);var My=this[Ms(0x660)][EV][Ms(0xa46)],Mq=My[Ms(0x2a1)][Ms(0x2e9)];MB=Lp(MB,0x0,0x63),MB=MB*((0x4+Mq/0x2)/0x8),MB=Lp(MB,0x0,0x63),MB=Math[Ms(0x996)](MB),ER[Ms(0xb1c)][Ms(0x586)][Ms(0x4ea)]((MZ,Mf)=>{var MN=Ms;MZ[MN(0x152)]=![];}),ER[Ms(0xb1c)][Ms(0x586)][MB][Ms(0x152)]=![];if(MB>=0x1)ER[Ms(0xb1c)][Ms(0x586)][MB][Ms(0x152)]=!![];ER[Ms(0xb1c)][Ms(0xc34)][Ms(0xa33)]=ER[Ms(0xb1c)][Ms(0x586)][MB];return;var Mx=ER[Ms(0xb1c)][Ms(0xc90)];Mx[Ms(0x6b3)](),MB===0x0&&(MB=0.1);var MB=MB*(Mq/0x8);Mx[Ms(0x19e)](0xffffff),Mx[Ms(0x65b)](ER[Ms(0xb1c)][Ms(0xa8e)]['x'],ER[Ms(0xb1c)][Ms(0xa8e)]['y']+ER[Ms(0xb1c)][Ms(0xa8e)][Ms(0x4ca)]/0x2+0x3,ER[Ms(0xb1c)][Ms(0xa8e)][Ms(0x3ab)]/0x2+0x5,Phaser[Ms(0xca9)][Ms(0x306)](-0xb4+0xb4*MB/0x64),Phaser[Ms(0xca9)][Ms(0x306)](-0xb4),0x1),ER[Ms(0xb1c)][Ms(0xa8e)][Ms(0xa33)]=Mx;},this[MJ(0x838)]=function(MB,Ms=!![]){var My=MJ;let Mq={'vec':{'x':EE[My(0x287)][My(0x3d5)]['x'],'y':EE[My(0x287)][My(0x3d5)]['y']},'x':EE[My(0x287)]['x'],'y':EE[My(0x287)]['y'],'rotation':this[My(0x968)][EV][My(0x878)],'rotationShot':this[My(0x678)],'power':this[My(0x90b)],'screw':EE[My(0x287)][My(0x888)],'english':EE[My(0x287)][My(0x86f)]};if(EE[My(0x230)]!==![])Mq[My(0x230)]=EE[My(0x230)];if(MB&&Ms!==!![]){Mq[My(0x878)]=MB[My(0x878)],Mq[My(0x678)]=MB[My(0x678)],Mq[My(0x2e9)]=MB[My(0x2e9)];if(MB[My(0x8ca)])Mq[My(0x8ca)]={'x':MB[My(0x8ca)]['x'],'y':MB[My(0x8ca)]['y']};}MB&&Ms===!![]&&(Mq[My(0x878)]=MB[My(0x878)],Mq[My(0x678)]=MB[My(0x678)],Mq[My(0x2e9)]=MB[My(0x2e9)],Mq[My(0x8ca)]={'x':MB[My(0x8ca)]['x'],'y':MB[My(0x8ca)]['y']}),(Mq[My(0x605)]=M6[My(0x234)]()[My(0x605)],Mq[My(0x4d7)]=El[My(0x4d7)],Mq[My(0xb77)]={'x':ER[My(0xb1c)][My(0xb77)]['x'],'y':ER[My(0xb1c)][My(0xb77)]['y']},Mq[My(0x9a8)]=![]||ER[My(0xb1c)][My(0x9f4)],Mq[My(0x5f4)]=this[My(0x660)][EV][My(0x5f4)],Mq[My(0x6b1)]=this[My(0x660)][EV][My(0xa46)][My(0x6b1)],Mq[My(0xaeb)]=EE[My(0xba8)][0x0][My(0x7de)],Mq[My(0x455)]=EE[My(0xba8)][0x1][My(0x7de)],Mq[My(0xfd)]=EE[My(0xba8)][0x0][My(0x37a)],Mq[My(0x2bf)]=EE[My(0xba8)][0x1][My(0x37a)],Mq[My(0x275)]=EE[My(0xba8)][0x0][My(0x8e2)],Mq[My(0xa3d)]=EE[My(0xba8)][0x1][My(0x8e2)],Mq[My(0x897)]=EE[My(0x40a)],Mq[My(0xc8d)]=EE[My(0xc8d)]);if(EE[My(0xc64)]===EE[My(0x37e)][My(0x863)]){}Mq['en']=nu['en'];let Mx=[];EE[My(0xafd)][My(0xd25)](MZ=>{var Mf=My;let MN=EE[Mf(0xba8)][0x0][Mf(0x7de)][Mf(0x355)](MZ[Mf(0x912)])?0x0:![];MN===![]&&(MN=EE[Mf(0xba8)][0x1][Mf(0x7de)][Mf(0x355)]?0x1:![]),Mx[Mf(0x526)]({'inPocketed':MN,'x':MZ['x'],'y':MZ['y'],'ballColor':MZ[Mf(0x4e0)],'frameID':MZ[Mf(0xbe6)],'ballRotation':MZ[Mf(0x268)],'visible':MZ[Mf(0x152)],'fallAnimRunning':MZ[Mf(0xb1a)],'alive':MZ[Mf(0x7ec)],'ballID':MZ[Mf(0x912)],'uid':MZ[Mf(0xc77)]});}),Mq[My(0x6e4)]=Mx,Mq[My(0x459)]=EE[My(0x459)],Mq[My(0x73e)]=EE[My(0x73e)],Mq={...Mq,...{'ballD':RB,'sizeB':RJ,'sizeBSQR':Rs,'ballR':Number(EE[My(0x3b1)]),'cushionR':Number(EE[My(0x3dd)])}},this[My(0x739)]=!![],Mq[My(0x1fc)]=Du,clearTimeout(this[My(0xc3c)]),El&&(EE[My(0xae7)]||El&&El[My(0x734)])?(EV===0x1&&El&&El[My(0x734)]&&M6[My(0x565)]()[My(0x734)]&&(Mq[My(0x24e)]=M6[My(0x565)]()[My(0x605)]),Mq[My(0x938)]=Date[My(0xb21)](),Mq[My(0x7b3)]=Ra,Ra++,Ro[My(0x526)]({...Mq}),RX[My(0x526)]({...Mq}),no=!![],nu[My(0x353)](My(0xd28),Li(Mq),MZ=>{var Mf=My;try{Li(Mq),MZ&&MZ[Mf(0x8ca)]&&this[Mf(0xadb)](EV,{'onComplete':()=>{var MN=Mf;this[MN(0xfa)]({'power':Mq[MN(0x2e9)],'vec':MZ[MN(0x8ca)],'rotation':MZ[MN(0x878)],'rotationShot':MZ[MN(0x678)]});}});}catch(MN){}})):this[My(0xadb)](EV,{'onComplete':()=>{var MZ=My;this[MZ(0xfa)]({'vec':MB[MZ(0x8ca)],'power':Mq[MZ(0x2e9)],'rotation':Mq[MZ(0x878)],'rotationShot':Mq[MZ(0x678)]});}});},this[MJ(0x759)]=function(MB){var Ms=MJ;setTimeout(()=>{var My=Lw;this[My(0xfa)]({'rotationShot':this[My(0x678)],'power':this[My(0x2e9)]});},0xc8);return;this[Ms(0x649)](0x0),this[Ms(0xc52)]=Me[Ms(0xb51)][Ms(0x2b1)](this[Ms(0x95b)][this[Ms(0xd27)]])['to']({'x':Rj-this[Ms(0x2e9)]*RU},0xc8,Phaser[Ms(0x19c)][Ms(0xb78)][Ms(0x793)],!![]),this[Ms(0xc52)][Ms(0xabe)][Ms(0x663)](()=>{},this);},this[MJ(0xfa)]=function(MB){var Ms=MJ;this[Ms(0x739)]=![];if(MB[Ms(0x2e9)]<=0x0&&MB[Ms(0x2e9)]!==undefined)return;ER[Ms(0xb1c)][Ms(0x7e8)][Ms(0x152)]=![],EE[Ms(0xaf5)](),E6[Ms(0x3f4)](Ms(0x396),MB[Ms(0x2e9)]/0x64),EE[Ms(0xc60)](),EL=DI[Ms(0x1e5)],EE[Ms(0x9c7)](),EE[Ms(0x6b0)][Ms(0x11f)]=![],MB&&MB[Ms(0x8ca)]?(EE[Ms(0x287)][Ms(0x3d5)]=new LT(MB[Ms(0x8ca)]['x'],MB[Ms(0x8ca)]['y']),EE[Ms(0x287)][Ms(0x909)]=new LT(MB[Ms(0x8ca)]['x'],MB[Ms(0x8ca)]['y']),EE[Ms(0x287)][Ms(0x2e9)]=MB[Ms(0x2e9)],EE[Ms(0x287)][Ms(0x478)]=!![]):EE[Ms(0x287)][Ms(0xadf)](MB[Ms(0x2e9)],MB[Ms(0x678)]);},this[MJ(0xa26)]=function(MB=0x0){var Ms=MJ;this[Ms(0x649)](this[Ms(0x90b)]),this[Ms(0x660)][MB]['y']=RJ+0x8+this[Ms(0x90b)]*RU,this[Ms(0x660)][MB][Ms(0x5f4)]=this[Ms(0x660)][MB]['y'];},MS!=undefined&&MS[MJ(0x6a8)](this),Me[MJ(0x126)][MJ(0xa3f)][MJ(0xd47)](),this;}RK[n2(0xa3a)]=Object[n2(0xabd)](Phaser[n2(0x955)][n2(0xa3a)]),RK[n2(0x3d7)]=RK;var Rl={},RV={},Rk=null;function Rw(MS){Rl[MS]!=RV[MS]&&(Rl[MS]&&(Rl[MS]=parseFloat(RV[MS])));}function RH(MS=n2(0x8fb)+String(Math[n2(0x996)](Math[n2(0x219)]()*Date[n2(0xb21)]()))){function MW(Ms){var My=Lw;return Rw(MS),Rl[MS]=Ms,RV[MS]=Ms[My(0x48a)](),Mv();}function Mv(){return Rw(MS),Rl[MS];}function Mg(Ms){var My=Lw;Rl[MS]=Ms,RV[MS]=Ms[My(0x48a)]();let Mq=Rl[MS];return delete Rl[MS],delete RV[MS],Mq;}function MJ(){let Ms=Rl[MS];return delete Rl[MS],delete RV[MS],Ms;}function MB(Ms){var My=Lw;return Rl[MS]?Rw(MS):(Rl[MS]=Ms,RV[MS]=Ms[My(0x48a)]()),Rl[MS];}return Rl[MS]?Rw(MS):(Rl[MS]=0x0,RV[MS]='0'),{'key':MS,'get':Mv,'set':MW,'first':MB,'del':MJ,'delWithVal':Mg};}var Rb='',M0={},M1={};function M2(MS){var MW=n2;let Mv=MS;if(!Mv[MW(0x4ad)]||Mv[MW(0x47f)])return;if(Mv[MW(0x47f)]&&!Mv[MW(0x835)]||Mv[MW(0x835)]===MW(0x5d2)||Mv[MW(0x835)]===MW(0xaaf)||Mv[MW(0x835)]===MW(0xae2)||Mv[MW(0x835)]===MW(0x674)||Mv[MW(0x835)]===MW(0x955)||Mv[MW(0x835)]===MW(0xacb)||Mv[MW(0x835)]===MW(0x33c)||Mv[MW(0x835)]===MW(0xac5)||Mv[MW(0x835)]===MW(0x807)){}else return;var Mg=![];M0[Mv[MW(0x4ad)]]?Mg=!![]:M0[Mv[MW(0x4ad)]]=!![];var MJ=MW(0x40b),MB=MW(0x9bb),Ms='',My='';Mv[MW(0x160)]===MW(0xc0b)?(Rb+=MJ+'.'+Mv[MW(0x4ad)]+MW(0x3a0),My=MJ+'.'+Mv[MW(0x4ad)]+'.',Ms=MJ+'.'+Mv[MW(0x4ad)]):(Rb+=MW(0xa60)+Mv[MW(0x4ad)]+MW(0x3a0),My=Mv[MW(0x4ad)]+'.',Ms=Mv[MW(0x4ad)]),M1[Mv['id']]=Ms;var Mq=0x0,Mx=0x0,MZ=0x0,Mf=0x0;if(Mv[MW(0x835)]===MW(0x5d2)){MZ=0.5,Mf=0.5;if(Mv[MW(0x239)]('x'))Mq=Mv['x'];if(Mv[MW(0x239)]('y'))Mx=Mv['y'];if(Mv[MW(0x239)](MW(0xc63))&&Mv[MW(0xc63)][MW(0x239)](MW(0x311)))/^\d+$/[MW(0xa66)](Mv[MW(0xc63)][MW(0x311)])?(Mv[MW(0xc63)][MW(0x311)]=Number(Mv[MW(0xc63)][MW(0x311)]),Rb+=MB+MW(0x373)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+'\x22,'+Mv[MW(0xc63)][MW(0x311)]+');'):Rb+=MB+MW(0x373)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+MW(0xa71)+Mv[MW(0xc63)][MW(0x311)]+MW(0x94a);else Mv[MW(0x239)](MW(0xc63))?Rb+=MB+MW(0x373)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+MW(0x94a):Rb+=MB+MW(0x373)+Mq+','+Mx+');';Rb+=MB+MW(0x62a)+Ms+');';if(Mv[MW(0x239)](MW(0x25e)))Rb+=My+MW(0x4f6)+Mv[MW(0x25e)]+';';if(Mv[MW(0x239)](MW(0x794)))Rb+=My+MW(0xc65)+Mv[MW(0x794)]+';';if(Mv[MW(0x239)](MW(0x9b6)))Rb+=My+MW(0x1b1)+Mv[MW(0x9b6)]+';';if(Mv[MW(0x239)](MW(0x378)))Rb+=My+MW(0x260)+Mv[MW(0x378)]+';';if(Mv[MW(0x239)](MW(0x8ab)))Rb+=My+MW(0x77b)+Mv[MW(0x8ab)]+';';if(Mv[MW(0x239)](MW(0x321)))Rb+=My+MW(0xcbc)+Mv[MW(0x321)]+';';if(Mv[MW(0x239)](MW(0x378)))Rb+=My+MW(0x260)+Mv[MW(0x378)]+';';if(Mv[MW(0x239)](MW(0x6b2)))Rb+=My+MW(0x8af)+Mv[MW(0x6b2)]+';';if(Mv[MW(0x239)](MW(0x24a)))Rb+=My+MW(0x548)+Mv[MW(0x24a)]+';';if(Mv[MW(0x239)](MW(0x86d)))Rb+=My+MW(0x607)+Mv[MW(0x86d)]+';';if(Mv[MW(0x239)](MW(0x654)))Rb+=My+MW(0x946)+Mv[MW(0x847)]+';';if(Mv[MW(0x239)](MW(0xbd8)))Rb+=My+MW(0x840)+Mv[MW(0x9fd)]+';';if(Mv[MW(0x239)](MW(0x6cc)))Rb+=My+MW(0xd05)+Mv[MW(0x89c)]+';';if(Mv[MW(0x239)](MW(0x9c9)))Rb+=My+MW(0x7bd)+Mv[MW(0x936)]+';';if(Mv[MW(0x239)](MW(0x12b)))Rb+=My+MW(0x93b)+Mv[MW(0x598)]+';';if(Mv[MW(0x239)](MW(0x464)))Rb+=My+MW(0xc3a)+Mv[MW(0xb6b)]+';';if(Mv[MW(0x239)](MW(0x143)))Rb+=My+MW(0x32d)+Mv[MW(0x797)]+';';if(Mv[MW(0x239)](MW(0x134)))Rb+=My+MW(0x17e)+Mv[MW(0xc5e)]+';';if(Mv[MW(0x239)](MW(0xc7e)))Rb+=My+MW(0xb59)+Mv[MW(0xcf1)]+';';if(Mv[MW(0x239)](MW(0xcb8)))Rb+=My+MW(0x8b8)+Mv[MW(0x25e)]+';';if(Mv[MW(0x239)](MW(0x99f)))Rb+=My+MW(0x8e8)+Mv[MW(0x4e1)]+';';if(Mv[MW(0x239)](MW(0xac1)))Rb+=My+MW(0x619)+Mv['up']+';';if(Mv[MW(0x239)](MW(0x72f)))Rb+=My+MW(0x8d8)+Mv[MW(0x94b)]+';';if(Mv[MW(0x239)](MW(0x929)))Rb+=My+MW(0x682)+Mv[MW(0x35d)]+';';if(Mv[MW(0x239)](MW(0xb69)))Rb+=My+MW(0xc0d)+Mv[MW(0x4ba)]+';';if(Mv[MW(0x239)](MW(0x154)))Rb+=My+MW(0x138)+Mv[MW(0x154)]+';';if(Mv[MW(0x239)](MW(0xb3c)))Rb+=My+MW(0xa07)+Mv[MW(0xb3c)]+';';if(Mv[MW(0x239)](MW(0x194)))Rb+=My+MW(0x41b)+Mv[MW(0x194)]+';';if(Mv[MW(0x239)](MW(0x78f)))Rb+=My+MW(0x7e2)+Mv[MW(0x78f)]+';';if(Mv[MW(0x239)](MW(0x192)))Rb+=My+MW(0x9c1)+Mv[MW(0x192)]+';';if(Mv[MW(0x239)](MW(0x516)))Rb+=My+MW(0x9e4)+Mv[MW(0x516)]+';';if(Mv[MW(0x239)](MW(0x44f)))Rb+=My+MW(0x902)+Mv[MW(0x44f)]+';';if(Mv[MW(0x239)](MW(0x406)))Rb+=My+MW(0x2dd)+Mv[MW(0x406)]+';';if(Mv[MW(0x239)](MW(0x9dd)))Rb+=My+MW(0x5af)+Mv[MW(0x9dd)]+';';if(Mv[MW(0x239)](MW(0x6e8)))Rb+=My+MW(0x330)+Mv[MW(0x6e8)]+';';if(Mv[MW(0x239)](MW(0xd0e)))Rb+=My+MW(0x312)+Mv[MW(0xd0e)]+';';if(Mv[MW(0x239)](MW(0x58f)))Rb+=My+MW(0xd14)+Mv[MW(0x58f)]+';';if(Mv[MW(0x239)](MW(0x351)))Rb+=My+MW(0xb52)+Mv[MW(0x351)]+';';if(Mv[MW(0x239)](MW(0xd3d)))Rb+=My+MW(0x4cf)+Mv[MW(0xd3d)]+';';}if(Mv[MW(0x835)]===MW(0xaaf)){Rb+=MB+MW(0x1e9);if(Mv[MW(0x239)]('x'))Rb+=My+MW(0x894)+Mv['x']+';';if(Mv[MW(0x239)]('y'))Rb+=My+MW(0x717)+Mv['y']+';';}Mv[MW(0x47f)]&&!Mv[MW(0x835)]&&Mv[MW(0x2c4)]&&(Rb+=MW(0xc5d)+Mv[MW(0x4ad)]+';');if(Mv[MW(0x835)]===MW(0xae2)){MZ=0.5,Mf=0.5;if(Mv[MW(0x239)]('x'))Mq=Mv['x'];if(Mv[MW(0x239)]('y'))Mx=Mv['y'];if(Mv[MW(0x239)](MW(0xc63))&&Mv[MW(0xc63)][MW(0x239)](MW(0x311)))/^\d+$/[MW(0xa66)](Mv[MW(0xc63)][MW(0x311)])?(Mv[MW(0xc63)][MW(0x311)]=Number(Mv[MW(0xc63)][MW(0x311)]),Rb+=MB+MW(0x8f4)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+'\x22,'+Mv[MW(0xc63)][MW(0x311)]+');'):Rb+=MB+MW(0x8f4)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+MW(0xa71)+Mv[MW(0xc63)][MW(0x311)]+MW(0x94a);else Mv[MW(0x239)](MW(0xc63))?Rb+=MB+MW(0x8f4)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+MW(0x94a):Rb+=MB+MW(0x8f4)+Mq+','+Mx+');';}if(Mv[MW(0x835)]===MW(0x674)){if(Mv[MW(0x239)]('x'))Mq=Mv['x'];if(Mv[MW(0x239)]('y'))Mx=Mv['y'];var MN='';Mv[MW(0x239)](MW(0x2da))&&(MN=Mv[MW(0x2da)][MW(0xa43)]()),Rb+=MB+MW(0x684)+Mq+','+Mx+',`'+MN+MW(0x6e5);var MG={};Mv[MW(0x239)](MW(0x6cb))&&(MG[MW(0x123)]=Mv[MW(0x6cb)]),Mv[MW(0x239)](MW(0x418))&&(MG[MW(0x418)]=Mv[MW(0x418)]),Mv[MW(0x239)](MW(0xeb))&&(MG[MW(0xeb)]=Mv[MW(0xeb)]),Mv[MW(0x239)](MW(0x392))?MG[MW(0x1bc)]=Mv[MW(0x392)]:MG[MW(0x1bc)]=MW(0x39c),Mv[MW(0x239)](MW(0xcdf))&&(MG[MW(0xcdf)]=Mv[MW(0xcdf)]),Mv[MW(0x239)](MW(0x317))&&(MG[MW(0x317)]=Mv[MW(0x317)]),Mv[MW(0x239)](MW(0xa72))&&(MG[MW(0xa72)]=Mv[MW(0xa72)]),Mv[MW(0x239)](MW(0x297))&&(MG[MW(0x83e)]=Mv[MW(0x297)]),Mv[MW(0x239)](MW(0x1dc))&&(MG[MW(0x1dc)]=Mv[MW(0x1dc)]),Mv[MW(0x239)](MW(0xa6f))&&(MG[MW(0xa6f)]=Mv[MW(0xa6f)]),Mv[MW(0x239)](MW(0x760))&&(MG[MW(0x760)]=Mv[MW(0x760)]),Mv[MW(0x239)](MW(0x68c))&&(MG[MW(0x68c)]=Mv[MW(0x68c)]),Mv[MW(0x239)](MW(0xabc))&&(MG[MW(0x3de)]=Mv[MW(0xabc)]),Mv[MW(0x239)](MW(0x757))&&(MG[MW(0x65c)]=Mv[MW(0x757)]),Mv[MW(0x239)](MW(0xa4f))&&(MG[MW(0xc61)]=Mv[MW(0xa4f)]),Mv[MW(0x239)](MW(0x24d))&&(MG[MW(0x69b)]=Mv[MW(0x24d)]),Mv[MW(0x239)](MW(0x5f9))&&(MG[MW(0x867)]=Mv[MW(0x5f9)]),Mv[MW(0x239)](MW(0x2b4))&&(MG[MW(0xa91)]=Mv[MW(0x2b4)]);if(Mv[MW(0x239)](MW(0x3e5))){}if(Mv[MW(0x239)](MW(0xd46))){}Rb+=My+MW(0x9ec)+JSON[MW(0x689)](MG)+');';}if(Mv[MW(0x835)]===MW(0x955)){MZ=0.5,Mf=0.5;if(Mv[MW(0x239)]('x'))Mq=Mv['x'];if(Mv[MW(0x239)]('y'))Mx=Mv['y'];Mv[MW(0x239)](MW(0xc63))?Mv[MW(0xc63)][MW(0x239)](MW(0x311))?/^\d+$/[MW(0xa66)](Mv[MW(0xc63)][MW(0x311)])?(Mv[MW(0xc63)][MW(0x311)]=Number(Mv[MW(0xc63)][MW(0x311)]),Rb+=MB+MW(0x373)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+'\x22,'+Mv[MW(0xc63)][MW(0x311)]+');'):Rb+=MB+MW(0x373)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+MW(0xa71)+Mv[MW(0xc63)][MW(0x311)]+MW(0x94a):Rb+=MB+MW(0x373)+Mq+','+Mx+',\x22'+Mv[MW(0xc63)][MW(0x325)]+MW(0x94a):Rb+=MB+MW(0x373)+Mq+','+Mx+');';}if(Mv[MW(0x835)]===MW(0xacb)){MZ=0.5,Mf=0.5;if(Mv[MW(0x239)]('x'))Mq=Mv['x'];if(Mv[MW(0x239)]('y'))Mx=Mv['y'];Rb+=MB+MW(0xcbf);var MF=0x0,Mi=0x0;Mv[MW(0x239)](MW(0x3ab))&&(MF=Mv[MW(0x3ab)]),Mv[MW(0x239)](MW(0x4ca))&&(Mi=Mv[MW(0x4ca)]);if(Mv[MW(0x239)]('x'))Rb+=My+MW(0x894)+Mv['x']+';';if(Mv[MW(0x239)]('y'))Rb+=My+MW(0x717)+Mv['y']+';';if(Mv[MW(0x239)](MW(0x243)))Rb+=My+MW(0x7a7)+Mv[MW(0x243)]+';';if(Mv[MW(0x239)](MW(0x270)))Rb+=My+MW(0x2ed)+Mv[MW(0x270)]+';';var Mr=Mv[MW(0x1e3)]||MW(0x39c),Mt=Mv[MW(0x144)]||MW(0x39c);Mv[MW(0x2bc)]=Mv[MW(0x2bc)]?Mv[MW(0x2bc)]:0x1,Mr==undefined&&(Mr=MW(0x39c)),Mt==undefined&&(Mt=MW(0x39c)),(Mr=Mr[MW(0x10b)]('#','0x'),Mt=Mt[MW(0x10b)]('#','0x')),Mv[MW(0xcd6)]&&(Rb+=My+MW(0x51b)+Mr+MW(0x238)),Mv[MW(0xbba)]&&(Rb+=My+MW(0x456)+Mv[MW(0x2bc)]+','+Mt+');');if(Mv[MW(0xcd6)]||Mv[MW(0xbba)])Rb+=My+MW(0x2cc)+MF+','+Mi+');';if(Mv[MW(0xcd6)])Rb+=My+MW(0x488);}if(Mv[MW(0x835)]===MW(0x807)){MZ=0.5,Mf=0.5;if(Mv[MW(0x239)]('x'))Mq=Mv['x'];if(Mv[MW(0x239)]('y'))Mx=Mv['y'];Rb+=MB+MW(0xcbf);var MF=0x0,Mi=0x0;Mv[MW(0x239)](MW(0x3ab))&&(MF=Mv[MW(0x3ab)]),Mv[MW(0x239)](MW(0x4ca))&&(Mi=Mv[MW(0x4ca)]);if(Mv[MW(0x239)]('x'))Rb+=My+MW(0x894)+Mv['x']+';';if(Mv[MW(0x239)]('y'))Rb+=My+MW(0x717)+Mv['y']+';';if(Mv[MW(0x239)](MW(0x243)))Rb+=My+MW(0x7a7)+Mv[MW(0x243)]+';';if(Mv[MW(0x239)](MW(0x270)))Rb+=My+MW(0x2ed)+Mv[MW(0x270)]+';';var Mr=Mv[MW(0x1e3)]||MW(0x39c),Mt=Mv[MW(0x144)]||MW(0x39c);Mv[MW(0x2bc)]=Mv[MW(0x2bc)]?Mv[MW(0x2bc)]:0x1,Mr==undefined&&(Mr=MW(0x39c)),Mt==undefined&&(Mt=MW(0x39c)),(Mr=Mr[MW(0x10b)]('#','0x'),Mt=Mt[MW(0x10b)]('#','0x')),Mv[MW(0xcd6)]&&(Rb+=My+MW(0x51b)+Mr+MW(0x238)),Mv[MW(0xbba)]&&(Rb+=My+MW(0x456)+Mv[MW(0x2bc)]+','+Mt+');');if(Mv[MW(0xc0a)]){var MC=Mv[MW(0xc0a)][MW(0x200)]('\x20'),MT=[];for(var Mz=0x0;Mz<MC[MW(0x16a)];Mz+=0x2){var Mq=MC[Mz],Mx=MC[Mz+0x1];MT[MW(0x526)](MW(0x609)+Mq+',\x20'+Mx+')');}if(Mv[MW(0xcd6)]||Mv[MW(0xbba)])Rb+=My+MW(0xc48)+JSON[MW(0x689)](MT)[MW(0x711)]('\x22','')+MW(0xb5b);if(Mv[MW(0xcd6)])Rb+=My+MW(0x488);}}if(Mv[MW(0x835)]===MW(0x33c)){MZ=0.5,Mf=0.5;if(Mv[MW(0x239)]('x'))Mq=Mv['x'];if(Mv[MW(0x239)]('y'))Mx=Mv['y'];Rb+=MB+MW(0xcbf);var MF=0x0,Mi=0x0;Mv[MW(0x239)](MW(0x3ab))&&(MF=Mv[MW(0x3ab)]*0.5),Mv[MW(0x239)](MW(0x4ca))&&(Mi=Mv[MW(0x4ca)]*0.5);if(Mv[MW(0x239)]('x'))Rb+=My+MW(0x894)+Mv['x']+';';if(Mv[MW(0x239)]('y'))Rb+=My+MW(0x717)+Mv['y']+';';if(Mv[MW(0x239)](MW(0x243)))Rb+=My+MW(0x7a7)+Mv[MW(0x243)]+';';if(Mv[MW(0x239)](MW(0x270)))Rb+=My+MW(0x2ed)+Mv[MW(0x270)]+';';var Mr=Mv[MW(0x1e3)]||MW(0x39c),Mt=Mv[MW(0x144)]||MW(0x39c);Mv[MW(0x2bc)]=Mv[MW(0x2bc)]?Mv[MW(0x2bc)]:0x1,Mr==undefined&&(Mr=MW(0x39c)),Mt==undefined&&(Mt=MW(0x39c)),Mr=Mr[MW(0x10b)]('#','0x'),Mt=Mt[MW(0x10b)]('#','0x'),Mv[MW(0xcd6)]&&(Rb+=My+MW(0x51b)+Mr+MW(0x238)),Mv[MW(0xbba)]&&(Rb+=My+MW(0x456)+Mv[MW(0x2bc)]+','+Mt+');'),(Mv[MW(0xcd6)]||Mv[MW(0xbba)])&&(Rb+=My+MW(0x71f)+MF+','+Mi+');',Rb+=My+MW(0x488));}if(Mv[MW(0x835)]===MW(0xac5)){MZ=0.5,Mf=0.5;var Mh=0x0,Mm=0x80,Mc=0x40,Mj=0x0,MO=0x80,Mu=0x80;if(Mv[MW(0x239)]('x1'))Mh=Mv['x1'];if(Mv[MW(0x239)]('y1'))Mm=Mv['y1'];if(Mv[MW(0x239)]('x2'))Mc=Mv['x2'];if(Mv[MW(0x239)]('y2'))Mj=Mv['y2'];if(Mv[MW(0x239)]('x3'))MO=Mv['x3'];if(Mv[MW(0x239)]('y3'))Mu=Mv['y3'];var MT=[];MT[MW(0x526)]({'x':Mh,'y':Mm}),MT[MW(0x526)]({'x':Mc,'y':Mj}),MT[MW(0x526)]({'x':MO,'y':Mu});if(Mv[MW(0x239)]('x'))Mq=Mv['x'];if(Mv[MW(0x239)]('y'))Mx=Mv['y'];Rb+=MB+MW(0xcbf);var MF=0x0,Mi=0x0;Mv[MW(0x239)](MW(0x3ab))&&(MF=Mv[MW(0x3ab)]),Mv[MW(0x239)](MW(0x4ca))&&(Mi=Mv[MW(0x4ca)]);if(Mv[MW(0x239)]('x'))Rb+=My+MW(0x894)+Mv['x']+';';if(Mv[MW(0x239)]('y'))Rb+=My+MW(0x717)+Mv['y']+';';if(Mv[MW(0x239)](MW(0x243)))Rb+=My+MW(0x7a7)+Mv[MW(0x243)]+';';if(Mv[MW(0x239)](MW(0x270)))Rb+=My+MW(0x2ed)+Mv[MW(0x270)]+';';var Mr=Mv[MW(0x1e3)]||MW(0x39c),Mt=Mv[MW(0x144)]||MW(0x39c);Mv[MW(0x2bc)]=Mv[MW(0x2bc)]?Mv[MW(0x2bc)]:0x1,Mr==undefined&&(Mr=MW(0x39c)),Mt==undefined&&(Mt=MW(0x39c)),Mr=Mr[MW(0x10b)]('#','0x'),Mt=Mt[MW(0x10b)]('#','0x'),Mv[MW(0xcd6)]&&(Rb+=My+MW(0x51b)+Mr+MW(0x238)),Mv[MW(0xbba)]&&(Rb+=My+MW(0x456)+Mv[MW(0x2bc)]+','+Mt+');'),(Mv[MW(0xcd6)]||Mv[MW(0xbba)])&&(Rb+=My+MW(0x775)+JSON[MW(0x689)](MT)+');',Rb+=My+MW(0x488));}Mv[MW(0x239)](MW(0x2c4))&&(Rb+=My+MW(0x2cf)+Mv[MW(0x2c4)]+'\x22;'),Mv[MW(0x239)](MW(0x2a0))&&(Rb+=My+MW(0x2ed)+Mv[MW(0x2a0)]+';'),Mv[MW(0x239)](MW(0x152))&&(Rb+=My+MW(0xaf6)+Mv[MW(0x152)]+';'),Mv[MW(0x239)](MW(0x677))&&(Mv[MW(0x7ed)]?Rb+=My+MW(0xa1f)+Mv[MW(0x7ed)][MW(0x10b)]('#','0x')+';':Rb+=My+MW(0xa1f)+MW(0xcb4)+';');var MU=0x1,MY=0x1;Mv[MW(0x239)](MW(0x51f))&&(Rb+=My+MW(0x589)+Mv[MW(0x51f)]+';');if(Mv[MW(0x835)]!==MW(0xaaf)){Mv[MW(0x239)](MW(0x53f))&&(MZ=Mv[MW(0x53f)]),Mv[MW(0x239)](MW(0x59c))&&(Mf=Mv[MW(0x59c)]);if(MZ!==![]&&Mf!==![]){if(MZ===Mf){if(MZ!==0x0||Mf!==0x0){Mv[MW(0x239)](MW(0x1b5))&&(MZ=0x1-MZ),Mv[MW(0x239)](MW(0x5c9))&&(Mf=0x1-Mf);if(Mv[MW(0x835)]===MW(0xacb)||Mv[MW(0x835)]===MW(0x33c)||Mv[MW(0x835)]===MW(0xac5)||Mv[MW(0x835)]===MW(0x807)){if(Mv[MW(0x835)]===MW(0xacb)||Mv[MW(0x835)]===MW(0x807)||Mv[MW(0x835)]===MW(0xac5))Rb+=My+(MW(0x426)+0.5+');');else{}}else Rb+=My+(MW(0x855)+MZ+');');}}else{Mv[MW(0x239)](MW(0x1b5))&&(MZ=0x1-MZ),Mv[MW(0x239)](MW(0x5c9))&&(Mf=0x1-Mf);if(Mv[MW(0x835)]===MW(0xacb)||Mv[MW(0x835)]===MW(0x33c)||Mv[MW(0x835)]===MW(0xac5)){if(Mv[MW(0x835)]===MW(0xacb)||Mv[MW(0x835)]===MW(0x807)||Mv[MW(0x835)]===MW(0xac5))Rb+=My+(MW(0x426)+0.5+');');else{}}else Rb+=My+(MW(0x855)+MZ+','+Mf+');');}}}Mv[MW(0x239)](MW(0x40d))&&(MU=Mv[MW(0x40d)]),Mv[MW(0x239)](MW(0x97e))&&(MY=Mv[MW(0x97e)]),Mv[MW(0x1b5)]&&(MU=-MU),Mv[MW(0x5c9)]&&(MY=-MY);if(MU!==![]&&MY!==![]){if(MU===MY){if(MU!==0x1)Rb+=My+(MW(0x2ba)+MU+');');}else Rb+=My+(MW(0x2ba)+MU+','+MY+');');}else Rb+=My+(MW(0x2ba)+MU+','+MY+');');MS&&MS[MW(0xb41)]&&MS[MW(0xb41)][MW(0x16a)]&&MS[MW(0xb41)][MW(0x4ea)](MA=>{var Mo=MW;if(MA[Mo(0x835)]===Mo(0x3c2)){!MA[Mo(0x98f)]&&(MA[Mo(0x98f)]=Mo(0xd40)),!MA[Mo(0x175)]&&(MA[Mo(0x175)]=Mo(0xd40)),!MA[Mo(0xbd4)]&&(MA[Mo(0xbd4)]=Mo(0x49e)),!MA[Mo(0x48f)]&&(MA[Mo(0x48f)]=Mo(0xd40));var MX='';MA[Mo(0x160)]===Mo(0x3f7)&&(MX=MA[Mo(0x4ad)]),MA[Mo(0x160)]===Mo(0xc0b)&&(MX=Mo(0x9f3)+MA[Mo(0x4ad)]);if(MA[Mo(0x8ff)]){}else{}}});if(Mg){}var MI=![];if(Mv[MW(0x712)]&&Mv[MW(0x712)][MW(0x16a)]){var Md=My;Mv[MW(0x712)][MW(0xd25)](MA=>{var Mo=MW;let MX=M2(MA);if(MX)Rb+=Md+Mo(0x5df)+MX+');';});}return Ms;}function M3(MS=[0x0]){var MW=n2,Mv='',Mg=[];MS[MW(0xd25)](MJ=>{var MB=MW,Ms=[];if(MJ&&MJ[MB(0x6d5)]&&MJ[MB(0x6d5)][MB(0x16a)]){for(var My of MJ[MB(0x6d5)]){var Mq=M1[My];Mq&&Ms[MB(0x526)](Mq);}var Mx=MB(0x40b),MZ='',Mf='';MJ[MB(0x160)]===MB(0xc0b)?(Mv+=Mx+'.'+MJ[MB(0x4ad)]+MB(0x3a0),Mf=Mx+'.'+MJ[MB(0x4ad)]+'.',MZ=Mx+'.'+MJ[MB(0x4ad)]):(Mv+=MB(0xa60)+MJ[MB(0x4ad)]+MB(0x3a0),Mf=MJ[MB(0x4ad)]+'.',MZ=MJ[MB(0x4ad)]),Mv+=JSON[MB(0x689)](Ms)[MB(0x711)]('\x22','')+';';}}),Rb+=Mv;}Phaser[n2(0x3d4)][n2(0xa3a)][n2(0x7ba)]=function(){var MS=n2;this[MS(0x62d)]=![],this[MS(0x152)]=![],this[MS(0x217)]=this[MS(0xa3f)],this[MS(0xa3f)]=[];},Phaser[n2(0x3d4)][n2(0xa3a)][n2(0xc99)]=function(){var MS=n2;this[MS(0x62d)]=!![],this[MS(0xa3f)]=this[MS(0x217)]||this[MS(0xa3f)],this[MS(0x152)]=!![];},Phaser[n2(0xae2)][n2(0xa3a)][n2(0x2ff)]=function(MS,MW=0x0,Mv=0x0,Mg=0x0,MJ=0x0){var MB=n2;function Ms(MT){var Mz=Lw;const Mh=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+)\s*\)$/,Mm=MT[Mz(0xc73)](Mh);if(!Mm)throw new Error(Mz(0xa31));const Mc=parseInt(Mm[0x1]),Mj=parseInt(Mm[0x2]),MO=parseInt(Mm[0x3]),Mu=parseFloat(Mm[0x4]);if(Mc<0x0||Mc>0xff||Mj<0x0||Mj>0xff||MO<0x0||MO>0xff||Mu<0x0||Mu>0x1)throw new Error(Mz(0x26e));const MU=Mo=>{var MX=Mz;const MQ=Math[MX(0x996)](Mo)[MX(0x48a)](0x10)[MX(0xa38)](0x2,'0');return MQ;},MY=MU(Mc),MI=MU(Mj),Md=MU(MO),MA=Math[Mz(0x996)](Mu*0xff)[Mz(0x48a)](0x10)[Mz(0xa38)](0x2,'0');return'#'+MY+MI+Md+MA;}function My(MT){var Mz=Lw;const Mh=MT[Mz(0xc73)](/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)/);if(Mh){const Mm=parseInt(Mh[0x1]),Mc=parseInt(Mh[0x2]),Mj=parseInt(Mh[0x3]);if(Mm<0x0||Mm>0xff||Mc<0x0||Mc>0xff||Mj<0x0||Mj>0xff)throw new Error(Mz(0xa59));return Mm<<0x10|Mc<<0x8|Mj;}throw new Error(Mz(0x3b6));}var Mq=this[MB(0xc63)][MB(0x8b2)][MB(0x3ab)],Mx=this[MB(0xc63)][MB(0x8b2)][MB(0x4ca)],MZ=this[MB(0xc63)][MB(0xef)][MB(0x3ab)],Mf=this[MB(0xc63)][MB(0xef)][MB(0x4ca)],MN=this[MB(0x9bb)][MB(0x74e)][MB(0x4da)](Mq,Mx),MG=MN[MB(0xbfe)],MF=this[MB(0x325)];MG[MB(0x283)](this[MB(0x9bb)][MB(0x49c)][MB(0x261)](MS),0x0,0x0);const Mi=MG[MB(0xaa0)](0x0,0x0,MN[MB(0x3ab)],MN[MB(0x4ca)]),Mr=Mi[MB(0x227)],Mt={};for(let MT=0x0;MT<Mr[MB(0x16a)];MT+=0x4*0x6){const Mz=Mr[MT],Mh=Mr[MT+0x1],Mm=Mr[MT+0x2],Mc=Mr[MT+0x3];if(Mc===0x0)continue;if(Mz===0xff&&Mh===0xff&&Mm===0xff)continue;const Mj=MB(0x415)+Mz+','+Mh+','+Mm+','+Mc+')';Mt[Mj]=(Mt[Mj]||0x0)+0x1;}const MC=Object[MB(0xc39)](Mt)[MB(0x7fd)]((MO,Mu)=>Mu[0x1]-MO[0x1]);return My(MC[MB(0xa90)](0x0,0x1)[MB(0xd47)]()[0x0]);},Phaser[n2(0xae2)][n2(0xa3a)][n2(0xa84)]=function(MS=0x0,MW=0x0,Mv=0x0,Mg=0x0){var MJ=n2;function MB(MC){var MT=Lw;const Mz=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+)\s*\)$/,Mh=MC[MT(0xc73)](Mz);if(!Mh)throw new Error(MT(0xa31));const Mm=parseInt(Mh[0x1]),Mc=parseInt(Mh[0x2]),Mj=parseInt(Mh[0x3]),MO=parseFloat(Mh[0x4]);if(Mm<0x0||Mm>0xff||Mc<0x0||Mc>0xff||Mj<0x0||Mj>0xff||MO<0x0||MO>0x1)throw new Error(MT(0x26e));const Mu=MA=>{var Mo=MT;const MX=Math[Mo(0x996)](MA)[Mo(0x48a)](0x10)[Mo(0xa38)](0x2,'0');return MX;},MU=Mu(Mm),MY=Mu(Mc),MI=Mu(Mj),Md=Math[MT(0x996)](MO*0xff)[MT(0x48a)](0x10)[MT(0xa38)](0x2,'0');return'#'+MU+MY+MI+Md;}function Ms(MC){var MT=Lw;const Mz=MC[MT(0xc73)](/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)/);if(Mz){const Mh=parseInt(Mz[0x1]),Mm=parseInt(Mz[0x2]),Mc=parseInt(Mz[0x3]);if(Mh<0x0||Mh>0xff||Mm<0x0||Mm>0xff||Mc<0x0||Mc>0xff)throw new Error(MT(0xa59));return Mh<<0x10|Mm<<0x8|Mc;}throw new Error(MT(0x3b6));}var My=this[MJ(0xc63)][MJ(0x8b2)][MJ(0x3ab)],Mq=this[MJ(0xc63)][MJ(0x8b2)][MJ(0x4ca)],Mx=this[MJ(0xc63)][MJ(0xef)][MJ(0x3ab)],MZ=this[MJ(0xc63)][MJ(0xef)][MJ(0x4ca)],Mf=this[MJ(0x9bb)][MJ(0x74e)][MJ(0x4da)](My,Mq),MN=Mf[MJ(0xbfe)],MG=this[MJ(0x325)];MN[MJ(0x283)](this[MJ(0x9bb)][MJ(0x49c)][MJ(0x261)](this[MJ(0x325)]),MZ>Mq*0xa?0x0+Mq:this[MJ(0xc63)][MJ(0x311)]['x'],MZ>Mq*0xa?MZ*0.5+Mq:this[MJ(0xc63)][MJ(0x311)]['y'],My,Mq,0x0,0x0,My,Mq);const MF=MN[MJ(0xaa0)](0x0,0x0,Mf[MJ(0x3ab)],Mf[MJ(0x4ca)]),Mi=MF[MJ(0x227)],Mr={};for(let MC=0x0;MC<Mi[MJ(0x16a)];MC+=0x4*0x6){const MT=Mi[MC],Mz=Mi[MC+0x1],Mh=Mi[MC+0x2],Mm=Mi[MC+0x3];if(Mm===0x0)continue;const Mc=MJ(0x415)+MT+','+Mz+','+Mh+','+Mm+')';Mr[Mc]=(Mr[Mc]||0x0)+0x1;}const Mt=Object[MJ(0xc39)](Mr)[MJ(0x7fd)]((Mj,MO)=>MO[0x1]-Mj[0x1]);return Ms(Mt[MJ(0xa90)](0x0,0x1)[MJ(0xd47)]()[0x0]);},Phaser[n2(0xae2)][n2(0xa3a)][n2(0x97f)]=function(MS=0x0,MW=0x0,Mv=0x0,Mg=0x0){var MJ=n2;function MB(Mi){var Mr=Lw;const Mt=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+)\s*\)$/,MC=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(Mt[Mr(0xa66)](Mi))return Mr(0x29f);else return MC[Mr(0xa66)](Mi)?Mr(0x6f7):Mr(0x63d);}function Ms(Mi,Mr=0x1){var Mt=Lw;Mi=Mi[Mt(0x10b)](/^#/,'');let MC=parseInt(Mi[Mt(0x610)](0x0,0x2),0x10),MT=parseInt(Mi[Mt(0x610)](0x2,0x4),0x10),Mz=parseInt(Mi[Mt(0x610)](0x4,0x6),0x10);return Mt(0x415)+MC+',\x20'+MT+',\x20'+Mz+',\x20'+Mr+')';}function My(Mi){var Mr=Lw;const Mt=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+)\s*\)$/,MC=Mi[Mr(0xc73)](Mt);if(!MC)throw new Error(Mr(0xa31));const MT=parseInt(MC[0x1]),Mz=parseInt(MC[0x2]),Mh=parseInt(MC[0x3]),Mm=parseFloat(MC[0x4]);if(MT<0x0||MT>0xff||Mz<0x0||Mz>0xff||Mh<0x0||Mh>0xff||Mm<0x0||Mm>0x1)throw new Error(Mr(0x26e));const Mc=MY=>{var MI=Mr;const Md=Math[MI(0x996)](MY)[MI(0x48a)](0x10)[MI(0xa38)](0x2,'0');return Md;},Mj=Mc(MT),MO=Mc(Mz),Mu=Mc(Mh),MU=Math[Mr(0x996)](Mm*0xff)[Mr(0x48a)](0x10)[Mr(0xa38)](0x2,'0');return'#'+Mj+MO+Mu+MU;}var Mq=this[MJ(0xc63)][MJ(0xef)][MJ(0x817)][MJ(0x3ab)],Mx=this[MJ(0xc63)][MJ(0xef)][MJ(0x817)][MJ(0x4ca)],MZ=this[MJ(0x9bb)][MJ(0x74e)][MJ(0x4da)](Mq,Mx),Mf=MZ[MJ(0xbfe)],MN=this[MJ(0x325)];Mf[MJ(0x283)](this[MJ(0x9bb)][MJ(0x49c)][MJ(0x261)](this[MJ(0x325)]),0x0,0x0,Mq,Mx);let MG=Mf[MJ(0x9b5)](0x0,0x0,Mq,0x0);MG[MJ(0x90e)](0x0,Ms(MJ(0x39c),MS)),MG[MJ(0x90e)](0x1,Ms(MJ(0x39c),Mg));let MF=Mf[MJ(0x9b5)](0x0,0x0,0x0,Mx);MF[MJ(0x90e)](0x0,Ms(MJ(0x39c),MW)),MF[MJ(0x90e)](0x1,Ms(MJ(0x39c),Mv)),Mf[MJ(0xa7f)]=MJ(0xcb1),Mf[MJ(0xbee)]=MG,Mf[MJ(0x92b)](0x0,0x0,Mq,Mx),Mf[MJ(0xbee)]=MF,Mf[MJ(0x92b)](0x0,0x0,Mq,Mx),Mf[MJ(0xa7f)]=MJ(0x5b5),this[MJ(0x1fb)](MZ),this[MJ(0x325)]=MN;},Phaser[n2(0xae2)][n2(0xa3a)][n2(0xb70)]=function(MS=![],MW=n2(0x3a1),Mv=n2(0x3a1),Mg=n2(0x3a1),MJ=n2(0x3a1)){var MB=n2;function Ms(Mr){var Mt=Lw;const MC=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+)\s*\)$/,MT=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;if(MC[Mt(0xa66)](Mr))return Mt(0x29f);else return MT[Mt(0xa66)](Mr)?Mt(0x6f7):Mt(0x63d);}function My(Mr,Mt=0x1){var MC=Lw;Mr=Mr[MC(0x10b)](/^#/,'');let MT=parseInt(Mr[MC(0x610)](0x0,0x2),0x10),Mz=parseInt(Mr[MC(0x610)](0x2,0x4),0x10),Mh=parseInt(Mr[MC(0x610)](0x4,0x6),0x10);return MC(0x415)+MT+',\x20'+Mz+',\x20'+Mh+',\x20'+Mt+')';}function Mq(Mr){var Mt=Lw;const MC=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(0|1|0?\.\d+)\s*\)$/,MT=Mr[Mt(0xc73)](MC);if(!MT)throw new Error(Mt(0xa31));const Mz=parseInt(MT[0x1]),Mh=parseInt(MT[0x2]),Mm=parseInt(MT[0x3]),Mc=parseFloat(MT[0x4]);if(Mz<0x0||Mz>0xff||Mh<0x0||Mh>0xff||Mm<0x0||Mm>0xff||Mc<0x0||Mc>0x1)throw new Error(Mt(0x26e));const Mj=MI=>{var Md=Mt;const MA=Math[Md(0x996)](MI)[Md(0x48a)](0x10)[Md(0xa38)](0x2,'0');return MA;},MO=Mj(Mz),Mu=Mj(Mh),MU=Mj(Mm),MY=Math[Mt(0x996)](Mc*0xff)[Mt(0x48a)](0x10)[Mt(0xa38)](0x2,'0');return'#'+MO+Mu+MU+MY;}Ms(MW)===MB(0x29f)&&(MW=Mq(MW)),Ms(Mv)===MB(0x29f)&&(Mv=Mq(Mv)),Ms(Mg)===MB(0x29f)&&(Mg=Mq(Mg)),Ms(MJ)===MB(0x29f)&&(MJ=Mq(MJ));var Mx=this[MB(0xc63)][MB(0xef)][MB(0x817)][MB(0x3ab)],MZ=this[MB(0xc63)][MB(0xef)][MB(0x817)][MB(0x4ca)],Mf=this[MB(0x9bb)][MB(0x74e)][MB(0x4da)](Mx,MZ),MN=Mf[MB(0xbfe)],MG=this[MB(0x325)];MN[MB(0x283)](this[MB(0x9bb)][MB(0x49c)][MB(0x261)](this[MB(0x325)]),0x0,0x0,Mx,MZ);let MF=MN[MB(0x9b5)](0x0,0x0,Mx,0x0);MF[MB(0x90e)](0x0,My(MW,0x1)),MF[MB(0x90e)](0x1,My(MJ,0x0));let Mi=MN[MB(0x9b5)](0x0,0x0,0x0,MZ);Mi[MB(0x90e)](0x0,My(Mv,0x1)),Mi[MB(0x90e)](0x1,My(Mg,0x0)),MN[MB(0xbee)]=MF,MN[MB(0x92b)](0x0,0x0,Mx,MZ),MN[MB(0xbee)]=Mi,MN[MB(0x92b)](0x0,0x0,Mx,MZ),MN[MB(0xa7f)]=MB(0xb15);if(MS!==![]){const Mr=MS;MN[MB(0xbee)]=Mr,MN[MB(0x92b)](0x0,0x0,Mx,MZ);}MN[MB(0xa7f)]=MB(0x5b5),this[MB(0x1fb)](Mf),this[MB(0x325)]=MG;},Phaser[n2(0x357)][n2(0xa3a)][n2(0xa6e)]=function(MS,MW,Mv,Mg){var MJ=n2,MB=new Phaser[(MJ(0xae2))](this[MJ(0x9bb)],MS,MW,Mv,Mg);return MB[MJ(0x2b7)]=Mv,MB[MJ(0xc87)]=Mg,MB;},Phaser[n2(0x357)][n2(0xa3a)][n2(0x46a)]=function(MS,MW,Mv,Mg){var MJ=n2,MB=new Phaser[(MJ(0x955))](this[MJ(0x9bb)],MS,MW,Mv,Mg);return MB[MJ(0x2b7)]=Mv,MB[MJ(0xc87)]=Mg,MB;};function M4(MS,MW){var Mv=n2,Mg=Me[Mv(0x49c)][Mv(0x5a7)](MS[Mv(0x744)])[Mv(0xb48)][Mv(0x9be)](MF=>MF[Mv(0x7e1)]==MS[Mv(0xbfb)]),MJ=Me[Mv(0x49c)][Mv(0x5a7)](MW[Mv(0x744)])[Mv(0xb48)][Mv(0x9be)](MF=>MF[Mv(0x7e1)]==MW[Mv(0xbfb)]),MB=Me[Mv(0x74e)][Mv(0x4da)](Mg[Mv(0x3ab)],Mg[Mv(0x4ca)]);MB[Mv(0x6b3)]();var Ms=MB[Mv(0xbfe)],My={'x':Mg[Mv(0x3ab)]*0.00168,'y':Mg[Mv(0x3ab)]*0.00168};MJ[Mv(0x3ab)]+MJ[Mv(0x4ca)]<0x2bc&&(My={'x':Mg[Mv(0x3ab)]*0.001,'y':Mg[Mv(0x3ab)]*0.001});var Mq={'x':0.5,'y':0.5},Mx={'x':0.5,'y':0.5},MZ=Me[Mv(0x49c)][Mv(0x261)](MW[Mv(0x744)]),Mf=Me[Mv(0x49c)][Mv(0x261)](MS[Mv(0x744)]);Ms[Mv(0xca3)]();let MN=Mf[Mv(0x3ab)]*Mx['x'],MG=Mf[Mv(0x4ca)]*Mx['y'];return Ms[Mv(0x283)](Me[Mv(0x49c)][Mv(0x261)](MW[Mv(0x744)]),MJ['x'],MJ['y'],MJ[Mv(0x3ab)]*0x1,MJ[Mv(0x4ca)]*0x1,Mg[Mv(0x3ab)]*Mx['x']-MJ[Mv(0x3ab)]*My['x']*Mq['x'],Mg[Mv(0x4ca)]*Mx['y']-MJ[Mv(0x4ca)]*My['x']*Mq['y'],MJ[Mv(0x3ab)]*My['x']*0x1,MJ[Mv(0x4ca)]*My['y']*0x1),Ms[Mv(0x14d)](),Ms[Mv(0xa7f)]=Mv(0xcb1),Ms[Mv(0x283)](Me[Mv(0x49c)][Mv(0x261)](MS[Mv(0x744)]),Mg['x'],Mg['y'],Mg[Mv(0x3ab)]*0x1,Mg[Mv(0x4ca)]*0x1,0x0,0x0,Mg[Mv(0x3ab)],Mg[Mv(0x4ca)]),Ms[Mv(0xa7f)]=Mv(0x5b5),MB;}Phaser[n2(0x89b)][n2(0xa3a)][n2(0x8a3)]=function(){var MS=n2;if(!this[MS(0x152)]||!this[MS(0x62d)])return;return!!(this[MS(0x203)]()&&this[MS(0x284)]()&&this[MS(0x453)]())&&this[MS(0x980)]();},Phaser[n2(0xae2)][n2(0xa3a)][n2(0x8a3)]=function(){var MS=n2;if(!this[MS(0x152)]||!this[MS(0x62d)])return;return!(!this[MS(0x453)]()||!this[MS(0x284)]())&&this[MS(0x980)]();},Phaser[n2(0x674)][n2(0xa3a)][n2(0x8a3)]=function(){var MS=n2;if(!this[MS(0x152)]||!this[MS(0x62d)])return;return!!(this[MS(0x203)]()&&this[MS(0x284)]()&&this[MS(0x453)]())&&this[MS(0x980)]();},Phaser[n2(0x955)][n2(0xa3a)][n2(0x8a3)]=function(){var MS=n2;if(!this[MS(0x152)]||!this[MS(0x62d)])return;return!!(this[MS(0x203)]()&&this[MS(0x284)]()&&this[MS(0x453)]())&&this[MS(0x980)]();},Phaser[n2(0x3d4)][n2(0xa3a)][n2(0x8a3)]=function(){var MS=n2;if(this[MS(0xc98)])return this[MS(0x187)](),!0x1;if(!this[MS(0x62d)]||!this[MS(0xc02)][MS(0x62d)])return!(this[MS(0x896)]=-0x1);if(!this[MS(0x152)])return!0x0;for(var MW=0x0;MW<this[MS(0xa3f)][MS(0x16a)];){var Mv=this[MS(0xa3f)][MW];this===Mv[MS(0xc02)]&&MW++;if(Mv[MS(0x239)](MS(0x152))&&!Mv[MS(0x152)]||!this[MS(0x62d)])continue;Mv[MS(0x8a3)]();}return!0x0;},Phaser[n2(0x3d4)][n2(0xa3a)][n2(0x4b1)]=function(){var MS=n2;if(!this[MS(0x152)]||!this[MS(0x62d)])return;for(var MW=this[MS(0xa3f)][MS(0x16a)];MW--;){var Mv=this[MS(0xa3f)][MS(0x16a)];Mv<=MW&&(MW=Mv-0x1);var Mg=this[MS(0xa3f)][MW];if(Mg&&Mg[MS(0x239)](MS(0x152))&&!Mg[MS(0x152)])continue;this[MS(0x1d7)]&&!Mg[MS(0x62d)]||Mg[MS(0x4b1)]();}},Phaser[n2(0x89b)][n2(0xa3a)][n2(0x288)]=function(){},Phaser[n2(0xae2)][n2(0xa3a)][n2(0x288)]=function(){};function M5(){var MS=n2;this[MS(0xbb8)]={},this[MS(0xb79)]={},this[MS(0x47d)]=[],this[MS(0x688)]=![],this[MS(0x615)]={},this[MS(0xbeb)]=function(MW){if(MW===0x0)return 0x1;return 0x0;},this[MS(0xae9)]=![];}M5[n2(0xa3a)]={'constructor':M5},M5[n2(0xa3a)][n2(0xa4e)]=async function(MS,MW=function(){}){var Mv=n2,Mg=![];if(nu&&nu[Mv(0xd3e)]){MS&&MS[Mv(0xc77)]&&this[Mv(0x615)][MS[Mv(0xc77)]]&&(Mg=this[Mv(0x615)][MS[Mv(0xc77)]],MW(Mg)),no=!![];if(Mg==![])nu[Mv(0x353)](Mv(0x234),MS,MJ);var MJ=MB=>{var Ms=Mv;MB&&(MB&&MB[Ms(0xc77)]&&MW(this[Ms(0x615)][MB[Ms(0xc77)]]=MB));};}},M5[n2(0xa3a)][n2(0x16a)]=function(){var MS=n2;return this[MS(0x47d)][MS(0x16a)];},M5[n2(0xa3a)][n2(0x1b4)]=function(MS){var MW=n2;return this[MW(0xbb8)]=MS;},M5[n2(0xa3a)][n2(0x234)]=function(){var MS=n2;return{...this[MS(0xbb8)]};},M5[n2(0xa3a)][n2(0x602)]=function(MS){var MW=n2;return this[MW(0xbb8)]={...this[MW(0xbb8)],...MS},{...this[MW(0xbb8)]};},M5[n2(0xa3a)][n2(0xa27)]=function(MS){var MW=n2;return this[MW(0xb79)]=MS;},M5[n2(0xa3a)][n2(0x997)]=function(){var MS=n2;return this[MS(0xb79)]={},!![];},M5[n2(0xa3a)][n2(0x565)]=function(){var MS=n2;return{...this[MS(0xb79)]};},M5[n2(0xa3a)][n2(0x26c)]=function(MS){var MW=n2;return this[MW(0xb79)]={...this[MW(0xb79)],...MS},{...this[MW(0xb79)]};},M5[n2(0xa3a)][n2(0x26a)]=function(MS){var MW=n2;this[MW(0xae9)]=0x0;if(this[MW(0x688)]==![]){this[MW(0x688)]=!![];var Mv=this[MW(0xb51)](MS);return Mv[MW(0xa8c)]=0x0,Mv&&(Mv&&Mv[MW(0xc77)]&&(this[MW(0x615)][MS[MW(0xc77)]]=Mv)),Mv;}else{if(this[MW(0x688)]===!![])return this[MW(0x4b1)](this[MW(0x47d)][0x0],MS);}},M5[n2(0xa3a)][n2(0xb51)]=function(MS){var MW=n2;if(this[MW(0x47d)][MW(0x16a)]===0x1)MS[MW(0xa8c)]=0x1;var Mv=this[MW(0x47d)][MW(0x526)](MS);return Mv&&(Mv&&Mv[MW(0xc77)]&&(this[MW(0x615)][MS[MW(0xc77)]]=Mv)),this[MW(0x47d)][this[MW(0x47d)][MW(0x16a)]-0x1];},M5[n2(0xa3a)][n2(0x6b3)]=function(){var MS=n2;return this[MS(0x688)]=![],this[MS(0xae9)]=![],this[MS(0x47d)]=[],this[MS(0x47d)];},M5[n2(0xa3a)][n2(0x487)]=function(){var MS=n2;this[MS(0x615)]={};},M5[n2(0xa3a)][n2(0xce2)]=function(MS){var MW=n2;if(MS&&MS[MW(0x239)](MW(0xc77))&&this[MW(0x615)][MS[MW(0xc77)]]){var Mv={...this[MW(0x615)][MS[MW(0xc77)]]};return delete this[MW(0x615)][MS[MW(0xc77)]],Mv;}else return![];},M5[n2(0xa3a)][n2(0xba3)]=function(MS){var MW=n2;if(MS&&MS[MW(0x239)](MW(0xa8c))&&this[MW(0x47d)][MS[MW(0xa8c)]]){if(MS[MW(0xa8c)]>0x1)this[MW(0xae9)]=0x0;return this[MW(0x47d)][MW(0x20a)](MS[MW(0xa8c)],0x1);}else return![];},M5[n2(0xa3a)][n2(0x4b1)]=function(MS,MW){var Mv=n2;return MS&&MS[Mv(0x239)](Mv(0xa8c))&&this[Mv(0x47d)][MS[Mv(0xa8c)]]?(MS&&(MS&&MS[Mv(0xc77)]&&(this[Mv(0x615)][MW[Mv(0xc77)]]=MW)),this[Mv(0x47d)][MS[Mv(0xa8c)]]=MW):![];},M5[n2(0xa3a)][n2(0x8f2)]=function(MS=![]){var MW=n2;return!isNaN(MS)&&MS!==![]&&MS!==!![]&&this[MW(0x47d)][MS]?this[MW(0x47d)][MW(0x20a)](MS,0x1):![];},M5[n2(0xa3a)][n2(0x64b)]=function(MS=![]){var MW=n2;return!isNaN(MS)&&MS!==![]&&MS!==!![]&&this[MW(0x47d)][MS]?this[MW(0x47d)][MS]:![];},M5[n2(0xa3a)][n2(0xa39)]=function(MS,MW){var Mv=n2,Mg=![];return this[Mv(0x47d)][Mv(0x4ea)]((MJ,MB)=>{var Ms=Mv;MJ&&MJ[Ms(0x239)](MS)&&(Mg=MJ);}),Mg!==![]?Mg:![];},M5[n2(0xa3a)][n2(0xb82)]=function(MS=this[n2(0xae9)]){var MW=n2;if(this[MW(0x47d)][MW(0x16a)]<=0x1)return![];if(this[MW(0xae9)]!==0x0&&this[MW(0xae9)]!==0x1||MS!==0x0&&MS!==0x1)return![];return this[MW(0x47d)][this[MW(0xbeb)](MS)],player&&MS&&this[MW(0x47d)][MS]?this[MW(0x47d)][MS]:![];};const M6=new M5();var M7=Ef['x'],M8=Ef['y'],M9=Phaser[n2(0xab2)];if(Df){}var Me,Mn={'enableDebug':![],'width':M7,'height':M8,'renderer':M9,'antialias':!![],'forceSingleRender':!![],'forceSingleUpdate':!![],'forceSetTimeOut':!!![],'mspointer':![],'transparent':!![],'disableVisibilityChange':!![],'parent':document[n2(0xa96)](n2(0x38a))},Mp={'enableDebug':![],'width':M7,'height':M8,'renderer':M9,'transparent':!![],'antialias':!![],'forceSingleUpdate':!![],'forceSetTimeOut':!!![],'mspointer':![],'disableVisibilityChange':!![],'parent':document[n2(0xa96)](n2(0x38a))},MD=function(MS,MW=![]){var Mv=n2,Mg={'uid':Mv(0xbbe),'displayName':Mv(0x30c),'photoURL':Mv(0xcf8),'email':Mv(0x8cc),'phoneNumber':null,'providerId':Mv(0x127),'id':Mv(0x280),'country':getCountry(),'emailVerified':!![],'token':nj[Mv(0x168)]['id']};try{if(window[MD[Mv(0x7e1)]])return;}catch(MJ){}MW&&(MS=Mg),document[Mv(0x958)](Mv(0xd3c))[Mv(0x228)][Mv(0x27a)]=Mv(0x4e1);if(!MS)return;na(nG()[Mv(0x470)](),function(){var MB=Mv;nA(),no=!![],nu[MB(0x353)](MB(0x7a5),MW?Mg:{...MS[MB(0xb8e)][0x0],'country':getCountry(),'id':MS[MB(0xc77)],'emailVerified':MS[MB(0x48e)],'token':nj[MB(0x168)]['id']},Ms=>{var My=MB;Ms=Dv(Ms);if(Ms[My(0x29a)]===0x1){if(document[My(0x958)](My(0x5ff)))document[My(0x958)](My(0x5ff))[My(0x228)][My(0x27a)]='';return;}else{if(Ms[My(0x2b6)]===0x1){if(document[My(0x958)](My(0x8b1)))document[My(0x958)](My(0x8b1))[My(0x228)][My(0x27a)]='';return;}else{if(Ms[My(0xa20)]===!![]){if(document[My(0x958)](My(0x8b1)))document[My(0x958)](My(0x8b1))[My(0x978)]=My(0x276);if(document[My(0x958)](My(0x8b1)))document[My(0x958)](My(0x8b1))[My(0x228)][My(0x27a)]='';return;}else{var Mq=['ms',My(0xade),My(0x99a),'o'];window[My(0x7c3)]=function(MA,Mo){var MX=My,MQ=new Date()[MX(0x470)](),Ma=Math[MX(0x483)](0x0,16.75-(MQ-Mc)),MK=window[MX(0x248)](function(){MA(MQ+Ma);},Ma);return Mc=MQ+Ma,MK;};var Mx=null,MZ=![],Mf=0x0;function MT(){!MZ&&(MZ=!![],clearInterval(Mx),Mx=setInterval(()=>Mu(0xa),0x3e8/0x3c));}function Mz(){var MA=My;Mf=performance[MA(0xb21)](),!Mc&&(Mc=Mf);var Mo=(Mf-Mc)/(0x3e8/0x3c);Mc=Mf,Mx=setTimeout(MN[displayMethod],0x3e8/0x3c),Mu(0xa*Mo);}function Mh(){requestAnimationFrame(MN[displayMethod]),Mu(0xa);}function Mm(MA){requestAnimationFrame(MN[displayMethod]),!MA&&(MA=0x0),!Mc&&(Mc=MA);var Mo=(MA-Mc)/(0x3e8/0x3c);Mu(0xa*Mo),Mc=MA;}displayMethod=0x0;var MN=[Mz,Mh,MT,Mm],MG=![];let Mc=performance[My(0xb21)](),Mj=Mc,MO=0xbb8;var MF=0x0,MF=0x0;function Mu(){var MA=My;let Mo=performance[MA(0xb21)]();MF=Mo-Mc,MY(Date[MA(0xb21)]()-MF),requestAnimationFrame(Mu),Mc=Mo;}function MU(){var MA=My;let Mo=performance[MA(0xb21)]();elapsed2=Mo-Mj,Math[MA(0x836)](Mo-Mc)>0x15&&MY(Date[MA(0xb21)]()-elapsed2),Mj=Mo;}var Mi=0x0,Mr=document[My(0x53e)];function MY(MA){var Mo=My;Mi++,document[Mo(0x53e)]=Mo(0x9fe)+(Mi<=0xf?'':'.'),Mi=Mi%0x1e;return;Me[Mo(0x4b1)](Math[Mo(0x665)](MA)),Me[Mo(0xbc6)]();}function MI(){}function Md(){var MA=My,Mo=performance[MA(0xb21)]();if(Mo-MC>=0xbb8){}else Me[MA(0xbc6)]();}var Mt=0x0,MC=performance[My(0xb21)]();Me=new Phaser[(My(0xb23))](Mn),Me[My(0x4a9)]=Ms[My(0xc77)],Me[My(0x7f4)]=![],Me[My(0xac4)]=![],Me[My(0x49b)]=function(){var MA=My;if(Me[MA(0x78c)])return Me[MA(0x7f4)]=!Me[MA(0x7f4)],Me[MA(0x7f4)]?mediaRecorder[MA(0xc0c)]():Me[MA(0xc01)](),Me[MA(0x7f4)];},Me[My(0xbff)]=function(MA=0x3c){var Mo=My;Me[Mo(0x7f4)]=![],Me[Mo(0x78c)]&&(Me[Mo(0x78c)][Mo(0x256)](),Me[Mo(0x78c)][Mo(0x741)]=[]);const MX=new MediaStream(),MQ=Me[Mo(0x5e2)][Mo(0x655)](0x1e),Ma=Me[Mo(0x7f1)][Mo(0xa8f)],MK=Ma[Mo(0xb24)]();MQ[Mo(0xd1e)]()[Mo(0xd25)](Ml=>MX[Mo(0x640)](Ml)),Me[Mo(0x7f1)][Mo(0x272)][Mo(0x5ab)](MK),MK[Mo(0x728)][Mo(0xd1e)]()[Mo(0xd25)](Ml=>MX[Mo(0x640)](Ml)),Me[Mo(0x78c)]=new MediaRecorder(MX,{'mimeType':Mo(0x19f)}),Me[Mo(0x78c)][Mo(0x60a)]=!![],Me[Mo(0x78c)][Mo(0x741)]=[],Me[Mo(0x78c)][Mo(0xba9)]=Ml=>{var MV=Mo;Ml[MV(0x227)][MV(0x8a6)]>0x0&&!Me[MV(0x7f4)]&&Me[MV(0x78c)][MV(0x741)][MV(0x526)](Ml[MV(0x227)]);},Me[Mo(0x78c)][Mo(0x762)](),ER[Mo(0x182)][Mo(0xa5d)][Mo(0xf0)]=Me[Mo(0xb51)][Mo(0x2b1)](ER[Mo(0x182)][Mo(0xa5d)])['to']({'alpha':[0.5,0x1]},0xfa,Phaser[Mo(0x19c)][Mo(0xb78)][Mo(0x793)],!![]),ER[Mo(0x182)][Mo(0xa5d)][Mo(0xf0)][Mo(0xa82)](),ER[Mo(0x182)][Mo(0xa5d)][Mo(0xf0)][Mo(0x36d)](-0x1);},Me[My(0xc0c)]=function(){var MA=My;ER[MA(0x182)][MA(0xa5d)][MA(0x2a0)]=0x1,ER[MA(0x182)][MA(0xa5d)][MA(0xf0)]&&ER[MA(0x182)][MA(0xa5d)][MA(0xf0)][MA(0x256)](),Me[MA(0x78c)]&&(Me[MA(0x78c)][MA(0x60a)]=!!![],Me[MA(0x78c)][MA(0x7f5)]());},Me[My(0xc01)]=function(){var MA=My;Me[MA(0x78c)]&&(Me[MA(0x78c)][MA(0x60a)]=!![],Me[MA(0x78c)][MA(0x74c)]()),ER[MA(0x182)][MA(0xa5d)][MA(0xf0)]=Me[MA(0xb51)][MA(0x2b1)](ER[MA(0x182)][MA(0xa5d)])['to']({'alpha':[0.5,0x1]},0xfa,Phaser[MA(0x19c)][MA(0xb78)][MA(0x793)],!![]),ER[MA(0x182)][MA(0xa5d)][MA(0xf0)][MA(0xa82)](),ER[MA(0x182)][MA(0xa5d)][MA(0xf0)][MA(0x36d)](-0x1);},Me[My(0xa93)]=function(MA=!![]){var Mo=My;Me[Mo(0x78c)][Mo(0x60a)]=!!![],ER[Mo(0x182)][Mo(0xa5d)][Mo(0xf0)]&&ER[Mo(0x182)][Mo(0xa5d)][Mo(0xf0)][Mo(0x256)](),ER[Mo(0x182)][Mo(0xa5d)][Mo(0x2a0)]=0x1,Me[Mo(0x78c)][Mo(0x256)](),setTimeout(()=>{var MX=Mo;const MQ=new Blob(Me[MX(0x78c)][MX(0x741)],{'type':MX(0x5fe)});if(MA){const Ma=URL[MX(0x15b)](MQ),MK=document[MX(0x174)]('a');MK[MX(0xd0b)]=Ma,MK[MX(0x7d9)]=MX(0x21a)+Date[MX(0xb21)]()+MX(0x2f2),MK[MX(0x826)](),URL[MX(0x15e)](Ma);}},0x0);},Me[My(0x5e8)][My(0xb51)](My(0x30e),E9),Me[My(0x5e8)][My(0xb51)](My(0x40c),EI),Me[My(0x5e8)][My(0xb51)](My(0x54b),Ev),Me[My(0x5e8)][My(0x762)](My(0x30e)),Rk=setInterval(()=>{var MA=My;no=!![],nu[MA(0x353)](MA(0x843),{'user_id':Me[MA(0x4a9)],'token':nj[MA(0x168)]['id']},()=>{});},0xbb8);}}}M6[My(0x1b4)]({...Ms,'cues':[]}),M6[My(0x25f)]={'daily':[],'weelk':[],'alltime':[]};});}),document[Mv(0x8e9)][Mv(0x228)][Mv(0x119)]=Mv(0x438),document[Mv(0x4b4)][Mv(0x6d7)]='no',MP();};!Df&&(document[n2(0xab8)](n2(0x425),function(MS){var MW=n2;MS[MW(0x18d)]();}),document[n2(0xab8)](n2(0x399),function(MS){var MW=n2;MS[MW(0x18d)]();}));if(DZ)var ML=MS=>{var MW=n2;if(MS&&MS[MW(0xbd5)]===null&&(EE&&ER&&ER[MW(0xb1c)]&&ER[MW(0xb1c)][MW(0x695)][MW(0x152)]&&(EE[MW(0xae7)]||El&&El[MW(0x734)]))){if(EE[MW(0x6b0)][MW(0x81d)]===!![]&&EV===0x0){}else{if(ER&&ER[MW(0xb1c)][MW(0x13d)]&&ER[MW(0xb1c)][MW(0x13d)][MW(0x152)]==![]){var Mv=ER?.[MW(0xb1c)]?.[MW(0x545)]?.[MW(0x212)]||0x2;if(Mv%0x2===0x1){}else{}if(ER[MW(0xb1c)][MW(0x13d)]&&ER[MW(0xb1c)][MW(0x13d)][MW(0x120)]&&ER[MW(0xb1c)][MW(0xcf0)][MW(0x152)]!==!![])ER[MW(0xb1c)][MW(0x13d)][MW(0x120)]();}}}},ME=function(){var MS=n2;if(ER&&ER[MS(0xb1c)]&&ER[MS(0xb1c)][MS(0x695)][MS(0x152)]&&(EE[MS(0xae7)]||El&&El[MS(0x734)])){if(ER[MS(0xb1c)][MS(0x13d)]&&ER[MS(0xb1c)][MS(0x13d)][MS(0x120)]&&ER[MS(0xb1c)][MS(0xcf0)][MS(0x152)]!==!![])ER[MS(0xb1c)][MS(0x13d)][MS(0x120)]();}},MR=MS=>{ML(MS);},MM=MS=>{var MW=n2;(MS===0x1||document[MW(0x438)])&&(tableGroup&&ER&&EE&&EE[MW(0x61f)]&&EE[MW(0x84a)]&&(tableGroup['x']=EE[MW(0x84a)]['x'],tableGroup['y']=EE[MW(0x84a)]['y'],ER&&ER[MW(0xb1c)][MW(0x695)]&&ER[MW(0xb1c)][MW(0x695)][MW(0x152)]&&ER[MW(0xb1c)][MW(0x542)]()));};window[n2(0xab8)](n2(0x7a9),function(MS){var MW=n2;MS[MW(0x18d)]();});function MP(){var MS=n2;if(Me===null)return;try{Me[MS(0x7f1)][MS(0xa8f)][MS(0x5e8)]!==MS(0x979)&&Me[MS(0x7f1)][MS(0xa8f)][MS(0x74c)]();}catch(MW){}}window[n2(0xab8)](n2(0x4d3),function(){MP();},![]),window[n2(0xab8)](n2(0xbdc),function(MS){var MW=n2;return MS[MW(0x18d)](),![];}),window[n2(0xab8)](n2(0x23e),function(MS){var MW=n2;return MS[MW(0x18d)](),![];}),window[n2(0xab8)](n2(0xac7),function(MS){var MW=n2;return MS[MW(0x18d)](),![];}),window[n2(0x722)]=function(){setTimeout(function(){var MS=Lw;window[MS(0x78e)](0x0,0x1);},0x12c);},window[n2(0xab8)](n2(0x327),function(){var MS=n2;no=!![];if(nu&&nu[MS(0xd3e)])nu[MS(0x353)](MS(0xc7b));});})()}())